<!DOCTYPE html>
<html lang="de">

<head>
    <title>Profi-Auflösung für MPS 801</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="Tommy Frandsen, ah">
    <meta name="64er.issue" content="2/86">
    <meta name="64er.pages" content="59-63">
    <meta name="64er.head1" content="Grafik">
    <meta name="64er.head2" content="C 64">
    <meta name="64er.toc_title" content="<b>Grafik: 640x400 Punkte: Profi-Auflösung für den MPS 801</b>">
    <meta name="64er.toc_category" content="Listings zum Abtippen">
    <meta name="64er.index_title" content="Profi-Auflösung für den MPS 801">
    <meta name="64er.index_category" content="Listings zum Abtippen|Drucker Grafik">
    <meta name="64er.id" content="mps801">
</head>

<body>
    <article>
        <h1>Profi-Auflösung für MPS 801</h1>
        <p class="intro">Eine Auflösung von 640 x 400 Punkten eröffnet sich den Besitzern eines C 64 und MPS 801-Druckers.</p>

        <p>Mit einer einfachen Basic-Erweiterung »MPS-Support« (Listing 1) lassen sich problemlos Grafiken mit einer Auflösung von 640 x 400 Punkten erzeugen. Zum Arbeiten mit diesem Programm wird keine weitere Hard- oder Software benötigt. MPS-Support ermöglicht die Darstellung einer hochauflösenden Grafik, die um den Faktor vier höher ist, als die normale Auflösung von 200 x 320. Diese Steigerung wird dadurch erreicht, daß der Bildschirm in alle vier Richtungen gescrollt werden kann. Außerdem besteht die Möglichkeit, die komplette Grafik, also 640 mal 400 Bildpunkte, auf einem Bildschirm darzustellen. Neben den normalen Grafik-Befehlen existieren auch Befehle, mit denen sich vom Basic aus Bilder in drei Dimensionen zeichnen lassen.</p>

        <p>Ist MPS-Support mit dem MSE eingegeben und gespeichert, kann es mit LOAD »name«, 8 beziehungsweise LOAD »name« (von Datasette) geladen und durch den Befehl RUN gestartet werden. Zur Programmierhilfe wird nach dem Start eine kurze Liste der 21 neuen Befehle ausgegeben. Unter MPS-Support sind noch trotz des großen Speicherbedarfs von immerhin 45 KByte noch 14079 Byte frei für Ihre Basic-Programme. Dies sollte für die meisten Anwendungen mehr als ausreichend sein.</p>

        <p>Alle neuen Basic-Befehle werden durch den Pfeil nach links (—) gekennzeichnet. Sie können wie die normalen Basic-Befehle angewendet, und sowohl im Programm- wie aber auch im Direktmodus eingesetzt werden. Es istjedoch zu beachten, daß zwischen dem Basic-Befehl THEN und einem der neuen Grafik-Befehle ein Doppelpunkt einzugeben ist. Also nicht<br>
            IFA=0THEN←UPDATE<br>
            sondern<br>
            IFA=0THEN:←UPDATE</p>

        <p>Der Bildschirm ist so organisiert, daß sich die Koordinaten (0,0) in der linken oberen Ecke befinden. Die X-Werte dürfen zwischen 0 und 639 und die Y-Werte zwischen 0 und 399 liegen (Bild 1). Auf dem Bildschirm sieht man einen Ausschnitt von 320 mal 200 Bildpunkten. Die Lage dieses »Fensters« kann mit entsprechenden Befehlen der Funktionstasten beliebig im Bild positioniert werden. Möchte man sich nur einen Überblick über das Gesamtbild verschaffen, so läßt sich dieses Gesamtbild auch verkleinert auf 320 mal 200 Punkten darstellen. Einige Befehle benötigen zur Eingabe nicht eine Punktkoordinate, sondern die entsprechende Zeichenposition. Dabei wird das Bild in 80 mal 50 Quadrate aufgeteilt. Jedes Quadrat besteht aus 8 mal 8 Bildpunkten, also einem Zeichen (Bild 2).</p>

        <p>Bei allen Befehlen springt das Programm in eine Fehlerbehandlungs-Routine. Liegen die eingegebenen Werte nicht im angegebenen Bereich, wird ein »illegal quantity error« ausgegeben.</p>

        <p>Die einzelnen Befehle in einer Übersicht:<br>
            <strong>←GRAPHIC</strong>: Einschalten der Grafik. Es ist ein Ausschnitt von 320 mal 200 Bildpunkten sichtbar.<br>
            <strong>←TEXT</strong>: Schaltet in den Textmodus zurück.<br>
            <strong>←WINDOW</strong>: Setzt ein Bildschirmfenster (320 mal 200 Bildpunkte) an die Position (A,B), bezogen auf die Gesamtgrafik. (A,B) ist die Zeichenposition der linken oberen Fensterecke. Beim Startvon »MPS-Support« istdie Position (0,0). (Wertebereich von A 0&lt;=A&lt;=40; Wertebereich von B 0&lt;=B&lt;025.)<br>
            <strong>←UPDATE</strong>: Hält das Fenster »up to date«. Wenn in einem Bild die Fensterposition geändert oder in das Bild noch etwas hineingezeichnetwurde, ist, um das Resultatzu sehen, der Befehl UPDATEanzuwenden. Erstnach diesem Befehl machtsich die Änderung auf dem Bildschirm bemerkbar.<br>
            <strong>←ZOOM</strong>: Mit diesem Befehl ist es möglich, die Grafik von 640 mal 400 Bildpunkten auf 320 mal 200 Bildpunkte zu verkleinern. Dabei entsprichtjeder Bildschirmpunktvier Punkten der Gesamtgrafik. Möchte man diesen Befehl rückgängig machen, also das Bild wieder vergrößern, ist der Befehl »UPDATE« einzugeben.
        </p>

        <h2>Funktionstastenbelegung</h2>

        <p>Die Position des Bildschirmfensters kann auch mit den Funktionstasten gesteuert werden.<br>
            Diese sind wie folgt belegt:<br>
            <strong>F1</strong>: Fenster nach rechts bewegen und »←UPDATE« ausführen.<br>
            <strong>F3</strong>: Fenster nach links bewegen und »←UPDATE« ausführen.<br>
            <strong>F5</strong>: Fenster nach unten bewegen und »← UPDATE« ausführen.<br>
            <strong>F7</strong>: Fenster nach oben bewegen und »←UPDATE« ausführen.<br>
            <strong>F2</strong>: »←UPDATE«ausführen.<br>
            <strong>F4</strong>: »←ZOOM« ausführen.<br>
            <strong>F6</strong>: »←GRAPHIC« ausführen.<br>
            <strong>F8</strong>: »←TEXT« ausführen.
        </p>

        <p>Alle Funktionstasten sind im Programm- und im Direktmodus aktiv. Bei der Verschiebung wird das Fenster um 8 Zeichenpositionen in horizontale und 5 Zeichenpositionen in vertikale Richtung bewegt. Die Verschiebungsrate, also um wieviele Zeichenpositionen das Fenster in X- oder Y-Richtung verschoben werden soll, läßt sich mit dem Befehl »-INCREASE« ändern.</p>

        <p><strong>←INCREASE</strong> A,B: A bestimmt die Schrittweite in X-Richtung und B die Schrittweite in Y-Richtung (0&lt;=A&lt;=40; 0&lt;=B&lt;=25).<br>
            <strong>←RESTART</strong>: Durch diesen Befehl wird »MPS-Support« neu gestartet. Ein eventuell vorhandenes Basic-Programm und der Grafikspeicher werden dabei nicht zerstört. Der RESTART-Befehl hat zwei Aufgaben:
        </p>

        <ol>
            <li>Nach RUN/STOP und RESTORE wird die Funktionstastenbelegung wieder aktiviert.</li>
            <li>Die Liste der neuen Befehle wird auf dem Bildschirm ausgegeben.</li>
        </ol>


        <p><strong>←CLEAR</strong>: Der ganze Grafikspeicher wird gelöscht. Dabei wird der Befehl UPDATE automatisch ausgeführt.<br>
            <strong>←COLOUR</strong> A,B,C. Setzt die Farben. A steht für Punktfarbe, B für Hintergrundfarbe und C für Rahmenfarbe (0&lt;=A&lt;=15; 0&lt;=B&lt;=15; 0&lt;=C&lt;=15).<br>
            <strong>←DOT A,B</strong>: Setzteinen Punktan die Koordinate (A=x; B=y). Der Wertebereich bezieht sich auf die Gesamtgrafik (0&lt;=A&lt;=639; 0&lt;=B&lt;=399)<br>
            <strong>←CDOT A,B</strong>: Löscht den Punkt an der Position A=xund B=y. —LINE A,B,C,D: Zieht eine Linie von den Koordinaten A=xO, B=yO nach C=x1, D=y1.<br>
            <strong>←CLINE A,B,C,D</strong>: Löscht eine Linie von den Koordinaten A=xO, B=yO nach C=x1, D=y1.<br>
            <strong>←TEST A,B</strong>. Testet, ob der Punkt A=x, B=y gesetzt ist. Das Ergebnis wird in der Speicherzelle 2 abgelegt.<br>
            PEEK(2)=1 —> Punkt gesetzt<br>
            PEEK(2)=0 —> Punkt nicht gesetzt<br>
            Beispiel:<br>
            ←TEST 10,10:IF PEEK(2) = 1 THEN PRINT "SET"<br>
            <strong>←PATTERN A</strong>: Durch diesen Befehl können Linien gestrichelt dargestellt werden. Der Befehl beeinflußt alle folgenden Zeichenbefehle (LINE, DOT und so weiter). Bei A handelt es sich um eine 8-Bit-Zahl; sie muß folglich zwischen 0 und 255 liegen. Die einzelnen Bits von A repräsentieren ein Muster, das beim Zeichnen von Linien laufend wiederholt wird. Beispiel: 10101010 = 170: Ein Punkt wird gesetzt, der nächste nicht gesetzt und so weiter.<br>
            11110000 = 240: Vier Punkte werden gesetzt, die vier nächsten werden nicht gesetzt.<br>
            00000000 = 0: Kein Punkt wird gesetzt.<br>
            11111111 = 255: Alle Punkte werden gesetzt.<br>
            <strong>←CHAR A,B,C</strong>: Das Zeichen mit dem ASCII-Code C wird ab der Zeichenposition A=x und B=y ausgegeben (0&lt;=A&lt;=79;0&lt;=B&lt;=49; 0&lt;=C&lt;=255). Dabeisind folgende Kontrollcodes aktiv:<br>
            18: RVS ON; 146: RVS OFF; 14: Umschalten auf Kleinschrift; 142: Umschalten auf Großschrift und Grafikzeichen.<br>
            <strong>←DUMP</strong>: Dieser Befehl aktiviert die Drucker-Routine von MPS-Support. Es wird eine Hardcopy der Gesamtgrafik angefertigt und zwar auf den Druckern MPS 801, VC 1525 und GP-100VC. Der Druckvorgang kann nur mit der Tastenkombination RUN/STOP und RESTORE unterbrochen werden.<br>
            <strong>←POLY A,B,C,D,E,F,G,H</strong>. Zeichnet ein Polygon (Vieleck) mit vier Ecken: (A,B), (C,D), (E,F) und (G,H).<br>
            <strong>←CPOLY A,B,C,D,E,F,G,H</strong>. Löscht das Polygon.<br>
            <strong>←FPOLY A,B,C,D,E,F,G,H</strong>: Füllt die Fläche aus, die das Polygon abgrenzt.<br>
            <strong>←EPOLY A,B,C,D,E,F,G,H</strong>: Löscht das Polygon, das die Fläche abgrenzt.
        </p>

        <p>Die Punktkoordinaten der POLY-Befehle sind im Rahmen des Wertebereiches beliebig. Es gibt allerdings eine Einschränkung. Bei den Befehlen FPOLY und EPOLY darf keiner der auftretenden Winkel größer als 180 Grad sein.</p>

        <p>Mit dem POLY-Befehl können natürlich nicht nur Vierecke, sondern auch beliebige Dreiecke gezeichnet werden. Dazu ist nur eine der angegebenen Koordinaten zu wiederholen. Beispiel:<br>
            ←CPOLY 10,15,150,100,150,100,25,35</p>

        <p>Dadurch ist es natürlich auch möglich, beliebige Polygone zu zeichnen. Denn jedes Polygon setzt sich aus Drei- und Vierecken zusammen.</p>

        <p>Mit dem POLY- und EPOLY-Befehl können dreidimensionale Körper und Netzfunktionen einfach erstellt werden. Normalerweise ist es sehr schwierig, Linien, die von einer oder mehreren Flächen verdeckt sind, zu löschen. Bei MPS-Support ist das anders. Hier wird der darzustellende Körper zuerst in Polygone aufgeteilt. Anschließend wird dann die Fläche des hintersten Polygons mit dem Befehl EPOLY gelöscht und mit POLY gezeichnet. Diese Prozedur ist bei allen folgenden Polygonen zu wiederholen. Somit wird der Körper von hinten nach vorn aufgebaut.</p>

        <p>Die gleiche Methode kann beim Zeichnen von Netzgrafiken angewendet werden.</p>

        <h3>Demoprogramm</h3>

        <p>Das Demoprogramm, das mit LOAD »name«, 8 beziehungsweise LOAD »name« (von Datasette) geladen und mit RUN gestartet wird, enthält vier kleine Unterprogramme. Die ersten beiden Unterprogramme sind nur als grafische Impressionen gedacht (Bild 3 und 4). Das dritte Unterprogramm (Bild 5) zeichnet eine mathematische Funktion in ein Koordinatensystem. Das vierte Unterprogramm (Bild 6) erzeugt mit Hilfe der oben genannten Methode eine Netzgrafik.</p>

        <h3>Memory-Map von MPS-Support</h3>

        <p>$0002: Zwischenspeicher<br>
            $00FB bis $OOFE: Zwischenspeicher<br>
            $0801 bis $16F6: MPS-Support<br>
            $1700 bis $1772: Zwischenspeicher<br>
            $1801 bis $4EFF: Basic-Speicher<br>
            $4F00 bis $CBFF: Bit-Map des Bildes<br>
            $0000 bis $CFE7: Farbcode<br>
            $E000 bis $FF3F: Bit-Map des Bildschirms</p>

        <p>Die Bit-Map des Bildes ist genauso organisiert wie der normale Bildschirm. Der einzige Unterschied ist der, daß jede Zeile 640 statt 320 Byte enthält. Außerdem existieren nicht nur 25 sondern 50 Zeilen.</p>

        <h3>Zeichnen, wie bei den Großen</h3>

        <p>Mit diesem Programm lassen sich wesentlich »feinere« Grafiken auf Ihrem Drucker MPS 801 ausgeben. Was Sie damit malen, konstruieren oder zeichnen wollen, hängt nur vom jeweiligen Einsatzgebiet ab.</p>

        <address class="author">(Tommy Frandsen/ah)</address>
    </article>
</body>

</html>
