

;grafik-80.prg ==0801==
    1 rem "                        GRAPHIK-80
    2 :
    3 rem "    erstellt Graphik-Paket f{CBM-X}r 80-Zeichen-HIRES-Bildschirm
    4 :
    5 rem "                        des  C-128
    6 :
    7 rem "                     (c) 1985  by  KRW
    8 :
    9 rem "                       version 1.00
   10 :
   11 :
 1000 fast
 1020 restore
 1040 bank 15
 1060 scnclr 5: print chr$(17) chr$(17) tab(20)"Erstellen eines Graphik-Paketes"
 1080 print chr$(17) tab(17)"f{CBM-X}r den 8563-HIRES-Graphik-Bildschirm"
 1100 print chr$(17) chr$(17) chr$(17) "  Bearbeitet:"
 1120 print: print
 1140 :
 2000 rem "Erweiterung der Interpreterschleife laden
 2020 :
 2040 print tab(25) "Neue Interpreterschleife
 2060 a= dec("1300"): e= dec("1398")
 2080 gosub 8000
 2100 :
 3000 rem "Neue Routine f{CBM-X}r 'Punkt setzen, l{CBM-C}schen und testen' laden
 3020 :
 3040 print tab(25) "Punkt setzen, l{CBM-C}schen, testen
 3060 a= dec("1400"): e= dec("1671")
 3080 gosub 8000
 3100 :
 4000 rem "Erweiterung der GRAPHIC-Routine laden
 4020 :
 4040 print tab(25) "Erweiterung der GRAPHIK-Routine
 4060 a= dec("1a3e"): e= dec("1ab6")
 4080 gosub 8000
 4100 :
 5000 rem "ROM-Routinen in RAM-Bereich kopieren
 5020 :
 5040 print tab(25) "ROM -> RAM - Kopie
 5060 a= dec("61a8"): e= dec("6388"): rem "PAINT und BOX
 5080 g= dec("1672")
 5100 gosub 8500
 5120 :
 5140 a= dec("6797"): e= dec("67d6"): rem "DRAW
 5160 if g<>dec("1853") then print "Fehler !": stop
 5180 gosub 8500
 5200 :
 5220 a= dec("668e"): e= dec("674c"): rem "CIRCLE
 5240 if g<>dec("1893") then print "Fehler !": stop
 5260 gosub 8500
 5280 :
 5300 a= dec("9b30"): e= dec("9c18"): rem "Strecke zeichnen
 5320 if g<>dec("1952") then print "Fehler !": stop
 5340 gosub 8500
 5360 :
 5380 read ad$
 5400 do while ad$<>"ende"
 5420 read mn$, al$, ah$
 5440 ad= dec(ad$)
 5460 poke ad, dec(mn$): poke ad+1, dec(al$): poke ad+2, dec(ah$)
 5480 read ad$
 5500 loop
 5520 :
 5540 print tab(25) "Fertiges Maschinenprogramm abspeichern
 5560 if ds >20 then print ds$: stop
 5580 bsave "graphik-80.m",d0,u8,on b0,p(dec("1300")) to p(dec("1ab7"))
 5600 if ds >20 then print ds$: stop
 5620 sys dec("1303")
 5640 print chr$(17) chr$(17) "     Graphik-Paket fertig installiert, gespeichert und initialisiert."
 5660 end
 6000 end
 7960 rem "Kopierroutine 1
 7980 :
 8000 for i=a to e
 8020 read d
 8040 poke i,d
 8060 next i
 8080 return
 8100 :
 8460 rem "Kopierroutine 2
 8480 :
 8500 for i=a to e
 8520 poke g, peek(i)
 8540 g= g+1
 8560 next i
 8580 return
 8600 :
 9000 :
10000 rem "datas f{CBM-X}r neue Interpreterschleife
10010 :
10020 data  76,45,19,76,6,19,120,169,45,141,8,3,169,19,141,9,3,88,169,0,141,0
10030 :
10040 data 255,169,6,141,6,213,169,32,133,48,133,50,133,52,169,0,133,47,133
10050 :
10060 data  49,133,51,96,32,128,3,201,222,144,31,201,233,176,27,170,36,215,16
10070 :
10080 data  52,189,123,18,141,78,19,189,135,18,141,79,19,138,32,128,3,32,0,0
10090 :
10100 data  76,246,74,32,134,3,76,243,74,62,114,215,129,147,141,43,86,88,226
10110 :
10120 data 121,96,26,22,103,23,24,101,100,24,105,105,106,105,189,162,18,141
10130 :
10140 data  78,19,189,174,18,141,79,19,76,73,19,90,168,215,183,142,141,43,151
10150 :
10160 data  85,226,121,96,107,97,103,98,102,101,100,103,105,105,106,105,85
10170 :
12000 rem "datas f{CBM-X}r Routine Punkt setzen, l{CBM-C}schen, testen
12010 :
12020 data  76,48,22,76,9,20,76,93,22,173,0,255,72,169,0,141,0,255,169,7,141
12030 :
12040 data  6,213,104,141,0,255,96,173,0,255,133,158,169,0,141,0,255,133,253
12050 :
12060 data 133,254,173,52,17,208,90,169,199,205,51,17,144,83,169,127,237,49
12070 :
12080 data 17,169,2,237,50,17,144,71,172,51,17,185,150,20,133,253,185,99,21
12090 :
12100 data 133,254,174,50,17,173,49,17,41,248,74,74,74,24,125,147,20,133,252
12110 :
12120 data 24,165,253,101,252,133,253,165,254,105,0,133,254,162,18,32,204,205
12130 :
12140 data 162,19,165,253,32,204,205,32,216,205,133,252,173,49,17,41,7,170,189
12150 :
12160 data 139,20,24,96,56,96,128,64,32,16,8,4,2,1,0,32,64,0,80,160,240,64,144
12170 :
12180 data 224,48,128,208,32,112,192,16,96,176,0,80,160,240,64,144,224,48,128
12190 :
12200 data 208,32,112,192,16,96,176,0,80,160,240,64,144,224,48,128,208,32,112
12210 :
12220 data 192,16,96,176,0,80,160,240,64,144,224,48,128,208,32,112,192,16,96
12230 :
12240 data 176,0,80,160,240,64,144,224,48,128,208,32,112,192,16,96,176,0,80
12250 :
12260 data 160,240,64,144,224,48,128,208,32,112,192,16,96,176,0,80,160,240,64
12270 :
12280 data 144,224,48,128,208,32,112,192,16,96,176,0,80,160,240,64,144,224,48
12290 :
12300 data 128,208,32,112,192,16,96,176,0,80,160,240,64,144,224,48,128,208,32
12310 :
12320 data 112,192,16,96,176,0,80,160,240,64,144,224,48,128,208,32,112,192,16
12330 :
12340 data 96,176,0,80,160,240,64,144,224,48,128,208,32,112,192,16,96,176,0
12350 :
12360 data 80,160,240,64,144,224,48,128,208,32,112,192,16,96,176,0,80,160,240
12370 :
12380 data 64,144,224,48,128,208,32,112,192,0,0,0,0,1,1,1,2,2,2,3,3,3,4,4,4
12390 :
12400 data 5,5,5,5,6,6,6,7,7,7,8,8,8,9,9,9,10,10,10,10,11,11,11,12,12,12,13
12410 :
12420 data 13,13,14,14,14,15,15,15,15,16,16,16,17,17,17,18,18,18,19,19,19,20
12430 :
12440 data 20,20,20,21,21,21,22,22,22,23,23,23,24,24,24,25,25,25,25,26,26,26
12450 :
12460 data 27,27,27,28,28,28,29,29,29,30,30,30,30,31,31,31,32,32,32,33,33,33
12470 :
12480 data 34,34,34,35,35,35,35,36,36,36,37,37,37,38,38,38,39,39,39,40,40,40
12490 :
12500 data40,41,41,41,42,42,42,43,43,43,44,44,44,45,45,45,45,46,46,46,47,47
12510 :
12520 data47,48,48,48,49,49,49,50,50,50,50,51,51,51,52,52,52,53,53,53,54,54
12530 :
12540 data54,55,55,55,55,56,56,56,57,57,57,58,58,58,59,59,59,60,60,60,60,61
12550 :
12560 data61,61,62,62,62,63,63,63,32,28,20,176,34,166,131,208,5,73,255,37,252
12570 :
12580 data  44,5,252,133,252,162,18,165,254,32,204,205,162,19,165,253,32,204
12590 :
12600 data 205,162,31,165,252,32,204,205,165,158,141,0,255,96,32,28,20,176,245
12610 :
12620 data 37,252,240,6,32,87,22,162,0,96,32,87,22,162,255,96
12630 :
14000 rem "datas f{CBM-X}r Erweiterung des GRAPHIC-Befehls
14010 :
14020 data 201,158,208,11,32,34,160,32,128,3,169,0,133,216,96,32,244,135,224
14030 :
14040 data 6,240,41,176,36,138,72,169,0,141,0,255,162,25,169,64,32,204,205,32
14050 :
14060 data 12,206,165,215,72,169,128,133,215,32,66,193,104,133,215,104,72,170
14070 :
14080 data  76,110,107,76,40,125,169,0,141,0,255,162,25,169,128,32,204,205,32
14090 :
14100 data 28,158,169,0,141,0,255,224,2,176,229,224,0,240,29,160,64,132,8,160
14110 :
14120 data 0,152,162,18,32,204,205,162,19,32,204,205,162,31,32,204,205,136,208
14130 :
14140 data 250,198,8,208,246,96
19900 :
20000 data 1a3b, 4c, 00, 14
20010 data 16d5, 20, 00, 14
20020 data 1a2d, 20, 00, 14
20030 data 188d, 20, 1d, 1a
20040 data 19c7, 20, 1d, 1a
20050 data 19eb, 20, 0c, 1a
20060 data 1a07, 20, 0c, 1a
20070 data 1887, 4c, 6c, 18
20080 data 1890, 4c, 6c, 18
20090 data 17b1, 20, 52, 19
20100 data 17f1, 20, 52, 19
20110 data 1884, 20, 52, 19
20120 data 1948, 20, 52, 19
20130 data 1692, 20, 06, 14
20140 data 16c6, 20, 06, 14
20150 data 1712, 20, 06, 14
20160 data 1747, 20, 06, 14
20170 data 16e5, 20, 46, 17
20180 data 16fa, 20, 46, 17
20190 data 1740, 4c, b5, 16
20200 data 1869, 4c, 1d, 1a
20210 data 1672, 20, 32, 9e
20220 data 1781, 20, 32, 9e
20230 data 1893, 20, 32, 9e
20240 data 1853, ea, ea, ea
20250 data ende
50000 :
60000 zz$="graphik-80": un=8
60010 open 15,un,15,"s0:"+zz$
60020 gosub 60100
60030 save zz$,un
60040 gosub 60100
60050 verify zz$,un
60060 close 15
60070 end
60100 input#15, s1, s$, s2, s3
60110 if s1=1 then print s2; s$
60120 if s1<20 then return
60130 print s1 ", " s$ "," s2; "," s3
60140 close 15

