<!DOCTYPE html>
<html lang="de">

<head>
    <title>Hyperscreen</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="Holger Gehrmann, ah">
    <meta name="64er.issue" content="12/85">
    <meta name="64er.pages" content="76-77">
    <meta name="64er.head1" content="Tips und Tricks">
    <meta name="64er.head2" content="C 64">
    <meta name="64er.toc_title" content="<b>Grafik: Sprites im Rahmen</b>">
    <meta name="64er.toc_category" content="Listings zum Abtippen">
    <meta name="64er.index_title" content="Hyper-Screen (Sprites auf dem Bildschirmrand)">
    <meta name="64er.index_category" content="Listings zum Abtippen|Tips & Tricks">
    <meta name="64er.id" content="hyperscreen">
</head>

<body>
    <article>
        <h1>Hyperscreen</h1>
        <p class="intro">Wir stellen hier ein Programm vor, das die Herzen der Spiele-Programmierer höher schlagen läßt. Denn von nun an lassen sich Sprites auch auf dem oberen und unteren Rand darstellen.</p>

        <p>Mit diesem Maschinenprogramm (Listing 1) kann man den oberen und unteren Bildschirmrand einfach verschwinden lassen, um dort zum Beispiel Sprites darzustellen. Damit ist es erstmals möglich, Spiele im »Hochformat« zu programmieren, wie man es von Videospielautomaten her kennt. Die Handhabung von Hyperscreen ist denkbar einfach. Das Programm verändert den IRQ-Vektor und ist daher besonders einfach in eigene Basic- oder Maschinenprogramme einzubauen. Startet man Hyperscreen mit SYS 49152, ändern sich die Bildschirmfarben. Der Text »Hyperscreen by Holger Gehrmann« erscheint, und der obere und untere Bildschirmrand ist verschwunden.</p>

        <p>Mit POKE 49209,2 7 kann man nun die Bildschirmränder »einschalten« und mit POKE 49209,19 wieder abschalten (leider ist es softwaremäßig nicht möglich, den linken und rechten Bildschirmrand ebenfalls verschwinden zu lassen). Benutzt man im Hyperscreen-Modus die Befehle LOAD und SAVE, erscheinen die Bildschirmränder wieder für kurze Zeit, da bei diesen Befehlen der IRQ abgeschaltet wird. POKEt man in die Speicherzelle 16383 einen Wert, erscheint dieser als Bitmuster dort, wo früher die beiden Bildschirmränder waren. Die Farbe des angezeigten Bitmusters ist immer schwarz, sie läßt sich nicht ändern. Die Spritehandhabung ist mit Hyperscreen genauso wie sonst, nur mit dem Unterschied, daß man das Sprite wirklich von ganz oben nach ganz unten bewegen kann, ohne daß es hinter einem Rand verschwindet.</p>

        <p>Sie werden sich sicher fragen, wie es möglich ist, softwaremäßig die beiden Ränder verschwinden zu lassen, da dies ja offiziell gar nicht möglich ist. Es scheint weltweit auch noch kein Programm erschienen zu sein, das diese Möglichkeitaus-nutzt. Um den oberen und unteren Rand zu erzeugen, merkt sich der Video-Interface-Chip (VIC) zwei Rasterzeilen. Bei der einen Rasterzeile wird der Bildschirm eingeschaltet, bei der anderen wiederaus. Der Bereich zwischen Aus- und Einschalten ist der Rand. Den Wert dieser beiden Rasterzeilen kann man mit einem Bit im VIC verändern. Setzt man dieses Bit (es heißt RSEL), hat der Bildschirm die gewohnten 25 Zeilen. Löscht man es, hat er nur noch 24, der Bildschirmrand wird dafür oben und unten etwas verbreitert.</p>

        <p>Sorgt man nun dafür, daß der Bildschirm bei jedem Strahlendurchlauf kurz vor der Stelle, wo er abgeschaltet wird (kurz vor dem unteren Bildschirmrand), durch Löschen des Bits RSEL auf 24 Zeilen verkleinert wird, wird auch automatisch der Rasterzeilenwert für das Abschalten des Bildschirms etwas nach oben gesetzt. Da der Rasterstrahl über diese neue Abschaltposition schon hinweg ist, wird der Bildschirm nicht abgeschaltet und somit verschwindet auch der obere und untere Bildschirmrand.</p>

        <p>Das klingt vielleicht etwas kompliziert, funktioniert aber, wie man an Hyperscreen sieht, fehlerfrei und ist äußerst nützlich.</p>

        <p>Hyperscreen ist ein sehr kurzes und komprimiertes Maschinenprogramm, das den Speicherbereich von $C000 bis $0090 belegt. Es wird mit LOAD »HYPERSCREEN«, 8,1 geladen und durch den Befehl SYS 49152 aktiviert. Zu beachten ist, daß während des LOAD- oder SAVE-Vorgangs der obere untere Bildschirmrand wieder vorhanden ist. Gleiches passiert, wenn das Interruptflag im Prozessorstatusregister gesetzt wird (SEI). Die Demo-Listings 2, 3 und 4 zeigen die Leistungsfähigkeit dieses Programms. Bei Listing 5 handelt es sich um den mit Hypra-Ass erstellten Quelltext.</p>

        <address class="author">(Holger Gehrmann/ah)</address>
    </article>
</body>

</html>