# Engpaß

Zu Weihnachten wird’s »wahrscheinlich« knapp: Die 128er (einschließlich Floppy-Laufwerk 1571 und Monitor) kommen nicht so schnell und in der Menge aus den Werken, wie es Hersteller und Handel gern hätten. Die C 64-Produktion, inzwischen mit Rücksicht auf das neue Modell zurückgefahren, reicht offenbar bestenfalls knapp aus, um den weiterhin hohen Bedarf zu decken.

Bei der Systems meldete der Commodore-Vertrieb schon ein »ausverkauft« für dieses Jahr. Die deutsche Nachfrage, die bereits im vorigenJahr für ein gutes Geschäft gesorgt hatte, war stabiler, als der Markteinbruch in den USA um die Jahreswende '84/85 und die Prognosen vieler Marktbeobachter hätten vermuten lassen. Keine guten Aussichten also für diejenigen, die auf Preisdruck und Discontangebote während der Weihnachtssaison gehofft haben (was allerdings Handel und Hersteller recht sein dürfte). Ob Sonderangebote im nächsten Jahr kommen werden, muß dahingestellt bleiben — die Vertriebskanäle sind nicht mehr so voll wie manchesmal in früheren Zeiten. Der eine oder andere wird sich möglicherweise einen Gutschein unter den Christbaum legen lassen oder — wegen eines Commodore 64 — auf den Gebrauchtgerätemarkt ausweichen müssen.

Nicht empfehlenswert ist im allgemeinen die Einfuhr auf eigene Faust, oder der Kauf von »grauen« Importen: Zu leicht gerät man beim Ausweichen auf ausländische Quellen an ein Gerät, das deutschen Vorschriften und Anforderungen nicht genügt und das sich möglicherweise mit vernünftigem Aufwand auch nicht umrüsten läßt.

Mancher VC 20 oder C 64, der als Weihnachtsgeschenk aus den USA kam, hat schon Enttäuschung statt Freude ausgelöst...

Michael Pauly, Redaktionsdirektor

# Neues von der Commodore-Fachausstellung

> Messen bieten immer wieder die beste Gelegenheit, sich über neue Entwicklungen und Trends auf dem Computersektor zu informieren. Besonders Gerüchte lassen sich hier sehr schnell verifizieren. Was gab es an Interessantem auf der CFA?

Die Gerüchteküche um die neuen Commodore-Floppy-Laufwerke 1570 und 1571 brodelte in den letzten Wochen vor der CFA. Gegensätzliche Aussagen von verschiedenen Seiten deuteten darauf hin, daß es Probleme mit der 1571-Floppy gegeben hatte und deswegen die 1570 vorgezogen werden mußte.

Commodore-Pressesprecher Gerold Hahn räumte jetzt endgültig mit den Gerüchten auf: Bei der 1571-Floppy gab es keinerlei technische, sondern nur produktionstechnische Probleme. Im Klartext heißt dies, daß es Lieferschwierigkeiten mit den neuen Gehäusen und Mechaniken für die 1571 gab. Um den C 128-Besitzern aber ein optimal an das System angepaßtes Laufwerk anbieten zu können, wurde die 1570-Floppy entwickelt, bei der man auf Gehäuse und Teile der Mechanik des bekannten 1541-Laufwerks zurückgreifen konnte.

Dank gründlicher Überarbeitung der Laufwerksmechanik wurden die von der 1541 bekannten mechanischen Schwächen bei der 1570 konsequent vermieden. Das Betriebssystem der 1570 wurde aus dem 1571-Betriebssystem abgeleitet. Ein-zigerUnterschied: Die 1571 kann beide Diskettenseiten gleichzeitig nutzen (zwei Schreib-/Lese-köpfe), während man sich bei der 1570-Floppy mit einer Diskettenseite im direkten Zugriff zufriedengeben muß. Die Zugriffsgeschwindigkeit beider Laufwerke ist im Vergleich zur 1541 wahrhaft phänomenal: Die Übertragungsrate ist im ^Ser-Modus um gut den Faktor 10 höher als bei der 1541.

Das 1571-Laufwerk soll unter 1000 Mark kosten. Einen ausführlichen Testbericht über die neuen Commodore-Laufwerke finden Sie in der nächsten Ausgabe.

(bs)

## 1901-Monitor zum C 128 endlich lieferbar

Lang erwartet, endlich da: Der speziell zum C 128 entwickelte 1901-Monitor von Commodore ist jetzt endlich verfügbar. Er kann in zwei verschiedenen Betriebsarten, nämlich Video-Composite (für den C 64-Modus) und RGB (für C 128- und CP/M-Modus) betrieben werden. Zwischen beiden Betriebsarten wird mittels eines kleinen Schalters an der Frontseite hin- und hergeschaltet. Dadurch kann man in beiden Betriebsar-tendesC 128(40/80-Zeichen)mit einem einzigen Monitor arbeiten. Der 1901-Monitor soll unter 1000 Mark kosten.

(bs)

## Der C 128 D kommt!

Auf der CFA war er zwar noch nicht zu sehen, aber ganz sicher ist es nur eine Frage der Zeit, bis die D-Version des C 128 auch in Deutschland vorgestellt wird. Der C 128 D unterscheidet sich nur äußerlich vom C 128: Die Tastatur wurde vom Grundgerät getrennt und ist durch ein Spiralkabel mit ihm verbunden. In das Grundgerät integriert wurde dafür ein 1571-Laufwerk. Der Monitor kann auf das Grundgerät gestellt werden, wodurch sich ein echter PC-Look ergibt. Ganz sicher wird dieses Gerät schnell seine Freunde finden. Die technischen Daten sollen vollkommen identisch zum C 128 mit separatem 1571-Laufwerk sein. Das heißt, nicht wie beim SX-64 um den Datasette-Anschluß und dessen Routinen vermindert, sondern 100 Prozent kompatibel zum C 128 mit 1571-Laufwerk sein. In der nächsten Ausgabe des 64'er erfahren Sie mehr über diese neueste C 128-Version.

(bs)

## Software für den C 128

Auf der CFA wurden die ersten Programme für den C 128 vorgestellt. Auffällig war die Zurückhaltung gegenüber dem C 128-Modus bei den Spieleherstellern — hier setzt man wohl weiter auf den C 64-Modus. Statt Spiele gab’s denn aber einige Neuheiten auf dem Gebiet professioneller Anwenderprogramme.

Der C 128 ist ja schließlich ein Computer, mit dem man auch professionell arbeiten kann. Er verarbeitet am Bildschirm 80 Zeichen pro Zeile und besitzt genügend Speicher, um auch sehr umfangreiche Programme mit hohem Datenaufkommen zu bewältigen. Daß es dazu noch ein Floppy-Laufwerk gibt mit rund 340 KByte Platz für Daten und Programme (im CP/M-Modus sogar zirka 410 KByte), ist mehr, als manche anderen CP/M-Computer besitzen (zum Beispiel Kaypro mit 190 KByte). Diese Eigenschaften werden auch von den Softwareherstellern ausgenutzt.

Professionelle Software heißt in erster Linie Textverarbeitung, Dateiverwaltung und Tabellenkalkulation, wobei die Textverarbeitung wohl die am häufigsten eingesetzte ist. Dementsprechend ist auch das Angebot gestaffelt. Auf der CFA wurden zwei Textprogramme für den C 128-Modus vorgeführt.

Hard & Soft präsentierte Protext, ein Programm, das den Besitzern der »großen« CBM-Computer sicherlich ein Begriff ist. Protext ist also kein völlig neues Produkt, sondern hat sich schon jahrelang bewährt. Da jedoch der C 128 in manchen Teilen etwas mehr kann als die CBMs, konnte Protext sogar um einige Funktionen erweitert werden. Doch jetzt einige Fakten: Protext enthält umfangreiche und jederzeit ohne Textverlust auf dem Bildschirm darstellbare Hilfefunktionen mit Befehlsübersicht in Stichwortform und detaillierter Einzelerklärung. Auch ohne einen Formatierungsbefehl eingeben zu müssen, können Briefe wie auf der Schreibmaschine geschrieben und ausgedruckt werden. Mit der eingebauten, selbstlernenden Textkorrektur (Stammwortschatz zirka 25000! Worte) kann der Text überprüft und automatisch korrigiert werden. Für den fortgeschrittenen Anwender stehen eine Reihe von Formatierungsbefehlen, wie formatierte Ausgabe mit/ohne vollautomatischer Trennung, linker/rechter Rand bei Ausgabe, Blocksatz, Kopf-/Fußzeile, zentrieren, Ausgabestop, etc. zur Verfügung. Die umfangreichen Rechenfunktionen und ein Taschenrechner-Modus vervollständigen die Leistungspalette. Immer mehr setzt sich auch die Textübertragung per Modem und Akustikkoppler durch, so auch bei Protext. Es kann sowohl Text mit automatischer Fehlererkennung/Wiederholung übertragen als auch Terminalbetrieb mit Protokoll durchgeführt werden (Kommunikation mit Mailboxen oder anderen Terminalbenutzern). Protext kostet 198 Mark. In Vorbereitung ist Proadress, die zu Protext passende Adreßverwaltung. Mit diesen beiden Programmen können zum Beispiel automatisch Serienbriefe erstellt werden.

Ein sehr ähnliches Textverarbeitungsprogramm kommt von Commodore selbst und heißt Superscript. Bis auf die Terminalfunktion und die Bibliothek für die automatische Textkorrektur sind die gleichen Funktionen wie oben beschrieben enthalten. Superscript ist eine Weiterentwicklung des dem CBM-Besitzer bekannten Superoffice. Superoffice ist ein Paket aus Textverarbeitung und Dateiverwaltung. Auch zu Superscript gibt es eine Dateiverwaltung, und zwar das vom C 64 her bekannte Superbase, ebenfalls von Commodore. Superbase gehört zu den leistungsfähigsten Dateiverwaltungsprogrammen, das je für den C 64 geschrieben wurde und ist voll an den C 128 angepaßt. Superbase kann gleichzeitig mit Superscript im Speicher stehen. Dadurch wird zwar der zur Verfügung stehende Speicherplatz für Texte eingeschränkt, man kann jedoch Daten zwischen beiden Programmen austauschen. Jedes Programm ist einzeln erhältlich und kostet voraussichtlich 159 Mark. Alle drei Programme, Protext, Superscript und Superbase, werden wir in einer der nächsten 64'er-Ausgaben ausführlich testen und vorstellen.

Nicht auf der CFA zu sehen aber angekündigt wurde SM-Text Plus, eine an den C 128 angepaßte Version von SM-Text für den C 64 (Preis voraussichtlich 98 Mark). Auch Viza-Soft steht kurz vor der Fertigstellung von Vizawrite Classic für den C 128, die Weiterentwicklung von Vizawrite 64, dem (laut Umfragen) meistbenutzten Textprogramm für den C 64. Allerdings dürfte eine einfache Umsetzung auf 80 Zeichen nicht ausreichen, um zum Beispiel Protext, Superscript oder auch Wordstar (CP/M) auszustechen. Wir sind gespannt, wie sich das jetzige C 64-Flaggschiff entwickeln wird. Vizawrite Classic wird voraussichtlich 348 Mark kosten. Der Preis für Vizawrite 64 wird auf 238 Markt gesenkt.

Ebenfalls angekündigt (von Data Becker) wurde Textomat 128 und Textomat Plus für den C 128. Während Textomat Plus lediglich auf 80 Zeichen erweitert und an den vergrößerten Speicherbereich angepaßt wird (Preis voraussichtlich 99 Mark), ist Textomat 128 eine erweiterte Version von Textomat 64. Der Preis soll 198 Mark betragen.

SM-Software ist gerade dabei, die bewährte SM-Manager-Serie (Lager, Rechnung, Kunden) für den C 128 zu erweitern und umzuschreiben. Alle drei Programme zusammen sollen unter 300 Mark kosten.

Markt&Technik stellte die komplette Serie professioneller CP/M-Programme in speziellen Versionen für den C 128 vor: Das Textverarbeitungsprogramm WordStar, das Datenbanksystem dBase II und das Kalkulationsprogramm Multiplan. Alle drei Programme werden im 1541-Floppy-Format ausgeliefert. Wer die Vorteile der neuen Commodore-Laufwerke 1570/ 1571 ausnutzen möchte, der kann sich die Disketten problemlos selbst ins gewünschte Format umkopieren (sowohl die 1570 als Ständig umlagert: Der 64'er-Zeitschriftenverkauf

auch die 1571 kann das 1541-Floppy-Format lesen). Bei allen drei Programmen kann der Anwender für seine persönlichen Zwecke Sicherheitskopien herstellen. Der Einführungspreis von jeweils 199 Mark für jedes dieser Programme stellt angesichts der Leistungsfähigkeit dieser professionellen Software schon eine kleine Sensation dar — die gleichen Programme für den IBM-PC kosten beispielsweise zusammen weit mehr als 2000 Mark.

Viele Leser besuchten uns auf der Messe und fragten nach der Lauffähigkeit des 64’er-Platinlayout-Programms »Hypra-Platos« (Listing des Monats in Ausgabe 11/85) auf dem C 128. Allen Interessenten sei hiermit versichert, daß Hypra-Platos im C 64-Modus des C 128 einwandfrei läuft. Das bei einem ähnlichen Programm eines anderen Anbieters auftretende Kompatibilitätsproblem ist bei »Hypra-Platos« nicht vorhanden.

(gk/ev)

## Spiele, Spiele, Spiele...

In Frankfurt waren auch einige Spiele-Vertriebsfirmen zu finden. Rushware stellte die ersten Programme der Eurogold-Serie vor. Außerdem konnte man endlich die heißersehnte deutschsprachige Version des Spiels »Elite« nicht nur ansehen, sondern sogar kaufen. Bei Thorn Emi konnte man »Winter Games« probespielen. Bei Kingsoft gab es zwei brandneue Programme zu sehen: »Space Pilot II« ist die Fortsetzung zum Verkaufsrenner »Space Pilot« und mit »Quiwi« stellte Kingsoft das erste deutsche Trivia-Spiel (Quiz-Spiel) vor. »Quiwi« war noch nicht ganz fertiggestellt, so hatte die vorgestellte Version »nur« 360 verschiedene Fragen gespeichert. Die Endversion soll dann über 4000 verschiedene Fragen beinhalten. Neues auch von Mastertronic: Der bekannte Hersteller von »Taschengeldspielen« will mit einer neuen Serie, »M.A.D.« (Mastertronic Advanced), den Spielemarkt erobern. MAD-Spiele sollen mit 15 Mark etwas teurer als die normalen Mastertronic‑Spiele sein, dafür in der Qualität von Grafik, Sound und Spiel selber stark gesteigert werden. Die ersten MAD-Spiele sollen in diesen Wochen ausgeliefert werden.

(bs)

## Schnell, schneller, »Turbo Ass«...

Omikron Software, die Entwickler der Super-Basic-Erweiterung »GBasic«, konnten auf der CFA wieder einmal ein Produkt vorstellen, das Maßstäbe setzt: Das Assembler-System »Turbo Ass« soll laut Omikron der derzeit schnellste Assembler für 64-KByte-6502-Systeme sein. Die enorm hohe Assembliergeschwindigkeit von mehr als einem KByte pro Sekunde wird durch einen entscheidenden Trick erreicht. Der Source-Code wird bei der Eingabe schon in ein sogenanntes Turbo-Format umgewandelt, ähnlich den Token in Basic. Dabei werden gleichzeitig Syntax-Checks vorgenommen. Tippfehler werden also schon bei der Eingabe abgefangen. Die beiden weiteren Vorteile des Turbo-Codes sind schnelle Assemblierung und geringer Speicherplatzbedarf. Makros sind mit Turbo-Ass jedoch nicht möglich.

Der mitgelieferte Full-Screen-Editor ist schnell und auch einfach zu bedienen. Ebenfalls im Lieferumfang enthalten ist der Monitor »X-Mon«. Zu diesem komfortablen Monitor wird auch der Source-Code mitgeliefert, so daß er vom Benutzer beliebig erweitert werden kann. Die Erweiterungsvorhaben des Benutzers werden durch vorbildliche Dokumentation in Handbuch wie Source-Code unterstützt.

Letzter Bestandteil des Pakets ist eine, speziell auf den »Turbo Ass« zurechtgeschnittene, Version des Omikron-Reassem-blers. Dieses Programm macht das System komplett, mit dem sich Assemblerprogramme besonders schnell und komfortabel erstellen lassen. Übrigens kann der Benutzer alle Programme beliebig kopieren. Das Assemblersystem ist nur mit einem, auf den Kassettenport aufgesteckten, Schutzstecker lauffähig. Und die wichtigste Hardware-Erweiterung für die Assemblerprogrammierung wird auch gleich mitgeliefert: ein Reset-Taster. Das Komplettsystem »Turbo Ass« kostet insgesamt 139 Mark.

(bs)

Info: Turbo Ass, Omikron Software, Erlachweg 15, 7534 Birkenfeld 2, Tel. 0 70 82/53 86

## »Ali« in neuer Version

Eine neue Version des Algebra-Lernprogramms »Ali« für den Mathematikunterricht an Realschulen und Gymnasien wurde von Heureka Teachware vorgestellt. Ob einfaches Bruchrechnen oder komplizierte Kurvendiskussionen, »Ali« überzeugte in jeder Situation durch erstaunliche Rechenfähigkeiten. Preis: 99 Mark.

(tr)

Info: Dipl.-Phys. Peter Ostermann, Wastl-Witt-Str. 46, 8000 München 21

## Sprachen lernen mit Langenscheidt

»Lernen durch Spielen« lautet das Konzept der Firma Langenscheidt. Gleich eine ganze Reihe von Lernspielen wurden auf der CFA der Öffentlichkeit präsentiert. Die Palette der Vokabelprogramme reicht von »Sesam öffne dich« bis »Wörter in Aktion«. Neu ist ein speziell für Gastarbeiter entwickeltes Deutsch-Lernprogramm.

(tr)

Info: Langenscheidt KG, NeusserStr. 3,8000 München 40

## Neuer »Turbonibbler«

Auf der CFA zwar nicht offiziell aber doch als Besucher vertreten war die holländische Firma »Eurosystems«. Ihr bekanntestes Produkt, das Kopierprogramm »Turbonibbler«, liegt nun in der völlig neuen Version 3.0 vor. Der »Turbonibbler 3.0« arbeitet vollkommen sync-orientiert. Kopiert werden auch »Speed«-Änderungen, solange sie sich auf einen kompletten Track beziehen. Die notwendige Länge von Sync-Markierungen und die Anzahl der Leseversuche kann vom Benutzer eingestellt werden. Außerdem arbeitet »Turbonibbler 3.0« mit zwei Diskettenlaufwerken zusammen. Noch vor der Auslieferung soll in den »Turbonibbler« ein Diskettenmonitor integriert werden, mit dem komplette Tracks im GCR-Format editiert werden können. Der neue »Turbonibbler« soll wiederum für 55 Mark erhältlich sein, für die Besitzer von alten Versionen wird es einen Update-Service geben.

(bs)

Info: Eurosystems, Verl. Parkweg 6, 6717 gn EDE, Holland, Tel: 00 31-83 80-3 2146

## Neues von Digital Drums

Helmut Adler war mit seinem elektronischen Schlagzeug auf der CFA in einem Workshop vertreten. Die wohl interessanteste Neuigkeit war eine Preissenkung für das komplette Digital Drums auf 159 Mark. Vorgestellt wurde auch ein Programm namens »Drum Master«, das über einen Editor die komfortable Programmierung von Rhythmen erlaubt (Preis: 29 Mark).

Info: Helmut Adler, Computer Software, Schlägel und Eisen Str. 9, 4352 Herten

## Sampler für den C 64

Einen besonderen Leckerbissen für Musikprofis gibt es von der englischen Firma Microvox: Ein Sampler für den C 64. Mit einer Hardware-Erweiterung, die an den User-Port angeschlossen wird, einem Mikrofon und entsprechender Software lassen sich Sprache oder Geräusche digitalisieren, speichern und mit den verschiedensten Effekten verfremden und verzerren. Nachteil: der mit 848 Mark nicht gerade niedrige Preis.

(tr)

Vertrieb durch: Print-Technik, Nikolaistr.2, 8000 München 40

Auch Music Sales Limited stellte einen Sampler vor. »Sound Sampler« lautet der Name dieser Hard- und Software, die komplett mit Mikrofon und einer Aufsatz-Tastatur für den C 64 geliefert wird. Eine eingebaute MIDI-Schnittstelle erlaubt die Ansteuerung über Synthesizer oder Pads. Preis: 270 Mark.

Info: SFX Software, Wilhelmstr. 26, 5000 Köln 90


Ein Modul der italienischen Firma Siel namens »Sound Buggy« sorgte mit einem Klang, der eher ein gesamtes Orchester als einen C 64 vermuten ließ, für Aufsehen. Der SID wird auf acht Stimmen erweitert. Automatische Begleitung, 24 verschiedene Rhythmen und Einfinger-Akkord-Automatik sind nur einige Schlagwörter. So ganz nebenbei ist noch eine MIDI-Schnittstelle enthalten, die die Kommunikation mit bis zu vier Synthesizern ermöglicht.

(tr)


## Sprachengenie

Der Sprachsynthesizer von Aztec Software überzeugte durch seine Sprachenvielfalt. Die sogar über Maschinensprache leicht programmierbaren Phoneme bringt dem C 64 fast jede beliebige Sprache bei. Mit einem Wandlerprogramm lassen sich aber auch direkt deutsche Sätze eingeben. Ein Lautsprecher ist in dem 139 Mark teuren Modul auch gleich eingebaut.

(tr)

Aztec-Software GmbH, Auf der Heide 18, 3253 Hessisch Oldendorf 5

## Konkurrenz für EPROMs

Jansen EDV stellte eine Platine vor, die möglicherweise so manchen EPROM-Brenner überflüssig machen könnte. Auf einer, den bekannten EPROM-Karten für den Expansion-Port ähnlichen Platine wurden vier 5565 CMOS-RAMs parallelgeschaltet. Zusammen mit einer Umschaltlogik stellt diese Erweiterung volle 32 KByte Speicher zur Verfügung. In diesem zusätzlichen Speicher können beliebige Programme wie auf einem EPROM untergebracht werden. Der Unterschied zum bisherigen Verfahren der EPROM-Programmierung besteht darin, daß man kein Programmiergerät mehr braucht, um die Daten abzuspeichern. Mit einem kleinen Hilfsprogramm, das auf Diskette mitgeliefert wird, ist das Speichernvonbiszu 120Blocken langen Programmen auf der Platine sehr einfach. Die übliche Aufteilung eines Programms in 8-KByte-Segmente und die Verwaltung dieser Blöcke, wird durch die Steuersoftware, die vor dem Programm in das RAM geschrieben wird, übernommen. Die Daten auf der Platine bleiben durch eine Lithium-Batterie auch dann erhalten, wenn man die Platine aus dem Computer herauszieht. Eine Neuprogrammierung der Platine ist jederzeit möglich, ohne dabei den Umweg über eine UV-Quelle zum Löschen der EPROMs gehen zu müssen. Die Platine kann aber auch als ganz konventionelle EPROM-Platine verwendet werden. In diesem Fall stehen bis zu 128 KByte zur Verfügung. Der Preis für die Platine ohne Speicherbausteine liegt bei 198 Mark, komplett mit ICs kostet die Karte 270 Mark.

### Tragbarer C 64

Ebenfalls bei Jansen EDV haben wir den Attache, einen tragbaren C 64 mit eingebautem Monitor und Drucker entdeckt. Der sehr ordentlich ausgeführte Umbau wurde hauptsächlich dazu konstruiert, um für den Außendienst ein preiswertes Datenerfassungsgerät zu entwickeln. Deshalb verfügt der Attache auch über eine RS232-Schnittstelle, die einen Anschluß eines Akustikkopplers möglich macht. Mit seinen 9 Kilogramm ist der Attache nicht nur transportabel, sondern auch tragbar. Leider ist der Attache nicht netzunabhängig — er benötigt nach wie vor ein Netzkabel. Komplett aufgebaut mit Drucker, Monitor und Computer kostet der Attache um die 3200 Mark.

(aw)

## Vernetzt

Bei HDS-Prüftechnik wird auf vernetzte Computer gesetzt. Dort wurde das ESL-Computer-Netzwerk gezeigt, das mehrere C 64 miteinander (Schüler) und alle gemeinsam mit einen CBM 4000- oder 8000-Computer (Lehrer) verbindet. Die Schüler haben dabei die Möglichkeit, auf die IEEE-488-Hardware des Lehrer-Computers zuzugreifen. Der Lehrer hat die Wahl, sich, für die Schüler unsichtbar, in deren Arbeit einzuschalten und den Lernfortschritt zu überprüfen. Dabei kann der Lehrer auch direkt in die Arbeit des Schülers eingreifen, indem er die Tastatur des Schülers von seinem Computer aus bedient. Am gleichen Stand konnte man auch ein neues Hardware-Centronics-Interface sehen. Eine Demonstration zeigte vielversprechende Leistungen, zu denen hohe Verträglichkeit mit fertigen Programmen, doppelt hohe Zeichen, alle Grafikzeichen und eine Hardcopy-Fähigkeit gehört. Zusätzlich wurde ein hochauflösendes Grafik-System für den C 64 angekündigt. Es soll auf dem NEC 7220 GDC Grafik-Prozessor basieren und eine Auflösung von 1024 x 1024 Einzelpunkten besitzen. Die maximale Zeichengeschwindigkeit soll bei 0,8 Mikrosekunden pro Pixel liegen, da zur Grafikkarte auch eine auf Geschwindigkeit optimierte Grafiksoftware gehört. Ein genauer Liefertermin wurde allerdings noch nicht genannt.

(aw)

Info: HDS-Prüftechnik, Maria-Eich-Str. 1, 8000 München 60, Tel. 0 89/83 70 21

## Gut geschaltet

Aus Wien vom Ingenieur-Büro Köhler kommt eine C 64-/C 128-Erweiterung, die den User-Port für Schaltvorgänge verwendet. Ein Adaptermodul verbindet den Computer über eine galvanisch getrennte, serielle Schnittstelle mit verschiedenen Ein-/ Ausgabebaugruppen. Es sind bis zu 256 Relaisausgänge (220 Volt/10 Ampere) und 256 Eingänge (24 Volt) mit minimalem Aufwand realisierbar. Die einzelnen Baugruppen können auf installationsgerechten C‑Schienen aufgeschnappt werden.

(hm)

## Modem am C 64

Auf dem Stand der Firma Witte gab es Interessantes zu sehen. Dort wurde ein preiswertes Modem vorgeführt, das zwar noch nicht über eine FTZ-Nummer verfügt, dafür aber um so bessere Leistungen erwarten läßt. Das Modem beherrscht drei Betriebsarten, nämlich Bell 103 Originate/Answer, CCITT V.21 Originate/Answer und CCITT V.23. In diesen drei Betriebsarten sind Baudraten von 300 bis zu 1200 Baud im Vollduplexbetrieb vorgesehen. Der Anschluß an den C 64 ist relativ einfach, denn das Modem wird direkt auf den User-Port aufgesteckt. Der Vorteil dieses Modems soll in dem absolut störungsfreien Datentransfer zu in- und ausländischen Datenbanken und Mailboxen bestehen. Der Preis für das Modem wird sich auf etwa 398 Mark belaufen.

(hm)

## Neues vom EPROM-Markt

Bei Roos Elektronik hat man sich entschlossen, beide Wege der Datenspeicherung, auf EPROMs und CMOS-RAMs, zu gehen. Die Firma präsentierte vom preiswerten EPROM-Brenner für den Privatgebrauch bis zu Gangprogrammierer die ganze Palette dieser Zusatzgeräte. Gleichzeitig führte man aber auch ein Expansion-Port-Modul, das mit CMOS-RAMs ausgestattet ist. Obwohl sicher nicht ganz ohne Tricks möglich, so ist es dennoch gelungen, die gesamte Platine mit 1 x 8 (99 Mark) oder 2 x 8 KByte (129 Mark) einschließlich einer 9-Volt-Batterie in einem schmucken Gehäuse unterzubringen. Die Bedienung ist, dank eines auf dem Modul mitgelieferten Programms, das auch die Abspeicherung von Basic-Programmen bis zu 16 KByte Länge unterstützt, denkbar einfach. Für Programme, die nicht länger als 60 Blöcke auf der Diskette sind, könnte diese Art der Datenspeicherung sicherlich ein sinnvoller Ersatz für die EPROMs sein. Bei Anwendungen wie etwa dem Austausch des Betriebssystems oder der Verwendung von Bausteinen in Interfaceschaltungen, bleiben EPROMs allerdings weiterhin unersetzlich.

(aw)


# Aktion »Schule braucht Computer«

> bietet Schulen Software-Börse für Lehr- und Lernprogramme an

Aus Bonn kommt ein hoffnungsfroher Beitrag zum Jahr der Jugend. Diesmal nicht aus der Politik, sondern von dem gemeinnützigen Verein »Schule braucht Computer« e.V.

Der Verein will für Schulen eine Software-Börse einrichten. »Die Kreidezeit in der Schule ist zu Ende. Nur durch Einsatz modernster Technologien in Schulen und Ausbildungsstätten, nur durch ein innovationsfreundliches und zukunftsoptimistisches Klima in unserer Gesellschaft können wir unseren Technologierückstand gegenüber USAundJapan aufholen. Nur so bleiben wir international konkurrenzfähig. Im Jahr 1990 werden 70% der Beschäftigten Kentnisse auf dem Sektor der Informationsverarbeitung benötigen«, meint die Initiatorin und Pressesprecherin der Aktion »Schule braucht Computer« e.V. Regina Senft.

Der Verein bittet Schüler und Lehrer, die bereits Software für Unterrichtszwecke entwickelt haben, mit ihm Verbindung aufzunehmen. »Was nutzt es, die Schulen optimal mit Computern auszustatten, wenn die für Schüler geeignete Software fehlt? Packen wir beide Probleme im Interesse unserer ökonomischen und technologischen Zukunft an«, so R. Senft. Der Verein verweist auf das Beispiel der USA, wo sich die Zahl der Schulcomputer mehr als verzehnfacht hat und sich nach neuesten Prognosen in jedem der kommenden fünfJahre noch verdoppeln soll. »Was dort möglich ist, muß auch bei uns machbar sein«, meinte die Initiatorin des Vereins.

Interessierte Schulen, Schüler und Lehrer wenden sich an:

Info: Aktion »Schule braucht Computer« e.V. zu Hd. Regina Senft, Rheinallee 6, 5300 Bonn 2

## Elite-Gewinner gezogen

Auf der CFA in Frankfurt waren auf dem Stand von Rushware auch einige Mitarbeiter der Firma Firebird, dem Hersteller des Spiels »Elite« zu Gast. Wir packten die Gelegenheit am Schopfe und ließen Claire Rowbottom von Firebird die Gewinner unseres Preisausschreibens aus der Ausgabe 10 ziehen.

Insgesamt über 4000 Karten trafen bei uns ein. Davon sind allerdings viele Mehrfacheinsendungen abzuziehen. So manch einer hat wohl mehr Geld in das Postkartenporto gesteckt, als das Spiel eigentlich kosten. Folgende Gewinner erhalten in diesen Tagen die deutsche Version von »Elite«:
Margit Busch, Hannover
Michel Burens, Düdelingen (Luxemburg)
Ulrich Meier, Neu-Wulmstorf
Stefan Wischnewski, Homeburg
Gerald Köhn, Kaltenkirchen
Mathias Meier, Wolfsburg
Thomas Hosemann, Hamburg
Michael Kolbe, Windhausen
Slobodan Tokic, Düsseldorf
Erna Bujakiewicz, Gelsenkirchen
Peter Dommers, Duisburg
Detlef Michaelis, Mülheim
Frank Vielstädte, Herzebrock-Clamholz
Thorsten Schuster, Bramsche
Michael Brakelow, Grevenbroich
Achim Kraekel, Krefeld
Ralf Cadenbach, Hilden
Jörg Wedekind, Kirchen
Andreas Küpper, Freudenberg
Wolfgang Erdmann, Wetter
Roland Schleicher, Simmerath
Dirk Menzel, Köln
Jürgen Rausch, Wuppertal
Dirk Bartmann, Iserlohn
Elfriede Otto, Petersberg
Andreas Müller, Achtelsbach
Hans-Jürgen Andel, Groß-Rohrheim
Wolfgang Gödtel, Rüsselsheim
Rüdiger Scherer, Saarlouis
Louis Pahlow, Rosbach
Oliver Völksch, Mühlheim
Helge Süss, F1.-Weilboch
Michael Tapal, Eschenburg
Rainer Bonenberger, Freisen
Markus Mack, Stuttgart
Frank Csepregi, Echterdingen
Markus Lenz, Freiburg
Peter Warmuth, Ettlingen
Noell Martin, Bamberg
Rainer Mittermeier, Taufkirchen/Vils
Peter Markert, Bamberg
Helmut Schwaiger, Schecken
F. Strigel, Blaichach
Martin van den Boogaard, Untermerzbach
Bodo Igler, Kronach
Thomas Dittmeier, Aschaffenburg
Walter Marris, Ismaning
Louis Wooldrik, Enschede (Holland)
H.v.Harn, NK EDE (Holland)
Sandro Röllin, Bronschhofen (Schweiz)

(bs)

# Vergebliche Suche

Viele unserer Leser haben uns geschrieben, weil sie den angekündigten Umbausatz von der 1541 zur 2031 in Ausgabe 11/85 vermisst haben. Hier ist die Begründung für das Fehlen dieses Artikels.
Wir Redakteure versuchen die 64’er so aktuell wie möglich und natürlich mit den interessantesten Themen für Sie zu schreiben. Dabei helfen uns viele Programmierer, Entwickler und Anregungen aus den Leserbriefen. Als wir das Angebot für den Umbausatz der 1541 bekamen, war uns sofort klar, daß dieses Thema einen großen Leserkreis ansprechen würde. Die Entwicklung der Schaltung war fast fertig und auch die Software schien keine Probleme zu machen. Deshalb haben wir uns entschlossen, den Umbausatz anzukündigen. Nun muß man wissen, daß einige Teile der 64’er, wie die Vorschau auf die nächste Ausgabe und das Titelbild, fast zwei Monate vor dem Erscheinen der Zeitschrift fertig sein müssen. Danach ist eine Änderung des dort Geschriebenen kaum mehr möglich. Beim Umbausatz für die 1541 hat uns aber die Technik und die Urlaubszeit einen Streich gespielt. Wir stellten fest, daß der Umbausatz nicht ganz so funktionierte, wie wir (und unsere Leser) es erwartet haben. Gleichzeitig war der Entwickler der Schaltung aber in seinen Jahresurlaub gefahren — Pech für uns. Wir bitten diese falsche Ankündigung zu entschuldigen und hoffen erklärt zu haben, warum es dazu gekommen ist. Gleichzeitig haben wir aber auch gute Nachrichten: Das Interface ist mittlerweile fertig. Sie werden den kompletten Schaltplan und die Bauanleitung in Ausgabe 1/86 finden.

(aw)

# Leserforum

## Strichcode- und Druckerprobleme

Seit Januar 1985 besitze ich einen SX 64, das WW-92000G-Interface von Wiesemann und einen BMC-100 Matrixdrucker. Leider habe ich es bis heute nicht geschafft, die verschiedenen möglichen Schriftarten per Vizawrite (oder auch anderen käuflichen Programmen) einzustellen.

Wer hat Erfahrung mit obiger Gerätezusammenstellung und/ oder kann mir weitere Tips geben?

Außerdem suche ich einen Lesestift zum Lesen von Strichcode, anschließbar an den User-Port und ein passendes Umwandlungsprogramm fürDruck und Einlesen von Strichcode.

Thomas Hinni, Schweiz

## Vielstimmiger SID?

1.	Ist der C 64 über den Audio-ein-/ausgangauch als Effektgerät für E-Gitarren etc. nutzbar?
2.	Wie kann man den SID auch mehr als dreistimmig benutzen (Hard- oder Softwarelösung)?

Markus Gurnig

## Direktkontakt Floppy-Drucker?

1.	Ist ein direktes Drucken (Floppy = talk, Printer = listen) von der 1541 auf einen beliebigen seriellen Drucker oder auf den 1520-Printer-Plotter möglich?
2.	Wo gibt es ein disassembliertes und eventuell auch dokumentiertes ROM-Listing des 1520-Printer-Plotters? Wo kann man Informationen überden internen Aufbau föAM, ROM, I/O etc.) des 1520 bekommen?

Hermann Stamm

## »Blitztext« aufgehängt?

Ich arbeite auf meinem C 64 mit »Blitztext« von Hofacker und Drucker an RS232-Schnittstelle (1200 Baud). Wie entlocke ich dem Programm deutsche Sonderzeichen? Warum hängt sich das Programm auf, wenn der Drucker mehrmals »Puffer voll« meldet?

Martin Glenz

## Wer kennt Casio-Synthesizer?

Ich besitze einen Commodore 64 sowie einen Casio Synthesizer CZ 101/1000 mit Midi-Anschluß.

1.	Welche Hersteller bieten ein passendes Midi-Interface für den C 64 an?
2.	Wer bietet passende Software (Sequenzer, Composer, Synthesizer, Rhythmus, Soundspeicher) dafür an?

Mike Lieder

TODO ASIDE

## Fragen Sie doch

Selbst bei sorgfältiger Lektüre von Handbüchern und Programmbeschreibungen bleiben beim Anwender immer wieder Fragen offen. Viel mehr Fragen ergeben sich bei Computer-Interessenten, die noch keine festen Kontakte zu Händlern, Herstellern oder Computerclubs haben. Sie können der Redaktion Ihre Fragen schreiben oder Probleme schildern (am einfachsten auf der Karte »Lesermeinung«). Wirveranlassen, daß sie von einem Fachmann beantwortet werden. Allgemein interessierende Fragen und Antworten werden veröffentlicht, die übrigen brieflich beantwortet.

TODO ASIDE

## Ein Wort in eigener Sache

Das Leserforum ist das Forum des Gedanken- und Informationsaustausches für Sie, unsere Leser. Hier finden Sie Tips und Tricks für Geräte und Software, hier dürfen Erfahrungen ausgetauscht und Fragen gestellt werden. Damit das Leserforum noch aktueller und interessanter werden kann, bitten wir Sie, die folgenden Punkte zu beachten:

- Wenn Sie Fragen haben, schildern Sie Ihr Problem bitte möglichst umfassend und genau. Allgemeine Fragen wie zum Beispiel >Wie schließe ich eine 20 MByte-Festplatte an den C 64 an«, lassen sich halt beim besten Willen auch nur ebenso allgemein beantworten: »Mit einem Interface«.
- Wenn Sie uns eine Antwort auf eine im Leserforum veröffentlichte Frage schicken, dann sollte Ihr Schreiben bitte unbedingt die Ausgabe des 64’er-Magazins, in der die Frage veröffentlicht worden ist, sowie den Namen des Fragestellers enthalten, dazu möglichst auch noch eine Wiederholung der gestellten Frage in Kurzform. Sie erleichtern uns die Arbeit damit enorm.
- Um den Kontakt zwischen unseren Lesern noch mehr zu verbessern, werden wir in Zukunft auch vollständige Adressen abdrucken. Voraussetzung ist natürlich Ihr Einverständnis. Falls Sie also im Falle einer Veröffentlichung im Leserforum mit der Angabe Ihrer vollständigen Adresse einverstanden sind, dann fügen Sie Ihrem Schreiben bitte eine schriftliche Einverständniserklärung
(mit Unterschrift) bei. Auch für eine von Ihnen eventuell gewünschte Weiterleitung Ihres Schreibens an einen Fragesteller aus dem Leserforum benötigen wir Ihr schriftliches Einverständnis.
- In letzter Zeit häufen sich anonyme Zuschriften an das Leserforum, fast ausschließlich mit Phantasienamen gezeichnet, die an die Raubkopierer-Szene erinnern sollen. Dazu nur folgendes: Anonyme Schreiben werden im Leserforum weder veröffentlicht noch sonstwie beachtet. Wenn Sie Wert darauf legen, daß selbst Ihr Name nicht abgedruckt wird, dann teilen Sie uns das bitte im Anschreiben mit — in begründeten Einzelfällen kann dann für den Abdruck der Name von der Redaktion geändert werden. Zuschriften ohne Absender gehen allerdings — sorry — sofort in den Papierkorb.

(ev)

## Hardcopy mit MPS 802?

Ich arbeite mit einem C 64 und dem Drucker 1526/MPS 802 (Rev.07C).

1.	Wo bekomme ich eine lauffähige Hardcopy für diesen Drucker beziehungsweise wie kann ich andere Hardcopy-Routinen an diesen Drucker anpassen?
2.	Wie bekomme ich ein mit dem SMON erstelltes Programm ausgedruckt?
3.	Im Leserforum derAusgabe 8/85 schreibt Rainer Wiesenfarth unter der Überschrift »1526-Betriebssystem entschleiert«, es gebe beim 1526 fünf verschiedene Betriebssysteme und beschreibt sie auch im einzelnen. Mein Drucker hat aber das nicht aufgeführte System Rev.07C. Wie ist dieses System im Vergleich zu den anderen einzustufen?

Rolf Füntmann

## REM-Probleme

Im Commodore-Bedienungshandbuch steht in einem Listing auf Seite 147 in Zeile 290:
290 POKE SI+24,15 : REM +16+64 : POKE ...
Wie kommt es, daß das Programm das REM akzeptiert, aber ohne REM nicht richtig läuft?

2.	Was bedeutet eine Basic-Zeile, die nur einen Doppelpunkt enthält?

1.	Natürlich wird der REM-Befehl wie jeder andere Basic-Befehl vom Computer akzeptiert. Schlagen Sie doch bitte in Ihrem Handbuch die Bedeutung von REM nach. Sie werden finden, daß der C 64 alles hinter REM bis zum Ende der Zeile als Kommentar auffaßt. Das Programm läuft also mit oder ohne REM einwandfrei. Sie dürfen natürlich nicht den Fehler machen, nur das Wort »REM« zu löschen und den Rest der Zeile stehen zu lassen — das funktioniert genausowenig, als wenn Sie bei PRINT ’’HALLO” das Wort »PRINT« weglassen.
2.	Wenn der C 64 in einem Basic-Programm einen Doppelpunkt findet, dann interpretiert er diesen als Trennung zwischen zwei Befehlen. Enthält eine Zeile nur einen Doppelpunkt, dann findet der C 64 keinen weiteren Befehl und geht einfach zur nächsten Zeile. Durch »Doppelpunkt-Zeilen« werden Programme übersichtlicher.

(ev)


## Hier gibt's Astrologieprogramme

Wo gibt es Programme beziehungsweise Algorithmen zur Astrologie?

Elisabeth Cryns

Ausgabe 10/85

Ich kann folgende zwei Bücher zu diesem Thema empfehlen:
Peter Duffett-Smith, Practical Astronomy with your calculator, Cambridge University Press und Jean Meaus, Astronomical Formulae for Calculators, Vereniging voor Sterrenkunde v.zw., Ringlaan 3, B-U80 Brussel

Beide Titel sind englischsprachig und können über Verlag und Buchhandlung Michael Kuehnle, CH-6206 Neuenkirch, Schweiz, bezogen werden.

G. Bausch

Ich möchte Frau Cryns und anderen interessierten Lesern mitteilen, daß ich als nebenberuflicher Astrologe eigene Programme für den C 64 geschrieben habe. Das Programmpaket besteht aus drei Programmen (je etwa 140 Blöcke):

1.	Aussagen der Planeten hinsichtlich ihrer Stellung im jeweiligen Tierkreiszeichen
2.	Aussagen der Planeten die Häuserstellung betreffend
3.	Aussagen der Planeten hinsichtlich der gebildeten Aspekte

Der komplette Text wird auf Drucker (MPS 801) ausgegeben und umfaßt etwa 3,5 A4-Seiten.

Dieter Michel

## PL/1-Compiler für C 64?

Existiert ein PL/1-Compiler für den C 64? Wenn ja, wo kann ich ihn kaufen und wie teuer ist er?

Markus Barth

TODO ASIDE

## Wollen Sie antworten?

Wir veröffentlichen auf dieserSeite auch Fragen, die sich nicht ohne weiteres anhand eines guten Archivs oder aufgrund der Sachkunde eines Herstellers beziehungsweise Programmierers beantworten lassen. Das ist vor allem der Fall, wenn es um bestimmte Erfahrungen geht oder um die Suche nach speziellen Programmen. Wenn Sie eine Antwort auf eine hier veröffentlichte Frage wissen — oder eine andere, bessere Antwort als die hier gelesene, dann schreiben Sie uns. Antworten publizieren wir in einer der nächsten Ausgaben. Bei Bedarf stellen wir auch den Kontakt zwischen Lesern her.

## VC 20 und Centronics Mikroprinter?

In unserer Schule ist das Problem aufgetaucht, daß ein Commodore VC 20 mit einem Drucker »Centronics Mikroprinter Pl« zusammenarbeiten soll.

Wer kann uns zu einer Bauanleitung für ein Interface verhelfen, daskeine Speicherkapazität beim VC 20 belegt? Zum Vergleich beider Möglichkeiten suchen wir außerdem ein Programm, um den User-Port des VC 20 zu betreiben.

Und schließlich: Wo könnte es metallisiertes Papier für den Drucker in 12 cm Breite geben?

Wilfried Kolbe (Walter-Erbe-Realschule)

## HI-EDDI mit BMC BX80

Wie wird die Hardcopy-Routine von HI-EDDI an den Drucker BMC BX80 angepaßt?

Jürgen Bückle

Ausgabe 9/85

Ich selbst besitze den Drucker BMC BX80 und arbeite mit HI-EDDI. Bei der Hardcopy hatte ich noch nie Probleme, da der BX80 weitgehend kompatibel zu den Epson-Druckern ist. Nur in der Routine HI-PRINT müssen einige Steuerzeichen geändert werden, was aber nach Studium des (leider in Englisch verfaßten) Drucker-Handbuches nicht weiter schwer ist.

Für alle Interessierten hier ein Teillisting der Routine HI-PRINT mit den angepaßten Steuerzeichen. Man muß nur darauf achten, ob Auto-Linefeed eingeschaltet ist oder nicht. Die hier abgedruckten acht Zeilen sind einzugeben, wenn Auto-Linefeed eingeschaltet sein sollte, ansonsten muß lediglich Zeile 370 geändert werden:
340 DATA 0
350 DATA 4
360 DATA 1
370 DATA 13,255,255
380 DATA 27,65,7,255,255
390 DATA 27,75,255,255,255
400 DATA 27,50,255,255
410 DATA -2

Falls Auto-Linefeed ausgeschaltet ist, muß Zeile 370 lauten:
370 DATA 13,10,255

Natürlich muß aufgepaßt werden, ob man über den seriellen Bus oder über den User-Port arbeitet. Dementsprechend muß Zeile 340 angepaßt werden.

Volkmar Kosta

## PDP11-Programme auf C 64?

Durch ein Inserat im 64’er-Magazin wurde ich auf das Buch »Bauphysik mit Basic« von Uwe Th. Siemens, Luther-Verlag, aufmerksam. Beim Durchblättern des Buches geht auf Seite 6 hervor, daß diese Programme auf einem PDP11/03 Computer der Firma Digital Equipment (16-Bit-Prozessor) erstellt wurden. Auch das Buch der »51 Dialekte« aus dem gleichen Verlag half mir nur unwesentlich weiter, die Programme umzuschreiben.

Welcher 64’er-Leserhat genügend Programmiererfahrung und kann mir beim Umschreiben der Programme auf den C 64 helfen?

Klaus Henseler

## Unbekannte Fehlermeldung?

Meine 1541-Floppygibthäufig einen »File Data Error« von sich. Diese Meldung ist im Commodore-Handbuch nicht zu finden.

Jens Richter

Ausgabe 10/85

Dieses Problem beruht ganz einfach auf verschiedenartigen Handbüchern, die im Umlauf sind: Der »File Data Error« ist in manchen (älteren) Handbüchern noch als »Bad Data Error« beschrieben und bedeutet, daß von einem File Stringdaten gelesen, aber numerische Daten erwartet wurden.

Jürgen Hardung

## Leser fragen - Willi Brechtl antwortet

> Hallo liebe Leser, hier bin ich wieder, um Eure Fragen zu beantworten.

Ich werde mich hauptsächlich um Leserbriefe kümmern, die nicht in das sachliche Einerlei des Leserforums passen. Zum Beispiel Fragen, die sich aus dem einen oder anderen Grund nur ganz subjektiv beantworten lassen. Oft genug tauchen auch Probleme auf, die sich nicht mit einem kurzen Antwortsatz abhandeln lassen. Und wenn selbst eine längere Antwort im Rahmen des Leserforums nicht mehr ausreichen würde, dann ist das ganz klar ein Fall für Willi Brechtl.

Also: Wenn Sie als Anfänger Probleme mit Computer, Software oder Handbuch haben, dann wenden Sie sich in Zukunft doch einfach vertrauensvoll direkt an mich.

## Tips zu Farbbandkassetten

Seit einiger Zeit ärgere ich mich über die Farbbandkassetten für meinen Commodore-Drucker MPS-801. Obwohl ich den Drucker nicht übermäßig beanspruche, wurde das Schriftbild in relativ kurzer Zeit blaß.

Gemäß Handbuch sollte das aber kein Problem sein, da man in solchen Fällen ganz einfach die Tintenpatrone auswechselt.

Zum Problem wird dann allerdings die Beschaffung einer Tintenpatrone. Alle meine Bemühungen bei diversen Fachhändlern brachten keinen Erfolg. Eine schriftliche Anfrage bei Commodore erbrachte die lapidare Antwort, es handele sich bei dem Handbuch um eine Übersetzung aus dem Amerikanischen, bei dem auf Produkte hingewiesen werde, die in Europa nicht erhältlich seien. So blieb nichts anderes übrig, als in relativ kurzen Abständen eine komplette Farbbandkassette neu zu kaufen, obwohl die alte Kassette mechanisch noch in Ordnung ist.

Ein Berater in einem Computer-Fachgeschäft gab mir den »guten Rat«, die leere Patrone doch einfach mit Stempelfarbe aufzufüllen. Ich kann allerdings jeden Besitzer eines Druckers nur davor warnen: Die Stempelfarbe verklebt den Mechanismus der Farbbandführung. Nach kurzer Zeit ließ sich das Band nicht mehr transportieren.

Erst meine Anfrage bei einem bekannten Farbbandfabrikanten führte zum Erfolg:

Im Bürofachhandel in der Schweiz gibt es eine »Auffrisch-Farbe, schwarz« mit der Bezeichnung »1-A-35« zu kaufen. Falls der Händler diese Farbe zufällig nicht am Lager hat, ist er sicher bereit, diese beim Hersteller, Firma Franz Büttner, Gewerbestr. 9, CH-8132 Egg/ZH zu beschaffen. Diese Firma liefert nur über den Fachhandel.

Falls das Farbband nicht schon mit Stempelfarbe unbrauchbar gemacht wurde, kann die Patrone ganz einfach mit einer medizinischen Spritze nachgefüllt werden. Auch durch »Einweichen« in der Auffrischerfarbe können gute Ergebnisse erzielt werden.

Erwin Bärtschi

# Monitore

> Was wäre ein Computer ohne Datensichtgerät? Der Bildschirm ist eigentlich das wichtigste Ausgabegerät eines Computers. Hier zeigen wir Ihnen, wie ein Monitor funktioniert und was Sie beim Kauf beachten sollten.

Dank des rasenden Fortschritts auf dem Elektroniksektor wurden die Datensichtgeräte immer besser und billiger. Diese Entwicklung führte aber dazu, daß sich der Käufer unter einer unüberschaubaren Flut von Typen zu entscheiden hat. Um Ihnen eine Einkaufsberatung zu bieten, haben wir uns entschlossen, Ihnen die nötigen Grundlagen zu bieten. Wir möchten, daß Sie durch das Verständnis der technischen Zusammenhänge Fehlentscheidungen vermeiden können.

Mit einem Fernseher lassen sich bis zu 40 Zeichen pro Zeile darstellen. Eine »Mindestleistung« die heute fast alle Heimcomputer fordern. Spätestens seit Einführung der ersten Farb-Heimcomputer mit 80-Zeichen-Darstellung ist ein Monitor fast unabdingbar.

In diesem Zusammenhang wollen wir Ihnen zeigen, wie ein Computer eigentlich ein Bildsignal erzeugt.

Ein Speicher im Computer enthält Zeicheninformationen in binärer Codierung, die als digitale Information dem Video-Chip zur Verfügung stehen. Nach unserer Fernsehnorm (CCIR-Norm PAL B/G) ist die Dauer eines Elektronenstrahl-Durchlaufs gleich der Netzfrequenz: Der Elektronenstrahl bewegt sich 50mal pro Sekunde diagonal über den Bildschirm; von links nach rechts. Die Frequenz von 50 Hz ist zweckmäßig, da man diese Steuerfrequenz leicht aus der Netzfrequenz gewinnen kann. Die Zahl von 50 Bildern pro Sekunde entstand aus der Forderung, die Trägheit des menschlichen Auges mit mindestens 24 Bildern pro Sekunde zu überlisten.

## So kommt ein Zeichen auf den Bildschirm

Früher glaubte man, daß 18 Bilder je Sekunde ausreichen würden. Aber die Bewegungen waren ziemlich ruckartig und das Bild flimmerte recht stark, während bei 24 Bildern pro Sekunde das Flimmern stark zurückgeht. Wenn auch nicht ganz. Dieses Restflimmern hat man dadurch beseitigt, daß man die »Flimmerfrequenz« verdoppelte, also 50 »halbe« Bilder statt 50 »ganze« schreibt. Das geschieht in der Weise, daß zuerst die ungeradzahligen, dann die geradzahligen Zeilen geschrieben werden. Man nennt diesen Trick das »Zeilensprung-Verfahren«. Das Zeilensprung-Verfahren, auch »Interlace« genannt, ist viel billiger zu realisieren als ein Non-Interlace-Bild mit 50 Vollbildern pro Sekunde, da die Anforderungen an Interlace-Monitore viel geringer sind.

Ein Teilbild besteht wegen der diagonalen Entstehung aus 312,5 Zeilen. Ein ganzes Bild ist aus 625 Zeilen zusammengesetzt (Bild 1). Da ein ganzes Bild 25mal pro Sekunde erzeugt wird, enthält man eine »Zeilenfrequenz« von 25 x 625 = 15 625 Hertz. Bei einigen Fernsehgeräten kann man diese Frequenz auch hören, denn die Schwingungen müssen vom Zeilentransformator und den Ablenkspulen der Bildröhre übertragen werden. Durch die Zwischenräume der Drahtwicklungen können diese Spulen vibrieren und man hört deshalb häufig einen hohen Pfeifton.

Unsere Fernsehnorm erwartet vom Sender eine negative Modulation, das heißt der Bildinhalt wird als negative Spannungsform übertragen, die Steuerimpulse als positive (Bild 2).

Die Zeileninformation ist jeweils 64 Mikrosekunden lang und enthält in den ersten 12 Mikrosekunden einen Synchronisationsimpuls von etwa 5 Mikrosekunden Dauer mit 100-Prozent-Pegel und einen etwa gleich langen Impuls mit einem Pegel von 75 Prozent der maximalen Spannungen, der dem sogenannten »Schwarzpegel« entspricht. Der Fernseher interpretiert diesen Wert als »schwarz«. Dieser Impuls ist der sogenannte »Austastimpuls«. Jetzt spricht man vom Bildinhalt+Austastimpuls + Synchronimpuls-Signal. Kurz: BAS-Signal. Dieses Signal ist ein Schwarzweiß- beziehungsweise Hell/Dunkel-Signal, das vom Video-Teil von Schwarzweiß- und Farbfernsehern gleich »verstanden« wird. Ein Farbsignal ist noch um einiges komplizierter.

Damit zu der Frage: Wann ist das Signal vollständig? Im folgenden wird untersucht, wie ein RGB-Signal und ein FBAS-Signal erzeugt wird. An dieser Stelle muß das Gate-Array zur Sprache kommen. Von den vielen Aufgaben, die dieser Baustein zu bewältigen hat, hier die für die Bilderzeugung notwendigen:

- Erzeugung aller benötigten Taktfrequenzen
- Erzeugung der Videosignale
- Steuerung des Bildschirm-Modus
- Speicherung der Schreibfarben
- Erzeugung von RGB-Signalen
- Datentransfer zwischen CPU und Video-Chip

Die im Gate-Array erzeugten RGB-Signale ermöglichen theoretisch eine Beschreibung von 512 Farben (inklusive schwarz und weiß).

In der Heimcomputer-Praxis wird jedoch (abhängig von der Bit-Breite des Videoprozessors) die gleichzeitige Darstellung von acht Farben die vorläufige Obergrenze sein. Durch eine zusätzliche Helligkeitsinformation (Intensitäts-Bit, Darstellung hell oder dunkel) erhält man 16 Farbtöne. Man muß sich die Farberzeugung etwa so vorstellen:

TODO TABLE

Eingangssignal erzeugte Farbe
R G B
LLL	LLL	LLL	Schwarz
HHH	LLL	LLL	Rot
LLL	HHH	LLL	Grün
LLL	LLL	HHH	Blau
HHH	HHH	HHH	Weiß
und die daraus resultierenden Mischfarben

Aus den Buchstaben »H« für High- und »L« für Low-Pegel kann man ersehen, wie diese Signale in digitaler Form vorliegen. Dazu mehr bei »TTL-Pegel« im Stichwortverzeichnis. Ein Rechteck-Signal ist die Kurve, die durch ständiges Ein- und Ausschalten einer Spannung entsteht.

Durch primitive Digital-Analog-Wandler wird die digitale Impuls-Information in manchen Monitoren oder Fernsehern in analoge Spannungen umgewandelt:
langer Impuls = hohe Spannung
kurzer Impuls = kleine Spannung

Vollständig wird das Signal durch die Helligkeitsinformation des Inten-sitäts-Bits, dem bereits erwähnten Synchronimpuls, einem Vergleichspotential und Masse. Das wäre die reinste Form eines Farbsignals, ein RGB-Signal.

In der Praxis findet man sowohl digitale als auch analoge RGB-Ausgänge, im Bereich der Mikrocomputer überwiegen aber noch digitale RGB-Anschlüsse. Der Unterschied des analogen zum digitalen RGB-Signals liegt darin, daß die Intensität der drei Farben Rot, Grün und Blau stufenlos variiert werden kann (analoge Signalstärke). Dadurch werden fast alle vorstellbaren Farbtöne möglich. Beim Amiga können deshalb 4096 Farben dargestellt werden. Das RGB-Signal ist prinzipiell an alle Farbgeräte mit RGB- oder SCART-Eingängen anschließbar. SCART ist aus dem Französischen und heißt: Syndicat des Constructeurs dApareils Radio recepteurs et Televiseurs, also in etwa »Verband der Konstrukteure von Radio- und Fernseh-Empfängern«. Es ist ein Versuch, einen europäischen Standard zu setzen. Man hat das Gefühl, es klappt.

Die Belegung der SCART-Buchse finden Sie im folgenden Beitrag, den Anschlußhinweisen.

Geräte nach SCART-Norm erwarten dazu eine zusätzliche Schaltspannung (Pin 8), die jedoch nicht erforderlich ist, wenn man die AV-Taste am Fernseher betätigt.

Damit wären wir bei der nächsten Stufe angelangt, der Aufbereitung der RGB-Signale zum kompletten Video-Signal. Die einzelnen RGB-Signale werden dazu durch eine Matrix-Schaltung miteinander verknüpft. Man erhält so die Helligkeitsinformation »Y«, auch Luminanz-Singal genannt. Nimmt man dieses Luminanz-Signal zusammen mit dem Synchronisations- und Austastimpuls, so kann man bereits einen Schwarzweiß-Monitor (Monochrom-Monitor) ansteuern. Es handelt sich dann um das schon erwähnte BAS-Signal, aus dem angelsächsischen Sprachraum auch als Composite-Signal bekannt.

Viele werden sich jetzt fragen, warum trotz der Farbanteile nur ein Schwarzweiß-Bild entsteht.

Der Grund liegt im Fehlen eines Übermittlers für die Farbinformation. Dabei wird ein sogenannter Farbträger, eine hochfrequente Trägerwelle von 4,4336 MHz, nach einem sorgsam ausgetüftelten System amplitudenmoduliert.

Auf der Suche nach einer geeigneten Frequenz mußte man darauf achten, daß das erzeugte Farbsignalgemisch auch zum herkömmlichen S/W-Signal kompatibel war. Um Störungen mit der Zeilenfrequenz zu vermeiden, einigte man sich schließlich auf die 4,4336 MHz. Blieb noch das Problem, mit einer einzigen Hilfsfrequenz mehrere Farbinformationen gleichzeitig zu übertragen. Man untersuchte das Helligkeitsempfinden des menschlichen Auges und fand heraus, daß die Farbe Grün als hellste Farbe empfunden wird.

Da ja mit der Helligkeitsinformation (Y) die Summe aller Farbinformationen übertragen wird, braucht man nur noch zwei der drei Farbanteile als Differenzsignale zu übertragen und kann die dritte Komponente im Empfänger »rechnerisch« über eine Subtraktionsschaltung zurückgewinnen.

Es reicht also, die Anteile (R-Y) und (B-Y) sowie die Summe aller Helligkeitsinformationen zu übertragen und den Grünanteil daraus zu errechnen. Man könnte genausogut einen der anderen beiden Anteile übertragen, aber wegen der geringeren Werte von (R-Y) und (B-Y) gegenüber G-Y spart man Videobandbreite. Die Kosten eines Monitors steigen wesentlich schneller an als seine Videobandbreite. Ganz abgesehen davon ist der Rechenfehler auf diese Weise geringer. Zum Verständnis ein paar Zahlen:

Das 100%-Helligkeits-Signal heißt »Y« und setzt sich zusammen aus Y = 30% Rot + 59% Grün + 11% Blau. Anders ausgedrückt:
Y = 0,3 R + 0,59 G + 0,11 B

Zieht man von beiden Seiten dieser Gleichung Y ab, so erhält man die Farbdifferenzsignale R-Y,G-Y,B-Y. Die Pegel der Differenzsignale werden danach reduziert, um Übersteuerungen bei der Modulation zu vermeiden. Um Verwechslungen zu vermeiden, benennt man sie um:
V entspricht 0,88 x (R-Y)
U entspricht 0,49 x (B-Y)

Der Trick, beide Anteile mit einer einzigen Frequenz übertragen zu können, besteht darin, daß man das zweite Signal zeitlich verzögert aufmoduliert. Man spricht von einer um 90 Grad verschobenen Phasenlage zueinander (Bild 3). Ein elektrisches Signal hat eine begrenzte Dauer, eine Periode, die sich mit einer 360-Grad-Aufteilung in Zeitabschnitte zerlegen läßt. Ein sinusförmiges Wechselsignal hat nach der positiven Halbwelle, der 1. zeitlichen Hälfte, die Amplitude 0 (keine Spannung) und die Phasenlage 180 Grad. Danach beginnt die sogenannte negative Halbwelle.

Auf der Spitze der positiven Halbwelle hat das Signal die Amplitude 100 Prozent und eine Phasenlage von 90 Grad. Hier läßt man jetzt die positive Halbwelle des zweiten Signals beginnen. Es werden somit alle vier Quadranten eines Koordinatensystems durchlaufen. Man nennt diesen Vorgang daher Quadratur-Modulation. Das Ergebnis ist ein Farbart-Vektor, der als Produkt der Phasenlagen und Amplituden beider Differenzsignale die nötigen Farbinformationen liefert.

Der eigentliche Farbträger wird anschließend unterdrückt bis auf 12 — 14 Perioden, die als Farbsynchronisations-Impuls dienen. Der englische Ausdruck »Burst« (Stoß) wurde hierfür aus Bequemlichkeit übernommen. Dieser Burst sitzt auf der sogenannten hinteren Schwarzschulter, dem Teil, der dem Synchron-Impuls folgt. Das ist ein etwa 5 Mikrosekunden langer Teilimpuls mit 75 Prozent Pegel, also Schwarzpegel (angenommen, daß Schwarzpegel gleich Austastpegel ist). Durch diese Schwarzschulter wird verhindert, daß der Zeilenrücklauf als helle Linie zu sehen ist (Bild 2).

Das Farbart-Signal (englisch: Chrominance) wird in Verbindung mit dem Luminanz-Signal zum FBAS-Signal und damit zum vollständigen Farb-Video-Signal (FBAS = Farbart-Bild-Austast-Synchron-Signal).

Hat man jedoch weder Monitor noch Fernseher mit Videoeingang, dann muß das FBAS-Signal noch durch einen VHF- oder UHF-Modulator in ein antennengerechtes Fernsehsignal umgesetzt werden. An dieser Stelle sollen einmal die Bandbreiten der Signale gegenübergestellt werden. Das Fernsehbild mit seinen 625 Zeilen hat ein Seitenverhältnis von 4:3. Das bedeutet also, daß waagrecht (625x4)/3 = 833 Bildpunkte übertragen werden müssen. Bei 625 Zeilen wären die 625 x 833 = 520 625 Bildpunkte. Bei 25 Bildern pro Sekunde sind das 13 Millionen Bildpunkte/Sekunde! Nimmt man den Extremfall an, daß von jedem Punkt zum nächsten immer der maximale Helligkeitssprung schwarz-weiß-schwarz stattfindet, so entstünde eine Übertragungsfrequenz von 13/2 Millionen Hertz, also 6,5 MHz. Da man davon ausgeht, daß dieser Fall jedoch so gut wie nie auftritt, hat man gewisse Unschärfen akzeptiert und die Höchstgrenze bei der Fernsehnorm auf 5 MHz Videobandbreite fixiert. Das entspricht der Bandbreite von Y. Die Farbdifferenzsignale haben eine Bandbreite von 1,3 MHz.

Wie man jetzt schon erkennen kann, bringt ein Farbmonitor mit 7-10 MHz Videobandbreite nicht viel Vorteil gegenüber einem guten Farbfernseher mit Videoeingang. Der Grund für extrem hohe Bandbreiten bei teureren Modellen liegt in der Tatsache begründet, daß 80-Zeichen-Schrift bei der 25-Bild-Darstellung und ungenügendem Bildpunktraster nicht gut möglich ist. Feinste Raster und 50 Bilder pro Sekunde erfordern aber aufwendige Produktionstechnik und doppelte bis dreifache Videobandbreite.

Soweit eine erste Einführung in die Signalerzeugung. Wenn man bedenkt, was dem armen Farbsignal unterwegs alles passiert, wundert man sich nicht mehr über das oft traurige Ergebnis. Einen Vergleich der Bildqualitäten von einem monochromen Monitor, Farbfernseher und Farbmonitor zeigt Bild 4.

## Aufbau und Funktion der Bildröhre

Eine Bildröhre (Bild 5 und 6) besteht im wesentlichen aus einem Glaskolben, der an einem Ende abgeplattet, am anderen Ende flaschenartig verjüngt ist. Aus dem hinteren Ende ragen Anschlußstifte, die die Verbindung von außen nach innen herstellen. Dazu gehören Heizdrähte zum Erwärmen der Kathodenbleche, die Anschlüsse für die Kathoden und für die Gitter. Wenn die Kathodenbleche genügend erwärmt sind, bilden sich kleine Elektronenwölkchen in der Vakuumröhre. Liegt nun eine negative Spannung an den Kathoden, erfolgt eine Elektronen-Emission (Aussendung).

Am anderen Ende der Bildröhre befindet sich eine Graphitschicht, an die von außen eine positive Hochspannung von bis zu 25000 V angelegt wird. Da entgegengesetzte Ladungen einander bekanntlich anziehen, saust ein regelrechter Elektronenschwall, derStrahlstrom, in Richtung dieser »Anode«. Anode nennt man bei Röhren den Pluspol. Damit die Elektronen sich nicht wild ausbreiten, hat man Fokussiereinheiten eingebaut, die den Strahl fein bündeln.
Jedes negativ geladene Hindernis auf der Bahn der Elektronen vermindert die Kraft und Intensität des Strahlstroms. Man bedient sich dieser Wirkung, um die Elektronen zu steuern. Die Intensitätssteuerung geschieht mit Hilfe von sogenannten Gittern. Da ja nicht nur ein Punkt, sondern ein ganzes Bild abgebildet werden soll, muß der Strahl von links nach rechts und von oben nach unten bewegt werden. Diese »Zeilensteuerung« erfolgt über die Ablenkspulen. Diese sind um 90 Grad versetzt um den Hals der Bildröhre angeordnet. Wird an die vertikal angeordneten Spulen eine Kippspannung angelegt, wird der Strahl »langsam« über die Bildschirmbreite geführt und »schnell« wieder zurück. Die horizontal angeordneten Spulen bewirken, daß der Strahl nach jedem Zeilendurchlauf eine Zeile tiefer geschaltet wird. Die von den Spulen erzeugten Magnetfelder bewirken also die eigentliche Steuerung.

Damit man ein geschlossenes Bild sieht, wird auf dem Schirm innen eine Schicht aus phosphoreszierenden Leuchtkörpern aufgetragen. Diese leuchten etwas nach, wodurch ein weicher Übergang entsteht.

Erhöht man diese Nachleuchtdauer über %o Sekunde, so leuchtet der Punkt noch auf, wenn die nächste Bildinformation übertragen wird. Man sollte beachten, daß derartige Nachleuchtröhren für schnelle Bildwechsel nicht geeignet sind. Besonders gilt das für die Lightpen-An-wendung.

Bei der Farbröhre heißen die Leuchtpunkte Tripel, da sie aus drei Farbpunkten zusammengesetzt sind, nämlich aus den Farben Rot, Grün und Blau. Addiert man diese Farben, erhält man »Weiß«. Drei einzeln angesteuerte Elektronenstrahlen werden hier gebündelt und durch Lochmasken oder Schlitzmasken daran gehindert, unbeabsichtigt falsche Tripel anzuregen. Die Qualität der Maske und der Tripelabstand zueinander sind wesentliche Faktoren für die Bildschärfe.

## Datensichtgerät für den Heimgebrauch: Monitor oder Fernseher?

Was wäre der schönste Computer ohne Ausgabe-Terminals? Der Bildschirm, als meist verwendetes Terminal, soll hier einmal näher betrachtet werden. Da wäre zunächst das Fernsehgerät als bescheidene Variante. Über die Antennenbuchse wird das mehrfach modulierte Bildsignal eingespeist und von der Hochfrequenz befreit. Einen solchen Vorgang, bei dem ein Signalgemisch getrennt wird, bezeichnet man als »Demodulation«. Erst nach einer weiteren Stufe (kurz ZF-Stufe) gelangt das Bild an den eigentlichen Videoteil.

Beim Farbgerät wird danach das Farbartsignal (auch Chromasignal oder Chrominanz genannt) vom Luminanzsignal Y und dem Farb-Synchronsignal, dem Burst, befreit. Dabei entstehen wieder die Farbdifferenzsignale R-Y, B-Y und G-Y.

Für die eigentliche Bildröhrenansteuerung gibt es zwei Möglichkeiten:
1)	Bildröhre wird farbdifferenzgesteuert. Das Luminanzsignal steuert die Intensität der Kathoden-Emis-sion. Die Farbdifferenzsignale liegen an den Steuergittern der Röhre und erzeugen so eine »subtraktive« Farbmischung. Die Bildröhre dient quasi als RGB-Matrix. Dabei hat die Luminanz Y eine Bandbreite von über 4 MHz, die Farbdifferenzsignale nur etwa je 1,3 MHz.
2)	Bildröhre wird RGB-gesteuert. Aus den Farbdifferenzsignalen und dem Luminanzsignal werden über eine Matrix-Schaltung die Rot-, Grün- und Blau-Anteile als reine RGB-Signale zurückgewonnen. Jetzt entsteht durch die drei Elektronenstrahlen in der Bildröhre eine additive Farbmischung. Zur Erinnerung: 0,3R + 0,59G + O,llB = Y

Die RGB-Matrix ist hier also ein eigener Teil. R-, G- und B-Anteile haben eine gleiche Bandbreite von 4 MHz. Wie man aus der kleinen Formel entnehmen kann, gelangt das Luminanzsignal Y bei der RGB-Steuerung nicht selbst an die Bildröhre, sondern wird zur Wiedergewinnung der Farbanteile »verbraten«.

Welchem System der Vorzug zu geben ist, darüber fachsimpeln die Technik-Freaks noch heute ergebnislos. Im Bereich Monitore hat sich jedoch ein großer Teil der Hersteller, besonders bei uns, auf RGB-Steuerung »eingeschossen«.

Bei einfarbigen (monochromen) Bildschirmen entfallen diese Vorgänge. Das Helligkeitssignal steuert direkt den Strahlstrom, der aus dem Spannungsgefälle zwischen der Kathode und dem Steuergitter der S/W(Monochrom)-Rohre entsteht. Je höher der Strahlstrom, desto größer die Helligkeit.

Zurück zur Farbe. Ein HF-moduliertes FBAS-Signal ist die schlechteste Version eines Farbsignals. Durch die computerseitigen Modulationsvorgänge verliert das Farbsignal seine ursprüngliche Bandbreite. Das hat zur Folge, daß eine Auflösung bei dünnen, senkrechten Linien nur bis zu einem gewissen Grad erfolgen kann. Ab dieser Auflösung verwischt das Bild. Im ungünstigsten Fall bedeutet das für uns Computerfans eine Obergrenze von 20 Zeichen pro Zeile. Meist lassen sich jedoch 40 Zeichen noch ganz ordentlich farbig darstellen. Mehr ist aber ganz bestimmt nicht »drin«. Für 40-Zeichen-Darstellung braucht man bereits eine Videobandbreite von 4 bis 5 MHz. Für 80 Zeichen braucht man höchstwertige Farbröhren, deren dreifache Farbleuchtpunkte, Tripel genannt, einen Abstand von höchstens 0,4 mm zueinander haben dürfen. Das bedeutet bei gleichen Bildschirmabmessungen mehr Bildpunkte, die aufgelöst werden können. Ganz klar, daß die Videobandbreite sofort sprunghaft ansteigt. Da alle erforderlichen Signale an Komplexität zunehmen, erhöht sich die Übertragungsfrequenz erheblich — die Videobandbreite steigt auf 18 MHz. Bei Anwendung der Non-Interlace-Technik reicht aber selbst das nicht aus. Außerdem ist eine Schlitzmaske (Bild 7) anstelle der gewöhnlichen Lochmaske von Vorteil, da die Strahlen exakter fokussiert und senkrechte Linien unterstützt werden.

Mithin ist klar: Qualität ist teuer. 80 Zeichen in Farbe bedeutet in der Regel die Anschaffung eines teuren Industrie-Monitors, der auch mit Non-Interlace-Technik arbeitet, falls der Computer ein entsprechendes Signal bereitstellt. Dabei werden — anders als beim Zeilensprungverfahren — statt 25 Vollbilder aus 50 Halbbildern tatsächlich 50 (!) Vollbilder/Sekunde erzeugt.

Die erforderlichen Videoverstärker haben meist eine Bandbreite von mehr als 25 MHz, ja sogar neuerdings mehr als 100 MHz. Die Kosten sind dabei enorm. Vor dem Ankauf eines Datensichtgerätes muß sich jeder für sich überlegen, wofür er den Bildschirm braucht: Textverarbeitung, Grafik, Programm-Erstellung oder ganz einfach für Spiele. Der normale Anwender ist gut bedient mit einem hochauflösenden Monochrom-Monitor für 80-Zeichen-Darstellung bei Textverarbeitung und einem separaten Farbfernseher für Spiele, und zur Farbkontrolle von eigenen und fremden Programmen. Interessant ist, daß der Tripelabstand beziehungsweise der Pixelabstand fertigungsbedingt konstant, also von der Größe des Bildschirms unabhängig, ist. Größerer Durchmesser bedeutet somit höhere Auflösung, da mehr Bildpunkte pro Zeile zur Verfügung stehen. Erfahrungsgemäß sitzt der Computerfan jedoch in sehr kurzem Abstand vor dem Bildschirm und sieht also statt des erwarteten scharfen Bildes verschmierte Farbübergänge durch die sichtbaren Farbtripel. Auch machen sich aus diesem Abstand Flimmereffekte besonders störend bemerkbar.

Der Kompromiß liegt daher etwa bei Bildschirmdiagonalen von 12 bis 14 Zoll oder etwa 36 Zentimetern. Zieht man die Anschaffung eines bernsteinfarbenen Monitors in Betracht, so sei darauf hingewiesen, daß diese wegen der Nachleuchtröhren für Lightpens nicht geeignet sind. Wählt man einen Monitor mit Mehr-Norm-Anschluß (AV/RGB, SCART), so kann man bei einem späteren Systemwechsel denselben Apparat weiterverwenden und spart so Geld. Die Anschlußnormen (Spannungspegel!) sind leider immer noch ein heißes Eisen. Man sollte darauf achten, daß der Computer und der Monitor problemlos aneinander anschließbar sind. Damit ist gemeint, daß man seinen Computer an den erwählten Monitor vom Händler anschließen läßt und selbst ausprobiert. Außerdem sollte das Format eingehalten werden. Ein Computer mit einem Pixel-Raster von 320 x 200 erfordert einen Bildschirm, der mindestens die gleiche Auflösung bieten kann. Zum Beispiel also 320 x 200 Pixel. Überschreitungen sind zulässig, ja sogar der Bildschärfe förderlich. Hat der Monitor aber eine wesentlich höhere Auflösung als der Computer, kann eine »zerrissene« Zeichendarstellung die Folge sein, weil jeder Pixel für sich deutlich sichtbar ist.

Eine naheliegende Variante bietet eine preisgünstige Alternative: Ein Fernsehgerät mit AV (Video)-Eingang. Ein HF-Modulator entfällt, und natürlich muß im Gerät auch nicht demoduliert werden. Das gilt auch für Geräte mit kombinierten Luminanz/Chrominanz-Eingängen. Dadurch ergibt sich ein besseres Bild. Die beste Farbqualität erhält man mit RGB-Monitoren, da bei ihnen die Farbsignale in ihrer reinsten Form, ohne große Manipulationen, an die Bildröhre gelangen. In der Vergangenheit war allerdings wenig Bedarf, da Computer mit RGB-Ausgängen eine Seltenheit waren. Nicht erst seit dem »Schneider« hat RGB eine rasante Verbreitung erfahren. Auch Atari und Commodore »machen in Qualität«. Sehr viele Fernseher mit SCART-Anschluß können bereits mit RGB-Signalen angesteuert werden. 80 Zeichen pro Zeile sind lesbar. Wer ein superscharfes Bild haben möchte, der wird wohl oder übel in den sauren Apfel beißen und einen RGB-Industrie-Monitor anschaffen müssen.

(Helmut Jungkunz/hm)

TODO ASIDE

## Die wichtigsten Auswahlkriterien:
### Videobandbreite:

Qualitätsstufe der Video-Elektronik sind 5 bis 7 MHz bei einem normalen Farbfernsehgerät. Über 10 MHz Bandbreite haben die Geräte eine mittlere Auflösung, über 18 MHz eine hohe Auflösung.
Pixel (Tripel-)-Abstand:
über 0,5 mm = mäßige Schärfe
unter 0,4 mm = gute Schärfe
unter 0,35 mm = exzellente Schärfe

Prinzipiell ist der Pixel-Abstand das wichtigste Qualitätskriterium.

### Schlitzmaske:

Besser als Lochmaske. Besonders bei Textdarstellung sind senkrechte Kanten schärfer. Die hohen Präzisionsanforderungen bei der Herstellung machen die Schlitzmaske zum Teil erheblich teurer als die Lochmaske.

### Bildröhren-Arten:

Monochrom-Röhren werten nur die Helligkeitsinformation des Video-Signals aus. Farbröhren enthalten eine Lochmaske oder eine Schlitzmaske, die verhindert, daß Farbstreuungen entstehen.

Im Gegensatz zu Monochrom-Röhren enthalten Farbröhren drei Kathoden zur Erzeugung von Elektronenstrahlen. Wesentliches Qualitätsmerkmal bei Bildröhren sind der Pixelabstand und die Anzahl der Pixel, sowohl in horizontaler als auch in vertikaler Ebene. Je mehr, desto besser. Mindestens jedoch so viele, wie der anzuschließende Computer braucht.

Eingangsspannungen, Eingangspegel: Ein Punkt, der gern übersehen wird. Passen Art und Größe der Signale des Computers mit dem Eingang des Monitors zusammen? Anpassen kostet Geld und Nerven — also voher überlegen. Leider geben die meisten Handbücher nur unzureichend Aufschluß über einen Ausgangspegel. Besser als selbst anschließen ist es, sich eine Komplettlösung (Monitor und passendes Kabel) zu kaufen.

TODO ASIDE

## Stichwortsammlung

### TTL-Pegel:

(Transistor-Transistor-Logik)

Digitale Impulse der Form »Low« oder »High«. Für TTL-Ausgänge gilt: Low ist der Zustand zwischen 0 und 0,4 V. High liegt zwischen 2,4 und 5 V; Spannungen von 0,4 bis 2,4 V sind nicht erlaubt. Deshalb wird diese Zone der »verbotene Bereich« genannt.

TTL-Signale sind Rechtecksignale unterschiedlicher Pulsbreite, aber eines gemeinsamen Spannungsniveaus.

### RGB-Digital:

Farbkomponenten des von Computern erzeugten Bildes in Form von Impulsen mit TTL-Pegel. Maximal können damit 512 Farben dargestellt werden.

### RGB-Analog:

Farbkomponenten eines Videobildes mit unterschiedlichem, wechselnden Pegel. Bestimmt die Intensität des Elektronenstrahls. Theoretisch können durch diese Technik beliebig viele Farben erzeugt werden.

### Sync, Synchronisationsimpuls:

Komplexes Steuersignalgemisch, das einen exakten Verlauf des Elektronenstrahls (nach der Fernsehnorm) bewirkt. Enthält die Vertikal- und Horizontal-Steuerimpulse (50 Hz, 15625 Hz).

### SCART:

Französische Norm einer Video-Anschlußbuchse, die unter anderem auch für den Anschluß von Btx ausgerüstet ist.

### Luminanz, »Y«:

Helligkeitsinformation eines Videobildes. Bezeichnet selten die reine Helligkeitsinformation. Meist meint man das kombinierte Luminanz-Signal. Dieses enthält Austast- und Sync-Impulse und entspricht damit dem BAS-Signal.

### BAS-Signal:

(Bildinhalt-Austast-Synchron-Si-gnal, engl. Composite = zusammengesetzt)

Vollständiges Monochrom-Monitor-Signal.

### FBAS-Signal:

((Farbart-Bildinhalt-Austast-Synchron)) Enthält zusätzlich zum BAS-Signal die Farbinformation, das Resultat einer komplizierten Mischung von Farb-Differenzsignalen mit einem Farbträger. Enthält auch den »Burst« zur Farb-Syn-chronisation. Die englische Bezeichnung dafür heißt Composite-Colour-Signal oder Compo-site-Video.

### Burst

Farb-Synchronsignal, das aus 12 bis 14 Perioden (= vollständigen Schwingungen) des unterdrückten Farbträgers (4,4336 MHz) besteht.

### PAL:

(Phase-Alternation-Line)

Damit Farbverfälschungen sich nicht störend bemerkbar machen, wird nach jeder Zeile die Phasenlage des Chrominanz-Signals um 180 Grad gedreht, also gegensinnig verpolt. Auch der Burst wird geschaltet. Enthalten zwei aufeinanderfolgende Zeilen gleiche Farbfehler, so hebt sich dieser scheinbar auf, da. die Farbart (durch die verpolte Übertragungsart) einmal ins rötliche und einmal ins bläuliche verschoben würde. Durch das Zusammenwirken entsteht der Effekt des »echten« Farbtons. Daher gehört PAL zu den zwar aufwendigsten aber auch besten Farb-Übertragungssystemen der Welt.

### Pixel:

Bei Monochrom-Bildschirmen der kleinste, adressierbare Leuchtpunkt. Der Abstand der Pixel zueinander bestimmt wesentlich die Auflösungsfähgikeit des Bildes.

### Tripel:

Äquivalent zum Pixel, allerdings zusammengesetzt aus drei verschiedenen Teilen: Rot, Grün und Blau. Auch hier ist der Abstand das wichtigste Merkmal der Auflösungsfähigkeit eines Farbgeräts. Die Teile (Rot, Grün und Blau) sind nicht einzeln adressierbar und bestehen, ebenso wie die Pixel, aus phosphoreszierendem Material, das beim Beschuß durch den Elektronenstrahl aufleuchtet. Auf einer Farbbildröhre befinden sich bis zu 1,2 Millionen Farbtripel.

### Lochmaske:

Jede Farb-Bildröhre enthält eine Art Sieb, das verhindert, daß benachbarte Tripel unbeabsichtigt von dem Strahlenbündel getroffen werden. Da die getroffenen Randzonen einer falschen Farbe das Farbbild extrem verfälschen würden, ist die Lochmaske leider unumgänglich.

### Schlitzmaske:

Im Gegensatz zu den runden Löchern der Lochmaske hat die Schlitzmaske längliche Öffnungen, die bei der Wiedergabe von

Schriftzeichen erheblich weniger Verzerrungen durch Brechung erzeugt als die Lochmaske, da die senkrechten Schriftkanten parallel austreten können.

### Bandbreite:

Der Übertragungsumfang von der niedrigsten bis zur höchsten Frequenz des zu übertragenden Signals.

### Video-Bandbreite:

Sie sollte so hoch wie möglich sein. Ab etwa 18 MHz kann eine 80-Zeichen-Darstellung möglich sein, abhängig allerdings vom Abstand der Leuchtpunkte. Bei Fernsehgeräten beträgt die Video-Bandbreite 5 MHz, bei Monochrom-Monitoren 20 MHz und mehr.

### Interlace (Zeilensprungverfahren):

Um trotz niedriger Video-Bandbreite flimmerfreie Bilder zu erhalten, werden pro Sekunde 50 Teilbilder zu 25 Vollbildern zusammengesetzt. Da die Filmmerfrequenz dadurch doppelt so hoch ist, erscheint das bewegte Bild schärfer zu sein.

### Non-Interlace:

Aufwendige, teuere Art der Bilderzeugung. Es werden 50 Vollbilder pro Sekunde erzeugt. Dadurch wird nicht nur die Zeilenfrequenz verdoppelt, sondern auch andere Steuerfrequenzen erhöht. Das macht erheblich größere Video-Bandbreiten erforderlich. Dieses Verfahren findet man daher nur in teuren Industrie-Farbmonitoren der Preisklasse über 2000 Mark.

### Nachleuchtröhre:

Der angestrahlte Leuchtpunkt bleibt länger hell, als das Signal dauert. Dadurch ist auch während der Dunkelphase des Elektronenstrahls ein »Nachleuchten« zu bemerken. Bemsteinfarbene' Monitore sind aus diesem Grund für Lichtgriffel (Lightpen) nicht geeignet.

### Phasenlage:

Der zeitliche Zusammenhang zwischen Amplituden und Phasenwinkel (zwischen 0 und 360 Grad). Die Phasenlage wird immer zu einem bestimmten Zeitpunkt betrachtet.

### Amplitude:

Die Differenz zwischen dem maximalen positiven und dem maximalen negativen Spannungswert eines sich ändernden Signals (Spitze-Spitze-Wert).

Eine konstante Amplitude bezeichnet man als Pegel.

# Das Kabel zum Monitor

> Mit welchem Kabel liegen Sie bei Ihrem Monitor richtig? Wir zeigen Ihnen, welche Normen es gibt.

Man hat schon unwahrscheinliches Glück, wenn sich ein Monitor nach dem Auspacken mit dem beiliegenden Verbindungskabel direkt an den Computer anschließen läßt. Vor allem, wenn Computer und Monitor nicht vom gleichen Hersteller stammen. Allzu häufig kann der Monitor nämlich nichts mit den Signalen des Computers anfangen. Und selbst wenn die Signale zum Monitor passen, stimmen möglicherweise die Anschlußbelegungen Stecker/ Buchse nicht überein.

Damit man aber bei jedem Monitor eine Chance hat, haben wir alle für C 64 oder C 128 wichtigen Stecker, sowie die in Frage kommenden Monitor-Stecker auseinandergenommen, und jedem Pin das ihm entsprechende Signal zugeordnet. An Signalen sind erfreulicherweise für uns nur drei zu unterscheiden: das RGB-Signal, bei dem die Farbanteile (Rot, Grün, Blau) und das Synchronsationssignal getrennt zum Monitor gelangen. Zweitens das Composite-Signal (Farbe und Lumineszenz) sowie das FBAS-(Video-)Signal, bei dem sämtliche Bildinformationen über eine Ader zugeführt werden. Jetzt wird auch sofort klar, warum das RGB-Signal bei höherer Auflösung zu bevorzugen ist: Für Composite und FBAS muß der Computer das Signal erst mischen, und der Monitor muß sich die Signale über spezielle Decoder-Schaltungen trennen. Dabei treten Qualitätsminderungen der einzelnen Signale auf, die man bei hoher Auflösung in Form von Unschärfe beziehungsweise Farbunreinheiten sehen würde.

Wenn Sie die nachfolgenden Fotos für den Zusammenbau Ihres eigenen Kabels heranziehen, beachten Sie bitte, daß Sie beim Löten eines Steckers spiegelverkehrt denken müssen.

### Cinch. (Bild 1)

Über den Cinch-Anschluß wird dem Monitor nur ein einziges Signal angeboten. Es enthält durch das Video-Signal sämtliche Bildinformationen (Rot, Grün, Blau und Synchronisation). In einigen Fällen wird auch ein Composite-Signal über zwei Cinch-Anschlüsse (zum Beispiel bei Commodore) zugeführt. Das Audio-Signal (Ton) muß in jedem Fall extern, meistens über einen eigenen Cinch-Anschluß, zugeführt werden.

### SCART (Bild 2)

Beim SCART-Anschluß, auch als Euro-AV-Anschluß bezeichnet, ist zwischen zwei Signalen zu unterscheiden. Hier werden entweder RGB- oder Video-Signal herausgeführt. Der SCART ist auch bei Btx-fähigen Fernsehgeräten zu finden. Das ist für den C 128 interessant, denn dann kann der Fernseher mittels eines Eigenbau-Kabels als echter RGB-Monitor betrieben werden.

### DIN 3polig (Bild 3)

Ein FBAS-Signal und Ton benötigt ein Monitor mit dieser Buchse. Da beides am C 64 verfügbar ist, eignen sich Monitore mit der 3poligen DIN-Buchse meistens auch für den Betrieb am C 64.

### DIN 5polig (Bild 4)

Ebenso, wie beim 3poligen DIN-Stecker, wird am VCR-Eingang Video und Audio zugeführt. Wichtig ist hier, daß an Pin 1 eine Schaltspannung von 12 V angelegt werden muß. Erst dann reagiert der Fernseher, beziehungsweise Monitor auf die Eingänge der Buchse. Dies wird durch einen Schalter oder eine Brücke zwischen den Pins 1 und 5 realisiert. Beim älteren Semester der C 64-Generation wird das Bild übrigens über eine 5polige Buchse herausgeführt, und zwar als komplettes Video-Signal (das natürlich immer noch besser ist als das Antennensignal).

### Kleingerätestecker 7polig (Bild 5)

Für den C 64 hat der 7-Pol-Stecker die gleiche Bedeutung wie der 5-polige DIN-Stecker, da auch hier das Farbsignal des mittleren Kontaktes nicht erfaßt werden kann.

### Kleingerätestecker 8polig (Bild 6)

Der 8polige Kleingerätestecker ist der für uns wichtigste. Mit ihm lassen sich das Farb- und Synchronisationssignal am C 64 ausnutzen, um damit das beste Bild herauszuholen.

### Cannon 9polig (Bild 7)

Eine Cannon-Buchse als RGB-Verbindung ist beispielsweise vom Commodore PC 10 und vom IBM PC her bekannt. Auch der C 128 hat einen solchen Anschluß für den 80-Zeichen-Modus. Joysticks haben denselben Anschluß, natürlich mit anderer Pin-Belegung.

### BNC-Stecker (Bild 8)

Obwohl er bei Monitoren selten vorkommt, ist auch er aufgrund seiner sicheren Konstruktion erwähnenswert. Übertragen wird hier das Video-Signal, der Ton muß extra zugeführt werden.

(og)
# Marktäbersicht: monochrome Monitore

> Eine wesentliche Hilfe bei der Auswahl eines neuen monochromen Monitors bieten wir Ihnen mit dieser Marktübersicht an.

Kennen Sie das Problem, daß Sie genau zu der Zeit mit dem Computer am Familienfernseher arbeiten wollen, wenn der Rest der Familie zitternd um den Helden des Spielfilms bangt? Dann wissen Sie sicherlich auch, daß Sie Streitigkeiten nur verhindern können, indem Sie Ihrem Computer einen eigenen Monitor hinstellen. Ist man jedoch erst einmal an die Bildqualität eines Monitors gewöhnt, wird man sich nur ungern wieder auf einen Fernseher umstellen wollen.

### Warum monochrom?

Die erste Frage wird natürlich der Preis sein. Bereits hier fahren Sie mit einem monochromen (einfarbigen) Monitor gut. Teilweise erhält man sie zum halben Preis eines Farbmonitors. Optimal ist ein monochromer Monitor für den Anwender, der längere Zeiten am Computer arbeitet. Denn bei einem monochromen Monitor werden die Zeichen wesentlich schärfer abgebildet, als es bei einem Farbbild möglich ist (ausgehend davon, daß man den Monitor an einem C 64 oder C 128 betreiben will). Dadurch werden die Augen nicht so stark angestrengt — das Arbeiten ist angenehmer und deshalb auch nach längerer Zeit nicht so ermüdend. Ein monochromer Monitor ist deshalb auch für den Anwender des C 128 interessant. Hat man sich nun für ein einfarbiges Datensichtgerät entschieden, steht die Wahl der Bildschirmfarbe an. Üblicherweise kann man zwischen Grün, Berstein (Amber), Orange und Weiß wählen, wobei Weiß recht selten anzutreffen ist. Empfehlenswert ist entweder Grün oder Bernstein. Grün wird meistens als die augenfreundlichere Farbe empfunden. Allerdings ist es oft eine Frage der Gewohnheit und des persönlichen Farbempfindens. Man muß auch bedenken, daß ein Monitor entspiegelt sein sollte. Denn jedes auf den Bildschirm einfallende Licht, sei es eine Lampe oder Streulicht, kann beim intensiven Arbeiten als sehr störend empfunden werden.

Alle Bedienungselemente eines Monitors sollten gut erreichbar an der Frontseite angebracht sein. Denn wenn man sein Bild einstellt, möchte man nicht erst um die Kiste herumlangen, um dann doch am falschen Regler zu drehen. Für den Anwender lohnt es sich außerdem der Frage nachzugehen, ob im Monitor ein Lautsprecher und ein Audioverstärker integriert sein müssen. Wer seinen Computer hauptsächlich für Dateiverwaltungen oder Textverarbeitung einsetzt, kann ohne weiteres auf einen Lautsprecher verzichten. Für den Spielefan dagegen stellt der gute Ton ein unverzichtbares Muß dar. Ein weiterer, wichtiger Punkt ist das Flimmern einiger Monitore (siehe Grundlagen »Monitore«), Das läßt sich aber nur am Gerät selbst, also entweder beim Händler, oder in einem Test feststellen. Damit Sie nach den oben genannten Kriterien nicht erst beim Händler herumsuchen müssen, sind sie in der Marktübersicht enthalten, um Ihnen eine Vorauswahl zu ermöglichen.

In der nächsten Ausgabe werden wir uns dann die Farbmonitore vornehmen, und auch einige der hier aufgeführten Monitore einem ausführlichen Test unterziehen.

Alle Daten beruhen auf Herstellerangaben. Die Marktübersicht erhebt keinen Anspruch auf Vollständigkeit.

(og)


# Viermal Schachmatt

> Im Zeitalter der Grafik-Actionspiele ist es etwas still um sie geworden: die Schachprogramme. Doch auf diesem Sektor gibt es sehr gute Programme. Vier bekannte Titel stellen wir Ihnen vor.

Schachprogramme gibt es fast schon so lange wie Computer. Spielstarke Schachprogramme, die auch Profis ins Schwitzen bringen, sind dagegen noch relativ jung. Schachprogramme werden gerne als Paradebeispiel für den Begriff der Künstlichen Intelligenz herangenommen. Schach hat klare, feste Regeln, die sich relativ einfach in Computerbefehle fassen lassen. Die Probleme beginnen aber da, wenn man dem Computer »vernünftiges« Spielen beibringen will. Auf diese Problematik näher einzugehen, würde aberzuweit führen. Hier sollen uns nur Komplettlösungen, auf gut Deutsch fertige Schachprogramme interessieren. Vier der bekanntesten haben wir uns herausgesucht, um sie Ihnen heute vorzustellen.

Grandmaster(Bild l)istdasälteste der hier vorgestellten Programme. Es ist schon seit 1982 im Vertrieb und nicht nur für den C 64, sondern auch für den VC 20 und den C 16 erhältlich.

## Grandmaster

Großen Bedienkomfort kann man bei Grandmaster nicht erwarten. Die Züge werden in normaler Notation über die alphanumerische Tastatur eingegeben. Es stehen neun Spielstufen zur Verfügung, die sich jeweils durch die durchschnittliche Bedenkzeit unterscheiden. Sogar eine Analyse-Stufe gibt es, die innerhalb von mehreren Stunden oder Tagen acht Halbzüge tief alle Stellungen auslotet, um den besten Zug zu finden. Leider kann man bei Grandmaster weder Stellungen eingeben noch abspeichern und laden, so daß eine echte Problemanalyse praktisch unmöglich ist.

Grandmaster ist für alle die empfehlenswert, die nicht viel Geld ausgeben wollen und nur einen Schachpartner für gelegentliche Spiele suchen. Schachfreaks werden allerdings sehr bald an die Grenzen von Grandmaster stoßen.

Der Hersteller Kingsoft hat allerdings ein Grandmaster II in Arbeit, das vielleicht noch Ende 1985 erscheinen soll. Es soll in vielen Punkten erheblich verbessert werden. Genauere Angaben haben wir aber noch nicht erhalten.

## Chess 7.0

Auch Chess 7.0 (Bild 2) ist schon etwas älter. Allerdings ist Chess 7.0 auf einem Gebiet immer noch ungeschlagen: dem Bedienungskomfort. Mit ganzen drei Tasten, den Cursortasten und Return, werden alle Funktionen angesteuert und abgewickelt. Chess 7.0 geizt auch nicht mit Zusatzfunktionen, so können Partien abgespeichert und wieder geladen werden. Chess 7.0 merkt sich die letzten 40 Züge, die auch wieder zurückgenommen werden können. Viele Funktionen sind gerade für Schachanfänger interessant: Chess 7.0 kann Zugvorschläge machen, alle bedrohten Figuren und die bedrohenden Figuren anzeigen oder sogar die aktuelle Stellung in Punkten berechnen lassen. Damit ist das Repertoire von Chess 7.0 immer noch nicht ausgeschöpft, aber viele der anderen Funktionen sind so speziell, daß man sie selten verwenden wird. So kann man beispielsweise Blindschach spielen, indem man Chess 7.0 anweist, bestimmte Figuren einfach nicht mehr anzuzeigen. Das einzige, das man vermisst, ist eine Schachuhr. Die wäre allerdings auch nicht mehr auf dem jetzt schon etwas unübersichtlichen Bildschirm unterzubringen gewesen.

## Sargon III

Sargon III (Bild 3) stammt von dem in der Computerschachszene sehr bekannten Ehepaar Spracklen. Die beiden beschäftigen sich schon seit Jahren mit Computerschach und haben all ihre Erfahrungen in Sargon III einfließen lassen.

Auch Sargon III ist recht einfach zu bedienen. Die Figuren können mit dem Joystick oder per Tastatureingabe bewegt werden. Alle anderen Funktionen werden in Verbindung mit der Control-Taste erreicht. Sargon III erlaubt die Speicherung von Partien und Stellungen auf Diskette. Es werden sogar gleich 107 Meisterpartien mitgeliefert. Das sehr ausführliche Handbuch geht auch auf das Schachspielen selber ein, gibt strategische Hinweise und erläutert alle 107 Partien mit Kurzkommentaren.

Ansonsten bietet Sargon III an Zusatzfunktionen auch fast alles, was das Herz begehrt. Man kann Sargon III sogar während der Partie ein Remis anbieten, das er aber auch nur dann annimmt, wenn er nicht in großem Vorteil ist.

Zwei weitere Details machen Sargon III sehr interessant. Da wäre zum einen die Möglichkeit der Druckerausgabe zu nennen. Besonders hervorstechend ist aber die Eröffnungsbibliothek, in der über 68000 Positionen gespeichert sind. Damit ist Sargon III im Eröffnungsspiel nicht nur sehr schnell, er kann sich auch sofort Vorteile für das spätere Spiel verschaffen.

Das letzte Schachprogramm, das wir Ihnen zeigen, ist wirklich brandneu. Es handelt sich um Colossus 4.0 (Bild 4), den Nachfolger zu Colossus 2.0. Colossus 4.0 ist das erste offene Schachprogramm.

## Colossus 4.0

Das bedeutet, daß der Spieler einige Parameter des Programms (Bewertungsschema, maximale Halbzugtiefe etc.) verändern kann und somit Einfluß auf die Spielstrategie von Colossus hat. Dementsprechend kann man Colossus auch bei seinem Denkvorgang beobachten, sich Wertungen und Zugvorschläge geben lassen. Diese Informationen werden auf einem zweiten Bildschirm ausgegeben. Zwischen Brett und Informationsschirm kann per Tastendruck hin- und hergeschaltet werden.

Natürlich fehlen auch bei Colossus die anderen üblichen Optionen nicht. Spielstände abspeichern und laden, Problemanalyse und Blindspiel sind für Colossus keine Probleme. Die Bedienung ist sehr komfortabel, es kann entweder über Joystick oder über die Cursortasten oder über die normale alphanumerische Tastaur gespielt werden.

Bei Colossus gibt es keine Schwierigkeitsstufen, sondern sechs verschiedene Spielmodi, die alle mit Zeitlimits versehen werden können. So spielt Colossus im Turniermodus X Züge in Y Minuten, wobei X und Y vom Benutzer wählbar sind. Andere Modi sind der Blitzschachmodus oder der Gleichheitsmodus, in dem Colossus seine Bedenkzeit an die des Spielers anpaßt. Deswegen ist auch eine Schachuhr vorhanden.

In der Analysestufe kann Colossus nicht nur einfache Mattprobleme, sondern auch Selbstmatt- und Hilfsmattprobleme lösen. Die maximale Tiefe beträgt sieben volle oder vierzehn Halbzüge.
Colossus bietet auch noch eine 3D-Darstellung des Schachbrettes, die aber auf Wunsch abgeschaltet werden kann.

## Fazit

Die ersten Spiele unseres Turniers zeigen, daß die drei Programme Chess 7.0, Sargon III und Colossus 4.0 ungefähr gleichauf liegen, während Grandmaster von allen dreien übertrumpft wird. Betrachtet man die Preise der einzelnen Programme, so entpuppt sich der Colossus 4.0 allerdings als kleine Sensation. Mit weit unter hundert Mark (der genaue Preis steht noch nicht fest) kann sich Colossus hervorragend gegen die jeweils knapp 200 Mark teuren Programme Sargon III und Chess 7.0 behaupten.

In der Tabelle 1 haben wir die wichtigsten Daten der Programme noch einmal zusammengefaßt.

Unsere Turnierauswertung in der nächsten Ausgabe wird dann an den Tag bringen, welches der vier Programme das spielstärkste ist. Dann treten sie auch gegen den neuen Weltmeister der Schachcomputer — Mephisto Amsterdam — an.

(bs)

Info: Grandmaster: Kingsoft, FritzSchäfer, Schnakebusch4, 5106 Roetgen, 39 Mark (Kassette), 49 Mark (Diskette)
Chess 7.0: Softline, Rut Alverdes, Schwarzwaldstr. 8a, 7602 Oberkirch, 198 Mark (Diskette)
Sargon III: Softline & Fun-Tastic, Tannhäuserplatz 22, 8000 München 81, 185 Mark (Diskette)
Colossus 4.0: Rushware, An der Gümpgesbrücke 24, 4044 Kaarst 2, zirka 40 Mark (Kassette), zirka 70 Mark (Diskette)

## Die Renner 1985

> Das Jahr 1985 ist bald zu Ende. Deswegen haben wir uns bei den Händlern umgehört, welche Spiele in diesem Jahr am meisten verkauft wurden.

Der Commodore 64 ist eigentlich ein Spielecomputer. Das sagen zumindest die Umsatzzahlen der Software-Händler in Deutschland, denn Spielprogramme haben sich weit besser verkauft als Anwendungssoftware. Grund genug für uns, die Händler auch mal zu fragen, welche Spiele sich am besten verkauft haben.

Wollten wir das gesamte Jahr 1985 analysieren, so könnte dieser Artikel frühestens in der März-Ausgabe 1986 erscheinen, bedingt durch unseren redaktionellen Vorlauf. Um Ihnen aber schon jetzt eine Jahresbilanz geben zu können, untersuchten wir den Zeitraum von Oktober 1984 bis September 1985. Somithattenwir gleichzeitig Zahlen aus dem letztjährigen Weihnachtsgeschäft vorliegen und konnten auf das diesjährige vorausblicken.

Fangen wir mit dem absoluten Spitzenreiter an, der im letzten Jahr glatt das Rennen machte und bis heute wahrscheinlich das meistverkaufte Programm für den C 64 überhaupt ist. Die Rede ist von »Ghostbusters«. Die Computerumsetzung des Kino-Kassenschlagers ging hauptsächlich im letzten Weihnachtsgeschäft wie wild über die Ladentische und konnte sich dann noch lange Zeit mit sehr guten Verkaufszahlen halten. Inzwischen ist der Boom natürlich abgeflaut. Daß »Ghostbusters« einen solchen Erfolg haben würde, war fast abzusehen. Schließlich wurde das Programm ja tatkräftig von den Medien unterstützt. Film, Schallplatte und Buch konnten weltweit Rekord-Umsatzzahlen vermelden. Gekoppelt mit intensiver Werbung und großer Berichterstattung in den Computerzeitschriften, waren die Verkaufszahlen fast vorprogrammiert. Das Programm selber, das witzig und aufwendig gemacht ist, tat sein übriges dazu.

Natürlich ist »Ghostbusters« nicht der einzige Verkaufshit gewesen. Doch kein anderes Spielprogramm konnte so hohe Verkaufszahlen wie »Ghostbusters« erreichen. Eine kleine Spitzengruppe von 14 Programmen erreichte allerdings ebenfalls ungewöhnlich hohe Umsätze. Diese Spitzengruppe stellen wir Ihnen nun im einzelnen vor.

Bei den Sportspielen konnte sich die Fortsetzung eines Spiels aus dem Jahre 1983 durchsetzen. »Summer Games II« schaffte, direkt nachdem es bei den Software-Händlern auftauchte, enorme Verkaufszahlen. Hier waren wohl Mundpropaganda und Zeitschriften-Berichte entscheidend für den grandiosen Start. Manche Händler wußten sogar ein Klagelied von »Summer Games II« zu singen. Der Grund: Die Zeitschrift Happy-Computer konnte den »Summer Games II«-Test schon in der Ausgabe 8/85, die Mitte Juli erschien, veröffentlichen. Doch das Programm selbst war bei den Händlern zu diesem Zeitpunkt noch gar nicht erhältlich. Bei denen liefen wochenlang die Telefone heiß, wann denn nun endlich »Summer Games II« lieferbar sei. Als es dann in den Läden erschien, waren die ersten Exemplare auch gleich wieder vergriffen. Erstaunlicherweise zog »Summer Games II« den ersten Teil mit. Der Verkauf vom alten »Summer Games« war fast eingeschlafen, als mit dem Erscheinen der Fortsetzung die Nachfrage erneut enorm anzog.

Viel getan hat sich auch im Bereich der Flugsimulationen. Drei Programme konnten sich sehr gut verkaufen. Da wäre als erstes der Dauerbrenner »Flight Simulator II« zu nennen, der schon seit über eineinhalb Jahren immer in den oberen Rängen der Verkaufslisten zu finden ist. Leider ist der »Flight Simulator II« recht teuer. Gerade deswegen wird sich wohl der »Super Huey«, ein Hubschrauber-Simulator, so gut verkauft haben. Denn der »Super Huey« bot zum ersten Mal einen gut gemachten, schnellen und realitätsnahen Simulator für weit unter hundert Mark. Dritter im Bunde ist der actionreiche »Skyfox«. Auch er erreichte aus dem Stand heraus große Verkaufszahlen, denn die Apple-Version war schon monatelang erhältlich und viele C 64-Besitzer fieberten der Commodore-Version entgegen.

Die Adventures konnten im allgemeinen nicht so hohe Umsatzzahlen erreichen wie beispielsweise Actionspiele oder Simulationen. Aber Ausnahmen bestätigen die Regel. Das Grafik-Adventure »Amazon« konnte sich einen Platz unter den Spielerennern 1985 sichern. Ebenfalls noch knapp in der Spitzengruppe drin ist »Das Geheimnis der Aztekenmaske«, die deutschsprachige Version von »Mask of the Sun«.

Die weiteren Renner fallen in die Bereiche Action und Geschicklichkeit. Da wären die beiden Karate-Spiele »Way of the Exploding Fist« und »Karateka«, die augenblicklich sehr gut verkauft werden. Weiterhin im Rennen sind die Wirtschaftssimulation »Kaiser« und das James-Bond-Spiel »A View to a Kill«.

Eine letzte große Gruppe bilden die preiswerten Spiele, die teilweise weit unter dreißig Mark zu haben sind. Absoluter Renner dieses Jahr war die »Hexenküche«. Knapp dahinter kommt schon der Sechserpack von Quelle, der sechs Spiele auf einer Diskette für 30 Mark bietet. Diesem Preis konnten sich wenige Käufer verschließen.

Der Ausblick auf das diesjährige Weihnachtsgeschäft beschert uns eine kleine Sensation. Das Weltraum-Simulations-Handelsspiel »Elite« hat echte Chancen, im diesjährigen Weihnachtsgeschäft den bisherigen Spitzenreiter Ghostbusters vom ersten Platz zu verdrängen. Die deutschsprachige Version von »Elite« wird gerade ausgeliefert. Die Vorbestellungen schlagen alle Erwartungen des Herstellers Firebird und der Vertriebsfirma Rushware.

Dieses Jahr Weihnachten scheinen auch die »Winter Games«, die Fortsetzung zu den beiden Summer-Games-Spielen, zum Verkaufserfolg zu werden. Auch hier stapeln sich die Vorbestellungen der Einzelhändler. Was das Weihnachtsgeschäft aber sonst noch an Überraschungen offenhält, weiß man allerdings erst nachher. Warten wir es also ab.

(bs)

# Activision-Adventures entschleiert

> Vor gut sechs Monaten wagte auch Activision mit zwei Programmen den Einstieg ins Abenteuer-Geschatt. Die Lösungen von beiden Adventures liegen nun vor.

Die amerikanische Firma Activision war schon lange für ihre guten Spiele bekannt, als Mitte des Jahres auch zwei Grafik-Adventures herauskamen, die in Zusammenarbeit mit Interplay entstanden sind. Zwei unserer Leser haben die Adventures komplett gelöst: Eckhard Schulz beschäftigte sich mit »Mindshadow«, während Joachim Baur »The Tracer Sanction« bevorzugte. Beide sandten uns ihre, nach langer Arbeit entstandenen, Komplettlösungen. Ein kleiner Tip: Die Lösungen geben die kürzestmöglichen Wege an. Man sieht keinesfalls alle Orte des Adventures. Es lohnt sich also, nach der Lösung ein wenig herumzuexperimentieren. Nun aber zu den Lösungen:

## Mindshadow

get shell, n.e.e, get vine, w, get steel, w, go hut, get straw, s.s.e, tie vine to rock, drop all, d.w, dig, get map, get rock, e.u, read map, drop map, w.n.n.n.e.n.e.e.s.s.e, get rum, w.n.n.w.w.s.w.s.s.s, bang rock to steel, drop rum, n.w.s, hit man, s, get clea-ver, n.n.e.s.s.s.w, cut chain with clea-ver, e.n.n, drop all, get shell, e.e, e.e.e.s, search man, get hat, n.w.n.e, drop hat, e, examine drink, follow man, s.w, get hat, examine hat, w.s.w.s, buy pole, drop hat, n.n, drop money, s.w, fish junk, get paper, read paper, drop paper, drop pole, e.e.n.n.e, chandralt, buy ticket, w.s.s.w.n.n, go plane, n.w, booth 11, search man, get note, read note, drop note, get id, read id, drop id, drop ticket, e.e.n.n.w, up, n.w, duck, get parchment, read parchment, drop parchment, e.s, down, e.e.e.s.s.e, dig, get leaflet, read leaflet, drop all, w.n.n.w.w.s.w, an 11649, get gun, drop box, e.n.w.w.n, up, s.e.n.n.n.n.e, shoot man, get message, read message, w.s.s.s.w, think bob, think jared, think tycoon, think arcman, think william.

(Eckhard Schulz/bs)

## The Tracer Sanction

talk to man, e.n.e, buy chart, look at chart, w, buy 500, n.n, turn pointer to sonex, push button, e.s.s.w.n, knock door, s.e.s.e.n, sell blue gem, s.w.s.e, look screen, cut line, w.n.n.n, buy 800, n.n, turn pointer to jubilex, push button, e.s.s.s.s.s, take shovel, e.e.n, scream, n, take diamond, dig, w, w.w.n.n.w.s, take stick, n.n, examine bartender, talk to man, hit man with stick, talk to man, drop stick, s.e.n.n, buy 800, n.n, turn pointer to sonex, push button, e.s.s.s.e.n, sell diamond, s.w.n.n, buy 1500, n.n, turn pointer to brenon I, push button, s, take jetpack, n.e.s.s.w.w.n.n, shake the bridge, n, take egnad, s.s.s.e.e.e.e.e, examine jetpack, wear jetpack, turn dial, n, examine bush, n, take lighter, s, turn the dial, s, w.w.w.n.n.n, turn pointer to earth, push button, e.s.s.w.w.w.n, examine wheel, turn wheel, w.s, take torch, n.e.n.e, examine books, take worn book, turn dial, take sword, drop jetpack, n.w, dig, take rope, s.e, read sign, e.e.e.n, buy 900, n.n, turn pointer to jubilex, push button, e.s.s.s.w, light torch with lighter, drop torch and lighter, e.s.e, take the solar battery, examine egnad, insert battery into egnad, w.n.n.n, buy 650, n.n, turn pointer to koranth, push button, e.s.s.w.s.e, examine tree, climb tree, s.e, drop egnad, lift grating, d, s.w, tie rope to pipe, w.w.w, e.e.e, drop the rope, e.n.e.s.s, e, w, take egnad, n.n.w.n, buy 800, n.n, turn pointer to metropolis VII, push button, e.s.s.w.n.n, talk to woman, open account, s.w, deposit 650, e.s, talk to man, w.w.w.w.w.s.e, give banana to monkey, take banana peel and key, w.n.e.e.e.e.s.s.s.s.e.e, talk to man, s, withdraw 650, n.w.w.w.w.n.w, buy drink, take drink, give drink to woman, buy information, e.e, talk to dealer, bet 635, cheat, w.s, drop banana peel, e.e.e.e.s, deposit 1905, n.w.w.n.n.n.n.e.n.w, withdraw 1905, e.s.e.n, buy 1600, n.n, turn pointer to koranth, push button, turn pointer to darten, push button, e.s.s.e, push button, pull button, twist button, turn button, hit button, push button, examine door, insert key into keyhole, insert sword in slit, e, talk to egnad, follow egnad, drop egnad, w.w.w.w, talk to the wing, e.e.e.e, take egnad, talk to egnad, follow egnad, s.s.s.w.n, buy 400, n.n, turn pointer to valkyron, push button, e

(Joachim Baur/bs)

# Eureka! — Ich hab's!

> Das werden auch Sie bald sagen. Denn wir bringen Ihnen die komplette Eureka!-Lösung und Hintergrundinformationen über den Sieger.

Mitte 1984 reisten Autor Ian Livingston und ein mehrköpfiges Programmierteam nach Ungarn, um unter größter Geheimhaltung das Adventure »Eureka!« zu programmieren. Fünf Arcade-Spiele und fünf Adventures sowie ein Begleitbüchlein entstanden, die stark verschlüsselt eine Telefonnummer und ein Codewort enthielten. Der Hersteller Domark setzte einen 25 000-Pfund-Preis, das entspricht ungefähr 80000 Mark, aus für denjenigen, der zuerst unter dieser Nummer das Codewort sagen konnte.

Schon in kurzer Zeit schwappte die Eureka!-Welle durch Europa. Eine eigene deutschsprachige Version machte das Spiel und den Wettbewerb auch in Deutschland populär. An der Lösung wurde knapp ein Jahr lang verbissen gearbeitet und die verschiedensten Mittel eingesetzt. Da taten sich Jugendliche zusammen, um in großen Gruppen und in Schichtarbeit Eureka! zu lösen. Versierte Programmknacker suchten in den einzelnen Programmen nach telefonnummerähnlichen Zahlenkombinationen.

Doch ein 15jähriger Engländer zerstörte die Illusion all dieser Glücksritter. Am 4. September nahm Matthew Woodley (Bild 1) seinen Scheck über 25000 Pfund auf der PCW-Messe in London entgegen. Er hatte sich Eureka! knapp ein Jahr vorher gekauft, ohne groß an einen Sieg zu denken. Er war selber sehr überrascht, als er beim Anruf der geheimen Nummer hörte, daß er wirklich der erste sei.

Die Adventures selber waren zu dem Zeitpunkt schon von einigen gelöst worden. Allerdings rätselte man überall noch an der geheimen Telefonnummer herum.

Wir präsentieren Ihnen im folgenden die Komplettlösung für Eureka!, die von Frank Stenner erarbeitet wurde, allerdings ohne das allerletzte Rätsel der Telefonnummer aufzulösen. Wir haben uns für den Abdruck der deutschsprachigen Lösung entschieden und müssen deswegen für diejenigen, die nur die englische Version haben, noch einige Vorbemerkungen machen:

Sollte bei einer Texteingabe ein Pfeil nach oben (t) stehen, muß man hier schnell reagieren und darf keine Zeit verlieren.

In **»The Prehistoric Age«** entspricht:
Maus b/Put mouse
Biß saugen/suck bite
Dinosaurier schießen/use cannon

In **»Roman Times«** wäre:
Stützen b/use Props
Kleider ausziehen/strip off
Axt schärfen/sharpen axe

In **»Arthurion Britain«** schreibt man:
statt Harfe herausnehmen/remove harp
statt Tier e/hit beast

In **»Escape from Colditz«** ersetze man Streichholzschachtel b/light match. »down« beim Passieren des 2. Heuwagens anstelle von »runter« ist unzureichend; »jump in« muß es heißen.
Schnaps/schnapps
Bajonett/bayonet

In **»Modern Caribbean«** gibt man als 4. Codewort zu Beginn »ANVIL CHORUS« ein, anstelle von Pyramide = pyramid, Götze = idol, Regal = shelf, Schreibtisch = desk.

Öl vergießen wäre »spill oil«, wobei darauf zu achten ist, daß diese Eingabe nur an der richtigen Stelle ihren Zweck erfüllt, ansonsten einen Programmabsturz bewirkt. Auf dem Fließband »jump off«, als vorletzten Befehl »jump in« benutzen.

Allgemein ist zu beachten, daß folgende deutsche Kurzformen den nachgestellten englischen Begriffen entsprechen:
F-look/l/exam(ine); b—use; raus—out/o; e—hit/attack

(Frank Stemmer/bs)

### Eureka/Adventure1 -Steinzeit-
s,t↑,n,o,t,o,h,t↑,s↑,t,Beil machen,sw,t,s, o,r,r,t,h,s,warten,warten,t,w,h,t↑,r↑,w, Maus b,n,w↑,s,w↑,w,t,o↑,o,sw↑,Ka Kong,t,o,Halskette geben,w,w,Rubin geben,o,sw,Fluessigkeit trinken,s,*,n, n,s,w,Topf fuellen,o,s,s,s,o,Wasser trinken,Schiesspulver machen,Kanone machen,Dinosaurier schiessen,s,s,s, Stock werfen,w,n,Beil werfen↑,*,o,t,w, s,so,Seil b,r,o,Biss saugen,w,s,s,w,w,w, t,o,o,r,n,n,w,Ast b,o,s,s,w,o,o,Feuer machen ,Fackel anzuenden,w,s,o,s,s,**(s. Anm.1)**,t,n,w,w**(s.Anm.2)**,s,so,sw, nw, sw,s,Leiter b,h,t,w,Leiter b,r,t,h,o,s,Pilze b,o,nw,r,s,w,Schlange hypnotisieren,t(Talisman).

Codesatz: Du hast Dein Feuerzeug vergessen!
Anmerkungen zu Adventure 1:
1)	Aufgrund einer Programmeigenheit läßt sich an dieser Stelle nicht mit absoluter Genauigkeit bestimmen, nach der wievielten Richtungseingabe der nächste Raum, in diesem Fall die »Diamantenhöhle« erreicht wird.
2)	Siehe im wesentlichen Anmerkung 1. (Örtlichkeit ist Höhle mit Wandmalereien)

### Eureka/Adventure 2 -Römerzeit-
s,Mann e,t,s,Muenze geben,s,w,w↑,t, o,nw*Schlüssel b,*,*,*,*,***(s.Anm.1)**, Mann retten,*,n,n,Schwert kaufen,o, s,Wein kaufen,n,w,w,w,s,s,s,o,sw,o,s,t, n,w,no,w,n,n,n,o,o,o,Wein geben,w, Mann e,raus,w,n,o,n,Huhn kaufen,w,t, o,nw,n,Huhn geben,s,s,s,w,w,w,hinein,gilt,n,o,n,o,Pferd kaufen,Streitwagen kaufen,o,o,no,hinein,t,raus,sw,so, hinein,Axt kaufen,s,s,Axt schaerfen, o,t,w,n,o,t,o,Baeume faellen,o,Mann e, w,o,o,s,t,raus,w,w,w,hinein,Stuetzen b, graben,s,Hammer b,n,n,w,w,n, Muenze geben,w,n,t,s,o,o,Ei geben,t↑,s↑,h,sw,w,w,n,nw,n,n,n,n,n,o,nw, Zahn geben,Truhe oeffnen,t,Adler geben,Seerose geben,Totenschaedel geben,s,w,s,s,s,o,n,t,n,n,so,t,nw, nw,s,w,s,s,w,Robe geben,o,s,w,Sandalen kaufen,o,no,o,Kleider ausziehen, w,hinein,o,Toga t,Toga anziehen,w,w, s,s,w,n,w,w,s,hinein,Trank b↑↑,o,Ave Caesar↑,*,n,o,n,o,n,nw,n,n,o,s,Sandalen anziehen,hinein,essen/trinken **(s.Anm. 2)**,s,s,o,t,w,Knochen geben,s, Oel t,n,n,n,o,t,s,Oel anzuenden,n,w,s, o,f,so,t (Talisman)

Codesatz: Die Galeere sticht in See!
Anmerkungen zu Adventure 2:
1)	Sollte die Darstellung des Mannes auf dem Floß schon erschienen sein, entfällt letztes »*«.
2)	Bei vorangegangenem Vigourverlust gewinnt man durch mehrmaliges Essen/Trinken Lebensenergie zurück.

## Eureka/Adventure 3 -Ritterzeit-

n,o,n,t, (so oft wiederholen, bis der Wolf sein Leben gelassen hat),Kadaver t,s,Kadaver geben,o,h,graben,t,r, w,w,s,w,n,r,t,h,h,t,Umhang anziehen, h,springen↑,o,n,n,Harfe herausnehmen,Harfe spielen,Jailhouse Rock,t, s,s,s,s,o,so,no,Mann e (mit »a« wiederholen — s.Wolf),w,w,w,w,so,s,hinein,h, Mann e(s.o.),t,r,Fraeulein befreien,*, no,t,o,Kokosnuss b↑ ,o,s,s,n,w,s,w,t,o,o, Schluessel b,s,t,n,w,n,w,Fett b,t,o,o,o,s, s,s,Zwerg e(s.o.),t,n,o,t,w,n,o,so,hinein t,trinken oder essen (bewirkt Kraftsteigerung/Vigour),n,nw,w,n,o,s↑, Seil schneiden↑,t↑,n↑,w,n,no,r,t,h,Samen b,t,n,Karotte geben,o,s,t,n,o,no,o, Mantel b,r,w,Statue geben,so,w,s,w,n, t,s,o,s,s,s,sw,sw,no,Tier e(keine Wiederholung notwendig),t,no,no,n,n,n, n,o,h,w,t,o,hinein,o,Suenden beichten,Kruzifix geben,s,t,n,n,r,nw,o,h,w, sw,w,w,s,sw,s,s,w,s,t (Koenig Artus),o, Artus legen,Boot stossen,t,n,Excalibur werfen,Boot b,tCTalisman).
Codesatz: »Ich waehle Schere«

## Eureka/Adventure 4 -Kriegszeit Deutschland-

so,t,Uniform anziehen,w,*,*,s,no,t,n,t,o, Knochen geben↑,t,w,s,w,n,t,o,t,w,w,w, Streichholzschachtel b,Hebel ziehen,o,r,Streichholzschachtel b,t,h,o,s, Zigarette geben,s,w,t,Seil machen,o, o,Schokolade geben,h,t,r,w,nw,n,n, Seil b,w↑,t↑,o↑,o↑,t↑,w↑,t↑,h↑,s,Uniform machen,s,s,s,s,s↑,s↑,t↑,n↑,o↑,s↑,t↑,n↑, o↑,s,t,n,o,r (erst »RETURN«-Key, wenn der 2. Heuwagen das Fenster passiert),*hinein,t,raus,o,*,*,s,s,s↑,s↑,o↑,o↑, t↑,w↑,w↑,n↑,n↑,Foto t,n,w,w,Film entwickeln,Ausweis stempeln,Ausweis machen,o,o,s,w,Ofen wegrücken,t, Schallplatte spielen,graben,a,a,a,h, Brechstange b,n,t,s,s,Leiter b↑,Pfeffer b↑,Drahtschere b↑,s↑,o,o,sw,sw,s, Spiegel b,o*so,wt,Schnaps kaufen, t,o,o↑,Schnaps geben,r,Brigitte befreien,h,w,nw,*,t,w,w,nw,r,Dynamit befestigen,h,s,Dynamit b,so,s,Bajonett b↑,s,Bajonett b↑,s,Bajonett b↑,s,w, t↑,o↑,o,hinein,Helm b↑,t,xxxx **(s.Anm.2)**,raus,Uniform anziehen,w,s,Ausweis zeigen, w,t,o,o,t,Bueste f **(s.Anm.3)**, w,s,ot,f↑ **(s.Anm.4)**,w↑,w↑,t↑, o↑,s,(Kuechen)Schabe b↑, s,o,Schraubenzieher b,r,r,h **(s.Anm.5)**, KXV,YKZ,xxxx (s.o.),Safe oeffnen,t (Talisman)

Codesatz: Das Tor ist mit einem Vorhaengeschloss verschlossen. Anmerkungen zu Adventure 4:
1) Die dreimalige Wiederholung des Befehls »Bajonett b« läßt sich hier nicht umgehen, da eine Richtungsanweisung zwischengeschoben ist.
2)	Das Zeichen »xxxx« steht stellvertretend für eine jedesmal neu generierte, vierstellige Zufallszahl, die man sich notieren sollte.
3)	Nach dem Befehl »Bueste f« erhält man stets den gleichen Codeteil -KXV-, folglich kann dieser Schritt weggelassen werden.
4)	Siehe im wesentlichen Anmerkung 3; hier muß eine Örtlichkeit nicht notwendigerweise aufgesucht werden (»f« offenbart YKZ).
5)	Objektiv betrachtet, macht die Richtungsfolge »r«,»r«,»h« keinen Sinn, Eureka! erhebt sich jedoch über logische Gesetze.

## Eureka/Adventure 5 -Abenteuer in der Karibik-
Vor Beginn des letzten Adventures müssen folgende, aus den vorigen Adventures resultierende Codewörter eingegeben werden:

1.	MEEP MEEP
2.	NERO
3.	MORDRED
4.	DIE AMBOSSPOLKA

t,*r,sw,r,t,h, no,so,o, Panther e(wiederholen bis zum Tode des Tieres),**f(s. Anm.7)**,t(Kadaver!),no,no,Pyramide f,hinein,Goetzef,t,raus,w,sw,sw,o,h,so, t,w,h,w,w,fallschirm b,h,warten**(s.
Anm.2)**,a,sw,warten,a,sw,warten,a, sw,Kadaver werfen,r↑,t↑,h↑,n,n,n,t,s, Draht b,Mann e(vgl.Panther),t,h,w,t, w,t,raus,o,n,t,s,r,s,w,t,Regal f,r,Schraubenschluessel b,s,Muetze tragen, Hemd tragen,o,Mann e(lmal)Oel vergiessen,Oel entzuenden,Feuerloescher b↑,s,*,Radio brechen,t,Tuer oeffnen,raus,o,Computer b,Eureka, xxxx**(s.Anm.3)**,w,s,w,Mann e**(s.Anm. 4)**,t,o,o,t,Schutzanzug anziehen,w,s,s, w,w,r,Pumpe b(an dieser Stelle Befehl sofort eintippen [RETURN], jedoch erst beim Erscheinen des 3. Bildes/Decke der Erzmühle befindet sich 0,5 m über dem Boden/ drücken),o,(erneut verzögern, bis das Fließband, auf dem der Akteur um sein Leben läuft, erscheint),o,w, springen (beim Erscheinen des neuen Textes — bei frühzeitiger Eingabe rettet unter Umständen »a«),Karte b,Tuer oeffnen,n,Diamant b,n,t,o,t,n,t, Schreibtisch f,Schalter druecken,w, n **(s.Anm.5)**,w,n,no,so,o,Seife b,n,n,*,o, xxxx(s.o.),s,Totenschaedel legen,w, Schluessel hineinstecken, Schluessel drehen,*,o,t,n,o,*,n,h,n,*,o,Draht b, *,o,warten,a,no,warten,a,n,warten,a, Fallschirm b,h,o,o,h,o,Osten rennen (eintippen),*,*,[RETURN],hinein springen,Pistole b.
Anmerkungen zu Adventure 5:
1)	Der Befehl »f« muß möglicherweise mehrmals ausgeführt werden, da der Kadaver des Panthers generiert werden muß, so daß gewisse Zeit bis zum Auftauchen benötigt wird.
2)	Das wiederholte Warten kann durch Töten des Hundes (»Hund e«...) verkürzt werden.
3)	Das Zeichen »xxxx« steht stellvertretend für eine vierstellige Zufallszahl, die sich der Spieler notieren sollte (vergleiche dazu auch Adventure 4/Anmerkung 2).
4)	Beeilt man sich, die Sequenz »w»,»t«,»o« einzugeben, ist man an dieser Stelle nicht notwendigerweise genötigt, die Wache zu töten.
5)	Sollte man sich in den Gängen der Uranmine verlaufen haben, so bringt einen mehrmalige Benutzung des Geigerzählers (»Geigerzaehler b«), der den Weg zu nicht radioaktiven Auswegen anzeigt, sicher aus dem Labyrinth.

Damit sind fast alle Geheimnisse von Eureka! gelöst. Die versteckte Telefonnummer müssen Sie noch selber finden.

(bs)

# Zweimal Lösungen von lnfo<om

> Zwei der schwierigsten und beliebtesten Infocom-Adventures sind gelöst: »Sorcerer« und »The Hitchhikers Guide to the Galaxy«. Wir präsentieren ihnen die Komplettlösungen.

Die Lösung zu »Sorcerer«, der Fortsetzung von »Enchanter«, wurde von Volker Misch, Markus Vohburger und Martin Schäfer gemeinsam erarbeitet. Die drei geben an, nur vier Tage intensiver Arbeit benötigt zu haben.

z; frotz me; stand up; w; w; look behind hanging; open desk; get key; open journal with it; read journal; (current code merken); e; s; s; w; get vial and matchbook; e; open brass; put matchbook in it; open vial; drink potion; n; w; get scroll; gnusto gaspar; e; s; e; get scroll; gnusto meef; w; open brass; get vial; d; press (Infotater-Farben für current code); get scroll; aimfiz belboz; ne; learn pulver; e; ne; pulver river; d; ne; get all; d; gnusto fweep; sw; u; w; w; ne; se; e; e; put guano in cannon; get scroll; w; lower flag; examine it; get vial; w; learn izyuk; g; g; izyuk me; nw; sw; w; d; d; s; w; izyuk me; w; w; n; get zorkmid; s; e; izyuk me; e; e; s; sw; w; give zorkmid; w; w; w; learn gaspar; gaspar me; push lever (solange bis ein zorkmid herausfällt); sleep; drop journal; get all but journal; e; s; open aqua; drink potion; drop aqua, key, amber, ochre; get ball; throw ball at bunny; gnusto malyon; n; e; e; ne; n; ne; ne; e; e; wake gnome; give coin; e; e; n; learn gaspar; gaspar me; learn fweep; drop all; n; e; fweep me; n; e; s; s; w; d; e; e; n; n; u; u; s; e; get scroll; drop scroll into hole; z; z; (you have died); get all; s; e; get scroll; gnusto swanzo; w; w; w; w; w; sw; sw; s; s; yonk malyon; learn malyon; malyon dragon; s; z (bis man müde wird); sleep; e; open orange; drink potion; give book; (combination merken); e; set dial to (combination); open door; e; get rope; u; sw; get beam; ne; w; nw; w; put beam over chute; tie rope to beam; drop all into chute; d; get scroll; golmac me; open compartment; get smelly; e; z; saz to twin »the combination is (combination)«; d; ne; z; z; sleep; learn meef; g; drop all; s; d; meef spenseweede; get all; u; n; drop crate; open it; get suit, scroll, spell book; n; meef vine; w; w; open white; learn swanzo; vardik me; swanzo belboz

(V. Misch/M. Vohburger/M. Schäfer/bs)

## The Hitchhikers Guide to the Galaxy

Auch zum bisher verrücktesten Adventure der Firma »Infocom« können wir eine Komplett-Lösung anbieten, Im Adventure selbst sind allerdings einige Zufallselemente vorhanden, die bei Einzelschritten eine konkrete Befehlsangabe unmöglich machen. In diesem Fall haben wir in Klammern eine deutsche Erklärung, was zu tun ist, angefügt. An vielen Stellen muß man eine längere Zeit warten. Damit wir nicht so oft »Wait« abdrucken müssen, geben wir hier in Klammern an, auf was Sie warten müssen.

Ein kleiner Hinweis: Wenn Sie den Impropability Drive einschalten, werden Sie in eines von sechs Teiladventures geschleudert. In welches Teiladventure sie geraten, wird zufallsgesteuert, solange nicht echter Tee die »Brownian Motion« für den Drive erzeugt. Dann können Sie über einen Trick in der »Dark« ihren Bestimmungsort angeben. Normalerweise gehen Ihnen in der »Dark« alle fünf Sinne verloren und nach vier Zügen kehrt einer zurück. War aber echter Tee am Drive angeschlossen, ist ein Sinn sofort wieder da. Dieser Sinn wechselt nun jedesmal, wenn man »Wait« eingibt. So kann man durch mehrmaliges »Wait« den Bestimmungsort auswählen.

So, und nun zur Lösung von »Hitchhiker«:

turn on light; stand up; take gown; wear gown; open pocket; eat tablet; take all; put screwdriver and toothbrush in thing; s; take all; s; lie before bulldozer; (warten bis Ford weggeht); follow ford; follow ford; buy sandwich; drink beer; drink beer; drink beer; e; give sandwich to dog; n; (warten bis der Thumb in Ihrer Nähe ist); take thumb; press green button; (warten bis Sie was riechen); smell; examine shadow; eat peanuts; remove gown then hang it on hook; take towel then cover drain with it; take satchel then block panel with it; put mail on satchel; press dispenser button; take all; wear gown; switch switch (Anweisung merken!); (warten bis Vorlesung beginnt); enjoy poetry; (warten bis Sie wieder am Glass Case sind); (Anweisung vom Band ausführen); take plotter; (warten bis wieder in Dark); hear; s; take brochure then read it; (warten bis alle in der Sauna sind); drop all; d; s; s; yes; yes; s; no; 1; 1; take all; n; n; u; drop all; d; w; touch pad; take ats; e; u; remove all from thing; drop all; take towel; plug small plug into small receptacle; put long dangly bit in ats; start the drive;...

Nun folgen die Lösungen der einzelnen Teiladventures:

### Traal:

smell; examine shadow; say my name; e; take stone; put towel over head; carve my name into memorial; remove towel; w; sw; take interface; ne; e

Haben Sie das Interface auf Traal gefunden, dann führen Sie in der Heart of Gold folgende Aktionen durch, wenn Sie sich wieder auf der Brücke befinden:

take interface; d; w; open panel; take board; insert interface in nutrimat; e; u; (warten bis der Angriff beginnt); plug large plug into large receptacle; start drive; d; w; take tea; e; u; drop tea; remove the long dangly bit; put long dangly bit into tea; start drive

Ab jetzt können Sie mit oben angesprochener Methode ihren Zielort auswählen.

### Earth, als Ford Prefect:

examine light; open the satchel; take satchel fluff; take towel; take thumb; n; offer towel to arthur; idiot; go to prosser; prosser, lie in the mud; s; w; buy peanuts; buy beer; drink beer; drink beer; e; n; give fluff to arthur; (warten bis wieder in der Dark)

### War Chamber:

take awl; listen; (warten bis im Maze); (solange umhergehen, bis man den Black Particle findet); read markings; take particle

Auf der Party, als Trillian:

taste liquid; examine arthur; drop wine; open handbag; take fluff; put fluff into handbag; take wine; (warten bis wieder in der Dark)

### Im Schnellboot auf Damorgan, als Zaphod Beeblebrox:

search seat; take all; steer towards cliff; (warten bis das Boot angelegt hat); stand up; n; (warten bis Trillian kommt); guards, drop the rifles; trillian, shoot the pile of rifles; e lm Wal:

take pot; put pot into thing; (warten bis wieder in Dark)

Hat man alle Teiladventures fertig, geht’s wieder auf der Heart of Gold weiter. Sie müssen auf der Brücke sein: d; s; d; take all; u; n; u; open toolbox with key; drop all; open handbag; take flowerpot; take all fluff; put all fluff into flowerpot; (warten bis Pflanze erscheint); drop all; w; examine plant; eat fruit; (merken welches Werkzeug gefragt ist); (Werkzeug nehmen — liegt entweder auf der Brücke, in der Toolbox, in der Handbag oder hinter der Screening Door; dann kann man es selbstverständlich erst später nehmen); take tea and no tea; d; s; open door; drink tea; w; marvin, open the hatch; e; d; drop thing; e; (warten bis marvin erscheint); give (werkzeug) to marvin; w; d

Bravo; Sie stehen nun auf der Oberfläche von Magra-thea. Hier beginnt dann demnächst das zweite Hitchhiker-Adventure!

Hier fängt der Hitchhiker-Spaß aber erst an. Denn am lustigsten sind die Bemerkungen, wenn man irgend etwas falsch macht. Auch ist die Reihenfolge der Lösungsschritte sehr wichtig. Außerdem kommen viele Gegenstände, die zur Lösung des Adventures nicht wichtig sind, in der obigen Aufzählung nicht vor (Bugblatter Beast Ray Gun, Magnifying Glass, Hitchhikers Guide, etc.). Untersuchen und benutzen Sie diese in verschiedenen Situationen. Sie werden erstaunt sein, wieviel in Hitchhiker eigentlich drinnsteckt. Mit der Lösung wird vielleicht ein Viertel des Adventures erfaßt, trotzdem erreichen Sie die komplette Punktzahl (400 Punkte).

(bs)

# Fragen und Antworten zum 128er

## C 128 kaufen oder noch nicht kaufen?

Ich würde mir gern einen C 128 anschaffen. Wann ist derbeste Zeitpunkt dafür und wie teuer wird das Gerät dann noch sein? Ist eine C 128-Zeitschrift geplant.

U. Mewes

Über die Preisentwicklung beim C 128 kann man natürlich nur spekulieren. Vermutlich wird er zum Weihnachtsgeschäft etwas preisgünstiger angeboten werden. Eine C 128-Zeitschrift gibt es bereits: Der C 128 gehört ins 64'er-Magazin!

## CP/M-Software übertragen?

Ich besitze für den Alphatronic PC (Triumph Adler) den Pascal-Compiler »Turbo-Pascal« mit Installationsprogramm.

Nun möchte ich mir aber einen Commodore C128 mit Floppy 1571 zulegen und im CP/M-Modus den Pascal-Compiler (CP/M V2.2) des Alphatronic benutzen.

Haben beide Rechner das gleiche (oder ein kompatibles) Diskettenformat, oder ist es gegebenenfallsmöglich, überdie V.24-Schnittstelle diesen Compiler zu übertragen?

Ralf Hohenstein

Sie brauchen sich bei Turbo-Pascal (wie übrigens bei fast aller CP/M-Software) keine großen Sorgen beim Wechsel des Computers machen. Sowohl die Floppy-Station 1571 von Commodore als auch die bereits erhältliche 1570 können alle gängigen Diskettenformate lesen, auch das des Alphatronic-PC. Für den C 128 ist lediglich eine neue Installation notwendig. Wenn Sie dabei als Terminal AMD 31 auswählen, dann läuft Ihr Turbo-Pascal bereits einwandfrei.

## C 128 nur mit Floppy?

Ich habe erfahren, daß man den C 128 (im C 128-Modus) nur mit angeschlossener Floppy betreiben kann. Was ist hierdran wahr und was nicht?

Sven Fricke

Natürlich funktioniert der C 128 auch ohne angeschlossene Floppy-Station einwandfrei (Ausnahme: CP/M-Modus; hier läuft ohne Laufwerk gar nichts!). Allerdings ist es nicht besonders sinnvoll, Programme zu entwickeln und sie dann mangels Floppy nicht speichern zu können. Die Commodore-Datassette wird doch hoffentlich niemand ernsthaft als Speichermedium zum C 128 in Erwägung ziehen ...?

## POKEs zum C 128 gesucht

1.	Im C 64-Modus kann der Cursor während des Programmlaufs zum Blinken gebracht werden: POKE 204,0; Cursor an, POKE 204,1; Cursor aus.

Wie kann man das gleiche im 128er-Modus bei 80 Zeichen erreichen?

2.	Im C64-Modus ist über die Speicherstelle 212 ein direkter Cursor programmierbar. Wie erreicht man den gleichen Effekt im 128er-Modus?
3.	Der Bildschirmspeicher im 40-Zeichen-Modus beginnt bei Adresse 1024. Wie kann man mit POKEs auf den 80-Zeichen-Speicher zugreifen?

W.-R. Ilse

## Programme gegen Reset schützen?

Wenn man im C 64-Modus durch die Kennzeichnung »CBM80« im RAMnach der vom C 64 bekannten Methode ein Steckmodul simuliere, springt derProzessorbei einem Reset nicht wie der C 64 zu der in $8000/$8001 angegebenen Adresse, sondern in den C 128-Modus. Da ich nun aber Programme schreibe, die durch einen Reset nicht gestoppt werden sollen, möchte ich wissen, wie man den beschriebenen Effekt verhindern kann.

Jürgen Krause

## SpeedDos auf dem C 128?

Kann man das SpeedDos plus ohne Probleme in den C128 und in die 1571 einbauen, undbleibtdabeidie volle Kompatibilität erhalten?

Andre Kuhn

Beim Einbau von SpeedDos in den C 128 gibt es bereits ernste Probleme, weil das C 64 Betriebssystem und Basic in einem einzigen 16‑KByte‑ROM statt in 2x8 KByte untergebracht sind. Es müßte also ein neues EPROM gebrannt werden. Bei der 1570/71 wird’s dann ganz problematisch. Hier sind Änderungen nötig, die unter Umständen zu Inkompatibilitäten führen können.

## Z80-Assembler für C 128?

1.	Befindet sich auf der CP/M-Sy-stemdiskette zum C 128 ein echter Z80-Assembler (nicht nur 8080-Co-de)? 2. Kann die 512-KByte-Speichererweiterung nur als RAM-Floppy angesprochen werden, oder ist es auch möglich, sie (im CP/M-Modus) mit Hüfe der MMU als 8 RAM-Bänke zu je 64 KByte zu verwalten?

Robert Heilinger

1.	Auf der mitgelieferten CP/M-Diskette befinden sich gleich zwei Z80-Makro-Assembler, nämlich MAC und RMAC. Beides sind echte Z80-Assembler und weitgehend ähnlich. RMAC erzeugtjedoch relokatiblen Code, der mit dem ebenfalls mitgelieferten Programm LINK erst noch zu einer ausführbaren Datei gebunden werden muß. Mit RMAC übersetzte Programmodule sind kompatibel zu den meisten CP/M-Compilern. So können beispielsweise in Assembler geschriebene Unterprogramme in Fortranoder PL/1-Programme eingefügt werden.
2.	Die zum C 128 geplante RAM-Erweiterung (256 oder 512 KByte) wird unter CP/M als RAM-Floppy angesprochen werden. Für den Zugriff auf die zusätzlichen Speicherbänke von Basic aus, stehen spezielle Befehle zur Verfügung.

## Was ist mit dem C 128 D?

Gibt es den C 128 D auch für Linkshänder (Floppy auf der linken Seite) oder gar in einer Version mit zwei Laufwerken?

Alexander Nußbaumer

Die Version C 128 D des C 128 (mit getrennter Tastatur und eingebautem Laufwerk) wird nach Auskunft von Commodore in Deutschland im Laufe des nächsten Jahres angeboten (wann immer das auch sein mag). Einen auführlichen Testbericht über dieses Gerät können Sie allerdings bereits in der nächsten Ausgabe des 64’er-Magazins finden. Eine Spezialausführung für Linkshänder wird es aber vermutlich nicht geben.

## Modul-Probleme?

C 64-Steckmodule wie Magic Desk oder Vizawrite funktionieren bei meinem C 128 erst nach mehrmaligem Aus- und Einschalten. Beim Vizawrite-Modul erscheint beispielsweise nur ein blaues Fenster, sonst rührt sich nichts. Erst nach fünf- bis zehnmaligem Einschalten wird das Modul ordnungsgemäß aktiviert. Was kann ich da tun?

Wolfgang Balkenhol

Bei allen C 128 hier in der Redaktion funktionieren die verschiedenen C 64-Module einwandfrei und ohne Probleme. Überprüfen Sie die Kontaktleisten Ihrer Steckmodule auf Verschmutzung und Abnutzung oder Beschädigung. Wenn Sie so nichts feststellen können, dann sollten Sie sich schleunigst (wegen der Garantie) an Ihren C 128-Händler wenden.

## Wo gibt's Programmiersprachen?

1.	Laufen auch Programmiersprachen wie Cobol, Algol oderFortran aufdem C128, und wenn ja, welche CP/M-Compiler sind das?
2.	Läuft CP/M 3.0 auch im 1541-Format?
3.	Es wird viel überden Speicherausbau des C128 auf 512 KByte geredet. Wiegehtdas, und waskostet es? Ist der Rechner dann noch zu professioneller Software kompatibel? Peter Herrmann

1.	Generell laufen im CP/M-Modus des C 128 alle unter CP/M überhaupt angebotenen Programmiersprachen. Allerdings werden bis auf den Turbo-Pascal-Compiler keine anderen Programmiersprachen im 1541-Floppy-Format angeboten. Bei der 1570/1571 gibt es da überhaupt keine Einschränkungen: Es können auch CP/M-Disketten im Epson-, Osborne- und Kaypro-Format gelesen werden.

Bis auf Turbo-Pascal (Test in Ausgabe 11/85), das für 225 Mark angeboten wird, sind CP/M-Compiler aber sehr teuer: Preise über 1000 Mark sind keine Seltenheit, wobei aber die laufende Unterstützung durch Hersteller und/oder Distributor garantiert ist. Tabelle 1 gibt einen Überblick über die wichtigsten unter CP/M verfügbaren Programmiersprachen.

2.	Jedem C 128 liegt eine CP/M-3.0-Diskette im 1541-Format bei. Sie können also auch mit der guten alten 1541-Floppy mit CP/M arbeiten.
3.	Commodore plant eine RAM-Floppy zum C 128 mit 256 oder auch 512 KByte RAM. Genauere Daten sind aber noch nicht zu erhalten. Kompatibel wird der C 128 dadurch in jedem Fall bleiben, im Zweifelsfall wird aber der zusätzliche Speicher vom Anwenderprogramm nicht genutzt werden können.

Info: Heimsoeth-Software (Turbo Pascal), Fraunhoferstr. 13, 8000 München 5
M&TSoftware-Verlag, Hans-Pinsel-Str. 2,8013Haarbei München. Alle Preise ohne MWSt.

# Entdeckungsreise durdi den C128

> Ein frischgebackener C 128-Besitzer befindet sich in einer ähnlichen Situation wie Livingstone auf seiner Forschungsreise in Afrika. Dies ist ein erster Bericht von der Erforschung des unbekannten Kontinents C 128.

Da steht er nun vor mir: Der neue von Commodore, der C 128. Als alter C 64-Hase bin ich höchst erfreut über den gewaltigen Basic-Wortschatz, der mir nun zur Verfügung steht. Langsam bekommen meine Basic-Programme die vielgelobte »Struktur« mit ELSE und BEGIN und DO etc. Allerdings bin ich vom C 64 allerhand Luxus schon gewohnt. Der Not gehorchend haben sich im Laufe der Zeit nämlich einige nette Erweiterungen angesammelt, die so zur Gewohnheit geworden sind, daß sie mirjetzt fehlen. Auch das feine Basic 7.0 hat seine Lücken!

Als Assembler-Freak, dem nun sogar noch ein eingebauter Monitor zur Verfügung steht, machte ich mich also auf eine Forschungsreise durch die Firmware (integrierte Software im C 128) des Neuen. Das ist ein Weg durch »terra incognita«, denn noch hat niemand ein komplettes ROM-Listingveröffentlicht. Auch das umfangreiche Handbuch weist in der Liste der erweiterten Zeropage allerhand weiße Flecken auf.

In unregelmäßiger Reihenfolge erhalten Sie Zwischenberichte von Entdeckungen, die diese Forschungsreise erbracht hat. Dies ist der erste davon.

### Simulieren eines PRINT AT

Der neue SYS-Befehl im 128er-Modus erlaubt die Übergabe der Registerinhalte an aufgerufene Routinen:
SYS adresse,A,X,Y,S
Dabei ist
A = Akkumulator, X = X-Register, Y = Y-Register, S = Prozessorstatusregister

An der Adresse 65520 in Bank 15 befindet sich eine Routine, die den Cursor an die Stelle setzt, die durch das X-Register (Zeile) und das Y-Register (Spalte) vorgegeben wird. Deshalb kann ein PRINT AT durch die Befehlssequenz simuliert werden: BANK15:SYS 65520,,Zeile, Spalte:PRINT A$

A$ wird beispielsweise in die 10. Zeile ab der fünften Spalte gedruckt, wenn man schreibt: BANK15:SYS 65520,,10,5:PRINT A$

### Welche Bank haben wir?

Sollten Sie auch zu denen gehören, die die Umschaltung zwischen den Banks des C 128 interessant finden, dann wird es Ihnen vermutlich auch so ergangen sein wie mir, daß Sie nämlich irgendwann nicht mehr so genau wissen, in welcher Bank Sie nun gerade operieren und erstaunt sind, daß beispielsweise ein POKE nicht das erwünschte Ergebnis bringt, weil die falsche Bank eingeschaltet war. Da stolperte ich über eine Adresse in der erweiterten Zeropage, in der offenbar immer die gerade aktuelle Bank gespeichert ist. Durch »PRINT PEEK(981)« behalten Sie immer den so wichtigen Überblick.

### Ausgabe von Fehlermeldungen

Vermutlich ist diese Methode von Basic aus weit weniger interessant als in Assembler-Programmen: Durch »BANK15:SYS 19775,,X« (die zwei Kommas gehören da wirklich hin!) erzwingt man die Ausgabe der Fehlermeldung mit der Nummer X.

In Assembler lädt man die Fehlernummer in das X-Register und springt dann die Ausgaberoutine bei $4D3F an:
LDX #$17
JMP $4D3F
erzwingt einen »STRING TOO LONG ERROR« und führt den Computer in den READY-Status. Allerdings sollte man auch hier noch auf die richtige Speicherkonfiguration achten: Die Basic-ROMs müssen eingeschaltet sein.

### Eingabelängen

Ist es Ihnen schon aufgefallen — im Handbuch bin ich noch nicht darüber gestolpert —, daß man im 128er-Modus jetzt Programmzeilen bis zu vier Bildschirmzeilen (auf dem 40-Zeichen-Schirm) lang machen darf?

Auch INPUT-Eingaben bis zu vier Bildschirmzeilen sind möglich, wer hätte das gedacht?

### Eine OLD-Routine

Versehentlich gelöschte Basic-Programme wieder LIST- und lauffähig zu machen durch einen OLD-Befehl, das sieht unser Basic 7.0 nicht vor. Dabei passiert es gerade bei den ersten Versuchen am C 128 so leicht, daß man in die falsche Bank rutscht und dann den Computer durch ein kleines POKE‑Kommando scheintot macht. Da gibt es dann den Retter aus der Not: Den RESET-Knopf, dessen Betätigung aber das Basic-Programm unauffindbar macht. Da hilft nur eine OLD-Routine.

Auch beim C 128 wird nur der erste Zeilenlinker durch zwei Nullen überschrieben. Es gilt also, diesen zu restaurieren. Außerdem muß der Interpreter erfahren, wo das Ende des Programms zu finden ist. Hier geht das nicht mehr durch den Zeiger, der den Beginn der Variablen andeutet — die liegen jetzt in der Bank 1 —, sondern dazu existiert ein neuer Zeiger. Hier eine Zusammenstellung der für OLD wichtigen Vektoren:
$2D/$2E 45/46 Basic-Programmstart
$1210/1 4624/5 Basic-Programmende

Das im folgenden abgedruckte Programm OLD sucht zuerst den Anfang der zweiten Programmzeile. Sollte das Programm durch allerlei Manipulationen schon so zerstört sein, daß diese Suche erfolglos bleibt, wird ein »STRING TOO LONG ERROR« ausgegeben. Andernfalls restauriert OLD den ersten Zeilenlinker und durchsucht dann den Textspeicher, bis die drei Nullen gefunden werden, die ein Programmende markieren. Die Endadresse wird nun noch in den Endevektor 1210/1 geschriebenund unser Mißgeschick ist repariert.

### Programm OLD

OLD ist hier genauso abgedruckt, wie Sie es mittels des Monitors eingeben können. Drücken Sie zuerst die F8-Taste (dann schaltet sich der Monitor ein) und geben Sie dann ein:
A 0E000 LDA $2D ((RETURN))

Die nächste Adresse erscheint nun automatisch und Sie brauchen nun nur noch die weiteren Befehlssequenzen abzuschreiben. OLD ist willkürlich nach $E000 gelegt worden. Falls Sie das Programm lieber an anderer Stelle hätten, können Sie es mit dem T-Befehl des Monitors auch schnell verschieben. Sollten Sie es beispielsweise lieber bei $D000 liegen haben, dann verwenden Sie:
T E000 E051 D000

Durch SYS 57344 (im Fall, daß Sie es bei $E000 belassen) starten sie unser OLD und das Basic-Programm ist wieder auferstanden.

### Speicher begrenzen

Ein Nebenprodukt der Arbeit an der OLD-Routine war das Auffinden eines weiteren Vektors, der die Obergrenze des Basic-Textes in der Bank 0 festlegt. Dadurch ist es auch beim C 128 möglich, Assemblerprogramme vor dem Überschreiben durch Basic-Text zu schützen. Eine Rolle kann das dann spielen, wenn ein sehr langes Grafikprogramm Gefahr läuft, in die Maschinenprogramm-Speicherbereiche zu gelangen. Der Vektor ist $1212/3 (4626/7 in dezimal).

Durch BANK0 : POKE4626,0 : POKE4627,224
können wir beispielsweise unser OLD-Programm schützen.

Dies sind meine ersten Funde auf der Forschungsreise durch den unbekannten Kontinent C 128. Es spricht vieles dafür, daß — nach dem Auffinden der OLD-Routine — auch ein MERGE in greifbarer Nähe liegt. Schließen Sie sich an, vielleicht finden Sie es?

(Heimo Ponnath/ev)

# Das 64'er EPROM-Programmiergerät

> Werfen Sie einen Blick hinter die Kulissen der EPROM-Programmierung! Wir zeigen Ihnen, wie Sie sich mit wenig Aufwand ein eigenes EPROM-Programmiergerät bauen können.

Unser EPROM-Programmiergerät für den C 64 soll preiswert, zuverlässig, einfach zu bauen und übersichtlich aufgebaut sein. Zudem soll es verschiedene EPROMs, vor allem aber die gängigsten Typen, programmieren können. Dazu soll zunächst auf die Problemstellung, die der Bau eines EPROM-Programmiergerätes aufwirft, eingegangen werden. Daraus wird dann ein Konzept für das 64’er EPROM-Programmiergerät entwickelt und anschließend in eine konkrete Schaltung umgewandelt. Bevor aber die technischen Details beschrieben werden, ist es lohnend, einige Grundbegriffe, die in diesem Zusammenhang stehen, zu erläutern.

**Datenbus**: Der Datenbus besteht aus acht Leitungen, auf denen ein komplettes Byte (8 Bit) zwischen dem Computer und dem Eprommer in beiden Richtungen (bidirektional) übertragen werden kann. Bezeichnung: DO bis D7.

**Adreßbus**: Bis zu 16 Leitungen, auf denen der Computer dem EPROM signalisiert, welches Datenbyte gelesen oder geschrieben werden soll.

**Kontrollbus**: Diese Leitungen steuern am EPROM die Schreib-, Lese- und Sperrfunktion (CS, CE, PGM, Tri State).

**Spannungsversorgung**: Jedes EPROM braucht zum Betrieb eine Spannung von 5 Volt und einen Masseanschluß (UB und GND). Außerdem wird zum Programmieren eine Spannung von 12,5 bis 25 Volt (Up) benötigt.

**TTL-Pegel**: Man versteht darunter logische Zustände, die durch bestimmte Spannungspegel dargestellt werden. Logisch »0« wird durch eine Spannung von 0 Völt, logisch »1« durch eine Spannung von 5 Völt dargestellt. Man kann Bausteine, die mit TTL-(Transistor-Transi-stor-Logik-)Pegeln arbeiten, ohne auf Spannungen zu achten, nur nach logischen Gesichtspunkten miteinander verschalten.

**Tri State**: Im Tri State-Zustand schaltet ein Baustein alle Ein- und Ausgänge in einen hochohmigen Zustand. Dadurch wird der Baustein für den Bus praktisch »unsichtbar«.

Auf die Funktion eines EPROMs braucht an dieser Stelle nicht mehr ausführlich eingegangen zu werden, denn darüber haben wir bereits im 64'er, Ausgabe 8/85, berichtet. Außerdem wird darauf in dieser Ausgabe in dem Artikel »Modul-Generator« eingegangen. Deshalb nur kurz folgende Zusammenfassung: Ein EPROM ist ein Eraseable Programmable Read Only Memory, also ein Festwertspeicher, der programmiert und auch wieder gelöscht werden kann. Zum Löschen benötigt man UV-Licht, wobei die Strahlung einer preiswerten Höhensonne vollkommen ausreicht. Um programmierte EPROMs auf dem C 64 zu verwenden, benötigt man geeignete Steckplatinen (Module) für den Expansion-Port (siehe auch 64'er, Ausgabe 10/85) oder einen Umsetzsockel für Betriebssystem oder Basic-ROM. Doch nun zur eigentlichen Problematik eines EPROM-Programmiergerätes. Betrachten wir die Vor- und Nachteile verschiedener Methoden der Realisierung.

#Die Versorgungsspannung**: Zur Versorgung des EPROMs und der Logikbausteine des EPROM-Programmiergerätes benötigt man +5 Völt und Masse (UB und GND). Beide Anschlüsse stehen sowohl am User-Port als auch am Expansion-Port zur Verfügung. Man braucht nur darauf zu achten, daß die Schaltung nicht mehr als 300 mA Strom verbraucht, da sonst die Spannungsversorgung des ganzen Computers zusammenbricht.

**Die Programmierspannung**: Um Daten in ein EPROM zu programmieren, benötigt man einen Spannungsimpuls für die Zeitdauer von 50 ms. Die Spannung beträgt dabeije nach verwendetem EPROM-Typ 24, 21 oder 12,5 Volt. Da am C 64 aber keine dieser Spannungen vorliegt, muß diese durch ein paar Tricks erzeugt werden. Dabei gibt es mehrere Möglichkeiten, von denen wir nur die drei praktikabelsten betrachten wollen. Am einfachsten ist es, ein externes Netzteil anzuschließen, das mindestens 24 Völt liefert. Alle anderen Spannungen könnte man daraus problemlos gewinnen. Diese Lösung würde aber die Anwendung des EPROM-Programmiergerätes etwas umständlich machen, und Kabel liegen auf dem Computertisch meistens sowieso schon genug herum. Zudem ist diese Lösung auch nicht unbedingt die preiswerteste. Verwendet man die am Computer zur Verfügung stehenden Spannungen, bieten sich drei weitere Methoden an. Nimmt man einen Transformator, kann man mit einem Trick arbeiten.

## Der Trick mit dem Trafo

Normalerweise wird ein Transformator dazu verwendet, um aus hohen Spannungen niedrige zu erzeugen (beispielsweise bei einem Netzgerät). Man kann den Effekt aber auch umdrehen und so aus niedriger Spannung eine oder mehrere höhere erzeugen (Zündspule). Vorraussetzung zum Betrieb eines Transformators ist immer eine Wechselspannung. An Pin 10 und 11 des User-Port steht diese Wechselspannung zur Verfügung.

Eine weitere Methode, die Kaskade (Bild 1), findet auch in der Hochspannungstechnik Verwendung. Das Verfahren beruht darauf, daß man Kondensatoren parallel auflädt und sie dann in Serie entlädt. So kann man Spannungsimpulse gewinnen, die eine Ausgangsspannung nach der Anzahl der Kondensatoren vervielfältigen. Verwendet man zum Betreiben der Kaskade Wechselstrom, so kann man am Ausgang eine kontinuierlich vervielfältigte Spannung entnehmen. Die letzte Möglichkeit besteht darin, einen fertigen DC-/DC-Wandler zu verwenden. Diese Methode ist zwar die beste, aber normalerweise auch eine der teuersten.

**Der Adreßbus**: Jedes Byte, das in einem EPROM gespeichert oder aus diesem gelesen werden soll, muß an den Adreßeingängen des EPROMs angesprochen werden. Dazu hat jedes EPROM die Eingänge A0 bis AX, je nach der Kapazität des EPROMs. An diesen Eingängen legt man zum Programmieren binär codiert (mit TTL-Pegeln) die Nummer des Bytes an, welches man im EPROM ansprechen will. Zum Auslesen reicht es, wenn man das EPROM direkt an den Systembus anschließt (was man bei Steckmodulen am Expansion-Port auch macht). Zum Programmieren muß man die selektierte Adresse aber für mindestens 50 ms (Dauer des Programmierimpulses) stabil halten. Dazu ist es unumgänglich, die Adresse zwischenzuspeichern. Auch hier gibt es wieder mehrere Möglichkeiten.

Die erste Möglichkeit besteht in der Verwendung eines Binärzählers. Binärzähler haben einen Impulseingang und mehrere Zählausgänge. Jedesmal, wenn am Eingang eine Impulsflanke auftritt, wird die an den Ausgängen durch TTL-Pegel dargestellte Zahl um eins erhöht. Man kann durch Koppeln von Binärzählern jede beliebige Zahl (als Spannungspegel) realisieren. Will man, wie wir nicht nur zählen, sondern auch bestimmte Zahlen darstellen, so benötigt man unbedingt einen Binärzähler mit sogenanntem »Clear«-Eingang. Gibt man einen Impuls auf diesen Eingang, wird der Zähler auf Null gestellt und man kann durch eine entsprechende Zahl von Impulsen am Zähleingang jede beliebige Zahl (Adresse) an den Ausgängen herstellen. Der Vorteil dieser Anwendung ist, daß man nur drei Steuerleitungen zur Darstellung beliebiger Adressen braucht. Der Nachteil besteht darin, daß die gewünschten Adressen Impuls für Impuls hochgezählt werden müssen. Da am User-Port des C 64 nur eine begrenzte Anzahl von Leitungen zur Verfügung steht, eignet sich diese Methode hauptsächlich für Programmiergeräte, die am User-Port betrieben werden.

Das ganze kann man auch mit Registern machen. Ein Register ist ein Speicher, in dessen Eingänge man Daten schreiben kann und an dessen Ausgängen die Daten so lange präsent bleiben, bis sie gelöscht oder neu geschrieben werden. Man kann somit beliebige Zahlen direkt zwischenspeichern. Der Vorteil liegt in der durch die Datenübergabe direkten Adressierung. Der Nachteil besteht darin, daß man mindestens fünf, normalerweise aber zehn Steuerleitungen braucht. Für den User-Port ist diese Möglichkeit daher ungeeignet, für den Expansion-Port aber geradezu prädestiniert.

Statt der Register oder dem Binärzähler kann man aber auch einen Input/Output-Bausteinverwenden. Da diese intelligenten, hochintegrierten Bausteine in der letzten Zeit erheblich im Preis gesunken sind, sollte man diese Methode nicht gleich beiseite legen. Mit einem 6821 Baustein hat man dann bis zu 20 Leitungen zur Verfügung, die bidirektional arbeiten und frei programmierbar sind. Man kann zudem die dort gespeicherte Adresse zu Kontrollzwecken wieder auslesen.

**Der Datenbus**: Er dient dem Austausch von Daten zwischen dem EPROM und dem Mikroprozessor 6510 in beiden Richtungen, er muß also bidirektional arbeiten. Das erscheint sinnvoll, denn wir wollen unser EPROM ja programmieren, auslesen und verifizieren. Zum Programmieren müssen die Daten, ebenso wie die Adressen, auch mindestens 50 ms stabil stehen. Das macht den direkten Anschluß an den Systembus des C 64 aber unmöglich, denn der C 64 kann eine Adresse nicht so lange stabil halten. Aber auch hier gibt es mehrere Möglichkeiten, das Problem zu lösen — betrachten wir zwei davon.

Zunächst kann man Register in Verbindung mit einem Bustreiber verwenden. Wie schon beim Adreßbus erläutert, kann man Register verwenden, um ein zu programmierendes Byte dem EPROM zur Verfügung zu stellen. Da das Register jedoch nur in eine Richtung arbeitet, kann man die Datenleitungen des EPROM mit Hilfe eines Tri State-Bustreibers in der anderen Richtung (das heißt, vom EPROM zur CPU) direkt mit dem Systembus verbinden. Diese Methode ist aber nur am Expansion-Port möglich. Wesentlich flexibler ist dagegen ein Konzept, das einen Input/Output-Baustein verwendet. Am User-Port kann man für den bidirektionalen Datenaustausch den eingebauten I/O-Baustein 6526, dessen acht Datenleitungen herausgeführt sind, verwenden. Am Expansion-Port muß man einen I/O-Baustein installieren, von dem man ein 8 Bit Register zum Datenaustausch verwenden kann. Die restlichen Leitungen könnte man zum Beispiel zum Steuern des Kontroll-Busses oder niederwertigen Adreß-Byte verwenden.

**Die Kontroll-Leitungen**: Dieser Bus dient zur Steuerung des EPROM-Zustandes. Man kann damit das EPROM auf Programmieren, Lesen oder Stand-By schalten. Zudem dient dieser Bus dazu, die Programmierspannung ein- und auszuschalten. Für den Aufbau des EPROM-Programmiergerätes sind die Signale des Kontroll-Bus besonders wichtig, im Bild 2 sind deshalb die Zustände der Steuerleitungen in Abhängigkeit von der Betriebsart beispielsweise bei einem 2764 EPROM abgebildet.

TODO NOT

**OE (Output Enable)**: Eine logische »0« an diesem Eingang des EPROM ermöglicht in Verbindung mit den Signalen CE und PGM ein Lesen des EPROM-Inhaltes. Während des Programmierzyklus ist der Zustand dieser Leitung ohne Bedeutung (kann 0 oder 1 sein).

TODO NOT

**CE (Chip Enable)**: Ist diese Leitung logisch »1«, so befindet sich das EPROM im Stand-By-Modus, das heißt, alle Ein- und Ausgänge werden in einen hochohmigen Zustand geschaltet. Dies ermöglicht den direkten Anschluß des EPROM an den Systembus. Eine logische »0« ermöglicht den Zugriff sowohl im Programmier- als auch im Lesemodus.

TODO NOT

**PGM (Programm)**: Dieser Eingang muß während des Programmiermodus logisch »0« sein. Will man das EPROM auslesen oder bei anliegender Programmierspannung verifizieren, so muß man diesen Eingang auf logisch »1« schalten.

**U<sub>P</sub> (Programmierspannung)**: An diesen Eingang müssen während des Programmierens 25 Volt Programmierspannung anliegen. Betreibt man das EPROM in einem Computer (als fertig programmiertes ROM), so muß an diesen Eingang eine Spannung von 5 Volt angelegt werden.

**U<sub>B</sub> (Betriebsspannung)**: An diesem Pin des EPROM muß die Betriebsspannung von 5 Volt (105 mA während des Betriebs, 21 mA im Stand-By-Modus) angelegt werden.

**GND** (Ground): Masseanschluß des EPROM (Betriebserde).

## Der Programmiervorgang (am Beispiel eines 2764)

TODO NOT

Nach dem Löschen, beziehungsweise bei einem neuen EPROM, haben alle Bits den Wert »1«. Man kann also testen, ob ein EPROM vollständig gelöscht ist, indem man alle verfügbaren Bytes mit hexadezimal »FF« vergleicht. Durch das Programmieren wird später nichts anderes gemacht, als die entsprechenden Bits auf »0« zu setzen. Der Programmierzyklus wird gestartet, indem man die Programmierspannung an U<sub>P</sub> anlegt. Die Adresse des zu programmierenden Bytes wird an den Adreß-, die Daten an den Dateneingängen in Form von TTL-Pegeln angelegt. Das EPROM muß dabei durch den CE-Eingang selektiert sein (logisch 0). Dann wird am PGM-Eingang ein Impuls (TTL logisch 0) von 50 ms gegeben. Der Impuls darf auf keinen Fall länger als 55 ms sein, da sonst das EPROM zerstört wird. Die Länge des Impulses kann man durch Software steuern, sollte sie aber auf Seiten der Hardware unbedingt durch den Einsatz eines Monoflops absichern. Nach diesem Vorgang ist das adressierte Byte mit der am Datenbus angelegten Information fest programmiert. Nach der vollständigen Programmierung eines EPROMs sollte man dieses vor unbeabsichtigtem Löschen durch Aufkleben einer Silberfolie auf das EPROM-Fenster schützen (auch Tageslicht enthält UV-Strahlung).

## Die Frage der EPROM-Typen

Es gibt EPROM-Programmierer, die nahezu jeden EPROM-Typ programmieren können. Da unser EPROM-Brenner jedoch für den Einsatz am C 64 gedacht ist, genügt es, wenn er die EPROM-Typen programmieren und lesen kann, die an diesem Computer am häufigsten Anwendung finden. Das hat den Vorteil, daß man den EPROM-Programmierer kostengünstig herstellen kann. Meistens benötigt man EPROMs, die das Betriebssystem ersetzen, statt des Basic-ROMs eingesetzt werden, oder als Steckmodul im Bereich $8000 bis $A000 eingeblendet werden. Da alle diese Bereiche 8 KByte Speicher umfassen (wie auch die BetriebssystemROMs der 1541 Floppy), ist dafür vor allem der Typ 2764 geeignet, der in letzter Zeit auch noch sehr billig geworden ist. Für größere Anwendungen (lange Programme, 16 KByte Steckmodule, Einsatz von Umschaltmodulen gibt es bis 128 KByte) kommt noch der Typ 27128 (16 KByte) oder 27256 (32 KByte) in Frage. Zum Austausch des Zeichensatzes kann man dann noch 4 KByte EPROMs vom 2532 oder 2732 verwenden. Der Einsatz weiterer Typen ist im Regelfall nicht nötig und auch wirtschaftlich unsinnig, da vor allem die 27XX-Reihe zur Zeit fast überall sehr preiswert gehandelt wird. Bislang sind wir noch nie auf ein Problem gestoßen, das sich nicht mit den oben genannten EPROM-Typen (Bild 3) lösen ließe.

## Das Konzept des 64'er EPROMmers

TODO NOT

Um eine größtmögliche Flexibilität und Bedienerfreundlichkeit zu gewährleisten, wurde der 64'er EPROMmer zum Anschluß an den Expansion-Port entwickelt (Bild 4). Der Daten und Adreßverkehr, sowie die Steuerung des Kontrollbusses erfolgt über zwei I/O-Bausteine vom Typ 6821. Diese werden im C 64 im Adreßbereich $DF00-$DF03 (Baustein Nummer 1) und $DF04-$DF07 (Baustein Nummer 2) decodiert. Beide Bausteine sind parallel am Datenbus (D0 bis D7) und an den Adreßleitungen A0 und A1 des C 64 angeschlossen. Die Decodiereingänge CS0/CS1/CS2 der Bausteine sind folgendermaßen verschaltet: CS0 sind bei Baustein Nummer 1 direkt, bei Baustein Nummer 2 über einen Inverter 7404 mit der Adreßleitung A2 verbunden. CS1 ist bei beiden Bausteinen mit der Adreßleitung A3 und CS2 mit der Decodierleitung IO2 des Computers verbunden. Die IRQ-Ausgänge der beiden 6821 bleiben bei dieser Anwendung, da sie nicht gebraucht werden, unverschaltet. Weiterhin sind die Leitungen ⌀2 (Systemtakt), R/W (lesen/schreiben), Reset, +5 Volt und GND des C 64 mit beiden 6821 zur Steuerung des Datentausches verbunden. Der I/O Port A des 6821 Nummer 1 übernimmt den Datenverkehr zwischen EPROM und Computer. Da die Datenleitung aller verwendeten EPROMs gleich sind, können diese Verbindungen fest verdrahtet werden. Port B des gleichen IC steuert die Kontroll-Logik zum Lesen oder Programmieren der verschiedenen EPROM-Typen. Der 6821 Baustein Nummer 2 steuert den Adreßbus mit beiden Ports. Dadruch wird die Bearbeitung von EPROMs bis zu 64 KByte ermöglicht. Der größte Teil dieser Leitungen kann auch fest mit dem Textoolsockel (Nullkraftsockel), der der Aufnahme der EPROMs dient, verbunden sein. Dies sind die Leitungen A0 bis A10, die anderen Adreßleitungen sind bei jedem EPROM-Typ spezifisch und müssen über den Kontrollbus gesteuert werden. Bevor nun der Kontrollbus beschrieben wird, der die aufwendigste Verschaltung des EPROM-Programmierers darstellt, muß das Problem der Spannungsversorgung geklärt sein. Die stabilisierte Versorgungsspannung von 5 Volt für die gesamte Logik ist am Expansion-Port verfügbar. Die Programmierspannung wird aus einem DC-/DC-Wandler der Firma TDK (CE 0072) gewonnen. Dieser preiswerte Wandler liefert am Ausgang eine Gleichspannung von 31 Volt. Sie wird durch einen Kondensator von 100 µF geglättet und über ein Transistor Zehner-Dioden-Glied auf 27 Volt vorgeregelt. Die endgültige Regelung auf die erforderlichen Programmierspannungen erfolgt nach nochmaliger Glättung durch einen Kondensator von 10 µF direkt am EPROM durch Zehner-Dioden. Die Spannungen für die verschiedenen EPROM-Typen werden über den Kontrollbus geschaltet. Der Kontrollbus hat somit folgende Aufgaben:

1. Die Verschaltung des Adreßbusses (All bis A15) für die verschiedenen EPROM-Typen.
2.	Die Steuerungderverschiedenen Programmierspannungen.
3.	Die Bedienung der EPROM‑Eingänge der verschiedenen EPROM-Typen zum Lesen oder Programmieren.
4.	Die Erzeugung des Programmier-Impulses von 50 ms.
5.	Die Bereitstellung der Versorgungsspannung für 24 Pin-EPROMs an Pin 26 des Textoolsockels.

TODO NOT

Diese Aufgaben werden mit Hilfe von Multiplexern und Transistoren (siehe Schaltpläne Bild 4 und Bild 5) erfüllt. Die Logik wurde dabei so geschaltet, daß für jeden EPROM-Typ eine Zahlenkombination in Port B geschrieben wird und das Umschalten zwischen Lesen und Schreiben über ein Bit gesteuert werden kann. Der verwendete 74LS139 Multiplexer ist mit seinen Eingängen mit Leitung B0 und B1 
 des 6821 Nummer 1 verbunden. So kann man mit einer Zahl zwischen Null und Vier eine bestimmte Programmierspanung auswählen. Der Enable-Eingang des Multiplexers, der die Auswahl auf die Ausgänge schaltet, wird von einem Monoflop 74LS123 gesteuert. Dieses Monoflop ist mit Hilfe eines Kondensators von 6,8 µF und eines Widerstandes von 20,5 kΩ auf 50 ms eingestellt. So ist gewährleistet, daß ein programmierter Spannungsimpuls, selbst bei Ausfall des Computers oder Auftreten eines Interrupts, genau 50 ms dauert (ein längerer Impuls könnte zur Zerstörung des EPROMs führen). Zum Einschalten der verschiedenen Programmierspannungen dienen Transistoren vom Typ BC327-40, die die Programmierspannung durchschalten, wenn ihre Basis vom Multiplexer über den angeschlossenen Treiber 7406 auf Masse gezogen wird. Nach dem Passieren des Schalttransistors werden die verschiedenen Spannungen über einen Vorwiderstand mit Zehnerdiode geregelt. Die logischen Zustände bei abgeschalterer Programmierspannung werden durch Dioden mit Vorwiderstand (logisch »1«) oder Widerstände, die mit Masse verbunden sind, (logisch »0«) geregelt. Weiterhin wird das Signal PGM für die Typen 2764 und 27128 aus dem Multiplexer, Leitung 5, gewonnen. Der Monoflop steuert über einen zweiten Ausgang eine LED, die für die Dauer des Programmierimpulses erlischt und so den Programmiervorgang durch Blinken anzeigt. Außer der Ansteuerung der verschiedenen Programmierspannungen müssen noch Pin 1, Pin 26 und 27 des Texttool-Sockels mit verschiedenen EPROM-Typen beschaltet werden.

Diese sind:
Pin 1: Umschaltung zwischen A15 (27512) und U<sub>P</sub> (12,5 oder 25 Volt für 2764/27128/27256)

TODO NOT

Pin 27: Umschaltungzwischen A14 (27256/27512) und PGM (2764/27128)

Pin 26: Umschaltungzwischen A13 und U<sub>B</sub> (2732/2532)

Die Umschaltung dieser Pins ist in den Bildern 6, 7 und 8 dargestellt. Die Funktion der Steuerleitungen (CT1 bis CT3), die aus dem 6821 Nummer 1 Port B kommen, kann man den Logikdiagrammen entnehmen. Die Leitungskreuzungen für den seltener verwendeten Typen 2532 wurden mit einem Umschalter, dessen Stellung am 6821 Nummer 1 B6 ausgelesen werden kann, realisiert (Bild 9).

TODO NOT

Nachdem hiermit nun die Grundlagen des 64'er EPROM-Programmiergerätes beschrieben wurden, werden wir uns in der nächsten Ausgabe der Bauanleitung, den Bestückungsplänen und dem Platinenlayout widmen.

(Michael Frank/aw)

# Technischer K.o.

> Jeder sein eigener Rocky oder Muhammed Ali? Boxspiele machen es möglich — Ohne jede Verletzungsgefahr!

Boxen gehört mit zu den Sportarten, die aufs Publikum ungeheure Faszination ausüben. Selber boxen tun dagegen nur wenige.

Boxfans, und solche die es werden wollen, können nun aber auch zu vernünftigeren Zeiten als nachts um halb drei spannende Bildschirmkämpfe erleben und dabei sogar selber aktiv sein. Denn inzwischen gibt es einige Boxspiele für den C 64, von denen wir uns zwei herausgepickt haben.

»Frank Bruno’s Boxing« ist ein nicht vollkommen ernstgemeintes Boxspiel. Grafik und Handlung gehen eher ins Comichafte. Dabei ist Frank Bruno selber ein bekannter englischer und durchaus ernst zu nehmender Boxer.

Bei »Frank Bruno« geht es darum, sich nach und nach gegen acht verschiedene Gegner durchzuschlagen, vom nilpferdartigen »Canadian Crusher« über so bekannte Gegner wie »Andra Puncheredov« und »Ravioli Mafiosi« bis hin zum derzeitigen Weltmeister »Peter Perfect«. Alle acht Gegner haben unterschiedliche Taktiken und Schwierigkeitsgrade. Hat man einen Gegner besiegt, erhält man das Codewort für den Ranghöheren. Selbst geübte Computerspieler sind eine ganze Weile beschäftigt, bis sie sich zu Peter Perfect durchgeboxt haben.

Die Steuerung des eigenen Boxers erfolgt wahlweise über zwei Joysticks oder einenJoystick und die Tastatur. Trotzdem gibt es nicht sehr viele Schlagmöglichkeiten, insgesamt nur vier. Dafür kann man seinen Boxer aber auch selber bewegen und muß sich um die Deckung kümmern.

Die Animation der beiden Gegner ist nicht nur vom technischen Standpunkt aus gut, sondern auch sehr witzig. Da streckt der Gegner schon mal die Zunge raus, geht ein Schlag daneben, oder rotiert wie wild, wenn er besonders hart getroffen wird.

Begleitet wird man von der Themamusik aus dem Film »Rocky« und diversen, recht realistischen Box- und Publikumsgeräuschen.

Leider kann man nur alleine als »Frank Bruno« gegen die verschiedenen Gegner antreten, eine Zwei-Spieler-Option gibt es nicht.

Das ist bei »Barry McGuigans World Championship Boxing« anders. Hier können wahlweise zwei oder auch nur ein Spieler den Bildschirmring betreten.

»Barry McGuigan« sieht sich selber mehr als sportliche Simulation. So hat man eine Art »Boxer Construction Set«, in dem man von der Kampfstärke bis zur Haarfarbe seinen eigenen Boxer zusammenstellen kann. Außerdem werden verschiedene Eckdaten jedes Boxers, von der Geschwindigkeit bis hin zur Ausdauer, festgehalten. Diese Daten werden vor dem Kampf bekanntgegeben, so daß man im Trainingslager noch speziell auf den nächsten Kampf hinarbeiten kann, da man die Angriffspunkte des Gegners, aber auch die eigenen Schwächen kennt.

Der Boxkampf selber ist ebenfalls sehr aktionsreich. Die Bewegungen der Spieler im Ring werden automatisch vom Computer durchgeführt, man muß sich selber also nur noch um die Schläge und die Deckung kümmern. Mit dem Joystick können sieben verschiedene Schläge ausgeteilt, und zwei verschiedene Deckungen bezogen werden. Es gelten übrigens die tatsächlichen Box-Regeln mit echtem oder technischem K.o. und Sieg nach Punkten. Nach jeder der Box-Runden wird ein Lagebericht über Kondition der Boxer und sogar des Publikums gegeben, damit man sich auf die nächsten Runden vorbereiten kann.

Ein einziges Minus müssen wir »Barry McGuigan« anlasten: Man kann Boxer oder Weltranglistenplatz nicht abspeichern, muß also jedesmal, wenn man das Programm lädt, von vorne anfangen. Über Grafik und Sound kann man wenig berichten, sie sind zwar nicht außergewöhnlich, liegen aber über dem Durchschnitt.

Beide Boxspiele haben ihren eigenen Reiz: »Barry McGuigan« spricht eher die Box-Fans an, die eine realistische Box-Simulation mit strategischen Elementen haben wollen, während »Frank Bruno« eher ein eigenständiges Computerspiel darstellt, das an das Thema Boxen angelehnt ist. Welches man sich zulegt, ist reine Geschmacksache, denn beide sind ihr Geld wert.

(bs)

# SMU

> Der Maskengenerator Programmieren Sie aerne Datenverarbeitungsprogramme? Dann braucnen Sie diese Erweiterung. Mit ihr können Bildschirmmasken mit numerischen und alphanumerischen Feldern erstellt und anschließend in eigene Basic-Programme eingebunden werden.

Das Programmpaket »SMU« (Screen Management Utility) dient zur Erstellung von Bildschirmmasken und deren einfache Handhabung durch ein erweitertes Basic.

Angelehnt an professionelle Bildschirm-Maskengeneratoren kann auf einfache Weise eine Bildschirmmaske erstellt und auf Diskette gespeichert werden. Wenn Sie jetzt denken, schon wieder ein Maskengenerator, dann haben Sie weit gefehlt. Dieser Maskengenerator erstellt nicht stur eine Maske durch Erzeugen von PRINT-Zeilen, wie es andere Maskengeneratoren machen, sondern es lassen sich natürlich zusammen mit der Maske numerische und alphanumerische Felder definieren. Mit der Basic-Erweiterung können die so erstellten Masken in eigene Programme eingebunden werden. Der Vorteil dieses Programms liegt auf der Hand. Es ist nicht mehr erforderlich, sich über die Programmierung von Eingabefeldern und Masken in selbstgeschriebenen Dateiverwaltungsprogrammen Gedanken zu machen. Die Programmierung übernimmt ab jetzt der Maskengenerator. Sie müssen sich nur noch überlegen, wo die Eingabefelder stehen und wie sie aussehen sollen. Das Erstellen der Masken ist denkbar einfach. Wird der Maskengenerator »SMU« geladen und mit dem Basic-Befehl RUN gestartet, muß man sich zuerst entscheiden, ob eine neue Maske erstellt oder eine alte bearbeitet werden soll. Hat man sich für das Erstellen einer neuen Maske entschieden, wird der Bildschirm gelöscht und ein Cursor erscheint. Wie gewohnt, läßt sich dieser Cursor mit den entsprechenden Steuertasten auf dem Bildschirm bewegen. Überall dort, wo ein Eingabefeld definiert werden soll, dient das »!«-Zeichen als Platzhalter für alphanumerische und das »# «-Zeichen als Platzhalter für numerische Zeichen. Aber Vorsicht; diese beiden Zeichen dürfen im erklärenden Text nicht erscheinen. Um später die Länge des Eingabefeldes zu erkennen, empfiehlt es sich, den Anfang und das Ende mit einem beliebigen Zeichen zu markieren. Ist die Maske erstellt, kann sie durch zweimaliges Drücken der »F1«-Taste auf einem zuvor bestimmten Gerät gespeichert werden. Mit der Basic-Erweiterung »SMUBU« läßt sich die so erstellte und gespeicherte Maske in eigene Basic-Programme einbinden. Ein Demoprogramm (LIT.VERW.) zeigt, wie einfach und dennoch effizient die Handhabung solcher Masken sein kann.

(Georg Krcal/ah)

TODO ASIDE

## Lebenslauf

Am 3.2.1965 in Wien geboren, kam ich erst während meiner Ausbildung zum Chemiker mit der Computerei (soweit man diesen Anfang so nennen kann) in Berührung. Wie alles einmal klein und zaghaft beginnt, so auch meine Programmierkünste. Diesen bescheidenen Anfang machte ein programmierbarer UPN-Taschenrechner mit 49 Programmierschritten. Allerdings lernte ich bald darauf Basic im Selbststudium, frei nach dem Motto: Probieren geht über studieren. Meine Basic-Kenntnisse konnte ich bei einem Bekannten an einem Commodore 8032 vertiefen. Kurze Zeit später entstand auf einem P2000-Computer ein Textverarbeitungsprogramm.

1983 entschloß ich mich dann zum Kauf eines C 64. Vom langsamen Basic wenig angetan, wurde fortan in Maschinensprache programmiert. Die Konfrontation mit bildschirmgesteuerten Programmen weckte in mir den Wunsch, ähnliche Möglichkeiten auf dem C 64 zu realisieren, zumal der bedienungsunfreundliche INPUT-Befehl des Basic-Interpreters häufig mehr Schaden anrichtet als er nutzt. Wer hat es schon gern, wenn seine mühsam generierten Bildschirm-Layouts durch ein versehentliches CLR zerstört werden oder der Interpreter nach einer vermeintlich richtigen Eingabe »extra ignored« meldet? Ein Maskengenerator und entsprechende Funktionen waren also notwendig. Aber wo beginnen? Schützenhilfe gab es kaum. Die meisten Anwender waren gerade noch dabei, die Grafikfähigkeiten zu erkunden und Soundeffekte zu programmieren. Auf Fragen, wie der Computer String-Arrays anlegt, wußte ich keine Antwort. Diese Unwissenheit war jedoch kein Hindernis, die 2,5 KByte große Befehlserweiterung (SMUBU), an der ich etwa ein halbes Jahr gearbeitet habe, zu entwickeln. Hoffentlich macht SMU, wie ich meinen Maskengenerator getauft habe, all jenen Freude, die mit dem C 64 nicht nur spielen, sondern ihn auch sinnvoll einsetzen wollen.

(Georg Krcal)

# Der Chemie-Assistent

> Das Ansetzen von Lösungen und Titrationsberechnungen werden mit diesem Programm zum Kinderspiel. Doch das Programm kann noch mehr...

In der analytischen anorganischen Chemie spielen geeichte Lösungen von Substanzen eine große Rolle. Der Substanzgehalt einer Lösung wird in der Regel in Mol/Liter angegeben. Um geeichte Lösungen zu erhalten, muß man berechnen, wieviel Gramm einer Substanz man in einem bestimmten Volumen Flüssigkeit auflösen muß. Derartige »Sklavenarbeit« nimmt Ihnen dieses Programm ab. Neben der Einheit Mol/Liter sind aber auch die Angaben Gramm/Liter oder ppm üblich, »ppm« ist die Abkürzung von »parts per million«, der Anzahl von Gewichtsteilen einer Substanz in einer Million Gewichtsteilen des Gemisches. Häufig müssen die Angaben ineinander umgerechnet werden, was dieses Programm auch für Sie erledigt.

Die interessanteste Funktion des Programmes sind jedoch die Titrationsberechnungen. Angenommen, Sie haben eine Flasche mit Natronlauge (wäßrige Lösung von Natriumhydroxid, Ätznatron) und wollen wissen wie stark die Lauge ist. Also wieviel Gramm oder Mol Natriumhydroxid in einem Liter der Lauge gelöst sind. Dann hilft nur eine Titration der unbekannten Lauge mit eingestellter Salzsäure. »Eingestellt« heißt, man weiß genau, wieviel Mol Chlorwasserstoff in einem Liter Wasser gelöst sind. Zur Titration nimmt man nun ein genau abgemessenes Volumen der unbekannten Natronlauge und gibt tropfenweise die Salzsäure unter Umrühren hinzu. Dabei reagieren Salzsäure und Natronlauge zu einer vollkommen harmlosen, neutralen Verbindung, Kochsalz (Natriumchlorid). Neutral bedeutet, daß die Lösung einer Verbindung in Wasser weder sauer noch basisch ist. Das Zutropfen der Säure führt dazu, daß die Basizität der Lösung ständig abnimmt, so lange, bis in der Lösung keine »Natronlauge« mehr enthalten ist. Eine weitere Säurezugabe würde am Neutralpunkt dazu führen, daß die Lösung sauer wird. Um den »Neutralpunkt« zu erkennen, behilft man sich eines Tricks, eines Indikators. Ein Indikator ist eine organische Verbindung, die in Säuren eine andere Farbe besitzt als in Laugen.

Zwei Beispiele für Indikatoren aus dem täglichen Leben sind Rotkohl-Saft und schwarzer Tee. Sollte es bei Ihnen zum nächsten Sonntagsbraten Rotkohl geben, geben Sie einfach mal ein paar Tropfen des Suds in ein Glas und verdünnen den blau-roten Saft etwas mit Wasser. Dann geben sie etwas Seifenlauge zu. Das Ergebnis ist verblüffend: Der rote Saft wird plötzlich grün. Wenn Sie nun Zitronensäure zutropfen, bis ein Farbumschlag nach rot erfolgt, haben Sie die Seifenlauge titriert. Sie wissen aus zwei Gründen nur nicht wie stark sie war. Der erste Grund ist, sie wissen nicht wieviel Volumen Lauge Sie hatten und der zweite ist, daß die Stärke der Zitronensäure unbekannt ist. Das zweite Indikatorbeispiel haben Sie sicherlich schon beobachtet. Wenn Sie schwarzen Tee mit Zitronensaft »verfeinern«, wird der Tee plötzlich hell. Beide Indikatoren finden allerdings in der Chemie keine Anwendung, weil der Farbumschlag nicht deutlich genug ist.

Aber angenommen, um beim Beispiel zu bleiben, Sie hätten zur Titration der Natronlauge mit Salzsäure Rotkohlsaft als Indikator hergenommen, dann hätte die Lösung den Neutralpunkt erreicht, wenn die Farbe von grün nach rot umschlägt. Aus dem Volumen der zugetropften Salzsäure und dem Volumen der Natronlauge kann man nun die Stärke der Natronlauge berechnen. Bei Verbindungen, die aus vielen Atomen und komplizierter Reaktanten bestehen, entartet die Rechnung schnell in einer wilden Taschenrechner-Tipperei. Hier hilft der »Chemie-Assistent«.

(hm)

TODO ASIDE

## Lebenslauf

Ich bin am 30. April in München geboren. 1973 begann der Ernst des Lebens: Einschulung. Nach vier Jahren Grundschule wechselte ich ins Gymnasium. Seit 1980 lebe ich mit meinen Eltern in Ampfing und besuche die 13. Klasse des Gymnasiums Mühldorf am Inn. Meine Hobbies sind der C 64 und mein Chemielabor. Entsprechend fiel auch die Wahl meiner Leistungskurse: Mathematik und Chemie. Dieses Programm war der Versuch, beide Fächer miteinander zu verbinden. (Klaus Wanninger)

# Eingabehilfen mit Checksummer 64V3 und MSE

> Fehler beim Eintippen von Listings können ärgerlich sein — wenn man sie nicht rechtzeitig bemerkt. 64’er-Programme sind jedoch problemlos einzugeben.

Bei beiden Programmen handelt es sich um Eingabeerleichterungen unserer Listings. Ferner werden alle Tippfehler bemerkt und angezeigt.

Mit dem **Checksummer 64V3** läßt sich überprüfen, ob eine Basic-Zeile korrekt eingegeben wurde. Dazu muß zuerst das Programm Checksummer 64V3 geladen und mit RUN gestartet werden. Ist das geschehen, erscheint, sobald Sie eine Zeile eingeben und mit RETURN abgeschlossen haben, links oben auf dem Bildschirm eine geklammerte Zahl in reverser Darstellung. Bei dieser Zahl handelt es sich um eine Prüfsumme. Sie muß mit der ebenfalls geklammerten Zahl am Endejeder Basic-Zeile übereinstimmen. Tut sie das nicht, haben Sie einen Tippfehler gemacht. Die Prüfsummen im Listing dürfen nicht mit abgetippt werden. Basic-Listings enthalten keinerlei Steuer- und Grafikzeichen, dafür aber unter- beziehungsweise überstrichene Zeichen und Wörter in geschweiften Klammern. Dabei bedeuten:
**unterstrichenes Zeichen** = SHIFT-Taste + Zeichen
**überstrichenes Zeichen** = Commodore-Taste + Zeichen
die Wörter in geschweiften Klammern:
UP, DOWN, RIGHT, LEFT = Cursorsteuertasten

Ferner werden alle Farben ausgeschrieben. Die Farbe, deren Abkürzung Sie auf der Tastatur des C 64 wiederfinden, erreichen Sie über die Control-Taste (CTRL) beziehungsweise Commodore-Taste plus der Farbtaste.

Zahlen in geschweiften Klammern geben an, wie oft die Tastenkombination unmittelbar hinter der Zahl zu drücken ist, zum Beispiel 2SPACE = 2x Leertaste.

Das Listing zu diesem Checksummer V3 finden Sie zum erstenmal in der Ausgabe 8/85, Seite 54, und ab dem Sonderheft 4. Alle anderen Checksummer-Listings (vor der Ausgabe 8/85; diese müssen mit dem Checksummer 64V2 eingegeben werden) sind damit hinfällig. Die ausführliche Anleitung aus diesen Ausgaben kann jedoch weiterhin benutzt werden.

Der **MSE** unterstützt die Eingabe von Listings, die in Maschinensprache geschrieben wurden. Bei ihm handelt es sich um einen Maschinensprache-Editor, der Fehleingaben ausschließt. Eine abgetippte Zeile wird nur dann angenommen, wenn sie richtig eingegeben wurde.

Das Listing zum MSE mit ausführlicher Anleitung finden Sie in den Ausgaben 1/85 bis 6/85. Auch dieses Programm istauf jeder Leserservice-Diskette gespeichert.

Außerdem schicken wir Ihnen gegen Einsendung eines an Sie selbst adressierten Briefumschlags (Größe DIN C5 = 0,80 Mark, DIN C4 = 1,10 Mark Porto) gerne das Listing zum MSE und Checksummer 64V3 zu.

# Chemie-Assistent

> Mit diesem Programm lassen sich schnell und sicher Titrationen, Löslichkeitsprodukte und Ausfallkonzentrationen berechnen. Aus der chemischen Summenformel werden die Molmassen automatisch berechnet.

Zuerst einige wichtige Eingabehinweise:

1.	Vor dem Abtippen und jedesmal vor dem Laden muß POKE 5120,0:POKE 44,20:NEW eingegeben werden, um im unteren Basic-Bereich freien Speicherplatz für den Zeichensatz zu schaffen.

2.	Das Programm verarbeitet die chemische Schreibweise mit Ausnahme des Kristallwassers, das normal mit einem Malpunkt angefügt wird. Dies ist für die Massenberechnungen anders einzugeben. Beispiel: FeCI3 • 6H2O ist als FeCI3[H2O]6 anzugeben.

3.	Die Indizes sind neu definierte Zeichen und erscheinen auf dem Bildschirm, wenn die Commodore-Taste und gleichzeitig die Taste gedrückt wird, die sich schräg rechts unter der betreffenden Zifferntaste befindet.

TODO

Beispiele: H2O
SHIFT H CBM W SHIFT O
Indexzahl
Index 3: CBM E
Index 4: CBM R
Index 10: CBM Q CBM P
höchster Index = 29
CBM = Commodore-Taste

Das Programm ist menügesteuert und ziemlich klar gegliedert. Am besten läßt sich die Anwendung an verschiedenen Beispielen erklären.

### Menüpunkt 1, Herstellung von Lösungen

Zu Beginn ein sehr einfaches Beispiel, das auch zeigt, wie die molare Masse alleine berechnet werden kann.

Will man einen Liter Calciumchloridlösung mit der Konzentration 1 mol/l herstellen, so muß man genau die Masse von 1 mol Calciumchlorid (CaCl<sub>2</sub>) einwiegen.

Dazu erfordert das Programm folgende Eingaben: Menüpunkte 1. Lösungen, 1. Herstellung, 2. mol/l
Gesamtformel ? CaCl<sub>2</sub>
Eingabe des Teilchens (Ions) ohne Koeffizient ? Ca
Konzentrationswert in mol/l ? 1
Vorgegebenes Volumen (Milliliter) ? 1000
Ergebnis: Es sind 111 Gramm in 1000 Milliliter zu lösen.
111 Gramm ist auch die molare Masse von CaCl<sub>2</sub>

Um zu verdeutlichen, wozu die Frage nach dem Ion ohne Koeffizient dient, noch ein einfaches Beispiel mit Calciumchlorid. Will man einen Liter Calciumchloridlösung herstellen, in der die Konzentration der Cl<sup>-</sup>-Ionen 1 mol/l beträgt, so muß nur noch ein halbes Mol CaCl<sub>2</sub>, also die halbe Molmasse eingewogen werden, weil 1 mol CaCl<sub>2</sub> in 2 mol Cl<sup>-</sup>-Ionen und 1 mol CaCl<sup>2+</sup> dissoziiert.
Gesamtformel? CaCl<sub>2</sub>
Eingabe des Teilchens (Ions) ohne Koeffizient? CI
(Ladungsangabe entfällt)
Vorgegebenes Volumen (Milliliter)? 1 000
Ergebnis: Es sind 55,49 Gramm in 1 000 Milliliter zu lösen.

Dies ist vor allem dann praktisch, wenn die Konzentration einzelner Ionen in Lösungen komplizierterer Salze berechnet werden sollen. Jetzt noch ein Beispiel für Leute, die sich in Chemie etwas auskennen, und das zeigt, wie leistungsfähig dieses Programm ist.

Es soll eine Lösung von Berliner Blau
(Fe<sup>III</sup><sub>4</sub>[Fe<sup>II</sup>(CN)<sub>6</sub>]<sub>3</sub>)
hergestellt werden mit einer Konzentration der Cyanoferrationen [Fe(CN)<sub>6</sub>]<sup>4−</sup> von 2 ppm.
Eingaben:
1. Lösungen, 1. Herstellung, 1. ppm
Gesamtformel? Fe<sub>4</sub>[Fe(CN)<sub>6</sub>]<sub>3</sub>
Eingabe des Teilchens (Ions) ohne Koeffizient? [Fe(CN)<sub>6</sub>]
Konzentrationswert in ppm? 2
Vorgegebenes Volumen (Milliliter) ? 1 000
Ergebnis: Es sind 2,703-10<sup>-3</sup> Gramm in 1 000 Milliliter zu lösen. Das sind 2,7 mg/l

Die dritte Konzentrationseinheit g/l benötigt nicht die Formel des Salzes, obwohl danach gefragt wird. Denn die Masse ist bereits bekannt. Es handelt sich dabei um eine ganz einfache Volumenumrechnung.

Wenn man also 3g/l eines Salzes lösen will, aber nur 250 ml Lösung braucht, so hat man 0,75 g in Wasser zu lösen (3g x 250 ml/1 000 ml) und auf 250 ml aufzufüllen.

Nun zu den Konzentrationsumrechnungen ein praktisches Beispiel:

Eine Gewässeranalyse eines stark belasteten Flusses hat ergeben, daß das Wasser 5 • 10<sup>-7</sup> mol/l hochgiftiges Cadmium in Form von Cadmiumchlorid (CdCl<sub>2</sub>) enthält. In einem Gewässergütebericht muß dieser Wert aber in der — im Umweltschutz üblichen — Einheit ppm angegeben werden.
Eingaben: 1. Lösungen, 2. Umrechnungen, 1. mol/l in ppm gegebener Konzentrationswert? 5e-07
Formel? CdCl<sub>2</sub>
Ergebnis: 5-10<sup>-7<sup> mol/l entsprechen 0,0917 ppm

### Allgemeines

Das Programm ist auch in der Lage, komplizierteste Salze zu verarbeiten, die mehr als zwei Ionenarten haben, beispielsweise KAl(SO<sub>4</sub>)<sub>2</sub> oder Ca(NH<sub>4</sub>)<sub>2</sub>[Fe(CN)<sub>6</sub>].

Nun noch kurz eine Erläuterung der Konzentrationseinheit ppm, die im Umweltschutz große Bedeutung hat. ppm ist die Abkürzung für parts per million, doch der Ausdruck parts ist irreführend, denn ppm bezieht sich nicht auf Teilchen, sondern istein Massenverhältnis, 1 ppm = 1 mg (Stoff)/1 kg (Lösungsmittel). Da bei Wasser 1 kg = 1l ist, wird auch oft 1 ppm = 1mg/l genommen, aber das gilt nur bei Wasser. Im Programm wird Wasser als Lösungsmittel angenommen. Bei anderen Lösungsmitteln könnte über die Dichte das Volumen von 1 kg Lösungsmittel ausgerechnet werden.

Die häufige Konzentrationsangabe in Prozenten bezieht sich ebenfalls auf die Masse. 1% = 1g/100 g entspricht bei Wasser 1 g/100 ml.

Aus dieser Beziehung folgt 1% = 10000 ppm. Aus diesem Grund wurde auf eine separate Behandlung von % als Konzentrationsangabe verzichtet.

Ein einfaches Beispiel dazu:

10 ml Schwefelsäure unbekannter Konzentration soll mit Natronlauge der Konzentration 1 mol/l titriert werden.

Die Reaktion Natronlauge mit Schwefelsäure sieht so aus: H<sub>2</sub>SO<sub>4</sub> + 2 NaOH → 2 H<sub>2</sub>O + Na<sub>2</sub>SO<sub>4</sub>
oder genauer H<sub>2</sub>SO<sub>4</sub> gibt 2 Protonen ab, die von je einem OH<sup>-</sup>-Ion abgefangen werden. Es waren vor der Titration also nur halb so viele H<sub>2</sub>SO<sub>4</sub>-Moleküle, wie zugegebene OH<sup>-</sup>-Ionen vorhanden.

Nehmen wir an, wir haben bei unserem Versuch 15 ml Natronlauge verbraucht
Eingaben:
2. Titration
Äquivalent des Titers? 1
Äquivalent der Vorlage? 2 (n(H<sub>2</sub>SO<sub>4</sub>) ≙ ½ · n(NaOH))
Verbrauch des Titers in ml? 15
Volumen der Vorlage in ml? 10
Ergebnis: c(H<sub>2</sub>SO<sub>4</sub>) = 0,75 mol/l

Ein Beispiel zur Kombination der einzelnen Programmteile: Abituraufgabe von Bayern 1979.

Berechnen Sie, wieviel Gramm Wasserstoffperoxid in 10 ml Lösung enthalten sind, wenn zu ihrer Titration 17,65 ml einer 0,2 molaren Kaliumpermanganatlösung verbraucht wurden.
Lösung:
MnO<sup>-</sub><sub>4</sub>; + 5e<sup>-</sup> + 8H<sub>3</sub>O<sup>+</sup> → Mn<sup>2+</sup> + 12H<sub>2</sub>O
H<sub>2</sub>O<sub>2</sub> + 2H<sub>2</sub>O → 2H<sub>3</sub>O<sup>+</sup> + O2 + 2e<sup>-</sup>
Eingaben:
2. Titration
Konzentration des Titers? 0.2
Äquivalent des Titers? 5 (5e<sup>-</sup>)
Äquivalent der Vorlage? 2 (2e<sup>-</sup>)
Verbrauch des Titers? 17.65
Volumen der Vorlage? 10
Ergebnis: c(H<sub>2</sub>O<sub>2</sub>) = 0.8825 mol/l

Gefragt ist aber die Masse. Also mit SPACE zurück ins Hauptmenü und weiter mit: 1. Lösungen, 2. Herstellung
Konzentration mol/l
Gesamtformel? H<sub>2</sub>O<sub>2</sub>
Eingabe des Teilchens (Ions) ohne Koeffizient? < RETURN > (da das ganze Molekül gemeint ist)
Konzentrationswert in mol/l? 0.8825
Vorgegebenes Volumen in ml? 10
Ergebnis: Es sind 0.3 Gramm in 10 ml zu lösen.
Das heißt 0,3 Gramm H2O2 in 10 ml Vorlage.

### Menüpunkt 3, Löslichkeitsberechnungen

Hier sei gleich vorweg erwähnt, daß es hier eine winzige Ausnahme zu beachten gibt. Es ist nicht möglich, dem Computer ein Verzeichnis aller, aus mehreren Atomen zusammengesetzten, Ionen zu implementieren, wie SO<sub>4</sub><sup>2-</sup>, MnO<sub>4</sub><sup>-</sup>; und ClO<sub>4</sub><sup>-</sup>. Deshalb ist es notwendig, solche Ionen in Klammern zu setzen, da beim Löslichkeitsprodukt die Zahl der Ionen entscheidend ist. Jeder Chemiker weiß, daß BaSO<sub>4</sub> aus zwei Ionen besteht, dem Computer muß es durch Eingabe in der Form Ba(SO<sub>4</sub>) deutlich gemacht werden. Dies ist aber nur im Programmteil Löslichkeitsberechnungen notwendig. Zuerst nun Allgemeines zu Löslichkeit und Löslichkeitsprodukt.

Erklärung der Löslichkeit: Von einem Salz kann man bei 20°C nur eine bestimmte Menge in Wasser lösen, mehr löst sich nicht auf. Diese Menge in Gramm, die sich in 1 Liter gerade noch löst, heißt Löslichkeit. Hat man genau diese Menge aufgelöst, so hat man eine gesättigte Lösung.
Begründung und Definition von Löslichkeitsprodukt:

Beim Auflösen zerfällt ein Salz in seine Ionen. Jeder, der sich schon mit Chemie beschäftigt hat, hat schon einmal Cl<sup>-</sup>-Ionen mit Silbernitratlösung als Niederschlag nachgewiesen. Gibt man zu einer Kochsalzlösung Silbernitratlösung, so sind folgende Ionen in der Lösung: Na<sup>+</sup>, NO<sup>3-</sup>, Ag<sup>+</sup>, Cl<sup>-</sup>.
Da nun aber Ag<sup>+</sup> und Cl<sup>-</sup>-Ionen in Lösung sind und AgCl eine sehr kleine Löslichkeit hat, fällt AgCl aus. Da aber, für die einzelnen Ionen in der Lösung, die Löslichkeitswerte von NaCl und AgNO<sub>3</sub> wenig nützen, hat man die Größe des Löslichkeitsprodukts definiert.

Das Löslichkeitsprodukt ist ein Wert, der sich aus den Konzentrationen der Ionen am Sättigungspunkt zusammensetzt und aus dem sich die Konzentrationen eindeutig zurückrechnen lassen. Definition Löslichkeitsprodukt L eines Salzes

An<sub>n</sub>B<sub>m</sub> : L(An<sub>n</sub>B<sub>m</sub>) = c(A)<sup>n</sup> · c(B)<sup>m</sup>
Beispiel AgCl: L(AgCl) = 1,7 &middot; 10<sup>−10</sup> mol<sup>2</sup>/l<sup>2</sup>
c(Ag<sup>+</sup>) = c(Cl<sup>−</sup>) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (I)
L(AgCl) = c(Ag<sup>+</sup>) &middot; c(Cl<sup>−</sup>) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (II)
aus I und II folgt: L(AgCl) = c(Ag<sup>+</sup>)<sup>2</sup> = c(Cl<sup>−</sup>)<sup>2</sup>
daraus folgt: c(Ag<sup>+</sup>) = c(Cl<sup>−</sup>) = √L(AgCl) = 1,3 &middot; 10<sup>−5</sup> mol/l
Dies ist die Konzentration der Ionen am Sättigungspunkt.

In einer NaCl-Lösung, die schon viele Cl<sup>-</sup>-Ionen enthält, sind weniger Ag<sup>+</sup>-Ionen nötig, bis ein Niederschlag ausfällt. Die Konzentration der benötigten Ag<sup>+</sup>-Ionen berechnet sich folgendermaßen: Unsere NaCl-Lösung soll eine Konzentration von 0,1 mol/l haben, also

c(Cl<sup>-</sup>) = 0,1 mol/l, L(AgCl) = c(Ag<sup>+</sup>) • c(Cl<sup>-</sup>)

c(\mathrm{Ag}^+) = \frac{L(\mathrm{AgCl})}{c(\mathrm{Cl}^-)} = \frac{1{,}7 \cdot 10^{-10}~\mathrm{mol}^2/\mathrm{l}^2}{0{,}1~\mathrm{mol}/\mathrm{l}} = 1{,}7 \cdot 10^{-9}~\mathrm{mol}(\mathrm{Ag}^+)

Aus der Kochsalzlösung fällt also bereits bei einer Silberionenkonzentration von 1,7-10® mol/l Silberchlorid aus.

Diese Berechnung läßt sich nun auch mit dem Computer ausführen:

Eingabe: 3. Löslichkeitsberechnungen, 2. Ausfallskonzentration.
Formel des ausfallenden Salzes ? AgCl
(Dieses Salz darf nur zwei Ionenarten haben, KAl(SO<sub>4</sub>) ist unzulässig, Ag<sub>2</sub>(CrO<sub>4</sub>) ist erlaubt.)
Art der Ionen, die bereits in der Vorlage vorhanden sind ? CI (Ladungsangabe entfällt)
Konzentration der bereits vorhandenen Ionen ? 0.1
Löslichkeitsprodukt des ausfallenden Salzes ? 1.7e-10
Ergebnis: Die Konzentration der zugegebenen Ionen beträgt 1.7e-09 mol/l

Dieser Programmteil lohnt sich eigentlich erst dann, wenn Salze wie CaF<sub>2</sub> oder Al<sub>2</sub>O<sub>3</sub> berechnet werden, denn hierbei sind Potenzen zu berücksichtigen:
L(CaF<sub>2</sub>) = c(Ca<sup>2+</sup>)-c(F<sup>-</sup>)<sup>2</sup>

Die Umrechnungen von Löslichkeit in Löslichkeitsprodukt und umgekehrt sind immer dann praktisch, wenn man den einen Wert in der Tabelle findet und den anderen bräuchte. So nützt einem das Löslichkeitsprodukt wenig, wenn man eine gesättigte Lösung herstellen und wissen will, wieviel man einwiegen muß. Bei den Umrechnungen ist nur die Formel des Salzes und der Wert einzugeben, der umgerechnete Wert ist das Ergebnis.

Hier können sogar wieder Salze mit mehr als zwei Ionenarten eingegeben werden, also auch KAl(SO<sub>4</sub>). Es ist nur noch zu beachten, daß um zusammengesetzte Ionen Klammern zu setzen sind, zum Beispiel Ag<sub>2</sub>(CrO<sub>4</sub>).

(Klaus Wanninger/hm)

# SMU - der Maskengenerator

> »Screen Management Utility« dient zur professionellen Erstellung von Bildschirmmasken unter Berücksichtigung von alphanumerischen und numerischen Feldern. Diese Masken lassen sich durch ein erweitertes Basic in eigene Programme einbinden.

SMU (Listing 1) istfürallejeneverwendbar, dieihren Basic-Programmen einen professionellen Anstrich geben möchten. SMU zielt auf die Verwaltung von Bildschirmmasken ab, wie sie auch bei kommerziellen Programmen verwendet werden. Mit SMU können Bildschirmmasken auf einfachem Wege erstellt und anschließend mit Basic-Befehlen verwaltet werden. SMU bestehtaus drei Programmteilen dem Maskengenerator »SMU« (Listing 1), einem Maschinenprogramm (Listing 2) und einer Befehlserweiterung »SMUBU« (Listing 3). Sind alle drei Programme abgetippt, wird der Maskengenerator mit LOAD ”SMU”,8 geladen und mit RUN gestartet. Die Maschinenprogramme werden automatisch nachgeladen. Zunächst einige Worte zu dem Prinzip einer Bildschirmmaske. Eine Bildschirmmaske ist aus Feldern und Informationsbegriffen aufgebaut. Wem das zu wenig anschaulich ist, der kann eine Bildschirmmaske (kurz Maske) mit einem unausgefüllten Formularvergleichen. Derlnformationsbegriff (IB) wäre dabei der Teil, der dem Ausfüllenden erklärt, was auszufüllen ist; das Feld, der Freiraum hinter der Angabebezeichnung. Somit ergibt sich, daß die Informationsbegriffe Literale sind, die mit der Maske immer ausgegeben werden. Die Felder einer Maske vermögen nun Informationen aufzunehmen, die entweder vom Bediener oder vom Programm kommen. Im ersten Fall füllt der Bediener die Maske aus, die Feldinhalte werden anschließend Variablen zugewiesen, im zweiten Fall werden Variableninhalte in die Felder übertragen.

Die Art und Weise, wie ein Bediener solch eine Maske ausfüllt, läßt sich in zwei Gruppen unterteilen:

1.	Die Zwangseingabe; der Benutzer muß die Felder so ausfüllen, wie das Programm es vorschreibt.
2.	Die wahlfreie Eingabe; der Benutzer trifft selbst die Wahl, welches Feld er ausfüllt.

Bei SMU wurde eine Verknüpfung beider Methoden gewählt, nach einem ausgefüllten Feld springt der Cursor in das nächste, mit den Funktionstasten kann aber stets ein beliebiges Feld der Maske angesprungen werden, genauere Erklärungen dazu folgen noch.

Welchen Vorteil bieten nun Masken gegenüber den herkömmlichen Eingabeverfahren (wie zum Beispiel INPUT)? Der Hauptvorteil liegt in der Fehlerkorrektur, die Feldinhalte können vom Benutzer so lange verändert werden, bis alle Eingaben richtig sind. Ein weiterer Pluspunkt ist die feste Länge eines Feldinhaltes, ein alphanumerischer Feldinhalt wird der Stringvariablen mit einer fixen Länge übergeben. Letztlich kann der Bediener keine Gestaltungsversuche am Bildschirm mehr machen, die die meisten CBM-Computer (so auch der C 64) ziemlich oft aus der Fassung bringen (redo from start, extra ignored).

## Der Maskengenerator

Beginnen wir mit der Beschreibung des Maskengenerators und mit der Erstellung einer Bildschirmmaske mit dem Programm SMU.

Wie bereits erklärt, besteht eine Maske aus Literalen und Feldern, für den Maskengenerator ist alles literal, was nicht Feld ist. Das mag vorerst nicht viel aussagen, aber nachdem festgelegt worden ist, was ein Feld ist, versteht man auch, wie man eine SMU-Maske zu erstellen hat. Der Maskengenerator unterscheidet zwei Feldarten:

1.	Alphanumerische Felder
2.	Numerische Felder

Diese Feldarten werden bei der Erstellung der Maske mit zwei eigens ausgewählten Zeichen gekennzeichnet. Dabei markiert das Rufzeichen (!) ein alphanumerisches Feld, das Channelzeichen (#) das numerische Feld. Überall dort, wo am Bildschirm diese Zeichen stehen, erkennt der Maskengenerator ein Feld. Eine Besonderheit dieses Maskengenerators ist, daß eine Folge mehrerer solcher Zeichen, als ein einziges Feld interpretiert wird. Zum Beispiel istdie Folge »!!!!!« für den Maskengenerator ein einziges alphanumerisches Feld, mit einer Feldlänge von fünf Zeichen. SMU kann bis zu 255 Felder verwalten. Ein Feld darf eine maximale Länge von 255 Zeichen nicht überschreiten. Eine Verknüpfung von einem alphanumerischen Feld und einem numerischen Feld zu einem einzigen Feld ist nicht möglich. So ist die Felddefinitionsfolge »!!!##« lediglich die unmittelbare Folge eines numerischen Feldes auf ein alphanumerisches Feld von drei Zeichen Länge. Eine SMU-Maske umfaßt einen Bildschirm von 23 Zeilen (0 bis 22), die restlichen zwei Zeilen sind während der Maskenerstellung nicht erreichbar und werden vom Maskengenerator auch nicht analysiert. Welche Wirkung haben nun diese Feldmarkierungen? Überall dort, wo bei der Maskenerstellung diese Feldbezeichner gestanden haben, werden später (siehe Maskenaufruf durch den SCREEN-Befehl) Leerzeichen ausgegeben. Hier kann der Benutzer seine Eingaben machen, den Cursor bewegen, Zeichen einfügen oder löschen. Numerische Felder erlauben nur die Eingabe von Zahlen (0 bis 9), Punkt (.), Plus (+), Minus (-) und dem Exponentzeichen (e). Bei einem alphanumerischen Feld sind alle Zeichen (mit Ausnahme von Hochkomma) für die Eingabe zugelassen. Beachtenswert bei den numerischen Feldern ist noch, daß Zahlen, die eine Bereichsüberschreitung des Computers zur Folge haben würden, von SMU zurückgewiesen werden. Das heißt allerdings, daß ein numerisches Feld mitzum Beispiel 255Zeichen nicht sinnvoll ist, derC64 kann solch eine große Zahl ja nicht mehr verwalten (unter der Voraussetzung, daß das Feld vollständig ausgefüllt wird).

## Die Basic-Erweiterung SMUBU

Zehn neue Befehle sind nach der Initialisierung der Erweiterung SMUBU (Listing 3) mit SYS 9*4096 zugänglich. Vor jedem SMUBU-Befehl steht ein Rufzeichen (!).
Nachdem die Erweiterung mit SYS 9 * 4096 gestartet wurde, stehen die Befehle SETIN, CLEIN, MASK, SCREEN, WMASK, IMASK, IOMASK, -, INLINE und DIER zur Verfügung.
**! SETIN:**
Dieser Befehl sperrt die Wirkung der Tasten STOP und STOP/RESTORE. Das laufende Basic-Programm kann vom Benutzer nicht mehr unterbrochen werden.
**! CLEIN:**
Dieser Befehl hebt die Wirkung von SETIN wieder auf.
**! MASK name,geräteadresse,stringarray(x):**
Damit wird von der Diskette eine Maske geladen und die Daten für die Maske in das Feld ab dem String mit dem Index x gespeichert. Es bedeutet:
**name**: kann eine Stringvariable sein, die den Namen enthält, oder direkt der Name, eingefaßt in Hochkommata.
**geräteadresse**: ist die Geräteadresse der Floppy (8,9 und so weiter).
**stringarray (x)**: ist ein eindimensionales Feld, x ist der Index, ab dem die Maskendaten im Feld gespeichert werden sollten.
Zum Beispiel:
10 DIM M$(14)
20 !MASK"MENU",8,M$(0)
Es wird von dem Laufwerk mit der Geräteadresse 8 die Maske mit dem Namen »menu« geladen. Die Maskendaten befinden sich ab M$(0) im Speicher. Die Daten einer Maske benötigen einen Platz von 15 Strings zu je 255 Zeichen, das heißt, daß die Maskendaten im obigen Beispiel in den Speichern M$(0) bis einschließlich M$(14) zu finden sind.
**! SCREEN Stringarray(x):**
Wie bereits angeklungen, wird durch diesen Befehl eine Maske aufgerufen. Dieser Befehl bringt eine Maske auf den Bildschirm. Gleichzeitig werden die Daten der Felder (Position, Länge und Feldart) SMUBU übermittelt, alle weiteren Befehle, die mit einer Maske operieren, greifen darauf zu. Dies ist selbst dann der Fall, wenn der Bildschirm durch CHR$(142) gelöscht worden ist. SMUBU greift bei Maskenoperationen immer auf die Daten der mit SCREEN aufgerufenen Maske zurück.
**stringarray(x)**: ist ein eindimensionales Stringarray, x ist der Index, ab dem die Daten einer SMU-Maske gespeichert sind. ZumBeispiel:30 !SCREENM$(O)
Es würde die im ersten Beispiel geladene Maske auf den Bildschirm geschrieben werden.
Wichtig ist, daß durch x auch wirklich der Beginn der Maske indiziert wird, so hätte»!SCREEN M$(1)« im Beispiel zu einer Fehlermeldung geführt (siehe SMUBU - Fehlermeldungen).
**! WMASK var1,var2,var3,....:**
Dieser Befehl ähnelt dem Basic-Befehl PRINT. Er schreibt allerdingsdie lnhaltederVariablen (String undZahlenvariable) in die Felder der Maske. Zuvor werden die Felder der Maske gelöscht. Bei WMASK ist zu beachten:

1.	Die Übergabe der Variableninhalte an die Felder erfolgt sequentiell, das heißt 1. Variable nach Feld1, 2. Variable nach Feld2, und so weiter.
2.	EsdürfenZahlenvariablenurnumerischen Feldern, Strings nur alphanumerischen Feldern zugeordnet werden. Ist dies nicht der Fall, folgt die Fehlermeldung: type mismatch error.
3.	Leerstrings bewirken keine Ausgabe, Zahlenvariable ohne Inhalt die Ausgabe von 0.
4.	Zahlen werden linksbündig ausgegeben.
5.	Überschreitet die Länge einer Variablen (Zahl, String) die Feldlänge, wird nur bis zum Feldende ausgegeben.
6.	Der Befehl WMASK fordert eine Variablenliste (analog dem Basic-Befehl INPUT), Stringoperationen und dergleichen sind nicht zulässig.

var1,var2,var3...stellt die Variablenliste dar.
**! IMASK übergabe,var1,var2,var3,....**
Dieser Befehl veranlaßt die Eingabe von der Maske, die zuletzt mit dem SCREEN-Befehl auf den Schirm geschrieben wurde. Es werden alle Felder der Maske gelöscht und der Cursoraufdaserste Zeichendes ersten Feldesgesetzt. Jetzt kann der Bediener die einzelnen Felder der Maske ausfüllen.

Die Cursortasten, INST, DEL, CLR, HOME und RETURN wirken nur auf die Felder der aktuellen Maske.
Die Sondertasten (F1 bis F8) haben eine Übergabefunktion, ähnlich dem RETURN im herkömmlichen INPUT-Befehl. Durch das Drücken einer dieser acht Tasten, beendet der Bediener die Maskeneingabe. Welche dieser Tasten wirksam werden darf, legt der Programmierer in
**Übergabe** fest. Übergabe ist ein String oder eine Zeichenkette eingeschlossen in Hochkomma, die nur die Zeichenkodes von F1 bis F8 enthalten darf. In diesem String oder mit dieser Zeichenkette legt der Programmierer fest, welche der acht Funktionstasten (F1 ... F8) die Beendigung der Eingabe bewirken können.
**var1,var2,var3,....** sind Variable. Sie müssen in der gleichen Reihenfolge wie die Felder der aufgerufenen Maske stehen, es gilt das gleiche, was bereits für WMASK gesagt wurde, nur daß hier die Feldinhalte in die Variablen übertragen werden. Dabei istzu beachten, daß bei einem alphanumerischen Feld stets die gesamte Feldlänge in die Variable übertragen wird, gleichgültig, wie viele Zeichen der Bediener eingegeben hat. Zum Beispiel umfaßt ein Feld 20 Zeichen, der Bediener trägt aber nur »Peter« ein, dann werden dem String zusätzlich 15 Leerzeichen mitgegeben.

Mit welcher Taste der Bediener die Maskeneingabe abgeschlossen hat, kann durch Auslesen der Speicherstelle 2 festgestellt werden. Dabei entspricht der Inhalt der Speicherstelle der Tastennummer (1 für F1, 2 für F2, bis 8 für F8).

Beispiel: Eine Maske habe 2 Felder, ein alphanumerisches Feld mit 20 Zeichen Länge und ein numerisches Feld miteiner Länge von 5 Stellen (letztere Längenangabe ist nur der Vollständigkeit halber). Durch Drücken von F1 und F2 kann der Bediener die Maskeneingabe beenden.
120 AB$ = CHR$(133) + CHR$(137)
130 !IMASKAB$,F1$,F2
140 ON PEEK(2) GOTO 150,160
150 REM EINGABE MIT F1 ABGESCHLOSSEN
160 REM EINGABE MIT F2 ABGESCHLOSSEN

In diesem Beispiel würde SMUBU das Drücken der Tasten F3 bis F8 ignorieren. Anschließend befindet sich der Feldinhalt von Feld 1 in F1$ und die Zahl von Feld 2 in F2$.
**! IOMASK übergabe,var1,var2,var3,....**
Dieser Befehl stellt die Verknüpfung von WMASK mit IMASK dar. Zunächst werden die Felder der Maske gelöscht, die Variableninhalte in die Felder übertragen (analog WMASK) und danach der Cursor auf die erste Stelle des ersten Feldes positioniert (wie bei IMASK-Befehl), nun kann der Bediener die Felder verändern. Die Bedeutung von »Übergabe« und »var1,var2,var3,....« sind der Erklärung von IMASK zu entnehmen.
**! ← var1,var2,var3.**
SMUBU kann 255 Felder verwalten, müßte man aber 255 Variable in einer Kette, in eine einzige Basic-Zeile stopfen, hätte man einige Schwierigkeiten. Eine Basic-Zeile darf beim C 64 ja bekanntlich nur 255 Zeichen (Token und Zeichen) beinhalten. Das daraus entstehende Dilemma umgeht dieser Befehl. Er setzt die Variablenliste fort, die durch den Befehl WMASK, IMASK oder IOMASK begonnen wurde. Allerdings muß bei der vorhergehenden Liste ein Verweis auf diesen Befehl vorhanden sein. Dieser Verweis ist der Pfeil nach links hinter einem Komma, anstelle einer Variablen. Es muß aber mindestens eine Variable vor einem solchen Verweis vorhanden sein. In der nächsten Basic-Zeile muß nun der obige Befehl stehen, dieser darf ebenfalls einen Verweis besitzen. Das Beispiel aus der Erklärung für IMASK könnte daher auch so aussehen:
130 !IMASKAB$,F1$,←
135 ! ← F2
Wichtig ist auch noch, daß der Verweis wie ein REM-Befehl gehandhabt wird. Alle folgenden Befehle innerhalb der Zeile werden ignoriert.
**! INLINE zeile,spalte,zeichen,string :**
Dieser Befehl ermöglicht es, den Cursor an eine beliebige Position zu setzen. Ab dieser Position wird eine Eingabe erwartet. Es bedeutet:
**zeile**: die Zeilenangabe (0 bis 24), in einer Variablen oder als Festwert.
**spalte**: die Spaltenangabe (0 bis 39). Als Variable oder als Festwert.
**zeichen**: die Anzahl der Zeichen, die eingegeben werden dürfen (0 bis 255). Als Variable oder als Festwert.
**string**: eine Stringvariable, der die Eingabe übermittelt wird, sie hat danach die Länge »zeichen«.
Die Eingabe ist hier nicht so komfortabel, wie beim herkömmlichen INPUT-Befehl. DEL löscht das letzte Zeichen. Hochkommata und alle Funktionstasten (außer RETURN) werden ignoriert. Mit RETURN wird die Eingabe abgeschlossen.
**! DIER fehlernummer,fehlermeldung,tracknummer, sektornummer:**
Mit diesem Befehl wird vom Laufwerk mit der Geräteadresse 8 eine eventuelle Fehlermeldung eingelesen.
**fehlernummer**: ist eine Variable, der die Fehlernummer zugewiesen wird.
**fehlermeldung**: ist ein String, dem die Fehlermeldung im Klartext zugewiesen wird.
**tracknummer und sektornummer**: sind Variable, denen die Tracknummer und die Sektornummer in dem der Fehler aufgetaucht ist, zugewiesen werden.

## Das Basic-Programm SMU

Nach der Erklärung der einzelnen Befehle von SMUBU, soll noch auf die Arbeitsweise mit SMU eingegangen werden. Nach dem Programmstart erscheint eine Menüzeile:
MA-ALT MA-NEU UTILITY DRUCKEN ENDE
Durch Drücken von »j« wird der in Inversschrift dargestellt Programmteil ausgewählt. RETURN bewegt die Inversschrift weiter.
Es bedeutet:
**MA - ALT**: Laden einer Maske und deren Veränderung.
**MA - NEU**: Erstellen einer neuen Maske.
**UTILITY**: Bereitstellen von SMUBU auf der Diskette zum Nachladen.
**DRUCKEN**: Laden einer Maske und ausdrucken.
**ENDE**: SMU beenden.
**MA - NEU**
SMU fragt nach dem Maskennamen und der Geräteadresse. Danach wird der Bildschirm gelöscht und die Maske kann entworfen werden. Dabei wird mit »!« ein alphanumerisches und mit« # « ein numerisches Feld festgelegt. Der Maskengenerator faßt jedes Zeichen, das von den beiden Zeichen unterschiedlich ist, als eine Feldbegrenzung beziehungsweise als ein Literal auf.

Vorsicht! Die Tasten DEL und INST wirken nicht mehr wie gewohnt!
**DEL**: löscht die Zeile in der sich der Cursor befindet und zieht alle anderen Zeilen nach.
**INST**: fügt eine Zeile ab der Cursorposition ein und schiebt die restlichen Zeilen nach unten.
Durch Drücken von F1 beginnt der Maskengenerator seine Analyse und schreibt die Maskendaten auf Diskette. Es erfolgt die Rückkehr ins Menü.
**MA - ALT**
SMU fragt den alten Maskennamen ab und setzt wie in »MA - NEU« beschrieben fort. Allerdings wird die geladene Maske auf den Bildschirm gebracht und der Schirm nicht gelöscht.
**UTILITY:**
Es wird unter dem Namen »SMUBU« ein Lader auf Diskette erzeugt.
**DRUCKER**
lädt die mit Namen spezifizierte Maske und druckt sie aus. Die Geräteadressen sind auf einen GP100 von Seikosha zugeschnitten, sie können durch Veränderung der Parameter in Zeile 730 leicht verändert werden.

## Fehlermeldung von SMUBU

Fehler werden immer gemacht, SMUBU enthält einige Fehlermeldungen, die dem Programmierer bei der Korrektur auf die Sprünge helfen sollen:
**not smu file:**
Es wurde versucht eine Maske mit MASK von der Diskette zu laden, die nicht SMU-Format besitzt. Dieser Fehler tritt auch auf, wenn das File nicht gefunden wurde oder eine andere Fileart als ein sequentielles File ahgesprochen wurde.
**not smu data:**
Es wurde versucht mit SCREEN ein Stringarray anzusprechen, das keine SMU-Maskendaten enthält. Meist tritt der Fehler deshalb auf, weil ein falscher Index gewählt wurde.
**no smu mask:**
Dieser Fehler kann nur einmal auftreten. Nur dann, wenn noch keine Maske mit SCREEN auf den Schirm gebracht wurde, aber ein Zugriff auf eine Maske mit WMASK, IMASK oder IOMASK versucht wurde.
**array not found:**
Es wurde bei den Befehlen MASK oder SCREEN auf ein Feld zugegriffen, das nicht existiert.
**transmit error:**
Dieser Fehler tritt bei IMASK oder IOMASK auf, wenn der Übergabestring:
1.	nicht vorhanden ist
2.	leer ist
3.	ein Zeichen enthält, dessen Kode von F1 bis F8 unterschiedlich ist.
**missing link command:**
In WMASK, IMASK oder IOMASK wurde ein Verweis auf die Fortsetzung der Variablenliste gegeben, der in der folgenden Zeile nicht erfolgt ist.
**illegal position:**
Bei INLINE wurden Zeilen- beziehungsweise Spaltenangaben verwendet, die über den zulässigen Bereich hinausgehen.
Ein Fehler, dervon SMUBU nichtberücksichtigtwurde: Greift man auf eine Maske (mit WMASK, IMASK oder IOMASK), die keine Felder enthält, zeigt der Interpreter die interessantesten Verhaltensweisen, sofern der Computer nicht gleich abstürzt.

## Initialisierung und Einsatz

Da SMUBU im Speicherbereich ab $9000 abgelegt ist, muß er vor dem Zugriff von Basic her geschützt werden (der Bereich $C000 ... $CFFF wurde bewußt vermieden, damit der Programmierer selbst noch die Möglichkeit hat, andere Maschinenroutinen laufen zu lassen). Der Schutz geschieht am einfachsten dadurch, daß man das Basic-RAM-Ende herabsetzt (POKE 56,144). SMUBU bindet man in seine eigenen Programme am besten folgendermaßen ein: Mit UTILITY erstellt man den Objektcode von SMUBU auf einer geeigneten Diskette. Die ersten Zeilen jedes Programmes in dem SMUBU verwendet werden soll, sehen nun so aus:
0 IFA=0 THEN POKE 56,144:CLR:A=1LOAD”SMUBU”,8,1
1 CLR:SYS 9*4096:REM INITIALISIEREN VON SMU

Wo kann man SMUBU nun überall einsetzen? Bei Dateiverwaltungen, Plattenarchiven, Adreßverwaltungen und vielem mehr, kurzum, überall dort, wo viel mit Eingabe und Ausgabe operiert wird, aber lediglich Daten sich verändern.

## Tips zu SMU

1.	Beim Maskenerstellen mit SMU grenzt man die Felder am besten durch Graphikzeichen (zum Beispiel senkrechte Striche) ein. Dadurch sind die Felder beim späteren Aufruf der Maske klar erkennbar.
2.	Da die Maske nicht den ganzen Bildschirm in Anspruch nimmt, kann in den letzten beiden Zeilen ein Kommentar untergebracht werden, zum Beispiel welche Sondertaste welche Funktion im Programm hat.
3.	Dadurch, daß man bei MASK und SCREEN selbst bestimmen kann, ab welcher Position die Maskendaten im Array stehen, kann man sich lästiges Nachladen von Masken (falls in einem Programm mit mehreren Masken gleichzeitig gearbeitet werden sollte) ersparen, indem man die Masken hintereinander ablegt.
4.	SMU überliest Variablen von MASK, IMASK und IOMASK die keinem Feld mehr zugeordnet werden können. Baut man seine Masken geschickt auf, kann man also mit einem WMASK-, IMASK- oder IOMASK-Befehl mehrere Masken abarbeiten.

## LITVERW. eine Literaturverwaltung

LIT.VERW. (Listing 4) ist ein Demoprogramm für eine SMU-Anwendung. Um mit diesem Programm arbeiten zu können, sind folgende Schritte erforderlich:

1.	Programm »MASKE«(Listing 5) mitdem MSEabtippen und speichern.
2.	Programm »MASKE« mit LOAD”MASKE”,8,1 laden.
3.	NEW <RETURN> eingeben.
4.	Listing 6 »SEQ.SAVE« abtippen und mit RUN starten. Anschließend befindet sich ein sequentielles File mit dem Namen »ZEITSCHRIFT« auf Ihrer Diskette. Bei diesem File handelt es sich um eine mit dem SMU erstellte Maske. Die Felder der Maske haben folgende Bedeutung:

**Stichwort**: Ein Stichwort, unter dem der Zeitschriftenartikel oder das Buch einzuordnen ist.
**Titel**: Der Titel des Zeitschriftenartikels oder des Buches. Autor: Der Name des Autors im Format: Nachname, Vorname. Der Vorname ist im allgemeinen kürzer.
**Verlag**: Der Name des Verlages.
**Ort**: Der Erscheinungsort der Zeitschrift oder des Buches. Jahr: Jahr der Veröffentlichung des Artikels oder des Buches.
**Seite**: Die Seitenangabe.
**Buch**: Wenn sich das Zitat auf eine Zeitschrift bezieht muß dieses Feld mit »n« ausgefüllt sein.
**Ausgabenummer**: Nur bei einer Zeitschrift von Bedeutung (zum Beispiel 64’er). Die Ausgabenummer der Zeitschrift.
**Zeitschriftenname**: Name der Zeitschrift
LIT.VERW. ist ein maskengesteuertes Programm, den Funktionstasten kommt folgende Bedeutung zu:
**F1 Eingabe:**
Ein Literaturzitat wird in die Datei aufgenommen und in Abhängigkeit von den Suchbegriffen eingeordnet. Da manchmal große Teile des Speichers »umgestellt« werden müssen, dauert dieser Eingabeteil mit zunehmender Größe der Datei immer länger.
**F2 Drucken:**
Der Maskeninhalt wird als Literaturzitat auf dem Drucker ausgegeben. Dieses Zitat sieht für Bücher folgendermaßen aus:
Nachname, Vorn.:
Buchtitel.
Erscheinungsort: Verlagsname, Veröffentlichungsjahr, Seite.
Für Zeitschriften wurde folgende Zitatangabe verwendet:
Nachname, Vorn.: Artikeltitel.
Zeitschriftenname Ausgabenummer (Erscheinungsjahr) Seite.
**F3 Suchen:**
Es wird die bestehende Datei nach den angegebenen Suchkriterien durchsucht. Als Suchkriterien gelten der Name des Autors und das Stichwort. Eine Verknüpfung beider Kriterien ist dabei möglich. Alle weiteren Feldinhalte haben auf die Suchroutine keinerlei Einfluß.
**F4 Index**
Es wird ein Gesamtindex der Datei ausgegeben. Die Stichwörter sind, wie auch die Autoren alphabetisch geordnet, etwaige Abweichungen sind auf die Ordnung der ASCII-Zeichen zurückzuführen. Die Zahlen hinter dem Stichwort, beziehungsweise dem Autor verweisen auf die Angabe bei der Literaturstelle.
**F5 Weiter:**
Setzt den Suchlauf nach Suchkriterien fort. Wurde zum Beispiel nach einem Autor gesucht, dieser gefunden und angezeigt, kann durch Drücken der Taste F5 der Suchlauf nach weiteren Literaturstellen des Autors fortgesetzt werden. Findet sich kein Datum in der Datei mehr, wird die Maske gelöscht.
**F6 Ende:**
beendet LIT.VERW. indem es neu eingegebene Literaturzi-, tate sichert. Danach wird der Bildschirm gelöscht und das Programm abgebrochen.

Einiges zum Programm: Das Programm kann jedem Stichwort maximal 255 Verweise zuordnen. Wird dieser Bereich überschritten, erfolgt ein Programmabbruch mit der Meldung: Stichworttabellenüberlauf. Analoges gilt für die Autoren. Wenn das Programm zum erstenmal gestartet wird, das heißt wenn eine neue Datei angelegt wird, muß man die Frage:
Bestehende Datei [j/n] ?
durch Drücken derTaste »N« beantworten. Die Druckerparameter der OPEN-Sequenz in Zeile 1100, 1200 und 9310 sind für einen Seikosha GP 100 VC zugeschnitten, sie müssen für andere Druckermodelle also angepaßt werden. Weiter bewirkt CHR$(14) in den Zeilen 1220, 1340 und 1470 die Eröffnung des Shift In-Modus, CHR$(15) beendet den Modus.

(Georg Krcal/ah)

# Hyperscreen

> Wir stellen hier ein Programm vor, das die Herzen der Spiele-Programmierer höher schlagen läßt. Denn von nun an lassen sich Sprites auch auf dem oberen und unteren Rand darstellen.

Mit diesem Maschinenprogramm (Listing 1) kann man den oberen und unteren Bildschirmrand einfach verschwinden lassen, um dort zum Beispiel Sprites darzustellen. Damit ist es erstmals möglich, Spiele im »Hochformat« zu programmieren, wie man es von Videospielautomaten her kennt. Die Handhabung von Hyperscreen ist denkbar einfach. Das Programm verändert den IRQ-Vektor und ist daher besonders einfach in eigene Basic- oder Maschinenprogramme einzubauen. Startet man Hyperscreen mitSYS 49152, ändern sich die Bildschirmfarben. Der Text »Hyperscreen by Holger Gehrmann« erscheint, und der obere und untere Bildschirmrand ist verschwunden.

Mit POKE 49209,2 7 kann man nun die Bildschirmränder »einschalten« und mit POKE 49209,19wiederabschalten (leider ist es softwaremäßig nicht möglich, den linken und rechten Bildschirmrand ebenfalls verschwinden zu lassen). Benutzt man im Hyperscreen-Modus die Befehle LOAD und SAVE, erscheinen die Bildschirmränder wieder für kurze Zeit, da bei diesen Befehlen der IRQ abgeschaltet wird. POKEt man in die Speicherzelle 16383 einen Wert, erscheint dieser als Bitmuster dort, wo früher die beiden Bildschirmränder waren. Die Farbe des angezeigten Bitmusters ist immer schwarz, sie läßt sich nicht ändern. Die Spritehandhabung ist mit Hyperscreen genauso wie sonst, nur mit dem Unterschied, daß man das Sprite wirklich von ganz oben nach ganz unten bewegen kann, ohne daß es hinter einem Rand verschwindet.

Sie werden sich sicher fragen, wie es möglich ist, softwaremäßig die beiden Ränder verschwinden zu lassen, da dies ja offiziell gar nicht möglich ist. Es scheint weltweit auch noch kein Programm erschienen zu sein, das diese Möglichkeitaus-nutzt. Um den oberen und unteren Rand zu erzeugen, merkt sich der Video-Interface-Chip (VIC) zwei Rasterzeilen. Bei der einen Rasterzeile wird der Bildschirm eingeschaltet, bei der anderen wiederaus. Der Bereich zwischen Aus- und Einschalten ist der Rand. Den Wert dieser beiden Rasterzeilen kann man mit einem Bit im VIC verändern. Setzt man dieses Bit (es heißt RSEL), hat der Bildschirm die gewohnten 25 Zeilen. Löscht man es, hat er nur noch 24, der Bildschirmrand wird dafür oben und unten etwas verbreitert.

Sorgt man nun dafür, daß der Bildschirm bei jedem Strahlendurchlauf kurz vor der Stelle, wo er abgeschaltet wird (kurz vor dem unteren Bildschirmrand), durch Löschen des Bits RSEL auf 24 Zeilen verkleinert wird, wird auch automatisch der Rasterzeilenwert für das Abschalten des Bildschirms etwas nach oben gesetzt. Da der Rasterstrahl über diese neue Abschaltposition schon hinweg ist, wird der Bildschirm nicht abgeschaltet und somit verschwindet auch der obere und untere Bildschirmrand.

Das klingt vielleicht etwas kompliziert, funktioniert aber, wie man an Hyperscreen sieht, fehlerfrei und ist äußerst nützlich.

Hyperscreen ist ein sehr kurzes und komprimiertes Maschinenprogramm, das den Speicherbereich von $C000 bis $0090 belegt. Es wird mit LOAD »HYPERSCREEN«, 8,1 geladen und durch den Befehl SYS 49152 aktiviert. Zu beachten ist, daß während des LOAD- oder SAVE-Vorgangs der obere untere Bildschirmrand wieder vorhanden ist. Gleiches passiert, wenn das Interruptflag im Prozessorstatusregister gesetzt wird (SEI). Die Demo-Listings 2, 3 und 4 zeigen die Leistungsfähigkeit dieses Programms. Bei Listing 5 handelt es sich um den mit Hypra-Ass erstellten Quelltext.

(Holger Gehrmann/ah)

# 80-Zeichen-Grafik für den C 128

> Auf dieses Grafikpaket für eine 640 x 200 Punkte-Auflösung auf dem 80‑Zeichen‑Bildschirm haben C 128-Besitzer gewartet! Alle Grafikbefehle des Basic 7.0 stehen damit für den neuen Modus zur Verfügung.

Der neue Basic-Interpreter des Commodore 128 enthält 26 Befehle, mit deren Hilfe man einfach und schnell auch komplizierte Grafik-Programme erstellen kann. Leider unterstützen diese Befehle nur die Programmierung des VIC-Chips mit der schon vom C 64 her bekannten Auflösung. Der zusätzlich eingebaute 80-Zeichen-Chip »VDC« wird nur zum Aufbau eines 80-Zeichen-Text-Bildschirms genutzt. Wer auch diesen Bildschirm für grafische Darstellungen nutzen will, der muß seine eigenen Routinen schreiben. Doch gibt es — wie der vorliegende Artikel zeigt — eine recht einfache Lösung für dieses Problem. Das abgedruckte Basic-Programm (Listing 1) baut ein Maschinenprogramm für den »User-RAM-Bereich« von $1300 bis $1bff auf. Nach dem Initialisieren dieses Maschinenprogramms mit »SYS DEC (”1303”)« stehen die Befehle GRAPHIC, BOX, CIRCLE, DRAW und PAINT auch für den VDC-Chip zur Verfügung. Die Befehle LOCATE, SCALE und SCNCLR und die Funktionen RCLR, RDOT und RGT können ohne Einschränkung im 640 x 200-Grafik-Modus benutzt wer-den. Beide Bildschirme können gleichzeitig im HiRes-Modus arbeiten, beim Aufruf eines Grafikbefehls prüft der Interpreter selbständig, welcher Video-Chip gerade angesprochen ist.

### So programmiert man den VDC

Der 8563-Video-Chip ist ein erweiterter »Abkömmling« des viel verwendeten 6845-CTR-Controllers. Er verfügt (im C 128) über einen 16 KByte Bildschirmspeicher und ist nur über zwei Register unter den Adressen 54784 ($d600) und 54785 ($d601) mit den anderen Bausteinen des Computers verbunden. Alle Register und der gesamte Video-RAM-Bereich müssen über diese beiden Adressen angesprochen werden. Das »Einblenden« des Video-RAMs in den Adreßbereich der CPU ist nicht vorgesehen. Will man einen Wert in eines der 36 Register des 8563 übertragen, so muß man zunächst die Nummer des anzusprechenden Registers in die Speicherstelle 54784 und dann den zu übertragenden Wert in die Speicherstelle 54785 schreiben. Genauso geht es beim Lesen eines Registerinhaltes: »POKE 54784, Registernummer: PRINT PEEK (54785):REM Registerinhalt«.

### Die HiRes-Grafikregister

Für die Grafikprogrammierung sind von den 36 Registern des VDC vor allem die Register 18, 19, 31, 25 und 26 interessant. Der Inhalt von Register 26 bestimmt (im Grafik-Modus!) Vorder- und Hintergrundfarbe. Über Bit 0 bis 3 kann man 16 verschiedene Hintergrundfarben, über Bit 4 bis 7 16 verschiedene Vordergrundfarben anwählen. Ein Beispiel: die Befehlsfolge »POKE 54784,26: POKE 54785, (3*16+2)« bewirkt, daß im HiRes-Modus eine rote Zeichenfarbe auf weißem

Grund erscheint. Im Textmodus wird mit diesem Befehl nur die Hintergrundfarbe verändert. Register 25 ist ein mehrfach belegtes Register. Über die Bits 0 bis 3 kann man den Bildschirm um maximal 16 Pixel horizontal nach links verschieben. Mit Bit 4 kann man zwischen einfacher (0) und doppelter (1) Pixelgröße wählen. Mit den Bits 5 bis 7 kann man zwischen den drei Betriebsarten Text (Bit 6=1), Semigrafik (Bit 5=1) und Grafik (Bit 7 = 1) wählen. Für uns ist hier nur interessant, daß man durch Beschreiben von Register 25 mit dem Wert 128 den HiRes-Modus wählen und durch Beschreiben des Registers mit dem Wert 64 wieder in den Text-Modus zurückkehren kann. Alle anderen Bits sind standardmäßig mit Null besetzt.

### Organisation des Grafik-Bildschirms

Fürjedes Pixel (Grafikpunkt) wird ein Bit benötigt. Das macht acht Pixel pro Byte oder 80 Bytes für eine waagrechte Bildzeile bei einer horizontalen Auflösung von 640 Pixel. In vertikaler Richtung erreicht der VDC 200 Zeilen Auflösung, das heißt insgesamt werden 80 x 200 = 16 000 Byte-Video-RAM von einem Bild belegt. Ein Farb-RAM ist nicht vorgesehen. Der VDC kann hochauflösende Grafik nur in einer einzigen Farbe darstellen, ein entscheidender Nachteil des VDC gegenüber dem VIC. Auch in der Adressierung der einzelnen Pixel unterscheiden sich VDC und VIC. Ein Byte beim VDC beschreibt acht nebenanderliegene Pixel, während ein Byte beim VIC acht untereinanderliegende Pixel kontrolliert. Anders ausgedrückt: Das Pixel mit den Koordinaten 7,0 wird von Bit 0 (!) der ersten Bildschirmspeicherstelle repräsentiert, das Pixel 0,7 von der (7 x 80=) 560sten Speicherstelle. Daraus ergibt sich die folgende Formel zur Berechnung der Bildschirmspeicheradresse für ein gegebenes Koordinatenpaar X,Y:
ADR= Yx80 + INT (X/8)
Und zur Berechnung des Bitwertes innerhalb dieser Speicherstelle erhält man (genauso wie beim VIC):
BIT= 2↑ (7-(»LOW-Byte von x«AND7))
Eine Routine »Punkt setzen« könnte man dann formulieren als:
ADR = (»Inhalt von ADR«) OR BIT

### Komfortable Zeichenbefehle

Bis hierhin wurde recht ausführlich besprochen, wie man den Grafikschirm einschaltet und Punkte setzt. Nun wird sofort der Wunsch wach, Linien, Kreise oder andere Figuren zu zeichnen. Dazu sind schon recht anspruchsvolle Berechnungen nötig. Doch alle Rechenroutinen sind im Basic-ROM des C 128 enthalten. Allen Routinen ist gemeinsam, daß sie im Unterprogramm »Punkt setzen« münden. Die ROM-Routine dafür kann nur Punkte für den VIC-Bildschirm berechnen. Die oben beschriebene Routine bewirkt das gleiche für den VDC-Chip. Der Gedanke liegt nun nahe, in Routinen wie CIRCLE oder DRAW die Zeiger, die auf das Unterprogramm »Punkt setzen, löschen, testen« zeigen, auf das eigene »Punkt-setzen-Programm« zu »verbiegen«, das den VDC anspricht. Im ROM ist das zwar leider nicht möglich, und die meisten C 128-Benutzerwerden ihren neuen 128ernichtgleich mit neuen EPROMs versehen wollen, aber es geht ja auch viel einfacher: Man kopiert einfach die entscheidenden Programmteile ins RAM, paßt die besagten Zeiger an und teilt zuletzt noch dem Interpreter mit, daß er fortan beim Aufruf der Grafik-Befehle die neuen Routinen »anspringen« soll, wenn der 80-Zeichen-Bildschirm eingeschaltet ist. Die Lösung dieser Aufgabe ist das abgedruckte Basic-Programm (Listing 1). Es stellt alle Programmteile zusammen, die benötigt werden, um die Befehle GRAPHIC, BOX, CIRCLE, DRAW und PAINTauch für den VDC wirksam werden zu lassen. Alle Befehle für den 640 x 200-Punkte-Bildschirm sind nur im Programm-Modus ausführbar. Das ist deshalb so eingerichtet, weil der 80-Zeichen-Bildschirm im HiRes-Modus zwangsläufig zerstört wird (siehe oben). Die Befehle könnten im Direkt-Modus also gar nicht vom Bildschirm geholt und interpretiert werden. Man erhielte lediglich »Dreckflecken« auf dem HiRes-Bild. Probieren Sie einfach einmal im Direktmodus die Befehlsfolge »POKE 54784,25:POKE 54785,128« aus! Man kann sehr viel über die Funktionsweise des VDC im Textmodus lernen. RUN/STOP-RESTORE rückt die Register wieder zurecht.

### Der neue GRAPHIC-Befehl

Der GRAPHIC-Befehl wurde um die Funktionen GRAPHIC 6,0 und GRAPHIC 6,1 erweitert. GRAPHIC 6 schaltet den 8563-HiRes-Modus ein. Folgt der »6« eine »1«, so wird der Bildschirm gelöscht, folgt eine »0« so bleibt der Bildschirm, wie er ist. Der Befehl GRAPHIC 6,1 ersetzt auch den in dieser Implementation nicht vorgesehenen Befehl SCNCLR 6.

### Die Befehle BOX, CIRCLE, DRAW und PAINT

Diese Befehle funktionieren im 8563-Modus genauso wie es im Bedienungshandbuch für die VIC-Grafik beschrieben ist. Einzige Änderung: Die x-Koordinaten dürfen nun im Bereich von 0 bis 639 liegen. Auch die Implementierung dieser Befehle ist denkbar einfach: Nacheinander werden die Programmteile PAINT ($61a8 bis $62b6), BOX ($62b7 bis $6388), DRAW ($6797 bis $67d6) und CIRCLE ($668e bis $674c) in den RAM-Bereich ab $1672 kopiert (Basic-Programm Zeile 5 000 bis 5340). Darunter, in den RAM-Bereich, ab $1952 wird der Programmteil »Strecke zeichnen« aus ROM $9b30 bis $9c18 kopiert. Als nächstes werden die neuen Adressen für Unterprogrammaufrufe eingesetzt (WHILE-DO-Schleife). Es folgt schließlich der neue GRAPHIC-Befehl. Im Basic-Programm ist er in Form von DATA-Zeilen abgelegt. Ebenfalls in Form von DATA-Zeilen sind die schon besprochene Routine »setpoint« (RAM $1400 bis $1671) und die Erweiterung der Interpreterschleife im Basic-Text enthalten.

### Die Interpreterschleife

Wie teilen wir dem Interpreter mit, daß er beim Aufruf der Grafikbefehle nun nicht mehr zu den ROM- sondern zu unseren neuen RAM-Routinen springen soll? Beim Starten eines Programms holt sich der Interpreter—genauso wie beim C 64 — die Adresse, die in den Speicherstellen $308 und $309 abgelegt ist. Er arbeitet dann das Programm ab, das bei dieser Adresse beginnt. Setzt man in die Speicherstelle $308/09 nun die Adresse des eigenen Programms ein, dann beginnt der Interpreter nach dem Starten eines Programms mit RUN seine Arbeit bei der neuen Adresse. Eben dieses »Verbiegen« des Interpretervektors bewirkt der Befehl SYS DEC (”1303”). Und noch eine wichtige Kleinigkeit enthält die Initialisierungsroutine: die ins RAM kopierten Programmteile enthalten zahlreiche Unterprogrammsprünge (JSR) in ROM-Routinen. Der Prozessor kann diese Sprünge nur richtig ausführen, wenn ihm der RAM-Speicherbereich, in dem unser Programm liegt, und die angesprochenen ROM-Adressen als ein zusammenhängender 64-KByte-Block erscheinen. Für die Zusammenstellung solcher gemeinsamer Bereiche ist die MMU zuständig (siehe Bedienungshandbuch Anhang B). Die Initialisierungsroutine sorgt dafür, daß die MMU im Bereich von $0 bis $1fff immer die RAMs einschaltet, auf der auch unser Programm liegt. Anders ausgedrückt: Auch wenn man über den BANK-Befehl die ROM-Bank 15 ausgewählt hat, nach dem Durchlaufen unserer Initialisierungsroutine liest die CPU die Adressen zwischen $0 und $1fff immer aus dem RAM-Bereich in Bank 0 aus. Und da taucht nun gleich eine neue Schwierigkeit auf. Wenn die CPU — egal welche Bank ausgewählt wurde — im Bereich von $0 bis $1fff nur Bytes aus Bank 0 erreicht, dann können auch die auf Bank 1 in eben diesem Bereich abgelegten Variablen nicht mehr gelesen werden. Und umgekehrt, beim Anlegen neuer Variablen, würde unser Programm in Bank 0 überschrieben, weil der Interpreter nicht wissen kann, daß er, obwohl er in Bank 1 schreiben will, in Wirklichkeit doch in Bank 0 schreibt. Deshalb muß der Anfang des Variablenspeicherbereichs auf $2000 gesetzt werden. Das bedeutet den Verlust von 7 KByte Variablenspeicherbereich (mit »?FRE(1)« überprüfbar!); aber anders geht es leider nicht, wenn man ständiges, zeitraubendes Umschalten zwischen den Speicherbänken vermeiden will. Doch nun zur eigentlichen Interpreterschleife. Zunächst wird ein Zeichen aus dem Basic-Text geholt und geprüft, ob es um ein Token der in Frage kommenden Grafikbefehle handelt. Ist das nicht der Fall, so fährt das Programm einfach in der alten Interpreterschleife im ROM fort. Ist ein Grafik-Token gefunden, so testet das Programm als nächstes, ob der VIC oder ob der VDC aktiviert ist. Ist der VIC aktiv, so legt sich das Program die dem Token entsprechende ROM-Adresse zurecht (selbstveränderlicher Code hinter dem JSR von »JSR $0000«), arbeitet die normale ROM-Routine ab und kehrt in die Interpreterschleife zurück. Ist der VDC aktiv, so werden die den neuen Befehlen entsprechenden RAM-Adressen geholt.

Der aufmerksame Leser wird sich wohl schon gefragt haben, warum die Grafik-Routinen gerade in den Bereich ab $1300 »gequetscht« wurden. Ein Grund dafür wurde gerade schon genannt: Die Routinen enthalten sehr viele Sprünge in ROM-Unterprogramme, die es erforderlich machen, daß die gesamten 48 KByte ROM-I/O ab $4000 eingeblendet sind. Will man umständliche und vor allem zeitraubende Bank-Umschaltungen (JSRFAR im Kernal $ff6e) vermeiden, so muß man das Programm in den RAM-Bereich unterhalb von $4000 legen. Es soll jedoch möglich sein, auf beiden Grafik-Bildschirmen gleichzeitig zu arbeiten. Dann verbietet es sich auch noch, den Bereich von $1c00 bis $4000 zu benutzen, da dort der Farb- und der Bildschirmspeicher für die VIC-HiRes-Grafik angeordnet sind. Bleibt der einzige Bereich der freie RAM-Bereich von $1300 bis $1bff.

### Das »Kochrezept«

Wer bis hier aufmerksam gelesen hat, wird gleichsam als Belohnung eine Menge interessanter Details zur Programmierung seinesC 128 erfahren haben. Aberauch ungeduldige Leser sollten spätestens hier einhalten, es folgt die Bedienungsanleitung für das Programm »Graphik-80«:

1)	Tippen Sie das Basic-Programm »Graphik 80« (Listing 1) sorgfältig ein! Für diese Arbeit sollten Sie sich Zeit nehmen, damit Ihnen das »DATA-Grab« am Ende des Programms nicht zur Falle wird.
2)	Speichern Sie das Basic-Programm auf Diskette. Wenn Sie später Änderungen am Grafik-Paket vornehmen wollen, brauchen Sie es wieder.
3)	Starten Sie das Programm mit »RUN«! Das Diskettenlauf-werk(1541 oder 1570/1571) muß beim Startdes Programms eingeschaltet und mit einer Diskette versehen sein.
4)	Wenn keine Fehlermeldungen aufgetreten sind, und Ihnen auch keine Fehler beim Abschreiben der DATA-Zeilen unterlaufen sind, dann befindet sich jetzt das fertige »Graphik-80«-Paket unter dem Namen »graphik-80.m« auf Diskette und fertig initialisiert im Speicher. Mit Hilfe des kleinen Testprogramms (Listing 2), das noch mit abgedruckt ist, können Sie leicht überprüfen, ob alles richtig gelaufen ist. Von jetzt ab brauchen Sie nur noch als erste (!) Programmzeile »bload”graphik-80.m":sys dec(”1303”)« einzugeben, und das Grafik-Paket steht zur Verfügung.

Und nun viel Freude beim »Malen«! Vielleicht vermissen Sie den Befehl CHAR im Grafik-Paket. Er wird von den Verfassern dieses Artikels gerade zusammengebaut und soll in einer späteren Ausgabe der 64’er erscheinen. Die dem C 128 mitgelieferte CHAR-Routine ist wirklich etwas zu simpel. Es können nur 40 oder 80 Zeichen in 25 Zeilen dargestellt werden, genauso wie auf dem Textbildschirm. Die in Vorbereitung befindliche Routine kann hingegen Buchstaben aufjedem beliebigen Pixel beginnen lassen. Indizes wie H20 und Exponenten wie x2 sind dann kein Problem mehr. Auch senkrecht schreiben, etwa zum Beschriften von Koordinatenachsen, wird dann möglich sein. Und schließlich wird noch ein Hardcopy-Programm für Epson- und ähnliche Drucker geliefert, damitSie Ihre Bilder auch in Händen halten können.

(Thomas Rumbach/Dieter Winkler/ev)

# Seekrieg per Telefon

> »Seeschlacht«, ein Spiel für zwei Spieler mit zwei Akustikkopplern und zwei C 64. Gespielt wird diese Version des bekannten »Schiffe versenken« über Telefon oder ein »Nullmodem«.

Mit dem Eintritt der Akustikkoppler in die erschwinglichen Preisregionen wurde eine neue Art von Spielen möglich gemacht: Die »Play by Mail«-Spiele. Unser Listing »Seeschlacht« ist ein Vertreter dieser Gruppe. Zwei C 64 sind über Akustikkoppler und Telefon miteinander verbunden. Das Programm steuert selbständig alle Vorgänge, die für ein solches Unternehmen notwendig sind, zum Beispiel das Timing. Für diejenigen, die noch nie etwas von dem fast schon legendären Spiel »Schiffe versenken« gehört haben, hier noch einmal kurz die Regeln:

Jeder der beiden Spieler hat ein Schlachtfeld von neun mal neun Feldern Größe. Auf dieses Feld verteilt er nun waagerecht und senkrecht seine Flotte. (Der Gegner darf die eigene Aufstellung natürlich nicht sehen!). Diese besteht aus einem Flugzeugträger von vier Kästchen Länge, einem Zerstörer von drei

Kästchen Länge, drei Schnellbooten von zwei Kästchen Länge und zwei U-Booten von einem Kästchen Länge. Die Schiffe dürfen sich nicht gegenseitig berühren, müssen also mindestens ein Kästchen voneinander entfernt sein. Haben beide Gegner Ihre Aufstellung gemacht, so beginnt die Schlacht: Beide Spielerschießen nun abwechselnd in die Schlachtfelder des Gegners durch die Angabe der Koordinaten des Schusses. Wer getroffen hat, darf noch einmal. Jeder Spieler hat neben seinem eigenen Schlachtfeld noch ein Feld, in das er seine abgegebenen Schüsse einträgt, um die Übersichtzu behalten, und um nicht in ein Kästchen zweimal zu schießen. In der vorliegenden Computerversion übernimmt der C 64 selbständig das Eintragen der Schüsse.

Doch nun zum eigentlichen Programm: Das Eintippen des Listings mit Hilfe des Checksummers dürfte wohl keine Probleme bereiten. Wir empfehlen allen Lesern wärmstens, das Programm mit einem leistungsfähigen Compiler zu compilieren. Ansonsten kann die Seeschlacht schnell zur Familienschlacht beim Eintreffen der Telefonrechnung werden, da die Basic-Version an manchen Stellen recht langsam ist. Die Leserservice-Diskette enthält neben der Basic- auch die schnelle compilierte Version des Spiels.

Beim Testen des Spiels in der 64’er-Redaktion hat sich folgende Vorgehensweise bewährt:

1.	Ein spielwütiger C 64-Fan ruft seinen ebenso spielwütigen Freund an, und beide vereinbaren, ihre Aggressionen in einer Partie »Seeschlacht« abzukühlen.
2.	Beide haben Ihren Computer neben dem Telefon stehen (beziehungsweise umgekehrt), den Akustikkoppler an den User-Port des C 64 angeschlossen und das Super-Listing aus der 64’er geladen und gestartet.
3.	Nach einem zweistündigen Wortgefecht haben sie sich geeinigt, wervon beiden seinen Akustikkoppler auf den »Originate«- und wer ihn auf den »Answer«-Modus schaltet.
4.	Der Spieler, der auf »Originate« geschaltet hat, legt nun den Hörer richtigherum (!) auf seinen Akustikkoppler und drückt die Taste »A«.
5.	Der Gegner wartet, bis er aus dem Telefon den Pfeifton des feindlichen Akustikkopplers hört. Erst jetzt legt er ebenfalls den Hörer auf und drückt die Taste »B«.
6.	Das Programm des Spielers »B« sendet nun an »A« einen aussagekräftigen Testsatz, um die einwandfreie Verbindung zu überprüfen. (»The quick brown fox jumps over the lazy dog«, auf Deutsch etwa: »Der schnelle, braune Fuchs springt über den faulen Hund«). Dieser Satz wird für solche Tests gern verwendet, da er alle Buchstaben des Alphabets enthält. Auf beiden Bildschirmen müßte jetzt dieser Satz erscheinen.
7.	Beim allerersten Probelauf sollten beide Spieler nach etwa zehn Sekunden den Hörer wieder abnehmen, um sich beim Gegner nach eventuellen Schwierigkeiten (Tippfehler im Programm, etc.) zu erkundigen. Dann fährt man mit Punkt 4 fort.
8.	Sollte der merkwürdige Fall eintreten, daß beide Programme einwandfrei laufen, so befindet man sich nun in einem Terminal-Modus, in dem beide Spieler den Bildschirm des anderen beschreiben können. Da aber im Vollduplex-Verfahren gesendet wird, also beide Programme jeden Tastendruck sofort über den Koppler weitergeben, sollte ein Signal (zum Beispiel drei Plus-Zeichen) vereinbart werden, daß dem Spieler sagt, wann der Andere fertig ist, und er selbst schreiben kann.
9.	Nachdem man so einige Zeit über die Tastatur miteinander geplaudert hat, könnte man sich an die bevorstehende Telefonrechnung erinnern und das Spiel starten. Einer der beiden Spieler drückt dazu die Pfeil-nach-links-Taste. Daraufhin schalten beide Programme automatisch in den Spielmodus:
Jetzt gibt man Kästchen für Kästchen seine Schiffe ein. (Regeln beachten!). Nach Eingabe des 15ten (also des letzten) Feldes überprüft der Computer automatisch die Eingaben auf Korrektheit und wartet dann, bis der Partner am anderen Ende der Leitung ebenfalls fertig ist.
10.	Die Schlacht beginnt mit Spieler »B« und dessen erstem Schuß.
11.	Jeder Treffer wird durch ein Kreuz angezeigt, Schüsse ins Wasser durch Löschen des betreffenden Feldes. Wird ein Schiff auf allen Feldern getroffen, gilt es als versenkt und auf dem letzten getroffenen Feld erscheint ein »V«.
12.	Hat ein Spieler alle seine Schiffe verloren, ist er »zweiter Sieger« und das Spiel ist beendet. Beide Programme schalten nun wieder in einen Terminal-Modus wie unter »8.« beschrieben und die Spieler können sich zum Beispiel gegenseitig ihre genialen, strategischen Schlachtpläne unterbreiten.
13.	Danach ist das Programm endgültig beendet.

Zum Schluß sei noch bemerkt, daß sich Akustikkoppler, die an den Erweiterungs-Port des C 64 angeschlossen werden, nicht verwenden lassen.

Denjenigen, die die Telefonrechnung scheuen, beziehungsweise keinen Akustikkoppler haben, können wir eine andere Lösung anbieten. Sie heißt »Nullmodem«. Damit ist die direkte Verbindung zweier Computer über den User-Port gemeint. Das Spiel ist damit genauso funktionsfähig. Um ein Nullmodem aufzubauen, benötigt man nichts weiter als zwei User-Port-Stecker und ein paar Kabel. Die beiden Stecker werden wie folgt verbunden:

TODO TABLE

Stecker A	Stecker B
Pin B	mit	Pin M
Pin M	mit	Pin B
Pin K	mit	Pin D
Pin D	mit	Pin K

An jedem Stecker werden nun die Pins B und C mit einem Kabel überbrückt. Die einzelnen Buchstaben finden sich auf den Steckern wieder. Dann sollte man die Pins 1 bis 12 gut isolieren, um Kurzschlüsse zu verhindern. Auch wäre der Einbau in ein Steckergehäuse nicht von Nachteil. Beim Einstecken ist zu beachten, daß die Buchstaben nach unten zeigen müssen.

(Lars von Olleschik/tr)

TODO ASIDE

Wir planen ein Sonderheft zur Datenfernübertragung. Dazu suchen wir Leser, die ein gutes »Play by Mail«-Spiel geschrieben haben. Auch jeder sonstige Beitrag zum Thema DFÜ ist willkommen. Entsprechende Vorschläge schicken Sie bitte an:
Markt & Technik Verlag Aktiengesellschaft
Redaktion 64’er
Herr Thomas Röder
Hans-Pinsel-Str. 2
8013 Haar bei München

# Der EPROM-Automat

> Was steckt hinter der Datenspeicherung auf EPROMs? Wir zeigen Ihnen, wie man seine eigenen Module aus Basic-Programmen herstellt.

Zur Programmierung von EPROMs sind drei Dinge notwendig: Ein Computer, ein EPROM-Programmiergerät, und das Wissen, in welcher Form Programme auf EPROMs gespeichert sein müssen. Dieser Artikel zeigt Ihnen, wie man eigene Programme so modifiziert, daß sie auf ein EPROM gespeichert und anschließend von dort auch ausgeführt werden können. In den folgenden Zeilen soll schrittweise erarbeitet werden, was dabei zu beachten ist. Sie sollen in die Lage versetzt werden, das Programm Auto-Eprom (Listing 1) zu verstehen und gegebenenfalls an Ihre eigenen Bedürfnisse anzupassen.

Was ist eigentlich ein EPROM? Nun, zunächst ist ein EPROM nichts anderes als ein Datenspeicher, der sich beschreiben, lesen und auch wieder löschen läßt. Wenn man einmal von dem etwas komplizierten Schreib- und Löschvorgang absieht, unterscheidet sich ein EPROM nur in einem für den C 64-Programmierer wichtigen Punkt von anderen Speichern wie beispielsweise den Disketten oder der Datenkassette. Es handelt sich hierbei um die Tatsache, daß ein auf EPROM gespeichertes Programm in der Regel die Anfangsadresse $8000 (dezimal 32768) hat. Wie kann man aber den Computer überlisten und ein Basic-Programm, das ja normalerweise ab $0801 (dezimal 2049) liegt, sofort nach dem Einschalten des Computers ohne weitere Befehle startet? Dafür gibt es prinzipiell zwei Lösungen. Die erste Möglichkeit besteht darin, den Basic-Start mit den Befehlen »POKE 44,128:Poke 32768,0:NEW« nach $8000 zu verschieben und ein Basic-Programm in diesem Speicherbereich laufenzulassen.
Diese Methode hat jedoch den entscheidenden Nachteil, daß dann für Programm und Variablen nur noch magere 8 KByte zur Verfügung stehen. Die zweite wesentlich elegantere Möglichkeit besteht darin, das auf EPROM gebrannte Basic-Programm nach dem Einschalten des Computers in den normalen Speicherbereich für Basic-Programme ab $0801 (dezimal 2049) zu verschieben. Es wird dann vom C 64 genauso behandelt, als ob es von einem externen Datenspeicher, wie dem Diskettenlaufwerk, geladen worden wäre. Ein automatisches Starten des Programms soll dabei natürlich nicht vergessen werden. Es versteht sich beinahe von selbst, daß diese Anforderungen nur in Maschinensprache zu realisieren sihd. Wir wollen nun gemeinsam ein entsprechendes Programm erarbeiten. Dazu istzunächstdie Betriebssystem-Routine zu betrachten, die beim Einschalten des C 64 beziehungsweise nach einem Reset durchlaufen wird (Listing 2). Für uns besonders interessant ist das Unterprogramm, das in der Speicherzelle $FCE7 beginnt. Dieses Unterprogramm prüft, ob ab Adresse $8005 die Zeichenfolge »CBM80« steht. Sollte dies der Fall sein, wird in der nächsten Zeile die Adresse angesprungen, die in $8000 und $8001 gespeichert ist. Das bedeutet für das Verschiebeprogramm, dafür zu sorgen, daß ab $8000 die Startadresse des Programms steht und ab $8005 die Zeichenfolge »CBM80« zu finden ist. Damit haben wir schon einmal das erste Problem gelöst, da nun beim Einschalten das Verschiebeprogramm angesprungen wird. Das nächste Problem ist die Durchführung der Reset-Routine. Das ist deshalb erforderlich, da sich der Computer nach dem Einschalten in einem völlig undefinierten Zustand befindet. Würde in diesem Zustand die Kontrolle an den Basic-Interpreter übergeben (was wir nach dem Verschieben des Basic-Programms ja vorhaben), wäre ein Systemabsturz die unweigerliche Folge. Das Verschiebeprogramm führt deshalb als nächstes dieselbe Initialisierungs-Routine durch, die das Betriebssystem des C 64 sonst automatisch ausführt. Anschließend gilt es dann, das Basic-Programm wieder an den Basic-Start nach $0801 zu verschieben. Dazu stellt der Basic-Interpreter bereits eine bestens geeignete Routine zur Verfügung. Diese Routine erwartet die Anfangsadresse des zu verschiebenden Bereichs in den Speicherzellen $5F/$60 (dezimal 95/96) in der Form Low-/High-Byte, die Endadresse in den Speicherzellen $5A/$5B (dezimal 90/91) und die Endadresse des Bereichs in den verschoben werden soll in $58/$59 (dezimal 88/89).

Schließlich gibt es noch zwei Speicherstellen in der Zeropage, die unsere Beachtung verdienen. Es sind die Zellen $2D/$2E (dezimal 45/46). Hier schaut der Interpreter später nach, wo das Basic-Programm aufhört, um nicht mit Variablenzuweisungen das Basic-Programm zu überschreiben. Beim Laden von der Diskette oder Kassette werden diese Speicherstellen automatisch auf die richtigen Werte gesetzt, in unserem Fall fällt diese Aufgabe dem Verschiebeprogramm zu. Nachdem wir die Blockverschieberoutine durchgeführt haben, könnte man bereits durch Sprung auf den Basic-Warm-start die Programm-Kontrolle an den Basic-Interpreter übergeben. Das Basic-Programm ist bereits list- und lauffähig. Es muß aber noch manuell mit RUN gestartet werden. Um auch dies dem Computer zu überlassen, brauchen wir vor dem Sprung auf den Basic-Warmstart lediglich noch den ASCII-Code für RUN und RETURN in den Tastaturpuffer schreiben und dem Interpreter mitteilen, daß im Tastaturpuffer ein zu verarbeitender Befehl steht. Der Tastaturpuffer beginnt bei $0277 (dezimal 631) und die Anzahl derZeichen, die im Tastaturpufferste-hen, werden dem Computer über die Speicherstelle $00C6 (dezimal 198) mitgeteilt. Wenn der C 64 nun in den Direktmodus schaltet, verhält er sich genauso, als wenn Sie über die Tastatur »RUN« eingeben und die RETURN-Taste betätigt hätten. Damit ist das Verschiebeprogramm auch schon fertig. Bevor wir uns nun mit dem Problem beschäftigen, wie ein selbstgeschriebenes Basic-Programm zum Brennen auf EPROM in den Speicherbereich ab $805C (hinter das Verschiebeprogramm) kopiert wird, schauen Sie sich bitte zunächst das dokumentierte Listing des Verschiebeprogramms an (Listing 3). Bei den Werten in den Adressen $8045/$8049/$804D und $8053 handelt es sich um Platzhalter. Diese Werte werden später entsprechend der Länge des Basic-Programms verändert. Jetzt braucht man das eigentliche Programm nur noch an das Ende des Verschiebeprogrammes ab $805C zu kopieren, die Platzhalter im Verschiebeprogramm durch die richtigen Werte ersetzen und den EPROMmer anwerfen.

Bei eingestecktem EPROM wird dann das Basic-Programm direkt nach dem Einschalten des Computers oder nach einem Reset automatisch gestartet. Nun wäre es aber sehr mühsam, jedes Programm, das gebrannt werden soll, mit einem Monitor nach $805C zu verschieben. Genau diese Arbeit nimmt Ihnen das Programm »EPROM-Automat« (Listing 1) ab.

In diesem Programm finden Sie auch das eben entwickelte Maschinenprogramm in den DATA-Zeilen 2970 bis 3010 wieder. Die Bedienungsanleitung zu »EPROM-Automat« finden Sie in Bild 1. Betrachten wir uns die Zeilen 2650 bis 5010, die der eigentliche Hauptteil dieses Programms sind, etwas genauer. In diesen Zeilen wird das oben entwickelte Maschinenprogramm in den Speicherbereich ab $8000 geschrieben und dahinter das zu bearbeitende Basic-Programm kopiert. Nachdem man den Namen des zu bearbeitenden Programms eingegeben hat, wird in Zeile 2730 ein Lesekanal geöffnet Danach werden die ersten beiden Byte dieser Programmdatei von der Diskette gelesen. Sie geben in der Form Low-/High-Byte die Startadresse des gespeicherten Programms an. Sollte die Startadresse nicht $0801 sein, springt das Programm sofort ins Menü zurück. Natürlich ist es theoretisch möglich, auch reine Maschinenprogramme, die an einer beliebigen Adresse beginnen und mit SYS (Startadresse) gestartet werden, mit dem EPROM-Automat zu bearbeiten. Dazu sind folgende Änderungen notwendig: Das Verschiebeprogramm muß so modifiziert werden, daß es nicht mehr mit RUN gestartet wird, sondern die Startadresse direkt mit JMP (Startadresse) angesprungen wird. Die Endadresse darf nicht mehr mit dem festen Offset 30811 (Zeile 2920) berechnet werden, sondern muß in Abhängigkeit von der Anfangsadresse des Programms ermittelt werden. Wenden wir uns der Zeile 2810 zu. In dieser Zeile wird das Maschinenprogramm in den richtigen Speicherbereich verschoben. Im Anschluß daran wird Byte für Byte das Basic-Programm dahintergeschrieben. Dabei wird immer wieder in Abhängigkeit vom Zähler »I« geprüft, ob das Programmende nicht über $A000 (dezimal 40960) hinausgeht. In diesem Fall käme man nämlich nicht mehr mit einem 8-KByte-EPROM aus. Wollen Siejedoch auch 16-KByte-EPROMs brennen, müssen Sie außer dem Vergleichswert in Zeile 2850 auch noch das Verschiebeprogramm dahingehend modifizieren, daß es beim Kopieren des Basic-Programms den ROM-Bereich ab $A000 abschaltet, um den darunterliegenden RAM-Bereich lesen zu können. Weiterhin wäre es dann erforderlich, die PEEK-Funktion des C 64 dahingehend zu erweitern, daß sie in der Lage ist, auch den vom ROM überlagerten RAM-Bereich ab $A000 zu lesen.
Wollen Sie dagegen 4-KByte-EPROMs benutzen, müssen Sie lediglich den Wert in Zeile 2 850 von 40960 in 36864 ($9000) ändern oder selbst darauf achten, daß das Programm, das Sie bearbeiten wollen, nicht länger als 4 KByte ist. Wenn das Programmende erreicht ist, wird der Programmkanal in Zeile 2 890 wieder geschlossen und die Werte für die Speicherstellen $8046/$804A und $804E/$8054 werden berechnet. Sie erinnern sich, dort stehen bisher nur Platzhalter, die noch durch die richtigen Werte für den zu verschiebenden Ursprungs- und Zielbereich ersetzt werden müssen. Die Berechnung der Endadresse des Ursprungsbereiches ist relativ einfach. Dazu muß man lediglich den Zähler »I«, derja mit dem Programmende im Speicher übereinstimmt, in Low- und High-Byte zerlegen. Aber auch die Berechnung der Endadresse des Zielbereichs ist nicht viel schwieriger. Dazu braucht man von »I« lediglich die Differenz zwischen der jetzigen Anfangsadresse ($805C) und der normalen Anfangsadresse ($0801) subtrahieren. Nun steht Ihr Basic-Programm brennfertig ab $8000 im Speicher. Nachdem Sie es auf EPROM gebrannt haben, bleibt noch ein kleines Problem. Beim Einschieben einer Modulplatine in den Expansion-Port des C 64 stehen für den Basic-Programmierer nur noch 30719 Byte zur Verfügung. Sollte Ihr Programm mit großen Variablenfeldern arbeiten, werden Sie die restlichen 8 KByte vielleicht auch noch benötigen. Sofern die Garantiezeit bei Ihrem Computer abgelaufen ist, öffnen Sie ihn einfach und bringen einen einfachen Ein-/Aus-Schalter an, der, wie in Bild 2 dargestellt, verdrahtet wird. Mit diesem Schalter können Sie dann bei Bedarf die Leitung EXROM, die bei eingesteckter Modulplatine normalerweise auf Masse liegt, freigeben und haben dann wieder den vollen Speicherbereich zur Verfügung. Noch ein Tip für diejenigen, die keinen EPROMmer besitzen. Auch sie können den EPROM-Automat sehr effektvoll einsetzen, da die präparierten Programme nach einem Reset automatisch wieder starten. In Ihrem Basic-Programm muß lediglich die Zeile: POKE 55,0:POKE 56,128:CLR enthalten sein.

(Dirk Gazic/aw)

TODO FIGURE: Bild 1. Bedienungsanleitung zum Programm »EPROM-Automat«

### Bedienungsanleitung für das Programm EPROM-Automat:

1.) Folgende Anforderungen muß das zu bearbeitende Programm erfüllen:
a) Es muß mindestens eine Basic-Zeile enthalten.
b) Es darf nicht länger als 8 KByte (32 Blöcke auf der Diskette) sein.

### 2.) Menü

Nach dem Programmstart meldet sich der EPROM-Automat mit einem Menü. Sie können nun mit Hilfe der Cursorsteuertasten die einzelnen Optionen anwählen. Die jeweils angewählte Option wird dabei hervorgehoben. Durch Druck auf die RETURN-Taste wählen Sie dann den entsprechenden Programmteil aus. Sie haben im Hauptmenü zusätzlich die Möglichkeit, die eingestellten Bildschirmfarben zu verändern (F1 = Rahmen, F2 = Hintergrund, F3 = Schrift).

### 3.) Programme bearbeiten

Geben Sie bitte den Namen des Programms ein, das Sie bearbeiten wollen. Fehlermeldungen werden gegebenenfalls in der unteren Statuszeile ausgegeben.

### 4.) Speicherinhalt sichern

Dient zum Abspeichern von bearbeiteten Programmen auf Diskette. Sobald Sie diese Option angewählt haben, wird überprüft, ob Sie bereits ein Programm bearbeitet und dieses noch nicht gespeichert haben. Andernfalls werden Sie aufgefordert, einen Programmnamen anzugeben. Wenn Sie möchten, können Sie auch den vorgegebenen Namen übernehmen. Anschließend werden Sie gebeten, die Startadresse, ab der das Programm später geladen wird, einzugeben. Sollte die Steuersoftware für Ihren Eprommer bei $8000 liegen, so können Sie zum Beispiel »6« statt »8« eingeben.

### 5.) Directory zeigen

Dieser Menüpunkt zeigt das Inhaltsverzeichnis der eingelegten Diskette. Dieser Vorgang kann jederzeit mit F1 abgebrochen werden. Die Funktionstaste F3 hält die Auflistung so lange an, bis eine beliebige Taste gedrückt wird.

### 6.) Programm beenden

Diese Option beendet nach positiver Beantwortung der Sicherheitsabfrage, die Arbeit mit EPROM-Automat. Das zuletzt bearbeitete Programm bleibt dabei im weiterhin geschützten Speicherbereich ab $8000 erhalten und kann sofort auf ein EPROM gebrannt werden.

# 64'er Extra

TODO ASIDE

Sie finden hier geballte Informationen für Ihren C 64 zum Heraustrennen und Sammeln.

Im 64'er Extra 4 finden Sie eine komplette Übersicht über die Speicherbelegung des C64.

Ohne langes Nachschlagen in dicken Büchern haben Sie damit alle für die Programmierung des C 64 wichtigen Speicherstellen mit ihrer genauen Bedeutung sofort im Griff—egal, ob Sie nun in Basic oder in Maschinensprache programmieren.

# Tipp-Utility

> In »Tipp-Utility« sind vier wichtige Funktionen wie Tastaturpieps und OLD-Funktion integriert, die das Programmieren in Basic erleichtern.

Das Programm besteht aus einer hilfreichen LIST-Funktion, einer akustischen Tasten- und Fehlerüberwachung, sowie aus einer OLD-Routine. Nach dem Abtippen des Programms (Listing) sollte man es unbedingt speichern, da eventuelle Fehler den C 64 »aufhängen« können. Gestartet wird das Programm mit »SYS49152«. Um das Programm nach einem Reset oder RUN/STOP-RESTORE wieder zu aktivieren, genügt die Eingabe von »SYS 49152«.

### Die vier Funktionen

**Pieps**: Die erste Funktion, die das Programm beinhaltet, ist die der Tastenüberwachung, die bei jedem Tastendruck einen hellen Ton erzeugt. Diese Funktion läßt sich mit F3 ausschalten und mit F1 wieder aktivieren.

**Fehlerton**: Sollten sie irgendwann einmal einen dunklen Ton hören, so haben sie irgendeinen Fehler gemacht, denn der C 64 gibt nun auch mit jeder Fehlermeldung einen Warnton aus.

**Listunterstützung**: Vorteilhaft ist auch die LIST-Routine. Nach der Eingabe von LIST kann mit allen SHIFT-Tasten, also auch mit der SHIFT-LOCK-Taste zeilenweise gelistet werden. Der C 64 listet nur, wenn Sie die SHIFT-Taste gedrückt halten. Drücken sie die RUN/STOP-Taste, so verläßt er die Routine.

**OLD**: Die letzte Funktion ist die mit »SYS 49444« zu startende OLD-Routine. Sie bewirkt, daß nach einem NEW oder RESET das Basic-Programm zurückgeholt wird.

Informationen zum Programm: Mit POKE 1,55 läßt sich das Maschinenprogramm abschalten. Durch POKE 1,53oderSYS 49152 wird es wieder aktiviert. Grundsätzlich können alle Parameter der Töne geändert werden. Hier nur die wichtigsten:

Das Low-Byte ist für alle Töne (gemeint sind Tipp- und Error-Ton) immer gleich. Es kann der entspechende Wert nach dem Start in die Adresse 54272 gePOKEt werden.

Für das High-Byte gibt es allerdings zwei verschiedene Werte. Das High-Byte für den Tippton wird in die Adressen 49336 und 54273 gePOKEt. Für den Error-Ton gilt die Adresse 49336. Der Wert für die Lautstärke gilt wieder für alle Töne und gehört wie immer in die Adresse 54296.

(Schentke/og)

# Tricks und Tips zum SMON

> Neben einer kompletten Befehlsübersicht und allen erforderlichen Einsprungadressen stellen wir Ihnen einen komfortablen Disketten-Monitor und einen Disassembler vor, der auch illegale Opcodes disassembliert.

SMON, derMaschinensprachemonitor, liegt nun seit Ausgabe 4/85 vollständig vor. Damals hatten wir um Kritik und Anregungen gebeten, und das Echo war größer als wir gehofft beziehungsweise befürchtet hatten. Daher wollen wir heute die Fragen beantworten, die am häufigsten gestellt wurden. Außerdem erhalten Sie eine Befehlsübersicht, die nunmehrauch den Diskmonitor mit einschließt, und wichtige Tabellen für die Arbeit mit SMON.

Daß wir inzwischen nicht ganz untätig waren, das zeigen die beiden kleinen Erweiterungen, die Sie ebenfalls in diesem Artikel finden, sozusagen als Treuebonus.

Tatsächlich hatten wir keine Vorstellung von dem, was über uns hereinbrechen sollte. Es gab Tage, an denen das Telefon nicht stillstehen wollte, und wenn wir uns gegen 23.30 Uhr manchmal mit verschlafener Stimme meldeten, dann nur deshalb, weil der erste Anrufer bereits gegen 7.30 Uhr Auskunft haben wollte.

Natürlich haben wir uns einen Teil der Suppe selbst eingebrockt, schließlich war das Fehlerteufelchen durch die ganze Serie hindurch unser treuester Begleiter.

Gefreut hat uns natürlich, wieviel positive Resonanz SMON bei den Lesern der 64’er gefunden hat, und das Lob und die Zustimmung haben uns für viel Mühe und Ärger entschädigt. (Die originellste Danksagung erhielten wir in Form eines gewaltigen Freßpakets — der Leser ist im Hauptberuf Metzger, ein Beispiel, das Schule machen sollte...) Genug der Vorrede, hinein ins Vergnügen. Beginnen wir mit den Korrekturen:

Bereits im zweiten Teil (Ausgabe 12/84) haben wir einen Fehler in der Druckerroutine korrigiert; diese Korrektur scheint aber nicht durchgedrungen zu sein. Der Fehler führt dazu, daß derjeweils letzte Befehl in einem Absatz nicht mit ausgedruckt wird. Sollten Sie Probleme mit dem Drucker haben, listen Sie folgende Zeilen mit
M C56C C57B

Sie sollten folgende Ausgabe erhalten:
:C56C 09 C9 30 F0 05 C9 21 D0
:C574 1 1 EA 20 94 C4 20 51 03

Wenn das bei Ihnen anders aussieht, müssen Sie Ihre Version durch Überschreiben ändern und danach neu speichern. Die Druckerroutine läuft mitallen uns bekannten Druckern, die an Geräteadresse 4 über den seriellen Bus oder Interface betrieben werden. Leider haben wir keine Erfahrung mit Druckern, die über RS232 und Geräteadresse 2 angesteuert werden.

Ebenfalls schon korrigiert ist ein Fehler im Diskmonitor, der dazu führt, daß beim Einlesen eines Sektors das letzte Byte unterschlagen wird, beim Zurückschreiben aber ein (zufälliges) 256. Byte mitgeschickt wird. Wenn Sie es noch nicht korrigiert haben, geben Sie
0 CED8 CEDC EA
ein, damit werden zwei überflüssige Befehle mit NOPs überschrieben.

Einen weiteren und hoffentlich den letzten Programmfehler hat ein aufmerksamer Leser aus Hamburg gefunden. Der Trance-Befehl (TW) hat die unangenehme Eigenschaft, bei jedem Aufruf die Prozessorflags, also das Statusregister, nach eigenem Gutdünken zu verändern. Auch hier haben wir des Guten zuviel getan und ein paar überflüssige Befehle programmiert. Abhilfe schafft
0 CD59 CD5E EA

Die weitaus größere Zahl der Anfragen bezog sich aber nicht auf Fehler, sondern auf die Bedienung von SMON. Viele Leser wollten sich mit unserer geschmackvollen Farbgebung nicht zufrieden geben, anderen paßte es nicht, daß sie bei jedem Abspeichern erst auf Kassettenbetrieb umstellen mußten. SMON setzt nämlich bei jedem BRK alle diese Einstellungen mit konstanter Boshaftigkeit auf die von uns voreingestellten Werte. Dauerhafte Abhilfe schafft deshalb nur eine Änderung der Break-Routine, die wir hier disassembliert und kommentiert darstellen wollen. Geben Sie
D C214 C22E
ein. Sie erhalten

TODO

C214	CLD		; löscht eventuellen Dezimalmodus
C215	LDA	#08	; das ist die Gerätenummer der Floppy
C217	STA	02B0
C21A	LDA	#04	; das ist die Gerätenummer des Druckers
C21C	STA	02AF
C21F	LDA	#06	Farbe für
C221	STA	D020	Rahmen und
C224	STA	D021	Hintergrund
C227	LDA	#03	Farbe für
0229	STA	0286	Zeichendarstellung
C22C	LDX	#05	jetzt werden 6 Werte
C22E	PLA		vom Stack geholt, nämlich die Register

Sie können die Werte mit Ihren Lieblingsfarben, Ihrem Lieblingsdrucker etc. überschreiben und dann ein für allemal auf Ihrem Lieblingsgerätabspeichern.

Weitergehende Änderungen einzelner Routinen lassen sich nachträglich kaum in das bereits abgetippte Programm einbauen. Die von Markt & Technik vertriebene fertige Version von SMON enthält allerdings eine Reihe wichtiger Verbesserungen. So bricht der Vergleichsbefehl nicht mehr bei der ersten Nichtübereinstimmung ab, Änderungen mit dem »K-Befehl« sind inzwischen unkritisch, der Drucker läuft bei allen Befehlen (auch FIND), der Diskmonitor kann alle Diskettenkommandos ausgeben und so weiter. Besonderer Dank gebührt hier Herrn Hans Örtel für seine nicht endenwollende geduldige Kritik, die letztlich zu weiteren Verbesserungen geführt hat. Sollten Sie übrigens zu den glücklichen Besitzern der M&T-Version gehören und nicht die oben dargestellten Fehler im Diskmonitor und Trace-Modus haben, können Sie diese folgendermaßen beheben:

Suchen Sie nach dem Fehler im Diskmonitor mit
F A6 90 D0 06, C000 D000
Wenn Sie fündig werden, ist der Fehler vorhanden und Sie müssen ab der angezeigten Adresse 4 Byte mit NOPs ($EA) überschreiben. Genauso können Sie den Fehler im Trace mit F 08 68 8D AA 02 finden. Nur müssen Sie diesmal 5 Byte ab der gefundenen Adresse mit NOPs überschreiben.

Insgesamt gab es einige Schwierigkeiten mit den FIND-Funktionen. Dies ist die einzige Stelle, an der SMON die Einhaltung einer genauen Schreibweise fordert. Während er sonst Komma und Leerzeichen geflissentlich überliest, reagiert er hier recht penibel. Wie Sie wissen, bestehtjeder FIND-Befehl aus zwei Buchstaben, der erste ist immer ein »F«. Der zweite ist »A« für absolute Adressen, »Z« für Zeropage-Adressen, »R« für relative Sprünge und »I« für immediate-Adressierung. Das zweite Zeichen kann aber auch ein Leerzeichen sein, nämlich bei der Suche nach einzelnen Hexbytes. Und dieses Leerzeichen darf auf gar keinen Fall fehlen.

Nach dem Befehl selbst steht, wonach gesucht werden soll, also eine Adresse oder Bytefolge. Diese muß unmittelbar ohne Leerzeichen hinter dem Befehl stehen und mit einem Komma abgeschlossen werden; dann kann die Angabe des zu untersuchenden Bereichs folgen. Wenn sie unterb|eibt, wird der gesamte Speicher durchsucht. Bei der Bereichsangabe ist SMON wieder tolerant, Komma und Leerzeichen darf, muß aber nicht sein.

TODO TABLE

Ein paar Beispiele:
FA D020, C000 D000 Falsch: Space zwischen FA und D020
FAD020 C000 D000 Falsch: Kein Komma nach D020
FAD020, C000 D000 Richtig
F08 68, C000 D000 Falsch: Space nach F fehlt
F 0868, C000 D000 Falsch: Space zwischen den Bytes fehlt
F 08 68 C000 D000 Falsch: Kein Komma nach der Bytefolge
F 08 68, C000, D000 Richtig

## Noch einmal: SMON verschieben

Viele Schwierigkeiten gab es beim Verschieben von SMON in einen anderen Speicherbereich. Immerhin waren die nötigen Routinen einschließlich Fehlerteufelchen auch auf drei Ausgaben verteilt. Da konnte man schon mal das eine oder andere übersehen. Deshalb hier noch einmal alles auf einen Blick. Wie gehabt, gehen wirals Beispiel davon aus, daß SMON in den Bereich von $9000 bis $A000 verschoben werden soll. Natürlich geht das für jeden anderen Bereich genauso.
1. Wir verschieben zuerst das ganze Programm ohne Umrechnen in den neuen Bereich:
W C000 CFFA 9000
2.	Nun lassen wiralle absoluten (3-Byte-)Befehle umrechnen. Die Tabellen am Anfang von SMON bleiben verschont:
V C000 CFFA 9000 920B 9FD2
3.	Als nächstes ändern wir die High-Bytes der Befehlsadresse. Geben Sie
»M 902B 906B«
ein und ändern Sie in jedem zweiten Byte das »C« durch Überschreiben in »9«. Vergessen Sie nicht, am Ende jeder Zeile »RETURN« zu drücken, damit Ihre Änderung auch übernommen wird.
4.	Nun sind die Befehle mit immediate-Adressierung an der Reihe. Sie müssen so geändert werden, daß sie sich auf den neuen Bereich $9... beziehen. Suchen Sie sie mit FIC*,9000 9FFA heraus. Sie erhalten

TODO

9005	LDA	#C2	ändern
9124	CPX	#00	nicht ändern
9386	LDY	#C0	ändern
9441	CMP	#C0	nicht ändern
987F	LDX	#C3	nicht ändern
988D	LDX	#C1	nicht ändern
9992	LDA	#C1	nicht ändern
9C2C	LDA	#CC	ändern
9C5B	LDA	#C2	ändern
9CF4	LDA	#CC	ändern
9DA1	LDX	#CC	ändern
9E03	LDA	#CC	ändern
9E6C	CMP	#00	nicht ändern
9F71	LDY	#CF	ändern

Sie sehen, es gibt keine Regel, welche Befehle zu ändern sind und welche nicht. Aus diesem Grunde müssen Sie diese Änderungen »von Hand« vornehmen.
5.	Die Adressen im Diskmonitor müssen ebenfalls umgestellt werden. Dazu geben Sie bitte ein:
M 9FD8 9FE4
und ändern Sie jedes zweite Byte wie unter Punkt 3 beschrieben.

Vergessen Sie bitte auf keinen Fall, Ihre neue(n) Version(en) unter neuem Namen zu speichern. Sie lassen sich dann mit LOAD "Name",8,1 von Diskette laden und mit dem entsprechenden SYS (zum Beispiel 36864 bei SMON $9000) starten. Denken Sie auch daran, nach dem Laden und vor dem SYS ein NEW einzugeben, sonst beschwert sich der B-Befehl mit einem OUT OF MEMORY ERROR.

## SMON lüftet Geheimnisse

Zwei Erweiterungen haben wir Ihnen zu Beginn angekündigt, die SMON noch leistungsfähiger machen sollen. Dabei handelt es sich einmal um eine Erweiterung des Disassemblers, mit dem nun auch die »illegalen« Opcodes des 6502 disassembliert werden, zum anderen, um neue Funktionen beim Diskmonitor, mit denen Sie in den Innereien Ihrer Floppy herumstöbern können. Nun ist der Speicherplatz bis auf 5 Byte ausgeschöpft, und die 4-KByte-Grenze soll auf keinen Fall überschritten werden. Wir haben daher andere Funktionen herausgenommen, und zwar für die Disassembler-Erweiterung den Diskmonitor und für die Diskmonitor-Erweiterung den Trace-Modus. Beide Erweiterungen sind also nicht gleichzeitig einsetzbar; überhaupt ist es sinnvoll, eigene Versionen für spezielle Anwendungen zusammenzustellen, eine »normale«, eine Spezial-Disk-Version und eine für verschärftes Disassemblieren.

Beginnen wir mit dem letzten: Wie Sie wissen, erscheinen beim Disassemblieren immer drei Sternchen, wenn SMON auf ein Byte trifft, das keinen gültigen 6510-Opcode darstellt. Nun wissen Sie aber vielleicht auch, daß es über den offiziellen Befehlssatz hinaus noch einige Befehle gibt, die der Hersteller des Prozessors zwar nicht dokumentiert hat, die aber nichtsdestotrotz funktionieren und in einigen Programmen auch ausgenutzt werden. (Die 64’er hat in Ausgabe 3/85 darüber berichtet.) Es wäre natürlich schön, wenn SMON auch diese »illegalen« Opcodes anzeigen könnte. Unsere Erweiterung macht’s möglich.

Wir haben Mnemonics für eine Reihe dieser Befehle eingesetzt und lassen diese von SMON mit einem vorangestellten »*« ausgeben. Übrig bleiben noch zehn Befehle, deren Wirkung aber so komplex ist, daß sie sich beim besten Willen nicht mit einem Mnemonic abkürzen lassen. Sie fallen auch aus der Logik der Prozessorstruktur heraus. Im einzelnen handelt es sich um die Opcodes 0B, 2B, 4B, 6B, 8B, 9C, 9E, AB, CB und EB. Bei diesen Befehlen haben wir keine gemeinsame Struktur entdecken können. Nähere Informationen enthält der oben genannte Artikel. Die neuen Mnemonics haben folgende Bedeutung:

TODO TABLE

LAX	Load Akku and X
entspricht LDA und LDX.
DCP	Decrement and ComPare
entspricht DEC und CMP.
ISC	Increment and SubtraCt
entspricht INC und SBC.
RLA	Rotate Left and Akku
entspricht ROL und AND
RRA Rotate Right an Add with carry entspricht ROR und ADC.
SLO Shift Left OR Akku
entspricht ASL und ORA.
SRE	Shift Right and EOR Akku
entspricht LSR und EOR.
SAX	Store Akku AND X
führt eine UND-Verknüpfung zwischen Akku und X-Register durch und speichert das Ergebnis in der angegebenen Adresse ab.
CRA CRAsh
führt zum »Absturz« des Prozessors.
NOP NO Operation
entspricht dem bekannten NOP, jedoch kann dieser Befehl auch 2 oder 3 Byte lang sein. Dies wird durch die angegebene Adresse deutlich, die in diesem Fall natürlich keinerlei Bedeutung hat.

Über den Sinn dieser Befehle läßt sich sicher streiten; allerdings kommen sie bisweilen in Programmen vor, meist um das Lesen dieser Programme unmöglich zu machen, also als Programmschutz. Von derVerwendung dieser Befehle in eigenen Programmen raten wir auf jeden Fall ab. Erstens wird kein Hersteller garantieren, daß die »illegalen« tatsächlich mit jedem 6510-Prozessor funktionieren, zweitens gibt es keine Funktion, die nicht auch mit den »normalen« Befehlen ebenso gut erreicht werden könnte. Und als Programmschutz taugen die »illegalen« spätestens mit derVeröffentlichung dieses Artikels ja auch nichts mehr. Aus diesem Grund haben wir bewußt auf eine Erweiterung des Assemblers in dieser Richtung verzichtet. Sie können also keine normalen Opcodes durch Überschreiben in »illegale« ändern, wohl aber umgekehrt. Es bleibt lediglich die Eingabe als Einzelbyte, was aber hoffentlich zu umständlich ist.

## Komfortabler Disketten-Monitor für SMON

Jetzt folgt unser zweiter Leckerbissen in Form eines kleinen aber ungemein wertvollen Zusatzprogrammes für den SMON. Es handelt sich dabei um eine Erweiterung des Disketten-Monitors, mit dem jeder auf einen Schlag die Arbeit von Stunden zunichte machen kann. Geben Sie das Programm wie beschrieben ein, starten Sie SMON wie gewohnt und springen mit»Z« in den Disketten-Monitor. Von hieraus erreichen Sie mit »F« (wie Floppy) die neuen Befehle. Wir haben absichtlich diesen umständlichen Weg gewählt, denn Fehler in diesem Modus wirken noch dramatischer als sonst. Mit diesem Werkzeug haben Sie unmittelbaren Zugriff auf die Eingeweide der Floppy. Jetzt können Sie die folgenden Befehle mit einer Übungsdiskette (!!!) in aller Ruhe durcharbeiten.

**M** Memory-Dump des Disketten-Monitors
Beispiel: M (ohne weitere Eingabe) listet den Bereich des Floppy-RAM von $OOOO-$OOFF. (Es erscheint zunächst die erste Zeile, weitere Ausgabe mit der SPACE-Taste.)

In diesem Bereich befinden sich unteranderem die Jobspeicher ($00-$04) für die fünf Puffer 0-4, sowie die wichtigsten Variablen des DOS.
**M 07** Memory-Dump ab $0700

Die BAM der Diskette wird nach dem Initialisieren in Puffer 4 ($0700 im Floppy-RAM) eingelesen. Schauen Sie sich also mit»M07« die aktuelle BAM an. Sie könnten jetzt durch einfaches Überschreiben den Inhalt der BAM ändern. (Der Doppelpunkt vor der Zeile wirkt als »hidden command«). Dann schauen Sie sich Ihre Änderung mit »M 07« wieder an. Sie sehen, daß inzwischen der Inhalt des Floppy-RAM geändert wurde. Wenn Sie nun den Jobcode »90« (=Schreibbefehl an den Floppy-Controller) in Speicherstelle $04 bringen, würde die geänderte (falsche!) BAM auf Diskette zurückgeschrieben werden!! Es gibt also genug Möglichkeiten, wie oben angedeutet, die Disketten zu »versauen«.

Für das Ausprobieren noch einige wichtige Speicherstellen und Jobcodes:

TODO TABLE

$80	Lesen
$90	Schreiben
$C0	»Anschlagen« des Kopfes
$D0	Maschinenprogramme im Puffer ausführen
$E0	Programm im Puffer ausführen mit Hochfahren des Laufwerks

Speicherstellen im Floppy-RAM:

TODO TABLE

$06/$07 ist Spur- und Sektornummer für den Befehl in Puffer 0
$08/$09 für Puffer 1
$0A/$0B für Puffer 2
$0C/$0D für Puffer 3
$0E/$0F für Puffer 4

Jedem Puffer sind zwei Speicherstellen zugeordnet, eine für den Jobcode ($0000 bis $0004) und eine für Spur und Sektor. Wenn Sie also in Puffer 0 (in $0300 gelegen) einen bestimmten Block einlesen wollen, geben Siefolgende Befehle ein:

»M« liest die Zeropage der Floppy ein - so sehen dann zum Beispiel die ersten Zeilen aus:
:0000 01 01 01 FF 03 04 01 34
:0008 23 02 04 50 01 03 0A 11

Gehen Sie mit dem Cursor in die erste Zeile und schreiben Sie »80« in die erste Speicherstelle (anstelle der ersten 01). In Speicherstelle $06/$07 (die letzten beiden in der ersten Reihe) die Spur- und die Sektornummer, die gelesen werden soll, zum Beispiel 12 01. Sie sehen dann
:0000 80 01 01 FF 03 04 12 01
:0008 unverändert

Drücken Sie die RETURN-Taste, mit »M 03« kann jetzt der eingelesene Block (hier der erste Directory-Block) angesehen werden. Änderungen können durch einfaches Überschreiben vorgenommen werden. Dauerhaft wird Ihre Änderung erst durch Zurückschreiben (nach Spur $12 und Sektor $01) mit dem Jobcode »90« in der ersten Speicherstelle. Nach Änderung der beiden für Puffer 0 zuständigen Adressen ($06/$07) auch an jede beliebige andere Stelle. Das ist wörtlich zu nehmen. Denn wir befinden uns hier »unterhalb« der Controllerebene, die unter anderem für die Prüfung auf Einhaltung der zulässigen Spur und Sektorgrenzen verantwortlich ist. Es erfolgt also keine Fehlermeldung, wenn Sie versuchen sollten, mit Ihrer Floppy bis in die des Nachbarn zu schreiben (zum Beispiel mit der Spur 152).

Entsprechende Lese- und Schreibübungen können mit den anderen Puffern durchgeführt werden. Denken Sie daran, erst ist die Spur- beziehungsweise Sektornummer für den entsprechenden Puffer (in der zweiten Zeile!) einzugeben, bevor Sie in Zeile 1 den Jobcode mit einem »RETURN« übergeben. Denn mit Druck auf die RETURN-Taste wird Ihr Befehl ausgeführt. Und noch eins: Quälen Sie bitte dabei Ihren Schreibkopf nicht mehr als unbedingt erforderlich, sonst könnte er sich mechanisch verklemmen und nur noch mit einem Eingriff in die Floppymechanik wieder »befreit« werden.

Falls Sie die Ausgaben 1/85 (Seite 151) und 3/85 (Seite 103 bis 135) der 64’er besitzen, können Sie sich dort über andere Speicherstellen der Floppy und die weitere Anwendung der Jobcodes informieren.

Der Befehl @ ohne weitere Angaben fragt den Fehlerkanal ab, ansonsten dient er zur Befehlsübermittlung an die Floppy.

TODO

Beispiel:
@	Fehlerkanal
@I	Initialisierungsbefehl oder
@S:name	Befehl zum Scratchen und so weiter.

Bedingt durch die verschiedenen Versionen, springt dieser Befehl manchmal in den »normalen« Disketten-Monitorzurück, erkennbaran dem »*« am Zeilenanfang. Sie müssen dann wieder ein »F« eingeben.

Mit X gelangt man wieder in den Disketten-Monitor.

Zum Abschluß ein sehr hilfreicher Befehl namens »V«, der es erlaubt, Speicherbereiche aus dem Computer in den Laufwerkspuffer zu verschieben. Folgende einfache Syntax gilt dabei: **V von nach**

Um zum Beispiel ein Maschinenprogramm von $6000 in den Puffer 1 zu bekommen, geben Sie folgendes ein:
**V 6000 0400**

Dabei wird immer eine ganze Seite, also 256 Byte, übertragen. Was das Programm dort soll, fragen Sie? Führen Sie es doch einfach aus (Jobcode $D0 in Speicherstelle $01 schreiben); oder schreiben Sie es mit dem Jobcode »90« in einen beliebigen Sektor der Diskette.

Wenn Sie dann Ihre Floppy so richtig durcheinander gebracht haben, und nichts läuft mehr, brauchen Sie nicht zu verzweifeln. Außer einem eventuell festhängenden Lesekopf passiert der Floppy nichts, nur Ihren Disketten.

Tippen Sie die beiden Erweiterungsprogramme (Listing 1 und 2 beziehungsweise bei der M&T-Version Listing 3 und 4) mit dem MSE-Programm ab und speichern Sie die fertigen Programme. Die Programme für die M&T-Version haben sinnigerweise ein M&T im Namen.

Laden und starten Sie dann Ihren SMON $C000. Geben Sie ein: L"NDISASS"

Damit werden die neuen Befehle automatisch über den bisherigen Disketten-Monitor geladen. Sie müssen nun aber noch aktiviert werden. Geben Sie dazu G CF0D ein.

## Hinweise zum Abtippen

SMON meldet sich sofort mit seiner Registeranzeige wieder. Sie sollten nun diese Version unbedingt abspeichern, zum Beispiel mit S"SMON NDISASS" C000 CF3D

Wenn Sie nun das Programm »ILLEGAL-CODE« (Listing 5) laden und mit D 4000 disassemblieren, sehen Sie die »illegalen« Opcodes schön geordnet nacheinander.

Um die neuen Befehle des Disketten-Monitors in SMON einzubinden, gehen Sie ganz ähnlich vor. Nach dem Abtippen und Speichern des Programms »FLOPPYMON« muß natürlich SMON C000 geladen und gestartet werden. Anschließend geben Sie ein: L"FLOPPYMON"
und aktivieren es mit G CDD8 (64’er-Version)
beziehungsweise G CDB6 (M&T-Version)

Zum Abspeichern geben Sie S"SMON-FLOPPY" C000 CFFF ein. Das gilt für beide Versionen.

(Dietrich Weineck/ah)

TODO ASIDE

TODO TABLE

Bei allen Ausgabe-Befehlen ist gleichzeitig die Ausgabe auf einem Drucker möglich. Dazu werden die Befehle geSHIFTet eingegeben.
A 4000 (Assembler)
symbolischer Assembler (Verarbeitung von Label möglich) Startadresse $4000
B 4000 4200 (Basic-Data)
erzeugt Basic-DATA-Zeilen aus Maschinenprogramm im Bereich von $4000 bis $41FF
C 4010 4200 4013 4000 4200 (Convert)
in ein Programm, das von $4000 bis $4200 im Speicher steht, soll bei 4010 ein 3-Byte-Befehl eingefügt werden. Dazu wird das Programm ab $4010 bis 4200 auf die neue Adresse $4013 verschoben. Alle absoluten Adressen, die innerhalb des Programmbereichs ($4000 bis $4200) stehen, werden umgerechnet, so daß die Sprungziele stimmen.
D 4000 (4100) (Disassembler)
disassembliert den Bereich von $4000 (bis $4100) mit Ausgabe der Hex-Werte. Änderungen sind durch Überschreiben der Befehle möglich.
F (Find)
findet Zeichenketten (F), absolute Adressen (FA), relative Sprünge (FR), Tabellen (FT), Zeropageadressen (FZ) und immediate-Befehle (F1)
G (4000) (Go)
startet ein Maschinenprogramm, das bei $4000 im Speicher beginnt
I 01 (l/O-Gerät)
stellt die Gerätenummer für Floppy (08 oder 09) oder Datasette (01) ein
K A000 (A500) (Kontrolle)
zum schnellen Durchsuchen des Bereichs von $A000 (bis $A500) nach ASCII-Zeichen (32 Byte pro Zeile). Änderungen sind durch Überschreiben der ASCII-Zeichen möglich.
L (4000) (Load)
lädt ein Maschinenprogramm an die richtige oder eine angegebene Adresse ($4000)
M 4000 (4400) (Memory-Dump)
gibt den Inhalt des Speichers von $4000 (bis $43FF) in Hex-Byte und ASCII-Code aus. Änderungen sind durch Überschreiben der Hex-Zahlen möglich.
0	4000 4500 AA (Occupy)
füllt den Speicherbereich von $4000 bis $4500 mit vorgegebenem Byte ($AA) aus
P	05 (Printer)
setzt Geräteadresse 5 für Drucker
R	(Register)
zeigt die Registerinhalte und Flags an. Änderungen sind durch Überschreiben möglich.
S »Test« 4000 5000 (Save)
speichert ein Programm von $4000 bis $4FFF unter dem Namen »Test« ab.
TW (4000) (Trace Walk)
führt auf Tastendruck den jeweils nächsten Maschinenbefehl aus und zeigt die Registerinhalte an. Subroutinen können in Echtzeit durchlaufen werden (»J«). Wird keine Startadresse eingegeben, beginnt >TW« bei der letzten mit »R« angezeigten Adresse.
TB 4010 05 (Trace Break)
setzt einen Haltepunkt für den Schnellschrittmodus bei $4010. Der Schnellschrittmodus wird un-
terbrochen, nachdem $4010 zum fünften Mal erreicht worden ist.
TQ 4000 (Trace quick)
Schnellschrittmodus, springt beim Erreichen eines Haltepunktes in den Einzelschrittmodus.
TS 4000 4020 (Trace stop)
arbeitet ein Programm ab $4000 in Echtzeit ab und springt beim Erreichen von $4020 in die Registeranzeige. Von dort aus kann (nach eventueller Änderung der Register) mit »G« oder »TW« fortgefahren werden. »TS« arbeitet nur im RAM-Speicher.
V 6000 6200 4000 4100 4200 (Verschieben)
ändert in einem Programm von $4100 bis $41FF alle absoluten Adressen, die sich auf den Bereich von $6000 bis $6200 beziehen, auf einen neuen Bereich, der bei $4000 beginnt.
W 4000 4300 5000 (Write)
verschiebt den Speicherinhalt von $4000 bis $42FF nach $5000 ohne Umrechnung der Adressen (zum Beispiel Tabellen)
X (Exit)
springt aus dem Monitor-Programm ins Basic zurück
#	49152
Dezimalzahl umrechnen
$	002B
4stellige Hex-Zahl umrechnen
%	01101010
8stellige Binärzahl umrechnen
?	0344 + 5234
Addition oder Subtraktion zweier 4stelliger Hex-Zahlen
=	4000 5000 (Vergleich)
vergleicht den Speicherinhalt ab $4000 mit dem ab $5000
Z (Diskmonitor)
ruft den Diskmonitor auf. Dieser verfügt über folgende Befehle:
R (12 01) (Read)
liest Track $12, Sektor $01 von der Diskette in einen Puffer im Speicher. Fehlt die Angabe von Track und Sektor, wird der logisch (!) nächste Sektor gelesen.
W (12 01) (Write)
schreibt den Puffer im Speicher nach Track $12, Sektor $01 auf die Diskette. Ohne Angabe von Track und Sektor werden die letzten Eingaben von »R« benutzt.
M (Memory-Dump)
zeigt den Pufferinhalt als Hexdump (wie normales »M«), Weitere Ausgabe mit CBM-Taste, Abbruch mit STOP. Werte können durch Überschreiben geändert werden.
X	(Exit)
springt in SMON zurück
F	(weitere Disketten-Befehle initialisieren)
sind die Befehle initialisiert, gilt:
M (07) Memory-Dump (Floppy-RAM/ROM)
V 6000 0400
Verschieben eines 256-Byte-Blocks von $6000 in den Laufwerkspuffer 1 beziehungsweise in das Floppy-RAM
@ normale Disketten-Befehle senden
X zurück zum normalen Disketten-Monitor

Befehlsübersicht zum SMON

# Tips & Tricks für Anfänger und Fortgeschrittene

> Hier wieder einige interessante Hinweise zum Programmieren des C 64.

## Kopieren von Bildschirmzeilen

Der Kern des Einzeilers (Listing 1) bestehtaus dem Aufruf einer Betriebssystemroutine, die das Kopieren von Bildschirmzeilen ermöglicht. Mit dieser Routine wird ein Scrollen des Bildschirms erreicht, indem die erste Zeile in die letzte Bildschirmzeile kopiert und anschließend durch den Print-Befehl ein Zeilenvorschub ausgelöst wird. Somit erscheint die am oberen Bildschirmrand verdrängte Zeile wieder unten. Um den Einzeiler komfortabler zu gestalten, wird das zum Starten nötige »RUN« zuerst gelöscht, um ein Mitscrollen zu verhindern; mit Druck auf eine beliebige Taste wird der Scroll-Vorgang angehalten und nach loslassen wieder fortgesetzt. Nach dem Eingeben des Einzeilers sollte der Bildschirm gelöscht werden und anschließend der zu scrollende Text oder die Grafik erstellt werden. Es ist lediglich darauf zu achten, daß die 39. Bildschirmzeile nicht benutzt wird. Das Starten erfolgt am Anfang der letzten Bildschirmzeile mit »RUN«, gefolgt von einem Doppelpunkt (um eventuell folgende Zeichen auszuschalten). Die Routine eignet sich besonders gut für Spiele, die mit bewegtem Hintergrund arbeiten, da sie relativ schnell ist.

Dank dieser Routine ist es zum Beispiel möglich gewesen, ein grafisches Froggerspiel (Listing 2) in nur 23 Basic-Zeilen zu erstellen.

(Stefan Moll/tr)

## Scrolling nach unten in Basic

Die Idee ist folgende: Wen man auf dem Bildschirm eine Zeile schreibt, die länger als 40 Zeichen ist, so wird alles, was unterhalb dieser Zeile steht, nach unten weggescrollt. Der folgende Einzeiler bewirkt, daß nachfolgende PRINT-Anweisungen auf dieselbe Weise den Bildschirm nach unten wegschieben:
1 PRINT CHR$(19)CHR$(17)CHR$(157)CHR$(148):POKE 218,152

(Thomas Dreier/tr)

## Disketten von verstellten Laufwerken lesen

10 OPEN1,8,15,”M-W”+CHR$(105)+CHR$(0)+ CHR$(X):CLOSE1

Dieses »Programm« schreibt in die Speicherzelle $69 des Laufwerks-Speichers den Wert X. Diese Speicherzelle enthält die Konstante, die bestimmt, wieviele Leseversuche gemacht werden, bevor eine Fehlermeldung ausgegeben wird. Wird diese Konstante (der Standardwert ist 5) größer gewählt, so kann man auch Disketten lesen, bei denen das Laufwerk vorher Probleme hatte. Die Zugriffszeit erhöht sich natürlich entsprechend der Konstanten und der Anzahl der auftretenden Leseschwierigkeiten. Man hat aber somit die Möglichkeit, Disketten von schlecht justierten Laufwerken zu lesen.

(Alex Haderer/tr)

## Reset ohne Datenverlust

Wirkung: Folgender Einzeiler wirkt (fast) wie ein Reset; das Programm wird jedoch ohne Datenverlust fortgeführt:
1 POKE 648,4:SYS 64789:SYS 58451:SYS 58784
Anwendungsbeispiele:

Sie wollen in einem Basic-Programm sämtliche Erweiterungen (Toolkits etc.) abschalten sowie den regulären Zeichensatz darstellen.

Ein Programm mit hochauflösender Grafik, verändertem Zeichensatz und/oder Schutz-POKEs (gegen Listen, Run/Stop, Save etc.) ist beendet (Fehlermeldung, Abbruch). Wenn Sie Eingaben machen, erscheinen diese nichtaufdem Bildschirm, nur die Farbe ändert sich. In einem solchen Fall geben Sie den Einzeiler ohne Zeilennummer blind ein.

(Florian Müller/tr)

## Bildschirmcode in ASCII-Code umwandeln

1 X=X+(X>127)*128:W=X-(X>-1ANDX<32ORX>95) * 64-(X > 63ANDX < 96) * 32

In der Variablen X wird der Bildschirmcode (PEEK(...)) abgelegt. In der Variablen W befindet sich dann der zugehörige ASCII-Code. Es muß allerdings berücksichtigt werden, daß nach Einsetzen eines Codes für inverse Zeichen der Inhalt der Variablen W nachher dem Code für das »normale Zeichen« entspricht. Will man diese Routine aber auch dazu benutzen, inverse Zeichen zu drucken, so muß man vorher überprüfen, ob der Bildschirminhalt größer als 127 ist, denn dann handelt es sich ja um ein inverses Zeichen. Wäre das der Fall, könnte man zum Beispiel durch Setzen des Reversflags (Adresse 199) auf 1 einen inversen Ausdruck bewirken.

(Knut Smoczyk/tr)

## Langsame Bildschirmausgaben

Dieses kleine Maschinenprogramm (Listing 3) verlangsamt sämtliche Bildschirmausgaben des C 64 um ein Vielfaches. Es läßt sich ohne Probleme in eigene Programme einbinden.

Abschalten läßt sich die kleine Erweiterung mit RUN/STOP-RESTORE oder mit »POKE 806,202:POKE 807,241«. Mit POKE 53232,Zahl kann man die Ausgabegeschwindigkeit regulieren (1=normal).

Nach dem Starten verschiebt sich das Maschinenprogramm, das zuerst in den Bildschirmspeicher geschrieben wird, selbst nach 53228. Dann werden sämtliche Ausgabevektoren auf diese Adresse gerichtet, die nichts weiter als zwei ineinandergeschachtelte Verzögerungsschleifen beinhaltet.

(Dominik Irion/tr)

## Direkter Programmodus

Jedem Floppy-Besitzer ist das schon oft passiert: die rote Leuchtdiode blinkt und zeigt einen Fehler an. Was tun?
a)	Ein Programm zum Auslesen des Fehlerkanals eingeben oder einladen ist nicht möglich, da das im Computer befindliche Programm nicht gelöscht oder verändert werden soll.
b)	Ein Programm im Direktmodus eingeben? Der Computer
reagiert auf diesen Versuch mit einem »ILLEGAL DIRECT ER-ROR«.
Die Lösung:

Wir simulieren mit POKE 58,1 einen Programmablauf-Modus und verhindern so die oben genannte Fehlermeldung: OPEN1,8,15:POKE58,1:FORI = 1TO50:GET#1,A$: PRINTA$;:CLOSE-(ST=64):IFST< >64THENNEXT

(Jürgen Atrott/tr)

## Auto-Befehl in Basic

Mit diesem Mini-Programm lassen sich Zeilennummern au- , tomatisch vorgeben. Gestartet wird das Programm mit A=Anfangszeilennummer: GOTO 1. Nun wird der Bildschirm gelöscht und die in A definierte Zeilennummer ausgegeben. Mit POKE 19,1 wird die Tastatur zum aktuellen Eingabegerät. Dadurch wird bei der nachfolgenden INPUT-Anweisung das Fragezeichen nicht mit ausgegeben. Nach der Eingabe der Zeile wird darunter ausgegeben: »A = nächste Zeilennummer: GOTO 1«. In den Tastaturpuffer wird »Cursor Home« und »RETURN« geschrieben, so daß die Zeile nach dem END-Befehl automatisch ins Programm übernommen wird.
1 PRINT”{CLR}”A;:POKE 19,1:INPUT A$:POKE 19,0:PRINT
2 PRINT”A=”A+10”:GOTO1”:POKE 198,3:POKE 631,19:POKE 632,13:POKE 633,13:END

Das Programm wird mit RUN/STOP-RESTORE wieder verlassen.

(Herbert Kunz/tr)

## Einzeiler zur Eingabe von Einzeilern

Es lassen sich Basic-Zeilen bis zu 88 Zeichen Länge eingeben. Man startet also den Einzeiler: Es wird dabei der Bildschirm gelöscht, der Cursor auf die dritte Bildschirmzeile gebracht, und in der vierten Zeile, Spalte 8, ein »t« ausgedruckt. Nun gibt man eine Zeile, beginnend bei der Cursorposition, ein, bis der Pfeil auf das letzte Zeichen der Eingabezeile zeigt. Auf dem Bildschirm ist nun also eine zweizeilige Basic-Zeile zu sehen und in der dritten Basic-Zeile noch acht weitere Zeichen. Das macht zusammen 2 x 40 + 8 = 88 Zeichen, welche auch nach einem RETURN angenommen werden. Warum steht der Cursor aber erst in der dritten Bildschirmzeile? Ganz einfach: Denn nun kann man in der ersten Bildschirmzeile ein LIST (Zeilennummer) eingeben. Die gelistete Basic-Zeile geht dann genau in dem 88-Zeichenbereich. Aber am besten, man probiert den Einzeiler einfach selber mal aus.
Nun zum Programm selbst:
SYS 59749 erzeugt die wichtige Fortsetzungszeile, welche der C 64 selbständig nach 40 Eingabezeilen ausdruckt (Scrollen nach unten, nächste Zeile löschen). SYS 42112 ein Basic-Ende ohne »READY«. Der Vektor hierfür steht in den Speicherstellen 770 und 771.
1 PRINT”{CLR,2DOWN}”;: SYS 59749:SYS 59749: PRINT”{HOME,2DOWN}”: PRINTTAB(7)”↑”: PRINT” {HOME,DOWN}":SYS 42112

(Jörg Peschel/tr)

## Einzeiliger Taschenrechner

1 PRINT”{LIG.BLUE,CLR}”A$”=”A:INPUTA$.:PRINT ”{HOME,BLUE}A=”A$”:GOTO1”:POKE631,19:POKE632,13: POKE198,2

Mit diesem Einzeiler kann jede beliebige Rechenoperation innerhalb eines Programms durchgeführt werden.

Zum Programm: Beim ersten Start erscheint in der oberen Ecke ein »=0«, das ignoriert werden kann. In den INPUT-Befehl wird nun eine beliebige Rechenoperation eingegeben. Jetzt folgt der eigentliche Trick: Zuerst wird die Variable A, dahinter die Rechenoperation, die im String vorhanden ist und schließlich der Befehl »GOTO 1« (zum späteren Wiederstarten des Programms) in die erste Bildschirmzeile geschrieben. Um zu verhindern, daß es ein kurzes Auftauchen der Variablenzuweisung gibt, ist der PRINT-Befehl der Bildschirmfarbe angepaßt. Nun wird zuerst ein »HOME«, gefolgt von einem »RETURN« in den Tastaturpuffer geschrieben und dieser auf die Länge von zwei Eingaben gebracht. Ist das Programm beendet, nimmt der Computer die Variablenzuweisung auf, startet das Programm erneut und gibt das Ergebnis aus.

(Thorsten Wanschura/tr)

## Auto-DATA-Routine

Das Maschinenprogramm (Listing 4) muß mit dem MSE eingegeben werden. Es belegt keinen Basic-Speicher, sondern liegt im Speicherbereich von $C000-$C0CF. Nach dem Laden mit LOAD »Name«, Gerätenummer,1 muß »NEW« eingegeben werden. Die Erweiterung wird mit SYS 49152 initialisiert und stellt dann folgende neue Befehle zur Verfügung:
@A Startzeilennummer, Schrittweite und
@D Startzeilennummer, Schrittweite.

Dabei darf die Startzeilennummer Werte von 0 bis 63999 annehmen und die Schrittweite darf 255 nicht überschreiten. Wird die Zeilennummer 63999 überschritten, so hat dies einen »ILLEGAL QUANTITY ERROR« zur Folge.

Der @A-Befehl gibt bei der Eingabe eines Basic-Programms die jeweils folgende Zeilennummer aus. Allerdings ist dieser Befehl wesentlich komfortabler als zum Beispiel der Befehl, der in der 64’er-Ausgabe 12/84 veröffentlicht wurde.

Es ist möglich, die zuletzt eingegebene Zeile zu korrigieren und danach das Abtippen fortzusetzen, ohne den Auto-Befehl zu verlassen. Die Zeilennummer wird dabei nicht stur weiter nach oben gezählt und die Zeile wird korrekt angenommen. Wer einmal mit der Routine von Frank Siedel oder auch mit der Auto-Routine von Hypra-Ass gearbeitet hat, wird diesen Vorteil sehr zu schätzen wissen.

Der @A-Befehl kann zum Beispiel durch Drücken der Return-Taste verlassen werden.

Der @D-Befehl gibt zusätzlich zu der Zeilennummer am Anfang jeder Zeile noch ein »DATA« aus. Er kann verlassen werden, indem man vor dem Drücken der Return-Taste das »DATA« mit der INST/DEL-Taste löscht oder die Cursor-down-Taste betätigt. In Verbindung mit dem Checksummer stellt diese Erweiterung eine große Hilfe beim Abtippen von Programmen dar.

(Florian Gallwitz/tr)

## Zahlenratespiel

Die Zahlenobergrenze ist veränderbar, indem man die Zahl 108 (=100.000.000) variiert. Durch Verändern der ersten FOR...NEXT-Schleife kann man die Anzahl der Rateversuche erhöhen beziehungsweise erniedrigen. Das eigentliche Herz des Programms ist die SGN-Funktion. Durch sie wird die Variable D definiert. Nach jedem Rateversuch wird der derzeitige Wert dieser Variable am linken Bildschirmrand ausgegeben: »-1« bedeutet, daß die zu erratende Zahl kleiner ist als die eben eingetippte. »1« bedeutet, daß die Zahl größer ist. Bei »0« hat man die gesuchte Zahl erraten, und der Computer denkt sich automatisch eine neue aus. Die bisherige Anzahl der Versuche wird immer rechts des D-Wertes ausgegeben.
7PRINT”NEUEZAHL":A=INT(RND(1)*10↑8):FORB=1TO99: INPUTC:D=SGN(A-C):PRINTD,B:OND+1GOTO7:NEXT
Alle Befehle müssen abgekürzt werden!

(Felix Vogler/tr)

## Der Hypra-POKE

POKE 57818,8. Nachdem man Hypra-Load geladen und gestartet hat, braucht man nach Eingabe dieses POKEs bei den Befehlen LOAD und SAVE nie wieder das »,8« am Schluß anghängen. Die Defaultnummer (das ist die Nummer, die genommen wird, wenn keine angegeben wird) für die Geräteadresse wird von vormals 1 (Datastette) auf 8 (Diskette) gestellt.

(Ernst Hofler/tr)

## Tips zum Apfelmännchen

Aufgrund der großen Resonanz und vieler Anfragen, bringen wir hier die Daten der in Ausgabe 11/85 auf Seite 169 veröffentlichten Bilder.
Bild 1: -0.7; 2.1; -1; 1; 30
Bild 2. 1.67; 1.86; -.75; 0.75; 40
Bild 3. 0.1429; 0.1802; 1.02; 1.0477: 100
Bild 4. 0.5665; 0.5737; 0.5602; 0.5665: 85
Bild 5. 0.7425; 0.74825; 0.09621; 0.10067; 150
Bild 6: -0.103; 0.379; 0,618; 0.929; 50

Doch damit nicht genug, wir haben noch ein paar mehr:
0.7654; 0,76722; 0.10021; 0.10151; 200
-0.0171; -9.44e-3; 0.6534; 0.658; 150
0.22223; 0.2545; 0.7089; 0.7421; 150
0.76461; 0.76498; 0.10056; 0.10082; 254

(Gerhard Pehland/og)

## Anpassung des Apfelmännchen an Datasette

Folgende Änderungen sind zur Anpassung mit Turbo-Tape notwendig:
300 ?”{down}”tab(10)"(5){2space} Effekt”
310 entfällt
315 entfällt
340 get a$:if a$<”1” or a$>”5”then 340
360 on val (a$)gosub 1000,2000,3000,4000,70003
4020 ←s nb$
4030 return

Die Zeilen 4040 bis 5720 entfallen. Will man ein Bild sofort nach dem Berechnen speichern, so antwortet man im Programm mit »j«, und drückt, nachdem der Computer zu zeichnen begonnen hat, Record und Play.

(Dirk Trossen/og)

Literaturhinweise zu Apfelmännchen:
In den Zeitschriften »Spektrum der Wissenschaft«, Ausgabe 10/85 und »geo« sind ausführliche Berichte zur Mandelbrotmenge (Apfelmännchen) enhalten.
(Dietmar Horst/og)


# Fehlerteufelchen

## Reass, Ausgabe 11/85, Seite 100

Folgende Zeilen müssen mit dem MSE neu eingegeben werden.
c4cb: b5 ab 6a 85 9d 4c ab el 50
c63f: a0 00 91 fb e6 fb a4 fb 9c
c647: 84 2d d0 02 e6 fc a4 fc b9
c64f: 84 2e c4 38 b0 38 90 48 c2

Um diese Zeilen einzugeben, ist wie folgt vorzugehen:
1. MSE laden und mit RUN starten
2. Für File-Name »REASSS« eingeben
3. Startadresse gleich »L« für »LADEN«
4. Taste »D« oder »K« für Diskette beziehungsweise Datasette
5. Mit der Taste »CTRL-N« Änderungsmodus anwählen
6. Jetzt die neue Startadresse eingeben. »c4cb«
7. Zeile eingeben und »Stop-Taste« drücken. Damit befinden Sie sich wieder im normalen Modus.

## Joysticks, Ausgabe 11/85, Seite 19

Die richtige Bezugsadresse des Joysticks »The Stick« lautet John Hall, und nicht wie angegeben Mükra.

## Hypra-Load, Sonderheft 6, Seite 96

Im Listing (Hypra-Load 2d) ist eine MSE-Zeile vergessen worden. Es handelt sich um folgende Zeile: 1200:b8ad01 1cc5 24f0 09a6

## Grab des Pharao, Sonderheft 6, Seite 126ff

Im Listing in der Zeile 21331 ist ein Zeichen falsch ausgegeben worden. Es handelt sich um den geSHIFTeten Hochpfeil. An seiner Stelle geben Sie bitte ein »Commo-dore-Taste-A« ein. Dann stimmt auch die Checksumme wieder.

## Springvogel, Sonderheft 6, Seite 148ff

In Zeile 49130 fehlt als letztes Zeichen nach dem B$ ein Semikolon »;«. Aus bisher noch ungeklärten Gründen hat der Checksummer im Listing ab Zeile 60000 die Prüfsummen falsch ausgegeben. Glücklicherweise hatte dies keinen Einfluß auf die Funktionsfähigkeit des Programms. Geben Sie bitte alle Zeilen ab 60000 ohne den Checksummer ein, oder beachten Sie die entsprechenden Prüfsummen nicht.

## Tips und Tricks, Ausgabe 11/85, Seite 95

Im Listing 4 »Synthetische Melodien« muß POKE 1032,A ersetzt werden durch POKE 1023,A.

# Wir suchen die ersten 128er Profis

Sie haben schon Tricks und Tips für den C 128, die noch nicht veröffentlicht wurden; dann schicken Sie sie uns.

Bitte vermerken Sie bei allen Zusendungen, mit welcher Gerätekonfiguration Sie arbeiten und ob sich Ihr Beitrag auf den 128-Modus oder auf den CP/M-Modus bezieht. Beiträge für den C 64-Modus schicken Sie bitte nicht unter dem Stichwort C 128, sondern als normale C 64-Programme oder Tips ein. Bei Programmeinsendungen legen Sie bitte unbedingt eine Diskette/Kassette mit Ihrem Programm sowie eine möglichst ausführliche Beschreibung bei. Selbstverständlich werden alle abgedruckten Beiträge angemessen honoriert — es winken bis zu 2000 Mark, wenn Ihr Programm Listing des Monats wird.

Schicken Sie Ihre Tips und Programme an
Markt & Technik
Verlag Aktiengesellschaft
Redaktion 64’er
Kennwort: C 128
Hans-Pinsel-Str. 2
8013 Haar bei München

# Bücher

## Einführungskurs: Commodore 64

Es überrascht, daß immer noch Autoren den Mut und genügend Ideen haben, ein Einführungsbuch zum Commodore 64 zu schreiben. Offenbar ist aber auch der Markt noch nicht gesättigt! Eine sehr praxisnahe und umfassende Anleitung liegt mit diesem Buch des Amerikaners William B. Sanders vor.

Nach einer ausführlichen Darstellung der Tastatur erfolgt sofort die Einführung in Basic. Es werden alle für den Anfänger wichtigen Befehle klar und leichtverständlich behandelt. Durch die lebendige Darstellungsweise erkennt man den als Autor erfahrenen Praktiker. Die Befehle werden mit guten, einfachen Beispielprogrammen und ausführlicher Kommentierung dargestellt. Hervorgehoben seien Grafik, Musik, Dateiverwaltung und drei komplette Sortierroutinen. Lustige, zum behandelten Problem passende Zeichnungen lockern den Text auf. Programmierhilfen und Hinweise, wie Computerclubs gegründet werden können sowie kurze Vorstellung von drei für den C 64-Besitzer interessanten Zeitschriften (davon zwei aus dem Verlag Markt und Technik), runden den Inhalt des für den Anfänger lesenswerten Buches ab.

(D. Hein/ev)

Info: William B. Sanders, Einführungskurs: Commodore 64, Markt & Technik, 270 Seiten, ISBN-3-89090-017-8, Preis 38 Mark

## 64 noch mehr Tips & Tricks

Seit einiger Zeit bietet der durch seine vielen Bücher zum C 64 bekannte Verlag Data Becker den Fortsetzungsband zum Bestseller »64 Tips & Tricks« an.

»64 noch mehr Tips & Tricks« nennt gleich in der Einleitung drei Fehler, die bei der Programmierung der Tastaturabfrage des C 64 unterlaufen sind. Auf diesen verblüffenden Einstieg folgt eine Reihe von Tips und Routinen, die für den Programmierer höchst interessant sind. Hier erfährt der Leser, wie sich mit zwei POKEs der Kassettenpuffer verschieben läßt oder wie die RND-Funktion arbeitet. Ferner erleichtern ein Generator für Bildschirm-Masken sowie ein modifiziertes INPUT die Programmierung erheblich.

Da auch das Thema Interrupt angeschnitten wird, findet man eine Anzahl von Interrupt-Programmen, die zum Beispiel eine Escape-Funktion ermöglichen.

Weitere Themen sind Softwareschutz, Befehlserweiterungen, Speicherorganisation und Spieleprogrammierung sowie das Kopieren des ROM ins RAM. Ein Kapitel über Grafik befaßt sich mit der Erstellung eines eigenen Zeichensatzes, was durch einen komfortablen Editor erleichtert wird.

Ein anderer Abschnitt widmet sich den Betriebssystem-Routinen und deren Nutzung auch in Basic. Dieses Kapitel ist durch die vielen Anwendungsbeispiele sehr anschaulich.

Am Ende des Buches stehen noch zwei Tabellen zum Nachschlagen. Ein kommentiertes Zeropage-Listing und eine erweiterte Tabelle für die Codes 0 bis 255. Fazit: Ein Buch, das durch seine Themenvielfalt glänzt und mehr als empfehlenswert ist. Trotzdem sollten die Autoren noch eine Verbesserung vornehmen. Die Disassembler-Listings sind größtenteils unkommentiert und sollten durch Quelltexte ersetzt werden. Auch sollte man einige Druckfehler ausbessern, die den Zusammenhang stören.

(Florian Müller/ev)

Info: Hornig, Trapp, Weltner, 64 noch mehr Tips und Tricks, Data Becker, 250 Seiten, ISBN 3-89011-065-7, Preis 39 Mark

## Das Trainingsbuch zu Datamat

Mit dem Trainingsbuch zu Datamat bekommt der Leser eine brauchbare Anleitung, mit Datamat umzugehen und das bekannte Dateiverwaltungsprogramm für eigene Aufgaben sinnvoll einzusetzen. Zunächst lernt er, eine Maske zu erstellen, die später verändert und zur Eingabe von Dateien benutzt wird. Mit einer Beispieldatei werden anschließend alle wichtigen Punkte von Datamat erklärt und in der Anwendung praktisch erprobt. Die Dateien werden durchsucht, verändert, geordnet und mit Hilfe von selbstdefinierten Druckmasken auf dem Drucker als Listen, Karteikarten oder Etiketten ausgedruckt. Nach jedem Kapitel gestellte Kontrollfragen dienen der Überprüfung des Gelernten.

Wer so die Grundlagen von Datamat kennengelernt hat, kann dann mit dem zweiten Teil des Buches an konkreten Beispielen eine Literaturdatei, eine Schallplattendatei, eine Adreß-datei oder eine Lagerdatei erstellen. Genau wie bei den zusätzlichen Vorschlägen bekommt man immer wieder den Hinweis, daß es sich um Beispiele handelt, die mehr dem Lernen dienen. Alle nötigen Eingaben werden im Trainingsbuch ausführlich geschildert. Lediglich zum Laden des Programms wird auf das Handbuch verwiesen.

Der Autor hat sich bemüht, genau zu erklären, welchem Zweck die Eingaben dienen und wie Datamat damit arbeitet. Weil man so gut versteht, worauf es bei der Arbeit ankommt, macht es nach dem Durcharbeiten des Buches keine Schwierigkeiten, erfolgreich mit Datamat zu arbeiten. Für zusätzliche 39 Mark gibt es zum Trainingsbuch auch eine Diskette. Die Verwendung der fertigen Diskette kann aber ja wohl nicht Sinn des Buches sein. (D. Hein/ev)

Info: Heribert Schmidt, Das Trainingsbuch zu Datamat, Data Becker, 317 Seiten, ISBN 3-89011-035-5, Preis 39 Mark

## Basicode

Basicode wurde entwickelt, um Programme zwischen grundverschiedenen Computern austauschen zu können. Es handelt sich um eine Basic-Version, die nur noch die Befehle enthält, die für verschiedene Computertypen (bis auf wenige Ausnahmen) gleich sind. Hinzu kommt eine Kassettenroutine, die die Aufzeichnung von Programmen für alle Rechner auf einen einheitlichen Standard bringt. Das heißt, um den jeweiligen Computer für Basicode lauffähig zu machen, wird ein computerspezifisches Übersetzungsprogramm benötigt. Auf der zum Buch gehörenden Programmkassette sind nicht nur 14 Basicode-Programme enthalten, sondern auch die Übersetzungsprogramme für 22 gängige Heimcomputermodelle (unter anderem auch für VC 20/ C64).

Damit man mit Basicode auch arbeiten kann, wird im Buch ausführlich auf den Wortschatz von Basicode eingegangen. Jedes der im Basicode erlaubten Statements wird kurz vorgestellt. Die Beschränkungen, denen einzelne Befehle unterworfen sind, werden erläutert und anhand von Beispielen wird die Arbeitsweise der Befehle verdeutlicht.

Zu den 14 Programmen, die auf der Programmkassette enthalten sind, findet man im Buch das jeweilige Listing mit einer kurzen Programmbeschreibung. Diese Programme sind, neben einigen Demoprogrammen und Spielen, zur Hauptsache Anwendungsprogramme, wie etwa ein Textverarbeitungsprogramm, eine Adreßdatei oder ein Programm zur Berechnung der Jahreslohnsteuer. Fazit: Trotz des hohen Preises von 40 Mark (mitbedingt durch die beigelegte Programmkassette), ein hilfreiches und empfehlenswertes Buch für alle, die sich näher mit Basicode beschäftigen möchten.

(Hermann Zwartscholten/ev)

Info: Michael Wiegand, Manfred und Heike Fillinger, Basicode, Otto Maier Verlag Ravensburg, 220Seiten, ISBN-3-473-44010-8, Preis 40 Mark (mit Kassette)

## Das Commodore 64-Buch, Band 5, Ein Leitfaden durch Simons Basic

Solch ein Buch wünscht man sich für alle Programmiersprachen und Erweiterungen! Für das weitverbreitete Simons Basic erhält man durch das vorliegende, 322 Seiten umfassende Buch eine hervorragende Hilfe. Zunächst geben die beiden Autoren, Hans Lorenz Schneider und Werner Eberl, eine ausführliche Darstellung aller in Simons Basic enthaltenen Befehle. Grafikbefehle werden anschließend in einem eigenen Kapitel besprochen.

Die Sprite-Befehle werden an einem umfangreichen Beispielprogramm mit mehrfarbigen Sprites sehr verständlich Schritt für Schritt erklärt. Probleme mit der Spritedefinition, den Bewegungen, Vergrößerungen und Verkleinerungen, Farbgebungen und Kollisionsprüfungen, dürfte es nach Lektüre des Kapitels nicht mehr geben. Während das Handbuch die Fehlermeldungen verschweigt, bringen die beiden Autoren in einem besonderen Kapitel eine nützliche Aufstellung der zwölf Simons-spezifischen Fehlermeldungen mit guter Erklärung der Fehler.

Die Musikerzeugung für drei Stimmen wird nur recht kurz erläutert. Dagegen stellt das Kapitel 6 eine lobenswerte Fleißarbeit der beiden Autoren dar: Auf über 170 Seiten wird das komplette Assemblerlisting mit Kommentierung jeder Zeile wiedergegeben! Wer in Simons Basic leider vorhandene Fehler beseitigen will oder Befehle nach eigenen Bedürfnissen abändern möchte, findet hier eine beinahe unbezahlbare Hilfe! Zur raschen Orientierung bringt der Anhang unter anderem noch zwei Befehlsübersichten mit den notwendigen Parametern.

Für Tippfaule hält der Verlag für 58 Mark zusätzlich eine Diskette mit den im Buch dargestellten Beispielen bereit! Durch das hier vorgestellte Buch dürfte Simons Basic eine noch weitere (verdiente) Verbreitung erfahren.

(D. Hein/ev)

Info: Hans Lorenz Schneider und Werner Eberl, Das Commodore 64-Buch, Band 5, Ein Leitfaden durch Simons Basic, Markt & Technik, 280 Seiten, ISBN-3-922120-71-7, Preis 38 Mark

# Memory Map mit Wtmdervorschlägen (Teil 13)

> Heute sind die Adressen 208 bis 255 an der Reihe. Sie sind für die Verknüpfung der Bildschirmzeilen verantwortlich.

Herr Andreas Rainer hat in einer Zuschrift vorgeschlagen, bei der Besprechung der Bedeutung der Speicherzellen mehr darauf einzugehen, wie und von welchen Interpreter-Routinen sie verwendet werden.

Das ist natürlich ein sehr interessanter Vorschlag, über den ich übrigens mit der Redaktion diskutiert habe. Für die Wanderung durch die Speicherlandschaft von C 64 und VC 20 hatte ich allerdings am Anfang ein anderes Ziel vorgegeben, welches durch die Länge des Kurses vielleicht in Vergessenheit geraten ist. Ich bemühe mich nämlich, den Speicherbereich von 0 bis 1024 des Speichers den nicht allzu fortgeschrittenen Programmierern näherzubringen. Das bedeutet aber zwangsläufig, daß damit die Anwendung in Basic gemeint ist. Der Vorschlag von Herrn Rainer hat aber nur dann einen Sinn, wenn er an versierte Maschinensprache-Anwender gerichtet ist.

## Adresse 208 ($D0)
### Flagge für Eingabe von Tastatur oder Bildschirm

Diese Speicherzelle wird von einer Routine des Betriebssystems verwendet, die das jeweils nächste Zeichen in den Arbeitsspeicher holt. Für sie ist wichtig zu wissen, von welchem Eingabegerät dieses Zeichen geholt werden soll.

Wenn in der Zelle 208 eine 0 steht, wird damit die Tastatur als Eingabegerät bestimmt. Das ist der Normalfall, mit dem wir per Tastendruck Zeichen auf den Bildschirm tippen. Sobald aber statt einem Zeichen die RETURN-Taste gedrückt wird, ändert sich der Inhalt der Speicherzelle 208. Die oben genannte Routine überträgt nämlich jetzt den Inhalt der Zelle 213, in welcher die Länge der derzeitigen logischen Zeile steht, nach 208. Dann holt sie das nächste Zeichen, allerdings nicht von der Tastatur, sondern vom Bildschirm und zwar das erste Zeichen der gerade abgeschlossenen logischen Zeile. Auf diese Weise gelangen die Anweisungen einer Zeile in den Arbeitsspeicher, wo sie im Direkt-Modus sofort ausgeführt, im Programm-Modus aber abgespeichert und erst nach RUN ausgeführt werden.

Den Unterschied zwischen »logischer« und »echter« Zeile habe ich in dem Texteinschub Nr. 1 näher beschrieben.

## Adresse 209 bis 210 ($D1 bis $D2)
### Zeiger auf den Anfang der Bildschirmzeile, auf welcher der Cursor gerade steht

Dieser Zeiger in Low-/High-Byte-Darstellung zeigt auf die Adresse im Bildschirmspeicher, in welcher diejenige Zeile beginnt, auf der der Cursor gerade steht. Das läßt sich leicht nachprüfen durch folgende Programmzeile:
10 PRINT CHR$(147) PEEK(209) PEEK(210)

Nach RUN wird erst der Bildschirm gelöscht, der Cursor in die HOME-Position gebracht und dann der Inhalt der beiden Zellen ausgedruckt. Da dies alles in der ersten Zeile passiert, sehen wir als Resultat eine 0 und eine 4. Die beiden Zahlen ergeben zusammen die Adresse, in der die erste Zeile des Bildschirmspeichers beginnt. Erweitern Sie die Zeile 10 um ein Komma und die Low-/High-Byte-Berechnung:
10 PRINT CHR$(147) PEEK(209) PEEK(210), PEEK(209) + 256* PEEK(210)

Jetzt sehen wir als Resultat:
0 4 1024

Beim VC 20 erscheinen die der verwendeten Speichererweiterung entsprechenden Zahlen. Wir können durch einen TAB-Befehl den zweiten Teil der PRINT-Anweisung in die nächste Zeile schieben und sehen, was dann herauskommt:
20 PRINT PEEK(209) PEEK(210), TAB(50) PEEK(209) + 256*PEEK (210)

Das Resultat ist jetzt:
0	4	1024
40	4	1104

Einen entsprechenden Zeiger für die Adresse der dazugehörigen Zeile im Farbspeicher werden wir in den Speicherzellen 243/244 antreffen. Durch POKEn können wir die Cursorposition leider nicht beeinflussen, aber Abfragen geht, wenn es uns interessiert.

## Adresse 211 ($D3)
### Position des Cursors innerhalb einer logischen Zeile

Den Inhalt der Speicherzelle 211 könnte man auch die Spaltenposition des Cursors nennen, wenn es sich nicht um die Position in der logischen Zeile handelte (siehe Texteinschub 1). Beim C 64 sind daher die Werte von 0 bis 79, beim VC 20 von 0 bis 87 möglich.

Diese Speicherzelle zusammen mit Zelle 214 wird von den Befehlen POS, TAB, SPC und vom Komma innerhalb einer PRINT-Anweisung verwendet, um den Cursor zu positionieren. Das können wir auch. Um den Cursor auf Platz 5 in der Bildschirmzeile 18 zu bringen, geben wir folgende Programmzeile ein:
10 POKE 214,17:PRINT:POKE 211,5:PRINT"C 64"

Aus innerbetrieblichen Gründen muß der Wert, den wir als Zeile erzielen wollen, um 1 verringert in die Zelle 214 gePOKEt werden. Mit der Zahl 17 wird also der Cursor zuerst auf die Zeile 18 gebracht, dann in Spalte 5, ab der dann das Wort »C 64« gedruckt wird. Auf diese Weise erhalten wir einen Befehl, der in anderen Basic-Formen unter dem Namen PRINT AT sehr verbreitet ist, der bei den kleinen Commodore-Computern aber fehlt.

Der Vorgang dabei besteht darin, daß die Inhalte von 211 und 214 in das X-Register beziehungsweise in das Y-Register des Mikroprozessors gebracht werden, von dort können die Werte dann von einer Routine des Betriebssystems abgerufen werden. Das klingt alles sehr nach Maschinensprache. Aber wir haben Glück, denn sowohl die beiden Register als auch die besagte Routine sind von Basic aus ansprechbar. Das X-Register steht in Speicherzelle 781, das Y-Register in Speicherzelle 782, die Routine beginnt sowohl beim C 64 als auch beim VC 20 ab der Adresse 58634, wo wir sie mit dem SYS-Befehl starten können.

Für unser Beispiel sieht das dann so aus:
10 POKE 781,18:POKE 782,5: SYS 58634:PRINT"C 64"

Wir erhalten dasselbe Ergebnis, nur mit dem Unterschied, daß die Zeile jetzt wirklich die Zeile 18 ist. Mit dieser Methode ist jetzt auch die Zeile 0 erreichbar.

Die Speicherzellen 781 und 782 bieten natürlich noch andere Anwendungen, auf die wir noch kommen werden.

## Adresse 212 ($D4)
### Flagge für Gänsefuß-Modus

Steht in dieser Speicherzelle eine 0, dann befindet sich der Computer im Gänsefuß-Modus, andere Zahlen bedeuten den Normal-Modus.

Selbst Anfängern ist der Gänsefuß-Modus sehr rasch geläufig, bietet er doch die Möglichkeit, Zeichen mit der PRINT-Anweisung auszudrucken. Genauso bekannt sind aber auch die Tücken der Gänsefüße. Die Cursor-Tasten reagieren nicht wie gewohnt. Auch die Farbumschaltung und andere Steuertasten zeigen nicht die übliche Wirkung, sondern drucken — allzu oft unerwartet — ein reverses Zeichen auf den Bildschirm.

Eingeschaltet wird der Gänsefuß-Modus durch Drücken der geSHIFTeten 2-Taste oder der geSHIFTeten INST/DEL-Taste. Abgeschaltet wird er nach je-dem2., 4., 6., also nachjeder geradzahligen Wiederholung der Gänsefuß-Taste innerhalb einer Zeile. Abgeschaltet wird er auch durch die RETURN-Taste. Das spezielle Verhalten der Steuertasten zwischen Gänsefüßen hat Herr Wagner bereits in Ausgabe 6/84, Seite 114, für faszinierende Effekte näher beschrieben, und auch ich habe in 7/84, Seite 152, im Kurs über Tastatur-Abfrage und Tastencodes mehrere Kochrezepte dafür angegeben.

Leider läßt sich der Inhalt der Speicherzelle 212 und damit der Status des Gänsefuß-Modus von Basic aus nicht beeinflussen. Doch in Maschinensprache unter Verwendung der Interrupt-Routine geht es, und einige Vorschläge zum Abschalten des Gänsefuß-Modus per Tastendruck sind schon veröffentlicht worden.

## Adresse 213 ($DS)
### Länge der Bildschirmzeile

Im Texteinschub 1 »Logische und echte Zeilen« ist der Unterschied zwischen den beiden Zeilentypen beschrieben.

Der Inhalt dieser Speicherzelle entscheidet, wann eine neue logische Zeile begonnen werden muß oder ob die laufende logische Zeile um eine weitere echte Zeile erweitert werden kann. Der Bildschirm-Editor verwendet diese Speicherzelle um komplette logische Zeilen nach oben zu verschieben. Einige andere Routinen benutzen den Wert der Zelle bei der Rückwärtsüberprüfung einer Zeile, bei der die Endposition der Zeile bekannt sein muß. Schließlich bezieht noch die bereits behandelte Speicherzelle 200 ihren Wert von der Zelle 213.

## Adresse 214 ($D6)
### Nummer der echten Zeile, auf der sich der Cursor gerade befindet

Diese Speicherzelle ist zusammen mit der Speicherzelle 211 beschrieben.

Adresse 215 ($D7) Zwischenspeicher für den ASCII-Codewert der zuletzt gedrückten Taste

Bei der Tastaturabfrage werden die Tastencodes (siehe Speicherzelle 203) in ASCII-Codewerte umgewandelt und in den Tastaturpuffer gebracht. Die Speicherzelle 215 dient dabei als Zwischenspeicher. Kassettenoperationen speichern hier auch Prüfsummen ab.

## Adresse 216 ($D8)
### Flagge für INSERT-Modus

Immer wenn die geSHIFTete INST/DEL-Taste gedrückt wird, um in einer Zeile Platz für ein einzufügendes Zeichen zu schaffen, wird der Inhalt der Speicherzelle 216 um 1 erhöht. Dann wird die Zeile ab dem Freiplatz nach rechts verschoben, der Inhalt der Speicherzelle 213 erhöht und schließlich der entsprechende Wert der Link-Tabelle für Bildschirmzeilen ab Speicherzelle 217 bis 242 verändert.

Bei jedem Tippen eines Zeichens in den freigewordenen Platz wird der Inhalt von 216 wieder um 1 reduziert, bis mit der 0 das Ende des INSERT-Modus angezeigt wird.

Innerhalb eines Programms kann ein programmierter INSERT-Modus durch POKE 216,0 ausgeschaltet werden.

## Adresse 217 bis 241 ($D9 bis $F1)
### Link-Tabellen der Bildschirm-Zeilen

Diese 25 Speicherzellen enthalten Angaben für jede Zeile des Bildschirms. Jedes dieser Bytes hat zwei Funktionen.

Die ersten 4 Bit, also Bit 0 bis 3, geben an, in welchem Speicherblock, man sagt auch »page« dazu, das erste Byte der betreffenden Bildschirmzeile sich befindet. Diese Angabe wird zur Berechnung des Zeigers in der Speicherzelle 209 (siehe dort) verwendet. Sie ist in dieser Form notwendig, da der Bildschirmspeicher beim C 64 überall in den Arbeitsspeicher gelegt werden kann. Um die Position eines Zeichens oder besser gesagt eines Bytes davon im Bildschirmspeicher genau positionieren zu können, braucht das Betriebssystem noch die genaue Lage innerhalb des Speicherblocks. Das Low-Byte dieser Zahl steht in einer Tabelle ab Speicherzelle 60656 (60952 beim VC 20). Das High-Byte wird berechnet und zwar durch Addition des Wertes der Speicherzelle 648 mit dem Wert der ersten 4 Bits in Tabelle 217 bis 242. Der Wert in Zelle 648 gibt die Anfangsadresse des Bildschirmspeichers an.

Der zweite Teil jedes Bytes in der Tabelle 217 bis 242 hat eine andere Funktion. Wie im nebenstehenden Texteinschub beschrieben ist, kann eine logische Zeile aus ein oder zwei (beim VC 20 sogar bis zu 4) echten Zeilen bestehen. Das Betriebssystem braucht daher eine Angabe, welche echten Zeilen zu einer logischen Zeile verbunden sind. Dieses Verbinden heißt auf englisch »link«, daher heißt der Speicherbereich 217 bis 242 »Link-Tabelle«. Diese oberen 4 Bit zeigen mit irgendeinem Wert über 0 an, daß die betreffende echte Zeile die erste oder einzige einer logischen Zeile ist. Sind die 4 Bit alle 0, dannist sieeine 2., 3. und4. Zeile der logischen Zeile.

## Adresse 243 bis 244 ($F3 bis $F4)
### Zeiger auf Position des Cursors im Farbspeicher

Jedem Platz im Bildschirmspeicher, in dem der Codewert für ein Zeichen steht, entspricht ein Platz im Farbspeicher, in dem der Codewert für die Farbe dieses Zeichens steht.

Das heißt, daß den Bildschirm-Werten der Speicherzellen 209 bis 210 die Farbspeicher-Werte der Zellen 243 bis 244 entsprechen. Dieser Zeiger bestimmt also in der Low-/High-Byte-Darstellung die Adresse im Farbspeicher, ab der die echte Zeile beginnt, auf welcher der Cursor gerade steht.

## Adresse 245 bis 246 ($F5 bis $F6)
### Vektor auf die Decodiertabelle für ASCII-Codewerte der Tasten

Bei der Diskussion der Speicherzelle 145 (Heft 6/85, Seite 120 und 123) habe ich Ihnen gezeigt, wie das Drücken einer der 64 Tasten entschlüsselt wird.

Ein entschlüsselter Wert wird in Speicherzelle 145 zwischengespeichert und gelangt dann als Tastencode in die Speicherzelle 203. Im letzten Heft wurden bei der Besprechung der Zelle 203 die Codewerte aufgelistet. Ich habe auch darauf hingewiesen, daß die Codes der drei Steuertasten SHIFT, CTRL und COMMODORE (C = ) separat in der Zelle 653 stehen.

Diese Tastencodes sind sehr nützlich und vom Basic aus gut verwendbar. Im Verkehr mit anderen Geräten sind sie aber nicht einsetzbar, da sie keiner internationalen Norm entsprechen.

Eine derartige Norm bietet der sogenannte ASCII-Code. Deshalb rechnet, wo notwendig, das Betriebssystem die Tastencodes in den ASCII-Code um.

Dazu stehen im Speicher des Betriebssystems vier Tabellen (Bild 1), die die ASCII-Codewerte enthalten (in Klammern für den VC 20).

Die Umrechnung der Tastencodes in ASCII-Code ist sehr einfach. Der Tastencode wird lediglich zu der Anfangsadresse der entsprechenden Tabelle hinzugezählt. Die Summe ergibt die Adresse in der Tabelle, in der der ASCII-Code für das gedrückte Zeichen steht.

Als Beispiel nehmen wir das normale »G«, sein Tastencode ist 26(VC 20:19). Zur Anfangsadresse der normalen Tabelle 60289 (60510) dazugezählt, ergibt das 60315 (60529). Schauen wir in dieser Speicherzelle nach:
PRINT PEEK (60315) beim C 64
PRINT PEEK (60529) beim VC 20

In beiden Fällen erhalten wir die Zahl 71. Ein Blick in die ASCII-Tabelle des Handbuchs bestätigt die Richtigkeit.

Der Vektor in den vorliegenden Speicherzellen 245/246 zeigt auf den Anfang der vier Tabellen und zwar in Abhängigkeit davon, ab und welche der drei Steuertasten zusammen mit einer anderen Taste gedrückt worden ist. Auch das kann ich Ihnen zeigen mit einer Programmzeile, welche ein Zahlenband erzeugt, dessen Zahl durch die Steuertasten verändert wird. Sie werden sehen, es sind die Anfangsadressen der vier Tabellen.
10 PRINT PEEK(245) + 256* PEEK(246):GOTO 10

## Adresse 247 bis 248 ($F7 bis $F8)
### Zeiger auf den Anfang des RS232-Eingabe-Puffers

Immer wenn ein Kanal mit der Geräte-Nummer 2 (User-Port) eröffnet wird, werden am oberen Ende des Arbeitsspeichers zwei Pufferspeicher mit je 256 Byte reserviert (siehe auch die Beschreibung der Speicherzellen 55 bis 56).

Der Zeiger, der in Low-/High-Byte-Darstellung in 247/248 steht, zeigt auf die Anfangsadresse desjenigen Pufferspeichers, der die ankommenden Zeichen aufnimmt.

Ein Programm, das den User-Port benutzen will, sollte übrigens immer zuerst die Gerätenummer 2 eröffnen, bevor irgendwelche Variable definiert werden. Dadurch wird vermieden, daß die Puffer-Reservierung eventuelle Variablenwerte überschreibt, die bereits in diesen 512 Byte angesiedelt worden sind.

## Adresse 249 bis 250 ($F bis $FA)
### Zeiger auf den Anfang des RS232-Ausgabe-Puffers

Dieser Zeiger ist der Zwilling zu dem in den Zellen 247/248 stehenden Zeiger, diesmal aber für den Ausgabe-Puffer.

## Adresse 251 bis 254 ($FB bis $FE)
### Vier freie Byte für Anwenderprogramme

Diese 4 Byte sind frei, und da sie von Basic nicht gestört beziehungsweise verändert werden, eignen sie sich in idealer Weise für Flaggen, Register oder andere Zwischenspeicher.

## Adresse 255 ($FF)
### Zwischenspeicher für Daten bei der Umwandlung von Gleitkomma-Zahlen in ASCII-Werte

Der Titel dieser Speicherzelle sagt schon alles.

Jetzt haben wir eine erste Etappe unserer Wanderung durch die Speicherlandschaft hinter uns, nämlich den Bereich von 0 bis 255. Man nennt ihn »Zero-Page«, und er hat in der Maschinensprache-Programmierung beziehungsweise in der Adressierung eine spezielle Bedeutung. Für Basic-Programmierer ist diese Seiteneinteilung bedeutungslos, und wir werden deshalb unbeirrt als nächstes mit einem größeren Speicherblock, nämlich von 256 bis 511 weitermachen. Dieser Bereich enthält den sogenannten STACK oder Stapelspeicher, aber davon das nächste Mal mehr.

(Dr. H. Hauck/ah)

TODO ASIDE

## Texteinschub Nr. 1 bgische und echte Zeilen

Der Bildschirm des C 64 besteht aus 25 Zeilen. Jede davon enthält 40 Stellen. Der VC 20 hat 23 Zeilen mitje 22 Stellen. Diese Zeilen des Bildschirms werden »echte Zeilen« genannt.

Der Begriff »Zeile« kommt auch beim Programmieren vor. Dort bedeutet er die Reihe der Anweisungen und Befehle, die hinter einer Zeilennummer zusammengefaßt sind. Diese Programmzeilen werden »logische Zeilen« genannt.

Wozu dient dieser Unterschied?

Der Grund ist ganz einfach der, daß sehr oft eine Programmzeile mehr Zeichen enthält, als in eine (echte) Zeile des Bildschirms hineinpassen. Besonders Texte innerhalb einer PRINT-Anweisung sind häufig viel länger als 40 Zeichen, erst recht als die 22 Zeichen beim VC 20.

Deshalb läßt es das Betriebssystem des Computers zu, daß in einer (logischen) Programmzeile mehr als 40 (22) Zeichen stehen.

Beim C 64 kann eine logische Zeile aus zwei echten Zeilen bestehen mit einer maximalen Zeichenzahl von 80.

Der VC 20 erlaubt in einer logischen Zeile maximal 88 Zeichen und braucht dazu 4 echte Zeilen.

Dieses Zusammenfügen von mehreren echten Zeilen zu einer logischen Zeile hat natürlich Konsequenzen. Am meisten davon betroffen ist der Editor, das ist der Teil des Betriebssystems, der uns erlaubt, auf dem Bildschirm zu arbeiten, zu ändern, zu löschen und fertige Zeilen mit RETURN einzugeben.

Ich will Ihnen nur ein paar Beispiele nennen, die Sie sicher kennen, um Ihnen den Zusammenhang zu zeigen.

Wenn Sie ein Programm LISTen und anschließend in einer Programmzeile weitere Befehle anhängen, die über die Länge der echten Zeile hinausgehen, brauchen Sie selbst keinen Platz dafür schaffen. Das macht der Editor automatisch, indem er alle folgenden Zeilen auf dem Bildschirm nach unten schiebt. Für die Einsteiger unter Ihnen führe ich das vor. Geben Sie bitte die folgenden drei Zeilen ein (mit RETURN abschließen):
10 PRINT"A"
20 PRINT"B"
30 PRINT"C"

Jetzt fahren Sie mit dem Cursor auf die Zeile 20 und schreiben statt einem B so viele davon, bis Sie damit in die nächste Zeile kommen.

Sie werden sehen, daß dabei die Zeile 30 von selbst eins weiter nach unten rutscht. Erst wenn Sie in die 3. Zeile (5. Zeile beim VC 20) kommen, wird die Zeile 30 überschrieben. Sie sind dann über das Ende der logischen Zeile geraten. Eine überfüllte logische Zeile kann nicht eingegeben werden, die RETURN-Taste wird mit SYNTAX ERROR quittiert beziehungsweise abgewiesen.

Es gibt allerdings eine Methode, wie Sie in einem Listing eines Programms Programmzeilen, also logische Zeilen mit mehr als 80 (88) Zeichen erhalten können.

Fast alle Basic-Befehle können in abgekürzter Form eingetippt werden, am häufigsten wird sicher das Fragezeichen ? anstelle von PRINT eingesetzt. Sie können nun eine logische Zeile mit Abkürzungen und durch Weglassen von allen Zwischenräumen bis zum erlaubten Maximum füllen. Natürlich wird diese volle Zeile nach RETURN akzeptiert. Beim ausLISTen aber schreibt der Editor alle Befehle, auch die abgekürzten, in voller Länge aus und fügt nach der Zeilennummer einen Zwischenraum ein. Eine solche Zeile hat dann mehr echte Zeilen als erlaubt, intern aber hat sie die richtige Länge.

Einen Nachteil hat diese Komprimierung doch. In einer solchen »überlangen« logischen Zeile kann nicht mehr korrigiert werden, es sei denn, sie wird vorher auf eine erlaubte Länge reduziert.

Abschließend möchte ich noch kurz erwähnen, daß zur Steuerung dieser Zusammenhänge zwischen echten und logischen ZeilendieSpeicherzellen200, 201,202, 209, 211,213, 214, 217bis242 und 658 eine entsprechende Rolle spielen, die im einzelnen in der Memory Map beschrieben ist.

TODO ASIDE

## Texteinschub Nr. 2 Zeiger, Vektoren und Flaggen

Zeiger und Vektoren sind Zahlenwerte, die jeweils in zwei benachbarten Speicherzellen stehen und in der Low-/High-Byte Darstellung eine Adresse bilden.

Wir sprechen von einem »Zeiger«, wenn diese Adresse den Beginn von gespeicherten Daten angibt.

Ein »Vektor« zeigt ebenfalls auf eine Anfangsadresse, allerdings auf die eines Maschinenprogramms. Diese Unterscheidung wird leider nicht immer ganz eindeutig angewendet.

Eine »Flagge« besteht aus einem Zahlenwert in einer Speicherzelle, die von einem Programm dort abgelegt wird, um sich das Resultat einer Operation zu merken, beziehungsweise um es für eine spätere Verwendung bereitzuhalten.

TODO ASIDE

## Texteinschub Nr. 3 Die hw-/High-Byte-Darstellung

Eine Speicherzelle der kleinen Commodore-Computer VC 20 und C 64 hat eine Länge von 8 Bit = 1 Byte. Mit diesen 8 Bit können Zahlen von 0 bis 255 ($00FF) dargestellt werden. Zur Darstellung von Zahlen über 255 verwenden wir die Low-/High-Byte-Methode.

Wir hängen einfach zwei Speicherzellen zusammen, mit deren 16 Bit wir Zahlen bis maximal 65535 ($FFFF) darstellen können. Die maximale Zahl 65535 ist übrigens auch die höchste Adresse des gesamten Speichers — was natürlich kein Zufall ist.

Ich will Ihnen jetzt zeigen, wie eine Dezimalzahl auf zwei 8-Bit-Speicherzellen verteilt wird, und umgekehrt, wie aus 2 Byte eine Dezimalzahl gebildet wird.

Schauen Sie sich das folgende Beispiel an:

TODO TABLE

Wir gehen von der Dezimalzahl 47491 aus. Ihre duale Darstellung mit 16 Bit ~ 1011100110000011 — teilen wir einfach in der Mitte und erhalten damit zwei neue Dual-Zahlen mit je 8 Bit = 1 Byte. Das linke Byte nennen wir »High-Byte«, da es den höheren Teil der Gesamtzahl darstellt. Das rechte Byte heißt entsprechend »Low-Byte«.

Jedes der beiden Bytes kann für sich allein in einer Speicherzelle untergebracht werden, in der natürlich dann der dezimale Wert des Bytes steht.

In der Tabelle habe ich zur Vollständigkeit noch die hexadezimalen Werte eingefügt, die sehr schön zeigen, daß der Vorteil dieser Zahlendarstellung darin liegt, daß jede Einzelziffer der 4-Bit-Dualzahl entspricht, genau so wie jede Zweiergruppe dem Byte (sowohl in Dual-, als auch in Dezimaldarstellung) und die vierstellige Zahl der großen Dezimal- und Dualzahl entspricht.

Zur Umrechnung der Low-/High-Bytes empfehle ich folgende Kochrezepte:
Dezimal in Low-/High-Byte
47491:256 = 185 (High-Byte), Rest 131 (Low-Byte)

Der Rest fällt bei der Division per Hand automatisch an. Mit dem (Taschen-)Rechner erhält man den Rest durch:
185*256-47491 = -131
Low-/High-Byte in Dezimal
High-Byte * 256 + Low-Byte = Dezimal
185 * 256 + 131 = 47491
Wichtige Regel:

Die Mikroprozessoren von VC 20 und C 64 verlangen, daß immer das Low-Byte vor dem High-Byte kommen muß. Die Zahl wird sozusagen von rechts nach links gelesen (131/185).

# Sortieren mit Computer (Teil 6)

> Wie werden Sortierroutinen schneller? Wie kann die Garbage Collection verhindert werden? Wir beschreiben einige Verfahren dazu und bringen Quicksort in Maschinensprache.

Im letzten Teil unseres Sortierkurses sollen einmal Techniken erläutert werden, die die bisher besprochenen Sortieralgorithmen noch effektiver werden lassen. Außerdem werden wir auf die wichtigsten der vielen Leserreaktionen eingehen und etwaige Mißverständnisse und Fehler aus dem Weg räumen.

Die wichtigsten Sortieralgorithmen wurden in unserem Kurs ausführlich besprochen, wobei wir bisher jedoch recht wenig auf Programmiertechniken eingegangen sind, die unseren Programmen zu noch größeren Geschwindigkeiten verhelfen. Zwei Methoden seien an dieser Stelle schon einmal erwähnt:

1)	das Umschreiben der Sortieralgorithmen in Maschinensprache;
2)	das Verhindern der Garbage Collection durch Sortieren der String-Deskriptoren, wobei kein »Stringmüll« entsteht.

## Leserreaktionen

Bevor wir uns jedoch auf die gestellten Probleme stürzen, möchte ich mich bei all jenen Lesern bedanken, die mir zu diesem Thema geschrieben haben. Wir machen ohnehin kein Geheimnis daraus, daß die Zeitschrift 64’er zu einem erheblichen Teil von der Mitarbeit aktiver Leser geprägt wird, und wir hoffen, daß das auch in Zukunft so bleibt.

Nun aber zu einigen wichtigen Informationen.

Ziemlich viel Rummel hat offensichtlich die Ankündigung von Sortieralgorithmen hervorgerufen, die schneller sein wollen als Quicksort.

Es kamen prompt Zuschriften von Lesern, die diese Behauptung mit den eingesendeten Quicksort-Algorithmen widerlegen konnten. Der Trick bei der Sache war ausschließlich auf ein System zurückzuführen, das ein Feld von Quicksort nur teilsortieren läßt und die Arbeit bei einer Teillistenlänge von beispielsweise 10 an ein »kleines« Sortierprogramm (Bubblesort 2 oder

Straight Insertion) übergibt. Diese Methode ist natürlich korrekt! Eswurde in dem Kursjedoch absichtlich vom Abdruck eines solchen Sortieralgorithmus abgesehen, weil es bei den Beispielprogrammen einzig und allein um die Struktur der großen Sortieralgorithmen ging. Auf die oben beschriebene Methode zum »Schnellermachen« von Quicksort (und auch Heapsort) hatte ich aber an anderer Stelle schon hingewiesen.

## Quicksort ist doch am schnellsten

Ein sehr wichtiger Brief kam jedoch von unserem Leser Kurt Sörensen aus Hamburg. Er zeigte nämlich einen Fehler auf, der in der abgedruckten Beispielroutine von Quicksort steckt (Achtung Fehlerteufelchen...). Herr Sörensen analysierte das Quicksortprogramm und kam zu folgendem Ergebnis:

»... Beim Übergang von der linken zur rechten Hälfte wird die rechte Grenze der linken Hälfte, die nach der Theorie schon sortiert ist, zur linken Grenze der rechten Hälfte gemacht, die nach der Theorie noch nicht sortiert ist. Dadurch werden praktisch alle Elemente außer dem kleinsten und dem größten doppelt sortiert...«

Wie Sie aus unserem Kurs wissen, teilt Quicksort während des Sortierens das Variablenfeld in immer kleiner werdende Hälften (Teillisten) auf. Berücksichtigt man also diesen Fehler und erstellt das Quicksortprogramm neu (nach wie vor ohne anschließenden anderen Algorithmus), so kann sich Quicksort wieder unbeschadet an die Spitze unserer Stringsortierroutinen stellen. Es ist und bleibt der schnellste (und dabei der vielseitigste) Sortieralgorithmus (»Sonderanfertigungen« für spezielle Probleme laufen natürlich außer Konkurrenz!)

In Listing 1 sehen Sie die korrigierte Version von Quicksort abgedruckt.

Nun zu einem Problem, das offensichtlich in Zusammenhang mit unserem Hauptprogramm für die Sortieralgorithmen aufgetreten ist. Wie Sie wissen, haben wir zu den entsprechenden Sortierprogrammen auch ein Hauptprogramm abgedruckt, das einen Test der einzelnen Routinen ermöglichen sollte. Der Sinn dieses Programms ist aber von mir offensichtlich nicht genug verdeutlicht worden.

Bei dem beigefügten Rahmenprogramm handelt es sich um ein provisorisches Gerüst, das es dem Leser erlauben soll, die eingegebenen Sortierprogramme auf Funktionsfähigkeit und Geschwindigkeit zu testen. Daß das Rahmenprogramm also kein »Z« als Zufallswert verarbeitet und außerdem nur Elementzahlen in Zehnersprüngen zuläßt, dürfte bei der Arbeit kaum ein Hindernis darstellen, zumal das ja der Sinn der Sortierroutinen ist, nach Fertigstellung in andere Programme eingefügt zu werden. Im eigentlichen Sinne wichtig für den Anwender sind also jeweils die Programmteile in den Zeilen 10 000 bis 20 000: Der Rest entfällt.

Nun aber zu den schon erwähnten Programmiertechniken, die der Beschleunigung eines Sortiervorgangs dienen.

## Es geht noch schneller

Wir wollen uns dazu zuerst mit einem Artikel in der 64’er, Ausgabe 1/1985 beschäftigen. Es handelt sich hierbei um die erste Ausgabe in der Reihe »Effektives Programmieren«, die damals von dem Stringspezialisten Boris Schneider geschrieben wurde. Vorherrschend ging es um ein Problem bei der Stringverwaltung, nämlich um die »Müllabfuhr im Computer«, die Garbage Collection. Damals wurde sehr ausführlich auf den Aufbau von Strings im Speicher des Computers eingegangen, weshalb an dieser Stelle nur eine sehr knappe Wiederholung folgen soll.

Generell legt der C 64 seine Variablen direkt im Anschluß an das Basic-Programm im Speicher ab. Auch die Stringvariablen stehen dort. Der Textinhalt dieser Variablen wird jedoch an anderer Stelle im Speicher, nämlich von oben anfangend, rückwärts nach unten gespeichert. Anstelle des Textes hinter dem Variablennamen wird dort ein Zeiger (Deskriptor) abgelegt, der auf die jeweilige Position des Textes zeigt.

Wird nun eine Stringvariable neu angelegt, nachdem sie zuvor einen anderen Inhalt aufwies, wird der neue Text an die Stringkette im oberen Speicherbereich angehängt und der Deskriptor der Variablen auf diesen neuen Text eingestellt. Der »alte« Variablentext bleibt im Speicher stehen und bildet »Stringmüll«. Dieser Müll steigt mit vielen Neudefinitionen von Strings rapide an, so daß es nur eine Frage der Zeit ist, wann die von oben kommenden Strings mit den von unten kommenden Variablen zusammenstoßen und einen »?OUT OF MEMORY ER-ROR« verursachen.

Um diesem Fehler vorzubeugen, gibt es die Garbage Collection. Der Interpreter überwacht laufend den Zustand des Speichers. Wird es zu eng, dann tritt die Garbage Collection in Kraft und räumt den gesamten Stringmüll weg. Dieser Vorgang erfordert enorme Speichersuch- und verschiebevorgänge und kann ungünstigenfalls sogar mehrere Stunden benötigen: Der Computer scheint »abgestürzt«.

Bei unseren Sortiervorgängen wird ziemlich häufig der sogenannte Dreiecktausch durchgeführt. Es handelt sich hierbei um das Vertauschen der Inhalte von zwei Stringvariablen, wobei eine dritte Variable als Zwischenspeicher dient: zum Beispiel:
x$ = a$(1):a$(1) = a$(2):a$(2) = x$

Bei diesem Tauschverfahren werden gleich drei Müllstrings erzeugt, nämlich der Inhalt von x$, der alte Inhalt von a$(1) und der alte Inhalt von a$(2).

Nun gibt es Basic-Interpreter, die bieten zu diesem Zweck den Befehl SWAP an. Mit diesem Befehl können die Inhalte zweier Strings direkt vertauscht werden. Zum Beispiel:
SWAP a$(1), a$(2)

Hiermit sparen wir Zeit und Speicherplatz. Zeit sparen wir durch die Ausführung eines einzigen Befehls anstatt der drei Variablenzuordnungen. Speicherplatz sparen wir durch das Wegfallen der Hilfsvariable x$, so daß nur zwei Müllstrings entstehen.

## SWAP - ein Programm mit Pfiff

Aber pingelig, wie wir Computermenschen nun einmal sind, stellt uns auch diese Methode nicht zufrieden. Hatten wir vorhin nicht etwas von Deskriptoren, also von Zeigern auf den jeweiligen String gehört? Genau! Das ist unser neuer Ansatzpunkt!

Bei dem Vertauschen von zwei Variablen ändert sich nämlich eigentlich gar nichts im Speicher. Es bleiben sowohl die beiden Strings als auch die beiden Variablennamen erhalten. Warum reicht es also nicht aus, einfach die beiden Stringdeskriptoren zu vertauschen? Diese Frage ist überflüssig! Es reicht nämlich in der Tat aus, wenn wir den Deskriptor von Variable 1 auf den String von Variable 2 und umgekehrt setzen.

Und genau das macht das Programm SWAP, das Boris Schneider schon in der 64’er, Ausgabe 1/1985, Seite 123 vorgestellt hat.

Mit Hilfe dieser kleinen Maschinenspracheroutine sparen wir also Zeit und Stringmüll, da kein einziger überflüssiger String entsteht (Listing 2). Wenn Sie das »Progrämmchen« eingetippt haben, dann starten Sie es mit RUN. Sie werden anschließend nach der Startadresse des Maschinenprogramms gefragt. Diese sollten Sie vorzugsweise in den $C-Bereich (49152 bis 53247) legen, wobei darauf zu achten ist, daß als Startadresse maximal 53199 gelten darf (Das Programm benötigt 48 Byte).

Muß die Routine aus irgendeinem Grund woanders untergebracht werden, so wäre noch der Kassettenpuffer (828 bis 1023) zu empfehlen, um Basic-Speicherplatz zu sparen. Andernfalls müssen Sie eben die maximale Speicheradresse entsprechend heruntersetzen, um die Swap-Routine vor dem Überschreiben mit Strings zu schützen. Der Einbau des SWAP in die Sortierprogramme ist vollkommen unproblematisch. Sie suchen sich einfach jeweils die Stelle mit dem Dreiecktausch heraus. Sie wird in den abgedruckten Sortierprogrammen durch die Variable S$ als Hilfsvariable gekennzeichnet. Bei Straight Select ist das beispielsweise die Zeile 10080:
10 080 S$ = A$(X):A$(X) = A$(Z): A$(Z) = S$

Diese Zeile wird nun wie folgt geändert:
10080 SYS startadresse(A$(X), A$(Z))

»startadresse« gibt hierbei die Zahl an, die Sie beim Start des SWAP-Programms angegeben hatten. Die abgeänderte Version von Straight Select zeigt Listing 3. Sinnvoll wäre es, die SWAP-Routine direkt vor unser Sortier-Hauptprogramm zu setzen, so daß sie immer direkt vor dem Arbeiten automatisch installiert wird.

Von der Speicherplatzersparnis einmal ganz abgesehen, arbeitet auch diese SWAP-Routine schon erheblich schneller als der Dreiecktausch, so daß zum Beispiel beim Sortieren von 100 Elementen mit Bubblesort2 aus einer Sortierzeit von 1 Minute 46 Sekunden »nur« 1 Minute und 33 Sekunden wurden. Besonders bei sehr großen Elementzahlen zeigt sich aber dann die Effizienz dieses Programms, da sich die Garbage Collection kaum mehr blicken läßt. Unser Quicksort erfährt dadurch wiederum neue Bestzeiten im Sortieren von zufallsbesetzten Feldern.

## Es geht doch nichts über Maschinensprache

Wem aber auch dieser Trick noch nicht reicht: Wer immer noch auf der Suche nach dem »HYPRA« ist, dem bleibt nichts anderes übrig, als auf der Maschinenspracheebene sein Glück zu versuchen.

Mit diesem Thema hat sich auch unser Leser Frank Probst aus Zweibrücken beschäftigt. Was dabei herausgekommen ist, wollen wir Ihnen jetzt vorstellen: Quicksort in Maschinensprache!

Es war natürlich von vornherein klar, daß wirklich gute Zeiten beim Sortieren von Feldern nur in Maschinensprache zu erreichen sind. Wenn man jedoch das Prinzip eines Sortieralgorithmus verstehen will, ist es in der Regel besser, sein Glück erst einmal in Basic zu versuchen und das erworbene Wissen dann in Maschinensprache umzusetzen.

## Quicksort in Maschinensprache!

Da Quicksort ja nun schon in Basic am schnellsten ist und erstaunliche Sortierzeiten hervorbringt, darf man auf die Maschinenpracheversion gespannt sein. Ich kann schon vorwegnehmen, daß dieses Programm (natürlich) alles bisher Dagewesene voll in den Schatten stellt. Bevor wir uns jedoch diesem Programm zuwenden, soll an dieser Stelle erwähnt sein, daß durchaus nicht alle Tricks, die der Geschwindigkeit von Nutzen sein könnten, angewendet wurden. So teilt dieses Quicksort alle Teillisten bis auf die Länge 1 herunter, anstatt bei zum Beispiel 10 aufzuhören und dann Straight Select ans Werk zu lassen. Die Methode des Deskriptortausches wurde jedoch auch hier angewendet, was zur Folge hat, daß die Garbage Collection so gut wie keine Arbeit bekommt (selbst wenn große Mengen an Daten sortiert werden müssen).

Die Bedienung von Quicksort-M (so möchte ich es für den weiteren Verlauf nennen, um es von der Basic-Version zu unterscheiden) ist denkbar einfach. Nachdem Sie das Listing 4 mit dem MSE eingetippt und auf Diskette gespeichert haben, steht Quicksort-M sofort zur Verfügung. Es belegt im Speicher den Bereich von $CB20 bis $CFFF und verträgt sich so mit einem eventuell eingeschalteten Turbo-Tape. Es wird mit SYS52000 aufgerufen, wobei jedoch einige Regeln zu beachten sind:

Das zu sortierende Feld muß ein Stringarray sein und als allererstes Feld in einem Programm dimensioniert werden. Andernfalls kann ein »Aussteigen« des Computers die Folge sein. Bei der Arbeit benötigt Quicksort-M die Speicherstellen von $00B2-$00B8 und $00FB-$00FE. Die Werte aus $00B2 bis $00B8 werden gerettet und nach der Sortierung wieder zurückgeschrieben.

Das eigentliche Quicksort-M-Programm belegt nur die Speicherstellen $CB20 bis $CDE7. Es benötigtjedoch den anschließenden Bereich als Speicher für den jeweiligen Vergleichsstring und für einen Software-Stack, der bei Quicksort ja generell notwendig ist.

Wer sich mit Quicksort-M weiter beschäftigen will, der findet in Listing 5 ein Source-Listing.

Nun aber zu den Daten von Quicksort-M. Hier erübrigt sich jeder weitere Kommentar, wenn Sie sich Bild 1 betrachten. Diese Zeiten wurden mit dem Basic-Programm Quicktester (Listing 6) ermittelt und lassen einen das Schwärmen anfangen. Quicksort-M benötigt beispielsweise für 1000 zufällig ausgewählte Elemente nur noch acht Sekunden (!). Diese Zeit dürfte sich dabei auf ein Maß beschränken, das auch den pingeligsten Anwender des C 64 zufriedenstellen dürfte. Immerhin schlägt Quicksort-M seine Basic‑Konkurrenten alle um einige 1000 Prozent: Sogar das »normale« Quicksort wird hier haushoch geschlagen.

Ursprünglich hatte ich vor, an dieser Stelle auch noch einen Bubblesort-Algorithmus in Maschinensprache vorzustellen. Doch was brauchen wir jetzt noch Bubblesort? Quicksort-M dürfte, was die Geschwindigkeit angeht, wohl allen Anwendungen gewachsen sein. Wer sich dennoch mit Bubblesort auseinandersetzen will, der findet in einer anderen Zeitschrift aus dem Markt & Technik-Verlag einen Beitrag zu diesem Thema: Er steht unter dem Titel »Schneller als Quicksort« und erschien in der Ausgabe 14/1985 des Magazins Computer persönlich. Weitere Sortierprogramme finden Sie in Computer persönlich, Ausgabe 14/1984 (Top-Sort) und im 64’er, Ausgabe 11/84 (Exsort), ebenfalls als Maschinenprogramm.

Ich möchte mich an dieser Stelle von Ihnen verabschieden und hoffe, daß Ihnen die letzten Kurse ein wenig Spaß gemacht haben. Vielleicht haben Sie jetzt das Werkzeug, um sich das eine oder andere Projekt, das Sie sich schon länger vorgenommen hatten, zu verwirklichen.

(K. Schramm/E Probst/gk)

# Das Multitalent

> Jede Erweiterung für den C 64 ist in ihren Leistungen mehr oder weniger beschränkt. »Formel 64« bietet da viele, bisher nicht unter einen Hut gebrachte Funktionen an.

Beim Umgang mit dem C 64 ist es immer von Vorteil, einige Toolkit-Funktionen wie AUTO, RENUMBER oder FIND zur Verfügung zu haben. Na gut, denkt man sich, man kann sich ja immer ein entsprechendes Maschinenprogramm laden, was aber seine Zeit dauern kann. Außerdem tritt nach jedem Laden von Maschinenroutinen der »Out of Memory Error« auf, der nur durch ein NEW beseitigt werden kann. Ein eventuell vorhandenes Basic-Programm ist dann auch zerstört.

Formel 64 (Bild 1) beseitigt diese Schwierigkeiten. Denn es besitzt sowohl die erwähnten Toolkit-Funktionen (Tabelle) zur Unterstützung der Programmierung, als auch einen Monitor, Diskmonitor, Assembler und ein Backup- und Filecopy-Programm. Zusätzlich gibt es auch noch einige schnelle Grafikbefehle. Besonders erwähnenswert ist der Floppybeschleuniger, der im Modul enthalten ist. Eine Centronics-Schnittstelle (gegen Aufpreis) rundet das Bild von Formel 64 ab. Die Software für diese Funktionen ist in zwei 16-KByte-EPROMs enthalten, die in vier Bereiche à 8 KByte aufgeteilt sind und zwischen denen ständig hin- und hergeschaltet wird. Doch nun die Leistungen im einzelnen:

Der Floppybeschleuniger ist an einem Kabel mit Adaptersockel erkennbar, das aus dem Modul herausgeführt ist. Der Adaptersockel ist in das Laufwerk einzubauen. Dort muß lediglich ein Chip auf der Platine herausgezogen und der Sockel eingesteckt werden. Weitere Umbauarbeiten gibt es nicht. Das Laden und Speichern wird damit zunächst um den Faktor 6 bis 8 beschleunigt. Wenn man aber speziell formatierte Disketten verwendet, steigt die Geschwindigkeit auf das 13- bis 16fache an. Diese speziell formatierten Disketten können aber auch ohne Modul gelesen werden. Auch der Formatierungsvorgang selbst ist um einiges schneller geworden. Etwa 18 Sekunden pro Diskette. Kritische Programme wie Textomat plus oder Summer Games II liefen einwandfrei.

Formel 64 hat für Basic- und Maschinensprache-Programmierer einiges zu bieten. Es gibt Befehle wie RENUMBER zum Umnumerieren von Basic-Programmen oder FIND zum Suchen einzelner Zeichenfolgen. HCOPY erzeugt eine Hardcopy des Bildschirmes, egal, ob Text- oder Grafikbild. Allerdings nur auf einem Epson-kompatiblen Drucker. Die Hardcopy wird über das gesamte Querformat einer A4-Seite gedruckt. Des weiteren gibt es Kommandos wie LLIST und LPRINT zum einfachen Ansteuern eines Druckers. Der Befehl DELETE löscht ganze Bereiche eines Programms. Abgerundet werden diese Funktionen durch Befehle wie OLD, HELP, HEX und DEZ oder RESET. Für Assemblerfreaks ist ein komfortabler Monitor mit integriertem Diskmonitor eingebaut. Geboten werden Befehle wie Memory, Assemble, Disassemble, Find und Verify. Interessant ist der vorhandene Einzelschrittmodus, der es erlaubt den Ablauf von Maschinenroutinen genau zu beobachten. Außergewöhnlich ist die Unterstützung von illegalen Opcodes des 6510-Prozessors. Dazu wurden neue Mnemonics definiert.

Der Diskmonitor erlaubt umfangreiche Operationen im Floppy-RAM und Manipulationen einzelner Blocks auf der Diskette. Der vorhandene Assembler ist befehlskompatibel zum Profi-Ass. Es wurden allerdings einige zusätzlichen Befehlen mit aufgenommen. So verarbeitet er ebenfalls illegale Opcodes.

## Grafik

Die implementierten Grafikbefehle überzeugen durch ihre Schnelligkeit und Leistungsfähigkeit. Es werden bis zu vier Grafikseiten verwaltet, zwischen denen frei kopiert und gemischt werden kann. Die erste Grafikseite liegt im RAM unter dem Basic-Interpreter. Alle weiteren Seiten verbrauchen, sofern sie benötigt werden, Basic-Speicherplatz. An Grafikfunktionen gibt es Befehle wie BOX oder CIRCLE zum Zeichnen von Vierecken oder Ellipsen, LINE zum Ziehen von Linien und DRAW zum Entwerfen komplexerer Gebilde. Text kann sowohl horizontal als auch vertikal in eine Grafikseite eingebaut werden. PLOT setzt oder löscht einzelne Punkte. Mit GSAVE und GLOAD ist das Speichern und Laden einzelner Grafikseiten möglich, wobei dann beim Laden sofort auf hochauflösende Grafik geschaltet wird.

Gegen einen Aufpreis von 49 Mark erhält man eine Centronics-Schnittstelle, mit der man einen beliebigen Centronics-Drucker anschließen kann. Über die Sekundäradresse können dabei verschiedene Modi wie Listingdruck, Linearkanal und Textdruck eingestellt werden. Formel 64 erkennt automatisch, an welchem Bus ein Drucker am Computer angeschlossen ist. Am IEC-Bus oder an der Centronics-Schnittstelle. Entsprechend wird dann dieser Drucker angesteuert. Die automatische Erkennung kann auch abgeschaltet werden.

Natürlich wurden bei all diesen Erweiterungen einige Diskettenbefehle nicht vergessen. So kann man mit DIR ein Directory von der Diskette lesen, den Floppystatus anzeigen lassen und DOS-Befehle senden. Außergewöhnlich sind die Funktionen, die über die RESTORE-Taste erreichbar sind. Man kann da beispielsweise jederzeit eine Hardcopy des Bildschirmes starten. Häufig auch innerhalb laufender Programme oder Spiele. Weiterhin eingebaut ist eine BACKUP-Routine, die eine vollständige Kopie einer Diskette in 80 Sekunden fertigstellt. Auch gibt es die Möglichkeit einzelne Programm-Files zu kopieren.

Zusammenfassend muß man sagen, daß bisher noch nie so viele bekannte und neue Funktionen in ein Modul integriert wurden. Dabei liegt der Preis für Formel 64 bei 149 Mark und beträgt damit nur einen Bruchteil der Summe seiner einzelnen Bausteine. Wenn man also all diese Funktionen unter einem Dach vereinigt haben will, dann ist Formel 64 eine empfehlenswerte Entscheidung.

(Karl Hinsch/hm)

Info: Formel 64: Michael Grewe, Wiesenstr. 82, 4350 Recklinghausen, Tel. 02361/181354

# Der NEC-P2 - das fernöstliche Wunder

> Der NEC-P2 hat unseren Referenzdrucker Epson FX-85 herausgefordert. Lesen Sie, wer das Rennen gemacht hat.

Packt man den NEC-P2 (Bild 1) aus, so erscheint ein kompaktes, eher unscheinbares Gerät. Nichts deutet anfangs darauf hin, zu welchem Wunderding er sich im Test entwickeln sollte. Ein Gehäuse mit den Tasten LF, TOF, FONT und SEL an der Vorderseite, ein Friktionsantrieb und ein aufsetzbarer Traktor — nichts Ungewöhnliches könnte man meinen. Aber die Würze liegt im Detail. Schon ein erster Blick in das sehr gute deutsche Handbuch macht neugierig. Die gesamten Möglichkeiten des NEC-P2 sind dort klar, übersichtlich und, was noch wichtiger ist, gut verständlich dargestellt.

Schnell klärt das Handbuch über die Bedeutung der FONT-Taste auf: Mit ihrer Hilfe lassen sich verschiedene Schriftvarianten einstellen. Im einzelnen sind dies drei Varianten des Typs Pica, zwei Versionen der Elite- und ebensoviele der Schmalschrift. Eine 7-Segment-LED-Anzeige auf der Bodenplatte des P2 zeigt den jeweils gewählten Schrifttyp (Bild 2 und 3) in Form einer Zahl an. Wenn der Druckkopf nicht gerade darüber steht, gibt es auch keine Probleme beim Ablesen. Natürlich sind alle durch Tasten getroffenen Einstellungen auch mittels ESC-Sequenzen zu verändern.

Doch dies ist nur der erste Eindruck! Neben der eben erwähnten Anzeige befinden sich zwei leicht zugängliche 8fach-DIP-Schalter. Sie dienen der Einstellung des Zeilenabstandes, des Perforationssprunges, der Seitenlängen und vielem mehr. Selbst die Vorwahl des Schriftbildes beim Initialisieren (Einschalten) des Druckers ist hier möglich.

Als außergewöhnlich gut gelungen muß die Tatsache angesehen werden, daß es beim NEC-P2 möglich ist, Schnittstellen ganz nach Belieben und ohne Werkzeug auszutauschen. An der Rückseite des NEC-P2 befindet sich eine Klappe, die den Blick auf eine eingeschobene Baugruppe freigibt. Dieses Schnittstellen-Element wird nach oben herausgezogen und ein anderes (zum Beispiel serielle RS232) findet an gleicher Stelle seinen Platz. Bis jetzt gibt es allerdings noch kein Modul, mit dem der P2 direkt an den seriellen Bus des C 64 angeschlossen werden kann. Wir haben ihn aber problemlos mit einer im Betriebssystem eingebauten Schnittstelle getestet.

## Schalter, soweit das Auge reicht

Die dem NEC-P2 eigenen elf Zeichensätze befinden sich ebenfalls in den Schnittstellenbaugruppen. Mittels DIP-Schaltern, die natürlich von außen zugänglich sind, wird die Auswahl getroffen. Wird die Papierabdeckung während des Druckes geöffnet, so bleibt der NEC-P2 augenblicklich stehen. Aus der dann entstehenden Stille zieht ein leises, unaufdringliches Geräusch die Aufmerksamkeit auf sich. Wer sagt da, im Lande der aufgehenden Sonne werde nur billigst produziert? Der NEC-P2 ist der Gegenbeweis. Das Geräusch entstammt einem Lüfter, der im Gehäuse für das notwendige Klima sorgt.

Zur Geräuschminderung hat man ihm eine automatische Abschaltung des Lüfters spendiert. Diese ist wirksam, wenn der NEC-P2 länger als zirka 30 Sekunden keine Daten vom Computer empfängt. Zum Schutz des Druckkopfes hat man ihn ebenfalls mit einem Thermofühler ausgestattet, der, sollte es ihm zu warm werden, erst einmal auf unidirektionalen Betrieb umschaltet. Reicht dies immer noch nicht aus, um abzukühlen, so verordnet diese Schutzeinrichtung eine Zwangspause.

War das Äußere schon beeindruckend, so sollte sich der NEC-P2 natürlich auch im harten Alltag bewähren. Den Probetext zur Geschwindigkeitsermittlung schaffte er in sehr guten 1:45 Minuten. Im reinen Geschwindigkeitstest (10 Zeilen) ermittelten wir eine durchschnittliche Geschwindigkeit von 160 Zei-chen/Sekunde. Damit bleibt der P2 etwas unter den angegebenen 180 Zeichen/Sekunde (Tabelle). Auch wenn dieser Wert in der NLQ-Schrift auf 29 Zeichen/Sekunde zurückgeht, so ist dies immer noch ein sehr guter Wert.

Der NEC-P2 hat einen gänzlich anderen Befehlssatz als unser Referenzdrucker, der FX-85. Aber jedes gute Textverarbeitungsprogramm läßt das Übermitteln von druckerspezifischen ESC-Befehlen zu. Damit sind dem Besitzer des P2 Tür und Tor zu den reichhaltigen Möglichkeiten des Druckers geöffnet. Die Vielfalt der Schriftbilder und Druckmodi wird durch reichliche Mischmöglichkeiten ergänzt. Je nach Druckmodus arbeitet dieser Drucker mit einer 7x9-(Schmal-schrift) bis hin zu einer 21x18-(Pica NLQ) Matrix. Natürlich darf nicht vergessen werden, daß den NEC-P2 Einzelnadelansteuerung nicht ins Schwitzen bringt. Im 8- oder 16-Bit-Modus nadelt er alles aufs Papier, was er an Grafik angeboten bekommt.

## Er hält, was er verspricht

Der NEC-P2 bestätigte bis zum Ende des Tests den guten Eindruck der ersten Stunde. Der für den Dauerbetrieb so wichtige mechanische Aufbau konnte restlos überzeugen. Der Druckkopf wird mittels zwei Laufschienen geführt, was der Präzision und damit dem Schriftbild zugute kommt. Als Antrieb dient ein Zahnriemen, der Kopf selbst ist gegen Verschmutzen gut geschützt und großzügig dimensioniert. Alles Voraussetzungen, die ein hohes Maß an Zuverlässigkeit erwarten lassen.

Ein professioneller Drucker für den entsprechenden Anwenderkreis. Damit das gute Gesamtbild auch komplett ist, gibt es zum NEC-P2 einen automatischen Einzelblatteinzug, der auch funktioniert. Insgesamt kann zwischen Einzelblatteinzug, Stachelradantrieb (165 Mark), bidirektionalem Formulartraktor (456 Mark) und der genannten automatischen Einzelblattzuführung gewählt werden.

# Ein Hecht im Karpfenteich

Mit dem P2 hat NEC schwer an der Spitzenreiter-Position des FX-85 gegraben. Tatsächlich ist er unserem Referenzdrucker sogar in einigen Punkten überlegen. So ist die Schönschrift zweifellos, neben der des SR-10, die schönste, die wir bislang gesehen haben. Epson konnte sich seine Referez-Position nur durch die etwas bessere Papierfüh-rung(eingebauterTraktor), den größeren Pufferspeicher und den niedrigeren Preis retten. Trotzdem ist der P2 ein Drucker, der die Konkurrenz zum Handeln zwingt. Kompromißlos in Schrift und Ausstattung, ist er ohne Zweifel eine gute Empfehlung. Mit einem Preis von 1812 Mark ist er darüber hinaus eine Herausforderung für die Konkurrenz. Man darf gespannt auf die Reaktionen der Mitbewerber sein.

(Elisabeth Konther/aw)

Info: NEC-GmbH, Klausenburger Str. 4, 8000 München 80

# DMPG9 - eine solide Sache

> Der DMPG9 bietet nicht nur einen umfangreichen Befehlssatz, sondern auch eine solide Verarbeitung und einen ungewöhnlichen Rapierantrieb.

Der Fujitsu DMPG9 (Bild 1) ist ein Drucker, derzunächst durch sein solides Äußeres auffällt. Er besitzt ein stabiles Gehäuse mit einer ausgezeichneten Papierführung, an der es nichts mehr zu kritisieren gibt. Endlospapier wird einfach von hinten herangeführt und verschwindet in einem Schlitz an der Rückseite des Druckers. Unter einer leicht abnehmbaren Abdeckung befinden sich zwei Stachelwalzen, die das Endlospapier flach liegend auf jeder Seite mit vier Stiften erfassen. Eine äußerst exakte Führung, auch beim Rückwärtstransport des Papiers ist dadurch gesichert. Mit diesen Fähigkeiten ist sogar an eine Art Plot-Funktion zu denken, beispielsweise zur Erstellung von Schaltplänen. Auch bei der Verwendung von Einzelblättern bleibt dieser Komfort erhalten, denn das Blatt wird direkt hinter der Gummiwalze auf der Oberseite des Druckers eingeführt. Der solide Eindruck bestätigt sich ebenfalls bei der Betrachtung der Druckkopfführung. Auf zwei Schienen gleitet der 9-Nadel-Druckkopf präzise und erschütterungsfrei über 80 bis 136 Zeichen pro Zeile (je nach eingestellter Schrift). Diese aufwendige Technik und die exakte Papierführung sind sicherlich nicht ganz unschuldig an der außergewöhnlich guten Schrift im Near Letter Quality Modus (Bilder 2 und 3).

Angeschlossen wird der DMPG9 normalerweise mit einem Centronics-Interface, das entweder aus einer Hardware- beziehungsweise Software-Lösung oder aus dem in der letzten Ausgabe veröffentlichten Betriebssystem mit eingebauter Schnittstelle bestehen kann.

Man kann den DMPG9 in zwei ver-schiedenenVersionenerhalten. Der Käufer hat die Wahl zwischen einer Epson- (F-Serie) und einer IBM-Ausführung (I-Serie). In erster Linie ist der Unterschied zwischen den beiden Serien in der Bedeutung der zwei, leider recht ungünstig, an der Rückseite des Druckers angebrachten DIP-Schalterreihen zu sehen. In der F-Serie sind das die vom Epson FX-80 bekannten Funktionen wie Zeilenabstand, Zeichenpuffer, nachladbarer Zeichensatz und vieles mehr. In der I-Serie werden mit den gleiche Schaltern zum Beispiel Signale wie SLCT IN, Auto Feed und XT-Signale freigegeben und gesperrt. Da die I-Serie hauptsächlich auf die Bedürfnisse der IBM-Personal Computer abgestimmt ist, eignet sich zum Anschluß an den C 64 eigentlich nur die F-Serie. Zu wünschen wäre allerdings eine Umschaltmöglichkeit zwischen beiden Ausführungen.

Im Inneren des DMPG9 ist aufwendige Elektronik sichtbar. Warum allerdings bei laufend billiger werdenden Speicherbausteinen, der Puffer nur 2 KByte umfaßt, ist nicht plausibel, genügt aber zum Erstellen eines eigenen Zeichensatzes. Wie bei den meisten Druckern dieser Klasse hat der DMPG9 an der Frontseite die Schalter für Zeilen- und Seitenvorschub. Außerdem gibt es eine »Paper Out«-An-zeige, die sich zusammen mit einem akustischen Signal bemerkbar macht, wenn das Papier zu Ende ist. Die Schalter LF (Zeilenvorschub) und FF (Seitenvorschub) lösen beim Einschalten entweder einen Selbsttest (LF) aus, oder schalten den Drucker in die Schönschrift (FF). Leider hat man im Hause Fujitsu auf weitere Schalter verzichtet, mit deren Hilfe man Schriftformen oder häufig benötigte Druckkommandos wählen könnte. So bleiben nur die, wenn auch umfangreichen, ESC-Befehle (Tabelle). Bei den Testläufen zur Ermittlung der Druckgeschwindigkeit waren die angegebenen 180 Zeichen pro Sekunde nicht zu erreichen. Mit 130 Zeichen pro Sekunde ist der DMPG9 zwar nicht schlecht, liegt aber einiges unter der angegebenen Geschwindigkeit. Diese Diskrepanz ist wohl so zu erklären, daß die Hersteller die Geschwindigkeit einer Zeile messen und dann auf eine Sekunde hochrechnen. Da zum Drucken aber immer auch solche Faktoren wie Papiertransport und Drucklogik gehören, messen wir die Geschwindigkeit immer über zehn Zeilen. Zusätzlich muß jeder Drucker einen ausgefeilten Probetext ausdrucken. Der DMPG9 schaffte ihn in 2:17 Minuten. Das entspricht nicht dem möglichen, bei Einhaltung der im Handbuch angegebenen Geschwindigkeit. Mit 24 Zeichen pro Sekunde im Schönschrift-Modus (NLQ) befindet sich der DMPG9 im guten Mittelfeld der bisher getesteten Drucker.

Bei den Grafikfähigkeiten unterscheidet sich der DMPG9 nur wenig vom FX-85, allerdings fehlt ihm die höchste Punktdichte. Die Grafiken lassen sich in Stufen verschiedener Auflösung (480 bis 960 Punkte pro Zeile) wiedergeben. Das Handbuch zum DMPG9 liegt dem Drucker sowohl in deutscher, als auch in englischer Ausführung bei. Sieht man von einigen stilistischen Un-

reinheiten der Übersetzung ab, so vermittelt das Handbuch alle notwendigen Kenntnisse zum Umgang mit dem DMPG9. Annähernd jeder Befehl ist mit einem Druckbeispiel erläutert und erklärt.

## Fazit

Ein etwas kleiner Puffer, die fehlende Umschaltung zwischen Epson- und IBM-Modus und die unter dem angegebenen Wert liegende Geschwindigkeit sind die größten Nachteile des DMPG9. Auch einige Tasten zur bedienungsfreundlichen Auswahl von Druckparametern wären sicherlich eine sinnvolle Erweiterung gewesen. Diese Schwachstellen werden durch das außergewöhnlich gute NLQ-Schriftbild und die solide Konstruktion sicher relativiert. Mit einem empfohlenen Preis von 1850 Mark liegt er aber deutlich über dem Preis der Konkurrenz (wie dem FX-85), ohne die gleichen Leistungen anzubieten.

(E. Konter/aw)

Info: Fujitsu Elektronik GmbH, Sonnenstr. 29, 8000 München 2


# The Musk System — Zwei auf einen Schlag

> »The Music System« ist ein neues Musikprogramm, das es in sich hat. Denn es steuert sowohl ein MidiKeyboard als auch den Sound-Chip an und ist extrem benutzerfreundlich.

The Music System befriedigt als erste Musiksoftware zwei verschiedene Anwenderkreise. Die mittlerweile riesige Schar von Midi-Musikern und die Computerfreaks, die lediglich den SID-Chip zum Tönen bringen wollen. Was man noch damit machen kann: Noten lernen, Songs komponieren, spielen, speichern und automatisch wiedergeben — oder in Notenschrift umwandeln und ausdrucken.

Am Anfang steht jedoch die Lektüre der Bedienungsanleitung. Man sollte sich möglichst gleich mehrere Abende dafür reservieren. Mit ihren 85 A4-Seiten schlägt sie wirklich alle Rekorde, nicht nur ihres Umfangs wegen. Sie ist außerdem sehr übersichtlich aufgebaut, ausführlich bebildert und ins Deutsche übersetzt worden!

»The Music System« ist anders als alle anderen Musikprogramme für den Commodore 64. Bereits nach dem Laden weht eine erstaunlich frische Brise. Die sechs Optionen des Hauptmenüs sind nicht beziffert und mit Namen versehen, sondern durch leichtverständliche Bildsymbole dargestellt.

Mit der SPACE-Taste wählt man die einzelnen Optionen an, RETURN gedrückt — los geht’s.

Alle Module, so werden die sechs verschiedenen Programmebenen genannt, sind sehr übersichtlich aufgebaut. Man hat sich wirklich Mühe mit der optischen Gestaltung gegeben und viel Liebe ins Detail investiert. So tickt und zappelt zum Beispiel ständig ein ganz kleines Metronom in einer Ecke am Bildschirm. Auch alle anderen Parameter werden mit Hilfe von Symbolen am Bildschirm dargestellt. Da gibt es den Lautsprecher zur Lautstärkeneinstellung, die Klaviatur zur Anzeige der gespielten Töne, waagrechte Balken, die die Belegung der Melodie-Aufnahmespuren darstellen und, natürlich auch nur symbolisch, den Bedienteil eines kleinen Kassettenrecorders mit einzelnen »Tasten« für Play, Fast Forward, Fast Back und Record, mit denen man das Abspielen gespeicherter Melodien regelt. Ein Briefumschlag (engl.: envelope) symbolisiert schließlich die angewählte Hüllkurve.

Doch das ist noch nicht alles an Bedienkomfort, was das Music System zu bieten hat. Nur wenige Privatleute können sich einen Apple Macintosh leisten. Doch mit diesem Programm hat man, trotz C 64, das Gefühl, mit einem zu arbeiten. Macintosh-Software wurde nicht zuletzt dank der sogenannten Pull-Down-Menütechnik zum Synonym für maximalen Bedienkomfort. Diese Fenstertechnik haben die Music System-Programmierer abgeguckt.

## Beinahe wie ein Macintosh

Was dem Mac die Maus, sind hier die vier Funktionstasten. Mit ihnen wählt man die vier Pull-Down-Menüs an. Sie rollen wie Rollos am Bildschirm herunter. Das vorige Bild bleibt im Hintergrund erhalten (Bild 1). Die im Pull-Down-Menü enthaltenen Optionen stehen zur Auswahl parat. Hat man sich entschieden, wird der Befehl ausgeführt, der Rollo rollt wieder zurück, der Bildschirm ist wieder wie zuvor.

Am schnellsten ist man mit dem Klavier-Modus vertraut. Die obersten zwei Tastenreihen des Commodore 64 stellen die Klaviatur dar. Man kann jedoch nicht wie auf einem richtigen Klavier mehrere Tasten gleichzeitig drücken, also Akkorde spielen, sondern jeweils nur eine. Dafür wird diese einstimmige Melodie auf Wunsch sofort gespeichert. Während das Music System sie abspielt, kann man eine weitere dazuspielen. Sie wird ebenfalls gespeichert. Zum Schluß spielt man dann noch eine dritte Stimme zu den zwei bereits aufgenommenen dazu. So ist schnell ein dreistimmiges Liedchen im Kasten.

Wer Noten liebt, schaltet in den sogenannten VMW-Mode. Während des Abspielens läuft jetzt die Melodie in Notenschreibweise über den Bildschirm. Die grafische Darstellung der Noten ist für Commodore 64-Verhältnisse erstaunlich gut.

Für angehende Komponisten ist der Noteneditor ein hervorragender Tummelplatz. Was dem Komponist Papier und Feder, sind hier Bildschirm und alphanumerische Tasten. Jedem Musiksymbol entspricht ein Befehl. Sämtliche Vorzeichen, verschiedene Taktarten und Tempis, Kreuz, Be und Auflösung, alle Pausensymbole, Wiederholungszeichen, Bindebögen, alles ist vorhanden. Selbst die Notenhälse kann man wahlweise nach oben beziehungsweise unten legen. Die Taktstriche zieht das Music-System auf Wunsch automatisch an der richtigen Stelle. Noten lassen sich jederzeit auch nachträglich einfügen beziehungsweise löschen. Drei Melodiestimmen kann man komponieren, mehr schafft der SID-Chip nicht. In den beiden Notenzeilen am Bildschirm erscheint allerdings jeweils nur eine Stimme. Man kann zwar zwischen den Stimmen umschalten, aber nicht alle drei in ein Notensystem notieren, beziehungsweise drei Notensysteme gleichzeitig darstellen. Schade, denn sonst wäre das Music System wirklich absolut perfekt.

Besonders interessant ist die Makro-Funktion. Hier lassen sich beliebige Abschnitte der Komposition markieren und gesondert behandeln. Die Möglichkeiten sind sehr vielfältig. So kann man etwa einen Refrain automatisch als Ganzes transponieren, mit anderem Klang oder Lautstärke als den restlichen Song versehen, als Ganzes löschen, an andere Stellen des Liedes kopieren, zyklisch abspielen oder getrennt vom restlichen Lied entweder auf einer Art Notizzettel, dem Note Pad, zwischenspeichern oder ganz auf Diskette ablegen. All diese Optionen erreicht man mit den beiden Pull-Down-Menüs »Values« beziehungsweise »Commands«. Die beiden anderen Pull-Down-Menüs heißen »Info« und »File«. Bei Info werden Informationen über die aktuellen Daten, wie Anzahl der gespeicherten Töne oder angewählter Klang, ausgegeben. Mit »File« greift man auf die Diskette zu, zeigt Directories an und kann durch Files umbenennen.

## Unglaubliche Klänge aus dem SID-Chip

Ins Wunderland der SID-Klänge führt das Synthesizer-Modul des Music Systems. Es holt so ziemlich alles aus dem kleinen Chip, was geht. Man kann die drei Oszillatoren mit drei ganz verschiedenen klingenden Instrumentensounds versehen. Separate Hüllkurven und Filtereinstellung für jede Stimme machen das möglich. Hervorragend auch hier — die grafische Darstellung. So wird die jeweils eingestellte Hüllkurve nicht nur mit numerischen Parametern, sondern auch gleich grafisch am Bildschirm gezeichnet (Bild 2). Auf diese Weise kapiert man auch als Anfänger sofort, was langes Attack oder kurzes Decay bedeutet. Dreieck, Sägezahn, Rechteck und Rauschgenerator — alles ist da. Zwei langsam schwingende Modulationsoszillatoren (LFOs) gestalten den Sound noch lebendiger. Sie verändern die Oszillator-, Filter- und Pulsweiteneinstellung periodisch, entweder kontinuierlich (Dreieck) oder treppenförmig. Frequenz und genaues Aussehen dieser Modulationskurven sind variabel einstellbar. So realisiert man Geigenvibrato und den Wah-Wah-Effekt der Jimmy Hendrix-Gitarre, Flanging und viele weitere Sound-Effekte. Auch der Filter meistert mit Tief-, Hoch-, Bandpaß und Notch, variabler Frequenz und Resonanz so ziemlich alles, was man auch von einem guten Filter in einem professionellen Synthesizer erwarten würde.

Alle Parameter des Music System Synthesizers zu beschreiben, würde ein Großteil dieser 64'er-Ausgabe füllen. Man benötigt einige Tage, bis man ihn perfekt beherrscht. Aber keine Angst, man kann zunächst auch mit den bereits fertig programmierten und mitgelieferten Sounds des Music Systems spielen.

Nichts gegen Soundchips, aber für Musikerohren sind deren Klänge meist mehr schlecht als recht. Sie nutzen den Computer deshalb nicht zur Klangerzeugung, sondern nur zur Steuerung der sehr viel besser klingenden professionellen Synthesizer. Das Midi-System gestattet bis zu 16 midikompatible Synthesizer, Elektronikschlagzeuge, ja sogar Effektgeräte wie Hall und Echo, beziehungsweise Verstärker, zentral vom Computer mit unterschiedlichen Melodien zu versorgen. Bereits für 1000 Mark bekommt man heute einen professionellen Midisynthesizer mit pefektem Klang. Neben dem Synthesizer ist noch ein Midi-Interface nötig, das man in der einfachsten Ausführung für zirka 99 Mark bekommt. Man erhält sie in jedem Musikgeschäft. Leider sind die Interfaces nicht zu jeder Software kompatibel. Das Music System ist auf zwei Interfacetypen adaptiert, die in Deutschland nur schwer zu bekommen sind: das Siel-Interface und das Interface von Passport-De-sign. Das sollte man ändern!

Im Midi-Modus des Music Systems stehen sechs Aufnahmespuren zur Verfügung. Zwecks Kompatibilität mit den SID-Files des Music-Systems sind die einzelnen Midi-Aufnahmespuren nicht beliebig polyphon bespielbar, wie das normalerweise bei Midisoftware üblich ist, sondern nur monophon.

Zum Einspielen der Melodien benützt man im Midi-Modus einen Midi-Synthesizer. Während dem Spielen erscheinen wieder die zugehörigen Noten auf dem Bildschirm. Das Music System ist momentan die einzige Midisoftware, die das realtime schafft, wenn auch nur einstimmig. Im Midimodus kann man sechs verschiedene Stimmen einspielen und später über den Synthesizer wiedergeben. Ist man glücklicher Besitzer mehrerer Synthesizer, kann man die sechs Stimmen auch beliebig über die einzelnen Instrumente verteilen. Jedes spielt dann mit seinem Sound nur die ihm zugeteilten Stimmen. Also Synthesizer Nr. 1 etwa Baß, Nr. 2 Gitarre und Nr. 4 Geräuscheffekte. Die sechsstimmigen Midi-Files kann man auch in SID-Chipfiles umwandeln und umgekehrt. Auf diese Weise lassen sich die Midi-Songs in den Noten-Editor laden und dann nach allen Regeln der Kompositionskunst weiterbearbeiten.

## Noten und Text, schwarz auf weiß

Das Druck-Modul ermöglicht den Ausdruck der Kompositionen. Die drei Stimmen werden jeweils in drei untereinanderliegenden Notensystemen gedruckt. Zusätzlich kann man jeden Song mit einem Liedtext versehen. Mit den Pull-Down-Menüs lassen sich viele Ausdruckformate anwählen. Außerdem kann man verschiedene Drucker, wie Epson, Star und die CBM-Drucker (MPS 801/802) ansprechen.

Kurz und gut: »The Music System« ist eine erfreuliche Alternative auf dem Markt der Musikprogramme für den Commodore 64. Es ist hervorragend bedienbar und geizt auch nicht mit Möglichkeiten. Midi-Option und Notationsfähigkeit mit Ausdruck machen das Programm nicht nur, aber auch, für die unzähligen, mittlerweile mit Commodore 64 und einem Midi-System arbeitenden Musiker, interessant.

(Richard Aicher/bs)

Info: Rushware, An der Gümpgesbrücke 24, 4044 Kaarst 2

# Assembler-Bedienung leichtgemacht (Teil 1)

> Lückenhafte Assembler-Anleitungen führen bei Anfängern häufig zu Verwirrungen. Deshalb zeigen wir am Beispiel »Hypra-Ass«, wie man einen solchen Assembler bedient.

Der Umgang mit Maschinensprache dürfte für interessierte Leser kein Problem mehr sein. Wie ein Assembler allerdings bedient wird, ist für viele immer noch ein »Böhmisches Dorf«. Deshalb zeigen wir besonders dem Anfänger, wie es gemacht wird.

In vielen Fachzeitschriften, so auch in der 64'er, stößt man häufiger auf Artikel, die in irgendeiner Form mit Maschinenprogrammierung zu tun haben. Immer mehr Leser sind auch an der Programmierung in Maschinensprache interessiert. Der C 64 läßt sich mit dem eingeschränkten V2-Basic bei weitem nicht ausnutzen. Außerdem hat ein Maschinenprogramm den Vorteil, daß es wesentlich schneller und flexibler ist, als irgendeine Hochsprache wie Basic, Pascal oder C.

Das wichtigste Instrument zum Programmieren in Maschinensprache ist ein Assembler. Es gibt sogenannte Zeilenassembler, wie sie viele Maschinensprachemonitore haben (so auch der SMON) und Mehrpass-Assembler, mit denen wir uns hier beschäftigen wollen. Zeilenassembler eignen sich nicht zum Schreiben größerer Programme. Sie sind von der Bedienung her zu umständlich.

Zuerst ein paar Worte zum Assembler selbst. Grob gesehen ist er mit einem Compiler zu vergleichen. Beide bringen einen verbalen Text, auch Quelltext oder Quellcode genannt, in eine Form, die der Computer versteht. Beide erzeugen ein lauffähiges Programm. Jeder Quelltext (ein Beispiel zeigt Listing 1) besteht aus Maschinenbefehlen, La-beln, Variablen, Formatanweisungen und sogenannten Pseudo-Op-codes.

## Maschinenbefehle

Der übersetzte beziehungsweise assemblierte Quelltext besteht bis auf Tabellen (Aneinanderreihung beliebiger Zahlen) ausnahmslos aus Maschinenbefehlen. Sie steuern unmittelbar die internen Prozessorabläufe. Jeder Maschinenbefehl setzt sich aus 1, 2 oder 3 Zahlen zwischen 0 und 255 zusammen.

Die Zahl 255 ist die größte, darstellbare Zahl. Sie kommt dadurch zustande, daß der 6502-Prozessor eine 8-Bit-Struktur hat und somit acht Informationen parallel erkennt und verarbeitet. Jede dieser acht Informationen kann entweder Low=0 oder High=1 sein. Daraus folgt, daß insgesamt 28 = 256 unterschiedliche Kombinationen möglich sind. Da die Zahl 0 auch eine Kombination ist, folgt weiter, daß sich mit acht Informationen beziehungsweise 8 Bit 255 Zahlen und die 0 darstellen lassen.

Nun aber wieder zurück zum Maschinenbefehl. Er besteht, wie gesagt, aus 1,2 oder 3 Zahlen, auch Byte genannt. Das erste Byte ist der Operator oder das Befehls-Byte. Dieses Byte teilt dem Prozessor mit, was gemacht werden soll. Bei den beiden anderen Byte handelt es sich um Operanden, mit denen etwas gemacht wird. In einem Quelltext erscheint das Befehls-Byte, jedoch nicht in Form einer Zahl, sondern in Form von drei Buchstaben, die Opcode oder auch Mnemonic genannt weden. Beispiele für Opcodes sind LDA, STA, LDX, JSR und so weiter. Bei einem Operanden handelt es sich entweder um eine Adresse (ein oder zwei Byte), oder um ein Byte, das einen Wert darstellt und unmittelbar geladen werden kann.

»LDA 01« lädt zum Beispiel den Akkumulator, eine prozessorinterne Speicherstelle, mit dem Inhalt der RAM-Speicherzelle 1. Diese Befehlsart nennt sich »absolute Adressierung«.

Der Akkumulator läßt sich aber auch unmittelbar oder direkt mit einem Wert zwischen 0 und 255 laden. Dazu ist dem Wert, der geladen werden soll, ein Nummernzeichen (#) voranzustellen. Nach dem Maschinenbefehl »LDA #01« steht im Akkumulator 01 und nicht wie im ersten Beispiel, der Inhalt der RAM-Speicherzelle 01. Das Nummernzeichen wird immer dann einer Zahl vorangestellt, wenn nicht der Inhalt einer Adresse, sondern die Zahl selbst geladen werden soll. Diese Adressierungsart heißt »unmittelbare Adressierung«.

Es soll noch einmal darauf hingewiesen werden, daß die Zahl > 255 sein muß.

## Label und Variable

Eigentlich dürfte es die Unterscheidung Label und Variable gar nicht geben. Denn bei beiden handelt es sich um Konstante, die jeweils nur ein einziges Mal im Quelltext definiert werden dürfen. Das Arbeiten mit diesen Konstanten erleichtert das Programmieren in Maschinensprache ganz erheblich. Erst durch sie wird es möglich, Quelltextzeilen einzufügen oder zu löschen. Soll zum Beispiel ein Unterprogramm mit dem »JSR«-Befehl (entspricht dem Basic-Befehl GOSUB) aufgerufen werden, braucht man nicht in mühevoller Kleinarbeit die Startadresse des Unterprogramms ermitteln, sondern schreibt einfach vor den ersten Maschinenbefehl des Unterprogramms einen beliebigen Namen, zum Beispiel »AUSGABE«. »JSR AUSGABE« verzweigt dann in das Unterprogramm mit dem Namen »AUSGABE«. Wird der Assembler gestartet, weist jedem Label, so auch dem Label »AUSGABE« automatisch eine absolute Adresse (Wert) zu. Dazu sind mindestens zwei Assemblerläufe notwendig. Der Grund dafür ist folgender. Stößt der Assembler zum Beispiel auf den Maschinenbefehl »JSR AUSGABE«, bevor das Unterprogramm »AUSGABE« definiert wurde, ist ihm zu diesem Zeitpunkt die absolute Adresse unbekannt. Deshalb werden im ersten Assemblerlauf, auch Pass 1 genannt, allen Labeln absolute Adressen zugeordnet, die in einer Tabelle (Symboltabelle) eingetragen werden. Erst im zweiten Assemblerlauf (Pass 2) wird der Quelltext übersetzt und die Label durch die absoluten Adressen ersetzt. Ähnlich verhält es sich mit den Variablen. Allerdings müssen sie definiert sein, bevor sie das erste Mal benutzt werden. Definiert werden sie, wie in einem Basic-Programm, mit dem Gleichheitszeichen. Zum Beispiel:
WERT = 50 oder AUSGABE = 5000

Bei einigen Assemblern ist das Gleichheitszeichen zu ersetzen durch »EQU«. Das Beispiel würde in diesem Fall lauten:
WERT EQU 50 oder AUSGABE EQU 5000

Bei Hypra-Ass wird der Definition ein ».EQ« vorgestellt, zum Beispiel: ».EQ WERT = 50«

## Formatanweisungen

Wie Sie sicherlich schon bemerkt haben, sind bisher alle Zahlen im dezimalen Zahlensystem angegeben worden. Jeder Assembler akzeptiert neben dem dezimalen Zahlensystem auch Zahlen in anderen Formaten. Nämlich im »binären« und im »hexadezimalen« Zahlensystem. Das dezimale Zahlensystem eignet sich nicht besonders zum Programmieren in Maschinensprache. Der Grund dafür ist der, daß der Inhalt einer Speicherstelle oder Register kleiner gleich 255 sein muß. Wird versucht, eine Zahl größer 255 in eine Speicherstelle zu schreiben, ahndet der Computer das mit einer Fehlermeldung. Man kann eine dezimale Zahl, die größer ist als 255, nicht ohne weiteres in zwei oder drei Zahlen aufteilen, so daß sie gerade in eine Speicherstelle paßt.

Im hexadezimalen Zahlensystem ist das anders. Möchte man zum Beispiel die dezimale Zahl 258 = 0102 hexadezimal speichern, so läßt sich die hexadezimale Zahl direkt in zwei einzelne Zahlen beziehungsweise Byte aufteilen, man nennt sie oft »Low«- und »High«-Byte. In diesem Fall ist 01 das High-Byte und 02 das Low-Byte. Sie können unmittelbar hintereinander in die Speicherzellen geschrieben werden. In einem Assembler-Quelltext wird eine hexadezimale Zahl dadurch gekennzeichnet, daß ihr ein Dollarzeichen vorangestellt ist. Zum Beispiel:
LDA $CFFF = LDA 53247
LDA #$30 = LDA #48

Zusammenfassend läßt sich zum hexadezimalen Zahlensystem sagen, daß es sich besonders gut bei allen Opcodes eignet, die in irgend einer Form etwas mit Adressen zu tun haben.

Das binäre Zahlensystem, in dem nur die Ziffern 0 und 1 vorkommen, hängt unmittelbar mit der 8-Bit-Struktur des Computers zusammen. Die Zahl 255 läßt sich im binären Zahlensystem durch eine 8stellige Zahl darstellen (11111111). Dieses Zahlensystem eignet sich besonders gut bei allen logischen Operationen wie »OR«, »AND« und so weiter. Mit Hilfe der AND-Operation können bestimmte Bits gelöscht beziehungsweise isoliert werden. Mit der logischen OR-Verknüpfung lassen sich dagegen bestimmte Bits setzen. In einem Assembler-Quelltext wird eine binäre Zahl dadurch gekennzeichnet, daß ihr ein Prozentzeichen vorangestellt wird. Zum Beispiel: AND # %00010000 isoliert das Bit 4 im Akkumulator. Das Ergebnis kann nur den Wert 0 oder $10 beziehungsweise 16 annehmen.

OR #%10000000 setzt das Bit 7 im Akkumulator. War das Bit 7 vor diesem Maschinenbefehl gesetzt, bleibt es erhalten. War das Bit nicht gesetzt, so wird zum Inhalt des Akkumulators $80 beziehungsweise dezimal 128 addiert.

Ich möchte noch darauf hinweisen, daß jede binäre Zahl bei einem unmittelbaren Befehl 8stellig ist. Ferner können nicht alle Assembler binäre Zahlen verarbeiten, so zum Beispiel der im 64’er, Ausgabe 7/85 veröffentlichte Hypra-Ass.

## Pseudo-Opcodes

Neben den normalen Opcodes wie LDA, LDX, STX und so weiter, existieren noch Pseudo-Opcodes. Bei ihnen handelt es sich um Befehle, die den Assembler steuern. Auf das erzeugte Maschinenprogramm haben sie zwar eine Wirkung, erscheinen dort aber nicht. Es gibt zwei große Gruppen von Pseudo-Opcodes, punktierte, wie ».BA«, »TX« oder ».BY«, und nicht punktierte, wie»#«, »$«,»=«und»;«. Der letzte nicht punktierte Pseudo-Opcode wurde bisher noch nicht besprochen. Er leitet einen Kommentar ein. Alles was hinter ihm steht, wird vom Assembler ignoriert und folglich nicht mit übersetzt; im Basic entspricht dem»;«die REM-Anweisung. Zum Beispiel:
LDA #$41 ; DENBUCHSTABEN»A« IN DEN AKKUMULATOR

Der Assembler übersetzt den Maschinenbefehl LDA #$41. Der Rest der Zeile wird überlesen.

Die punktierten Pseudo-Opcodes lassen sich wieder in verschiedene Gruppen zusammenfassen:

- Assembler-Steueranweisungen
- Ausgabebefehle
- Befehle zur bedingten Assemblierung

### 1. Assembler-Steueranweisungen

Die Assembler-Steueranweisungen stellen die wichtigste Gruppe der Pseudo-Opcodes dar. Durch sie und durch die Verwendung von Variablen und Labeln wird erst das komfortable Arbeiten mit einem Assembler ermöglicht. Die nun folgenden Erklärungen zu den einzelnen Pseudo-Opcodes beziehen sich auf Hypra-Ass.
**.BA $C000**: legt die Startadresse des Maschinenprogramms fest. Hier $C000. Man kann aber auch den entsprechenden dezimalen Wert (49152) einsetzen. Zu beachten ist, daß die Startadresse vor dem ersten Maschinenbefehl stehen muß. Es ist egal, ob die Startadresse vor oder hinter der Variablendeklaration definiert wird.
**.EQ LABEL = $41**: Weist der Variablen oder richtiger der Konstanten »la-bel« den Wert $41 zu.

Mit diesen beiden Pseudo-Opcodes und den Opcodes LDA, STA und RTS läßt sich schon ein kleines Maschinenprogramm erstellen. Laden und starten Sie zuerst Hypra-Ass. Anschließend sind die Zeilen entsprechend Bild 1 einzugeben:

TODO

Gestartet wird der Assembler nun im Direktmodus durch den Basic-Befehl RUN. Beide Assemblerläufe (Pass 1 und Pass 2) werden automatisch hintereinander ausgeführt. Ist der Quelltext übersetzt, meldet sich Hypra-Ass mit folgender Meldung:
END OF ASSEMBLY 0:00.6
BASE = $9000 LAST BYTE AT $908C

Dieses kleine Maschinenprogramm kann nun im Direktmodus mit SYS 12*4096 gestartet werden. Der Befehl PRINT PEEK(9*4096) liefert als Ergebnis den Wert 255. Mit dem Editor-Befehl »/E« läßt sich der Quelltext LISTen. Wird in Zeile 30 der Wert $FF durch $00 ersetzt und danach der Assembler mit RUN und das Maschinenprogramm mit dem angegebenen SYS-Befehl von neuem gestartet, liefert der PRINT-Befehl als Ergebnis den Wert 0. Um wieder zu den Pseudo-Opcodes zurückzukommen, löschen Sie im Qelltext die Zeile 10 und fügen dafür die Zeile:
45 -.BA $C000
ein. Wird der Quelltext nun assembliert und das Maschinenprogramm gestartet, werden Sie keinerlei Veränderungen feststellen. Wird dagegen die Startadresse erst in Zeile 65 definiert, kann das fatale Auswirkungen haben. Es ist durchaus möglich, daß der Computer abstürzt. Aber versuchen Sie es einmal. Aus Fehlern kann man nur lernen.

Die nun folgenden drei Pseudo-Opcodes teilen dem Assembler mit, daß die in der gleichen Zeile stehenden Zeichen nicht übersetzt, sondern direkt übernommen werden sollen. Alle drei Pseudo-Opcodes sind wichtig für die Definition von Tabellen. Wichtig ist auch, daß vor jeder Tabelle ein RTS oder JMP stehen muß. Ist das nicht der Fall, interpretiert der Prozessor das erste Byte der Tabelle als Befehls-Byte. Als Ergebnis werden dann unkontrollierte Befehle ausgeführt.
**.BY 255,$FF,"A"**: Einfügen von Bytewerten in den Quelltext. Soll eine Bytetabelle definiert werden, ist vor den Pseudo-Opcode ein Label zu setzen. Zum Beispiel: LABEL .BY 255,$FF,”A”
**.WO 1234,$FFD2,LABEL**: Einfügen von 16-Bit-Adressen in den Quelltext. Die 16-Bit-Adresse wird automatisch in zwei einzelne Byte geteilt (High-Byte, Low-Byte) und anschließend im Format Low/High-Byte im Speicher abgelegt. Eine Worttabelle läßt sich genauso anlegen wie eine Bytetabelle.
**.TX** "dieses ist ein Beispiel": Mit diesem Pseudo-Opcode lassen sich ganze Textblöcke in den Quelltext einfügen. Prinzipiell handelt es sich bei einer Texttabelle um eine Bytetabelle, mit dem Unterschied, daß die einzelnen Byte nicht in einem Zahlenformat oder als einzelnes ASCII-Zeichen eingefügt werden, sondern eben als Textblock. Tabellen dieser Art werden häufig dazu verwendet, Texte auf dem Bildschirm auszugeben. Eine Texttabelle läßt sich genauso anlegen wie eine Bytetabelle.

Mit einem kleinen Programm (siehe Listing) soll der Umgang mit Pseudo-Opcodes gezeigt werden. Das Programm gibt aufTastendruck einen vorgegebenen Text auf dem Bildschirm aus. In dem Beispielprogramm kommen noch einige nichtpunktierte Pseudo-Opcodes hinzu, die noch nicht erklärt wurden. Es handelt sich um das »größer«- beziehungsweise »kleiner«-Zeichen. Dieser Pseudo-Opcode dient dazu, bei einem 16-Bit Label das High-Byte (»größer«-Zeichen) beziehungsweise das Low-Byte (»kleiner«-Zeichen) zu isolieren, so daß sich vom Quelltext aus die einzelnen Byte des 16-Bit-Labels direkt, also unmittelbar, in den Akkumulator oder in das X-, Y-Register laden lassen.

In den Zeilen 240 bis 280 wird ein kleiner Programmiertrick angewendet. Zuerst wird das High-Byte der anzuspringenden Funktion auf den Stack geschrieben und anschließend das Low-Byte. Trifft das Programm nun auf einen »RTS«-Befehl, werden die beiden Byte (Low und High) in den Programmzeiger geschrieben und zur Adresse Programmzeigerinhalt + 1 verzweigt.

Aus diesem Grund wird bei der Definition der Bytetabellen in Zeile 540 und 550 von der anzuspringenden Funktion eine 1 abgezogen. Auf den ersten Blick ist es vielleicht recht unverständlich, daß die 1 nicht nur vom Low-Byte (Zeile 550) abgezogen wird, sondern auch vom High-Byte. Der Grund ist folgender. Angenommen das Label »TASTE1« entspricht der Adresse $9000. Wird nur vom Low-Byte eine 1 abgezogen, würde die »$90« für das High-Byte stehenbleiben. Das Ergebnis wäre, daß nicht das Unterprogramm bei $8FFF + 1, sondern bei $90FF + 1 in der Zeile 280 angesprungen würde.

Mit diesem Beispielprogramm möchte ich auch den ersten Teil dieses Artikels beenden. Die restlichen Pseudo-Opcodes und das Arbeiten mit Makros werde ich das nächste Mal behandeln.

(ah)

# Software Comer — professionelle Programme richtig eingesetzt

> Lernen Sie, mit Ihren professionellen Programmen richtig zu arbeiten! Wir geben Ihnen die Informationen, die nicht im Handbuch stehen und erklären Funktionen, die dort nur unvollständig beschrieben sind. Gleichzeitig erhalten Sie eine vollständige Befehlsliste des Programms zum Fotokopieren.

In dieser Ausgabe beginnen wir mit einer neuen Serie, die Ihnen deutlich und übersichtlich zeigen soll, wie man professionelle Programme so richtig ausreizt. Sie lernen, Ihr Programm von Grund auf zu verstehen und werden dadurch in die Lage versetzt, Probleme zu lösen, von denen Sie bisher glaubten, daß sie mit dem Programm nicht zu bewerkstelligen seien. Damit Sie einen Überblick über die gesamten Befehle des Programms bekommen, finden Sie gleichzeitig eine komplette Befehlsliste. Am Schluß dieser Liste geben wir Ihnen noch einige Vorschläge über eine empfohlene Hardware-Ausstattung.

## Adreßverwaltung und Serienbrief mit Vizawrite

Eine der reizvollsten Anwendungen der Textverarbeitung ist es, einen vorgefertigten Brief an die verschiedensten Personen zu schicken und dabei die individuellen Daten dieser Personen in den Text einzufügen. So können Briefe entstehen, die dem Leser das Gefühl geben, der Brief sei nur für Ihn alleine geschrieben worden. Vizawrite 64 unterstützt diese Funktion in geradezu idealer Weise, denn es hat eine, wenn auch sehr einfache, Adreßverwaltung eingebaut. Dazu verwendet Vizawrite die sogenannte Workpage oder auch Arbeitsseite. Dazu aber später mehr.

Stellen wir zunächst eine Aufgabe: Sie haben Geburtstag und möchten gerne eine Einladung an alle Ihre Freunde und Bekannten schicken. Folgende Daten sollen individuell eingefügt werden: Anrede, Vorname, Name, Straße, Wohnort und noch mal der Name in der Anrede.

Eine einfache Aufgabe, die ebenso einfach zu realisieren ist, wie wir gleich sehen werden. Laden Sie zunächst Vizawrite 64 und wählen aus dem Hauptmenü die Funktion F3 »Create New Document«. Geben Sie dem Text den Namen »Einladung« und bestätigen Sie mit RETURN. Sie befinden sich nun im Texteingabe-Modus. Das Prinzip der Serienbriefe beruht bei Vizawrite darauf, daß in einem Text bestimmte Zeichen, sogenannte Platzhalter, später durch Daten ersetzt werden. Diese Daten holt sich Vizawrite aus der »Workpage« oder Arbeitsseite. Um zu erkennen welche Daten eingefügt werden sollen, verwendet Vizawrite zwei verschiedene Platzhalter. Sie heißen »Merge« für einfügen und »Don’t Merge« um bestimmte Daten bis zum nächsten Merge-Zeichen zu überspringen. Beide Zeichen verwenden wir in unserem Beispiel. Zunächst schreiben Sie Ihre Adresse und das heutige Datum,

## Mit dem »Merae«-Befehl zum Rundschreiben

so wie Sie es später ausgedruckt haben wollen. Dann drücken Sie viermal auf die RETURN-Taste. Nun müssen Sie die Einfügezeichen so plazieren, daß später an ihrer Stelle die Adresse stehen kann. Ein Merge-Zeichen erzeugen Sie, indem Sie die CTRL-Taste drücken, wieder loslassen und anschließend den Buchstaben »m« betätigen. Auf Ihrem Bildschirm müßte nun ein senkrechter Doppelpfeil zu sehen sein (Bild 2). Schließen Sie Ihre Eingabe mit einem RETURN ab. Sie haben jetzt die Einfüge-Position für die Anrede geschaffen. Erzeugen Sie nun wie eben beschrieben noch weitere vier Einfügezeichen, für den Namen, die Straße und den Wohnort. Drücken Sie nun wieder viermal auf die RETURN-Taste. Jetzt kommt die

## Perfekte Briefköpfe schnell erstellt

Briefanrede. Schreiben Sie »Lieber« und setzen Sie dahinter nochmals ein Einfügezeichen (CTRL und m). Ihr Bildschirm sollte nun wie in Bild 2 dargestellt, aussehen. Nun können Sie Ihren Brief wie gewohnt schreiben. Der letzte Schritt auf dem Weg zum Serienbrief ist die Erstellung der Adressenliste. Dazu müssen Sie in die Arbeitsseite hinüberwechseln (Sie haben bisher auf der ersten Textseite geschrieben). Drücken Sie dazu die Tasten CBM, lassen Sie wieder los und drücken auf den Buchstaben »g« Ihrer Tastatur. Vizawrite fragt Sie nun in der dritten Zeile »Go To Page:«. Antworten Sie mit einem »w« und bestätigen Sie mit RETURN. In der dritten Zeile sollte jetzt »On Page Work« stehen. Der nächste Schritt besteht darin ein »Don’t Merge«-Zeichen zu erzeugen.

Betätigen Sie dazu die Tasten CTRL und »d« nacheinander. Damit wir auch später noch einzelne Personen dieser Adreßliste mit Briefen bedenken können, bedienen wir uns nun eines kleinen Tricks. Schreiben Sie direkt hinter das »Don’t Merge«-Zeichen die Zahlen 01, sie dienen zur späteren Identifizierung des Datensatzes. Geben Sie nun durch Merge-Zeichen getrennt die einzelnen, oben beschriebenen, Daten ein und schließen Sie nach der Anrede mit einem RETURN ab. Vor dem zweiten Datensatz (Adresse) schreiben Sie ein »Don’t Merge«-Zeichen und die Zahl 02. Geben Sie nun in gleicher Weise so viele Adressen ein, wie Sie Briefe versenden wollen. Ihr Bildschirm sollte nun ähnlich wie Bild 3 aussehen.

Der Serienbrief ist jetzt eigentlich fertig, Sie brauchen nur noch den Drucker anschalten, das Papier justieren und mit den Tasten CBM, gefolgt durch »p«, in das Druckermenü wechseln. Im Druckermenü stellen Sie bitte die Werte genauso ein, wie in Bild 4 dargestellt. Wenn Sie nun auf die Taste F1 drücken, werden Ihre Serienbriefe hintereinander ausgedruckt. Sie werden sich sicherlich gefragt haben, warum auf der Arbeitsseite vor jedem Datensatz eine Nummer stehen sollte. Die Erklärung ist einfach, gehen Sie deshalb nochmals in die Arbeitsseite wie oben beschrieben. Nehmen wir an, Sie möchten den Brief nochmals an eine bestimmte Person schicken (zum Beispiel Willi Brechtl). Mit der Find-Funktion von Vizawrite (CBM und F) suchen Sie jetzt einfach nach dem Namen. Jetzt brauchen Sie sich nur noch die Nummer zu merken mit der die Adresse von Willi Brechtl beginnt. Wenn Sie diese Zahl im Druckermenü als Start- und Endseite eingeben, wird genau dieser Brief an Herrn Brechtl ausgedruckt und sonst keiner. Es gibt aber noch einen Trick, um aus einer großen Adressenliste nur bestimmte Datensätze auszuwählen. Vermerken Sie dazu im Druckermenü hinter der Frage »Single Sheet« ein »y«. Vizawrite zeigt Ihnen nun (nachdem Sie mit F1 gestartet haben) den Brief auf dem Bildschirm, einschließlich eingefügter Daten so, wie es ihn ausdrucken möchte, gleichzeitig werden Sie aber gefragt, ob Sie drucken (SPACE), abbrechen (STOP), oder den nächsten Datensatz sehen möchten (CLR). Wollen Sie einfach weiterblättern, genügt es, die Taste CLR (mit SHIFT!) zu drücken. Diesen Vorgang können Sie so lange wiederholen, bis Sie alle Datensätze durchgesehen haben.

In der nächsten Ausgabe werden wir die Tips zu Vizawrite fortsetzen. Wir werden dabei beschreiben, wie man mit der Kopf- und Fußspalte umgeht, wie man rationell Texte erstellt und sich eine Formbrief-Datei anlegt. Gleichzeitig lernen Sie einen Drucker anzusteuern.

(aw)

# Wir suchen die Anwendung des Monats

Anwendung des Monats, was ist das? Nun, Sie haben einen Commodore 64 oder einen C 128 und versuchen diesen irgendwie sinnvoll einzusetzen. Unter einer sinnvollen Anwendung versteht die 64'er-Redaktion alles, was beispielsweise Programme im häuslichen Bereich bewirken. Es kann sich dabei um die Berechnung der Benzinkosten für Ihren Wagen handeln, um ein eigenes Textverarbeitungsprogramm gehen, sich um die Verwaltung Ihrer Tiefkühltruhe drehen oder ein ausgeklügeltes Telefon- und Adreßregister sein.

Setzen Sie Ihren C 128/C 64 mehr oder weniger beruflich ein? Auch, oder vor allem, das ist eine sinnvolle Anwendung. Sie führen die Lohn- und Gehaltsabrechnung, Ihre Lagerverwaltung, die Bestellungen auf einem Commodore-Heimcomputer durch? So spezielle Anwendungen wie die Berechnung der Statik von selbstgezimmerten Regalen, von Klimadiagrammen oder Vokabellernprogrammen für den Schulunterricht oder die Zinsberechnung bei Krediten sind ebenfalls Themen, die mehr als konkurrenzfähig sind.

Uns ist die Anwendung des Monats **500 Mark** wert. Schreiben Sie uns, was Sie mit Ihrem Computer machen:
Markt&Technik Verlag Aktiengesellschaft, Redaktion 64'er, Aktion: Anwendung des Monats, Hans-Pinsel-Str. 2, 8013 Haar bei München.

# Einmal im Monat gibt es 2000 Mark für das Listing des Monats

Diese nicht einmalige Gelegenheit sollten Sie nutzen. Wie? Schicken Sie uns Ihr bestes selbst erstelltes Programm. Bei der Art des Programms sind wir nicht wählerisch.

Sie haben ein sehr gutes (Schieß-, Knobel-, Denk-, Action-, Abenteuer-)Spiel geschrieben: einschicken!

Sie verfügen über ein komfortables Disketten-Kopier-(Sortier) Programm mit einigen außergewöhnlichen Leistungsmerkmalen: einschicken!

Sie haben das Basic um einige sinnvolle Befehle erweitert: einschicken!

Sie arbeiten mit einem selbsterstellten Textverarbeitungsprogramm, einer eigenen Tabellenkalkulation, einem semiprofessionellen Datenverwaltungsprogramm: einschicken!

Sie zeichnen und konstruieren mit einem selbsterstellten Programm in hochauflösender Grafik: einschicken!

Wir freuen uns über jeden Beitrag. Aus den besten Listings, die veröffentlicht werden, sucht die 64'er-Redaktion einmal im Monat das »Listing des Monats« aus. Alle Listings, die im 64'er abgedruckt sind, werden mit 100 bis 300 Mark honoriert. Die genaue Vorgehensweise beim Einsenden von Listings ist in dem Beitrag »Wie schicke ich meine Programme ein?« in verschie bes

Schicken Sie Ihr Listing an: Markt&Technik Verlag Aktiengesellschaft, Redaktion 64'er, Superchance: Listing des Monats, Hans-Pinsel-Straße 2, 8013 Haar bei München

# Aktuell – Kurz vorgestellt

## TurboTrans

Eine kleine Sensation steht uns aus dem Hause Roßmöller, den Entwicklern von TurboAccess, bevor. TurboTrans ist eine Erweiterung für das Laufwerk 1541 und den C 64 oder den C 128, die mehr ist, als nur ein Floppy-Beschleuniger. TurboTrans wird im Prinzip eine 256- oder 512-KByte-RAM-Erweiterung für die 1541. In diesem Zusatzspeicher hat dann eine ganze Diskettenseite Platz. Wer TurboTrans nur als einfachen Floppy-Speeder verwenden will, soll mit einem Kommando eine komplette Diskette in etwa zehn Sekunden in dieses Zusatz-RAM übertragen können. Alle Floppy-Zugriffe werden nicht mehr auf die Diskette, sondern nur noch im RAM ausgeführt. Die direkte Folge: Diskettenoperationen wie Laden und Speichern sollen innerhalb des RAM-Speichers über 200mal schneller ausgeführt werden, als von Diskette! Laufwerksbefehle (Scratch, Validate) sollen so schnell abgearbeitet werden, daß der Benutzer keine Ausführungszeit mehr feststellen kann. Ist man mit der Arbeit fertig, kann mit einem einzigen Kommando der Speicherinhalt des RAMs interruptgesteuert auf die Diskette zurückgeschrieben werden. Dadurch bleibt das Laufwerk für weitere Befehle frei, kann also während des Speichervorgangs jederzeit für andere Aufgaben kurzzeitig unterbrochen werden. Wer auf so schnellen Diskettenzugriff verzichtet, wem also zehnmal schnelleres Laden reicht, der kann das Laufwerks-RAM auch als reine RAM-Floppy verwenden, von der auch Sicherheitskopien auf Disketten gemacht werden können. Die RAM-Floppy ist wahlweise als Laufwerk mit der Gerätenummer 9 oder 1 eines simulierten Doppellaufwerks benutzbar.

## Uniprom — der EPROM-Computer

In einem Kurztest hatten wir Gelegenheit, uns einen Eindruck von der Leistungsfähigkeit dieses Gerätes zu verschaffen. Man kann Uniprom (Bild) als einen eigenen Computer bezeichnen. Der 6502-Prozessor hat die Herrschaft über drei 6522-CIA-Bausteine, die den Uniprom universell einsetzbar machen. Ausgehend von dem Gedanken, daß man einen EPROM-Brenner nicht ständig benutzt, hat man sich etwas einfallen lassen. Dazu ist Uniprom mit zwei zusätzlichen Schnittstellen ausgestattet; nämlich einer RS232- und einer Centronics-Schnittstelle. Zum Anschluß an den C 64 wird der durchgeschleifte User-Port verwendet.

### EPROM-Programmierung

Die gängigen EPROM-Typen der 27er-, 25er-Reihe (2708 bis 27513, 2508 bis 2564) einschließlich der CMOS-Typen und EEPROMs von 2815 bis 2817A können mit dem Uniprom programmiert werden. Die EPROMs werden mit mehreren, genau auf den Hersteller der EPROMs abgestimmten Algorithmen programmiert. Es kann dabei zwischen sechs verschiedenen Herstellern gewählt werden. Insgesamt ist die Treibersoftware sehr komfortabel und gestattet alle wichtigen Funktionen. Zusätzlich ist ein sehr leistungsfähiger Maschinensprache-Monitor eingebaut, der auch über eine Hardcopy-Funktion verfügt. Mit einem besonderen Menüpunkt lassen sich auch Basic-Programme bis 8 KByte Länge auf EPROMs brennen. Die Programmierzeit für. ein 8-KByte-EPROM beträgt somit zwischen vier und 30 Sekunden.

### Druckpuffer

Der in Uniprom eingebaute Druckpuffer setzt im Normalfall eine Schnittstelle voraus, die den User-Port verwendet. Da alle C 64-Codes über eine frei definierbare Tabelle in Druck-Codes gewandelt’ werden, kann man bei Uniprom auch von einer universellen Centronics-Schnittstelle sprechen.

### RS232-Schnittstelle

Die RS232-Schnittstelle kann verschiedenen Zwecken dienen. Am häufigsten wird man hier einen Akustikkoppler anschließen. Aber auch der Betrieb eines seriellen Druckers ist möglich. Für andere Computer besteht die Möglichkeit die RS232-Schnittstelle auch als Eingang für den EPROM-Brenner zu verwenden.

Uniprom gibt es in drei verschiedenen Ausbaustufen. Als Fertiggerät kostet er 395 Mark, als reines EPROM-Programmiergerät 295 und als Leerplatine mit Treibersoftware (kein Bausatz) 99 Mark.

(aw)

Info: Roßmöller GmbH, Finkenweg 1, 5309 Meckenheim, Tel: 0 22 25/144 88

# Computer für Behinderte

> Der Computer Club Graz schreibt für den C 64 Programme, die Behinderten das Leben erleichtern. Mit der Symbolsprache Bliss ist für Behinderte sogar ein Schreiben von Briefen möglich.

Jeder, der ein körperliches Gebrechen hat oder geistig behindert ist, paßt nicht in »unsere« gesellschaftliche Norm. Eine Norm, die willkürlich von der Mehrzahl der Menschen bestimmt wird. Von uns allen!

Das Schicksal tausender Mitbürger kann jeden von uns treffen, ein (schuldloser) Unfall, eine heimtückische Krankheit oder ein von Geburt an behindertes Kind. Was in Amerika und Kanada selbstverständlich ist, ist bei uns Zukunftshoffnung einer Minderheit. Sie wollen kein Mitleid, keine milden Gaben, sie wollen Integration — in allen Lebensbereichen. Eine abgerundete Bordsteinkante, ein rollstuhlfähiges (Amts-) Gebäude sind nur kleine Beispiele. Viele könnten vollwertige Arbeitskollegen sein, mit etwas gutem Willen und behindertengerechten Arbeitsplätzen.

Es gibt ein paar Ansätze in dieser Richtung, doch sind elektronische Spezialanfertigungen so teuer, daß schon allein der Preis Planungen zunichte macht. ImJuni 1985 begannen Mitglieder des Computer Club Graz, zusammen mit Lehrerinnen der »Landessonderschule für körperbehinderte und mehrfach behinderte Kinder«, die internationale nonverbale Kommunikationssprache »Bliss« auf Computer umzusetzen. »Bliss« wird nicht verbal gesprochen, sondern bildlich dargestellt und gezeigt. Menschen mit cerebralen Lähmungen, die nicht sprechen können, haben keine Möglichkeit, sich aktiv an Gesprächen zu beteiligen. Kommunikation beschränkt sich auf das Stellen von Fragen wie »Willst Du essen?« oder »Willst Du trinken«, in Zusammenhang mit Zu-stimmungs- beziehungsweise Ablehnungsgesten. Gefühle können überhaupt nicht genauer artikuliert werden. Die_Symbolsprache Bliss wurde vom Österreicher Karl Blitz (Charles Bliss) bereits 1949 entwickelt und seit 1975 vom »Blissymbolics Communication Institute« des »Ontario Crippled Children's Centre«, Kanada, weltweit verbreitet. Die Zeichen sind etwa mit dem Prinzip der chinesischen Schriftbildsymbole zu vergleichen. Sie sind aus einer geringen Anzahl von Einzelelementen zusammengesetzt und so logisch aufgebaut, daß sie leicht im Gedächtnis behalten werden können. Um es auch Symbolunkundigen zu ermöglichen, die Bedeutung zu verstehen, ist unter jedem Begriff die Übersetzung geschrieben. So wird aus dem Zeichen »Mann« und »Schutz« der »Väter«, der »Rock« macht das Zeichen zur »Frau« und weiter zur Mutter. Obwohl die Sprache etwas holprig klingt, werden die Anwender zu einer grammatikalischen Sprache geführt, was durch die syntaxgemäße Anordnung der Symbole auf der Tafel und ihre unterschiedliche Färbung erreicht wird. Zeitwörter werden grün, Hauptwörter rot, Eigenschaftswörter blau dargestellt. Für viele Kinder oder auch Unfallopfer ist das die erste Möglichkeit, sich zu artikulieren. Sei es nun, daß sie mit der Hand oder einem Kopfstab auf das entsprechende Symbol deuten, wobei diese Art der Kommunikation aber immer an die Anwesenheit einer Kontaktperson gebunden ist, die die Zeichen interpretieren muß. Diese Kontaktperson muß auch das Schreiben von Briefen übernehmen. Kommunizieren nun Behinderte, die das Alphabet nur unvollkommen beherrschen, müssen Briefe sogar »gezeichnet« werden. Das Lernen und Anwenden von Symbolen ist wesentlich leichter als das Erlernen eines abstrakten Alphabets.

Theoretisch ist es nur eine Frage des Geldes, eine Zeichensprache auf einen Computer umzusetzen. Aber Geräte mit 10-MByte-Festplat-tenspeicher, Farbe und Grafik verlangen ihren Preis. Das Programmpaket, das entstand, wurde für den Commodore 64 mit zwei »Schaltkontakten«, einem Floppy-Laufwerk, einem Commodore-kompatiblen, grafikfähigen Drucker und einem Farbfernseher geschrieben. Jedes Bildsymbol entspricht einer Matrix von 56 x 32 Punkten und wird auf einem Diskettenblock zusammen mit der Übersetzung codiert abgelegt. Es stehen also maximal 664 Zeichen zur Verfügung. Von den 1500 existierenden Zeichen werden im Durchschnitt nicht mehr als 200 verwendet, da sie einfach zu neuen Begriffen verknüpft werden können. Das Programm, das zum Großteil in Maschinensprache geschrieben ist, wurde von Gerhard Pachler geschrieben. Die Menüsteuerung, der wohl kritischste Punkt der ganzen Entwicklung, entstand nach wochenlangen Versuchen der Sonderschullehrerinnen Elisabeth Amschl und Barbara Pichler. Behinderte haben ja keine Möglichkeit, über eine normale Tastatur einen Computer zu bedienen. So werden über den Joystick-Port 1 (Pin 0 und 1) die Antworten der zwei Berührtaster abgefragt (Bild 1): »Stimmt« oder »Stimmt nicht« beziehungsweise »Das will ich«, »Das will ich nicht«. Die Frage dazu stellt der Computer am Bildschirm durch die Steuerpfeile. Zuerst zeigt der Pfeil auf das Eingabefeld. Wird die Abfrage mit »Ja« beantwortet, wird die erste Symbolfarbe (gelb für personenbezogene Wörter) zur Auswahl gestellt. Kommt als Eingabe »Nein«, werden Hauptwörter angeboten und so weiter. Ist die Farbe der Wortgruppe (Hauptwort, Zeitwort ect.) entsprechend eingestellt, wird die erste Ziffer einer zweistelligen Zahl abgefragt. Jedes Symbol hat neben einer Farbe noch eine zweistellige Ziffer in der linken oberen Ecke (Bild 2). Es wird nur auf Übereinstimmung geprüft. Die Kenntnis des Wertes von »99« ist unerheblich, da einfach das Aussehen der Ziffern verglichen wird. Nach der zweiten Ziffer wird das Symbol in das rechte Überprüfungsfeld von Diskette gelesen und der C 64 fragt nach der Richtigkeit der Wahl. Bei einer positiven Antwort wird es in den Textabschnitt am oberen Rand des Bildschirms geschrieben. Maximal fünf Zeichen in zwei Zeilen werden gleichzeitig am Bildschirm dargestellt, dann wird zeilenweise nach oben verschoben. Das Menü bietet die Editierfunktionen Absatz, Zeichen löschen und Ausdrucken an. Vor dem Ausdruck wird Zeile für Zeile zur Korrektur noch einmal dargestellt. Maximal 800 Zeichen passen auf einen »Brief« (Bild 3). Das klmgt sehr kompliziert, doch haben wir in Graz noch kein behindertes Kind gefunden, das länger als zwei Stunden Einarbeitungszeit benötigt hätte. Voraussetzungen sind: Grundkenntnisse in Bliss, das Erkennen von Farben, die Fähigkeit, Ziffern von 0 bis 9 unterscheiden zu können und Menüfragen mit »Ja« (Kopfstab zum linken Schalter) oder »Nein« (Kopfstab zum rechten Schalter) beantworten zu können.

Ein eigenes Editor-Programm ermöglicht es Eltern und Lehrern, eigene, auf die Erlebniswelt des Behinderten abgestimmte Symbole zu erstellen und zu speichern. Alles, was sich mit 56 x 32 Punkten darstellen läßt, ist machbar. Die Schalter waren lange Zeit der Pferdefuß der Entwicklung. Erstens sollten Sie nicht allzu teuer sein, andererseits darf keine Kraftaufwendung anfallen. Gelöst wurde das Problem mit zwei kammartig ineinandergreifenden Leiterbahnnetzen, die über eine Sicherheitsschaltung mit dem Joystick-Port 1 verbunden sind. Der Vorteil dieser Belegung ist, daß die Tasten SPACE und 1 der Commodore-Tastatur zur Steuerung für Betreuer dienen können. Das Programm, das derzeit bereits in Graz angewendet wird, hat sich auch im Familieneinsatz bewährt. Die Philosophie, die dahinter steckt, ist, Kommunikation in schriftlicher Form zu ermöglichen, ohne vom Betreuer abhängig zu sein. Für das Bliss-Programm gibt es bereits Folgeprogramme. Beispielsweise Bliss-Bilderbücher am Computer, in denen bis zu 18 Bilder je Diskettenseite mit Bliss-Texten versehen sind. Die Bilder werden entweder zuerst digitalisiert (Printtechnik-Digitizer) oder gleich mit »Blazzing-Paddles« gezeichnet.

Einen neuen Weg beschritt Wolfgang Resele, der für Fortgeschrittenere ein Textverarbeitungsprogramm geschrieben hat, das entweder über einen Taster (Intervallschaltung) oder über zwei Tasten (JWäsa/Nein-Abfrage) gesteuert wird und alle wichtigen Funktionen einer einfachen Textverarbeitung hat. Im unteren Teil werden Menü- und Buchstabenauswahl dargestellt, im oberen Teil der Text. Dieser kann in normaler Größe oder umschaltbar doppelt groß dargestellt werden.

Peter Lauppert entwickelte ein Interface und ein Eintasterprogramm, um die Infrastruktur einer Wohnung steuern zu können. So kann ein Querschnittgelähmter mit nur einem Taster das Licht, den Fernseher und Radio (in allen wichtigen Funktionen), die Heizung, die Türen etc. bedienen. Theoretisch kann er auch telefonieren (mit Wählvorgang!), nur bei der praktischen Umsetzung legt sich die österreichische Postbürokratie quer (»Wozu brauchen die denn das ...!«). Das Bliss-Programm wurde übrigens bei einem Wettbewerb des österreichischen Radio-'senders Ö3 prämiert.

Im Juni 1985 hatte der Computer Club Graz auf der TECHNOVA-Messe in Graz drei Tage lang den bestbesuchten Demonstrationsstand. Ausgerüstet ist der Club mit fünf C 64 mit Farbbildschirmen, einem SX-64, zwei Bull Micral 30 und einem HP 150. Wer Näheres wissen will, sich an der Behindertenarbeit beteiligen möchte oder einfach nur Kontakte sucht, schreibt bitte an: Computer Club Graz, Annenstraße 15/I, A-8020Graz, Tel. 0316 391148 (in Österreich)

(Peter Sereinigg/hm)

# Der Gewinner!

> Der Besuch des Hauptgewinners unseres Umfrage-Preisausschreibens war für alle ein großer Tag. Vor allem für Martin Romisch, derfreudestrahlend seinen PC 10 in Empfang nahm.

Hauptbahnhof München, 10:58 Uhr vormittags — ein Redakteur steht wartend am Gleisende. Als großen, blonden jungen Mann, mit Jeans-Hosen und Turnschuhen hatte man ihn angekündigt — Martin Rombusch, den Hauptgewinner unseres 64’er Preisausschreibens aus der Ausgabe 6/85. Pünktlich eine Minute vor elf trifft dann auch der Intercity aus Frankfurt ein und ein Schwarm von Reisenden ergießt sich auf den Bahnsteig. Der Redakteuer bekam Zweifel an den Erfolgsaussichten seiner Mission. Völlig unbegründet, denn Martin, fast zwei Meter groß, ragte wie ein Leuchtturm über die anderen Reisenden heraus. Bei einem Spaziergang durch München erzählte uns Martin von seinem Compu-ter-Hobby. Wie viele unserer Leser fand er über den VC 20 zu seiner Computer-Leidenschaft. Zusammen mit einigen Freunden hat er auch schon so manches Basic-Programm geschrieben. Sein Interesse für die Zukunft liegt aber in der Maschinensprache und natürlich in der Programmierung seines neuen PC 10. In der Redaktion angelangt war es Nachmittag geworden und der Zeitpunkt der Preisverleihung rückte näher. Endlich konnte Martin seinen Preis aus den Händen des Pressesprechers der Firma Commodore, Gerold Hahn, entgegennehmen (Bild).

Herr Hahn beglückwünschte Martin zu seinem Gewinn und sprach die Hoffnung aus, daß Martin den PC 10 in seiner schulischen und beruflichen Weiterbildung gut gebrauchen könnte. Als sich dann herausstellte, daß Martin in Frankfurt gar nicht weit vom Commodore-Firmensitz wohnt, konnte diese Frage schon beinahe positiv beantwortet werden, denn Martin möchte gerne nebenbei etwas bei Commodore arbeiten. Mal sehen, vielleicht wird für Martin aus dieser Nebenbeschäftigung noch ein Hauptberuf — wir wollen es ihm wünschen!

(aw)

# An alle Einsteiger in Maschinensprache!

Haben Sie schon die ersten Schritte in Richtung Maschinensprache hinter sich?

Vielleicht kennen Sie schon, zumindest in etwa, die Befehle des Prozessors. Aber trotz Assembler-Kurse und dem Studium einiger Bücher gibt es noch Probleme und viele Fragen bleiben unbeantwortet.

Wir möchten Ihnen helfen. Schildern Sie uns Ihr Problem. Wo haben Sie Schwierigkeiten? Was verstehen Sie (noch) nicht so ganz? Wir werden Ihre Fragen beantworten, persönlich, oder, wenn von allgemeinem Interesse, im 64’er.

Schreiben Sie unter dem Stichwort »Problem in Maschinensprache« an Markt & Technik Verlag Aktiengesellschaft, Redaktion 64’er, Hans-Pinsel-Str. 2, 8013 Haar bei München

# Vorschau

## Messeneuheiten

Im Oktober fanden gleich zwei Computer-Messen statt: Die CFA, die Commodore Fachausstellung in Frankfurt, und die Systems in München. In einem ausführlichen Bericht werden wir Ihnen die Neuigkeiten für den C 64 von der Systems vorstellen. Lassen Sie sich überraschen, denn die Leistungen, die in einem Heimcomputer stecken, sind noch nicht ausgereizt. Die großen Verkaufszahlen von Heimcomputern lassen Peripherie-Geräte, wie einfache Zusatzplatinen, und Fertiggeräte, wie Drucker, billiger und leistungsfähiger werden.

## Geld sparen bei Monitoren

Haben Sie einen Monitor ohne Lautsprecher? Dann können Sie sich mit unserer Bauanleitung leicht einen kleinen Audioverstärker basteln, mit dem Sie auch die Sound-Qualitäten des C 64 ausnutzen können. Videospiele werden dadurch auch zu einem akustischen Genuß. Eine zweite Anleitung soll den Hobbyelektronikern unter Ihnen helfen, einen Schwarzweiß-Fernseher in einen monochromen Monitor umzubauen. Die Bildqualität, die durch diesen Umbau erreicht werden kann, entspricht durchaus der eines professionellen Monitors der unteren und mittleren Preisklasse. Ein besonderer Vorteil ist, daß sich der so entstandene Monitor auch weiterhin als Fernseher benutzen läßt. Die Umbaukosten betragen etwa 10 Mark.

## Von Basic zu Assembler

Dieser neue Kurs ist für all diejenigen gedacht, die nicht nur in Maschinensprache programmieren, sondern auch die Betriebssystem-Routinen nutzen wollen. Denn neben vielen Programmiertricks, deren Kenntnis eigentlich ein Muß für Maschinenprogrammierer sind, werden alle brauchbaren Basic- und Betriebssystem-Routinen erklärt. Viele Beispiele werden die graue Theorie unterstützen. Wie programmiert man bestimmte Basic-Befehle in Maschinensprache?

## Konkurrenz für den Epson FX-85

Zwei neue Drucker bieten unserer Referenz, dem Epson FX-85, die Stirn: der Riteman II und der Citizen MSP 10. Beide sind Epson-kompatible Drucker in derselben Preisklasse, deren Qualitäten wir in einem ausführlichen Test untersuchen werden.

## Spiele

Weihnachten naht und die Verkaufszahlen von Computerspielen steigen wieder an. Deswegen finden Sie in der nächsten Ausgabe viele Spieletests, wie zum Beispiel die heißersehnten >Winter Games«. Weiterhin haben wir einige neue Simulationen getestet, und die besten Schachprogramme gegeneinander antreten lassen.

## Monitore

Im zweiten Teil unserer Marktübersicht werden wir das Angebot an Farbmonitoren entwirren. Ergänzend haben wir einen Querschnitt der angebotenen Farb- und Monochrom-Monitore getestet. Den Abschluß bildet ein Flußdiagramm, nach dem Sie sich den richtigen Monitor für Ihre Anwendung optimal heraussuchen können.

## 128er-Teil

Die Frage, die vielen C 128-Interessierten unter den Nägeln brennt: Was können die neuen 1570/1571-Floppies? Welche von den beiden sollte man sich zulegen? Ein anderes brandheißesThema: DerC 128Dmit abgesetzter Tastatur und integriertem 1571-Laufwerk kommt! Ein ausführlicher Testbericht zeigt, daß es sich lohnt, den C 128 im »Profi-Look« in seine Kaufüberlegungen miteinzubeziehen. Ein weiteres Thema ist der Test von Wordstar, das häufig als das Textverarbeitungsprogramm schlechthin bezeichnet wird. Wie komfortabel läßt sich mit diesem Programm auf dem C 128 im CP/M-Modus arbeiten?

