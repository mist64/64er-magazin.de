<!DOCTYPE html>
<html lang="de">

<head>
    <title>Elektrotechnisches Zeichnen mit dem VC 20</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="Elmar Baer, ev">
    <meta name="64er.issue" content="3/85">
    <meta name="64er.pages" content="71-75">
    <meta name="64er.head1" content="Grafik">
    <meta name="64er.head2" content="VC 20 + 8 KByte">
    <meta name="64er.toc_category" content="Listings zum Abtippen|Grafik">
    <meta name="64er.index_title" content="Elektrotechnisches Zeichnen mit dem VC 20">
    <meta name="64er.index_category" content="Listings zum Abtippen|Grafik|Elektrotechnik">
    <meta name="64er.id" content="e_zeichnen">
</head>

<body>
    <article>
        <h1>Elektrotechnisches Zeichnen mit dem VC 20</h1>
        <p class="intro">Dieses Programm unterstützt den Hobby-Elektroniker beim Entwurf von Schaltplänen. Gezeichnet wird mit dem Joystick, wobei zusätzlich eine Reihe von vordefinierten, elektrotechnischen und alphanumerischen Symbolen eingefügt werden kann.</p>

        <p>Das Programm läuft auf jedem VC 20 mit mindestens 8 KByte Erweiterung. Zur Speicherung der Schaltpläne benötigt man eine 1541-Floppy; die Hardcopy-Routine ist für den MPS 801-Drucker geschrieben. Vor dem Abtippen muß der Zeiger fürden Basic-Startverändertwerden, um Platz für die hochauflösende Grafik und das Maschinenprogramm zu schaffen. Das geschieht mit</p>

        <code>POKE44,36:POKE36 * 256,0:NEW</code>

        <p>Jetzt wird zunächst der Basic-Lader nach Listing 1 eingetippt und vorsichtshalber sofort abgespeichert. Nach einwandfreiem Lauf des Laders kann anschließend der Basic-Teil (Listing 2) abgetippt werden. Sollte jedoch nach dem Start des Basic-Laders ein Fehler aufgetreten sein, so müssen die DATAs noch einmal überprüft werden.</p>

        <p>Zu beachten ist, daß das Maschinenprogramm vor dem Start gesichert wird, denn vordem Abtippen des Basic-Teilswird das Ladeprogramm mit »NEW« gelöscht. Nachdem nun auch der Basic-Teil vorhanden ist, kann das Programm endlich mit »RUN« gestartet werden.</p>

        <p>Es erscheint auf dem Bildschirm ein Menü (Bild 1). Zunächst muß der Name der zu ladenden Zeichnung eingegeben werden. Wenn eine neue Zeichnung erstellt werden soll, so braucht man an dieser Stelle nur RETURN drücken. Danach wird der Name abgefragt, unter dem die Zeichnung abgespeichert werden soll. Wenn beide Eingaben gemacht wurden, erscheint die Zeichenfläche. Auf ihr kann nun mit dem Joystick gezeichnet werden. Bei gedrücktem Feuerknopf werden bereits gezeichnete Punkte wieder gelöscht. Wird der Bildschirmrand überschritten, springt der Zeichenpunkt immer in die linke obere Ecke.</p>

        <figure>
            <img src="71-1.png" alt="">
            <figcaption>Bild 1. Das Startmenü des Zeichenprogramms</figcaption>
        </figure>

        <p>Die weiteren Funktionen können nur über die Tastatur erreicht werden:</p>

        <p>(1) ← Löschen des Bildschirms (komplett)<br>
            (2) ↑ Directory (ohne Zerstörung des Programms)<br>
            (3) <strong>RETURN</strong> Menü (Grafik geht verloren)<br>
            (4) <strong>CTRL</strong> Schaltet von Elektrozeichen auf alphanumerische Zeichen<br>
            (5) <strong>SHIFT+CTRL</strong> Macht (4) rückgängig<br>
            (6) <strong>C= + CTRL</strong> Löscht einen bestimmten Ausschnitt der Zeichenfläche.</p>

        <p>Im Normalmodus können über die Tasten 1 bis 0 und SHIFT 1 bis 0 elektrotechnische Zeichen abgerufen werden (Bild 2). Nachdem die entsprechende Taste gedrückt ist, wird mit den Funktionstasten die Lage des Zeichens festgelegt:<br>
            F1 = Bauteilanschluß oben<br>
            F3 = Bauteilanschluß links<br>
            F5 = Bauteilanschluß unten<br>
            F7 = Bauteilanschluß rechts</p>

        <figure>
            <img src="71-2.png" alt="">
            <figcaption>Bild 2. Diese Symbole und Zeichen sind vorhanden</figcaption>
        </figure>

        <p>Nach dem Drücken der entsprechenden Funktionstaste erscheint das Bauteil auf dem Bildschirm. Mit Hilfe des Joysticks können nun Verbindungslinien gezogen werden. Wenn in den Alphamodus umgeschaltet wurde, stehen die Buchstaben (A bis Z), die Ziffern (0 bis 9) und drei Sonderzeichen zur Verfügung (Bild 2). Die Sonderzeichen sind µ ([), Ω (]) und + (£). Alle Alphazeichen werden nach dem gleichen Verfahren wie die elektrotechnischen Zeichen auf den Bildschirm gebracht undkönnen daher auch in allen vier Lagen (F1, F3, F5, F7) dargestellt werden. Ein fertiger Schaltplan kann über die Funktionstaste F1 auf dem Drucker in einfacher (anschließend 1 drücken) oder in doppelter (anschließend 2 drücken) Größe ausgegeben werden. Durch Betätigen von F6 wird das Bild unter dem zu Anfang angegebenen Namen abgespeichert. Über F4 kann das Bild jederzeit wieder geladen werden.</p>

        <p>Da das Löschen größerer Teile einer Zeichnung mit Hilfe des Joysticks normalerweise eine Geduldsaufgabe ist, wurde eine Funktion zum einfachen Löschen von Bildteilen vorgesehen. Das funktioniert wie folgt: Als erstes werden die Tasten C= und CTRL gleichzeitig gedrückt. Daraufhin ertönt ein ständiges Tonsignal. Jetzt kann mit dem Joystick der zu löschende Ausschnitt eingekreist werden (Bild 3). Um die »Löschlinie« von den anderen zu unterscheiden, wird sie gestrichelt dargestellt. Durch Drücken von F8 wird der markierte Ausschnitt schließlich gelöscht. Um das Erkennen der verschiedenen Betriebsarten des Programms zu erleichtern, werden unterschiedliche Rahmenfarben zur Kennzeichnung verwendet:</p>

        <table class="plain">
            <tbody>
                <tr>
                    <td>grün:</td>
                    <td>Normal- und Zeichenmodus</td>
                </tr>
                <tr>
                    <td>gelb:</td>
                    <td>Alphamodus</td>
                </tr>
                <tr>
                    <td>rot:</td>
                    <td>Bildschirmausdruck</td>
                </tr>
                <tr>
                    <td>blau:</td>
                    <td>Bild von Disk laden</td>
                </tr>
                <tr>
                    <td>violett:</td>
                    <td>Bild auf Disk speichern</td>
                </tr>
                <tr>
                    <td>schwarz:</td>
                    <td>Disk Error</td>
                </tr>
            </tbody>
        </table>

        <figure>
            <img src="71-3.png" alt="">
            <figcaption>Bild 3. Hardcopy eines vollständigen und beschrifteten Schaltplans</figcaption>
        </figure>

        <p>Aus Geschwindigkeitsgründen wurden die Routinen für die hochauflösende Grafik, die Joystickabfrage, die Bewegungsberechnung und die Druckerausgabe in einem Maschinenprogramm zusammengefaßt (Listing 1). Diese Routinen liegen von $2000 (8192) bis $24FF (9471) im Speicher des VC 20. Wer auf die alphanumerischen Symbole verzichten will, der kann die Zeilen 30000 bis 35470, 7000 bis 7020, 5165, 5166, 420, 410 weglassen und erspart sich damit einige Tipparbeit. Das Programm läuft dann nur mit den elektrotechnischen Symbolen.</p>

        <p>Bild 3 zeigt den Ausdruck eines mit diesem Programm erzeugten Schaltplanes. Bei der praktischen Arbeit werden Sie feststellen, daß es zu Anfang nicht ganz einfach ist, derart komplexe Zeichnungen auf Anhieb korrekt anzufertigen. Der große Vorteil dieses Programms liegt aber in der Änderungsfreundlichkeit und der beliebigen Reproduzierbarkeit der Zeichnungen.</p>

        <address class="author">(Elmar Baer/ev)</address>

        <figure>
            <table>
                <tbody>
                    <tr>
                        <td>Zeile 11 -120</td>
                        <td>Parameter setzen</td>
                    </tr>
                    <tr>
                        <td>Zeile 200 -260</td>
                        <td>Hauptteil (Punkte setzen &amp; löschen; Tastatur abfragen; Überschreiten des Randes registrieren)</td>
                    </tr>
                    <tr>
                        <td>Zeile 400 -490</td>
                        <td>Unterprogramm Abfrage der Funktionen (CLR, Zeichen holen, Directory und so weiter)</td>
                    </tr>
                    <tr>
                        <td>Zeile 500</td>
                        <td>Tonausgabe</td>
                    </tr>
                    <tr>
                        <td>Zeile 800 -870</td>
                        <td>Funktionstastenabfrage (Speichern, Laden, Ausdruck, Richtungsangabe)</td>
                    </tr>
                    <tr>
                        <td>Zeile 900</td>
                        <td>Plotten der Zeichen &amp; Symbole</td>
                    </tr>
                    <tr>
                        <td>Zeile 1000 - 1390</td>
                        <td>Bauteil mit entsprechender Richtung plotten</td>
                    </tr>
                    <tr>
                        <td>Zeile 4000- 4030</td>
                        <td>Maximal &amp; Minimalwerte zum CLR festlegen</td>
                    </tr>
                    <tr>
                        <td>Zeile 4040- 4100</td>
                        <td>Ausschnitt löschen</td>
                    </tr>
                    <tr>
                        <td>Zeile 5000- 5210</td>
                        <td>Menü und Eingabe des Bildnamens</td>
                    </tr>
                    <tr>
                        <td>Zeile 6000- 6010</td>
                        <td>Floppyfehlerabfrage</td>
                    </tr>
                    <tr>
                        <td>Zeile 7000 - 7020</td>
                        <td>Begrenzung der Eingabe (a-], 1-0)</td>
                    </tr>
                    <tr>
                        <td>Zeile 9000- 9170</td>
                        <td>Directory von Disk holen</td>
                    </tr>
                    <tr>
                        <td>Zeile 19999 - 20920</td>
                        <td>Koordinaten für die elektrotechnischen Symbole</td>
                    </tr>
                    <tr>
                        <td>Zeile 30000 - 35470</td>
                        <td>Koordinaten für die alphanumerischen</td>
                    </tr>
                </tbody>
            </table>
            <figcaption>Der Aufbau des Basic-Programms (Listing 2)</figcaption>
        </figure>

        <figure>
            <pre data-filename="e. zeichnen 1" data-name="Elektrotechnisches Zeichnen (Maschinenroutinen)"></pre>
            <figcaption>Listing 1. Maschinenroutinen zu »Elektrotechnisches Zeichnen« als Basic-Lader. Bitte beachten Sie beim Eintippen den Checksummer VC 20 auf Seite 69</figcaption>
        </figure>
        <figure>
            <pre data-filename="e. zeichnen 2" data-name="Elektrotechnisches Zeichnen (Hauptprogramm)"></pre>
            <figcaption>Listing 2. »Elektrotechnisches Zeichnen« (Hauptprogramm)</figcaption>
        </figure>
    </article>
</body>

</html>