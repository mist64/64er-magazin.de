# Beeindruckende Grafik

Zwei Themen interessieren den Anwender eines C 64 besonders: Grafik und Drucker. Die Grafik zum einen, weil der C 64 dafür die besten Voraussetzungen bietet, der Drücker zum anderen, da man seine Kunstwerke nicht nur auf dem vergänglichen Bildschirm betrachten möchte, sondern auch etwas »in Händen« halten will.

Deshalb wurden beide Themen in diesem vierten Sonderheft der 64’er zusammengefaßt. Drucker und Grafik haben auch für sich alleine betrachtet ihre Existenzberechtigung, gemeinsam sind sie jedoch unschlagbar.

Was die Grafik anbelangt, finden Sie hier einige Programme, die das Herz höher schlagen lassen. Ein Schwerpunkt liegt in der dreidimensionalen Darstellung von Körpern auch auf einem Heimcomputer. Zwei Programme verdienen dabei Ihr besonderes Augenmerk: »3D-Supergrafik« und »Räumliche Grafik auf dem C 64«.

Erzeugen Sie räumliche Körper, betrachten sie von allen Seiten, lassen das Licht von verschiedenen Richtungen einfallen und geben das Ganze auf einem Drucker aus.

Um »normale« Grafik auf dem C 64 betreiben zu können, bieten wir Ihnen eine Reihe von Basic- und Grafikerweiterungen. Eine mit reiner Software erzeugte 80-Zeichen-Darstellung ist ebenso Bestandteil wie komfortable Befehlserweiterungen für Drucker.

Hardcopy-Routinen für die verschiedensten Drucker mit Leistungsmerkmalen wie vierfache Größe oder Umsetzung der Farben in Graustufen sind in einer eigenen Rubrik zusammengefaßt.

Wer sich seine eigene Hardcopy-Routine basteln will, aber noch keine Ahnung hat wie das geht, erfährt im Abschnitt Grundlagen, wie man das macht. Außerdem werden die Grundzüge der Spriteprogrammierung und des Fein-Scrolling behandelt.

Alles in allem erhalten Sie wieder rund 28 Listings der Spitzenklasse. Alle Programme wurden mit Prüfsummen versehen, um Ihnen das Abtippen zu erleichtern. Geben Sie daher bitte vorher die beiden Listings »Checksummer 64 V3« und »MSE« in Ihren C 64 ein. Damit können Sie dann alle anderen Listings sicher und bequem abtippen.

(Albert Absmeier)

TODO ASIDE

## Listing-Service

Wer keine Zeit oder keine Lust hat, alle Programme selbst in mühevoller Kleinarbeit abzuschreiben, kann wieder auf den bewährten Leserservice zurückgreifen. Alle Listings befinden sich auf einer Diskette mit der Bestellnummer L6'85S4A. Die Diskette kostet 29,90 Mark.

Bitte verwenden Sie für Ihre Bestellung die beigefügte Postscheck-Zahlkarte zur Überweisung des Rechnungsbetrags. Sie erleichtern uns die Auftragsabwicklung und Sie **sparen** sich die **3,- DM** Versandkosten!

**Bestell-Nr.: L6 85 S4A / DM 29,90**

# Checksummer 64 — Neu

> Der Checksummer 64 V3 überprüft jede Basic-Zeile direkt nach der Eingabe, erkennt Fehleingaben und auch Vertauschungen von Zahlen und Ziffern, und erspart deshalb eine aufwendige Fehlersuche.

Der Checksummer 64 V3 ist ein kleines Maschinenprogramm, das Sie sofort unterrichtet, ob Sie die jeweilige Programmzeile korrekt eingegeben haben.

So gehen Sie vor:
1.	Programm abtippen und speichern.
2.	Starten mit RUN
3.	Nach kurzer Zeit sehen Sie am Bildschirm:<br>CHECKSUMMER 64, CHECKSUMMER AKTIVIERT, AUSSCHALTEN MIT POKE 1,55, ANSCHALTEN MIT POKE 1,53, READY.
4.	Anschalten des Checksummer 64V3 mit POKE 1,53.
5.	Test: Geben Sie in einer freien Zeile ein: »1 REM« und drücken die RETURN-Taste. Am Bildschirm oben links sollten Sie die Prüfsumme < 63 > sehen.
6.	Geben Sie ein Listing aus unserem Heft ein. Nach jeder Zeile wird die Zahl, die im Listing in Klammern < > steht, in den Bildschirm eingeblendet. Stimmen die Zahlen nicht überein, so liegt vermutlich ein Eingabefehler vor. Die Zahl in den Klammern, und auch die Klammern selbst, dürfen beim Abtippen nicht mit eingegeben werden!
7.	Dieser neue Checksummer 64 V3 bemerkt, im Gegensatz zu den bisherigen, auch Vertauschungen von Zahlen und Buchstaben.
8.	Unsere Basic-Listings enthalten keine Steuerzeichen mehr. Diese werden ersetzt durch Klartext und stehen zwischen geschweiften Klammern. Deshalb sind weder die Klammern noch was dazwischen steht, abzutippen, sondern die in Tabelle 1 aufgeführten Tasten zu drücken. Auf Ihrem Bildschirm erhalten Sie dann wieder die entsprechenden Grafikzeichen (siehe Bild 1 und 2).
9.	Alle Grafikzeichen werden ebenfalls ersetzt durch unterstrichene oder überstrichene Großbuchstaben. Unterstrichene Buchstaben bedeuten, daß Sie die SHIFT-Taste und den angegebenen Buchstaben drücken müssen, überstrichene jedoch die Commodore-Taste mit dem Buchstaben. Auch hier erhalten Sie am Bildschirm das entsprechende Grafikzeichen und nicht etwa das im Listing erkennbare Zeichen (siehe Bild 1 und 2).

## Checksummer VC 20 V3

Der Checksummer VC 20 V3 ist im Prinzip genauso aufgebaut wie der Checksummer 64. Da beim VC 20 jedoch nicht die Möglichkeit besteht, das ROM softwaremäßig zu modifizieren, mußte ein anderer Weg als beim Commodore 64 gewählt werden, um die Checksumme zu generieren.

In ihrer Funktionsweise unterscheiden sich der Checksummer VC 20 und der Checksummer 64 nicht. Es gelten folgende Sonderregelungen bei der Benutzung des Checksummer VC 20:

- Da der Basic-Bereich nicht belegt werden soll, ist das Programm im Kassettenpuffer abgelegt.
- Angeschaltet wird der Checksummer VC 20 mit »SYS 955«.
- Abschaltung des Checksummer VC 20 wird mit »SYS 58459« vollzogen.

Achtung: Nehmen Sie keine Kassetten-Operationen vor, wenn der Checksummer VC 20 eingeschaltet ist. Da das Betriebssystem den Kassettenpuffer mit Daten belegt, kann der Checksummer VC 20 überschrieben werden, was zur Folge hat, daß sich der Computer bei aktiviertem Checksummer VC 20 »aufhängt«. Wollen Sie deshalb ein Programm auf (von) Kassette abspeichern (laden), so müssen Sie erst den Checksummer VC 20 abschalten (SYS 58459).

Daraufhin kann der Kassettenpuffer mit Daten überschrieben werden, ohne daß der Computer »aussteigt«.

Als Sicherung wird bei der Initialisierung geprüft, ob das zuletzt angesprochene Peripherie-Gerät der Kassettenrecorder war. Ist das der Fall, so werden die Betriebssystemroutinen LOAD und SAVE für die Benutzung gesperrt. Der Rechner meldet bei Aufruf einer dieser beiden Routinen READY, ohne weitere Aktionen durchzuführen. Diese Sicherung kann man nach der Tipparbeit aufheben, wenn man den Checksummer VC 20 mit SYS 58459 abschaltet. Dadurch wird der Kassettenpuffer für andere Daten freigemacht. Weiterhin wird dann durch gleichzeitiges Drücken der Tasten »Run-Stop & Restore« erreicht, daß die Betriebssystemroutinen LOAD und SAVE wieder eingerichtet werden.

- Bei Benutzung einer Diskettenstation brauchen Sie nicht darauf zu achten, daß bei LOAD beziehungsweise SAVE der Checksummer VC 20 überschrieben wird, da der Kassettenpuffer für die Diskettenstation normalerweise nicht genutzt wird. Deshalb können Sie die beiden Routinen weiterhin normal nutzen, sofern der Rechner bei der Initialisierung des Checksummer VC 20 feststellt, daß das zuletzt angesprochene Peripherie-Gerät nicht der Kassettenrecorder war.
- Bedingt durch den anderen Aufbau des Checksummer VC 20 wird anders als beim Checksummer 64 nach der LOAD-Routine keine Checksumme ausgegeben.
- Wird eine Zeile gelöscht, also eine Zahl zwischen 0 und 65999 eingegeben, und danach Return gedrückt, so wird eine Checksumme ausgegeben, die aber keine Bedeutung hat.

Sie können die Programme auch weiterhin ohne den Checksummer eintippen.

(F. Lonczewski/gk)

**Hinweis: {13 SPACE} bedeutet 13mal die Leertaste drücken**

TODO TABELLE "Die Steuerbefehle im Klartext"

# MSE – Abtippen sicher und leicht gemacht

> Ähnlich wie der »Checksummer« ist auch der MSE ein Hilfsmittel bei der Eingabe von Listings, diesmal jedoch bei reinen Maschinensprache-Programmen.

Im Gegensatz zum »Checksummer« aber ist die Eingabe nicht ohne den MSE möglich. Der MSE verringert die Tipparbeit um ein Drittel und schließt Fehleingaben vollkommen aus. Außerdem können Sie die Werte blind eingeben, ohne andauernd auf den Bildschirm schauen zu müssen. Dies wird durch akustische Meldungen realisiert.

MSE ist ein Maschinenspracheditor, mit dem ein Vertippen ausgeschlossen ist. Eine abgetippte Zeile wird nur angenommen, wenn sie richtig ist. Eine Checksumme am Ende jeder Zeile prüft, ob die richtigen Werte in der richtigen Zeile an der richtigen Stelle stehen. Wenn nicht, ertönt ein Warnsignal, und man beseitigt den Fehler.

War die Zeile korrekt, erklingt ein Gong, und die nächste Zeilennummer wird ausgegeben. Damit ist also auch »blindes« Eintippen möglich; Sie können sich voll auf den Text konzentrieren.

### So arbeitet man mit MSE

Laden und starten Sie MSE. Zuerst wird der Programmname und die Start- und Endadresse erfragt. Diese Angaben entnehmen Sie dem Kopf des jeweiligen abgedruckten Listings. MSE meldet sich dann mit der Zeilennummer der ersten Zeile. Wenn Sie die Zeile richtig eingegeben haben, erscheint die nächste Zeilennummer und so weiter bis zum Ende. Zum Schluß wird das fertige Programm mit »CTRL-S« auf Diskette oder Kassette abgespeichert. Dazu sind keine weiteren Angaben mehr erforderlich. Das Programm kann dann ganz normal wieder geladen und gestartet werden. Wenn Sie nicht alles auf einmal tippen wollen, können Sie jederzeit unterbrechen und den eingetippten Teil mit »CTRL-S« abspeichern. Wollen Sie weiterarbeiten, laden und starten Sie MSE wieder.

Geben Sie auf die Frage nach der Startadresse aber jetzt »CTRL-L« ein, um Ihr Teilprogramm zu laden. Jetzt können Sie mit »CTRL-N« die Adresse eingeben, an der Sie weitertippen müssen. Wenn Sie sich nicht gemerkt haben, wie weit Sie gekommen sind, geben Sie nach dem Laden »CTRL-M« ein.

Auf die Frage nach der Startadresse antworten Sie mit der Anfangsadresse, die links in der Kopfzeile auf dem Bildschirm steht. Nun wird Ihr Programm aufgelistet. Mit »SPACE« wird das Listen fortgesetzt, mit »STOP« abgebrochen. Das Ende Ihres Programmteils erkennen Sie sehr einfach daran, daß nur noch der Wert »AA« in der Zeile steht. Die Adresse dieser Zeile müssen Sie anschließend mit »CTRL-N« eingeben. Das Programm ist nur mit »STOP/RESTORE« zu verlassen. Speichern Sie aber vorher unbedingt immer Ihren Text ab.

### Hinweise zum Abtippen

Vor dem Abtippen oder späteren Wiederladen des MSE-Laders müssen Sie unbedingt folgende Zeile eingeben:
**POKE 43,1: POKE 44,32: POKE 8192,0: NEW**

Starten Sie das Programm mit RUN. Fehlerhafte Zeilen werden angezeigt und müssen korrigiert werden, bis der Lader zum »READY« durchläuft. Jetzt müssen Sie das fertige MSE-Programm abspeichern. Dazu brauchen Sie nur »RETURN« zu drücken, weil die erforderlichen Angaben schon auf dem Bildschirm stehen. (Kassettenbesitzer müssen in Zeile 343 die letzte Zahl in »1« abändern.) Ab jetzt können Sie »MSE V1.0« direkt, also ohne den DATA-Lader, benutzen. MSE V1.0 wird ganz normal mit »,8« geladen (keine POKEs notwendig).

(N. Mann / D. Weineck / gk)

TODO ASIDE

MSE-Befehle:
DEL löscht die letzte Eingabe.
CTRL-S speichert das eingetippte Programm ab.
CTRL-L lädt ein Programm. Start- und Endadresse werden automatisch ermittelt.
CTRL-M listet den Speicherinhalt. Abbruch mit STOP-Taste, weiter mit Leertaste.
CTRL-N erlaubt die Eingabe einer neuen Adresse zum Weitertippen.
CTRL-P gibt ein MSE-Listing auf dem Drucker aus.

# Centronics-Schnittstelle für Seikosha GP-550A

> Mit diesem Software-Interface können Sie auf einem Seikosha GP-550A die Steuer- und Grafikzeichen des C 64 listen und drucken. Der Wert der Schnittstelle wird dabei durch eine Hardcopy-Funktion noch um ein Vielfaches erhöht.

Der Seikosha-Drucker GP-550A besitzt in der Grundversion eine Centronics-Schnittstelle. Zum Anschluß an den C 64 ist deshalb ein Interface notwendig. Unser Leser Pius Nippgen wollte sich aber die hohen Kosten für ein Hardware-Interface sparen. Er dachte sich, was mit einem Epson funktioniert, muß auch mit dem GP-550A gehen. Er nahm sich dazu kurzerhand die Eyssele-Schnittstelle aus Ausgabe 7/84 (auch in diesem Sonderheft) vor und schrieb sie auf den GP-550A um. Diese Schnittstelle besteht aus einem Programmteil und einem Kabel vom User-Port des C 64 an den Centronics-Eingang des Druckers.

Die gesamte Ansteuerung (Sekundär- und Geräteadressen) wurde beibehalten. Die Adressen und die Verbindungsvorschrift des Kabels können Sie bei der Eyssele-Schnittstelle nachschlagen.

Der GP-550A wird mit anderen Befehlssequenzen angesteuert als ein Epson-Drucker. Diese Sequenzen sind nötig, um beispielsweise den Grafikmodus des Druckers einzuschalten. Deshalb war die erste Aufgabe, alle Steuer-Codes der Eyssele-Schnittstelle dem GP-550A entsprechend zu ändern. Aber nicht nur das. Ein Epson-Drucker ordnet, beginnend mit der untersten der acht Nadeln, steigende binäre

Wertigkeiten zu, der GP-550A aber fallende:

TODO TABLE

Epson	Nadel	Gp-550A
128	8	1
64	7	2
32	6	4
16	5	8
8	4	16
4	3	32
2	2	64
1	1	128

Zusätzlich zu diesen Änderungen wurde eine Hardcopy-Funktion (Ausdruck des Grafikspeichers) in die Eyssele-Schnittstelle aufgenommen. Die Hardcopy-Routine wird nach dem Öffnen des Druckerkanals, beispielsweise mit OPEN 19,19 mit SYS 52223 aufgerufen. Der Aufruf kann sowohl innerhalb eines Programms, als auch im Direktmodus erfolgen. Es können alle Grafikseiten gedruckt werden, auch solche im RAM unterhalb des ROMs.

Mit ein paar POKE-Befehlen läßt sich die Hardcopy variieren. Durch POKE 52236,224 wird der Speicherbereich von $E000 bis $FFFF selektiert. 224 ist das Highbyte von $E000 (57344). Erfolgt kein POKE-Befehl, wird vom Programm der normale Grafikbereich von $2000 (8192) bis $3FFF (16383) angenommen. Verschiedene Hardcopies können stufenlos aneinander gedruckt werden, indem man einfach mehrmals nacheinander mit SYS 52223 die Routine aufruft. Vorher muß man nur mit POKE 52236,X den gewünschten Grafikbereich einstellen.

## Flexible Hardcopy

Über die Speicherzelle 52242 läßt sich die Zeilenzahl der Hardcopy einstellen. POKE 52242,25 bedeutet, daß die gesamte Grafikseite (25 Zeilen) ausgedruckt wird.

Einen invertierten Ausdruck erreichen Sie durch POKE 52296,165. Durch POKE 52310,0:POKE 52239,50:POKE 52340,51 wird die Hardcopy-Breite auf die Hälfte reduziert, das Bild also gestaucht.

Initialisiert wird die Schnittstelle mit SYS 51456. Sowohl nach dem Laden als auch nach RUN/STOP-RESTORE.

Geben Sie das Listing mit dem MSE ein. Danach können Sie mit LOAD "name",8,1 oder 1,1 laden. Nach dem Laden sollten Sie noch NEW eingeben, damit die Basic-Vektoren wieder vernünftig gesetzt werden. Ohne NEW erhalten Sie bei der nächsten Anweisung einen »Out of Memory Error«. Wie Sie das Druckerkabel bauen müssen, entnehmen Sie bitte dem Artikel über die Eyssele-Schnittstelle.

(Pius Nippgen/hm)


# 160 Spalten mit dem 1526 oder MPS 802

> Dieses Unterprogramm läßt den Commodore 1526-Drucker 128 oder sogar 160 Zeichen pro Zeile drucken. Der Druck von breiten Tabellen wird zum Vergnügen!

Der 1526 kommt durch dieses Programm an die Leistungen von teuren Druckern mit Kleinschriftmodus nahe heran. Mit 160 Zeichen pro Zeile übertrifft er diese Drucker sogar.

Wie Sie wissen ist der 1526 (MPS 802) nur bedingt grafikfähig. Es lassen sich selbstdefinierte Zeichen ausdrucken. Das macht auch dieses Programm. Es setzt zwei zu druckende Buchstaben in ein selbstdefiniertes Zeichen um, das der Drucker zu Papier bringt. Der 1526 druckt also immer zwei Buchstaben gleichzeitig (160 Zeichen pro Zeile). Im 128-Zeichenmodus ist es etwas komplizierter. Hier werden aus acht Buchstaben fünf Druckerzeichen zusammengesetzt (Bild 1). Das Aussehen der Zeichen wird über die DATA-Werte im Programm bestimmt. Acht DATAs für ein Zeichen. Ein DATA-Wert bestimmt, welche Nadeln einer vertikalen Punktreihe angeschlagen werden.

Die einzelnen Nadeln haben die folgenden Wertigkeiten:

TODO TABLE

oben . 128
. 64
. 32
. 16
. 8
. 4
• 2
unten . 1

Ein Zeichen ist aus acht solchen Punktreihen zusammengesetzt. Die binären Wertigkeiten der einzelnen Punktspalten werden über die CHR$()-Funktion in einem String addiert und an den 1526 gesandt, der das selbstdefinierte Zeichen druckt.

Das folgende kleine Programm druckt einen senkrechten Strich:
10 open5,4,5
20 a$=chr$(255): rem eine Punktreihe
30 for i=1 to 7 : rem Rest des Zeichens
40 a$=a$+chr$(0): rem mit Leerraum
50 next i :rem auffüllen
60 print#5,a$
70 close5

### Tips zur Benutzung

Das eigentliche Programm beginnt ab Zeile 60000. Der Teil vorher dient nur zur Demonstration der 128- und der 160-Zeichendarstellung. Ab Zeile 60000 zerlegt das Programm den zu druckenden String (XX$) in seine Einzelteile, baut daraus die selbstdefinierten Zeichen zusammen und schickt diese an den Drucker.

Wenn Sie das Unterprogramm in einem Basic-Programm verwenden, übergeben Sie einfach die zu druckenden Zeichen in der Variablen XX$ an das Unterprogramm. Das Unterprogramm wird, wie üblich, mit einem GOSUB gestartet. GOSUB 60000 bewirkt eine 160-Zeichendarstellung, GOSUB 60810 eine »Druckbreite« von 128 Zeichen.

Beachten Sie bitte, daß vor dem Aufruf des 128-Zeichen-modus erst einmal der 160-Zeichenmodus aktiviert werden muß. Warum? Nun, beim ersten Durchlauf des Programmes werden alle DATAs in Variablenfelder (V1$() und V2$()) eingelesen. Da der READ-Befehl grundsätzlich mit dem ersten Datum im ganzen Programm beginnt, müssen zur 128-Zeichendarstellung die 160-Zeichen-DATAs überlesen werden. Das geschieht mit einem GOSUB 60000. Danach sind beide Variablenfelder definiert. Sie können dann beliebig den 128- oder 160-Zeichenmodus aufrufen. Würde zuerst der 128-Zeichenmodus aufgerufen, würden die falschen DATAs gelesen und den Variablen zugeordnet. Ein reichlich seltsames Aussehen der Zeichen wäre die Folge.

Eine detaillierte Programmbeschreibung finden Sie in Tabelle 1.

(Martin Riethmüller/hm)

# Etiketten wie gedruckt

> Mit diesem Programm sind Sie in der Lage, professionell beschriftete Etiketten herzustellen. Und das mit allen ASCII-Zeichen des C 64. Das Programm hat einen eigenen Editor zur Eingabe der Beschriftung. Fertige Labels können gespeichert und geladen werden.

Eine saubere Diskettenbeschriftung macht einiges her. Verschieden gestaltete Labels schaffen Ordnung; nicht nur bei Disketten.

Das Programm ist für einen 1526-Drucker konzipiert, ist aber leicht auf andere Drucker anzupassen. Vorausgesetzt, der Drucker kann die C 64-Grafikzeichen drucken. Wenn nicht, läßt sich das Programm trotzdem einsetzen, wenn man sich auf die Verwendung von Buchstaben beschränkt.

Mit einem Commodore 1526-Drucker können Sie Ihre Aufkleber mit sämtlichen alphanumerischen und C 64-eigenen Zeichen verwenden. Auch reverse und doppelt breite Schrift ist möglich. Das Programm ist für die Verwendung von Endlosetiketten der Größe 88,9x35,5 mm gedacht.

## Komfortable Hilfsroutinen

Sehr gut am Programm ist die Tatsache, daß einmal erstellte Aufdrucke gespeichert und wieder geladen werden können. Aber damit sind die Möglichkeiten, die das Programm »Etiketten 64« bietet, noch lange nicht erschöpft. Einige Hilfsfunktionen zur Arbeit mit Disketten runden die »ganze Sache« ab. Man kann sich das Directory zeigen lassen und Befehle an das Diskettenlaufwerk senden. Zum Beispiel "R:" für Rename, W" für Validate oder "I" zum Initialisieren. Das Programm ist weitestgehend absturzsicher (Ausnahme: Device not Present Error). Fehleingaben können leicht wieder rückgängig gemacht werden: Man gelangt ohne Datenverlust immer wieder ins Hauptmenü zurück.

»Etiketten 64« ist vollständig in Basic geschrieben, um die Anpassung auf andere Drucker zu erleichtern. Deshalb wurde auch der Programmteil DRUCKEN an das Programmende gelegt.

Wenn Sie einen Compiler besitzen, sollten Sie das Basic-Programm damit behandeln. Der Editor wird dann so schnell, daß die Eingabegeschwindigkeit nichts mehr zu wünschen übrigläßt. Das soll aber keinesfalls heißen, das Programm würde ohne Compiler nur bedingt funktionieren. »Etiketten 64«ist auch in nicht compilierter Form ein sehr gutes Programm.

Wenn Sie das Programm starten (sicherheitshalber nach dem Eintippen erst speichern), erscheint das Hauptmenü mit dem Eingabefeld.

Die Menüpunkte:

**F1 — Editieren**; der Aufdruck kann erstellt werden.

Während des Editierens behalten die Cursortasten ihre volle Funktion bei. Allerdings nur innerhalb des Eingabefeldes. Ebenso funktionieren auch alle anderen Tasten des C 64 zum Editieren. **HOME** setzt den Cursor in die linke obere Ecke, **CLR** löscht das Eingabefeld, **DEL** löscht das Zeichen unterhalb (!) des Cursors. **INST** fügt einen Leerraum an der Cursorposition ein.

Ein Untermenü am unteren Bildschirmrand erleichtert das Editieren noch mit folgenden Funktionen:

**Revers** schaltet den Reversmodus ein und aus. Der aktuelle Modus wird angezeigt.

**Breit** schaltet die Breitschrift ein und aus. Doppelt große Zeichen werden durch einen vorangestellten Pfeil gekennzeichnet.

**Zeile löschen** — eine Zeile wird ab Cursorposition gelöscht. Alle anderen Zeilen rücken nach. Eine komplette Zeile wird gelöscht, wenn der Cursor am Anfang der jeweiligen Zeile steht.

**Zeile **einfügen — eine Leerzeile wird ab Cursorposition eingefügt. Eine ganze Zeile wird eingefügt, wenn der Cursor, wie bei »Zeile löschen« am Zeilenanfang steht.

**Ende** — Rücksprung ins Hauptmenü.

**F3 — Drucken**; das Eingabefeld wird gedruckt. Zum Druck müssen die Etiketten beim 1526-Drucker linksbündig eingelegt werden. Die obere Kante des Aufklebers soll gerade über dem Farbband sichtbar sein.

**F5 — speichern**; das Eingabefeld wird auf Diskette gespeichert. Wurde der Menüpunkt irrtümlich angewählt, kommt man mit F8 ins Hauptmenü zurück. Vor dem Speichern muß der Bildschirm eingegeben werden. Diskettenfehler werden angezeigt und werden mit RETURN bestätigt. Sollte bereits ein Etikett mit dem eingegebenen Namen auf der Diskette vorhanden sein, so muß man ein Überschreiben mit »J« bestätigen.

**F7 — laden**; ein Etikett-Design wird von Diskette geladen.

**F2 — Directory**; die auf einer Diskette gespeicherten Aufkleberbeschriftungen werden aufgelistet.

**Weiter** holt den nächsten Directory-Eintrag.

**Ende** stoppt die F2-Funktion. Der zuletzt sichtbare Etikettenname wird in die Ladefunktion übernommen.

**F4 — Befehle an das Diskettenlaufwerk.**

Hier können Sie Direktbefehle ans Floppylaufwerk schicken. Mit F8 kann diese Funktion abgebrochen werden.

**F8 — Ende**; beendet einen Programmteil oder das ganze Programm.

## Leichte Druckeranpassung

Tabelle 1 zeigt die Variablenliste des Etikettendruckprogramms. Möchten Sie das Listing auf einen anderen Drucker als dem Commodore 1526 anpassen, müssen die Sekundäradressen und Steuercodes entsprechend geändert werden. Sollte eine Anpassung Ihres Druckers bezüglich der Grafikzeichen und doppelt breiter Schrift nicht möglich sein, können Sie das Programm dennoch verwenden. Denn ohne Grafik- und Steuerzeichen sollte das Programm auf jedem Drucker laufen, wenn der Drucker eine Einstellung des Zeilenabstandes zuläßt.

(Gerhard Zinner/hm)

# Die entscheidende Verbesserung

> Erweitern Sie die Eyssele-Schnittstelle um eine Hardcopy-Funktion. Sie können dann mit einem einfachen Befehl genau das drucken, was am Bildschirm zu sehen ist.

Diese Erweiterung verbessert die Eyssele-Schnittstelle (auf Seite 22) gewaltig. Denn es wird nicht nur eine Text-Hardcopy implementiert, sondern die Eyssele-Schnittstelle kann damit auch einfach auf andere Drucker als den Epson RX/FX-Typen angepaßt werden. Die abgedruckte Version läuft mit einem CP-80 über den Centronics-Eingang. Zur Anpassung auf die Epson-Drucker sind folgende Änderungen nötig:
60 DZ=5
61 D(1)=27:D(2)=42:D(3)=4:D(4)=8:D(5)=0

Zum Anschluß an den C 64 müssen Sie sich nur ein Verbindungskabel vom User-Port zum Centronics-Eingang des Druckers herstellen (lassen). Welche Pins Sie mit welchen verbinden müssen, lesen Sie bitte im vorhergehenden Artikel.

### So ist die Erweiterung zu verwenden

Tippen Sie die Eyssele-Schnittstelle (»Die billigste Centronics-Schnittstelle ...«) mit dem MSE ab und speichern Sie das Maschinenprogramm auf Kassette oder Diskette. Dann laden Sie es mit LOAD "CENTRONICS",8,1 und geben NEW ein, damit die Basis-Vektoren wieder ordentlich gesetzt werden. Dann können Sie diese Erweiterung mit dem Checksummer aus dieser Ausgabe in den C 64 eingeben. Bevor Sie allerdings RUN eintippen, sollten Sie das Basic-Programm sicherheitshalber speichern.

Während des Programmlaufs werden Sie gefragt, ob eine lauffähige Version der erweiterten Schnittstelle als Maschinenprogramm auf Diskette oder Kassette gespeichert werden soll. Reagieren Sie bitte mit D (Diskette), K (Kassette) oder N (nicht speichern). Das erzeugte Programm bekommt den Namen »Druckertreiber«. Es muß mit LOAD " DRUCKER-TREIBER",8,1 oder 1,1 geladen werden. Danach ist wieder das gewohnte NEW erforderlich, die Schnittstelle wird mit SYS 52200 aktiviert.

Bevor Sie den Computer und Drucker einschalten, sollten Sie erst das Käbel anschließen. Denn beim Aufstecken des User-Port-Steckers kann man leicht einen Kurzschluß erzeugen. Im Glücksfall brennt dann die Sicherung im C 64 durch. Meist verabschiedet sich aber einer der beiden CIA-Bausteine und eine nicht billige Reparatur ist die Folge.

Es gelten die Geräte- und Sekundäradressen der Eyssele-Schnittstelle. Lesen Sie diese bitte dort in Tabelle 1 nach.

### Originalgetreue Kopie des Bildschirmes

Nun zur Praxis. Durch Aufruf des Hardcopy-Programmteils wird eine absolut originalgetreue Kopie des normalen Text-Bildschirms gedruckt. Auch reverse Zeichen werden berücksichtigt. Sie können den Abstand zwischen den Druckzeilen wählen. Ohne Abstand, wie am Bildschirm (ideal für Blockgrafiken), oder mit Abstand wie in einem Listing. Die Befehle für die Hardcopy:
SYS 52270,page:druckt mit
SYS 52408,page:ohne Abstand

Bei Page müssen Sie angeben, welche Speicherseite gedruckt werden soll. Der Bildschirmspeicher muß sich nämlich nicht immer zwischen den Adressen 1024 und 2023 (Page=4) befinden. Durch Aufruf der Hardcopy wird die Schnittstelle gleichzeitig auch initialisiert. Sie können sich dann also SYS 52200 (auch SYS 51456 ist möglich) sparen.

### Reverse Zeichen sind kein Problem

Es werden auch reverse Grafikzeichen im Groß-/Klein-schriftmodus gedruckt. Das sind alle Grafikzeichen, die über die CBM-Taste erreichbar sind.

Zeichen mit einem Code von 91 bis 95 werden im Grafikmodus gedruckt, wie andere Sonderzeichen auch. Der Grund dafür ist, daß die C 64-Zeichen in diesem Bereich meist nicht mit den Druckerzeichen in diesem Bereich übereinstimmen.

(Dipl.-Ing. Wilhelm Meierhofer/hm)

# Die billigste Centronics-Schnittstelle für den C 64

> Diese Schnittstelle übertrifft mit ihren Leistungsmerkmalen viele käufliche Hardware-Schnittstellen um ein Vielfaches. Nicht aber im Preis: Nur etwa 15 Mark kostet diese »Selbstbau«-Centronics-Schnittstelle.

Leser des 64’er Magazins, die schon »seit Anfang dabei sind«, erkennen diese Schnittstelle bestimmt wieder. In Ausgabe 7/85 wurde sie unter dem Namen Eyssele-Schnittstelle vorgestellt.

Wie im Fernsehen I Jetzt fangen die auch schon mit Wiederholungen an! Diese Vermutung trifft nur in diesem speziellen Fall zu. Wir haben guten Grund, das Programm zu der Eyssele-Schnittstelle nochmals abzudrucken. Denn viele unserer Lesereinsendungen—auch einige Listings in diesem Sonderheft — beziehen sich auf diese Software-Schnittstelle. Die alten Hasen unter Ihnen mögen uns verzeihen. Aber seit einem Jahr wuchs unsere Leserzahl so gewaltig, daß ein großer Teil die Eyssele-Schnittstelle einfach noch nicht kennt.

Es handelt sich hierbei um ein Maschinenspracheprogramm mit 726 Byte Länge, das den Adreßbereich C900-CBD1 (dezimal: 51456 bis52182) belegt (Listing 1). Damit kann zum Beispiel das DOS 5.1 auf der Demodiskette ohne Probleme zusätzlich geladen werden.

Das Programm ist ohne Einschränkung für alle Epson- kompatiblen Drucker anwendbar, die über einen Bitmustermodus verfügen. Dieser Modus wird für die Ausgabe der Commodore-eigenen Grafikzeichen benötigt. Das Programm besteht aus mehreren Programmteilen, von denen die meisten Erweiterungen bestehender Ein-/Ausgaberoutinen des Betriebssystems sind und bei der Initialisierung in diese eingebunden werden. Dadurch können schon bestehende Basic-Befehle wie OPEN und PRINT # zum Drucken benutzt, und Programme müssen nicht umgeschrieben werden. Zur Ansteuerung verschiedener Druckmodi wurden jedoch zusätzliche Gerätenummern definiert, deren Bedeutungen in Tabelle 1 erklärt sind. Gerätenummer 16 realisiert einen sogenannten Direktmodus, mit dem die internen Commodore-Zeichencodes ohne Wandlung an den Drucker gelangen. Der Direktmodus ist zur Ausgabe von Steuerzeichen oder bei der Verwendung des Druckers als Plotter zur Einzelnadelsteuerung beziehungsweise zur Ausgabe von Bitmustern geeignet. Der Textmodus (Groß- und Kleinschreibung) ist unter Gerätenummer 18 und, weil er wohl am häufigsten bei bereits bestehenden Programmen benutzt wird, unter Gerätenummer 4 ansprechbar. Die Gerätenummer 19 realisiert den Großschrift/Grafik-Modus, wie er beim C64 gleich nach dem Einschalten voreingestellt ist Der wichtige Modus zum Listen von Programmen wurde mit Gerätenummer 17 realisiert. Es läßt sich über die Sekundäradresse, wie in den Musterlistings (Bild 1 bis 3) gezeigt, noch zwischen vier Fällen unterscheiden. Einmal kann ausgewählt werden, ob das Listing, wie vom Bildschirm her gewohnt, mit Großbuchstaben und Grafikzeichen oder im Textmodus mit großen und kleinen Buchstaben gedruckt wird. Zum anderen kann man auswählen, ob die Steuerzeichen wie bei der Bildschirmausgabe als inverse Zeichen oder durch Abkürzungen wie <CRD> (Cursor down) im Klartext gedruckt werden. Durch all diese Möglichkeiten kann der Anwender zum einen auf seinem Drucker Ausgaben erzeugen, wie man sie von Commodore-Druckern her gewohnt ist, zum anderen auch alle Möglichkeiten seines Druckers voll nutzen.

## Commodoreeigene Grafikzeichen

Die Ausgabe von Grafikzeichen erfolgt in der Routine OUTGEN ab Adresse $CAC4. Zu diesem Zweck wird der Zeichengenerator des C 64 ausgelesen. Die Zeichen, die aus einer 8x8- Punktmatrix bestehen, sind dort in je 8 Byte abgelegt. Jedes Byte repräsentiert das Punktmuster einer Zeile der Matrix. Ein Matrixdrucker druckt die Zeichen, indem er sie ebenso als Muster von matrixartig angeordneten Punkten zu Papier bringt. Jedoch gibt er die Punktmatrix nicht wie der Bildschirm zeilenweise, sondern spaltenweise aus. Deshalb wird in OUTGEN die im Zeichengenerator in 8 Zeilenbyte gespeicherte Zeichenmatrix zunächst in 8 Spaltenbyte umorganisiert. Nach Umschalten des Druckers in den sogenannten Bitmustermodus, in dem er jedes ankommende Datenbyte nicht mehr als ASCII-Zeichen, sondern als Musterbyte für eine Matrixspalte interpretiert, gibt OUTGEN die acht geänderten Zeichenbyte an den Drucker aus. Dieser fügt sie wieder zu einem 8x8- Punktmatrixzeichen zusammen. So ist es möglich, auf einem Matrixdrucker exakte Kopien der C 64-Bildschirmzeichen herzustellen, obwohl dieser nicht über den entsprechenden Zeichensatz verfügt.

### So benutzen Sie das Programm

Das Listing sollten Sie mit dem MSE eingeben und auf Diskette oder Kassette speichern, bevor Sie es starten. Bevor Sie es allerdings laden, sollten Sie sich das Verbindungskabel User-Port-Centronics-Buchse zusammenlöten. Dazu ist in Tabelle 2 ein Verbindungsplan angegeben. Das Kabel sollte für eine störungsfreie Funktion nicht länger als ein Meter lang sein und aus einem abgeschirmten, mehradrigen Steuerkabel bestehen, das man in (fast) jedem Elektronik-Bastelgeschäft findet Dort sind auch meist der Centronics-Stecker und der Stecker für den User-Port erhältlich.

Initialisiert wird die geladene Treiberroutine mit SYS 12*4096+9*256 beziehungsweise SYS 51456.

Hierbei wird die Routine in das Betriebssystem eingebunden. Jedoch Vorsicht: Nach einem Break, zum Beispiel durch die Betätigung der Tasten RUN/STOP und RESTORE ausgelöst, muß die Routine erneut initialisiert werden, da die l/O-Vektoren vom Betriebssystem zurückgesetzt wurden.

Die einzelnen Druckmodi spricht man mit den üblichen Basic-befehlen an. Geöffnet wird der Ausgabekanal mit:

OPEN log. Dateinummer, Geräteadr. [.Sekundäradr.]

Die eckigen Klammern kennzeichnen optionale Angaben. So kann dann auf den geöffneten Kanal mit PRINT # log. Dateinummerausgegebenwerden. Ein Programmlisting (Bild 2) wird zum Beispiel erzeugt mit den Befehlen

OPEN17,17 [,Sekundäradr.]:CMD17:

LIST

PRINT#17:CLOSE17

Der PRINT-Befehl vor dem CLOSE ist notwendig, damit der CMD-Modus aufgehoben wird.

## Umstellen auf beliebige Drucker mit Centronice-Schnittstelle

Das Programm wurde für einen Epson-Drucker geschrieben. Unverändert ist es fürjeden anderen Drucker verwendbar, sofern auf die Ausgabe von Commodore-eigenen Grafikzeichen verzichtet wird. Für diese Funktion muß der Drucker vorübergehend in den Bitmustermodus zurückgeschaltet werden, was während einer normalen Textausgabe möglich sein muß. Diese Umschaltung erfolgt im Programm in der Schleife ab Adresse $CB10. Die Anzahl der auszugebenden Steuerzeichen ist unter Adresse $CB18 gespeichert und die Steuerzeichen selbst stehen ab Adresse $CBD2 am Ende des Programms. Für einen Epson-Drucker wird die Folge

ESC*480

ausgegeben, wobei mit4 der Bitmustermodus »CRT-Grafik« ausgewählt wird, 8 das niederwertige Byte und 0 das höherwertige Byte der Anzahl auszugebender Punktmatrixspalten darstellt. Der Epson-Drucker kehrt nach der Ausgabe der spezifizierten Anzahl Musterbytes wieder in den Textmodus zurück.

(H. Eyssele/hm)

# Epson-Support

> Epson-Support läßt die Herzen eines jeden FX/RX-80-Besitzers höher schla-gen. Mit einfachen Befehlen und kurzen Programmen können Sie jetzt komplizierte Grafiken auf Ihrem Drucker erstellen. Und das mit einer Auflösung, die fast siebenmal so hoch ist wie die des C 64, nämlich bis zu 800 mal 552 Punkten.

Epson-Support ist eine Basic-Erweiterung und belegt den Speicherbereich ab $C000 (49152). Der Programmstart erfolgt durch SYS 49152; jetzt stehen einige leistungsfähige Befehle zur Verfügung, um Grafiken zu erstellen und auf den Epson FX/RX-Druckern auszugeben. Die Grafiken liegen im Speicher des Commodore 64 ab $2000 (8192). Wegen des enormen Speicherplatzbedarfs wird auch das RAM unter dem Basic, dem Betriebssystem und unter dem Zeichen-ROM verwendet. Die Bitmap wird über Koordinaten adressiert, dabei liegt der Punkt (0,0) in der linken Ecke oben wie bei den normalen HiRes-Grafiken auf dem Bildschirm. Die X-Werte laufen von 0 bis 799, die Y-Werte von 0 bis 551, so daß 800x 552 = 441600 Dots adressiert werden können. Die Bitmap ist so organisiert, daß der Ausdruck relativ schnell geht.

Die Ausgabe mit dem Drucker läuft über ein User-Port-Kabel, die nötige Treibersoftware ist im Epson-Support schon enthalten. Der Ausdruck erfolgt in der sogenannten doppelten Zeichendichte, also mit 960 Punkten pro Zeile, aus Speichermangel können aber nur 800 Punkte pro Zeile verwendet werden. Listing 1 und Listing 2 sind zwei Beispielprogramme. Als Ergebnis liefern sie Bild 1 und Bild 2. Bevor Sie diese Beispiele probieren, muß das Listing 3 mit dem MSE (siehe Seite 7) eingegeben werden und mit SYS 49152 initialisiert werden.

### Epson-Support Bedienungsanleitung

Das Programm Epson-Support wird absolut geladen mit LOAD"EPSON-SUPPORT",8,1 und durch SYS 49152 gestartet. Dem Basic-Programmierer stehen dann einige neue Befehle zur Verfügung, um die grafischen Fähigkeiten des Epson-Druckers besser auszunutzen, denn im Speicher des C 64 wird eine Grafik-Bitmap von 800 x 552 Punkten verwaltet. Die Auflösung ist also wesentlich höher als bei normalen Bildschirm-Grafiken.

Die einzelnen Befehle werden im folgenden erläutert:

##&CLEAR**

Damit wird die Grafik-Bitmap gelöscht. Dieser Befehl sollte unbedingt am Anfang eines jeden Programms stehen, sonst stehen in der Bitmap wirre Muster.

**&DOTX,Y**

Dieser Befehl setzt einen Punkt an der Position (X,Y). Der X-Wert liegt zwischen 0 (links) und799 (rechts), der Y-Wert zwischen 0(oben) und551 (unten). Für X und Y kann ein beliebiger numerischer Basic-Ausdruck stehen;

**&RESETDOTX,Y**

Dieser Befehl löscht einen Punkt an der Position (X,Y). Der X-Wert liegt zwischen 0 (links) und 799 (rechts), der Y-Wert zwischen 0 (oben) und 551*(unten). Für X und Y kann ein beliebiger numerischer Basic-Ausdruck stehen.

**&INVDOT X,Y**

Dieser Befehl invertiert einen Punkt an der Position (X,Y). Der X-Wert liegt zwischen 0 (links) und 799 (rechts), der Y-Wert zwischen 0 (oben) und 551 (unten). Für X und Y kann ein beliebiger numerischer Basic-Ausdruck stehen.

**&LINE X1,Y1,X2,Y2**

Dieser Befehl zieht eine Linie zwischen den Punkten (X1 ,Y1) und (X2,Y2). Der Wertebereich der Koordinaten ist der gleiche wie bei den Dot-Befehlen. Für die Parameter können beliebige Basic-Ausdrücke stehen.

**&RESETLINE X1,Y1,X2,Y2**

Dieser Befehl löscht eine Linie zwischen den Punkten (X1,Y1) und (X2,Y2). Der Wertbereich der Koordination ist der gleiche wie bei den Dot-Befehlen. Für die Parameter können beliebige Basic-Ausdrücke stehen.

**&INVLINE X1,Y1,X2,Y2**

Dieser Befehl invertiert die Punkte einer Linie zwischen den Punkten (X1,Y1) und (X2,Y2). Der Wertebereich der Koordinaten ist wiederum der gleiche wie bei den Dot-Befehlen. Für die Parameter können beliebige Basic-Ausdrücke stehen.

**&SCANLINE X1,Y1,X2,Y2**

Dieser Befehl setzt eine Linie zwischen den Punkten (X1,Y1) und (X2,Y2). Fallsjedoch auf einen schon gesetzten Punkt auf dem Linienzug getroffen wird, so wird nicht mehr weitergezeichnet. Der Wertebereich der Koordinaten ist der gleiche wie bei den Dot-Befehlen. Für die Parameter können beliebige Basic-Ausdrücke stehen.

**&PRINT**

Durch diesen Befehl wird die HiRes-Bitmap auf dem Drucker ausgegeben. Das Programm ist für Epson FX/RX-80-Drucker ausgelegt. Bei Verwendung eines anderen Druckers müssen einige Stellen im Assemblerlisting (Listing 4) beim &PRINT-Befehl geändert werden. Siehe dazu auch die Kommentare im Listing bei diesem Befehl.

**&EXIT**

Führt zum Verlassen von Epson-Support und bewirkt danach einen Basic-Neustart. Basic-Programme sollten vor-her unbedingt abgespeichert sein, weil sie sonst gelöscht werden.

**&TEXT X,Y,**"blablabla..."

Dieser Befehl setzt den Text, welcher in Anführungszeichen steht, in die Bitmap an der Position (X,Y). Diese Position gibt die Koordinaten der linken unteren Ecke des ersten Buchstabens an.

**&RESETTEXT, X,Y,**"blablabla..."

Dieser Befehl löscht den Text, welcher in Anführungszeichen steht, in die Bitmap an der Position (X,Y). Diese Position gibt die Koordinaten der linken unteren Ecke des ersten Buchstabens an.

**&INVTEXT X,Y,**"blablabla..."

Dieser Befehl invertiert den Text, welcher in Anführungszeichen steht, in die Bitmap an der Position (X,Y). Diese Position gibt die Koordinaten der linken unteren Ecke des ersten Buchstabens an.

(Alexander Del Pino/gk)

# Plotter-Basic

> Plotter-Basic ist eine Basic-Befehls-erweiterung für den Printer/Plotter 1520 von Commodore. Es ermöglicht eine starke Vereinfachung der normalen Plotterbedienungen und erlaubt zusätzlich zum Beispiel räumliche Zeichnungen zu erstellen und beliebig zu drehen.

Außerdem verfügt es über die Möglichkeit Kreise beziehungsweise Ellipsen zu zeichnen, Blockdiagramme zu erstellen oder komfortable Funktionen-Plot-Programme zu schreiben.

Die Befehlserweiterung funktioniert nach dem Prinzip, daß jedes Befehlswort auf einen vorangestellten Punkt untersucht wird, der einen Plotter-Basic-Befehl kennzeichnet, zum Beispiel .RESET.

Nach dem Start mit SYS 12* 4096 initialisiert sich das Programm (Listing 1) und gibt eine Einschaltmeldung aus. Die Initialisierung besteht darin, daß auf eventuelle andere Spracherweiterungen Rücksicht genommen wird und die Zeiger so verändert werden, daß die andere Erweiterung funktionstüchtig bleibt. Voraussetzung dafür ist natürlich, daß der Speicherbereich, den Plotter-Basic benötigt, nicht von fremden Programmen gebraucht wird. Es handelt sich hierbei um den Bereich $C000 bis $C8F5 beziehungsweise 49187 bis 51445.

Die Zeiger, die verändert werden mußten, sind die Vektoren $308/$309 und $300/$301 (Warmstart-Vektor). Normalerweise zeigt der Vektor $308/$309 auf die Routine $A7E4 (Basic-Befehlsadresse holen). Nach der Initialisierung zeigt er nun auf eine Routine, die auf einen vorangestellten Punkt testet und den gegebenenfalls erkannten Befehl ausführt.

Die Veränderung des Warmstartvektors ermöglichte es bei dem Befehl .PROG, der das Programmlisting zum Drucker schickt, die READY-Meldung wieder auf dem Bildschirm auszugeben und den Druckkanal ordnungsgemäß zu schließen. Außerdem besteht durch Veränderung dieses Zeigers die Möglichkeit, Fehlermeldungen zu unterdrücken beziehungsweise zu kontrollieren, ohne den Programmablauf abbrechen zu lassen.

### Befehlsbeschreibung:

Die allgemeine Syntax der Befehle sieht folgendermaßen aus:
a)	.BEFEHLSWORT keine Parameter erforderlich

oder
b)	.BEFEHLSWORT,Parameter1,Parameter2,...,Parameter n

Sieht der Befehl also eine Parameterübergabe vor, so müssen diese vom Befehlswort durch Kommata getrennt werden. Die Parameter können sowohl Variablen als auch Zahlen sein. Ausnahmen sind bei den entsprechenden Beschreibungen erklärt.

Grundsätzlich muß jedem Plotter-Basic-Befehlswort ein Punkt vorangestellt werden. Mehrere Befehle in einer Zeile müssen durch einen Doppelpunkt voneinander getrennt sein.

Beispiel: .BLAU:.SUPER

Eine Besonderheit sei hier noch erwähnt. die ihre Ursache darin hat, daß die neuen Befehlsworte nicht als Tokens codiert wurden. Die neuen Befehle werden im Speicher nämlich Buchstabe für Buchstabe abgelegt. Basic-Befehle dagegen besitzen jeweils einen Ein-Byte-Code (Token), in den sie nach der Eingabe umgewandelt werden. Bevor aber nun der Basic-lnterpreter die einzelnen Tokens erkennt, wird eine Untersuchung auf Plotter-Basic-Befehle durchgeführt. Diese Methode hat ihre Schwachstelle bei einer IF...THEN-Abfrage. Sobald nämlich der Befehl hinter THEN abgearbeitet werden soll, wird nicht mehr zur umgelenkten Interpreterschleife zurückgesprungen, sondern sofort der nächste Befehl als Token interpretiert. Falls dieser Befehl aber aus Plotter-Basic stammt, kommt es zu einem Syntax-Error. Dieses Problem läßt sich jedoch lösen, indem man dem THEN einen Doppelpunkt folgen läßt.

Beispiel: IF A=99 THEN:.TEXT, "neunundneunzig"

Möchte man Plotter-Basic mit einer anderen Spracherweiterung gleichzeitig betreiben, so muß Plotter-Basic als letztes geladen werden. Da unter Umständen manche Befehlsworte mit der anderen Sprache identisch sind, kann es zu Fehlermeldungen kommen, die man dadurch unterdrückt, daß man nur die ersten Buchstaben des Plotter-Basic-Befehls eingibt. Es wird dann der Befehl ausgeführt, der die entsprechenden Anfangsbuchstaben besitzt und als erstes im Speicher steht. Bei den meisten Befehlen reicht es, nur die beiden ersten Buchstaben zur Identifizierung anzugeben.

TODO

Beispiel: .RO = .ROT
.PR,10 = .PROG,10

Die Parameter können also auch schon nach zwei Buchstaben folgen. Die Reihenfolge, in der die Befehlsworte im Speicher abgelegt sind, und ihre Startadressen sind am Ende der Beschreibung aufgeführt. Dadurch ist es möglich, die Befehle über SYS-Aufrufe ausführen zu lassen.

Nun aber zur Erklärung der Befehle im Einzelnen:

### 1.	Farbwahl

TODO

.BLAU
.ROT
.GRÜN
.SCHWARZ
stellt die entsprechende Farbe ein
.FARBE,f wählt die Zeichenfarbe gemäß f.

Der Parameter f entspricht der Farbnummer, wie es in der Plotter-Anleitung erklärt ist.

### 2.	Wahl der Zeichengröße

.KLEIN entspricht 80 Zeichen/Zeile
.MITTEL entspricht 40 Zeichen/Zeile
GROSS entspricht 20 Zeichen/Zeile
.SUPER entspricht 10 Zeichen/Zeile
.SIZE,g wählt die Zeichengröße gemäß g.

(Näheres siehe Plotter-Anleitung.)

### 3.	Ausdruck von ASCII-Daten

.TEXT,a$ druckt den String a$
TEXT erzeugt eine Leerzeile (Carriage Return)
.PROG
.PROG,10
.PROG,40-
.PROG,100-556

Dieser Befehl entspricht dem LIST-Befehl in Basic. Ohne Parameter wird das gesamte Programm gelistet, mit Parametern wird entsprechend eine Zeile oder mehrere Zeilen ausgedruckt.

### 4.	Wahl der Schriftarten

.GG stellt den Groß/Grafik-Modus ein.
.GK stellt den Groß/Klein-Modus ein.

### 5.	Zeichendrehung

.DREH,r stellt für r=0 den Horizontalbetrieb ein und verursacht bei r=1 eine Zeichendrehung um 90 Grad nach rechts.

### 6.	Druckerrückstellung und Speicherlöschung

.RESET setzt den Printer/Plotter zurück und löscht seinen Speicher.

### 7. Wahl der Linienart

.STRICH,I bestimmt die Linienart. Für I gelten die Angaben der Plotteranleitung.

### 8. Zeichnen von X/Y-Daten

TODO

.HOME bewegt zum Startpunkt (0/0).
.INIT legt den relativen Nullpunkt auf die derzeitige X/Y-Position.
.MOVE,x,y bewegt zur Position (x/y) relativ zum absoluten Nullpunkt (0/0).
.DRAW,x,y zeichnet zur Position (x/y) relativ zum absoluten Nullpunkt (0/0).
.RMOVE,x,y bewegt zur Position (x/y) relativ zum relativen Nullpunkt (x0/y0).
.RDRAW,x,y zeichnet zur Position (x/y) relativ zum relativen Nullpunkt (xO/yO).
.LINIE,x1,y1,x2,y2 zeichnet eine Linie von Position (x1/y1) zu Position (x2/y2).
.RAHMEN,x,y,b,h zeichnet einen Rahmen ab dem Eckpunkt (x/y) mit der Breite b und der Höhe h.
.KREIS,x,y,xr,yr zeichnet eine Ellipse um den Mittelpunkt (x/y) mit einem Radius in x-Richtung von xr und einem Radius in y-Richtung von yr. Gilt xr=yr so entsteht ein Kreis.
.RADIUS,x,y,xr,yr,w zeichnet in die entsprechende Ellipse einen Radius, der mit der positiven X-Achse den Winkel w (in Grad!) bildet.

Erklärung zum KREIS- und RADIUS-Befehl:

TODO

### 9. Zeichnen von X/Y/Z-Daten

Die folgenden Befehle dienen dazu, dreidimensionale Grafiken zu erzeugen. Im wesentlichen transformieren sie drei Raumkoordinaten auf zwei Ebenenkoordinaten. Allen Berechnungen liegen diese Formeln zugrunde:
x=f*[xr+yr*cos(w)]+xv
y=f*[zr+yr*sin(w)]+yv

yr und zr sind Raumkoordinaten, w ist der Betrachtungswinkel des Punktes in Grad, und f stellt einen Vergrößerungs- (für f größer als 1) beziehungsweise Verkleinerungsfaktor (für f zwischen 0 und 1) dar.

xv und yv dienen dazu, den Punkt im zweidimensionalen I Koordinatensystem zu verschieben.

Die Achsen des räumlichen Koordinatensystems sind ent-I sprechend der Abbildung bezeichnet:

TODO

.TRANSM,xr,yr,zr,xv,yv,f,w bewegt zur Position(x/y) relativ zum absoluten Nullpunkt, die sich durch Einsetzen aller Parameter in die obige Formel ergibt.

.TRANSD,xr,yr,zr,xv,yv,f,w zeichnet zur entsprechenden Position (x/y) relativ zum absoluten Nullpunkt.

.TRANSL,xr1,yr1,zr1,xv,yv,f,w,xr2,yr2,zr2 zieht eine Linie von (x1/y1) nach (x2/y2) entsprechend den Parametern.

Möchte man also beispielsweise das räumliche Koordinatensystem zeichnen, so wählt man als Ursprung der drei Achsen den Nullpunkt, also xr1 =yr1 =zr1=0. Je nachdem, welche Achse gezeichnet werden soll, setzt man für die xr-Achse xr2=1, yr2=0, zr2=0, für die yr-Achse dann xr2=0, yr2 = 1, zr2=0 und für die zr-Achse xr2=0, yr2=0 und zr2 = 1. Um das Bild in die Mitte des Papiers zu bringen, setzt man die x-Verschiebung xv=240 und die y-Verschiebung yv=0. Da als Länge für die Achsen »eins« zu klein ist, könnte man den Faktor f=50 wählen. Der Betrachtungswinkel sei w=45 (Grad). Somit ergibt sich für die Zeichnung des Koordinatensystems:

10 .TRANSL,0,0,0,240,0,50,45,1,0,0:REM xr-Achse

20 .TRANSL,0,0,0,240,0,50,45,0,1,0:REM yr-Achse

30 .TRANSL,0,0,0,240,0,50,45,0,0,1:REM zr-Achse

### 10.	Drehung von x/y/z-Koordinaten

Um einen Körper von allen Seiten darstellen zu können, müssen die Raumkoordinaten gedreht werden. Dabei ist es natürlich möglich, um jede beliebige Raumachse und um jeden beliebigen Winkel zu drehen. Macht man sich eine solche Drehung am Koordinatensystem deutlich, so bemerkt man, daß sich jeweils die Komponente nicht verändert, um deren Achse gedreht werden soll. Bei einer Drehung um die xr-Achse verändern sich nur die yr- und die zr-Komponente, bei einer Drehung um die yr-Achse verändern sich nur xrund zr etc.

Der Befehl .TURN,k1,k2,w benötigt daher außer der Angabe des Drehwinkels w in Grad nur die zwei Komponenten k1 und k2. Hierbei muß es sich um Variablen handeln! Vor dem Befehlsaufruf befinden sich in den Variablen die räumlichen Koordinaten eines Punktes und nach der Befehlsausführung stehen in den Variablen die Koordinaten des neuen (gedrehten) Punktes.

Angenommen, in den Variablen xr,yr und zr befinden sich die Koordinaten eines Punktes, so könnte man ihn folgendermaßen um den Winkel w drehen:

TODO

Drehung um die xr-Achse: .TURN,yr,zr,w
Drehung um die yr-Achse: .TURN,xr,zr,w
Drehung um die zr-Achse: .TURN,xr,yr,w

Anhand der Formeln zur Drehung läßt sich erkennen, warum der Befehl für alle drei Drehrichtungen richtige Ergebnisse liefert:

TODO

Drehung um die xr-Achse:
xr'=xr yr'=yr*cos(w)+zr*sin(w) zr'=-yr*sin(w)+zr*cos(w)
Drehung um die yr-Achse:
yr'=yr xr'=xr*cos(w)+zr*sin(w) zr'=-xr*sin(w)+zr*cos(w)
Drehung um die zr-Achse:
zr'=zr xr'=xr*cos(w)+yr*sin(w) yr'=-xr*sin(w)+yr*cos(w)

Ein kleines Beispielprogramm (Listing 2) demonstriert die Möglichkeiten dieses und des TRANSL-Befehls anhand der Drehung eines Körpers.

### 11.	Fehlerbehandlung

Um zum Beispiel ein Programm zu schreiben, das jede beliebige Funktion plottet, ist es erforderlich, mathematische Fehlermeldungen zu unterdrücken. Sobald nämlich eine Funktion Definitionslücken besitzt, steigen die meisten Programme mit einem »division by zero« oder ähnlichem aus.

Der Befehl .ERRJUMP,ze setzt die Programmausführung in der Zeile ze fort, sobald ein arithmetischer Fehler aufgetreten ist. Es handelt sich hierbei um die Fehler division by zero, illegal quantity und overflow. Sollte innerhalb einer FOR-NEXT-Schleife oder in einem Unterprogramm ein Fehler auftreten, so kann nicht wieder zu NEXT beziehungsweise RETURN gesprungen werden, da nun die notwendige Rücksprungadresse nicht mehr gefunden wird. FOR-NEXT-Schleifen und Unterprogrammsprünge lassen sich in solchen Fällen jedoch auch mit GOTO programmieren.

Der Befehl ist nur während des Programmablaufs wirksam, um zu verhindern, daß bei Fehlern im Direkt-Modus das Programm neu gestartet wird.

Sollen grundsätzlich alle Fehler unterdrückt werden, so muß hinter der Zeilennummer noch eine Sekundärvariable folgen:

.ERRJUMP,ze,s setzt die Programmausführung in der Zeile ze fort, sobald irgendein Fehler auftritt. Die Variable s ist nur eine Scheinvariable, das heißt sie wird weder verändert noch spielt ihr Typ eine Rolle. Am einfachsten ist es hier, eine Zahl anzugeben.

.ERRNUM,x schreibt in die Variable x die Fehlernummer des zuletzt aufgetretenen Fehlers. Bei x muß es sich um eine Variable handeln! Die Fehlernummer ist nur einmal lesbar und wird danach wieder auf Null gesetzt, bis der nächste Fehler auftritt. Innerhalb der Variablen bleibt die Fehlernummer natürlich erhalten. Die Fehlermeldungen besitzen folgende Nummern:

TODO

1	too many files
3	file not open
5	device not present
7	missing filename
9	illegal dev. number
11 syntax
13 out of data
15 overflow
17 undef’d statement
19 redim’d array
21 illegal direct error
23 string too long
25 form, too complex
27 undef’d function
29 load
2	file open
4	file not found
6	not input file
8 missing filename
10 nextwithoutfor
12 return without gosub
14 illegal quantity
16 outofmemory
18 bad subscript
20 division by zero
22 type mismatch
24 file data
26 can’t continue
28 verify

.ERROUT schaltet innerhalb des Programms die Fehlerunterdrückung wieder aus. Dieser Befehl wird zum Beispiel dann nötig, wenn äm Ende des Programms ein Listing ausgedruckt werden soll, da beide Befehle den Warmstartvektor ändern. Grundsätzlich wird die Fehlerunterdrückung mit Ende des Programms abgeschaltet.

### 12.	Ausschalten von Plotter-Basic

.AUS setzt alle Zeiger wieder so, wie sie vor dem Start von Plotter-Basic standen und schaltet somit die Spracherweite-rungab. Erneutes Einschalten geschiehtmitSYS 12*4096.

### Die Befehlsadressen im Speicher

Um sämtliche Zeiger unverändert zu lassen, kann man Plotter-Basic auch ohne Startaufruf benutzen. Nach dem Laden lassen sich alle Befehle über SYS-Aufrufe ausführen. Zum Beispiel: .KREIS,240,0,80,50 entspricht SYS50184, 240,0,80,50

Parameter werden wie gewöhnlich durch das Komma getrennt.

Die Reihenfolge entspricht der Reihenfolge, in der die Befehlsworte erkannt werden. .KREIS wird also schneller erkannt als .FARBE.

TODO

INIT	= 49916	RADIUS	= 50644
SIZE	= 49783	ERROUT	= 51290
MOVE	= 49926	TRANSM	= 50729
DREH	= 49833	ERRNUM	= 51379
DRAW	= 49974	TRANSD	= 50751
STRICH	= 49888	AUS	= 49157
RMOVE	=49987 	TRANSL 	=	50764 
GG	=	49807	TURN	=	51091
RDRAW	=	50000	BLAU	=	49695
GK	=	49815	ROT	=	49703
HOME	=	49906	GRUEN	=	49711
PROG	—	50413	SCHWARZ	=	49719
RAHMEN	=	50471	FARBE	=	49727
TEXT	=	49851	KLEIN	=	49751
LINIE	=	50013	MITTEL	=	49759
RESET	—	49823	GROSS	=	49767
KREIS	=	50184	SUPER	=	49775
ERRJUMP	=	51233

(Stephan Schäfer/gk)

# 29 Druckerbefehle für Epson

> Oft ist es recht mühsam, die vielen Fähigkeiten der Epson-Drucker auszunutzen. »Epson 29« macht das ständige Nachschlagen im Handbuch überflüssig.

Diese kurze, aber doch recht wirkungsvolle Erweiterung ermöglicht es auf einfachste Weise, Steuercodes an einen Epson-Drucker zu senden. Es belegt den freien RAM-Bereich zwischen den Speicherzellen 5000Q und 50503, und arbeitet auch mit dem Centronics-Interface, das Sie in dieser Äusgabe finden, zusammen. Doch hier zuerst eine alphabetisch geordnete Übersicht:

TODO TABELLE

←A — Adresse: ←A, gefolgt von einer Zahl, legt fest, über welchen Kanal die folgenden Kommandos zum Drucker gesendet werden sollen. Beispiel: ←A4, die nachfolgenden Befehle werden über Kanal 4 zum Drucker geschickt. Wird dieser Befehl nicht gesendet, geht der Computer davon aus, daß Sie Kanal 1 benutzen.
←B — Breitschrift an
←D — Doppeldruck an
←E — Eliteschrift an
←F — Fettdruck an
←G — Glocke, sendet Bell-Code an Drucker, um zum Bei* spiel den Druckbeginn akustisch anzukündigen.
←I — Indexschrift an
←K — Kursivschrift an
←L — Linken Rand setzen. Beispiel: — L15 setzt linken Rand auf die 15. Druckposition.
←N — unidirektionaler Ausdruck (verbessert Qualität des
Schriftbildes).
←O — Potenzieren an
←P — Pica an
←R — Rechten Rand setzen (parallel zu «- L)
←S — Schmalschrift an
←U — Unterstreichen an
←6 — Zeilenabstand auf 1/6 Zoll
←7 -Zeilenabstand auf 1/72 Zoll
←8 — Zeilenabstand auf 1/8 Zoll
←2 — Zeilenabstand auf n/216 Zoll. Beispiel: ←2 159 setzt Zeilenabstand auf 159/216 Zoll.
←@ — Drucker-Reset
←0B — Breitschrift aus
←0D — Doppeldruck aus
←0F — Fettdruck aus
←0I — Indizieren aus
←0K — Kursivschrift aus
←0N — unidirektionaler Druck aus
←0O — Potenzieren aus
←0S — Schmalschrift aus
←0U — Unterstreichmodus aus

Als Kennzeichen für einen neuen Befehl steht ein Pfeil nach links (Taste in der linken oberen Ecke der Tastatur). Anstelle dieses Pfeiles kann man jedoch auch ein anderes Zeichen verwenden (zum Beispiel»!«), indem man in die Speicherzelle 50020 den ASCII-Wert dieses Zeichens POKEt. Falls Sie einen nicht definierten Wert senden, dies wäre zum Beispiel ←*, gibt der Computer die Fehlermeldung »PRINTER COMMAND ERROR« aus.

### Hier noch zwei weitere Vorteile des Programms:

1.	Die Befehle sind bis zu 6mal schneller. Um auf Breitschrift umzuschalten, benötigt der C 64 mittels CHR$-Codes zirka 0,013 Sekunden, mit dem Befehl — B sind es nur noch 0,002 Sekunden.
. 2. Der Basic-Speicherplatzbedarf ist wesentlich geringer! So benötigt das Demoprogramm 1 (Listing 2) im Vergleich zu dem in Standard-Basic geschriebenen Demoprogramm 2 (Listing 3) 66 Bytes weniger, dies sind nur 57% des benötigten Speicherplatzes von Listing 2.

Ich empfehle Ihnen zum besseren Verständnis, sich einmal die Listings der Demoprogramme anzuschauen, um den Umgang mit den neuen Befehlen kennenzulernen.

### Achtung:

Wenn einem Druckerbefehl kein PRINT#-Befehl folgt 1 (eigentlich unlogisch, denn warum sollte man einen Befehl an den Druckersenden, wenn man gar nichts ausdrucken will?), . befindet man sich im CMD-Modus. Angenommen, Sie geben ←F und danach LIST ein, erscheint das Listing auf dem Drucker statt auf dem Bildschirm.

Wollen Sie einen dieser neuen Befehle innerhalb einer IF...THEN-Schleife verwenden, so müssen Sie nach THEN einen Doppelpunkt setzen (Beispiel: IF A=1THEN>S)

Haben Sie den Basic-Lader eingetippt, können Sie das Programm als reinen Maschinencode auf Diskette oder Kassette abspeichern; geben Sie dazu folgendes im Direktmodus ein:

POKE 43,80

POKE 44,195

POKE 45,22

POKE 46,197

SAVE "DRUCKERBEF.MC",8,1 (für Diskette)

oder

SAVE "DRUCKERBEF.MC",1,1 (für Kassette)

(Olaf Amblank/gk)

# Mit dem Drucker sprechen

> Mit sinnvollen Kurzbefehlen erleichtert PROS V2.1 nicht nur die Arbeit mit dem Commodore 64 und dem Drucker MPS 802 ganz erheblich, es hält auch noch ein paar andere, ganz besondere Leckerbissen bereit. Und dabei arbeitet es sogar mit dem DOS V5.1 zusammen.

OPEN 1,4,7:CMD 1:LIST und dann PRINT#1:CLOSE 1, das ist es, was der gequälte Druckerbesitzer eingeben muß, bloß um ein paar eingegebene Basic-Programmzeilen schwarz auf weiß in den Händen halten zu können. Und da diese Eingabe nur im Direktmodus ohne weiteres möglich ist, fällt die endlose Tipperei jedesmal von neuem an.

Das hat jetzt ein Ende! Das PROS V2.1 nämlich bietet MPS802-Benutzern für solch umfangreiche Befehlssequenzen sehr einfache Abkürzungen an. Aber auch Besitzer anderer Drucker, besonders des MPS 801, sollten ruhig weiterlesen. Denn wenn das Programm Anklang findet, ist eine baldige Entwicklung eines Zwillings für diese Drucker nicht auszuschließen.

Das Format der PROS-Befehle dürfte Floppy-Besitzern in ähnlicher Form bereits vom DOSV5.1 auf der Demo-Diskette bekannt sein. Sie alle bestehen lediglich aus dem Pfund-Symbol (oben rechts, die dritte Taste) und einem weiteren Zeichen. Das oben genannte Listen sähe mit dem PROS zum Beispiel ganz einfach so aus:

£+ (Pfund) und (Plus)

um die Ausgabe auf den Drucker zu lenken,

LIST

um das Programm zu listen und

£— (Pfund) und (Minus)

um die Ausgabe wieder auf den Bildschirm zu holen.

Dem LIST-Befehl können Sie selbstverständlich auch Zeilenangaben beifügen, ganz wie Sie es bisher gewohnt waren.

Außer der normalen Ausgabeumleitung besteht noch die Möglichkeit, den Ausdruck zu formatieren. In der vorliegenden Version ist ein 40 Zeichen breites Ausgabefeld in Papiermitte eingestellt. Dieses Format ist zum Beispiel beim Aus-druckvon Disk-Directories und disassemblierten Maschinenprogrammen sehr nützlich. Wie Sie die entsprechenden Parameter im PROS bereits bei der Eingabe ändern können, lesen Sie bitte weiter hinten.

Die Ausgabebefehle sind natürlich längst noch nicht alles, was das PROS zu bieten hat. Die Befehlsübersicht informiert Sie über die Einsatzmöglichkeiten der restlichen zehn PROS-Befehle.

Doch ich sprach eingangs von einigen besonderen Leckerbissen. Ich habe nämlich bei der Erstellung des Programms die Gelegenheit beim Schopfe ergriffen, noch einige andere Unbequemlichkeiten aus dem Weg zu räumen. So stört es zum Beispiel oft genug, daß beim Commodore 64 auf den Einbau einer Escape-Tasteverzichtetwurde. Im PROS wird deshalb die Commodore-Taste zusätzlich mit dieser Funktion belegt, ohne dadurch in sonstigen Funktionen eingeschränkt zu werden.

Außerdem bekamen noch die beiden Funktionstasten F1 und F3 einen Auftrag zugewiesen: die Stop-Funktion. Wenn Sie in Zukunft einen ganz bestimmten Teil Ihres Basic-Programms suchen,sind Sie nicht mehr auf die CTRL-Taste angewiesen, um denLIST-Befehl zu verlangsamen. Sie brauchen nur F1 zu drücken und schon »schläft« der Computer. Erwecken Sie ihn dann mit der F3-Taste zu neuem Leben, so setzt er seine Arbeit genau dort fort, wo er sie zuvor unterbrochen hat.

Die Funktion dieser beiden Routinen beruht auf dem »Verbiegen« des Interrupt-Vektors in der Zeropage (Adresse 788/789). Bei Betätigung der Tasten RUN/STOP-RESTORE wird dieser Vektor jedoch automatisch wieder mit seinen Ursprungswerten versehen, das heißt die beiden Funktionen sind nicht mehr ohne weiteres verfügbar. Um Ihnen nun einen Neuaufruf des PROS (SYS 51555) zu ersparen, kann mit Hilfe von [Pfund] [Pfund] [Return] der entsprechende Programmteil neu aktiviert werden.

Ebenfalls neu aktiviert werden dabei der Kleinschriftmodus und die Repeat-Funktion für alle Tasten. Wollen Sie auf eine der beschriebenen Funktionen von vornherein verzichten, finden Sie auch hier die notwendigen Angaben zur Änderung weiter hinten.

Das Funktionsprinzip der eigentlichen PROS-Befehle basiert auf einer Veränderung des Vektors, der auf den Anfang jener Schleife zeigt, die einen Basic-Befehl holt und ausführt (Speicherstellen 776/777). Wann immer der Computer eine Basic-Zeile liest, im Programm oder im Direktmodus nach Drücken der Return-Taste, wird er nun zunächst prüfen, ob das jeweils gelesene Zeichen ein Pfundzeichen ist. Ist es das nicht, so wird der Prüfvorgang in der normalen Basic-Befehlstabelle fortgesetzt und gegebenenfalls der entsprechende Basic-Befehl ausgeführt. War das Zeichen hingegen tatsächlich ein »Pfund«, so wird jetzt in die PROS-Befehlstabelle gesprungen, um anhand des zweiten Zeichens den richtigen PROS-Befehl herauszusuchen.

Die Arbeitsgeschwindigkeit des Computers wird also kaum verringert, denn zunächst wird ja nur auf ein Zeichen mehr als üblich geprüft. Mit den zusätzlichen Befehlscodes wird erst verglichen, wenn feststeht, daß das PRÖS tatsächlich angesprochen werden soll.

Für die Abfragetechnik diente mir übrigens der Artikel »Maschinenprogramme auf Tastendruck« von P. Fleig in der 64’er, Ausgabe 12/84, Seite 80, als nützliche Vorlage.

Kommen wir nun zur Speicherbelegung des PROS V2.1. Es belegt die 648 Bytes von $C963 (dez. 51555) bis einschließlich $CBEA (dez. 52202). Daß ich genau diesen Speicherplatz gewählt habe, hat mehrere Gründe:

Erstens läßt das PROS so mehr als dreiviertel des Maschinenspeichers ($C000 - $CFFF) zusammenhängend frei.

Zweitens ist die Startadresse (51555) beimSYS-Aufruf denkbar leicht und entsprechend schnell einzutippen.

Und drittens beträgt der Abstand zum DOS 5.1, das sich ja bei Floppy-Benutzern großer Beliebtheit erfreut, nur genau 22 Bytes. So lassen sich das PROS, das DOS und sogar noch ein weiteres Programm, zum Beispiel das (verschobene) UNNEW (siehe D. Kossmann: Die Ebenen des Absturzes, 64’er, Ausgabe 11/84, Seite 92), mit Hilfe eines Maschinensprachemonitors hintereinander auf Diskette abspeichern und später auch zusammen wieder laden, ohne viel Speicherplatz zu verschwenden.

Um ein solches Kompaktprogramm noch besser nutzen zu können, enthält das PROS noch ein weiteres Extra: Die Speicherstellen $C96D-C96F (MSE-Listing: zweite Zeile, dritte bis fünfte Zahl) enthalten die Werte 4C, 70 und C9. Sie bewirken lediglich einen Sprung in die nächste Speicherstelle. Und doch liegt genau darin der Sinn dieser drei Bytes: Wenn Sie sie nämlich durch die Werte 20, 00 und CC ersetzen, wird beim Aufruf des PROS mit SYS 51555 das DOS (das Sie ja gleich mitgeladen haben) von hier aus mit aufgerufen. Sie sparen sich durch diese kleine Änderung also jedesmal den Aufruf des DOS.

Das PROS besteht aus zwei Teilen. Im ersten Abschnitt, das ist der, welcher beim Aufruf angesprungen wird, werden die erwähnten Vektoren in der notwendigen Weise geändert. Die ebenfalls bereits angesprochenen Interrupt-Routinen werden aktiviert und das Titelbild wird auf den Bildschirm gebracht.

## Automatische Grundeinstellung

Auch mit diesem Titelbild hat es eine besondere Bewandtnis: Neben dem Namen des Programmierers, ich spreche von mir, enthält es eine Zeile, in der sichbereits einige PROS-Befehle, durch Doppelpunkte voneinandergetrennt, befinden. Wenn sich der Computer nun nach dem Aufruf mit »READY« wieder meldet, befindet sich der Cursor genau in dieser Zeile. Sie brauchen also nur noch »RETURN« zu drücken und schon haben Sie ein paar notwendige Grundeinstellungen für den Drucker getroffen.

Diese Grundbefehle sind im einzelnen folgende:

1.	Drucker in Grundstellung setzen
2.	Fehlermeldungen des Druckers ermöglichen
3.	zu druckende Zeilen pro Seite festlegen und
4.	Seitenaufteilung anschalten.

Auch hier erhalten Sie weiter unten die notwendigen Informationen, die für eine Änderung beziehungsweise eine Ergänzung der Grundeinstellung notwendig sind.

Der zweite Abschnitt des PROS V2.1 beginnt bei $C974 (dez. 51572). Hier wird zunächst der Befehl geprüft und dann zu der entsprechenden Unterroutine gesprungen.

Das Programmlisting wurde mit Hilfe des MSE erstellt und wird mit ihm eingegeben.

Die Änderungen können mit einem Maschinensprachemonitor, zum Beispiel dem SMON, eingegeben werden.

## Bedienungsanleitung

### 1.	Aufruf

Das PROS V2.1 muß absolut geladen werden. Danach genügt die folgende Eingabe zum Aufruf:

NEW [Return]

SYS 51555 [Return]

Danach können die Grundeinstellungen durch nochmaliges Drücken der Return-Taste aktiviert werden.

### 2.	Sonderfunktionen

Durch die Inbetriebnahme des PROS werden gleichzeitig einige besondere Funktionen eingeschaltet. Diese Funktionen werden durch die Tastenkombination RUN/STOP-RESTORE desaktiviert, können aber durch [Pfund] [Pfund] [Return] wieder aufgerufen werden.

Die Funktionen sind im einzelnen folgende:

### Stop-Funktion

Ein Druck auf die Funktionstaste F1 läßt den Computer augenblicklich seine derzeitige Arbeit unterbrechen.

Durch Betätigen der Taste F3 wird der Arbeitsvorgang an der gleichen Stelle fortgesetzt, an der er unterbrochen wurde.

### Escape-Taste

Die Commodore-Taste bekommt zusätzlich die Funktion einer Escape-Taste zugewiesen. Wird sie gedrückt, so verläßt der Computer den Quote-Modus (Hochkomma-Modus), das heißt, innerhalb von Anführungszeichen werden bei Benutzung der Cursortasten nicht mehr die Steuerzeichen ausgegeben.

### Repeat-Funktion

Alle Tasten werden mitder Repeat-Funktion ausgestattet. Das einer Taste entsprechende Zeichen wird solange immer wieder ausgegeben, wie diese Taste gedrückt ist.

### Groß-/KIeinschrift

Der Groß-/Kleinschriftmodus wird eingeschaltet.

### 3.	Befehle

Alle PROS-Befehle beginnen mit dem Pfundzeichen. Dem folgt ein weiteres Zeichen und gegebenenfalls ein Parameter mit Werten zwischen 1 und 127.

Als PROS-Befehle werden anerkannt:
**£S**, <Parameter>
Festlegen des Zeilenabstandes. Drei Schritte entsprechen einer Punktbreite.
**£P**, <Parameter>
Festlegen der zu druckenden Zeilen pro Seite. Europäische Norm für Endlospapier: 66 Zeilen. Amerikanische Norm: 60 Zeilen.

Bei verändertem Zeilenabstand muß auch die Zahl der Zeilen pro Seite geändert werden, um eine saubere Seitenaufteilung zu erreichen. Es bieten sich dabei folgende Kombinationen an:
S24 - P102; S27 - P90; S32 - P75
S36 - P66 (Grundstellung)
S48 - P48; S54 - P42; S72 - P36
(bezogen auf die europäische Norm)
**£(, £)**, [runde Klammer auf beziehungsweise zu]

Seitenaufteilung an- oder ausschalten. Bei angeschalteter Seitenaufteilung wird die festgelegte Zahl der Zeilen pro Seite gedruckt. Dann erfolgt ein Zeilenvorschub von sechs Zeilen und der Druck wirdauf der nächsten Seite fortgesetzt.
**£[ ,£ ]** ,[eckige Klammer auf beziehungsweise zu] Fehlermeldungen des Druckers ermöglichen beziehungsweise unterdrücken (Grundstellung).
**£+**, [Plus]
Ausgabe auf den Drucker lenken. Dieser Befehl entspricht in Basic der Befehlsfolge
OPEN 1,4,7:CMD 1
**£F**

Formatierte Ausgabe auf den Drucker lenken. In der Grundversion des PROS V2.1 ist ein 48 Zeichen breites Ausgabefeld in der Papiermitte, wie es zum Ausdruck von Disk-Direktories und disassemblierten Maschinenprogrammen nützlich ist.

Achtung: Soli der Ausdruck mit Hilfe eines Maschinensprachemonitors erfolgen, empfiehlt es sich, vorher die Ausgabe von Fehlermeldungen zu unterdrücken, da unter Umständen der Ausgabeabschluß nicht korrekt erfolgen kann. Auf die Arbeitsweise mit dem Drucker hat diese Fehlermeldung sonst keine Auswirkungen.
**£—**, [Minus]
Aufheben des durch £ + oder £ F erreichten Ausgabemodus. Nach diesem Befehl erfolgt die Datenausgabe wie-derauf dem Bildschirm.
**£#**, (Doppelkreuz)
Wiederherstellung der Druckergrundstellung (Einschaltzustand).
**££** [Pfund]
Wiederaktivieren der PROS-Sonderfunktionen.
**£Q**
Verlassen des PROS V2.1. Nach Eingabe dieses Befehls sind alle PROS-Befehle außer Betrieb. Um wieder mit dem Programm arbeiten zu können, muß es mit SYS 51555 neu aufgerufen werden.
Die Sonderfunktionen werden durch diesen Befehl nicht aufgehoben.

## Änderungsvorschläge

### 1.	PROS-Befehlscode [Pfund] ändern

Sollen die PROS-Befehle mit einem anderen Zeichen als dem »Pfund« beginnen, so muß der ASCII-Code des gewünschten Zeichens in der Speicherstelle $C978 (dez. 51576) stehen. In der Normalversion lautet dieser Wert $5C (dez. 92).

### 2.	Änderung beziehungsweise Ergänzung der Grundbefehle in der Titelseite

Die Grundbefehle befinden sich in den Speicherstellen $CA58 - $CA7c (dez. 51800 - 51836). Die Befehlemüssen als hexadezimale ASCII-Codes eingegeben werden. Der Code für das Pfundzeichen lautet $5C (92).

### 3.	Ausschalten der Kleinschrift

Um beim PROS-Aufruf den Großschriftmodus beizubehalten, müssen die Bytes $CA90 - $CA95 mit dem Wert $EA (Befehlscode für NOP) aufgefüllt werden.

Um auch im Ausgabemodus (PROS-Befehl [Pfund] und [Plus]) im Großschriftmodus zu bleiben, muß die Speicherstelle $CBA5 (dez. 52133) statt $07 den Wert $00 erhalten.

### 4.	Ausschalten der Repeatfunktion für alle Tasten

Um diesen Effekt zu vermeiden, sind die Bytes $CA8B -$CA8F mit dem Wert $EA aufzufüllen.

### 5.	Ausschalten der Stop-Funktion und der Escape-Taste

Die entsprechenden Routinen lassen sich umgehen, indem in den Speicherstellen $C9E7 (dez. 51687) und $CB9F (dez. 52127)jeweils der Wert $7Fdurch $8B ersetzt wird.

Der Bereich $CA7F - $CA8A (dez. 51839 - 51850) wird dadurch übersprungen und kann zum Beispiel für individuelle PRÖS-Erweiterungen als Speicherplatz dienen.

### 6.	Änderung der Tastenbelegung der Stop-Funktion

Um die Tastenbelegung für die Stop-Funktion (normalerweise F1 und F3) zu ändern, müssen die Tastaturcodes der gewünschten Tasten in die Speicherstellen $CA9A (statt F1-Taste) und $CAB3 (statt F3-Taste) geschrieben werden. Die Dezimalwerte der Adresse: 51866 und 51891.

### 7.	Escape-Taste verlegen

In der PROS V2.1 Normalversion versieht die Commodore-Taste zusätzlich den Dienst einer Escape-Taste. Ersatzweise können auch die Taste [CTRL] oder [Pfeil nach links] mit dieser Aufgabe betraut werden. Dazu muß die Stelle $CABB den Wert $FB (dez. 251) beziehungsweise $FD (dez. 253) bekommen.

### 8.	Änderung der Gerätenummer

Das PROS V2.1 kann der Gerätenummer des benutzten Druckers angepaßt werden, indem der neue Wert in die Stelle $CACE (dez. 51918) geschrieben wird.

### 9.	Verändern des formatierten Äusgabefeldes

Das in der Normalversion festgelegte formatierte Ausgabefeld (40 Zeichen breit in Papiermitte) kann wie folgt verändert werden:

Die gewünschte Breite des linken Randes ist in der Speicherstelle $CBC8 (dez.52168), die des Ausgabefeldes in $CBD2 (dez. 52178) abzulegen.

Hinweis: Auf der Leserservice-Diskette befindet sich einmal das PROS V2.1 selbst und zusätzlich mit integriertem DOS V5.1 und dem Programm UNNEW. Aufruf von UNNEW: SYS 53166.

(Peter T. Schmidt/gk)

# Sprite+Grafik-Basic

> Diese für den C 64 geschriebene Basic-Erweiterung wurde speziell für das Programmieren von Sprites und hochauflösender Grafik entwickelt, enthält jedoch auch zusätzliche, nicht grafikbezogene Befehle.

Sprite+Grafik-Basic wurde für den Commodore 64 ohne besondere Peripherie geschrieben. Das Programm wird mit LOAD geladen und mit RUN gestartet.

»Das für den Commodore 64 geschriebene Sprite+Grafik-Basic ist eine Basic-Erweiterung, die speziell das Programmieren von Sprites und hochauflösender Grafik unterstützt. Selbstverständlich werden auch Befehle zum Editieren der Programme und die nötigsten strukturierenden Befehle zur Verfügung gestellt.

Sprite+Grafik-Basic erweitert das bescheidene V2-Basic um mehr als 100 Befehle. Davon sind 32 Befehle zur Programmierung der Sprites vorgesehen.

Außer den üblichen Parametern der Spriteprogrammierung können Sie die Sprites spiegeln, drehen und noch vieles mehr. Durch die vielseitigen Befehle zur Definition der Spritematrix kann selbst der Anfänger ohne einen zusätzlichen Spriteeditor hervorragende Sprites erstellen. Die Spritematrixblöcke — es stehen maximal 144 davon zur Verfügung — benötigen natürlich keinen Basic-Programmspeicher.

Auch zum Erstellen von ansprechenden Bildschirmmasken bietet Sprite+Grafik-Basic 14 neue Befehle. Es ist zum Beispiel möglich, den Bildschirm in alle vier Richtungen zu scrollen oder bestimmte Flächen mit Zeichen zu füllen.

Für die Programmierung von hochauflösender Grafik und Multicolorgrafikstehen natürlich die Befehle, um Punkte und Linien zu setzen zur Verfügung. Darüber hinaus können Ellipsen, Ellipsenbogen, Radien, Rechtecke und Blöcke mit einfachen Befehlen definiert werden. Eine der Besonderheiten von Sprite+Grafik-Basic ist der GPRINT-Befehl, der es ermöglicht — annähernd so komfortabel wie der PRINT- Befehl der Blockgrafik — Text in die Grafik einzubauen. Bei jedem dieser Befehle kann natürlich gewählt werden, ob ein Punkt gesetzt, gelöscht oder invertiert werden soll.

Nach dem Ausschalten der Grafik und dem Wiedereinschalten bleibt diese vollständig erhalten. Hierdurch kann sie auch im ausgeschalteten Zustand durch zwei Befehle abgespeichert oder geladen werden.

Über einen SYS-Befehl und wenige POKEs läßt sich sogar ein Textfenster in die Grafik einblenden.

Insgesamt bietet Sprite+Grafik-Basic 16 High-Resolution-Befehle. Diese Grafikmöglichkeiten werden durch das Erzeugen von blinkenden Zeichen oder durch Blinken des Rahmens zusätzlich verstärkt. Die Programmierung von Sprites und Grafik läßt also kaum Wünsche offen.

Damit diese Sprite+Grafik-Programmierung möglichst einfach und übersichtlich wird, gibt es in Sprite+Grafik-Basic knapp zehn Befehle zur Strukturierung der Programme. Dies sind alle üblichen Befehle wie zum Beispiel REPEAT ... UNTIL, CASE ... THEN ... ELSE und den mit Labeln arbeitenden Sprungbefehlen. Außerdem existiert ein Befehl, mit dem Sie die letzte IF-Bedingung noch einmal abfragen können.

Um all diese Befehle platzsparend und einfach in ein Programm einbauen zu können, stehen etwa 20 weitere Befehle zur Verfügung. Man kann damit sofort editieren oder auch nach Zeichenketten und Befehlen im Programm suchen. Es ist ebenfalls möglich, ein Programm zeilenweise abzuspeichern oder ein Programm nachzuladen.

Zur Vereinfachung der Programmierung können die Funktionstasten mit beliebigen Zeichenketten belegt werden.

Falls ein Programm nicht funktioniert, findet man mit dem TRACE-Modus sehr leicht den Fehler. Dieser Modus zeigt immer die aktuelle Zeile an — natürlich auch in High-Resolution-Grafik. Um Fehler bei den neuen Befehlen besser zu verstehen, sind noch einige neue Fehlermeldungen implementiert. Außerdem wird die fehlerhafte Zeile angezeigt und die fehlerhafte Stelle markiert.

## Blockgrafikbefehle (40x25 Auflösung)

TODO TABLE

## Besonderheiten

Beim FILL/ZFILL/FFILL-Befehl muß die linke obere Ecke auch wirklich die linke obere Ecke des Rechtecks sein, da der Computer sonst unweigerlich »abstürzt«.

Der TRACE-Befehl verträgt sich leider nicht mit den Befehlen, die den Interrupt beeinflussen (VEC, OLDVEC, B/G/BG FLASH). Dies läßt sich aber einfach durch Drücken der RUN/STOP-RESTORE-Taste, nachdem TRACE eingegeben wurde, ändern. Die Unverträglichkeit des TRACE-Befehls 1 und der »Interrupt-Befehle« resultiert aus der Umlenkung des I Interrupts auf einen Rasterzeileninterrupt beim TRACE-Befehl. Dieser Rasterzeileninterrupt sorgt dafür, daß beim | TRACE-Befehl die obersten drei Zeilen immer in Blockgrafik | angezeigt werden.

Aber auch ohne TRACE-Modus kann man den Rasterzeileninterrupt nutzen. Er wird mit SYS31851 aktiviert. Zuvor müssen Sie allerdings in die Speicherstellen 31889 und 31903 jeweils die Rasterzeile (0 bis 255), in der auf hochauflösende Grafik umgeschaltet wird, POKEn. Außerdem muß die Speicherstelle 31929 die Rasterzeile (0 bis 255) enthalten, in der wieder auf Textmodus zurückgeschaltet wird. Das Ausschalten dieses Rasterzeileninterrupts ist nur durch NRM oder RUN/STOP-RESTORE möglich.

Im TRACE-Modus funktioniert auch der GET-Befehl nicht mehr, da die Speicher der zuletzt gedrückten Taste ständig gelöscht werden.

Die Funktion TEST setzt wie alle anderen Grafikbefehle den Grafikcursor. Hiermit können Sie also vor jedem GPRINT den Grafikcursor an die gewünschte Position setzen.

Den Befehl @ sollten Sie nicht alleine verwenden. Der Computer könnte abstürzen. Das gleiche kann passieren, wenn Sie bei Befehlen einen oder mehrere Parameter vergessen.

Wenn ein HiRes-Bild auf Diskette gespeichert wird, blinkt die Floppy-LED, da das Programm hauptsächlich für Datasette geschrieben wurde. Das HiRes-Bild kann zwar später wieder geladen werden, jedoch nur in Schwarz-Weiß. Die Farb-Informationen sind verloren.

## Fehlermeldungen

Ist ein Programm beendet oder tritt eine Fehlermeldung auf, wird der hochauflösende Grafikmodus ausgeschaltet. Bei einem Fehler wird die fehlerhafte Zeile gelistet. Bei den meisten Fehlern wird der ungefähre Fehlerpunkt negativ (invers) gekennzeichnet.

### Zusätzliche Fehlermeldungen zum Basic V2:

### UNTIL WITHOUT REPEAT

Tritt auf, wenn der Computer auf UNTIL trifft, ohne daß ein REPEAT vorausging.

### LABEL NOT FOUND

Tritt auf, wenn ein Sprunglabel nicht vorhanden ist.

### SUBEND WITHOUT CALL

Tritt auf, wenn der Computer auf SUBEND trifft, ohne daß ein CALLvorausging.

### ILLEGAL SPRITE NUMBER

Tritt auf, wenn die Spritenummer sn größer als 7 ist.

### ILLEGAL SPRITE STRING

Der String des DESIGN-Befehls enthält einen Fehler.

### SPRITE DESIGNING COORDINATE

Tritt auf, wenn beim SPLOT-Befehl falsche x/y-Koordinaten angegeben werden.

(Jens Schwarz/ah)

#Hardcopy CP-80X mit Simons Basic

> Mit diesem Programm können Sie Hardcopies von HiRes-Grafiken in Simons Basic erstellen.

Das Programm erstellt eine Hardcopy der HiRes-Grafik von Simons Basic. Dem CP-80X ist zwar ein Heft mit mehreren Routinen für den C 64 beigelegt, dochdie darin aufgeführte Hardcopy für Simons Basic funktionierte leider nicht. Da der Drucker noch relativ neu auf dem Markt und nicht ganz Epson-kompatibel ist (wegen des eingebauten Interfaces), ist bisher noch keine Hardcopy erschienen. Dieses Programm schafft »schnelle« Abhilfe (Maschinensprache, Druckzeit: 58 Sekunden).

Nach dem Abtippen des Programms (Abspeichern nicht vergessen!) wird es mit RUN gestartet.

Es liest dann die Daten ein und überprüft diese auf ihre Richtigkeit. Da in jeder Zeile Prüfsummen eingebaut sind, können eventuelle Fehlerauf eine Zeile genau lokalisiert werden.

Danach wird das Maschinenspracheprogramm gestartet, dieses löscht das Ladeprogramm und schützt das Maschinenprogramm vor dem Überschreiben durch Basic.

Dann kann durch »SYS 32000« jederzeit eine Hardcopy der Grafikseite erstellt werden. Die Hardcopy wird in der Mitte des Blattes ausgedruckt, nach dem Drucken wird der Zeilenabstand zurück auf 1/6 inch gestellt.

(Stephan Arndt/rg)






# »Multicolor« auf dem FX/RX-80

> Hardcopy-Programme für den Epson FX gibt es viele. Doch dieses Programm ermöglicht eine Umsetzung der Farben in verschiedene Graustufen.

Die meisten Drucker-Besitzer werden sich schon geärgert haben, daß »normale« Hardcopies von Multicolor-Grafiken kaum als solche zu erkennen waren. Besitzer eines Epson-RX/FX-80 sind jetzt fein raus.

Ich habe mich geärgert, als ich das erste Mal die Hardcopy einer Strip-Poker-Grafik auf meinem FX-80 ausdrucken wollte. Als ich dann noch den Test des PRINT-64-Interfaces in der 64’er, Ausgabe 12/84, gelesen habe, das den Ausdruck von Multicolor-Grafiken mittels Grauschattierungen erlaubt, habe ich mir gedacht: Das muß doch auch softwaremäßig machbar sein.

Gesagt, getan. Eines Abends nahm ich mir eine Flasche Cola und etwas Knabberkram und fing an zu programmieren. Nach mehreren erfolglosen Anläufen und stapelweise bedrucktem Papier war ich am Ziel: »M-C-HRDCPY«lief. Doch nun zum eigentlichen Programm.

# Das Prinzip

Eine Multicolor-Grafik ist ja im wesentlichen genauso wie eine normale Grafik aufgebaut, nur repräsentieren jetzt zwei statt einem Bit einen Punkt auf dem Bildschirm. In dieser Kombination aus den beiden Bits steckt jetzt noch eine Farbinformation: Sind beide Bits 0, so wird der Punkt in der Farbe des Hintergrundregisters gesetzt, sind sie jedoch 01, 10 oder 11, wird der Punkt in der Farbe aus den Registern 33 bis 36 des VIC gesetzt. .

Ich verfahre nunso, daß ich jeden Bildschirmpunkt in einer Matrix von 2x12 Punkten auf dem Drucker darstelle. Durch die Anordnung der Punkte in dieser Matrix kann ich nun verschiedene Graustufen darstellen — die Grundlage i$t damit gegeben.

## Die Bedienung

Die Bedienung mag auf den ersten Blick etwas kompliziert erscheinen, erlaubt dafür aber auch optimale Variationsmöglichkeiten.

Vorjeder Anwendung kommt aber leider noch das Abtippen von 438 DATAs. Wenn Sie das gemacht haben, sollten Sie das Programm vorsichtshalber vor dem Starten speichern (so mancher mußte wegen eines Tippfehlers noch einmal anfangen ...). Nach dem Starten sollte sich das Programm nach zirka vier Sekunden mit der Frage »Startadresse?« melden. Geben Sie nun ein, wo Sie das Programm im Speicher haben wollen. Eine kleine Hilfe hierzu gibt die Tabelle, die günstige Startadressen für verschiedene Programme nennt.

Dann wird die Floppy anlaufen (falls Sie nur eine Datasette besitzen — bei Vorhandensein eines Epson-Druckers recht unwahrscheinlich — müssen Sie die Zeilen 1250 bis 1280 herausnehmen und zum Arbeiten immer wieder den Basic-Lader benutzen) und ein File namens »M-C-HRDCPY (Startadresse)« wird auf Diskette erzeugt. Gleichzeitig wird das Programm adressenangepaßt in den Speicher ab (Adresse) geschrieben. Wenn Sie »M-C-HRDCPY« nun noch eventuell durch POKE 55,(adresse) INT(adresse/256)*256:POKE 56,INT(adresse/256): CLR schützen, kann der erfolgreichen Hardcopy eigentlich nur noch das Dreckfuhlerteufelchen im Wege stehen.

Nun zum Aufruf der Hardcopy-Routine. Generell hat er die Form:

SYS (adresse),(filenummer),(page),a,b,c,d

**(adresse)** ist die Startadresse des Programms — die, die Sie auf die Frage »Startadresse?« eingegeben haben —, für

**(filenummer)** setzen Sie eine 0 ein, falls Sie Ihren Drucker am User-Port angeschlossen haben oder die Filenummer eines Files, das Sie vorher auf den Drucker zur Übergabe von Grafikdaten geöffnet haben.

**(page)** ist die Speicherseite, auf der die Grafik beginnt — also INT(Adresse der Grafik/256) und

**a,b,c,d** sind die Masken für die Graustufen der Hardcopy.

Wie bereits erwähnt, kennt der VIC vier Möglichkeiten für die Darstellung eines Punktes, nämlich die Kombinationen 00, 01, 10 oder 11. Andererseits kennt die Hardcopy-Routine vier Graustufen. Die Parameter a, b, c und d geben nun an, wie die Bitkombinationen den Graustufen zugeordnet werden. a gibt an, welche Bitkombination auf dem Drucker ganz hell, b, welche hellgrau, c, welche dunkelgrau und d, welche schwarz dargestellt werden, a, b, c und d müssen dabei den dezimalen Wert der Bitkombinationen annehmen, das heißt, 0 für 00, 1 für 01, 2 für 10 und 3 für 11. Ein Beispiel hierzu gibt der Hardcopy-Ausdruck.

Hier noch einmal zur Übung:

Angenommen, Sie haben eine Simons Basic-Multicolor-Grafik und wollen diese so ausdrucken, daß die 00-Punkte Schwarz, die 01-Punkte hellgrau, die 10-Punkte weiß und die 11-Punkte dunkelgrau dargestellt werden.

Also laden Sie den Basic-Lader, sehen in der Tabelle nach, welche Startadresse günstig ist, geben diese ein und tippen dann, nachdem sich der Computer wieder mit READY gemeldet hat, ein:

POKE 55,44:POKE 56,126:CLR

um M-C-HRDCPY vor dem Überschreiben zu schützen und dann weiter:

SYS 32300,0,224,2,1,3,0

falls Sie den Drucker am User-Port betreiben beziehungsweise

OPEN xx,(Druckeradresse),(Grafiksekundäradresse)

SYS 32300,xx,224,2,1,3,0

falls Sie ein Hardware-Interface besitzen.


Das Programm wurde auf einem FX-80 sowohl mit Software- als auch mit Data-Becker- und Görlitz-Hardwareinterface und auf einem RX-80 mit Software- und Görlitz-Hardwareinterface getestet und lief in allen Fällen problemlos. Vermutlich ist das Programm auch auch dem MX-80 und anderen Epson- und Epson-kompatiblen Druckern lauffähig. Im Zweifelsfall müssen Sie daher ausprobieren, ob auch Ihr Drucker für dieses Programm geeignet ist, kaputt kann eigentlich nichts gehen. Benutzt werden folgende Steuersequenzen: ESC 1, um den Drucker auf 7/72 Inch Zeilenvorschub zu schalten, ESC (Klammeraffe), um ihn zu initialisieren und ESC Z, um ihn in 1920 Punkte/Zeile-Grafikmodus zu bringen.

## Die Kompatibilität

Da das Programm also recht viele Drucker unterstützt, frei verschiebbar ist, den Ausdruck von Grafiken aus den versteckten RAMs erlaubt und sowohl Hard- als auch Soft-ware-lnterfaces unterstützt, sollte meiner Meinung nach ein Höchstmaß an Kompatibilität gewährleistet sein.

Ansonsten viel Spaß und gut Druck!

(Karsten Klenz/rg)

# Große Hardcopy auf Star Gemini

> Posterähnliche Hardcopies können die Star Gemini-Besitzer mit diesem Programm erzeugen.

Geben Sie das Programm genau nach Programmlisting, von Basic aus ein, vergleichen Sie es und speichern Sie es ab. Danach können Sie den Basic-Lader mit RUN starten. Das Programm sollte Sich mit »Datas OK !«, »AUFRUF ; SYS 49152,ADR,FN,GN,SA,INV« melden und ist nun ab sofort startbereit.

Sollte diese Meldung nicht erscheinen und »Fehler in Datas !!!« gemeldet werden, so ist eine Diskrepanz in der Prüfsumme aufgetreten. Die DATA-Zeilen sind fehlerhaft. Kontrollieren Sie das Programm noch einmal genau anhand des Listings und starten Sie es erneut.

Ist das Programm bereit, so können Sie den Basic-Lader mit NEW aus dem Arbeitsspeicher löschen. Laden Sie nun eine bereits abgespeicherte Grafik, oder erzeugen Sie per Programm den gewünschten HiRes-Bildschirm. Zum Poster-Ausdruck starten Sie die Routine mit »SYS 49152, ADR, FN, GN, SA, INV«. ADR gibt dabei die Startadresse des 8-KByte-Bereiches an. Oft ist dies die Adresse 8192 ($2000), es ist jedoch auch möglich, Bildschirme, die unter dem ROM stehen, auszudrucken. Für Simons Basic wäre dies zum Beispiel die Adresse 57344 ($D000). Die drei nächsten Parameter entsprechen den Angaben des OPEN-Befehls. Sie beinhalten die Filenummer, eine Zahl zwischen 1 und 255, die für den Ausdruck belanglos ist, die Geräteadresse des Druckers, die im allgemeinen auf 4 eingestellt ist und die Sekundäradresse für die Drucker- beziehungsweise lnter-face-Ansteuerung. Für das Universal-Interface (WW Interface 92000/G, C 64/Centr.) muß diese gleich eins sein. Der letzte Parameter gibt den Druckmodus an. Eine »0« steht für normale Darstellung; eine »1« für inverse.

Das Poster kann auf beliebiges Papier gedruckt werden. Für die Verwendung von Einzelblättern wird allerdings die Papierende-Kennung ausgeschaltet, damit die gesamte Hardcopy ohne Unterbrechung ausgedruckt werden kann. Nach dem Drucken wird durchein Form-Feed das Papieraus dem Drucker geschoben, der Drucker in den Einschaltzustand versetzt und das entsprechende File geschlossen. Wird die Hardcopy mit der Stop-Taste abgebrochen, so wird ebenso ein Druckerreset ausgeführt und das Druckerfile geschlossen. Das Papier wird allerdings nicht transportiert. Der Computer sollte sich mit »BREAK«, »READY« wieder melden.

Mit Hilfe eines Monitors oder eines modifizierten Laders kann die Hardcopy auch direkt abgespeichert werden (Achtung: Der Monitor darf nicht bei 49152 ($C000) liegen). Die Adressen, die das Programm belegt, reichen von 49152 bis 49590.

Natürlich kann die Routine in eigene Grafikprogramme eingebettet werden. Die Filenummer sollte dann einen noch unbelegten Kanal verwenden.

Arbeitet man mit Simons Basic zusammen, so ist folgendes zu beachten: Simons Basic belegt den Speicherbereich von $C000 bis $C400 mit der Farbinformation der Grafik. Das heißt, unsere Routine würde durch den HiRes-Befehl gelöscht. Um trotzdem mit der Erweiterung arbeiten zu können, ist die Grafik nach Beendigung der Bilderstellung mit »CSET0« auszuschalten. Jetzt erst können wir unsere Routine mit dem Basic-Lader nach 49152 ($C000) kopieren und starten. Achtung: Durch das Kopieren und Starten der Routine geht die Farbinformation der ersten Bildhälfte verloren. Will man die Farbe wieder setzen, so muß der veränderte Bereich nach der Hardcopy wieder mit der Farbinformation gefüllt werden (FOR i=49152 TÖ 49600:POKE i,PEEK(49700):NEXTi).

Die Arbeit mit dem »64’er«-Programm »Hi-Eddi« ist am besten möglich, indem man die Grafikseite abspeichert und nach Verlassen des Programmes wieder lädt. Die Zusammenarbeit mit anderen professionellen Programmen sollten Sie selbst erproben.

Abschließend noch ein Wort zur Anpassung an andere Drucker. Der Drucker muß auf alle Fälle Epson- beziehungsweise Star-kompatibel sein und Blockgrafikcharakter besitzen. (Für Profis: die acht Charakter beginnen in der vorletzten Zeile, mit der vierten Zahl von hinten.)

Weiterhin ist zu beachten, daß die Sekundäradresse so gewählt werden muß, daß alle Grafikbefehle angenommen werden (beim Universal-Interface zum Beispiel 1).

Das ist doch eine Hardcopy, die wirklich Format zeigt!

(Thomas Hohenberger/rg)

# Hardcopy Itoh 8510 mit Hi-Eddi

> Besitzern des Itoh 8510 bietet dieses Programm die Möglichkeit, von Hi-Eddi Hardcopies zu erzeugen.

Mit dem Hi-Eddi aus der Ausgabe 1/85 vom 64’er lassen sich mit minimaler Hardware-Ausrüstung (C 64, Diskettenlaufwerk 1541, Joystick) sehr komfortable Grafiken erzeugen. Doch was nützt die schönste Grafik auf Bildschirm oder Diskette, wenn man sie nicht ausdrucken kann?

Die in Ausgabe 1/85 veröffentlichte Druckroutine Hi-Print arbeitet leider nur mit Epson-Druckern zusammen. Da der Itoh 8510 ein verbreiteter und guter Drucker ist, wurden für ihn die im folgenden beschriebenen Programme erstellt. Er wird über eine Centronics-Schnittstelle via User-Portam C 64 angeschlossen.

Zusätzlich wurden einige Features eingebaut, die die Epson-Hardcopy-Routine nicht besitzt. So wäre die Vorgabe von Leerspalten vom linken Rand aus (falls noch Platz ist) eine nützliche Sache. Um zwei Grafiken in der Horizontalen aneinander zu setzen, wurde dazu die volle Bildschirmbreite in 40 Spalten zu je 8 (40 x 8 = 320) Punkten (wie im Textmodus) organisiert. Um jetzt zwei Grafiken nebeneinander zu plazieren, kann dazu die Startspalte (wird mitgedruckt) der links stehenden Grafik (Grafik Nr. 1) und die Endspalte (wird nicht mitgedruckt) der rechts stehenden Grafik (Grafik Nr. 2) vorgewählt werden.

Die Ausdruckbreite wird dazu in drei Sektoren von links nach rechts aufgeteilt.
0. Sektor: Abstand (SPC) in Punkten vom linken Papierrand.
1. Sektor: Grafik Nr. 1 (Bild-Nr.; Startspalte)
Bild-Nr. = 0 = > kein Bild, Startspalte = 48
Bild wird rechtsbündig gedruckt
0 < = Startspalte < = 39
Startspalte = 0 = > volle Hardcopy von Grafik Nr. 1
2. Sektor: Grafik Nr. 2 (Bild-Nr.; Endspalte)
Bild-Nr. = 0 = > kein Bild, Endspalte = 8
Bild wird linksbündig gedruckt
1 < = Endspalte < = 40
Endspalte = 40 = > volle Hardcopy von Grafik Nr. 2

Insgesamt kann folgende Formel für die Aufteilung der drei Sektoren angegeben werden:

SPC + (40-Startspalte)*8 + Endspalte*8 = 640

Im Steuerprogramm werden nacheinander die Bild-Nr. von Sektor 1, dann (falls Bild-Nr. < > 0)die Startspalte von Grafik-Nr. 1, dann die Bild-Nr. von Sektor 2 und (falls Bild-Nr. < > 0) die Endspalte von Grafik-Nr. 2, und schließlich die Anzahl der Leerspalten vor Grafik-Nr. 1 abgefragt.

Die Maximalwerte werden stets durch das Steuerprogramm vorgegeben, so daß in vielen Fällenein einfaches RETURN genügt.

Um die Druckroutine namens »HI-P(ITOH8510)« für den ITOH 8510 in das Steuerprogramm Hi-Eddi einzubilden, mußte dieses auf die Bedürfnisse der Druckroutine angepaßt werden und heißt nun >>HI-E(ITOH8510)<<.

Dazu wurden (aus Speicherplatzgründen) alle Zeilen neu numeriert und die Textausgabepassagen verkürzt. In den Programmzeilen 24 undfolgende befindetsich das Drucksteuerprogramm.

Es wird hierbei dringend davor gewarnt, das neue Steuerprogramm HI-E(ITOH8510) zu erweitern oder zu ändern, da sonst das Steuerprogramm (inklusive Variablen) nicht mehr in den verfügbaren Basic-Speicherplatz paßt. Dies gilt auch für den eingebauten Parametercheck, da in der Druckroutine selber keine Plausibilitätsprüfung mehr vorgenommen wird.

Für die Initialisierung des Druckers und die Ausgabe der Hardcopy sollte sich der Drucker im SELECT-Modus befinden, da sonst das Programm hängenbleibt (Acknowledge-Signal wird erwartet).

Falls aus irgendeinem Grunde (Drucker beziehungsweise Kabel defekt, falsch oder gar nicht angeschlossen) dieser Fall eintritt, kann mit RUN/STOP-RESTORE die Druckroutine beendet werden. Hi-Eddi kann dann wieder mit RUN gestartet werden. (Das RUN istnotwendig, um HI-EXE nachzuladen, da aus Speicherplatzgründen nach der Anwahl des Drucksteuerprogramms immer die Druckroutine über HI-EXE nachgeladen wird.)

Der Drucker sollte mittels der DIP-Schalter auf CR = CR und 8-Bit-Data eingestellt sein. Da am Anfang kein Carriage Return ausgegeben wird, sollte man dafür sorgen, daß der Druckkopf sich auf einer freien Zeile befindet. Außerdem sollte das Papier zentriert werden, da sich der Ausdruck über die volle Papierbreite erstrecken kann.

Die Anpassung des ITOH 8510A an Hi-Eddi besteht im wesentlichen aus zwei Schriften:

1. HI-P(ITOH8510).L abtippen und starten. Dieses ist ein Ladeprogramm, das die Druckroutine HI-P(ITOH8510) auf Diskette ablegt. Es wird (nach erfolgreichem Test) zum Arbeiten mit Hi-Eddi nicht mehr benötigt.
2. Hi-E(ITOH8510) abtippen und speichern. Es ist das angepaßte Steuerprogramm und ersetzt das alte Hi-Eddi,

So, daswär’seigentlich. Hi-Eddi mit Itoh 8510A ist nun lauffähig. Mir bleibt nur noch, viel Erfolg mit Hi-Eddi zu wünschen.

(Frank Ziesche/rg)

# Hardcopy von Hi-Eddi auf dem Plotter VC 1520

> Mit diesem Programm ist es möglich, Hardcopies von Hi-Eddi mit dem VC 1520 zu erstellen.

Geben Sie zuerst »Copy 1520« (Listing 1) mit dem MSE ein und speichern Sie es ab. Jetzt muß noch das Steuerprogramm geändert werden. Bei dem Steuerprogramm (Listing 2) sind die Zeilen 600bis 750 zu ändern.

Die Hardcopy kann jetzt von Hi-Eddi per Tastendruck oder Menü nachgeladen werden. Es ist möglich, mehrere Bilder (nahtlos) untereinander oder übereinander (Overlay) zu drucken.

(Stephan Paetzold/rg)

# Hardcopy MPS802/1526

> Hardcopies in der vierfachen Größe erstellt dieses Programm auf dem MPS 802.

Dieses Programm druckt den HiRes-Grafikbildschirm in vierfacher Vergrößerung auf dem MPS 802 aus. Durch die Papierbreite bedingt, muß das Bild jedoch in zwei Teile zerlegt und anschließend zusammengeklebt werden, was sich jedoch nicht nachteilig bemerkbar macht.

Die Schnelligkeit der Druckroutine (komplett zirka 8 bis 13 Minuten) wird durch zwei Faktoren bewirkt:

1.	Adreßberechnung und Datenumwandlung in Maschinensprache;
2.	Keine Verwendung von selbstdefinierten Sonderzeichen, das heißt die gedruckten Zeichen sind die Standard-Grafikzeichen des Commodore 64 (es handelt sich hierbei um folgende 16 Zeichen:

CHR$(160),(161),(162),(172),(187),(188),(190),(191)

(in normaler und reverser Darstellung)

Während des Druckes ist auf den HiRes-Bildschirm umgeschaltet, so daß man die Abarbeitung verfolgen kann. Nach Fertigstellung des ersten Teiles unterbricht das Programm, um ein Neujustieren des Druckerpapiers zu ermöglichen. Danach wird der zweite Teil ausgedruckt. Die Bilder sollten sich im Speicher ab Adresse 8192 = $2000 befinden.

(Ralph Hoffmann/Christoph Bertog/rg)

# Hardcopy in doppelter Größe

> Mit diesem Programm ist es jetzt auch MPS 801-Besitzern möglich, Hardcopies in doppelter Größe auszugeben.

»BIGCOPY 64« wurde abgefaßt, um auch mit dem Commodore MPS 801 eine Hardcopy in doppelter Größe anfertigen zu können.

Was uns besonders störte, war die Tatsache, daß es anscheinend keine Programme gab, die auf Siebennadeldruckern Hardcopies in doppelter Größe ermöglichten. Da wirjedoch unsere Grafiken zur Abwechslung einmal in akzeptabler Größe haben wollten, sahen wir uns gezwungen, ein eigenes Programm zu schreiben. Im folgenden wollen wir von den Schwierigkeiten, die sich uns in den Weg stellten und deren Beseitigung berichten.

Betrachtet man einmal die Speichernutzung des C 64 bei Grafiken, so ist ersichtlich, daß sich die Einteilung in horizontal liegende Bytes ideal für Hardcopies eignet, die auf Achtnadeldruckern ausgegeben werden sollen. Der Commodore MPS 801-Matrixdrucker hat aber die unangenehme Eigenschaft, die Grafiken mit lediglich sieben Nadeln auf das Papier zu bringen. Da man mit dem MPS 801 lediglich 480 Punkte in einer Zeile drucken kann, ist man bei der Erstellung von Programmen, die doppelt große Hardcopies ermöglichen sollen, darauf angewiesen, die Grafiken nicht wie üblich quer auszugeben, sondern sie müssen längs ausgedruckt werden. In dieser Richtung kann man die 400 x 640 Punkte problemlos auf das Papier bringen.

Jetzt aber stellt sich das oben angesprochene Problem: Wie die acht Bit eines Bytes mit sieben Nadeln ausdrucken? Die Antwort ist leider klar: Gar nicht, es geht nämlich nicht! Also muß ein Algorithmus her, der es gestattet, das bei ersten Versuchen unterschlagene achte Bit dennoch auszudrucken. Dieser Algorithmus muß aber, um eben dieses achte Bit zu berücksichtigen, Punkt für Punkt des zu druckenden Bildes abfragen, um so die gesamte Grafik in vertikale Siebenerscheibchen zu zerlegen, die der MPS 801 anstandslos verarbeitet. Durch diese, zugegebenermaßen recht unelegante, aber nötige Prozedur, geht jedoch der oben erwähnte positive Effekt verloren, den die interne Grafikspeicherung auf Berechnungen haben kann. Aus diesem Grund dauert eine Hardcopy mit der Basic-Version von »BIGCOPY« auch zirka 150 Minuten, eine nicht gerade berauschende Zeit für den Erhalt einer einzigen Grafik. Was liegt bei solcherart trödelnden Programmen näher, als sie in der um ein vielfaches schnelleren Maschinensprache zu verfassen.

Hier sei eine kurze Bemerkung über die Verträglichkeit des Programmes mit anderen Druckern als dem MPS 801 gesagt. Die Basic-Version läßt sich relativ leicht auf andere Drucker umschreiben, lediglich die OPEN-Anweisungen und die CHR$-Codes müssen geändert werden. Dies gilt selbstverständlich nur für die unglücklichen Besitzer von Siebennadeldruckern, die bisher gezwungen waren, ihre Grafiken in »Briefmarkenformat« ausdrucken zu lassen.

## Hardcopy in 13 Minuten

Die Maschinensprachversion des Programmes gibt sich auch schon viel freundlicher, was den Zeitbedarf angeht, sie liefert eine Hardcopy in einem Elftel der Zeit des Basic-Programmes, das heißt daß man jetzt nur noch 13 Minuten auf seine Grafik zu warten braucht. Wundert man sich jetzt, warum die als bis zu hundert Mal schnellere Maschinensprache lediglich eine Reduktion des Zeitbedarfs um 91% bringt, so sei man daran erinnert, daß der Drucker ja auch nicht gerade zu den schnellsten gehört, er ist also das bremsende Glied.

Da wir unser Programm als vollständiges Maschinenprogramm verfaßten, mußten aus Komfortgründen gewisse Änderungen vorgenommen werden. Daraus resultierte die vorliegende Fbrm in zwei einzutippenden Teilprogrammen, die ein drittes, funktionsfähiges »BIGCOPY« erzeugen.

Es folgt die Anleitung, wie die Programme eingegeben werden müssen. Zuerst werden beide Listing »BIGCOPY-DATAs« (Listing 1) und »BIGCOPY-Erzeuger« (Listing 2) eingetippt und ohne sie zu starten auf Diskette abgespeichert. Nach der Speicherung des DATA-Teiles sollte dieser Teil jedoch probehalber gestartet werden, um eventuelle Tippfehler durch die Prüfsummenbildung zu identifizieren und zu korrigieren. Diese verbesserte Version muß dann erneut abgespeichert werden. Bei dem Erzeugerprogramm dürfen die REM-Zeilen auf keinen Fall mit eingetippt werden! Zum Erzeugen von »BIGCOPY 64« lädt man zuerst das DATA-Programm, startet es und lädt danach den Erzeugerteil. Nachdem eine Diskette eingelegt wurde, auf der mindestens neun Blöcke Platz sein müssen, wird der Erzeuger mit RUN 1000 gestartet. Das erzeugte »BIGCOPY« kann dann einfach mit LOAD "BIGCOPY 64",8 geladen und mit RUN gestartet werden. Diese etwas umständliche Prozedur mußte gewählt werden, da der Maschinenteil des Programmes direkt hinter dem Basic-Teil liegen muß, um alle sieben Grafikspeicher ausdrucken zu können.

## Speicheraufteilung

Jetzt zum Programm an sich.

Um alle sieben Grafikspeicher ansprechen zu können, muß auf jeden Fall mit Maschinensprache gearbeitet werden, da ein Ausschalten des Basic-ROMs von Basic aus logischerweise Selbstmord wäre.

Im Maschinenteil ist deswegen eine Vertauschroutine, die das auszudruckende Bild in den Bereich $2000-$3FFF verschiebt. Diese Routine wird mit Basic angesprochen und wechselt den gewählten Grafikspeicher mit dem ab $2000 aus. Nachdem die Grafik eingeschaltet ist, wird die Druckroutine aufgerufen, die im Maschinensprachteil hinter der Tauschroutine liegt. Nach erfolgtem Ausdruck werden die beiden Bereiche (gewählter und $2000-$3FFF) wieder zurückgeschrieben, so daß kein Bild verlorengeht. Auf diese Weise können alle sieben Grafikspeicher hintereinander ausgedruckt werden. Die Maschinenroutine für den Ausdruck (Listing 3) wurde fast ohne Änderungen aus der Basic-Version der Druckroutine gebildet. Die Basic-Routine verdeutlicht den Algorithmus und vereinfacht die Anpassung an andere Siebennadeldrucker. Zusätzlich läßt sie sich als Unterprogramm in eigenen Programmen gebrauchen.

Da unser Maschinenprogramm bei $0D00 beginnt, und das im Januarheftdes 64’erveröffentlichte Hi-Eddi zufälligerweise auch eine Druckroutine benötigt, die ab $0D00 liegt, kamen wir auf die Idee, »BIGCOPY« an Hi-Eddi anzupassen. Für die Anpassung an Hi-Eddi sind zwei Teilschritte notwendig. Zum ersten müssen im Hi-Eddi-Steuerprogramm (Listing 3 im 64'er,Ausgabe 1/85) die Zeilen 600-820 (Listing 4) durch die Änderungen ersetzt werden, zweitens muß ein Hi-Print-Programm (Listing 5) erzeugt werden, das aus unserer Maschinenroutine besteht. Zur Erzeugung von Hi-Print werden die Basic-Zeilen an den DATA-Teil des »BIGCOPY«-Listings angehängt, danach wird der DATA-Teil einfach mit RUN gestartet, dadurch wird Hi-Print auf Diskette geschrieben.

(M. Kowall/E. Wilde/rg)


# Hardcopy mit dem Seikosha GP-550

> Über den seriellen Bus des C 64 können mit dieser Routine durch einen SYS-Befehl Grafiken in einfacher und in doppelter Größe zu Papier gebracht werden.

Tippen Sie zunächst den Basic-Lader (Listing 1) ab und speichern ihn auf Diskette. Anschließend ist das Programm mit RUN <Return> zu starten. Es wird ein Maschinenprogramm ab Speicherzelle 49152 erzeugt und nach korrekter DATA-Summenkontrolle unter dem Namen »M/HCOPY GP-550A« abgespeichert. Tritt bei der DATA-Summenkontrolle kein Fehler auf, kann das Maschinenprogramm wie folgt aufgerufen werden:

Syntax der Hardcopyroutine:

SYS49152⟨(Pg)⟩⟨,M,(L-1)*4+Br,LM⟩⟨;⟩

Hierbei bedeuten:

TODO TABLE

⟨...⟩ Ein in spitzen Klammern stehender Ausdruck ist optional, kann also weggelassen werden.
Pg Grafikseitennummer 0 < Pg < = 7.
Durch die Angabe dieser Grafikspeicherkennziffer wird grundsätzlich der RAM-Bereich angesprochen!
Zum Beispiel:
(0): nicht erlaubt (illegal quantity error), da dieser Bereich die Zeropage beinhaltet.
(1): Standardgrafikspeicher (8192 bis 16383); wird auch angesprochen, wenn keine Angabe zu Pg gemacht worden ist.
(5): spricht das RAM unter dem Basic-ROM an.
(7): Hardcopy einer Simons-Basic-Grafik, die unter dem Kernal-ROM liegt.
M Moduskennzahl M = 0 (128) : 8-bit normal (revers)
M = 1 (129): 16-bitnormal (revers)
L Länge	L = 1: einfache Länge / L = 2: doppelte Länge
Beachten Sie, daB die Zah| (L-1) einzugeben ist.
Br Breite	1 <=Br<=3
LM Linker Randabstand (siehe Druckeranleitung)
Der größtmögliche Wert des Randabstandes ist von der Breite abhängig. Eine Überschreitung des erlaubten Wertes ergibt jedoch »illegal quantity error«, so daß kein Fehlausdruck durch Zeilenüberlauf entstehen kann.
Zusätzlich stellt Ihnen die Routine eine Zentrierungsautomatik zur Verfügung, die Sie durch »LM=1« aktivieren können.
sperrt Blattvorschub nach erfolgtem Ausdruck, so daß Sie mehrere Hardcopies abstandsfrei koppeln können.


Beispiele:
(1) **SYS49152**
Ausdruck der Standard-Bitmap (8192-16383) mit Normalbelegung der Parameter. (8-Bit normale, doppelte Breite, einfache Länge, mittenzentriert, Seitenvorschub)
(2) **SYS49152(7)**;
Hardcopy einer Simons Basic-Grafik wie oben, aber ohne Seitenvorschub.
(3) **SYS49152,1,1,0**
Kleinstformat in 16-Bit-Auflösung ohne Randabstand.
(4) **SYS49152(3),128,6,5;**
Darstellung der Bitmap von 24576 bis 32767 im 8-Bit-Revers-Modus. Die Breite beträgt wie die Länge zwei, der linke Rand fünf Einheiten.

Um dem Anwender eine möglichst flexible Nutzungsmög-lichkeitanbietenzu können, stehen neben derüblichen, oben dargestellten Parameterübergabe zusätzliche POKE-Optioneh zur Verfügung, die zum Beispiel die Rahmenerstel-lüng oder das Druckbild beeinflussen.

Alle Möglichkeiten sind inden Tabellen 1 und 2 aufgeführt.
Wichtig dabei ist:

Sämtliche in Tabelle 1 aufgelisteten POKE-Optionen sind nur für die aktuelle Hardcopy gültig und werden nach Beendigung des Druckvorganges automatisch abgeschaltet!

Hingegen sind die Programmeingriffe, die in Tabelle 2 stehen, dauerhaft, uhd müssen explizit zurückgesetzt werden.

Die Option **POKE49531,96** trägt wesentlich dazu bei, die Hardcopyroutine um interessante Aspekte zu bereichern. Sie sorgt dafür, daß jedesmal, wenn eine Grafikzeile abgearbeitet worden ist, die Kontrolle zwischenzeitlich an Basic zurückgegeben wird.

Dies eröffnet die Möglichkeit, vor oder hinter jeder Grafikzeile einen Text zu senden. Mit einem kleinen Trick sind zwei oder drei Grafikseiten nebeneinander zu erstellen, vorausgesetzt, die maximale Zeichenanzahl wird nicht überschritten.

Die prinzipielle Vorgehensweise dabei zeigen die Listings 2 und 3. Dort verwendete Adressen finden sich auch in Tabelle (1).

Listing 3 läßt sich noch effektvoll erweitern, indem geschickt der Elongation-Modus durch »PRINTCHR$(14);« zum Beispiel in Zeile 240 beziehungsweise »...CHR$(15);« in Zeile 210 ein- oder ausgeschaltet wird. Man erhält so zwei nebeneinander gedruckte Hardcopies mit einfacher und doppelter Breite.

In diesem Zusammenhang sei noch erwähnt, daß nach dem ersten Aufruf der Hardcopy-Routine alle Druckerbefehle nur noch mit einem normalen PRINT-Befehl gesendet werden dürfen, solange der Ausdruck nicht vollständig abgeschlossen ist.

(Frank Jörgens/ah)

# Ein Zeichengenerator für den FX-80

> Das Programm MAKE-CHR gestattet es auf einfache Weise, komplette Zeichensätze für Drucker wie den FX-80 selbst zu erstellen.

Es sind beliebige grafische Symbole und Schriftarten, insbesondere auch Zeichensätze mit doppelter Schrifthöhe (über zwei Druckzeilen) machbar.

Die gewünschten Zeichen werden einfach mit Hilfe des Joysticks (und/oder Tastatur) in ein Bildschirmfenster gezeichnet und dann in einer relativen Datei (CHR-Datei) abgespeichert. Weiterhin enthält das Programm Routinen zum teilweisen oder vollständigen Kopieren der CHR-Dateien sowie zum Übertragen der Zeichensätze in das DruckerRAM. Ein Drucker-Handling-Menü erlaubt das Setzen verschiedener Druckerparameter und das Ausdrucken der Zeichen. Bei jeder Eingabe kann mit der Taste »Pfeil nach links« ins Menü zurückgesprungen werden.

Bei jeder Eingabe wird ein Default-Wert angezeigt, der bei leerer Eingabe erhalten bleibt. Eine neue Eingabe wird automatisch zum neuen Default-Wert.

Die ins Drucker-RAM übertragenen Zeichensätze können von Textprogrammen benutzt werden.

Zeichenerklärung für nachfolgende Beschreibung:

TODO

&	= Bildschirm	*	= Bemerkungen
**Fett** = Ihre Eingabe

### ERSTELLE ZEICHEN

&	Aus welcher Datei willst Du lesen? **Datei X**
&	In welche Datei willst Du schreiben? **Datei Y**
&	ASCII ? **ASCII X**

Die Zeichen werden aus der Datei X gelesen und in die Datei Y zurückgeschrieben.

Datei X und Datei Y können natürlich auch gleich sein. ASCII ist der ASCII-Code des zu bearbeitenden Zeichens.

\1.	Mit den CRSR-Tasten kann der Cursor im Bildschirmfenster plaziert werden. Die Taste »*« dient zum Setzen und Löschen von Punkten.

\2.	Zeichen können auch mit dem Joystick erstellt werden.

Wird der Feuerknopf gedrückt, wird ein Punkt gesetzt (gelöscht).

\* Es dürfen keine 2 Dots in horizontaler Linie nebeneinander liegen (Eigenheit des FX-80)!

Neun-DOT-Funktion:

Die Neun-DOT-Funktion bewirkt, daß das Zeichen um einen Dot versetzt nach unten ausgedruckt wird (für Unterlängen, Kommas und so weiter).

### SEND CHR TO PRINTER

& Welche Datei soll übertragen werden ? **Datei X**
& von ASCII? **ASCII X**
& bis ASCII? **ASCII Y**

Durch die Eingabe von ASCII X und ASCII Y kann man erreichen, daß nur ein bestimmter Teilbereich des Zeichensatzes ins Drucker-RAM übertragen wird.

ASCII X=0 und ASCII Y=254 (Default-Werte, das heißt voreingestellte Werte) überträgt den gesamten Zeichensatz.

\* Nach dem Übertragen eines Zeichensatzes wird ein automatischer Druckertest durchgeführt.

\* Wird ein leerer Zeichensatz beziehungsweise ein Zeichensatz mit Lücken übertragen, so wird das Drucker-RAM von den Lücken nicht überschrieben. Lücken werden vom Programm berücksichtigtund übersprungen!

### DRUCKER-HANDLING

1. COPY ROM TO RAM<br>Kopiert das Drucker-ROM ins Drucker-RAM.<br>Das Drucker-RAM hat dann den normalen Epson-Zeichensatz.
2. SELECT ROM/RAM<br>Wählt Drucker-ROM oder -RAM aus.
3. SETLINE-SPACE<br>Setzt den Drucker auf den gewählten Zeilenabstand. Bei doppelt hohem Zeichensatz wird automatisch der richtige Zeilenabstand eingestellt.
4. WÄHLE SCHRIFTART<br>Auswahl einer der 64 Schriftarten des FX-80.
5. TEST PRINTER<br>Druckt den gesamten ASCII-Code.

### ERSTELLE CHR-DATEI

Formatiert eine neue CHR-Datei. Der Name der CHR-Datei darf maximal 10 Zeichen lang sein.

### COPY SINGLE CHR

&	Aus welcher Datei wird gelesen? **DATEI X**
&	von ASCII? **ASCII X**
&	bis ASCII? **ASCII Y**
&	in welche Datei wird geschrieben? **DATEI Y**
&	ab ASCII? **ASCII Z**

Kopiert den Bereich ASCII X bis Y aus DATEI X in die DATEI Y ab ASCII Z.

\* DATEI X und DATEI Y müssen sich auf einer Diskette befinden.

### COPY CHR-DATEI

Kopiert die angegebene CHR-Datei vollständig — auch auf eine andere Diskette.

(Rainer Busch/ah)






















Grafik 2000 — Eine Basic-Erweiterung, die es in sich hat
Diese Befehlserweiterung für den C 64 stellt Ihnen 41 neue Basic-Befehle und zwei neue Funktionen zur komfortablen Handhabung der mehrfarbigen HiRes-Grafik zur Verfügung.
Die Befehle sind, wie die Befehle des Basic V2, abkürzbar, vollkommen in den Interpreter integriert und werden selbstverständlich als Tokens gespeichert. Selbst nach »THEN« ist kein Doppelpunkt notwendig.
Da die zwei unabhängigen Grafikschirme und das Programm selbst außerhalb des Basic-Speichers liegen, stehen dem Benutzer weiterhin 38911 Bytes für seine Programme zur Verfügung. Auch Sprites benötigen keinen Basic-Speicherplatz.
v Die Erweiterung selbst arbeitet außerordentlich schnell, da zum Beispiel das Programm zum Errechnen einer Punktadresse weniger als 1/15000 Sekunde benötigt. So dauert beispielsweise das AusFILLen des leeren Bildschirmes weniger als 50 Sekunden! Auch die weiteren Befehle arbeiten ähnlich schnell.
Diese Erweiterung ist zudem sehr sicher, denn selbst grobe Fehleingaben führen nicht zum Systemabsturz und somit Programmverlust (POKEs ausgenommen).
Grundlagen
Grafik 2000 unterstützt die farbige HiRes-Grafik des C64. Diese Grafik ist aus 320 x 200 einzeln ansprechbaren Punkten aufgebaut. Dabei befindet sich der Punkt mit den Koordinaten 0/0 in der linken oberen und der Punkt mit den Koordinaten 319/199 in der rechten unteren Ecke des Bildschirmes.
Die Farbinformation fürje 8 x 8 Punkte liegt im sogenannten Video-RAM. Hier steht in den oberen vier Bits die Farbe für einen gesetzten, in den unteren vier Bits die Farbe für einen gelöschten Punkt. Für den Anwender bedeutet dies, daß in einem 8 x 8 Punkte-Kästchen nur zwei verschiedene Farben vorkommen können.
Befehlsbesprechung
Anmerkung: Hinter dem Befehlsnamen steht die jeweilige Abkürzung, wobei»’« bedeutet, daß der folgende Buchstabe geSHIFTet eingegeben werden muß.
CLEAR	CL’E
Löscht den Grafikbildschirm. Die Farbe bleibt unverändert.
MODE n	M’O
Wenn n=1 ist, wird der Grafikmodus eingeschaltet; ist n=0,
wird auf den Textbildschirm geschaltet. Dabei wird der Groß/Grafik-Modus eingeschaltet.
COLORp,h	CO’L
Setzt die Farben im Video-RAM. Dabei steht p für die Punktfarbe und h für die Hintergrundfarbe. Es können Werte von 0 bis 15 für die Farben stehen.
CHANGE	CH’A
CHANGE wechselt zwischen den beiden Grafikschirmen, indem die jeweiligen Punkte ausgetauscht werden.
INVERS	IN’V
Invertiert die sichtbare Grafik. Das Video-RAM bleibt unverändert.
COMB n	CO’M
COM B führt eine logische Verknüpfung zwischen den beiden Grafikseiten aus. Das Ergebnis wird in die sichtbare Grafik geschrieben. Die Verknüpfungsart ist mit n wählbar: n=1:	logischOR
n=2:	logischAND
n=3:	logisch EXOR
GSAVEa$,dv	G’S
GSAVE speichert die verdeckte Grafik mit dem Namen a$ an Gerät mit der Nummer dv ab. Die Parameter können entfallen.
Beispiel:
GASVE * BILD 1 ",8 Speichert die Grafik BILD 1 aufDiskette
GSAVE	Speichert die Grafik ohne
Namen auf Kassette ab.
CSAVEa$,dv	C’S
Speichert das Video-RAM, dieFarbe der Grafik, ab.
Die Parameter sind analog zu GSAVE.
GLOADa$,dv	G’L
Mit GLOAD kann man die mit GSAVE abgespeicherte Grafik oder das mit CSAVE abgespeicherte Video-RAM laden.
Da dieser Befehl keine Basic-Zeiger verändert, eignet er sich auch zum Laden von Maschinenprogrammen, auch im Direktmodus.
SPO|NTx,y	SP’O
Setzt einen Punkt an die Stelle x/y in der Grafik.
CPOINTx,y	C’P
Löscht den Punkt x/y.
IPOINTx,y	PS’C
Invertiert den Punkt x/y
PSCLINE x,y	PS’C
Setzt den Punkt x/y und löscht ab diesem Punkt eine Linie nach unten bis zum Grafikrand. Der Befehl ist besonders für 3D-Grafiken geeignet.
HMARK x,y	H’M
Setzt eine waagrechte »Markierung«an den Punktx/y, das heißt, es wird eine 5 Punkte lange Linie gezeichnet, deren Mittelpunkt der Punkt x/y ist.
VMARK x,y	V’M
Analog HMARK, jedoch wird eine senkrechte Markierung gezeichnet.
HLINE y	H’L
Zeichnet eine durchgehende Horizontale an y.
VLINE x	V’L
Zeichnet eine durchgehende Vertikale an x.
Mit den letzten vier Befehlen ist es möglich, schnell und einfach Koordinatensysteme zu zeichnen.
SLINE xO,yO,x1,y1	S’L
Zeichnet eine Linie von xO/yO nach x1/y1. Die Richtung beziehungsweise Länge ist beliebig.
CLINE xO,yO,x1,y1	CLT
Wie SLINE, die Linie wird jedoch gelöscht.
ILINE xO,yO,x1,y1	l’L
Wie SLINE, die Linie wird jedoch invertiert.
SCIRCLE x,y,a,b	S’C
Zeichnet eine Ellipse mit dem Mittelpunkt x/y und den Radien a und b.
Grafik
CCIRCLE x,y,a,b	C’C
Wie SCIRCLE, die Ellipse wird jedoch gelöscht.
ICIRCLE x,y,a,b	l’C
Wie SCIRCLE, die Ellipse wird jedoch invertiert.
SELLIPSE x,y,a,b,dw,sw,ew,s	S’E
Zeichnet einen Ellipsenbogen mit dem Mittelpunkt x/y und den Radien a und b.
Die weiteren Parameter bedeuten:
dw Drehwinkel der Hauptachse einer Ellipse um den Mittelpunkt. Die Ellipse wird mit dw im Uhrzeigersinn um den Mittelpunkt x/y gedreht.
sw, ew sw und ew geben den Start- und Endwinkel des Ellipsenbogens an.
s	gibt den Schrittwinkel an, mit dem die einzelnen
Bogenpunkte errechnet werden.
Der Befehl errechnet einzelne Punkte des Ellipsenbogens, die mit einer Linie verbunden werden. Die Winkel müssen im Bogenmaß angegeben werden. Die Drehungen werden mit dem Uhrzeigersinn ausgeführt.
CELLIPSE x,y,a,b,dw,sw,ew,s	C’E
Wie SELLIPSE, der Bogen wird jedoch gelöscht.
IELLIPSE x,y,a,b,dw,sw,ew,s	l’E
Wie SELLIPSE, der Bogen wird jedoch invertiert.
STEXT r,b,h,v,a,x,y,a$	STE’X
Schreibt einen Text in den Grafikschirm.
Die einzelnen Parameter bedeuten:
r	Schreibrichtung
r = 1 von links nach rechts
r = 2 von rechts nach links
r = 3 von unten nach oben
r = 4 von oben nach unten
Die Schrift ist, der Richtung entsprechend, gekippt.
b	Breite eines einzelnen Zeichens; von 1 (normal)
bis 25 möglich.
h	Höhe eines Zeichens (von 1 bis 25).
v	Verschiebung (Kursivschrift)
v gibt die Verschiebung eines Zeichens von seiner Spitze zum Fuß an.
v kann Werte von 0 (normal) bis zum achtfachen (45 Grad Schräge) der Höhe h annehmen.
a	Abstand der Zeichen, a kann Werte von 0 bis 199
annehmen. Für Normalschrift ist a=8.
x und y Geben die Startkoordinaten an.
x/y ist die linke obere Ecke des ersten Zeichens eines Strings.
a$ String- oder numerischer Ausdruck, der gezeichnet werden soll.
Im String kann zwischen den Zeichensätzen umgeschaltet werden: ctrl/9	rvs on
ctrl/O	rvs off
ctrl/a	Groß/Klein
ctrl/b	Klein/Groß
Ohne	Umschaltung wird mit dem Groß/Grafik-
Zeichensatz in Normalschrift gearbeitet.
Hinweis: Wenn ein String außerhalb des Bildschirmes und mit großen Buchstaben gezeichnet wird, kann es vorkommen, daß der Computer bis zu zwei Minuten lang keine Meldung ausgibt. Er ist nicht abgestürzt, sondern fährt anschließend mit der Programmausführung fort.
CTEXT r,b,h,v,a,x,y,a$	C’T
Wie STEXT, der Text wird jedoch gelöscht.
ITEXT r,b,h,v,a,x,y,a$	l’T
Wie STEXT, jedoch wird der Text invertiert.
FILL x,y	F’l
Malt ein durch Linien oder den Bildschirmrand begrenztes Feld beliebiger Form aus.
x/y geben die Startkoordinaten an.
DUPLICATE xO,yO,x1,y1,x,y	D’U
Kopiert einen Grafikausschnitt.
Dabei geben xO/yO und x1/y1 die Eckpunkte (links oben / rechts unten) eines Rechtecks an, das nun so kopiert wird, daß x/y die Koordinaten der linken oberen Ecke der Kopie angeben.
Der Ausschnitt wird so kopiert, daß die Kopie exakt dem Original entspricht. Das Original kann also überschrieben werden.
SCROLL r,xO,yO,x1,y1	SC’R
Rolliert einen Grafikausschnitt um einen Punkt.
Der Ausschnitt wird mit xO/yO und x1/y1 analog zu DUPLICATE definiert.
r bestimmt die Richtung des Rollierens:
r1 = nach rechts
r2 = nach links
r3 = nach oben
r4 = nach unten
WINDOW yO,y1	W’l
WINDOW ermöglicht die gleichzeitige Anzeige von Text und Grafik. Die beiden Übergangszeilen dazu sind frei wählbar.
Die Parameter geben die erste (y0) und letzte (y1) Zeile im Grafikmodus an. Der restliche Bildschirm wird im Textmodus ausgegeben. In den Grenzzeilen sollten keine Textzeichen stehen; der VIC kann diese unter Umständen nicht von der Grafik unterscheiden und unsinnige Zeichen anzeigen.
WINDOW hat Vorrang vor MODE n.
WINDOW yO,y1 wird durch WINDOW ohne Parameter abgeschaltet. Der Groß/Grafik-Textmodus wird eingeschaltet.
LOWCOL x,y,p,h	LO’W
Mit LOWCOL kann man gezielt ein Byte des Video-RAMs ändern.
x/y geben die Koordinaten des entsprechenden Grafikpunktes an, p die Punkt- und h die Hintergrundfarbe.
SPRITE n,x,y	SP’R
Mit Sprite kann man die Form eines Sprites anhand der Grafik definieren.
n gibt die Nummer des Sprites an (0-7) und x/y die Koordinaten der linken oberen Ecke eines Grafikausschnittes, nach dem die Spriteform gebildet wird (siehe auch DUPLICATE). Diese Form wird jedoch nicht einem Sprite zugeordnet; die Nummer n zeigt vielmehr die Blocknummer an, in den die Spriteform abgelegt wird. Dies sind die Blöcke 120 (n=0) bis 127 (n=7).
Die Blockzeiger liegen in den Adressen 50168 bis 50175 und müssen mit POKE gesetzt werden.
Hinweis: Die Spriteformen gelten nur im Grafikmodus. Im Textmodus gelten die gewohnten Regeln zum Arbeiten mit Sprites von Basic aus.
Das bedeutet, daß man mit WINDOW »gemischte« Sprites erzeugen und zwischen den zwei Definitionssätzen umschalten kann.
SSAVE n,n$,dv	S’S
Speichert einen Spriteblock mit dem Namen n$ auf dv ab. Zur Nummer n (0-7) siehe auch SPRITE.
SLOAD n,n$,dv	SL’O
Lädt den Spriteblock n. Die Nummer, unter der der Block abgespeichert wurde, ist irrelevant. Siehe auch SPRITE und GLOAD.
Grafik 2000 besitzt vier weitere Befehle, die die meisten übrigen Befehle verändern und diese somit auf 140 verschiedene Funktionen erweitern.
PSCREEN n	PSC’R
n = 2 Alle Befehle, die die Grafik verändern, wirken nicht mehr auf die sichtbare, sondern auf die unsichtbare, zweite Grafik.
(CLEAR,COMBI,HLINE,INVERS,TEXT,LINE, CIRCLE,FILL, etc.)
77
Grafik
n = 1 Die Befehle wirken wieder auf die sichtbare Grafik.
TSCREEN n	T’S
n = 2 Die Befehle SPRITE, SCROLL und DUPLICATE sowie die Funktionen TEST und CTEST testen nicht in der sichtbaren, sondern in der unsichtbaren Grafik.
Man kann also mit DUPLICATE Ausschnitte der einen in die andere Grafik übertragen.
n = 1 schaltet zurück in die sichtbare Grafik.
COLPLOT p,h	COL’P
COLPLOT ermöglicht das mehrfarbige Zeichnen in der HiRes-Grafik.
Parameter:
p	Punktfarbe (0-15)
h	Hintergrundfarbe (0-15)
COLPLOT p,h	bewirkt, daß	die Befehle
SPOINT	SUNE	SCIRCLE	SELLIPSE
STEXT	FILL	SCROLL	DUPLICATE
von nun an das Video-RAM mit der Punktfarbe p setzen. Jeder gesetzte Punkt erhält also die Farbe p; die Farbe der nicht gesetzten Punkte bleibt erhalten.
COLPLOT bewirkt außerdem, daß die Befehle
CPOINT	CLINE	CCIRCLE CELLIPSE
CTEXT	SCROLL	DUPLICATE
das Video-RAM mit der Hintergrundfarbe setzen.
Jeder gelöschte Punkt erhält die Farbe h; die Farbe der gesetzten Punkte wird nicht verändert.
Die Befehle SCROLL und DUPLICATE setzen sowohl Hintergrund- als auch Punktfarbe, je nachdem, ob ein Punkt gesetzt oder gelöscht wird.
Die Option kann mit COLPLOT ohne Parameter abgeschaltet werden.
PLOT n	P’L
n = 2
Die Befehle
SPOINT	SLINE	SCIRCLE SELLIPSE
STEXT	SCROLL	DUPLICATE
arbeiten nicht mehr mit der normalen Punkt-Setzroutine, sondern mit der PSCLINE-Routine.
Es wird also unter jedem gezeichnetem Punkt eine Linie bis zum Bildschirmrand gelöscht.
Es lassen sich auf einfachste Weise effektvolle 3D-Bilder auf den Bildschirm zaubern.
Dieser Befehl arbeitet unabhängig von COLPLOT.
Es wird nur die Farbe des gezeichneten Punktes gesetzt; die Löschlinie verändert keinesfalls das Video-RAM.
n = 1 Schaltet wieder die normale Punktsetzroutine ein.
Hinweis: Die invertierten Befehle werden weder von COLPLOT noch von PLOT beeinflußt.
Testfunktionen
var = TEST (x,y)	T’E
Weist der Variablen var den Wert 1 zu, wenn der Punkt x/y gesetzt ist, ansonsten den Wert 0.
var = CTEST (x,y)	CTE’S
Weist der Variablen var die sichtbare Farbe des Punktes x/y zu (0 bis 15).
Siehe auch TSCREEN.
Sonstiges
Grafik 2000 stellt dem Benutzer eine verbesserte SQR-Routine zur Verfügung. Sie wurde bereits in den Interpreter eingebunden.
Wenn eine Basie-Fehlermeldung ausgegeben wird, schaltet Grafik 2000 den Textmodus ein, und der Befehl WINDOW wird abgeschaltet.
Grafik 2000 verfügt über eine eigenen NMI/BREAK-Routine.
Diese schaltet den Textmodus ein, den Befehl WINDOW ab und setzt Rahmen/Hintergrund- und Schriftfarben.
Diese Farbe kann man durch POKE selbst bestimmen:
POKE 51071,Hintergrundfarbe
POKE 51079,Schriftfarbe
Die Farben werden bereits beim Drücken der RESTORE-Taste ohne die RUN/STOP-Taste gesetzt.
Das Programm wird hierbei nicht unterbrochen.
Während den Zeichenbefehlen (ausgenommen ELLIPSE) kann man den Computer durch nichts in seiner Arbeit stören.
Auch RUN/STOP-RESTORE ist erst nach dem Ausführen eines solchen Befehls möglich.
(Frank-Rüdiger Brendel/ah)
programm : grafik 2000	0801 2298
0801 : 30 08 cl 07 9e 20 32 30 9b 0809 : 39 38 0d 0d 0d 0d 05 47 lf 0811 : 52 41 46 49 4b 20 32 30 9d 0819 : 30 30 20 42 59 20 46 52 06 0821 : 41 4e 4b 20 42 52 45 4e c9 0829 : 44 45 4c 0d 0d 0d 00 00 fe 0831 : 00 78 a9 34 85 01 a0 lf 7f 0839 : b9 34 0c 99 14 03 88 10 de 0841 : f7 a9 16 8d 00 03 a9 c7 92 0849 : 8d 01 03 a0 07 b9 97 08 d8 0851 : 99 04 03 88 10 f7 c8 a9 f5 0859 : c4 85 15 84 14 a9 08 85 6f 0861 : fe a9 a0 85 fd a2 la bl cd 0869 : fd 91 14 88 d0 f9 e6 fe bb 0871 : e6 15 ca d0 f2 a9 37 85 13 0879 : 01 20 ed c7 20 24 c9 20 89 0881 : ed c7 20 86 c7 20 22 e4 fb 0889 : a0 e0 b9 2d 07 20 d2 ff 6a 0891 ; c8 d0 f7 4c 9d e3 00 c4 cb 0899 s la c5 bb c4 99 c6 00 a6 3a 08al : 7a a0 04 84 0f bd 00 02 e0 08a9 : 10 07 c9 ff f0 3e e8 d0 f5 08bl : f4 c9 20 f0 37 85 08 c9 03 08b9 : 22 f0 56 24 0f 70 2d c9 2a 08cl : 3f d0 04 a9 99 d0 25 c9 e7 08c9 : 30 90 04 c9 3c 90 ld 84 41 08dl : 71 a0 00 84 0b 88 86 7a 27 08d9 : ca c8 e8 bd 00 02 38 f9 de 08el : 9e a0 f0 f5 c9 80 d0 30 0e 08e9 : 05 0b a4 71 e8 c8 99 fb fe 08fl : 01 b9 fb 01 f0 57 38 e9 6c 08f9 : 3a f0 04 c9 49 d0 02 85 14 0901 : 0f 38 e9 55 d0 9f 85 08 81 0909 : bd 00 02 f0 df c5 08 f0 93 0911 : db c8 99 fb 01 e8 d0 f0 b3
0919 : a6 7a e6 0921 : 10 fa b9 0929 : ff ca c8 0931 : f9 a2 c5 0939 : af a6 7a 0941 = c5 10 fa 0949 : bd 00 02 0951 : c6 7b a9 0959 : a5 a9 20 0961 : 4c ae a7 0969 : ee c9 23 0971 : 27 0a aB 0979 : 0c a0 48 0981 : 90 13 c9 0989 : 0a a8 b9 0991 : c5 48 4c 0999 : 20 73 00 09al : 00 c9 89 09a9 : ff ae a5 09bl : a9 20 79 09b9 : a8 c9 cc 09cl : la a7 c9 09c9 : a6 24 0f 09dl : aa 84 49 09d9 : c8 b9 a2 09el : c8 b9 a2 09e9 : a6 20 47 09fl : c7 lb c8 0Qf9 : c8 43 c8 0a01 : c8 cb c8 0a09 : c9 23 c9 0all : c9 88 c9 0al9 : ca 85 ca 0a21 : cb 83 cb 0a29 : ce 5d c9 0a31 : ca cb ce 0a39 : cf 6a cf 0a41 : cf 43 4c
0b c8 b9 9d a0
9e a0 d0 b4 a0 e8 bd 00 02 38 f0 f5 c9 80 f0 e6 0b c8 b9 al b9 a2 c5 d0 e4 10 9d 99 fd 01 ff 85 7a 60 4c 73 00 20 c4 c4 f0 f0 e9 80 90 b0 11 c9 0b f0 b9 0d a0 48 b9 4c 73 00 c9 4c 75 b0 0f e9 4b 51 c5 48 b9 50 73 00 4c 0e a8 20 9e ad 20 79 f0 05 a9 a7 20 61 d0 03 4c 3b 00 b0 ad 4c a0 b0 05 29 ff 4c ff d0 03 4c f3 30 f9 38 e9 cb a0 ff ca f0 08 c5 10 fa 30 f5 c5 10 03 4c ef ab 4c 41 c5 ec 78 c8 3d c8 40 53 c8 5f c8 6c bc c8 ed c8 14 29 c9 3a c9 85 8b c9 7f ca 82 0f cb 12 cb 15 86 cb 89 cb 28
29 95
31 9c d8
69 2a 85 e7 8e 88
69 68 7e a6 e8 42 83
62 b4 cl 5f ec 4e
65 11 a6 al
83 c0 9c cb el fa
3e ce 70 ce 04	94
45 ca 41 cf 5c ec e2 cf 7c cf bd 29
45 41 d2 43 4f c4
0a49 : 4c 4f d2 4d 0a51 s 50 4f 49 4e 0a59 : 49 4e d4 53 0a61 : d4 50 53 43 0a69 : 48 4c 49 4e 0a71 5 4e c5 48 4d 0a79 : 4d 41 52 cb 0a81 s c5 47 4c 4f 0a89 : 41 4e 47 c5 0a91 s 4c 4f 57 43 0a99 : 49 4e c5 43 0aal s 53 4c 49 4e 0aa9 : 58 d4 43 54 0abl : 54 45 58 d4 0ab9 : 43 4c c5 43 0acl : 4c c5 53 43 0ac9 s c5 49 45 4c 0adl : c5 43 45 4c 0ad9 s c5 53 45 4c 0ael : c5 46 49 4c 0ae9 : 45 52 d3 53 0afl : cc 44 55 50 0af9 : 54 c5 43 4f 0b01 s d4 57 49 4e 0b09 s 4c 4f d4 54 0bll : 45 ce 50 53 0bl9 : ce 43 53 41 0b21 : 52 49 54 c5 0b29 : c5 53 4c 4f 0b31 : 53 d4 43 54 0b39 : a9 00 85 0d
4f 44 c5 49 5c d4 43 50 4f ac 50 4f 49 4e aa 4c 49 4e c5 6e c5 56 4c 49 c6 41 52 cb 56 e0 47 53 41 56 36 41 c4 43 48 bf 43 4f 4d c2 e5 4f cc 49 4c dc 4c 49 4e c5 b7 c5 49 54 45 b9 45 58 d4 53 d8 49 43 49 52 dl 43 49 52 43 4a 49 52 43 4c fa 4c 49 50 53 05 4c 49 50 53 0a 4c 49 50 53 la cc 49 4e 56 a2 43 52 4f 4c 53 4c 49 43 41 dd 4c 50 4c 4f 02 44 4f d7 50 5c 53 43 52 45 e0 43 52 45 45 a2 56 c5 53 50 07 53 53 41 56 67 41 c4 54 45 ab 45 53 d4 00 8c 20 73 00 08 93
Listing zum Programm Grafik 2000. Bei der Eingabe bitte den MSE verwenden.
0b41 : c9 ba d0 0b49 s 20 fl ae 0b51 : ad c9 f5 0b59 : 0b 28 4c 0b61 : c6 4c a2 0b69 : a2 0f 98 0b71 : 02 a5 fe 0b79 : c7 a0 00 0b81 : 10 90 04 0b89 8 4c a2 b3 0b91 s ae a9 b2 0b99 s 26 c7 68 0bal s ae 20 el 0ba9 s 02 a0 00 0bbl s 01 c8 4c 0bb9 : 86 02 20 0bcl s 3a a4 4c 0bc9 s e0 c8 b0 0bdl s 90 08 d0 0bd9 s b0 01 60 0bel s 85 01 bl 0be9 s 85 01 60 0bfl s a9 7f 8d 0bf9 s 10 03 4c 0c01 s 20 el ff 0c09 s 94 c7 99 0cll s 20 a3 fd 0cl9 s c7 20 ce 0c21 s 86 c7 4c 0c29 3 20 d0 8d 0c31 s 86 02 60 0c39 s c7 4a f3 0c41 s f2 33 f3 0c49 s f6 3e fl 0c51 s f4 ed f5 0c59 s 8d fa bf 0c61 s 8d fb bf 0c69 s 8d fc bf 0c71 s e0 4a. 6,6 0c79 s 66 fd 18 0c81 8 78 a9 34 0c89 s 85 01 58 0c91 s a9 00 85 0c99 s fd c8 d0 0cal s f6 4c b4 0ca9 s c9 10 b0 0cbl s 85 02 20 0cb9 s b0 67 60 0ccl s a2 c0 86 0cc9 s a2 03 91 0cdl s fe ca d0 0cd9 s c2 ca d0 0cel s a9 80 2c 0ce9 s 26 c7 20 0cfl s 4c e7 c7 0cf9 s c7 20 a7 0d01 s 9e b7 e0 0d09 s c7 4c 94 0dll s f7 b7 20 0dl9 s 20 9e b7 0d21 s 03 4c 48 0d29 s 8d a3 c8 0d31 s 94 8d 18 0d39 : 00 dd a9 0d41 s 78 a9 15 0d49 s 18 d0 8c 0d51 s a9 78 a2 0d59 s al c8 58 0d61 s ca e0 c8 0d69 s 4c fe dl 0d71 s 38 e9 02 0d79 8 00 85 15 0d81 s 24 a5 14 0d89 s el c7 4c 0d91 8 20 09 c9 0d99 s a2 a0 86 0dal a a0 c0 20 0da9 s 20 d4 el 0dbl s b9 a9 fd 0db9 s 01 85 b9 0dcl s 4c b4 c7 0dc9 : dc 20 9e 0ddl s 03 4c 48 0dd9 s lf dd 20 0del s fd ae 20 0de9 s 92 20 el 0dfl s d0 20 cd 0df9 s 91 fd 4c 0e01 s 20 el c7 0e09 s fd 49 ff 0ell s e6 fe ca 0el9 s ff fe 49 0e21 s d0 f5 4c 0e29 s a9 80 2c 0e31 s 26 c7 86 0e39 s 14 8d ee 0e41 s dd 20 79 0e49 s dd 85 02 0e51 s dd a2 01 0e59 : bd ee dd 0e61 s f2 4c ,e9 0e69 s fd ae 20 0e71 8 8e f0 dd
0d 28 20 73 00 8e 20 93 cd 4c 8d 05 f0 08 c9 f6 f0 0b 8d ae 28 20 ec c4 b3 28 20 ec c6 31 f0 02 a2 f0 86 dd 38 e9 e0 20 d2 d8 bl fd 25 02 c9 6b 4a 4a 4a 4a a8 95 20 73 00 20 fa c5 48 a9 47 48 20 00 68 86 02 20 f7 b3 c7 20 f2 Cf 85 b4 bl fd 25 02f0 25 e7 c7 8a 30 0a cc ce ce a6 02 4c e5 74 a4 20 eb b7 59 0f a5 15 c9 01 47 07 a5 14 c9 40 ld 68 68 60 a9 33 c6 6a 85 fc a9 34 f0 48 8a 48 98 48 ee 0d dd ac 0d dd 92 72 fe 20 bc f6 be d01a a0 lf b9 c2 14 03 88 10 f7 0e 20 18 e5 20 86 c4 ce 6c 02 a0 20 17 72 fe a9 06 8d 5d 21 d0 a9 01 8d b2 31 ea 66 c7 4c 90 91 f2 0e f2 50 60 57 fl ca fl ed ce 2f f3 66 fe a5 7a a9 fc 8d fa ff 16 a9 ff 8d fbff e5 a9 40 8d fc ff 75 60 a5 fe 38 e9 77 fd 4a 66 fd 4a 34 69 c0 85 fe 60 06 85 01 60 a9 37 b4 60 a9 e0 85 fe 67 fd a8 a2 20 91 9f fb. e6 fe ca d0 el c7 20 9e b7 8a ce 75 0a 0a 0a 0a 82 fl b7 8a c9 10 95 20 05 c8 05 02 e8 fe a0 00 84 fd 5d fd c8 d0 fb e6 e2 f6 a2 e8 9d ff 2f fa 60 a9 c0 2c 42 a9 00 85 09 20 9b el c7 20 4f d0 93 20 26 c7 20 el 0c d0 4c e7 c7 20 38 c8 b0 f6 20 el d3 dl 20 8a ad 20 a3 el c7 4c ca dl d6 e0 01 90 21 f0 8d b2 78 ad 18 d0 aa a9 0b a0 3b a2 d7 d0 8c 11 d0 8e 5e 60 a2 >8 d0 14 f8 a0 lb a2 97 8d 27 11 d0 8e 00 dd 4c 60 8d 85 c8 8e 30 60 20 26 c7 ca 68 b0 97 20 el c7 75 20 26 c7 a5 14 0c 85 14 a5 15 e9 66 c9 01 90 08 d0 11 c9 40 b0 d4 20 d3 47 d2 20 b4 c7 da 78 a2 36 86 01 af fe a2 00 86 fd 4d d8 ff 4c e7 c7 56 a5 b9 09 01 85 53 60 20 d4 el a9 4e a9 00 20 9e f4 86 20 el c7 4c ee c9 b7 ca e0 03 90 35 b2 20 el c7 4c 2b 26 c7 86 08 20 c5 05 c8 05 02 85 a6 c7 a6 08 20 11 4a c7 a0 00 a5 92 03 e7 c7 20 b4 c7 79 20 0b dd ca bl 36 91 fd c8 d0 f7 36 d0 f2 a0 41 b9 f0 ff 99 ff fe 88 90 e7 c7 a9 c0 2c 21 a9 00 85 09 20 e3 02 20 el c7 a5 98 dd a5 15 8d ef a4 00 d0 le ad f6 2f 8e f0 dd 8e f6 61 bd f4 dd 95 14 34 9d f4 dd ca 10 42 c9 20 e7 c7 20 cd 26 c7 20 el c7 lf 8e f6 dd a2 01 ab
0e79 :	b5	14	bc	ee	dd	9d	ee	dd	87
0e81 s	9d	f4	dd	94	14	ca	10	f0	5c
0e89 s	ae	f0	dd	20	73	d2	4c	e7	f9
0e91 s	c7	20	9e	b7	ca	8a	30	78	ba
0e99 :	c9	04	b0	74	20	el	c7	8a	64
0eal s	6a	6a	6a	60	d0	15	20	el	el
0ea9 s	c7	a9	49	8d	5a	d0	a9	ff	lc
0ebl s	8d	5b	d0	a2	0a	a0	4c	a9	9e
0eb9 :	60	d0	le	20	05	c8	20	el	e8
0ecl 9	c7	8e	4b	d0	a5	02	8d	73	44
0ec9 9	d0	a9	50	8d	5a	d0	a9	el	ca
0edl g	8d	5b	d0	a2	0f	a0	20	a9	5e
0ed9 9	ea	8d	66	da	8e	57	d0	8c	7f
0eel 9	79	d0	4c	e7	c7	20	9e	b7	3a
0ee9 9	e0	01	f0	0f	e0	02	d0	20	09
0ef1 9	20	el	c7	a2	2c	a0	30	a9	24
0ef9 9	48	d0	09	20	el	c7	a2	20	17
0f01 9	a0	a0	a9	00	8e	4f	d0	8c	lb
0f09; 52 d0 8d 53 d0 4c e7 c7 30 0fll 9	4c	48	b2	20	fl	b7	8a	38	a9
0fl9 9	f0	f6	c9	la	b0	f2	60	a9	bl
0f21 9	c0	2c	a9	80	2c	a9	00	85	8d
0f29 9	09	20	f2	c9	20	6b	dl	20	ld
0f31 9 e7c7 20 74 ca 85 92 20 f6 0f39 9	74	ca	85	93	20	fl	b7	a5	a2
0f41 9	93	0a	0a	0a	c5	65	90	c8	f9
0f49: 86 ae 20 fl b7 e0 c9 b0 78 0f51 9 bf 86 9c 20 fd ae 20 26 al 0f59 9 c7 86 02 a9 d0 85 fb a9 96 0f61 9 00 85 a4 85 a5 85 11 20 09 0f69 9 fd ae 20 9e ad 24 0d 30 2a 0f71 9 06 20 dd bd 20 87 b4 20 08 0f79 9 a6 b6 48 a5 9c 4a 85 9e bl 0f81 9 a2 00 a9 a0 38 e5 9e e8 al 0f89 9 f0 08 c9 01 b0 f7 8a 69 d8 0f91 9 0b aa ca 86 9e 68 c5 9e f6 0f99 9 b0 01 aa a0 00 e8 20 el 14 0fal 9 c7ca f0 08 bl 22 20 0e d3 0fa9 9 d5 c8 d0 f5 4c e7 c7 a9 4c 0fbl 9 c0 2c a9 80 2c a9 00 85 ld 0fb9 9 09 20 26 c7 86 ae a5 15 f3 0fcl 9 85 93 a5 14 85 92 20 fd 65 0fc9 9 ae 20 eb b7 a5 15 d0 dc 79 0fdl 9 a5 14 85 5a 86 5b 18 65 9b 0fd9 : 92 aa a5 93 69 00 c9 01 5c 0fel 9 90 06 d0 c8 e0 40 b0 c4 le 0fe9 9 a5 92 38 e5 5a a5 93 e9 97 0ffl 9 00 90 b9 a5 ae aa 18 65 c8 0ff9 9 5b b0 bl c9 c8 b0 ad 8a 30 1001 9 38 e5 5b 90 a7 20 el c7 a7 1009 9 4c 0f d7 20 d4 bb 20 fd 7e 1011 9 ae 20 8a ad a5 61 60 20 4f 1019 9 6f cb f0 04 c9 8c 90 f6 5c 1021 9 4c 48 b2 a9 c0 2c a9 80 88 1029 9 2c a9 00 85 09 20 72 cb ce 1031 9 207d cb 20 9b bc a5 65 08 1039 9 8d 25 ce a5 64 8d 26 ce aa 1041 9 20 6f cb 20 7d cb 20 9b fe 1049 9 bc a5 65 8d 27 ce a5 64 2b 1051 9 8d 28 ce 20 78 cb a2 ef fa 1059 9 a0 cd 20 d4 bb 20 78 cb b9 1061 9 a2 f4 a0 cd 20 6c cb a2 39 1069 9 03 a0 ce 20 6c cb a2 0d 3e 1071 9 a0 ce 20 6c cb a2 f9 a0 09 1079 9 cd 20 6c cb f0 a2 a2 fe 97 1081 9 a0 cd 20 d4 bb a9 03 a0 01 1089 9 ce 20 a2 bb 20 6b e2 a2 b6 1091 9 08 a0 ce 20 d4bb a9 03 79 1099 9 a0 ce 20 a2 bb 20 64 e2 11 10al 9 a2 03 a0 ce 20 d4 bb 20 9f 10a9 9 9b cc a5 ae 8d 23 ce a5 62 10bl 9 af 8d 24 ce a5 92 8d 21	71
10b9 9 ce a5 93 8d 22 ce 20 9b 41 10cl 9 cc 20 el c7 a5 af d0 48 ba 10c9 9 a5 ae c9 c8 b0 42 8d f0 86 10dl 9 dd aa a4 92 a5 93 c9 01 9f 10d9 9 90 06 d0 34 c0 40 b0 30 58 10el 9 8c ee dd 8d ef dd ad 24 fa 10e9 9 ce d0 25 ad 23 ce c9 c8 80 10fl 9 b0 le 85 02 ac 21 ce ad bc 10f9 9 22 ce c9 01 90 06 d0 10 bl 1101 9C0 40 b0 0c 84 14 85 15 b8 1109 9 20 73 d2 a6 02 20 4f d0 6c 1111 «: 20 e7 c7 a9 0d a0 ce20 9d 1119 9 a2 bb a9 fe a0 cd20 67 ab 1121 9	b8	a2	0d	a0	ce	20	d4	bb	3a
1129 9	20	lb	bc	a9	f9	a0	cd	20	57
1131 9	5b	bc	aa	ca	f0	03	4c	0b	5d
1139 9	cc	60	a9	0d	a0	ce	20	a2	88
1141 9	bb	20	6b	e2	a2	12	a0	ce	le
1149 9	20	d4	bb	a9	0d	a0	ce	20	49
1151 9	a2	bb	20	64	e2	a5	61	d0	e8
1159 9	ld	a2	lc	a0	ce	20	d4	bb	9b
1161 9	a9	ef	a0	cd	20	a2	bb	ad	45
1169 9	13	ce	85	66	a2	17	a0	ce	14
1171 9 20 d4 bb 4c 3bcd 202b 6d 1179 9	bc	85	0a	a9	12	a0	ce	20	51
1181 9	0f	bb	a2	12	a0	ce	20	d4	03
1189 9	bb	20	dc	cd	20	e9	cd	a5	19
1191 9	61	20	2b	ba	20	ca	bb	a9	bf
1199 9	ef	a0	cd	20	a2	bb	20	e9	ac
llal 9	cd	a5	61	20	2b	ba	a9	57	7b
lla9 9	a0	00	20	67	b8	20	93	cd	b5
llbl 9 a9 bc a0 llb9 9 ef a0 cd 1lcl 9 cd a5 0a llc9 9 ce 20 d4 lldl 9 20 28 ba lld9 9 d4 bb 20 llel 9 20 e2 cd lle9 9 a0 00 20 ' llfl 9 20 9b bc
llf9 9 ce 85 92 1201 9 85 93 a9 1209 9 bb 20 d6 1211 9 e2 cd 20 1219 9 00 20 50 1221 : 9b bc 18 1229 9 85 ae a5 1231 9 af 60 20 1239 : 03 4c 48 12419 61 38 e9 1249 9 01 28 90 1251 9 a9 04 85 1259 9 57 a0 00 1261 9 a0 00 20 1269 9 67 d0 e9 1271 9 a0 ce 4c 1279 9 ce d0 f7 1281 9 fl a9 lc 1289 9 20 0c bc 1291 9 00 00 00 1299 9 00 00 00 12al 9 00 00 00 12a9 9 00 00 00 12bl 9 00 00 00 12b9 9 00 00 00 12cl 9 00 00 00 12c9 9 20 26 c7 12dl 9 61 a5 15 > 12d9 9 20 84 d8
12el 9 c9 10 02 12e9 9 0b dl 20 12fl 9 86 9c a5 12f9 9 85 93 20 1301 9 86 fb a5 1309 9 85 a5 20 1311 9 20 26 c7 1319 9 a4 a5 15 1321 9 20 26 c7 1329 9 92 a5 15 1331 9 20 26 c7 1339 9 61 a5 15 1341 9 4c 4d db 1349 9 d0 30 07 1351 9 31ea ad 1359 9 0b 20 85 1361 9 d0 4c 81 1369 9 ff d0 f3 1371 9 a0 ea a2 1379 9 al c8 20 1381 9 90 03 4c 1389 9 20 fl b7 1391 9 78 cd 15 1399 9 a0 85 d0 13al 9 15 cf 8a 13a9 9 bb ce 8c 13bl 9 8d c9 ce 13b9 9 be ce 8d 13cl 9 2e 11 d0 13c9 9 a9 a4 a0 13dl 9 14 03 8e 13d9 9 9e b7 e0 13el 9 ae 20 9e 13e9 9 05 b0 97 13fl 9 20 el c7 13f99 c6 4c e7 1401 9 e0 02 b0 1409 9 65 dc 20 1411 9 fd a2 c0 1419 9 c3 4c d8 1421 9 a9 cf 20 1429 9 a0 3f bl 1431 9 10 f8 a2 1439 9 85 fd 84 1441 9 a9 fd 20 1449 9 a0 de a9 1451 9 18 69 40 1459 : 85 fd 84 1461 9 86 fb 20 1469 9 b9 a9 00 1471 s c7 a6 fb 1479 9 b9 40 bf 1481 9 30 c3 20 1489 9 20 26 c7 1491 9 dc 8a 29 1499 9 f8 4a 4a 14al9 fe a514 14a9 9 4c dd 85 14bl 9 8a 29 07
b9 20 0f bb a9 20 28 ba 20 dc 85 66 a2 lc a0 bb a9 12 a0 ce a2 17 a0 ce 20 cf cd 20 ca bb 20 d6 cd a9 57 67 b8 20 49 b8 18 a5 65 6d 25 a5 64 6d 26 ce 17 a0 ce 20 a2 cd 20 ca bb 20 cf cd a9 57 a0 b8 20 49 b8 20 a5 65 6d 27 ce 64 6d 28 ce 85 2b bc f0 fa 10 b2 20 ca bb a5 81 08 4a 18 69 02 69 7f 85 61 67 20 c7 bb a9 20 0f bb a9 5c 67 b8 c6 61 c6 a5 61 60 a9 03 28 ba a9 08 a0 a9 f4 a0 cd d0 a0 ce 4c a2 bb 86 6f 60 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 86 63 a5 14 85 85 62 20 el c7 4c e7 c7 20 f2 49 40 85 09 20 fd ae 20 26 c7 14 85 92 a5 15 fd ae 20 26 c7 14 85 a4 a5 15 el c7 4c a2 da 86 9c a5 14 85 85 a5 20 fd ae 86 fb a5 14 85 85 93 20 fd ae 86 63 a5 14 85 85 62 20 el c7 ad 19 d0 8d 19 ad 0d dc 58 4c 12 d0 c9 ff b0 c8 a9 ff 8d 12 ea 20 al c8 a9 d0 0d 78 a9 31 00 20 2d cf 4c 9e b7 8ac9 c8 48 b2 8d 15 cf 8a c9 c8 b0 f2 cf b0 06 a2 al 0b ae 15 cf 8d a2 85 a0 al 8e c6 ce 18 69 31 a9 ff 69 33 8d b7 ce 8d 12 d0 4e 11 d0 a2 81 ce 8c 15 03 8d la d0 58 60 20 08 b0 a4 4c fd b7 ca e0 01 f0 a2 e0 2c a2 a0 8e 0e d0 8e d6 c7 20 9e b7 ca e5 20 el c7 4c 09 c9 a2 00 86 86 fe a2 e9 a0 ff 20 38 cf 20 09 c9 20 el c7 fd 99 40 bf 88 80 a0 bf a9 40 fe a9 36 85 01 d8 ff 4c e7 c7 00 e8 ca f0 08 90 f8 c8 b0 f5 fe 60 20 38 cf d4 el a9 01 85 20 9e f4 20 el 20 a9 cf a0 3f 91 fd 88 10 f8 38 cf 20 a9 cf 20 el c7 4c 95 07 85 fd 8a 29 a8 b9 4d dd 85 29 f8 65 fd 79 fd a9 e0 d0 ld 85 fd 8a 29 f8
d4 02 cl 9f fa 0d lb al 96 cb e3 cb
' a5 c4 dl 5a dd 5d 6f 2e cd 33 cb 2d eb 0f b3 a9 92 9a a2 aa b2 ba c2 7e 39 le fl b9 5f 24 af c4 59 37 5f 13 e6 al 61 5b 62 e4 9a 85 72 e3 3a 6c 38 7f 96 7d 3f 7c 9b 5f df e9 d7 bc 15 44 94 c4 4e 7c 90 40 a5 22 9d 7b c4 65 02 dl a8 cb e6 6b a2 e6 42 24 0d
Listing zum Programm
Grafik 2000 (Fortsetzung)
79
Grafik
14b9 : 14cl : 14c9 8 14dl 8 14d9 s 14el s 14e9 s 14fl s 14f9 s 1501 8 1509 8 1511 : 1519 s 1521 8 1529 s 1531 8 1539 s 1541 s 1549 s 1551 s 1559 : 1561 s 1569 s 1571 s 1579 s 1581 s 1589 s 15918 1599 s 15al s 15a9 s 15bl s 15b9 s 15cl s 15c9 s 15dl s 15d9 s 15el s 15e9 : 15fl s 15f9 8 1601 8 1609 1611 1619 1621 1629 1631 1639 1641 1649 1651 1659 1661 1669 1671 1679 1681 1689 1691 1699 16al 16a9 16bl 16b9 16cl 16c9 16dl 16d9 16el 16e9 16fl 16f9 1701 1709 1711 1719 1721 1729 1731 1739 1741 1749 1751 1759 1761 1769 1771 1779 1781 1789 1791 1799 17al 17a9 17bl 17b9 17cl 17c9 17dl 17d9 17el 17e9
4a 4a a8 b9 a5 14 29 f6 dd 85 fd a9 fe 85 fe a5 bd 7e dd 60 91 fd 20 cd f0 09 0f 91 d0 a0 00 24 05 49 ff 31 2c 11 fd 91 91 fd 20 cd 0f 09 f0 91 4c a7 d0 a5 4a a8 a5 15 4a 4a 18 79 b9 93 dd 69 00 f0 d2 24 11 d0 a0 00 4a 4a 48 0a 85 fe a5 14 dd 85 fd 8a 2c d0 aa 11 49 ff aa 8a 06 31 fd 91 69 00 c9 19 fd 69 40 85 01 85 fe a0 b0 0c 30 05 60 a2 47 a0 a2 50 a0 40 4e 60 a5 09 d0 6a 8c c5 f0 d0 6a 8c 20 f0 d0 6a f8 da 29 80 dl da 8c e4 f0 d0 8e f2 6a 49 40 20 da 8e fd da b0 0c 30 05 60 a2 6a a0 a2 80 a0 50 57 60 20 50 d5 8c e4 d5 40 20 50 dl 8c 11 d6 49 40 20 50 dl 35 d6 60 8a a8 b9 4c dd 07 65 fd 85 69 e0 85 fe 91 fd 98 69 e6 fe a0 38 98 e9 08 a8 c7 a5 14 aa a5 15 18 69 20 36 d0 aa a0 07 8a 11 10 f8 a5 fd fd a5 fe 69 09 d0 e5 f0 4a 48 0a a8 fe a5 14 29 85 fd 8a 29 d0 8509 a2 fd 91 fd ca 08 d0 f2 68 b0 94 48 a5 fd a5 fe 69 00 f0 dä 68 6a a5 14 6a 20 11 d0 a0 11 fd 91 fd a4 09 c0 27 s dd a0 08 11
e7 c7 e4 02 dd c5 15 90 ee dd c5 14 : d3ad .f2 dd : dd 90 0c 20 : 48 a9 96 48 : e5 d3 a9 d3 : 4c 7f d4 20 : dd d0 11 cc : 20 f5 d3 a9 E 48 4c 3d d4 : d3 48 a9 40 : ad ef dd c5 : 2c ad ee dd : 20 b3 d3 ad s cc fl dd 90 s a9 d3 48 a9 : d4 20 e5 d3 s 62 48 4c 03 s ad f2 dd d0 8 90 0c 20 f5 s a9 74 48 4c 8 d3 a9 d3 48 s 03 d5 20 0a s d0 07 ad f3 8 fl 60 20 45 s 90 f8 d0 07 s 5e b0 ef 60
4d dd 85 fe 65 fd 79 4c e0 65 15 65 14 29 07 aa 49 ff 31 fd c7 bl fd 29 fd 60 20 11 09 10 0a 70 fd 2c 51 fd fd 60 11 fd c7 bl fd 29 fd 60 86 02 02 29 f8 4a 4a a5 14 6a 92 dd 85 fd c0 85 fe a0 09 10 d7 20 f0 ad 8a 4a a8 b9 4d dd 29 f8 79 4c 29 07 a8 20 fd 91 fd 8a c8 c0 08 b0 fd 90 f4 68 b0 97 48 a5 fd a5 fe 69 ff d0 dc 2a a2 40 a0 3b 49 60 30 05 60 a2 57 a0 29 80 20 f0 da 09 40 20 d4 da 49 80 8e ce da 8c 20 f0 d0 8e da a5 09 20 da 8e 05 db f0 d0 8e f5 4c e7 c7 2a a2 60 a0 47 40 60 30 05 60 a2 76 a0 dl 6a 8e 86 8e 3e d6 49 6a 8e 21 d6 80 10 02 49 8c 24 d6 8e 29 f8 4a 4a 85 fd 8a 29 fd b9 4d dd a0 00 a9 ff 08 a8 90 f6 a9 ff 91 fd b0 f6 4c e7 29 f8 85 fd e0 85 fe 8a a9 19 85 09 fd 91 fd 88 18 69 40 85 01 85 fe c6 c9 8a 4a 4a b9 4d dd 85 f8 79 4c dd 07 aB 20 2c 05 a5 09 11 f0 ld c8 c0 69 00 c9 19 fd 69 40 85 01 85 fe a0 90 29 a5 15 4a 4a 85 09 00 bd 86 dd e0 04 90 0f b0 09 bd 8a fd 91 fd 4c 90 5a ad ef 09 d0 2c ad b0 25 20 b3 d0 11 cc fl f5 d3 a9 d3 4c bf d4 20 48 a9 a6 48 b3 d3 ad f2 fl dd 90 0c d3 48 a9 30 20 e5 d3 a9 48 4c 7f d4 15 90 09 d0 c5 14 b0 25 f2 dd d0 11 0c 20 f5 d3 52 48 4c bf a9 d3 48 a9 d5 20 b3 d3 11 cc fl dd d3 a9 d3 48 3d d4 20 e5 a9 84 48 4c d4 20 22 d4 dd c5 5e b0 d4 20 63 d4 ad fl dd c5 20 8a d4 20
61 9e
76 02 ae
87 d9 b0 4b 8a af
14 03 c2 f8 ce 9b le
55 la
77 3c c2 ca ac cf
6f 19
93 55 ab c9
88 bf
73 0e
21 c0 5c
92 2b 4c 5a e9
05 38 2a
53 51 c9
14 2a ca c9 ca lf c9 df
17 13 50 2f ec 8b a6 fc f3 c9 0f
30 97 a6 bb 9e
58 c8
53 0e f8 aa 5b f2
04 dd
24 8d 61 el fd a9
18 83 lf 70 5c 78 ff df
81 f5 31
70 91
17fl : a2 d4 d0 17f9 s 5e b0 fl 1801 : e7 d4 90 1809 : dd c5 5e 1811 : d4 20 22 1819 : dd c5 5e 1821 s d4 20 e7 1829 s ad fl dd 1831 : 20 0a d4 1839 : ad f3 dd 1841 : 20 c7 d4 1849 : d0 07 ad 1851 : ef 60 8a 1859 s 49 ff 69 1861 : a5 14 38 1869 3 dd a5 15 1871 : aa ad fl 1879s 8d fl dd 1881	s	8d	f2	dd
1889	s	f2	dd	4a
1891	3	6a	85	5c
1899	s	5d	ad	f3
18al	s	a9	01	85
18a9	s	60	e6	02
18bl	s	5f	a5	5c
18b9	s	5c	a5	5d
18cl	s	60	d0	07
18c9	s	b0	12a5
18dl	s	85	5c	b0
18d9	s	d0	02	e6
18el	s	d0	a5	5f
18e9	s	e6	15	e6
18fl	s	a5	5c	18
18f9	s	a5	5d	69
1901	3	dd	60	90
1909	s	dd	c5	5c
1911	s	ed	fl	dd
1919	s	f2	dd	85
1921	s	20	4f	d0
1929	s	60	c6	02
1931	s	5f	a5	5c
1939	s	5c	a5	5d
1941	s	60	d0	07
1949	s	b0	14	a5
1951	s	85	5c	b0
1959s d0 02 c6 1961	8	20	4f	d0
1969	s	d0	02	c6
1971	s	d0	02	e6
1979	8	f3	dd	85
1981	s	85	5d	cd
1989	8	d0	07	ad
1991	s	11	a5	5c
1999	s	5c	a5	5d
19al	s	c6	02	a6
19a9	8	5f	cd	f2
19bl	s	0e	66	a4
19b9	s	d4	2c	a9
19cl	s	92	d0	0e
19c9	s	03	a9	d0
19dl	s	60	c9	01
19d9	s	a4	10	ee
19el	s	08	66	a5
19e9	s	dl	c9ff
19fl	s	10	17	0a
19f9	s	68	09	40
la01	s	29	5f	d0
la09	s	60	0a	10
lall	8	29	lf	4c
lal9 s 68 2c a9 la21 s 98 48 a5 la29 s 00 85 af la31 s 85 6a a5 la39 s 4a 18 65 la41 s a8 85 5f la49 s 93 0a 0a la51 s 5c 20 3f la59 s a9 80 85 la61 s e6 5f a5 la69 s 5c a5 5d la71 : 06 a5 61 la79 s 5c 38 e5 la81 sc6 5d 20 la89 s 57 a5 6d la91 s 15 c901 la99 s 14 c9 40 laal s 0e a5 02 laa9 s 98 48 20 labl s 40 d6 c6 lab9 s 90 cb a5 lacl s 6a d6 20 lac9 s 8f c8 c0 ladl s 0a 0a 0a lad9 s 68 aa a5 lael s 14 d0 02 lae9 8 d0 02 c6 lafl s 02 d0 02 laf9 s d0 02 c6 lb01 s 65 14 85 ' lb09 s 60 49 ff
lbll s b0 02 c6 lbl9 s 85 02 90 lb21 s ff 38 65
07 ad f3 dd c5 90 60 20 c7 d4 20 0c f8 d0 07 ad fl 75 b0 ef 60 20 8a 0e d4 d0 07 ad f3 fc b0 fl 6020 45 b4 d4 90 f8 d0 07 bc c5 5e b0 ef 60 eb 20 a2 d4 d0 07 b2 c5 5e b0 fl 60 04 20 63 d4 90 f8 8f fl dd c5 5e b0 2d 38 e5 02 b0 04 53 01 8d f3 dd a8 5e ed ee dd 8d fl d4 ed ef dd b0 10 ed dd 49 ff 69 01 66 8a 49 ff 69 00 02 60 20 01 d4 ad c3 85 5d ad fl dd 74 60 20 01 d4 85 49 dd 4a 85 5c 60 88 5e a9 00 85 5f 67 e6 5e d0 02 e6 lc 18 6d fl dd 85 e6 6d f2 dd 85 5d dc ad f3 dd c5 5c ff 5c 38 ed f3 dd f6 02 c6 5d e6 14 0c 15 a6 02 20 4f a0 60 e6 14 d0 02 be 5e d0 02 e6 5f 57 6d f3 dd 85 5c 75 00 85 5d cd f2 08 la d0 07 ad fl 56 b0 11 a5 5c 38 16 85 5c a5 5ded 63 5d e6 02 a6 02 24 a5 5f cd f2 dd bd e6 5e d0 02 e6 8c 18 6d fl dd 85 66 6d f2 dd 85 5d 5c ad f3 dd c5 5c 7f 5c 38 ed f3 dd 77 02 c6 5d a5 14 87 15 c6 14 a6 02 2a a5 5f 60 a5 14 c9 15 c6 14 e6 5e f4 5f a5 5c 18 6d 60 5c a5 5d 69 00 33 f2 dd 60 90 la de fl dd c5 5c b0 65 38 ed fl dd 85 84 ed f2 dd 85 5d cc 02 20 4f d0 a5 5d dd 60 c9 12 d0 a5 24 a5 30 03 a9 db dc 85 fb 60 c9 f6 46 a4 24 a5 30 6a 2c a9 d8 85 fb ca d0 08 46 a5 24 02 30 da c9 02 d0 ed 24 a4 10 e5 30 cd f0 2d 29 ff 48 69 10 0f 0a 10 07 al 29 7f d0 ld 68 df 18 0a 30 fl 68 cc 09 0a 30 f0 68 4a 7d d5 0a 10 ef 5a 5e 85 6b 8a 48 3c ae 20 60 d6 a9 d0 a5 6b 0a 0a 0a d0 6b 4a 4a 4a 4a 77 fb 85 6b a9 00 c2 85 5d 85 5e a5 fb 2a 85 61 6a 85 cl c7 a5 93 85 9e d0 6d e6 5e d0 02 fa 5c 18 65 ae 85 5e 69 00 85 5d d0 60 c5 5c b0 0e a5 2a 61 85 5c b0 02 99 47 d6 a5 92 85 d7 25 fc f0 20 a5 d6 90 08 d0 18 a5 90 b0 12 a5 11 d0 ec aa c9 c8 b0 07 0b 4f d0 68 a8 20 8b 57 d0 d3 46 6d 98 92 0a 0a 0a 20 44 50 d6 c6 9e d0 68 08 90 83 a5 93 d0 20 80 d6 68 a8 19 9c 4c 60 d6 e6 84 e6 15 60 a5 14 ce 15 c6 14 60 e6 6b e6 11 60 a5 02 67 11 c6 02 60 18 cc 14 90 02 e6 15 33 38 65 14 85 14 4a 15 60 18 65 02 77 02 e6 11 60 49 0f 02 85 02 b0 02 05
lb29 s	c6	11	60	a9	00	85	60	85
lb31 3	61	85	62	85	63	85	64	a9
lb39 s	80	85	fb	20	ad	d6	a9	00
lb41 s	85	fb	85	64	20	ad	d6	a9
lb49 s	00	85	68	60	38	26	64	b0
lb51 s	fa	24	fb	30	03	a5	5c	2c
lb59 s	a5	5d	25	64	f0	ef	a5	5e
lb61 s	85	66	a5	5f	85	67	a9	00
lb69 s	85	68	66	67	66	66	a5	64
lb71 s	26	66	26	67	26	68	6a	90
lb79 s	f7	18	24	fb	30	lb	a5	60
lb81 :	65	66	85	60	a5	61	65	67
lb89 s	85	61	a5	62	65	68	85	62
lb91 s	a5	63	69	00	85	63	4c	ae
lb99 s	d6	a5	61	65	66	85	61	a5
lbal s	62	65	67	85	62	a5	63	65
lba9 :	68	85	63	4c	ae	d6	a9	00
lbbl s	85	6c	85	6d	85	0a	a5	5b
lbb9 s	85	6e	a5	6c	85	69	a5	6d
lbcl s	85	6a	a5	6e	85	6b	a5	0a
lbc9 s	20	5b	d8	a5	5a	20	6c	d8
lbdl s	85	6c	a9	00	65	63	85	6d
lbd9 s	a9	14	38	e5	0a	20	5b	d8
lbel s	a5	5b	20	6c	d8	85	6e	20
lbe9 s	d5	d7	20	lc	d8	20	fl	d7
lbfl s	20	31	d8	20	73	d2	20	e3
- lbf9 s	d7	20	lc	d8	20	01	d8	20
lc01 s	31	d8	20	73	d2	20	d5	d7
lc09 s	20	11	d8	20	fl	d7	20	27
lcll s	d8	20	73	d2	20	e3	d7	20
lcl9 8	11	d8	20	01	d8	20	27	d8
lc21 s	20	73	d2	a4	0a	c8	84	0a
lc29 s	c0	15	90	8e	a5	92	85	14
lc31 s	a5	93	85	15	a5	ae	38	e5
lc39 8	5b	85	02	aa	20	4f	d0	a5
lc41 s	ae	18	65	5b	85	02	aa	20
lc49 :	4f	d0	a5	ae	85	02	aa	18
lc51 s	a5	92	65	5a	85	14	a5	93
lc59 s	69	00	85	15	20	4f	d0	a6
lc61 s 02 a5 9238 e5 5a 85 14 lc69 s	a5	93	e9	00	85	15	20	4f
lc71 8	d0	4c	e7	c7	a5	92	18	65
lc79 s	69	85	14	a5	93	65	6a	85
lc81 s	15	60	a5	92	38	e5	69	85
lc89 8	14	a5	93	e5	6a	85	15	60
lc91 s	a5	92	18	65	6c	8d	ee	dd
lc99 s	a5	93	65	6d	8d	ef	dd	60
lcal s	a5	92	38	e5	6c	8d	ee	dd
lca9 s	a5	93	e5	6d	8d	ef	dd	60
lcbl s	a5	ae	18	65	6b	85	02	aa
lcb9 s	4c	4f	d0	a5	ae	38	e5	6b
lccl :	85	02,	aa	4c	4f	d0	a5	ae
lcc9 8	18	65	6e	8d	f0	dd	aa	60
lcdl s	a<	ae	38	e5	6e	8d	f0	dd
. lcd9 s	aa	60	a6	fb	86	02	60	a5
lcel s	a4	85	14	a5	a5	85	15	60
lce9 s	a6	02	e4	fb	60	a5	15	c5
lcfl s	a5	90	06	d0	04	a5	14	c5
-lcf9 s	a4	60	0a	aa	bd	c4	dd	85
ld01 s	5c	bd	c5	dd	85	5d	a9	00
ld09 s	85	5f	60	85	5e	20	8c	d6
ldll s	26	61	26	62	26	63	18	a9
ldl9 s	00	24	61	10	01	38	65	62
ld21 s	85	6e	60	20	2a	da	d0	f4
ld29 s	84	09	a9	40	85	66	a9	90
ld31 s	85	69	a9	e0	85	5c	a0	bf
ld39 s	20	ff	d9	20	39	da	a6	63
ld41 s	e0	c7	f0	0f	e8	86	02	20
ld49 s	2a	da	d0	07	a6	02	86	63
ld51 s	4c	al	d8	20	7a	da	84	a4
ld59 s	20	92	da	84	a5	20	92	da
ld61 s	a5	a5	d0	04	98	d0	58	2c
ld69 s	84	a5	20	7a	da	a5	a4	d0
ld71 s	06	98	f0	05	4c	78	d9	84
ld79 s a4 2057 da 20 6a da d0 ld81	s	05	c6	63	4c	be	d8	a5	a5
ld89	s	d0	17	a5	a4	f0	05	20	47
ld91	s	da	d0	a8	20	4e	da	20	d2
ld99	s	d9	20	47	da	20	47	da	d0
ldal	s	9a	a5	a4	d0	06	20	4e	da
lda9	8	4c	9c	d8	20	16	da	20	ba
ldbl	8	d9	20	39	da	20	42	da	20
ldb9	s	2a	da	d0	ef	4c	9c	d8	a5
ldcl	s	63	85	92	a5	a4	d0	28	20
ldc9	s	7a	da	f0	12	20	4e	da	e6
lddl	s	63	20	d2	d9	20	47	da	c6
ldd9	s	63	20	92	da	d0	18	a5	92
ldel	s	85	63	20	d2	d9	20	47	da
lde9	s	e6	63	4c	9c	d8	c6	63	20
ldfl	s	7a	da	d0	e5	f0	e8	20	6a
ldf9 s da f0f2 a5 63 85 93 a5 le01	s	92	85	63	20	57	da	a5	63
le09	8	c5	93	f0	05	c6	63	4c	64
lell	s	d9	a5	92	85	63	d0	ce	a5
lel9	s	63	85	92	a5	a5	d0	0f	a5
le21	8	92	85	63	20	d2	d9	20	4e
le29	s	da	4c	49	d9	c6	63	20	92
le31	s	da	f0	ec	20	7a	da	f0	e7
le39	s	20	6a	da	f0	ef	a5	63	85
7e e5 b7 d0 da 89 65 a9 a2 bl
38 50 e9
44 aa ec 7e
71 81 11 8c
59 18 7d 3b fa b0 4a 99 fl
9b 51 97
20 38
13 83 9b d3 51
72 74 78 e5 f9 dd 9f 05 cf a0 bl eb
4a 6b
22 9d 5c c3 2a 53 cd ef b2
a0 f8 2e 9f 2e 51 82
65 57 26 99 cl e0 29 e3 f9 al
ac 04 db f2 dc 69 d6 ec b9
75 b9 dc f6 55 00 6c e4 d4
28
Listing zum Programm
Grafik 2000 (Fortsetzung)
Grafik
le41 s 93 le49 ; a5 le51 s 4c le59 : cd le61 s 69 le69 : 00 le71 : 60 le79 s 61 le81 : 02 le89 : 02 le91 : 5c le99 s c9 leal : 85 lea9 s 4a lebl 3 36 leb9 : e9 lecl : a0 lec9 : 60 ledl : bl led9 s a5 leel : 60 lee9 : d0 le+1 : 02 le+9 : da 1+01 : 00 lf09 : d0 lfll : 20 1+19 : 60 1 + 21 : f5 1 + 29 : 15 1*31 3 da 1+39 : 3+ 1+41 : e6 lf49 : 14 1+51 s +0 1+59 : 10 1+61 s 20 1+69 : db 1+71 : 50 1+79 s 03 1+81 s 41 1+89 : 20 1+91 : 20 1+99 : d8 l+al : db l+a9 : 20 1 + bl s 85 l+b9 s d0 lfcl : 08
a5 92 85 63 63 c5 93 +0 a6 d9 a5 92 a4 6b bl 66 85 61 a4 5e 25 0a +0 01 a4 6b a5 63 91 69 a4 5e a5 0a a6 62 d0 04 49 ++ a5 6b 18 69 50 d0 0c a0 6b 84 67 84 4a 4a 85 5e d0 85 0a 60 01 85 6b b0 b+ c4 67 d0 20 11 d0 85 +d 25 08 +0 61 85 14 a5 a6 63 86 02 02 e6 62 60 c6 62 c6 61 20 42 da 20 11 fd 91 +d a6 63 +0 09 39 da 4c 2a a6 62 d0 04 a4 61 d0 01 84 14 20 42 a4 61 a6 62 +0 db c8 d0 e4 9c 90 34 a5 93 85 15 02 b0 25 24 06 20 41 db 41 db 20 3b 20 41 db 20 d6 20 49 d8 4c e7 c7 20 db 20 40 d8 41 db 20 lb 40 d6 20 47 +0 13 20 47 85 09 20 40 4+ d0 4c +4 09 a6 02 20 da a6 02 20 a0 00 bl +d
20 57 da 46 05 c6 63 9d 85 63 d0 a0 85 63 bl 0d bl 5c a0 a0 c8 84 62 ca 91 66 a5 5a bl 5c 85 82 +0 04 05 75 25 02 91 72 01 85 6b 29 ++ a9 00 +1 6a 84 5d 52 a5 6b 20 5d a5 6b 38 43 ea a9 4e 97 da 68 68 b5 08 a0 00 b3 01 c8 60 c6 62 85 15 c0 60 e6 61 b+ a5 61 d0 lb 60 20 39 d4 11 d0 a0 de 60 4c 6b 26 ca 86 02 28 da a0 01 0c a4 61 +0 4c ca 88 86 70 da 4c 2a 0a +0 04 c0 ca e9 e8 d0 a2 a5 92 85 98 20 4e d8 03 09 70 05 69 20 30 db d4 d8 20 30 78 57 d6 20 78 +0 05 90 a8 30 db 20 c8 20 30 db c7 db 85 0a ++ d6 20 4e d3 d6 20 lb 94 d6 a6 02 d+ da a5 0a ++ 4+ d0 4c +d +2 c+ 85 c4 25 08 f0 5b
l + c9 l + dl l + d9 l + el l+e9 1 + + 1 l + + 9 2001 2009 2011 2019 2021 2029 2031 2039 2041 2049 2051 2059 2061 2069 2071 2079 2081 2089 2091 2099 20al 20a9 20bl 20b9 20cl 20c9 20dl 20d9 20el 20e9 20+1 20+9 2101 2109 2111 2119 2121 2129 2131 2139 2141 2149
03 a9 92 a4 a5 85 a6 9c
60 4c a4 aa +0 18 98 65 06 d0 a5 +b
63 85
00 2c 93 a5 93 86 a5 +b e7 c7 a5 93 8a 65 62 85 de e0 e5 9c
59 b0
s c8 a5 62 c5 : 06 a5 61 c5 : 30 db a6 61 : 85 61 a5 58 s 84 58 a9 55 s 5c 8d 07 dc : dc a9 4e 8d : a9 55 8d 07 z 01 dc a9 47 : 4e 8d 04 dc s 90 12 a9 e6 : 2e dc a9 c6 : 32 dc d0 lb s 63 a5 59 85 : e6 8d 30 dc : c6 8d 2c dc : 55 dc 20 47 : 20 4e da a5 : 06 a5 93 c5 : 24 dc 4c 06 s 4c e7 c7 a5 : +b 85 5a e6 : 5a c6 63 a5 : 06 20 40 dc : 40 d8 a6 5a : db 85 09 20 s da 4c 4+ d0 : e6 a5 60 a5 : a5 c6 a4 60 : a2 a0 a0 e0 : a2 e0 a0 a0 : c7 8e 17 dd : 7a c9 8d 7+ : 8c aa dl 8c : c7 4c e7 c7 : b0 +7 a5 15 : d0 e+ a5 14 z a5 +d 85 69
a9 80 60 a6 94 a4 85 92 a5 5b a4 84 a5 60 bc 85 9c 86 +b 0d 38 a5 92 e5 29 e5 a5 a8 90 15 61 85 57 aa 3a 58 c9 01 90 8e 40 b0 da 38 b0 90 d3 18 65 94 cc c9 c8 b0 4b a5 90 31 d0 52 a4 90 29 20 c7 a4 62 a5 57 c7 85 62 86 57 17 8d 01 dc a9 ae a9 47 8d 04 dc 0a dc d0 14 3a dc a9 5c 8d 99 8d 0a dc a9 14 a5 63 c5 9c e0 8d 2c dc 8d la 8d 30 dc 8d 41 20 41 db a6 82 63 86 59 a9 e9 8d 32 dc a9 17 8d 2e dc 20 ca da 20 5c dc 2+ 92 c5 a4 d0 e7 a5 +0 09 20 6e dc 20 24 dc 38 59 85 63 a5 42 5a e6 63 c6 +2 5a c5 9c +0 44 4c 30 dc 20 95 86 02 20 lb bl 39 da 20 42 3d e6 a4 d0 02 ba a4 d0 02 c6 e5 e0 01 +0 08 28 a9 +e d0 06 21 a9 be 8c ee 00 8c lb dd 8d dd c9 8c 2d d0 2a d5 dl 8c dl d2 86 02 e0 b4 76 c9 01 90 08 e8 c9 29 b0 e9 71 a5 +e 85 6a b9
2151 : a2 00 2159 s dc 20 2161 : 18 20 2169 : e8 e0 2171 : 00 86 2179 : 0a a4 2181 : 20 40 2189 : 90 e7 2191 : 86 09 2199 : +d 8a 21al s 15 e6 21a9 : e7 c7 21bl : 00 84 21b9 : 15 a9 21cl : dd 8d 21c9 : 0b dd 21dl : +d c8 21d9 s ca d0 21el : +d 91 21e9 s 11 31 21+1 : 02 c0 21+9 : 07 c0 2201 : 0c c0 2209 : 11 c0 2211 s 16 c0 2219 s lb c0 2221 : 10 08 2229 : 1+ 0+ 2231 : +0 00 2239 : 00 a0 2241 : 01 40 2249 : 01 e0 2251 5' 02 80 2259 s 02 20 2261 : 03 c0 2269 s 14 e2 2271 s 3a el 2279 : 5a 55 2281 : 72 42 2289 : 7e 9b 2291 : 00 00
86 09 86 +c d0 dc 20 d0 6a d6 e6 02 15 90 e7 b0 +b 20 lb db 09 bl 69 2a d6 a6 +b e8 e6 09 60 20 bl +d aa bl 91 14 c8 d0 +e c6 09 d0 20 b4 c7 a2 +d 84 14 a9 e0 85 +e 60 2e dd 8d 40 ca bl 14 11 d0 +7 e6 15 +0 a0 40 bl +d 88 10 +7 51 00 00 40 03 00 05 40 08 00 0a 40 0d 00 0+ 40 12 00 14 40 17 00 19 40 lc 00 le 80 04 02 01 +8 07 03 01 80 00 28 00 50 00 c8 00 +0 01 68 01 90 01 08 02 30 02 a8 02 d0 03 48 03 70 03 00 00 0b ld 8e 27 +c 42 3d 4b 21 61 8e 67 23 76 bc 79 77 7+ 00 80 00 00 00 00 00
20 d0 29 dc a9 64 a6 +c 12 c2 a2 6d 49 ++ 6d 91 69 4+ e0 08 e6 0b dd d7 14 91 73 +3 e6 73 eb 4c 21 20 a0 66 a0 85 1+ bd 49 08 dd 20 3+ +d 91 90 e6 +e 16 14 11 5+ 30 b+ 38 01 80 ee 06 80 80 0b 80 32 10 80 e5 15 80 98 la 80 4a 40 20 c3 7c 3e bd c0 e0 cb 00 78 9a 00 18 5a 01 b8 ba 02 58 56 02 +8 ca 03 98 26 0a 06 12 30 lc 5b 53 82 e4 6d 0d 07 7c 6d 6a 00 00 bd 00 ++ 91
Listing zum Programm Grafik 2000 (Schluß). Bei der Eingabe bitte den MSE verwenden.
Die 80-Zeichenkarte zum Abtippen Verbreitern Sie den Bildschirm Ihres Monitors um das Doppelte: 80 Zeichen pro Zeile. Egal ob Sie nun Programme eingeben oder laufen lassen.
Scheuen Sie sich nicht, das etwas längere MSE-Programm abzutippen. Die Mühe wird mit einer professionellen Bildschirmdarstellung belohnt: 80 Zeichen, nicht nur bei der Ausgabe, sondern auch zur Eingabe. Natürlich entspricht die Bildqualität dieses Programms nicht der einer »richtigen« 80-Zeichenkarte auf Hardware-Basis, man kann aber dennoch gut damit arbeiten.
Die Software-80-Zeichenkarte wurde so im Speicher des C 64 untergebracht, daß kein Basic-Speicherplatz verlorengeht. Das Programm benutzt im einzelnen folgende Speicherbereiche:
$A000-$A7FF: Zeichensatz
$COOO-$CFFF: Color-RAM $D800-$DFFF: Video-RAM $02A8-$02A9: Kommunikationsadressen
Haben Sie die 80-Zeichenkarte mit dem MSE abgetippt und gespeichert, können Sie das Programm mit LOAD " 80-ZEICHEN " ,8 laden und mit RUN starten. Das Programm
verschiebt sich dann in die vorgesehenen Speicherbereiche und startet.
Mit dieser Routine können Sie Programme genauso bearbeiten wie mit dem normalen — 40spaltigen — Bildschirmeditor. EinigeKleinigkeiten, dieimfolgenden nähererläutertwer-den sollen, sind aberzu beachten. So istes zum Beispiel nicht mehrmöglich, mittelsderTastenkombination SHIFT undCBM zwischen Groß- und Kleinschrift umzuschalten. Man muß dazu auf die bekannten Steuercodes 14 und 142 ausweichen. PRINT CHR$(14) schaltet Klein-/Großschreibung ein, PRINT CHR$(142) entsprechend den Groß-/Grafikmodus. Den Klein-/Großschriftmodus kann man aber auch über die Tastenkombination CTRL-N anwählen. CTRL-N entspricht dem ASCII-Code 14. Für die Zurückschaltung gibt es leider keine Tastenkombination.
Auch das Anwählen der Hintergrundfarbe erfolgt etwas ungewohnt. Und zwar nicht über die bekannte Adresse 53281, sondern mit POKE 683,Farbcode. Gibt man diesen Befehl ein, so geschieht zunächst einmal nichts. Erst durch die Eingabe eines zusätzlichen Steuercodes (wiederum wahlweise mittels PRINT-Anweisung oder über eine Control-Tastenkombination)wirdderHintergrundentwederganzoder teilweise eingefärbt. Gibt man CTRL-G ein, so nimmt der Bildschirmhintergrund die in Adresse 683 festgelegte Farbe an. Drückt man hingegen CTRL-P (für Paint), so wird nur die Fläche eingefärbt, die entweder vom Cursor überschrieben wird, oder durch Scrolling von unten ins Bildfeld tritt. Damit ist es möglich, auch verschiedene Hintergrundfarben darzustellen.
Um auch mit Programmen, die einen 40-Zeichen-Bildschirm verwenden, arbeiten zu können, ist es möglich, wahlweise zwischen den beiden Formaten hin und her zu schalten. Dies ist zum einen mit den Tastenkombinationen CTRL-B (um auf die normale 40-Zeichen-Darstellung zu
Grafik
schalten) und mit CTRL-A (Umschaltung von 40 auf 80 Zeichen je Zeile) möglich, wobei jedoch einfach nur zwischen den jeweiligen Bildschirmen hin und her geschaltet wird. Damit ist es dann aber nicht möglich, den 40spaltigen Bildschirm zu bearbeiten. Man kann auch mittels >SYS 685« die 80-Zeichenkarte zeitweise abschalten, um mit dem normälen Editor zu arbeiten (der Inhalt des Bildschirmspeichers bleibt übrigens, während die 80-Zeichenkarte aktiv ist, erhalten). Die analoge Rückschaltung erfolgt mittels »SYS 680«.
Um die 80-Zeichendarstellung zu inaktivieren und um alle verbogenen Zeiger wieder zu restaurieren, gibt man »SYS 49155« ein. Diesen Befehl sollte man immer einem STOP-RESTORE vorziehen, denn sonst stürzt der Computer ab. Der Neustart erfolgt dann mit »SYS 49152«.
Der Geräteadresse 6 (die zweite Zahl beim OPEN-Befehl) wurden Steueraufgaben zugewiesen. Dies ist dann nötig, wenn man im 40-Zeichenmodus Kommandos an das aktive Programm (nach der Umschaltung mit »SYS 685« bleibt das Programm aktiv) sendet. Dies ist vor allem dann recht praktisch, wenn man mit zwei Bildschirmen arbeitet. In dem folgenden Beispiel wird vom normalen Editor aus, auf die 80-Zeichen-Darstellung umgeschaltet, dessen Bildschirm gelöscht und wieder auf die 40 Zeichen geschaltet:
OPEN 6,6 : PRINT#6, CHR$(1);CHR$(147);CHR(2) : CLOSE 6
Abschließend möchte ich noch zwei Steuerzeichen anführen, die übrigens alle wahlweise mit dem CHR$-Befehl oder über die Control-Taste eingegeben werden können. Dies sind CHR$(8) und CHR$(9) — beziehungsweise CTRL-I und CTRL-H —, mit denen der Cursor ein- und ausgeschaltet werden kann. Dies iSt besonders bei Eingaben mit GET sehr nützlich, da hier ja normalerweise kein Cursor zu sehen ist. Setzt man vor solch einer Eingabeschleife ein »PRINT CHR$(9)« (Cursor on), so erscheint derZeiger auch während der Eingabe. Danach sollte man ihn mit CTRL-H (oder »PRINT CHR$(8)<<) wieder abschalten, da er sonst die Geschwindigkeit beim Listen verlangsamt.
(Matthias Eichholz/Christoph Sauer/hm)
CTRL	CHR$	Wirkung
a	1	80-Zeichen-Darstellung
b	' 2	40-Zeichen-Darstellung
f	6	Moduswechsel
g	7	Gesamthintergrund anpassen
h	8	Kein Cursor bei GET sichtbar
	9	Cursor immer vorhanden
n	14	Kleinschreibung
P	16	Farbe nur unter Cursor anpassen
n	142	Großschreibung
Befehlsübersicht der 80-Zeichen-Softkarte
programm : 80 zeichen	0801 1981
0801 : 0e 08 c0 07 9® 28 32 31 7b 0809 : 31 35 29 3a 00 00 00 00 67 0811 : 00 00 00 00 00 00 00 00 12 0819 : 00 00 00 00 00 00 00 00 la 0821 s 00 00 00 00 00 00 00 00 22 0829 : 00 00 00 00 00 00 00 00 2a 0831 : 00 00 00 00 00 00 00 00 32 0839 : 00 00 00 00 00 00 00 00 3a 0841 : 00 00 a9 00 85 61 a9 a0 f7 0849 ; 85 62 a9 84 85 14 a9 08 aa 0851 : 85 15 a2 08 a0 00 bl 14 03 0859 s 91 61 c8 d0 f9 e6 15 e6 e0 0861 : 62 ca d0 f2 a2 09 a9 c0 55 0869 : 85 62 bl 14 91 61 c8 d0 *7 0871 : f9 e6 15 e6 62 ca d0 f2 a5 0879 s 20 00 c0 20 44 a6 18 4c 40 0881 s 4b a8 00 44 aa ee ee 88 98 0889 s aa 44 00 04 04 4a 2e 6a f6 0891 s aa 6a 00 0c 8a 8a cc aa 77 0899 s aa cc 00 04 0a 48 a8 88 C1 08al s aa 44 00 0c 2a 2a 6a aa e2 08a9 s aa 6c 00 0e 08 48 ac e8 93 08bl : 88 6e 00 0e 68 48 ec 48 3f 08b9 : 48 48 00 04 0a 68 ae 6a 19 08cl s 2a c4 00 8a 8a ca ae aa ae 08c9 s aa aa 00 0e 44 0444 44 88 08dl s 44 6e 00 02 22 02 22 22 8c 08d9 : 2a a4 40 8a 8a ac ac cc 11 08el : aa aa 00 08 88 88 88 88 el 08e9 s 88 ce 00 0a 0e ae ee ea 02 08fl s aa aa 00 0a 0a ce ae ae 61 08f9 s aa aa 00 0e 0a 4a aa aa ad 0901 s aa 4e 00 0c 0a ca ac a8 4f 0909 s c8 88 80 04 0a 6a aa aa aa 0911 s 6e 26 20 0c 0a 6a 8c 8a 57 0919 : 8a 8a 00 06 08 68 84 42 04 0921 s 22 cc 00 4e 44 e4 44 44 78 0929 s 44 64 00 0a 0a aa aa aa d7 0931 s aa 6e 00 0a 0a aa aa aa 4a 0939 s ee 44 00 0a 0a aa aa ee 09 0941 s ee aa 00 0a 0a aa a4 4a e3 0949 8 aa aa 00 0a 0a aa ae a4 84 0951 s 64 44 80 0e 02 e2 24 48 12 0959 s 88 ee 00 ee 88 88 88 88 36 0961 s 88 ee 00 44aa 88 cc 88 lc 0969 s aa ee 00 ee 22 22 22 22 68 0971 s 22 ee 00 44 ee 44 44 44 3e 0979 s 44 44 00 00 00 44 ff 44 8a 0981 s 00 00 00 00 00 00 00 00 82 0989 s 00 00 00 44 44 44 44 00 89 0991 s 44 44 00 aa aa aa 00 00 4d 0999 s 00 00 00 44 44 ee 44 ee cd 09al s 44 44 00 44 66 cc ee 66 e5 09a9 3 cc 44 00 00 aa 22 44 88 75 09bl s aa 00 00 44 aa aa 66 bb f5 09b9 s bb ee 00 22 44 88 00 00 b8 09cl 3 00 00 00 22 44 88 88 88 cl 09c9 s 44 22 00 88 44 22 22 22 52 09dl s 44 88 00 00 aa 44 ee 44 6b 09d9 s aa 00 00 00 44 44 ee 44 2e 09el s 44 00 00 00 00 00 00 00 26 09e9 s 22 22 44 00 00 00 ee 00 e9
09fl s 00 00 00 00 00 00 00 00 f2 09f9 s 66 66 00 22 22 44 44 44 b5 0a01 s 88 88 00 44 aa aa aa aa 56 0a09 s aa 44 00 22 66 ee 22 22 c4 0all s 22 22 00 44 aa 22 44 88 ab 0al9 s 88 ee 00 44 aa 22 44 22 b2 0a21 8 aa 44 00 88 aa aa ee 22 fe 0a29 s 22 22 00 ee 88 88 cc 22 7e 0a31 s aa 44 00 22 44 88 cc aa 53 0a39 s aa 44 00 ee 22 22 44 44 b0 0a41 8 44 44 00 44 aa aa 44 aa 96 0a49 s aa 44 00 44 aa aa 66 22 7c 0a51 s aa 44 00 00 00 66 00 00 51 0a59 s 66 00 00 00 00 22 00 00 dl 0a61 s 22 22 44 00 22 44 88 88 ld 0a69 s 44 22 00 00 00 ee 00 ee 14 0a71 s 00 00 00 00 88 44 22 22 e9 0a79 s 44 88 00 44 aa 22 44 44 df 0a81 8 00 44 00 00 00 00 00 ff a3 0a89 s 00 00 00 40 44 ae ee a4 50 0a91 s a4 ae 00 c4 a4 a4 c4 a4 fl 0a99 s a4 c4 04 40 a0 80 8f 80 f6 0aal s a0 40 00 c0 a0 af a0 a0 c5 0aa9 s a0 c0 00 e0 8f 80 c0 80 c6 0abl s 80 e0 00 e0 80 80 c0 80 ce 0ab9 s 80 8f 00 48 a8 88 e8 a8 ce 0acl s a8 48 08 al al al el al b5 0ac9 s al al 01 e0 40 40 40 43 25 0adl s 44 e8 08 22 22 22 22 21 ce 0ad9 s a0 40 00 al al cl c2 cc 9a 0ael s a0 a0 00 88 88 88 88 88 e2 0ae9 s 88 e8 0f a8 e8 e4 e4 a2 4d 0afl s a2 al 01 al al e2 e2 e4 5f 0af9 s a4 a8 08 ef a8 a8 a8 a8 b5 0b01 s a8 e8 08 cf al al cl 81 4a 0b09 s 81 81 01 46 a6 af af af 5a 0bll s ef 66 06 c0 a0 a0 c0 a0 20 0bl9 s a0 af 00 60 8a 8e 4e 2e 50 0b21 s 24 c4 00 e8 48 48 48 48 3d 0b29 s 48 48 08 a0 a0 a0 a0 a0 7e 0b31 s al e2 02 a9 a9 a6 a6 a6 bl 0b39 s e6 49 09 a6 a6 a9 a9 e9 0d 0b41 8 e9 a6 06 a0 a4 aa 4a a4 25 0b49 8 a4 ae 00 a2 a2 a2 e2 42 e8 0b51 s 42 42 02 e4 24 2e 4e 8e dc 0b59 s 84 e4 00 22 22 22 22 ff 4f 0b61 s 22 22 22 44 88 44 88 44 fb 0b69 s 88 44 88 22 22 22 22 22 7a 0b71 s 22 22 22 50 50 a0 ae 5a b0 0b79 s 5a aa a0 9f 4f 27 97 43 57 0b81 s 23 91 41 00 00 00 00 00 bd 0b89 8 00 00 00 cc cc cc cc cc 23 0b91 s cc cc cc 00 00 00 00 00 f7 0b99 s 00 ff ff ff 00 00 00 00 99 0bal s 00 00 00 00 00 00 00 00 a2 0ba9 s 00 00 ff 88 88 88 88 88 ba 0bbl s 88 88 £8 aa 55 aa 55 aa 4a 0bb9 s 55 aa 55 11 11 11 11 11 db 0bcl s 11 11 11 00 00 00 00 aa f5 0bc9 s 55 aa 55 9f 2f 4e 9e 2c f5 0bdl 3 4c 98 28 11 11 11 11 11 96 0bd9 s 11 11 11 22 22 22 22 33 le 0bel s 22 22 22 00 00 00 00 33 03 0be9 s 33 33 33 22 22 22 33 00 c7
0bfl s 00 00 00 0bf9 3 44 44 44 0c01 s 00 ff ff 0c09 s 22 22 22 0cll s 00 00 00 0cl9 8 22 22 22 0c21 s 22 22 22 0c29 s 88 88 88 0c31 s cc cc cc 0c39 s 33 33 33 0c41 s 00 00 00 0c49 s 00 00 00 0c51 3 ffff ff 0c59 8 al cl cf 0c61 8 CC CC CC 0c69 s 00 00 00 0c71 s 00 00 00 0c79 s 00 00 00 0c81 s 33 33 33 0c89 s 55 bb ff 0c91 s 55 95 ff 0c99 s 55 33 ff 0cal s 55 bb ff 0ca9 3 55 93 ff 0cbl 3 77 91 ff 0cb9 sb7b7ff 0ccl 8 d53b ff 0cc9 s 55 55 ff 0cdl s bb 91 ff 0cd9 s d5 5b bf 0cel s 55 55 ff 0ce9 3 77 31 ff 0cfl 8 55 55 ff 0cf9 8 55 55 ff 0d01 s 55 bl ff 0d09 s 37 77 7f 0dll s 91 d9 df 0dl9 s 75 75 ff 0d21 s dd 33 ff 0d29 s bb 9b ff 0d31 s 55 91 ff 0d39 s 11 bb ff 0d41 sll 55 ff 0d49 s 55 55 ff 0d51 s 9b bb 7f 0d59 s 77 11 ff 0d61 s 77 llff 0d69 s 55 11 ff 0d71 s dd 11 ff 0d79 s bb bb ff 0d81 s ff ff ff 0dS9 8 ff ff ff 0d91 s bb bb ff 0d99 s ff ff ff 0dal s bb bb ff 0da9 s 33 bb ff 0dbl s 55 ff ff 0db9 s 44 11 ff 0dcl 8 ff ff ff
00 00 00 00 cc 00 00 00 00 00 00 00 00 00 33 22 22 22 22 ff 00 00 00 00 ff 22 22 22 22 ee 88 88 88 88 88 cc cc cc cc cc 33 33 33 33 33 ff ff 00 00 00 ff ff ff 00 00 00 00 00 00 00 01 01 21 21 al 00 00 00 00 cc 33 33 33 33 00 22 22 22 22 ee cc cc cc cc 00 cc cc cc cc 33 bb 55 11 11 77 fb fb b5 dl 95 f3 75 75 33 55 fb f5 b7 57 77 f3 d5 d5 95 55 fl f7 b7 53 17 fl 97 b7 13 b7 fb f5 97 51 95 75 75 35 51 55 fl bb fb bb bb fd dd fd dd dd 75 75 53 53 33 f7 77 77 77 77 f5 fl 5111 15 f5 f5 31 51 51 fl f5 b5 55 55 f3 f5 35 53 57 fb f5 95 55 55 f3 f5 95 73 75 f9 f7 97 7b bd bl bb lb bb bb f5 f5 55 55 55 f5 f5 55 55 55 f5 f5 55 55 11 f5 f5 55 5b b5 f5 f5 55 51 5b fl fd ld db b7 11 77 77 77 77 bb 55 77 33 77 11 dd dd dd dd bb 11 bb bb bb ff ff bb 00 bb ff ff ff ff ff bb bb bb bb ff 55 55 55 ff ff bb bb 11 bb 11 bb 99 33 11 99 ff 55 dd bb 77 bb 55 55 99 44 dd bb 77 ff ff dd bb 77 77 77
8b 71 67 c5 11 b3 ee bl fd d3 41
4a 51 68 c6 47 71 e0 a3 lb
aa 70 5f bf
22 58 d3 09 15 a0 e0 cf 80
44 b2 67 ca 2d c9 7a 17 68
9e 0d 8f 7b a5 69 a3 67 80 88
d4 64 5c dc 6c b9 c0
Listing der 80-Zeichen-Software-karte. Beachten Sie bitte bei der Eingabe den MSE.
82
Grafik
0dc9 s	bb dd	ff	77	bb dd dd dd	3f
0ddl s	bb 77	ff	ff	55 bb 11 bb	37
0dd9 s	55 ff	ff	ff	bb bb 11 bb	03
0del x	bb ff	ff	ff	ff ff ff ff	9c
0de9 s	dd dd	bb	ff	ff ff 11 ff	, e8
0dfl s	ff ff	ff	ff	ff ff ff ff	fa
0df9 s	99 .99	ff	dd	dd bb bb bb	3c
0e01 s 77 77ff bb 55 55 55 55 ab 0e09 s	55 bb	ff	dd	99 11 dd dd	4d
0ell :	dd dd	ff	bb	55 dd bb 77	76
0el9 s	77 11	ff	bb	55 dd bb dd	7f
0e21 s 55bb ff 77 55 55 11 dd 43 0e29 s	dd dd	ff	11	77 77 33 dd	d3
0e31 s	55 bb	ff	dd	bb 77 33 55	0e
0e39 s	55 bb	ff	11	dd dd bb bb	cl
0e41 s	bb bb	ff	bb	55 55 bb 55	eb
0e49 8	55 bb	ff	bb	55 55 99 dd	15
0e51 s	55 bb	ff	ff	ff 99 ff ff	50
0e59 s	99 ff	ff	ff	ff dd ff ff	e0
0e61 s	dddd	bb	ff	dd bb 77 77	a4
0e69 s	bb dd	ff	ff	ff 11 ff u	bd
0e71sffff ff ff 77 bb dd dd f8 0e79 s	bb 77	ff	bb	55 dd bb bb	12
0e81 8	ff bb	ff	ff	ff ff ff 00	5e
0e89 s	ff ff	ff	bf	bb 51 11 5b	cl
0e91 s	5b 51	ff	3b	5b 5b 3b 5b	30
0e99 8	5b 3b	fb	bf	5f 7f 70 7f	3b
0eal s	5f bf	ff	3f	5f 50 5f 5f	7c
0ea9 8	5f 3f	ff	lf	70 7f 3f 7f	8b
0ebl 3	7f lf	ff	lf	7f 7f 3f >f	94
0eb9 s	7f 70	ff	b7	57 77 17 57	a3
0ecl :	57 b7	f7	5e	5e 5e le 5e	cc
0ec9 8	5e 5e	fe	lf	bf bf bf bc	6c
0edl 8	bb 17	f7	dd	dd dd dd de	d3
0ed9 s	5f bf	ff	5e	5e 3e 3d 33	17
0eel 8	5f	5f ff	77	7777	77	77	df
0ee9 8	77	17 f0	57	17 lb	lb	5d	84
0efl s	5d	5efe	5e	5e ld	ld	lb	82
0ef9 :	5b 57	f7	10	57 57 57 57	3c
0f01 s	57 17	f7	30	5e 5e 3e 7e	b7
0f09 s	7e 7e	fe	b9	59 50 50 50	b7
0fll 3	10 99	f9	3f	5f 5f 3f 5f	01
0fl9 3	5f 50	ff	9f	75 71 bl dl	el
0f21 s	db 3b	ff	17	b7 b7 b7 b7	04
0f29 8	b7 b7	f7	5f	5f 5f 5f 5f	d3
0f31 s	5e ld	fd	56	56 59 59 59	b0
0f39 8	19 b6	f6	59	59 56 56 16	64
0f41 s 16 59 f9 5f5b 55 b5 5b 5c 0f49 s 5b 51 ff 5d 5d 5d ld bd a9 0f51 s bd bd fd lb db dl bl 71 c5 0f59 s 7b lb ff dd dd dd dd 00 62 0f61 s dd dd dd bb 77 bb 77 bb c6 0f69 s 77 bb 77 dd dd dd dd dd 57 0f71 s dd dd dd af af 5f 51 a5 31 0f79 8 a5 55 5f 60 b0 d8 68 bc 9a 0f81 s dc 6e be ff ff ff ff ff 44 0f89 8 ff ff ff 33 33 33 33 33 ee 0f91 8 33 33 33 ff ff ff ff ff 2b 0f99 s ff 00 00 00 ff ff ff ff 98 0fal s ff ff ff ff ff ff ff ff a0 0fa9 8 ff ff 00 77 77 77 77 77 97 0fbl s 77 77 77 55 aa 55 aa 55	17
0fb9 s aa 55 aa ee ee ee ee ee 96 0fcl s ee ee ee ffff ff ff 55 8c 0fc9 s aa 55 aa 60 d0 bl 61 d3 9c 0fdl : b3 67 d7 ee ee ee ee ee 0b 0fd9 s ee ee ee dd dd dd dd cc 93 0fel a dd dd dd ff ff ff ff cc be 0fe9 s cc cc cc dd dd dd cc ff 0a 0ffl s ff ff ff ff ff ff ff 33 56 0ff9 8 bb bb bb ff ff ff ff ff 81 1001 s ff 00 00 ff ff ff ff cc 9a 1009 s dd dd dd dd dd dd dd 00 4c 1011 s ff ff ff ff ff ff ff 00	10
1019 s dd dd dd dd dd dd dd 11 7e 1021 s dd dd dd 77 77 77 77 77 53 1029 s 77 77 77 33 33 33 33 33 a0 1031 s 33 33 33 cc cc cc cc cc 64 1039s	Cc	cc	cc	0000	ff	ff	ff	9e
1041 s	ff	ff	ff	00 00	00	ff	ff	40
1049 s	ff	ff	ff	ffff	ff	ff	ff	48
1051 s 00 00 00 fe fe de de 5e 50 1059 s 5e 3e 30 ff ff ff ff 33 49 1061 s 33 33 33 cc cc cc cc ff fb 1069 s ff ff ff dd dd dd dd 11 8a 1071 s ff ff ff 33 33 33 33 ff 70 1079 s ff ff ff 33 33 33 33 cc 11 1081 s cc cc cc 4c 06 c0 4c 15 32 1089 3 c6 a9 42 8d 26 03 a9 c0 09 1091 s 8d 27 03 a9 bb 8d 24 03 67 1099 s a9 c7 8d 25 03 a9 01 8d ca 10al s ac 02 ad 00 c0 8d a8 02 d9 10a9 s 8d ad 02 a9 fd 8d a9 02 ba 10bl s a9 c5 8d aa02 a9 f5 8d 56 10b9 s ae 02 a9 c5 8d af 02 20 2a 10cl s fd c04c8e c8 85 02 a5 0f 10c9 s 9a c9 06 f0 0e c9 03 d0 c4 10dl s 05 ad ac 02 d0 05 a5 02 e8 10d9 s 4c ca fl 8a 48 98 48 a5 0e 10el s 02 20 cd c6, 20 6f c0 20 .00 10e9 s 9d c6 68 a8 68 aa a5 02 8f 10fl s 18 60 c9 20 90 53 c9 40 fb
10f9 8 90 36 c9 1101 s 90 la c9 1109 s 90 17 c9 1111 8 d0 19 a9 1119 s 3f 4c 9f 1121 s c2 e9 3f 1129 s 4c 9f c2 1131 s c9 22 f0 1139 : ad 74 cl 1141 s 49 01 8d 1149 s c2 4c 27 1151 8 80 02 c0 1159 s 80 07 c0 1161 s 80 0c c0 1169 s 80 11 c0 1171 s 80 16 c0 1179 s 80 lb c0 1181 s ea ad 11 1189 s 18 d0 8d 1191 s 8d 64 cl 1199 s cl 29 fc llal 8 8d 11 d0 lla9 s a9 60 8d llbl s 16 d0 60 llb9 s d0 ad 63 llcl s 64 cl 8d llc9 s 8d 00 dd lldl 8 60 a5 01 lld9 s 09 04 78 llel 8 cl 85 01 lle9 s 03 37 10 llfl s 00 d0 00 llf9 s 00 00 00 1201 s d8 00 4f 1209 s 80 a9 e0 1211 8 8d 6e cl 1219 8 a9 00 8d 1221 s 8d 68 cl 1229 s cl Bd 6f 1231 s 20 86 cl 1239 s 91 fcc8 1241 s f7 20 f2 1249 s cl91 fc 1251 s ca d0 f6 1259 8 cl a2 08 1261 s d0 fb e6 1269 s 5b cl ad 1271 s 6c cl 85 1279 s 85 fc ad 1281 s ad 6f cl 1289 s 85 fd 60 1291 s cl 8d 6f 1299 s e9 e0 4a 12a1 s 6d c1 4a 12a9 8 69 d0 8d 12bl s 8d 6f cl 12b9 8 aa ad 6f 12cl s 8d 6f cl 12c9 s cl 60 ee 12dl s e8 8a 29 12d9 s 18 ad 6b 12el s 6b cl ad 12e9 3 6c cl ad 12fl s 03 4c 08 12f9 s cl 8d 68 1301 s e0 19 90 1309 8 69 cl 8e 1311 s bd c9 c0 1319 s c0 18 69 1321 s 08 c2 ae 1329 s 8e 74 cl 1331 8 09 80 48 1339 s cl 68 85 1341 s fe 2a 06 1349 8 18 69 a0 1351 s fe 2c 72 1359 s 0a 0a 29 1361 s ae 68 cl 1369 8 0a 29 f0 1371 s fb 46 fb 1379 8 10 d5 c8 1381 s cl 91 fc 1389 s fc 20 5b 1391 s e0 84 fd 1399 s cl f0 01 13al s a9 40 85 13a9 s le bl fe 13b1 s e6 fd e6 13b9 s 2c c6 98 13cl s fa a0 40 13c9 s fa 20 2c 13dl s fd 85 ff 13d9 3 e8 85 fe 13el s fe 91 fc 13e9 s e6 ff ca 13fl s a2 27 9d 13f9 s a9 d8 85 1401 s a9 50 85 1409 s 91 fc c8 1411 s ff ca d0 1419 s 9d 80 df 1421 s cl 4c al
60 90 19 c9 80 a0 90 43 c9 c0 e0 90 18 c9 ff 5e 4c 9f c2 e9 c2 e9 lf 4c 9f 4c 9f c2 e9 7f e9 7f 4c 9f c2 03 4c 9f c2 aa d0 08 ad 73 cl 73 cl 8a 4c 9f c4 00 00 40 01 03 00 05 40 06 08 00 0a 40 0b 0d 00 0f 40 10 12 00 14 40 15 17 00 19 40 la lc 00 le 40 lf d0 8d 62 cl ad 63 cl ad 16 d0 ad 00 dd 8d 65 8d 00 dd a9 3b a9 48 8d 18 d0 fd c0 a9 08 8d ad 62 cl 8d 11 cl 8d 18 d0 ad 16 d0 ad 65 cl a9 ea 8d fd c0 8d 66 cl 29 fc 85 01 60 ad 66 58 60 lb 15 c8 00 00 00 00 e0 d8 00 00 00 00 00 00 00 00 00 00 00 00 01 00 8d 6c c1 a9 d0 a9 d8 8d 70 cl 69 cl 8d 6a cl 8d 6b cl 8d 6d cl 60 20 4e cl a8 20 e7 cl 98 d0 fb e6 fd d0 cl a2 04 ad 67 c8 d0 fb e6 fd 20 2c c6 20 fd a9 20 91 fe c8 fd ca d0 f6 4c 6b cl 85 fc ad fd 60 ad 6d cl 6e cl 85 fd 60 85 fc ad 70 cl ad 6b cl 8d 6d cl ad 6c cl 38 6e 6d cl 4a 6e 6e 6d cl 48 18 6e cl ad 6d cl 68 0e 6f cl 2a cl 18 6d 68 cl 8a 69 d8 8d 70 6a cl ae 68 cl 01 8d 68 cl d0 cl 18 69 08 8d 6c cl 69 00 8d 6a cl c9 50 b0 c2 a9 00 8d 6a cl ae 69 cl e8 06 20 0c c3 ae 69 cl 8a 0a aa 8d 6b cl bd ca e0 8d 6c cl 4c 74 Cl ca 30 03 ae 71 cl f0 02 20 4e cl 20 e7 fe 48 a9 00 06 fe 2a 06 fe 2a 85 ff a0 07 bl cl 10 04 0a 0a f0 85 fb bl fc d0 04 29 0f 10 46 fb 46 fb 46 05 fb 91 fc 88 20 f2 cl ad 67 20 fd cl 68 91 cl 4c 47 c2 a0 c8 84 ff ac 7a 60 a0 00 84 fc fe 20 4e cl a2 91 fc c8 d0 f9 ff ca d0 f2 20 99 00 fe c8 d0 99 00 ff 88 10 c6 c8 a9 cf 85 a9 c0 85 fc a9 a2 04 a0 40 bl c8 d0 f9 e6 fd d0 f2 ad 67 cl c0 d3 ca 10 fa fd 85 ff 84 fc fe a2 08 bl fe d0 f9 e6 fd e6 f2 a9 20 a2 4f ca 10 fa 20 5b c3 ad 8e 02 d0
ld f0 a4 45 c6 e8 91
ca ea bd 97 98 f5 53 b0
0d 6b ee 5d
66 ec 13 3a 8a a9 bf
97 09
4a 75
4e 75 fa bl
65 ba 09
da 89
93 25
0d af ba b7
50 15 8b b6 89 b0 e3
3e 85 6e 2b
60 3c 7a 2e e3 a8 fb
la e2 22
11 e6
38 fe
24 d4
4d d9
73 97
ca b4
7b 80
6d 01
f0 3c
35 6c
df 8f
5e 91
db 45
41 74
59 70
94 43
01
cc 58
e2
1429 s fb 60 ae 69 cl d0 01 60 94 1431 s ce69 cl 38 ad 6b cl e9 3c 1439 s	40	8d	6b	cl	ad	6c	cl	e9	6c
1441 s	01	8d	6c	cl	4c	08	c2	ad	c8
1449 s	6a	cl	f0	0d	ce	6a	cl	ce	56
1451 s	68	cl	f0	33	a9	01	8d	68	e6
1459 :	cl	ae	69	cl	d0	06	ad	6a	cd
1461 8	cl	d0	01	60	38	ad	6b	cl	f9
1469 s	e9	08	8d	6b	c 1	ad	6c	c 1	e6
1471 s	e9	00	8d	6c	cl	ad	6a	cl	02
1479s	d0	0d	ce	69	cl	a9	4f	8d	72
1481 8	6a	cl	29	01	8d	68	cl	4c	f2
1489 s	08	c2	ae	69	cl	e0	18	b0	b0
1491 s	16	ad	6b cl 69	40 8d 6b	36
1499 s	cl	ad	6c cl 69	01 8d 6c	32
14al s	el	ee	69 cl 4c	08 c2 4c	15
14a9 s	0c	c3	c9 0d f0	34 c9 8d	9e
14bl s	f0	42	ae 73 cl	d0 0c ae	0c
14b9 s	74	cl	f0 18 c9	94 d0 0a	e6
14cl 3	4c	4b	c5 c9 14	d0 03 4c	ca
14c9 s	bd	c5	18 69 80	90 02 69	03
14dl s	bf	4c	9f c2 c9	01 d0 03	e4
14d9 s	4c	fd	c0 c9 02	d0 03 4c	d8
14el s	30	cl	c9 0d d0	0e a9 00	2a
14e9 s	8d	73	cl 8d 74	cl 8d 71	c0
14fl s	cl	4c	71 c2 c9	8d d0 0e	f5
14f9 s	a9	00	8d 73 cl	8d 74 cl	52
1501 s	8d	71	cl 4c 71	c2 c9 0e	bl
1509 s	d0	06	a9 00 8d	72 cl 60	7b
1511 s	c9	12	d0 06 a9	01 8d 71	94
1519 3	cl	60	c9 92 d0	06 a9 00	b3
1521 s	Bd	71	cl 60 c9	11 d0 03	52
1529 s	4c	07	c4 c9 91	d0 03 4c	a7
1531 s	a7	c3	c9 ld d0	03 4c 47	b5
1539 s	c2	c9	9d d0 03	4c c4 c3	8e
1541 s	c9	13	d0 03 4c	86 cl c9	bc
1549 s	93	d0	03 4c äa	cl c9 8e	8c
1551 s	d0	06	a9 80 8d	72 cl 60	d3
1559 s	c9	94	d0 03 4c	4b c5 c9	cb
1561 8	14	d0	03 4c bd	c5 c9 08	69
1569 s	d0	05	a9 80 8d	85 cl c9	d6
1571 s	09	d0	05 a9 00	Bd 85 cl	5f
1579 s	c9	07	d0 03 4c	79 c6 c9	9a
1581 s	10	d0	03 4c 65	c6 c9 06	03
1589 s	d0	03	4c 05 c6	4c 38 c6	cc
1591 s	ad	6b	cl 8d 77	cl ad 6c	2b
1599 8	cl	8d	78 cl ad	69 cl 8d	bf
15al s	75	cl	ad 6a cl	8d 76 cl	95
15a9 s	ad	68	cl 8d 79	cl 60 ad	2f
15bl s	77	cl	8d 6b cl	ad 78 cl	c8
15b9 3	8d	6c	cl ad 75	cl 8d 69	11
15cl s	cl	ad	76 cl 8d	6a cl ad	bd
15c9 s	79	cl	8d 68 cl	60 ee 7a	63
15dl 8 cl 20 0d c5a9 00 8d 68 40 15d9 s	cl	ad	69 cl 0a	aa bd c9	84
15el s	c0	8d	6b cl bd	ca c0 18	e0
15e9 s	69	e0	8d 6c cl	20 08 c2	76
15fl s	20	4e	cl 20 fd	cl a0 4f	bc
15f9 s	bl	fc	c9 20 d0	36 88 bl	e3
1601 : fc c8 91 fc 88 cc 76cl bl 1609 s	d0	f4	20 5b cl	20 2c c5	20
1611 3	20	08	c2 a9 20	20 af c2	62
1619 s	a0	00	20 fd cl	20 4e cl	5b
1621 3 a0 00 bl fc 48'20 5b cl 44 1629 s	68	20	af c2 ad 6a cl d0	bc
1631 s	e9	ee	74 cl ce 7a cl 20	ef
1639 s	5b	cl	20 2c c5 4c 08 c2	67
1641 s	ad	6a	cl f0 30 20 c4 c3	50
1649 s	20	0d	c5 ee 7a cl 20 fd	71
1651 8	cl	20	4e cl a0 01 bl fc	cl
1659 s	48	20	5b cl 68 20 af c2	8c
1661 s ac 6a cl c0 4f d0 e7a9 39 1669 s	20	20	af c2 ce 7a cl 20	e5
1671 3	2c	c5	4c 08 c2 4c c4 c3	bd
1679 s	a9	00	8d ac 02 4c 30 cl	e2
1681 s	a9	01	Bd ac 02 4c fd c0	a0
1689 s	ad	ac	02 49 01 8d ac 02	69
1691 8	f0	03	4c fd c0 4c 30 cl	88
1699 s	a9	ca	8d 26 03 a9 fl 8d	30
16al s	27	03	a9 57 8d 24 03 a9	f8
16a9 s	fl	8d	25 03 4c f5 c5 a9	e9
16bl s	37	8d	fa ff a9 c6 8d fb	6c
16b9 s	ff	60	40 a0 0f d9 55 c6	af
16cl s	f0	04	88 10 f8 60 98 0a	e0
16c9 s	0a	0a	0a 85 fb ad 67 cl	5a
16dl s	29	0f	05 fb 8d 67 cl 60	le
16d9 s	90	05	lc 9f 9c le lf 9e	5b
16el s	81	95	96 97 98 99 9a 9b	bd
16e9 s	ad	ab	02 29 0f 8d ab 02	22
16fl s ad 67cl 29 f0 0d ab 02 11 16f9 s 8d 67cl 60 a2 04 a9 d0 49 1701 s	85	fd	a0 00 84 fc 20 4e	fa
1709 s	cl	20	65 c6 bl fc 29 f0	96
1711 s	0d	ab	02 91 fc c8 d0 f4	ea
1719 8	e6	fd	ca d0 ef 4c 5b cl	ld
Listing der 80-Zeichen-Software-karte (Fortsetzung).
Beachten Sie bitte bei der Eingabe den MSE.
Grafik
1721 8 2c 85 cl 1729 s cl 20 4d 1731 s 48 8d 7b 1739 : 4c 8d 83 1741 s 49 80 ee 1749 : 20 c4 c3 1751 s2c 85 cl 1759 3 cl ad 7b 1761 3 c4 c3 20 1769 s ad 83 tl 1771 s 5b cl ce 1779 s 69 cl 0a 1781 s 7c cl bd 1789 s cl 4a 6e 1791 s 8d 7d cl 1799 s 69 cl 8d 17al : 8d 81 cl 17a9 s 20 a2 c6 17bl s 85 cl 10 17b9 s b4 e5 c9 17cl : 40 el 85 17c9 s 69 cl cd 17dl s 6a cl cd 17d9 s ca20d2 17el scl 8d 6a 17e9 s 87 c2 a0 1741 s b0 c7 bl
1749 8 88 10 47
30 2a 48 20 4e 88 cl a0 00 bl 4c 7d cl 20 42 cl bl 5b cl 205b cl 68 ca 7a cl 20 a4 c2 37 ce 7a cl 68 60 ae 30 4a48 ee 7a 59 cl 20 a4 c2 20 d3 4e cl 20 42 cl 45 a0 00 91 4c 20 ld 7a cl 68 60 ad ec aa bd c9 c0 8d e3 ca c0 4a 6e 7c b8 7c C118 69 d8 c4 60 20 44 c6 ad 79 80 cl ad 6a cl 0d 2c 85 cl 10 03 91 a5 c6 40 4c 2c cl 03 20 d2 c6 20 64 0d 40 lb c9 06 84 02 20 58 c0 ad 67 80 cl d0 3c ad 85 81 cl 90 34 b0 92 c6 a9 00 8d 68 e2 cl ae 69 cl 20 b9 44 20 4ecl 20 94 4c c9 20 d0 03 78 c8 8c 74 cl a0 ad
1801 : 01 8c 1809 ; 4c 5b 1811 s 8d 81 1819 8 cl 4c 1821 s 06 d7 1829 s 90 04 1831 s 09 40 1839 s ad 7d 1841 : 02 40 1849 s 03 40 1851 s 98 48 1859 s a8 68 1861 s 99 c9 1869 s 40 16 1871 s 6a cl 1879 s a0 00 1881 #20 4d 1889 s ad 82 1891 s 20 4e 1899 s cl bl 18al s 47 c2 18a9 3 99 c7 18bl s cl cc 18b9 s ae 82 18cl s 68 60 18c9 s 6a cl 18dl s cl 85 18d9 s 68 48
7e cl 88 8c cl 20 44 c6 cl ad 69 cl 20 c7 85 d7 24 d7 10 02 a6 d4 d0 04 60 ad 7c cl cl 85 4d 60 08 a5 99 40 03 4c 57 41 20 dc c7 85 aa a5 02 18 03 40 07 ad d0 la20 44 8c 81 cl 20 8c 82 cl 4c c0 20 11 c7 cl 8e 82 cl cl 20 b0c7 4c 48 20 5b 68 c9 5e 40 48 20 84 e6 74 cl 40 10 cl 86 d4 8d a9 44 d0 e4 98 48 a9 00 02 ad 69 cl 29 4e 0a 26
82 cl 9b a9 00 a3 8d 80 61 29 34 3c 09 80 4d 70 02 42 85 4c 0e ad ac b9 07 c9 43 8a 48 ce 02 68 32 60 a5 42 7ecl 19 c6 ac 4a 67 c7 59 03 c8 a9 a6 d4 68 85 d4 a4 ac 81 4c cl 20 94 lb 20 b7 ee 81 7a a5 d4 c0 82 cl 31 c8 8c 34 8d 7e 11 0a aa ad 02 0a 7d
18el s 26 02 7d 18e9 s bd ca c0 1841 s 6c cl 68 1849 s 20 08 c2 1901 303 2071 1909 s 20 d2 c6 1911 3 c8 ea a9 1919 3 ab a9 00 1921 8 d0 a9 60 1929 3 0e 08 9b 1931 s 20 2a 2a 1939 s 20 d5 2d 1941 s 2d c3 44 1949 s d3 43 52 1951 s 20 c4 45 1959 s 33 24 36 1961, s 20 d5 52 1969 3 d0 52 44 1971 s 20 2a 2a 1979 3 11 00 00
c9 c0 8d 65 02 69 29 01 8d a4 99 c0 c2 28 20 a9 0d 48 a4 a0 c8 8d ab 02 8d 8e c8 20 20 20 2a 2a 2a d0 52 20 4c 55 4d 45 45 4e 5623 20 20 29 20 41 4e 55 47 52 41 2a 2a 2a 00 00 00
6b c1 4a e0 8d 42 68 cl 14 03 d0 b0 a2 c6 65 4c 33 24 20 le 5a 8d 20 8c 60 93 67 20 20 ea 2a 20 13 38 30 11 4e 20 e6 20 28 93 30 24 42 42 59 05 53 20 46 4d 53 2a 2a 11 35 00 00 8b
Listing der 80-Zeichen-Software-karte (Schluß). Beachten Sie bitte bei der Eingabe den MSE.
Charakter-Designer für den C 64
Mit diesem Programm passen Sie komfortabel alle darstellbaren Bildschirmzeichen Ihren eigenen Vorstellungen an.
Der Charakter-Designer besteht aus drei Programmteilen. Einem Basic-Lader zum Laden des Hauptprogramms, dem Hauptprogramm selbst, das unbedingt unter dem Namen CHARAKTER-MAIN abgespeichert werden muß und einem Zeichensatz-Lader. Mit ihm können selbstdefinierte Zeichensätze außerhalb des Charakter-Designers geladen werden. Dazu muß der Name des Zeichensatzes eingegeben werden. Ist der Ladevorgang beendet, wird gefragt, ob die Zeichen im Multicolor-Modus ausgegeben werden sollen oder nicht. Wird der Multicolor-Modus gewählt, können nur die Farben, die über die Commodore-Taste erreichbar sind (8 bis 15) genutzt werden. Dadurch lassen sich Multicolor- und normale Zeichen gleichzeitig darstellen.
Der Charakter-Designer ist so aufgebaut, daß während des Programmablaufs eine Bildschirmmaske bestehen bleibt.
Der Bildschirm besteht aus folgenden Feldern:
—	dem Sketch-Pad:
Zeichenfeld, in dem vier Zeichen auf einmal gezeichnet werden können;
—	dem Farbfeld:
Anzeige der ausgewählten Farben und der aktuellen Farbe, mit der gezeichnet wird;
—	einer Anzeige der vierin Arbeit stehenden Zeichen in Originalgröße;
—	einer Anzeige der vier in Arbeit stehenden Zeichen in doppelter Größe;
—	dem Charakterwahlfeld:
Anzeige des gesamten Zeichensatzes;
—	der Statuszeile:
Ein- und Ausgabezeile für Disketteninhalt, Eingabe der Namen für LOAD und SAVE und zur Ausgabe von Fehlermeldungen;
— einerAnzeige deram häufigsten gebrauchten Funktionen. Die Steuerung des Cursorpfeils erfolgt mit dem Joystick (Port 2) oder mit den Cursortasten (Punkt setzen mit Space).
Funktionen:
Zur Beschreibung der Funktionen einige Erklärungen im voraus:
Der »aktuelle Charakter« ist das Zeichen, über dem sich der Cursorpfeil auf dem Sketch-Pad gerade befindet.
Im »Normalmodus« besteht ein Zeichen aus 64 Grafikpunkten (8x8) und kann eine von 16 Farben annehmen.
Im »Multicolormodus« wird die halbe Auflösung des Charakters genommen (8x4 Punkte). In diesem Modus können vier Farben auf einmal in einem Zeichen verwendet werden, wobei die vierte Farbe der des Hintergrunds entspricht. Leider kann bei der Farbe »1« nur unter acht Farben ausgewählt werden. M (Multi-/Normalcolorumschaltung)
Durch diese Funktion kann zwischen Normal- und Multicolormodus gewählt werden.
D (Drehen)
Durch diese Funktion ist es moglich,ein Zeichen um 90 Grad nach links zu drehen (nur im Normalmodus).
SHIFT-D (Drehen)
Wie bei D, jedoch wird das ganze Sketch-Pad gedreht.
F (Spiegeln)
Der aktuelle Charakter erscheint spiegelverkehrt auf dem Bildschirm.
SHIFT-F (Spiegeln)
Wie bei F, jedoch wird das ganze Sketch-Pad an der Y-Achse gespiegelt.
K (Kopfstellen)
Der aktuelle Charakter wirdan der X-Achse gespiegelt.
SHIFT-K (Kopfstellen)
Wie bei F, jedoch wird das ganze Sketch-Pad an der X-Achse gespiegelt.
G (Groß/Klein)
Mit dieser Taste kann zwischen Groß- und Kleinschrift selektiertwerden. Wenn derabgespeicherte Charaktersatz später, außerhalb des Programms, geladen wird, ist der Zeichensatz aktiv, der zuletzt im Designer bearbeitet wurde und kann mit SHIFT-Commodore umgeschaltet werden.
I (Invers)
Diese Funktion bewirkt, daß deraktuelle Charakter invertiert wird. Im Multicolormodus werden die Farben auch entsprechend geändert.
C e c c c e c e c e 8 e c c c e c e c e c e c e c c e e c E e e e e e e c e 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 i i 1 1 1 1 1 1 1 1 1 1
84
Grafik
SHIFT-1
Wie bei I, jedoch wird das ganze Sketch-Pad invers gesetzt.
Commodore-Taste (Charakter auswählen)
Durch Drücken der Commodore-Taste kann ein neues Zeichen in das aktuelle Feld genommen werden. Der Pfeil springt in die obere linke Ecke des Charakter-Auswahlfeldes. Nun kann man mit dem Pfeil einen Charakter auswählen, der mit Return übernommen wird. C (Copy) — Kopieren eines Zeichens
lm Copy-Modus springt der Pfeil in die linke Ecke des Charakterauswahlfeldes. Nun kann das Zeichen ausgewähltwerden, das man kopieren will. Nach dem Drücken der RETURN-Taste kann man entscheiden, wo das Zeichen hinkopiert werden soll.
L (Laden eines Zeichensatzes)
Es erscheint »Name:« in der Statuszeile. Nun kann man den Filenamen über die Tastatur eingeben. Nach Drücken der RETURN-Taste (Eingabe beendet) schaltet der Bildschirm ab und der Zeichensatz wird geladen. Falls ein Diskettenfehler auftritt, erscheint die Meldung »Diskerror« in der Statuszeile. Durch Drücken der SPACE-Taste kann im Programm fortgefahren werden (die ganze Fehlermeldung des Floppy-Laufwerks kann nicht ausgegeben werden, weil die Statuszeile dafür zu klein ist).
S (Save)
Wie bei L, jedoch wird der Zeichensatz abgelegt.
* (Directory lesen)
Mit dieser Funktion kann das Inhaltsverzeichnis angezeigt werden. Die einzelnen Namen werden in der Statuszeile angezeigt, wobei der erste Ausdruck der Diskettenname ist. Durch Drücken von SPACE (Leertaste) wird der nächste Filename angezeigt.
@ (Initialisieren)
Der Original-C 64-Zeichensatz wird aus dem ROM in das RAM übertragen. So können auch kleine Änderungen ohne große Komplikationen durchgeführt werden.
Z (Zurück)
Mit dieser Funktion kann der zuletzt geladene Zeichensatz zurückgeholt werden.
T (Testen)
Das Auswahlfeld wird gelöscht und der Pfeil verschwindet. Nun kann man mit dem Zeichensatz schreiben, um zu testen, wie er wirkt. Es können alle Tasten benutzt werden. Nach Drücken der RETURN-Taste erscheint der Zeichensatz wieder und man kann im Programm fortfahren.
Q (Quit)
Diese Taste muß (aus Sicherheitsgründen) dreimal gedrückt werden, um das Programm zu beenden. Nach erstmaligem Drücken der Taste erscheint der Ausdruck »ACHTUNG RESET« in der Statuszeile. Wenn man eine andere Taste drückt, verschwindet der Ausdruck wieder und man kann weiterzeichnen.
CLR/HOME (Löschen eines Zeichens)
Die CLR/HOME-Taste hat drei Funktionen:
1.	Alleiniges Drücken der Taste bewirkt, daß der Pfeil in die obere linke Ecke des Sketch-Pads springt.
2.	Zusammen mit der SHIFT-Taste wird def aktuelle Charakter gelöscht.
3.	Zusammen mit der CTRL-Taste wird das gesamte Sketch-Pad gelöscht.
Einfügen und Herausnehmen von Zeilen und Spalten:
Diese Funktion ist eine Besonderheit des Charakter-Designers. Sie ermöglicht es, Punkte in einer Zeile beziehungsweise Spalte einzufügen und herauszunehmen. Der Pfeil kann an einer beliebigen Stelle des Sketch-Pads positioniert werden.
Mit folgenden Tasten wird gearbeitet.
INS/DEL-Taste: für zeilenweises Herausnehmen. Durch zusätzliches Drücken der SHIFT-Taste wird eine Zeile eingefügt. Es werden bis zu 255 Zeilen gepuffert, die automatisch wieder ausgegeben werden.
Pfund-Taste: wie bei INS/DEL, jedoch wird derjeweils darunter liegende Charakter mit bewegt.
= -Taste: für das spaltenweise Herausnehmen von einzelnen Punkten. Mit SHIFT »=« wird ein Punkt eingefügt. Hierbei wird nichts gepuffert, weil es in den meisten Fällen, nur hinderlich wäre.
;-Taste: wie bei =, jedoch werden zwei nebeneinander liegende Charaktere bearbeitet.
Farbgebung:
Die Farben werden mit den Tasten 1 bis 4 ausgewählt und können durch zusätzliches Drücken der SHIFT-Taste verändert werden.
Im Normalmodus kann man durch Drücken der Taste 1 die
0 GOTO 10	<178> <163> <159> <167> <045> <028> <096> <251>
1 *********************************	
2 *	CHARAKTER-DESIGNER C=64	*	
3 *	*** LADER FUER MAIN ***	*	
4 * V ON MATTHIAS MEYER	*	
5 *	*	
6 * WINKELWEG 24	*	
7 * 5505 WASSERLIESCH BEI TRIER *	
9 *********************************	<171>
10 IF A= 1 THEN SYS 8*4096+9: REM START DE	
S CHARAKTER-DESIGNERS	<105>
20 A= 1: LOAD *'CHARAKTER-MAIN",8,1	<213>
© 64'er	
Listing 1. Charakter-Design-Lader. Bei der Eingabe bitte	
den Checksummer anwenden.	
0 GOTO 10	<178>
1 *********************************	<163>
2 *	CHARAKTER-DESIGNER C=64	*	<159>
3 *	*** ZEICHENSATZ LADER ***	*	<208>
4 * V ON MATTHIAS MEYER	*	<045>
5 *	*	<028>
6 * WINKELWEG 24	*	<096>
7 * 5505 WASSERLIESCH BEI TRIER *	<251>
9 *********************************	<171}
10 IF A=0 THEN 100: .REM SCHON GELADEN ?	<228>
20 POKE 53248+24, 29: REM CHARAKTERSATZ E	
INSCHALTEN	<104>
30 PRINT"MULTICOLOR (J/N) ";:POKE 198,0: W	
AIT 198,l:GET MU#: POKE 198,0	<050>
40 IF MU#="J"THEN POKE VIC+22,216: GOTO 6	
0: REM CHA. AUF MULTICOLOR SCHALTEN	<221>
50 IF MU#<>"N"THEN PRINT: GOTO 30: REM BE	
I FALSCHER TASTE ZURUECK	<076>
60 PRINT MUT: END: REM ENDE	<127>
70 REM FUER MULTICOLOR GELTEN NUR DIE FAR	
BEN 8-16 .’ !	<047>
80 REM DIE ANDEREN FARBEN WERDEN IN REG 3	
4 UND 35 FESTGELEGT	<000>
90 	 LADEN DES ZEICHENSATZES 		<084>
100 POKE 56, 3*16: POKE 55, 0: CLR: REM E	
NDE DES BASIK RAM AUF #3000 SETZEN	<059>
110 VIC = 53248:REM VIC GRUNDADRESSE <059>
120 POKE VIC+32,9: POKE VIC+33,7: PRINT"<C LR,YELLOW>":POKE VIC+33,9: REM FARBEN SETZEN	<036>
130 INPUT"CHARAKTERSATZ NAME";NA#: REM NA
ME DES CHARAKTERSATZES	<211>
140 NA#="<HOME>"+NA#: REM DAS ERKENNUNGSZ
EICHEN FUER EIN CHA.SATZ VOR DEN NAMEN <080>
150 A = l:LOAD NA# ,8,1: REM CHA.SATZ VON
FLOPPY LADEN	<049>
© 64'er
Listing 2. Zeichensatzlader. Bei der Eingabe bitte den Checksummer verwenden.
85
Grafik
Farbe eins zum Zeichnen nehmen. Wenn man Punkte löschen will, muß man die Taste 4 drücken.
Im Multicolormodus sind die Tasten 1 bis 3 mit den verschiedenen Farben belegt, wobei mit der Taste 4 Punkte gelöscht werden können.
Programmablauf: .
Nach dem Starten (durchReset oder Restore) werden die Initialisierungsroutinen aufgerufen. Danach werden die ein-
zelnen Unterroutinen in den $COOO-Bereich verschoben und die Bildschirmmaske einschließlich Farbe übertragen. Nun werden die programminternen Initialisierungsroutinen aufgerufen (Rasterzeilen-Interrupt, Sprites für Charakteranzeige und so weiter) und der aktuelle Zeichensatz wird aktiviert. Anschließend befindetsich das Programm in der Tastatur- und Joystick-Abfrage (Hauptschleife).
(MatthiasMeyer/ah)
programm : charakter—main 8000 9a85
8000 s 09 80 09 80 c3 c2 cd 38 96 8008 : 30 8e 16 d0 a9 2a a2 85 a0 8010 s a0 00 85 f7 86 f8 84 f9 47 8018 : a9 c0 a2 09 a0 80 85 fa 05 8020 : 8e 18 03 8c 19 03 8c 03 ef 8028 s 03 8e 02 03 a0 05 b9 0f 8b 8030 : fd 99 03 80 88 d0 f7 a0 fb 8038 :00 bl f7 91 f9 c8 d0 f9 5e 8040 se6 f8 e6 fa a5 fa c9 cf b4 8048 : d0 ef 78 20 a3 fd 20 50 7d 8050 : fd 20 15 fd 20 5b ff 58 f0 8058 : a9 09 8d 20 d0 8d 21 d0 8d 8060 : a9 8e 20 d2 ff a9 08 20 60 8068 s d2 ff a9 01 85 cc a9 3c a2 8070 : 8d 05 dc a9 lb 8d 11 d0 f0 8078 : a9 00 8d 00 7e 8d 00 7f dB 8080 : a9 c8 8d c4 02 20 00 c0 2c 8088 : a2 00 a9 00 9d 3c 03 e8 2e 8090 : e0 c4 d0 f8 a2 00 a0 00 d2 8098 : b9 ld 82 9d c0 03 e8 e8 ce 80a0 : e8 c8 c0 08 d0 f2 a0 00 45 80a8 : 98 99 c0 02 c8 c0 04 d0 cl 80b0 s f7 20 34 c7 a9 00 8d 10 ae 80b8 s d0 a9 07 8d 15 d0 a9 2c a7 80c0 s a2 3d a0 02 8d 00 d0 8e a2 80c8 S 01 d0 8c ld d0 8c 17 d0 67 80d0 s a9 b9 a2 42 8d 02 d0 8e 90 80d8 : 03 d0 a9 c0 a2 72 8d 04 c2 80e0 : d0 8e 05 d0 a9 0d a2 0f fe 80e8 : 8d f9 07 8d fa 07 8e f8 f9 80f0 s 07 ad c4 02 c9 d8 f0 12 8a 80f8 : ad 6c d8 ae 94d8 ac bc 23 8100 s d8 8d 86 02 8e 22 d0 8c d7 8108 s 23 d0 20 ef c2 20 7b c3 3c 8110 s a9 e0 8d 02 dc ad 00 dc c2 8118 s 85 f7 c9 00 f0 16 29 01 72 8120 s f0 2b a5 f7 29 02 f0 35 df 8128 s a5 f7 29 04 f0 3f a5 f7 23 8130 s 29 08 f0 49 a5 f7 29 10 al 8138 s f0 53 a9 ff 8d02 dc a2 de 8140 s le c8 d0 fd ee 27 d0 ca b7 8148 8 d0 f74c 25 82 ad 01 d0 07 8150 s c9 3d f0 d4 38 e9 08 8d 9d 8158 s 01 d0 4c 28 81 ad 01 d0 05 8160 s c9 b5 f0 c4 18 69 08 8d el 8168 : 01 d0 4c 28 81 ad 00 d0 11 8170 s c9 2c f0 c0 38 e9 08 8d b2 8178 s 00 d0 4c 34 81 ad 00 d0 al 8180 s c9 a4 f0 b0 18 69 08 8d f6 8188 s 00 d0 4c 34 81 a9 04 a2 45 8190 s 00 85 3c 86 3b ad 00 d0 f5 8198 s 38 e9 18 4a 4a 4a 85 f8 13 81a0 : ad 01 d0 38 e9 32 4a 4a f7 81a8 s 4a 85 f9 a8 a9 00 18 69 16 81b0 8 28 90 02 e6 3c 85 3b 88 6c 81b8 s d0 f4 18 65 f8 90 02 e6 9f 81c0 s 3c 85 3b 20 ff 81 a0 00 20 81c8 s 91 3b ad c4 02 29 10 f0 86 81d0 8 25 ad 00 d0 c9 a4 f0 06 77 81d8 s c8 20 ff 81 91 3b a5 3c e2 81e0 s 18 69 d4 85 3c a0 00 ad b7 81e8 s 0c d9 91 3b ae 00 d0 e0 9d 81f0 s a4 f0 03 c8 91 3b 20 e2 lf 81f8 s c2 20 ef c2 4c 3f 81 ad 3f 8200 s 21 d0 29 0f 8d cc 02 ad 58 8208 s 0c d9 29 0f cd cc 02 f0 5a 8210 8 03 a9 a0 60 a9 20 60 20 79 8218 s ef c2 4c 10 81 fc f8 f0 43 8220 s f8 dc 8e 07 03 a5 cb c9 2b 8228 8 07 d0 lc a5 02 c9 01 b0 27 8230 s 05 e6 02 4c 10 81 a9 00 66 8238 s 85 02 ad 8d 02 c9 01 f0 30 8240 s 03 4c 5d 81 4c 4d 81 c9 ba 8248 s 02 d0 lc a5 02 c9 01 b0 42 8250 s 05 e6 02 4c 10 81 a9 00 86 8258 s 85 02 ad 8d 02 c9 01 f0 50 8260 8 03 4c 7d 81 4c 6d 81 c9 e3 8268 s 3c d0 03 4c 8d 81 ad 8d 0d 8270 s 02 c9 02 d0 20 20 03 c7 90 8278 s a0 00 ad cb 02 d9 c0 02 f3 8280 s d0 10 98 48 20 8f c3 68 e6 8288 s a8 ad cb 02 99 c0 02 4c 7a 8290 s b4 80 c8 d0 e5 a5 cb c5 17 8298 s 92 d0 034c 10 81 85 92 25
82a0	s	85	93	c9	24	d0	3c	ad	c4	15
82a8	s	02	c9	c8	d0	lb	a9	d8	8d	58
82b0	s	c4	02	ad	6c	d8	29	07	8d	7c
82b8	s	6c	d8	8d	0c	d9	09	08	8d	96
82c0	s	86	02	20	7b	c3	4c	dc	82	d6
82c8 s a9 c8 8d c4 02 ad86 02 7d 82d0	s	8d	6c	d8	8d	0c	d9	8d	86	4e
82d8	8	02	20	7b	c3	20	ef	c2	4c	67
82e0	s	10	81	a5	cb	c9	38	d0	3c	ae
82e8	s	ad	8d	02	c9	01	f0	09	ad	2d
82f0	s	6c	d8	8d	0c	d9	4c	10	81	f0
82f8	s	ad	c4	02	c9	c8	d0	15	ee	06
8300	s	6c	d8	ad	6c	d8	8d	0c	d9	af
8308	8	8d	86	02	20	7b	c3	20	ef	93
8310	s	c2	4c	10	81	a9	00	20	8a	5d
8318	s	c7	ad	0c	d9	29	07	8d	0c	0d
8320	s	d9	4c	10	81	c9	3b	d0	lf	4c
8328	s	ad	8d	02	c9	01	f0	09	ad	6d
8330	s	94	d8	8d	0c	d9	4c	10	81	58
8338	s	ad	c4	02	c9	d8	d0	f6	a9	44
8340	3	01	20	8a	c7	4c	10	81	c9	cc
8348	8	08	d0	lf	ad	8d	02	c9	01	48
8350	s	f0	09	ad	bc	d8	8d	0c	d9	a6
8358 s 4c 10 81 ad c4 02 c9d8 f8 8360	:	d0	d3	a9	02	20	8a	c7	4c	d3
8368	s	10	81	c9	0b	d0	09	ad	21	5b
8370	s	d0	8d	0c	d9	4c	10	81	c9	24
8378	s	33	d0	3e	ad	8d	02	c9	01	6b
8380	3	f0	07	c9	04	b0	0c	4c	b4	ed
8388	s	80	20	03	c7	20	78	c7	4c	50
8390	s	b4	80	ad	c0	02	8d	cb	02	c7
8398	s	20	78	c7	ad	cl	02	8d	cb	96
83a0	s	02	20	78	c7	ad	c2	02	8d	dd
83a8	8	cb	02	20	78	c7	ad	c3	02	88
83b0	s	8d	cb	02	20	78	c7	4C	b4	08
83b8	s	80	c9	21	d0	16	ad	8d	02	88
83c0	:	c9	01	f0	09	20	03	c7	20	el *
83c8	8	f8	c4	4c	17	82	20	34	c6	a0
83d0	s	4c	17	82	c9	15	d0	16	ad	0d
83d8	s	8d	02	c9	01	f0	09	20	03	d7
83e0	s	c7	20	ae	c5	4c	17	82	20	e3
83e8	s	58	c6	4c	17	82	c9	12	d0	fa
83f0	s	ld	ad	c4	02	c9	d8	f0	f2	62
83f8	:	ad	8d	02	c9	01	f0	09	20	22
8400	8	03	c7	20	7f	c5	4c	17	82	ff
8408	s	20	c4	c6	4c	17	82	c9	14	9a
8410	s	d0	06	20	bb	c5	4c	b4	80	f5
8418	s	c9	25	d0	16	ad	8d	02	c9	4e
8420	s	01	f0	09	20	03	c7	20	54	77
8428	3	c5	4c	17	82	20	8e	c6	4c	54
8430	s	17	82	c9	2a	d0	0d	a9	00	5c
8438	s	85	fe	20	36	c8	20	00	c0	la
8440	s	4c	b4	80	c9	0d	d0	0a	a9	12
8448	8	01	85	fe	20	36	c8	4c	b4	14
8450	s	80	c9	2e	d0	06	20	b5	c2	18
8458	s	4c	17	82	c9	00	d0	13	ad	38
8460	s	8d	02	c9	01	d0	06	20	06	4b
8468	s	ca	4c	17	82	20	0c	ca	4c	95
8470	3	17	82	c9	30	d0	13	ad	8d	b8
8478	8	02	c9	01	d0	06	20	cb	ca	df
8480	s	4c	17	82	20	fe	ca	4c	17	a2
8488	8	82	c9	31	d0	10	20	40	cb	f0
8490	s	a9	07	8d	15	d0	a5	ff	8d	18
8498	s	86	02	4c	17	82	c9	36	d0	06
84a0	;	03	4c	58	80	c9	0c	d0	24	78
84a8	s	a9	00	a2	40	a0	30	85	f7	94
84b0	s	85	f9	86	f8	84	fa	a0	00	95
84b8	8	bl	f7	91	f9	c8	d0	f9	e6	dl
84c0	s	f8	e6	fa	a5	fa	c9	40	d0	3f
84c8	s	ef	4c	17	82	c9	la	d0	06	b0
84d0	s	20	c4	cc	4c	17	82	c9	16	e8
84d8	s	d0	06	20	22	cc	4c	17	82	88
84e0	s	c9	35	d0	11	ad	8d	02	d0	8b
84e8	s	06	20	7e	cd	4c	07	85	20	ab
84f0	s	55	cd	4c	07	85	c9	32	d0	31
84f8	s	24	ad	8d	02	d0	06	20	c6	e2
8500	s	cd	4c	07	85	20	a7	cd	ac	36
8508 s c4 02/a5 92 c5 93 d0 0a d9 8510	s	a9	00	85	93	a5	92	c0	d8	31
8518	s	f0	c6	4c	17	82	c9	3e	d0	72
8520	s	06	20	f3	cd	4c	17	82	4c	0d
8528	s	10	81	78	a9	lf	a2	c0	8d	71
8530	s	14	03	8e	15	03	a9	cl	8d	ac
Listing 3. Charakter-Designer Hauptprogramm. Bei der Eingabe bitte den MSE verwenden.
8538 s 12 d0 ad 11 d0 29 7f 8d af 8540 s 11 d0 a9 81 8d la d0 58 fl 8548 8 60 ad 19 d0 8d 19 d0 29 16 8550 3 01 d0 07 ad 0d dc 58 4c e3 8558 s 31 ea ad 12d0 c9 fb b0 59 8560 s 0d a9 ld 8d 18 d0a9 fb el 8568 3 8d 12 d0 4c 25 c8 a9 15 25 8570 s8d 18 d0 a9 cl 8d 12 d0 e5 8578 8 4c 2e c8 a9 00 a2 30 c0 9a 8580 8 00 f0 09 18 69 08 90 01 59 8588 s e8 88 d0 f7 85 f7 86 f8 0b 8590 s 60 ac c0 02 2051 c0 a9 9a 8598 s 29 a2 04 85 f9 86 fa 20 c4 85a0 8 9c c0 ac c2 02 20 51 c0 08 85a8 s 20 9c c0 a9 31 a2 04 85 bf 85b0 s f9 86 fa ac cl 02 20 51 90 85b8 s c0 20 9c c0 ac c3 02 20 f9 85c0 : 51 c0 20 9c c0 60 a2 08 b7 85c8 s a0 08 bl f9 c9 a0 d0 07 0b 85d0 8 38 6e ca 02 4c bl c0 18 b8 85d8 s 6e ca 02 88 d0 ec a5 f9 3c 85e0 3 18 69 28 90 02 e6 fa 85 17 85e8 s f9 a0 00 ad ca 02 91 f7 da 85f0 s e6 f7 d0 02 e6 00 ca d0 81 85fB s cf 60 ac c0 02 20 51 c0 22 8600 s a9 29 a2 04 85 f9 86 fa 9f 8608 s 20 07 cl ac c2 02 20 51 11 8610 s c0 20 07 cl a9 31 a2 04 91 8618 s 85 f9 86 faac cl 02 20 bc 8620 s 51 c0 20 07 cl ac c3 02 4f 8628 8 20 51 c0 20 07 cl 4c fC cf 8630 s c2 a2 08 a0 00 bl f7 8d e2 8638 8 ca 02 a0 08 6e ca 02 90 93 8640 s 17 a9 a0 91 f9 a5 f9 85 46 8648 s fb a5 fa 18 69 d4 85 fc 25 8650 s ad 86 02 91 fb 4c 32 cl 61 8658 8 a9 20 91 f9 88 d0 dd a5 87 8660 s f9 18 69 28 90 02 e6 fa 6f 8668 s 85 f9 e6 f7 d0 02 e6 f8 4d 8670 s ca d0 c0 60 ad 22 d0 29 60 8678 s 0f 8d cb 02 ad 23 d029 0a 8680 s 0f 8d cc 02 ac c0 02 20 e2 8688 s 51 c0 a9 29 a2 04 a0 29 e8 8690 8 85 f9 86 fa 84 fb a9 d8 93 8698 8 85 fc 20 9f cl ac c2 02 28 86a0 s 20 51 c0 20 9f cl a9 31 ae 86a8 8 a2 04 85 f9 86 fa a9 31 36 86b0 s a2 d8 85 fb 86 fc ac cl 26 86b8 s 02 20 51 c0 20 9f cl ac 96 86c0 3 c3 02 20 51 c0 20 9f cl c6 86c8 s 60 a2 08 a0 08 bl f9c9 19 86d0 s a0 d0 2f bl fb 29 0f cd bb 86d8 s cb 02 d0 0b 38 6e ca 02 60 86e0 8 18 6e ca 02 4c e0 cl cd 91 86e8 s cc 02 d0 0b 18 6e ca 02 6f 86f0 8 38 6e ca 02 4c e0 cl 38 95 86f8 s 6e ca 02 38 6e ca 02 4c 31 8700 s e0 cl 18 6e ca 02 18 6e 8f 8708 s ca 02 88 88 d0 bf ad ca 5e 8710 s 02 91 f7 e6 f7 d0 02 e6 91 8718 s f8 a5 f9 18 69 28 90 04 86 8720 s e6 fa e6 fc 85 f9 85 fb 13 8728 3 ca d0 a0 60 ad 22 d0 29 10 8730 s 0f 8d cb 02 ad 23 d0 29 c2 8738 s 0f 8d cc 02 ac c0 02 20 9a 8740s 51 c0 a9 29 a2 04 a0 29 a0 8748 s 85 f9 86 fa 84 fb a9 d8 4b 8750 s 85 fc 20 59 c2 ac c2 02 27 8758 8 20 51 C0 20 59 c2 a9 31 0a 8760 8 a2 04 85 f9 86 fa a9 31 ee 8768 s a2 d8 85 fb 86 fc ac cl de 8770 s 02 20 51 c0 20 59 c2 ac 20 8778 3 c3 02 20 51 c0 20 59 c2 67 8780 s 4c fc c2 a2 08 a0 00 bl 38 8788 s f7 8d ca 02 a0 08 4e ca 52 8790 s 02 b0 15 4e ca 02 b0 0a 8d 8798 3 a9 20 91 f9 88 91 f9 4c 8a 87a0 3 99 c2 ad cc 02 4c 8c c2 d9 87a8 s 4e ca 02 b0 06 ad cb 02 f3 87b0 8 4c 8c c2 ad 6c d8 91 fb 74 87b8 s 88 91 fb c8 a9 a0 91 f9 fb 87c0 s 88 91 f9 88 d0 c8 a5 f9 7e B7c8 s 18 69 28 90 04 e6 fa e6 e2
Grafik
87d0 : fc 85 f9 87d8 : 02 e6 f8 87e0 : a9 31 85 87e8 8 85 f9 86 87f0 8 85 fb 86 87*8 8 bl *9 91 8800 8 fa e6 fc 8808 8 85 01 58 8810 8 10 d0 03 8818 s cl ad c4 8820 s 4c d0 c0 8828 s 02 20 51 8830 s ac cl 02 8838 : a2 00 bl 8840 s bl f7 9d 8848 : c0 08 d0 8850 s 51 c0 85 8858 s 02 20 51 8860 8 bl f9 9d 8868 s 9d 40 03 8870 : d0 ee ad 8878 s ld ad 86 8880 s d0 ac 23 8888 s 25 d0 8c 8890 s a9 06 8d 8898 s 02 8d 28 88a0 s 00 Bd lc 88a8 s ea ea aa 88b0 3 06 8a 99 88b8 s 60 a9 lc 88c0 s 00 d0 8e 88c8 s 8c 10 d0 88d0 s ad 00 dc 88dB s d0 06 20 88e0 s ad ca 02 88e8 s 52 c4 ad 88f0 s 06 20 b2 88f8 s ca 02 29 8900 s c4 ad ca 8908 s 4c 2e c4 8910 s a2 32c8 8918 s ca d0 f7 8920 s 03 4c 2e 8928 s 00 d0 14 8930 s 52 c4 4c 8938 e 03 20 6c 8940 a 07 d0 06 8948 s c4 c9 02 8950 s a9 e0 8d 8958 s a9 ff a2 8960 s dc 60 ad 8968 s 12 ad cb 8970 8 cb 02 ad 8978 s 8d 01 d0 8980 s d8 b0 12 8988 s 28 8d cb 8990 s 69 08 8d 8998 s 02 c9 ff 89a0 s ad 10 d0 89a8 s c9 fc d0 89b0 s 8d 10 d0 89b8 s 00 d0 c9 89c0 8 a2 lc 8d 89c8 s ad 01 d0 89d0 s d0 60 ad 89d8 s 8d 00 d0 89e0 s 00 f0 f8 89e8 : d0 d0 lb 89f0 8 d0 26 a9 89f8 s d0 8e 00 8a00 s e9 08 8d 8a08 s d0 c9 05 8al0 s fc 8d 10 8al8 s ad 00 d0 8a20 s d0 60 ac 8a28 s a0 00 bl 8a30 s c8 c0 08 8a38 s 02 20 51 8a40 s a2 00 0a 8a48 8 e0 08 d0 8a50 3 f7 c8c0 8a58 s cb 02 20 8a60 s f7 a2 00 8a68 s 02 28 6e 8a70 s 04 d0 f0 8a78 s c8 c0 08 8a80 s 02 20 51 8a88 8 85 f9 86 8a90 s 48 a4 fa 8a98 s f7 68 a4 8aa0 s c6 fa a5 8aa8 s 60 ac cb 8ab0 s 00 bl f7 8ab8 s 08 d0 f6 8ac0 s a6 c5 2a 8ac8 s 91 f7 c8 8ad0 s 00 00 00 8ad8 s ad c4 02 8ae0 s 0c c5 4c 8ae8 s ac cb 02 8af0 s f7 99 a6 8af8 s f6 a5 cb
85 fb e6 f7 d0 36 ca d0 a7 60 78 al 01 a9 00 a2 d0 6a fa a9 00 a2 30 f0 fc a2 10 a0 00 el fb c8 d0 f9 e6 52 ca d0 f2 a9 37 bf 60 ad c4 02 29 8b 4c 67 c0 4c 4a 15 02 29 10 d0 03 7e 4c 02 c2 ac c0 f8 c0 85 f9 86 fa df 20 51 c0 a0 00 df f9 9d 40 03 e8 40 40 03 e8 e8 c8 09 ee ac c2 02 20 47 f9 86 fa ac c3 lc c0 a0 00 a2 18 9b 40 03 e8 bl f7 ab e8 e8 c8 c0 08 eb c4 02 29 10 f0 47 02 29 07 ae 22	18
d0 8d 26 d0 8e f4 28 d0 8c 29 d0 f5 lc d0 60 ad 86 f7 d0 8d 29 d0 a9 3e d0 60 ad 86 02 la a0 00 98 99 d0 93 d0 da c8 d0 f5 9f a2 c6 a0 00 8d d5 01 d0 8c cb 02 91 a9 e0 8d 02 dc 02 8d ca 02 29 01 c9 38 c4 4c c0 c3 f4 29 02 d0 03 20 8b ca 02 29 04 d0 7c c4 4c d7 c3 ad 39 08 d0 03 20 6c 8d 02 29 10 d0 03 ea a9 ff 8d 02 dc 00 d0 fd ee 27 d0 ad a5 cb c9 01 d0 ad c4 ae 8d 02 e0 8f c9 07 d0 06 20 le 26 c4 c9 02 d0 00 c4 4c 26 c4 c9 9c 20 38 c4 4c 26 5c d0 ef 20 b2 c4 e0 02 dc 4c a6 c3 5f 00 86 c6 8d 02 82 cb 02 c9 28 90 81 02 38 e9 28 8d 13 01 d0 38 e9 08 4e 60 ad cb 02 c9 9b ad cb 02 18 69 eb 02 ad 01 d0 18 00 01. d0 60 ad cb df f0 19 ee cb 02 d9 d0 12 ad 00 d0 d4 26 a9 01 a2 05 lf 8e 00 d0 60 ad af 55 d0 14 a9 00 92 10 d0 8e 00 d0 f9 18 69 08 8d 01 3c 00 d0 18 69 08 bf 60 ad cb 02 c9 7a ce cb 02 ad 10 14 ad 00 d0 c9 lc 83 01 a2 55 8d 10 89 d0 ad 01 d0 38 c0 01 d0 60 ad 00 38 d0 0b a9 00 a2 5b d0 8e 00 d0 60 de 38 e9 08 8d 00 16 cb 02 20 51 c0 ad f7 49 ff 91 f7 fe d0 f5 60 ac cb 21 c0 a0 00 bl f7 77 6e ca 02 18 e8 22 f6 ad ca 02 91 9c 08 d0 e8 60 ac 0c 51 c0 a0 00 bl cb 0a 08 0a 6e ca 0a ca 02 18 e8 e0 ba ad ca 02 91 f7 cl d0 e2 60 ac cb 38 c0 a9 00 a2 07 32 fa a4 f9 bl f7 db bl f7 a4 f9 91 cf fa 91 f7 e6f9 b4 f9 c9 04 d0 e4 56 02 20 51 c0 a0 62 99 a6 c5 c8 c0 f7 a0 00 a2 00 5e cc e8 e0 08 d0 f7 72 c0 08 d0 ee 60 22 00 00 00 00 00 dl 29 10 d0 03 4c b9 2d c5 20 Bf c3 ab 20 51 c0 ea bl 29 c5 c8 c0 08 d0 6a c9 40 d0 fa a9 b7
8b00 3 e0 8d 02 dc 8b08 s 10 f0 f9 20 8bl0 s 02 20 51 c0 8bl8 8 c5 91 f7 c8 8b20 s 60 8d ca 02 8b28s 51 c0 a0 00 8b30 s c5 c8 c0 08 8b38 s 02 20 51 c0 8b40 s ac cb 02 20 8b48 8 bl f9 91 f7 8b50 s *7 a0 00 b9 8b58 s c8 c0 08 d0 8b60 s 02 8d cb 02 8b68 s cl 02 8d cb 8b70 s ad c2 02 8d 8b78 5 c4 äd c3 02 8b80 s f8 c4 ad c0 8b88 s 20 0c c5 ad 8b90 s 02 20 0c c5 8b98 s cb 02 20 0c 8ba0 s 8d cb 02 20 8ba8 s 02 ac cl 02 8bb0 s c2 02 ac c3 8bb8 s ad c0 02 8d 8bc0 s c5 ad cl 02 8bc8 s 54 c5 ad c2 8bd0 s 20 54 c5 ad 8bd8 s 02 20 54 c5 8be0 s c2 02 20 f7 8be8 s acc3 02 4c 8bf0 8 02 8d cb 02 8bf8 s cl 02 8d cb 8c00 s ad c2 02 8d 8c08 8 c5 ad c3 02 8cl0 s 7f c5 ad c0 8cl8 s 20 f7 c5 ad 8c20 s 02 20 f7 c5 8c28 s c3 02 4c f7 8c30 s c9 68 b0 15 8c38 s 7a b0 07 ad 8c40 s 02 60 adc2 Bc48 s 60 ad 01 d0 8c50 : ad cl 02 8d 8c58 s c3 02 8d cb 8c60 s 37 85 01a9 8c68 s f9 86 fa a9 8c70 s f7 86 f8 20 8c78 s a2 d8 85 f9 8c80 s a2 97 85 f7 8c88 8 c7 a9 37 85 8c90 s 04 a0 00 bl 8c98 s d0 f? e6 f8 8ca0 s f2 60 ac cb 8ca8 3 a0 00 a9 00 8cb0 s 08 d0 f9 60 8cb8 8 29 07 85 f7 8cc0 s 0f 85 f8 ad 8cc8 s 85 f9 ad 23 8cd0 s fa 68 c9 01 8cd8 3 f0 ld a5 fa 8ce0 s 10 d0 02 a9 8ce8 s f3 c5 f8 f0 8cf0 8 eb 8d 23 d0 8cf8 3 f7 aa e8 8a 8d00 s a9 00 c5 f9 8d08 8 f0 ef c5 f8 8dl0 s 8d 86 02 29 8dl8 s a5 f9 aa e8 8d20 s 02 a9 00 c5 8d28 s fa f0 ef c5 8d30 8 22 d0 8d 0c 8d38 s 29 07 ae 22 8d40 s 8d 6c d8 8e 8d48 s d8 20 7b c3 8d50 s c4 02 8d 16 8d58 s a9 c8 8d 16 8d60 8 a9 06 8d 15 8d68 3 85 ff a9 07 8d70 s 20 8d a7 06 8d78 s 18 20 0a e5 8d80 5 c8 20 d2 ff 8d88 s f5 a9 00 85 8d90 s 00 85 c6 a5 8d9B s 77 02 c9 14 8da0 s f0 0c c9 0d 8da8 s 30 e5 c9 5f 8db0 s b0 dd 20 d2 8db8 s e8 4c 65 c8 8dc0 s ca 20 d2 ff 8dc8 s ac c9 a9 00 8dd0 s e8 8a 48 a9 8dd8 s 42 8d a7 06 8de0 s da a9 00 85 8de8 s c9 a2 la 20 8df0 8 a2 08 a0 0f 8df8 s c0 ff 90 0a 8e00 s ff 20 c2 c9 8e0B s 20 c3 ff ad
ad 00 dc 29 64 8f c3 ac cb 74 a0 00 b9 a6 cd c0 08 d0 f6 3a 8c cb 02 20 a9 bl f7 99 a6 90 d0 f6 ac ca 97 85 f9 86 fa ef 51 c0 a0 00 f4 c8 c0 08 d0 ad a6 c5 91 f9 al *6 60 ad C0 47 20 f8 c4ad 94 02 20 f8 c4 96 cb 02 20 f8 f0 8d cb 02 4c lc 02 8d cb 02 ld cl 02 8d cb cf ad c2 02 8d 72 c5 ad c3 02 cb 0c c5 ad c0 bf 20 f7 c5 ad e5 024c f7c5 05 cb 02 20 54 ee 8d cb 02 20 8c 02 8d cb 02 82 c3 02 8d cb 5b ad c0 02 ac fa c5 ad cl 02 7f f7 c5 ad c0 66 20 7f c5 ad 5c 02 20 7f c5 42 cb 02 20 7f 8d 8d cb 02 20 54 02 ac cl 02 86 cl 02 ac c2 bf ad cl 02 ac 33 c5 ad 00 d0 6a ad 01 d0 c9 b6 c0 02 8d cb 6c 02 8d cb 02 f6 c9 7a b0 07 la cb 02 60 ad ba 02 60 ea a9 lb 00 a2 04 85 00 Ba a2 93 B5 af 65 c7 a9 00 28 86 fa a9 8a 23 86 f8 20 65 ca 01 58 60 a2 3c f7 91 *9 c8 a0 e6 fa ca d0 50 02 20 51 c0 4f 91 f7 c8 c0 30 48 ad 86 02 bb ad 21 d0 29 3f 22 d0 29 0f fl d0 29 0f 85 b7 f0 42 c9 00 d9 aa e8 8a c9 cf 00 c5 f7 f0 fe ef c5 f9 f0 11 4c 08 c8 a5 f8 c9 08 d0 02 f4 f0 f3 c5 fa 16 f0 eb 09 08 23 07 4c 08 c8 0b 8a c9 10 d0 5a f7 f0 f3 c5 12 f8 f0 eb 8d 31 d9 ad 86 02 c8 d0 ac 23 d0 75 94 d8 8c bc c7 4c ef c2 ad 32 d0 4c bc fe 9c d0 4c bc fe ec d0 ad 86 02 ab 8d 86 02 a9 a0 a2 10 a0 14 57 a2 00 bd f8 f3 e8 e0 05 d0 58 cc a2 00 a9 38 c6 f0 fc ad fc f0 le c9 20 6d f0 21 c9 23 30 10 el e0 0d d7 ff 9d 0a c9 5a e0 01 30 cf af 4c 65 c8 20 a2 85 c6 e8 e8 c7 01 85 cc a9 07 a9 0f 8d a7 24 9d a9 01 a0 ac bd ff a9 01 11 20 ba ff 20 b8 a9 01 20 c3 c8 68 60 a9 01 2b 11 d0 29 ef db
Listing 3. Charakter-Designer Hauptprogramm (Fortsetzung). Bei gleicher Eingabe bitte den MSE verwenden.
68 a2 07 a0 c9 a5 fe f0 3f 4c 41 4d 45 3a 44 20 45 52 52 4f 13 20 20 20 20 20 20 20 20 20 20 20 a2 08 20 00 a9 30 86 f7 f7 a2 00 a0 40 4c 47 c9 a2 08 ba ff a9 00 a2 20 d5 ff 20 cd c9 a9 07 8d 86 85 fa 20 b4 ff b9 20 96 ff 20 30 d0 0a 20 a5 d0 03 4c 8f c9 14 18 20 0a e5 fd c8 20 d2 ff d0 f5 20 8f c9 3c d0 fa 4c c2 ff c9 0d d0 f9 a5 ff Bd 86 02 09 10 8d 11 d0 15 d0 60 a9 20 bd 0a c9 c9 a0 20 d0 04 ca 4c 60 a9 20 a2 13 ca d0 fa 60 a9 a0 40 85 f7 85 84 fa a8 bl f7 d0 f9 e6 f8 e6 c9 40 d0 ef 60* ac cb 02 20 51 d0 38 e9 3d 4a 07 8d cb 02 60 4c 12 ca 20 ee ca a0 07 bl f7 d0 05 a2 01 8e 00 7e 9d 00 7e c9 07 f0 0c 88 91 f7 88 cc cb ae 00 7f bd 00 f0 03 ce 00 7f 91 f7 60 ac cb ee 00 7f d0 05 00 7f ae 00 7f c0 07 f0 0b c8 91 f7 c8 c0 07 00 7e bd 00 7e 03 ce 00 7e a0 60 ad 01 d0 38 4a 4a 8d cc 02 cb 02 ad 00 d0 17 ac c0 02 20 f9 86 fa ac c2 c0 85 fb 86 fc ac Cl 02 20 51 86 fa ac c3 02 85 fb B6 fc ad 08 60 20 82 ca f9 a6 fa 85 f7 12 ca ae 00 7e ce 00 7e ee 00 7f 9d 00 7f a9 02 a5 fb a6 fc f8 20 12 ca 60 d0 05 a9 00 8d fb a6 fc 85 f7 4c ca ad cc 02 25 ae 00 7f bd 00 7f ee 00 7e 9d 00 7e ad cc 8d cb 02 a5 f9 f7 86 f8 20 4c 06 8d 15 d0 ad ff a9 07 8d 86 00 8d 19 d0 8d 31 a2 ea 8d 14 03 ad 16 d0 85 8d 18 d0 a9 c8 58 a2 10 a0 14 e5 a9 13 a2 cc bc a9 04 85 b7 ba a9 60 85 b9 a5 ba 20b4 ff 96 ff a9 00 85 84 fb 20 a5 ff 54 20 a5 ff a4 a4 fb 88 d0 eb a6 90 d0 41 aa 2b 4c b6 cb a2 18 20 0a e5 a5 02 e0 01 d0 06 4c fe cb c9 40 c5 c9 40 d0 fa a0 02 d0 b4 20 22 f0dl c9 13
8el0 s 8d 11 d0 8el8 s 20 bd ff 8e20 s lb c9 4e 8e28 s 49 53 4b 8e30 s 52 40 3a 8e38 s 20 20 20 8e40 s 20 20 20 8e48 s ba ff a2 8e50 s 85 f8 a9 8e58 8 20 d8 ff 8e60 s a0 00 20 8e68 s 00 a0 30 8e70 s c9 20 c2 8e78 s 02 a9 08 8e80 s a9 6f 85 8e88 s a5 ff c9 8e90 s ff c9 30 8e98 s a2 10 a0 8ea0 s a2 00 bd 8ea8 s e8 e0 0a 8eb0 s a5 cb c9 8eb8 8 c9 20 a5 8ec0 8 20 ab ff 8ec8 s ad 11 d0 8ed0 s a9 07 8d 8ed8 s 9d 9a 06 8ee0 8 f0 04 c9 8ee8 s ac c9 e8 8ef0 3 9d 93 06 8ef8 s 00 a2 30 8f00 s f9 86 f8 8f08 s 91 f9 c8 8fl0 8 fa a5 f8 8fl8 : 20 03c7 8f20 s c0 ad 01 8f28 s 4a 4a 29 8f30 s 20 ee c9 8f38 s c9 4c 4c 8f40 s ee 00 7e 8f48 s 00 7e ae 8f50 s ad cb 02 8f58 s bl f7 c8 8f60 s 02 d0 f4 8f68 s 7f e0 00 8f70 s ac cb 02 Bf78 s 02 bl f7 8f80 s a2 01 8e 8f88 s 9d 00 7f 8f90 s bl f7 88 8f98 s d0 f5 ae 8fa0 s e0 00 f0 8fa8 s 07 91 f7 8fb0 s e9 3d 4a 8fb8 s 29 07 8d 8fc0 s c9 65 b0 8fc8 s 51 c0 85 8fd0 s 02 20 51 8fd8 s 4c c5 ca 8fe0 s c0 85 f9 8fe8 s 20 51 c0 8ff0 s cc 02 29 8ff8 s d0 22 a5 9000 s 86 f8 20 9008 8 bd 00 7e 9010 s 7f ae 00 9018 s 00 8d cb 9020 s 85 f7 86 9028 s 2082 ca 9030 s cb 02 a5 9038 s 86 f8 20 9040 s 29 08 d0 9048 s 00 7f ce 9050 s ae 00 7e 9058 s 02 29 07 9060 s a6 fa 85 9068 s ca 60 a9 9070 s 86 02 85 9078 8 02 78 a9 9080 s la d0 a9 9088 s 03 8e 15 9090 s fe a9 15 9098 s 8d 16 d0 90a0 s 18 20 0a 90a8 s 85 bb 86 90b0 s a9 08 85 90b8 s 20 d5 f3 90c0 s a5 b9 20 90c8 s 90 a0 03 90d0 : a4 90 d0 90d8 3 90 d0 4d 90e0 s 20 a5 ff 90e8 s c9 22 f0 90f0 s 10 a0 14 90f8 s c5 ae 8d 9100 s 20 17 cc 9108 s f0 ed a5 9110 s 20 17 cc 9118 s a5 ff c9
df d8 4c cl 57
38 f4 dl e8 cb f2
42 49
85 70 ce fe 63
4a cf d0
37 f5 a6 fa 53 3a 0b eb
85 b7 6a 5f 31 6e
c3 99 8d 6f
05 d6 f8 d0 lb
81 78 b3 d3 68 el
45 18 5c 71
64 92 9b
9e da d5 af ca 6c ee
01 el e0 0f 3d ld
aa 28 96 ba 2d
ae 6f 21 73
52 9a c5 5f
84 3d
f4
75
51 f3 d7
91
53 8e ld 5e e9
bd
5e
Grafik
9120 9128 9130 9138
9140 9148
9150 9158
9160 9168 9170 9178 9180 9188 9190 9198 91a0 91a8 91b0 91b8 91c0 91c8 91d0 91d8 91e0 91e8 91f0 91f8 9200 9208 9210 9218 9220 9228 9230 9238 9240 9248 9250 9258 9260 9268 9270 9278 9280 9288 9290 9298 92a0 92a8 92b0 92b8 92c0 92c8 92d0 92d8 92e0 92e8 92f0 924=8 9300 9308 9310 9318 9320 9328
9330 9338 9340 9348 9350 9358 9360 9368 9370 9378 9380 9388 9390 9398 93a0 93a8 93b0 93b8 93c0 93c8 93d0 93d8 93e0 93e8 93f0 93f8 9400 9408 9410 9418 9420 9428 9430 9438 9440 9448 9450
f0 f5 20 d2 ff 4c ed cb 20 42 f6 a5 ff 8d 86 02 a9 00 85 c6 20 00 c0 a5 fe 8d 16 d0 60 24 3a 13 2a a9 20 a2 12 9d 93 06 ca d0 fa 60 ad 86 02 85 ff a9 06 8d 15 d0 4c a6 cc a2 13 a0 01 18 20 0a e5 a2 13 a0 01 a9 00 85 c6 a5 c6 f0 fc ad 77 02 c9 14 f0 2f c9 20f0 18 c9 0d f0 61 c9 91 f0 40 c9 11 f0 44 c9 ld f0 08 c9 9d f0 17 c9 93 f0 40 c0 27 b0 04 c8 4c 8c cc a0 01 18 20 0a e5 a9 11 4c 9e cc c0 02 30 04 88 4c 8c cc a0 26 18 20 0a e5 a9 91 4c 96 cc 20 d2 ff 18 20 0a e5 4c 3b cc e0 14 30 al ca 4c 8c cc e0 17 10 99 e8 4c 8c cc a2 00 a9 20 9dd0 06 e8 d0 fa 4c 2f cc a2 00 86 c6 a5 ff 8d 86 02 a9 07 8d 15 d0 4c 7b c3 a9 00 a2 38 a0 30 85 f7 85 f9 86 f8 84 fa a8 bl f7 aa bl f9 91 f7 8a 91 f9 c8 d0 f3 e6 f8 «6 fa a5 fa c9 38 d0 e9 60 ad 01 d0 c9 7d b0 13 ac cl 02 20 51 c0 85 f9 86 faac c0 02 20 51 c0 4c 15 cd ac c3 02 20 51 c0 85 f9 86 fa ac c2 02 20 51 c0 ad 01 d0 38 e9 3d 4a 4a 4a 29 07 8d cb 02 a5 f7 18 6d cb 02 85 f7 a5 f9 18 6d cb 02 85 f9 ad 00 d0 c9 6c 08 38 e9 2c 4a 4a 4a 29 07 a8 a9 00 8d cb 02 c0 00 f0 08 38 6a 88 d0 fb 8d cb 02 28 60 20 ebcc 90 08 a5 f9 a6 fa 85 f7 86 f8 a0 00 blf7 2d cb 02 85 fb ad cb 02 49 ff8d cb 02 bl f7 2d cb 02 4a 05 fb 91 f760 20 eb cc 90 08 a5 f9 a6 fa 85 f7 86 f8 a0 00 bl f7 2d cb 02 85 fb ad cb 02 49 ff 8d cb 02 blf7 0a 2d cb 02 05 fb 91 f7 60 20 eb cc 90 03 4c 55 cd a0 00 bl f7 29 01 85 02 20 55 cd a0 00 bl f9 a6 02 e0 01 6a 91 f9 60 20 eb cc 90 03 4c 7e cd a0 00 bl f9 18 0a 90 07 a2 01 86 02 4c el cd a2 00 86 02 91 f9 20 7ecd a5 02 f0 08 a0 00 bl f7 09 01 91 f7 60 a9 06 8d 15 d0 ad 86 02 85 ff a9 07 8d 86 02 a2 10 a0 14 18 20 0a e5 a0 0d b9 45 ce 20 d2 ff 88 d0 f7 a5 cb c9 40 f0 fa c9 3e d0 34 a5 cb c9 40 d0 fa c8 c0 03 d0 eb 78 a9 f3 a2 70 85 f7 86 f8 a0 00 98 91 f7 c8 d0 fb e6 f8 a5 f8 c9 cd d0 f3 4c e2 fc 54 45 53 45 52 20 47 4e 55 54 48 43 41 a5 ff 8d 86 02 a9 07 8d 15 d0 4c c2 c9 20 55 40 40 40 40 40 40 40 7d 6d 40 40 40 40 40 40 40 49 60 20 20 20 20 20 20 20 20 20 20 55 40 40 40 40 40 40 40 40 49 31 42 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 42 55 40 40 4040 49 55 40 40 40 49 42 le 20 2d 20 05 0e 04 05 42 32 42 20 20 20 20 60 20 20 20 20 20 20 20 20 20 20 20 42 42 20 20 20 20 42 42 bl 20 51 42 42 00 20 2d 20 09 0e 09 14 42 33 42 20 20 20 20 20 20 20 20 20 20 20 20 20 2020 20 42 42 20 20 20 20 42 42 b2 20 51 42 42 0c 20 2d 20 0c 0f 01 04 42 34 42 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 42 42 20 20 20 60 42 42 b3 20 51 42 42 13 20 2d 20 13 01 16 05 42 35 42 20 20 20 20
lf 66 64 d3 04 67 ad b4 d8 f0 f7 9d f0 bc 4b 5c 49 39 4e 54 c5 28 2b 0d 58 3a ff c8 c0 7d 80 4f e6 a5 54 64 d8 2f 99 8b 26 86 ed 46 bl 8a 34 a5 8c e6 33 ff 9c 02 d2 03 c6 c3 73 66 55 34 b4 8c 79 2d 7b 05 b7 83 2d lf 5f f9 c4 ce b0 69 0a 69 a0 bd ed b8 4d bf 3a 97 20 lb df 7d 0e 08 43 17 b7 67 30 6b 6f 8c d0
9458 x 20 20 20 9460 ; 20 20 20 9468 x 20 20 42 9470 z 42 14 20 9478 x 14 42 36 9480 x 20 20 20 9488 x 20 20 20 9490 x 40 40 4b 9498 x 42 09 20 94a0 x 05 42 37 94a8 x 20 20 20 94b0 x 20 20 20 94b8 x 40 49 20 94c0 x 42 0b' 20 94c8 x 06 42 38 94d0 x 20 20 20 94d8 x 20 20 20 94e0 x20 42 20 94e8 x 4b 03 20 94f0 : 19 42 31 94f8 x 20 20 20 9500 x 20 20 20 9508 X 20 42 20 9510 x 04 12 05 9518 x 20 42 32 9520 x 20 20 20 9528 x 20 20 20 9530 x 40 4b 20 9538 x 13 10 09 9540 x 20 42 33 9548 x 20 20 20 9550 : 20 20 20 9558 : 20 20 20 9560 : 07 12 0f 9568 x 2e 42 34 9570 x 20 20 20 9578 x 20 20 20 9580 x 40 40 40 9588 x la 15 12 9590 x 20 42 35 9598 x 20 20 20 95a0 x 20 20 20 95a8 x 09 0e 13 95b0 x 05 09 0e 95b8 x 0e 42 36 95c0 x 20 20 20 95c8 x 20 20 20 95d0 x 0f 0d 0d 95d8 x 17 01 05 95e0 x 40 4b 37 95e8 x 20 20 20 95f0 x 20 20 20 95f8 x 40 40 40 9600 x 40 40 40 9608 x 40 49 38 9610 x20 20 20 9618 x 20 20 20 9620 *20 20 20 9628 x 20 20 20 9630 x 20 42 20 9638 x 40 40 40 9640 x 40 40 40 9648 x 40 40 40 9650 x 40 40 40 9658 x 40 4b 20 9660 x 20 20 20 9668 x 20 20 20 9670 x 20 20 20 9678 x 20 20 20 9680 x 20 20 20 9688 x 20 20 20 9690 x 20 20 20 9698 x 20 20 20 96a0 x 20 20 20 96a8 x 20 20 60 96b0 x 20 20 20 96b8 x 20 20 20 96c0 x 20 20 20 96c8 x 20 20 20 9600 x 20 20 60 96d8 x 20 20 20 96e0 x 20 20 20 96e8 x 20 20 20 96f0 x 20 20 20 96f8 x 20 20 60 9700 x 20 20 20 9708 x 20 20 20 9710 x 20 20 20 9718 x 20 20 20 9720 x 20 20 60 9728 x 20 20 20 9730 x 20 20 20 9738 x 20 20 A 9740 x 20 20 20 9748 x 20 20 60 9750 x 20 20 20 9758 x 20 20 20 9760 x 20 20 20 9768 x 20 20 20
20 20 20 20 20 20 42 42 20 20 42 b4 20 dl 42 2d 20 14 05 13 42 20 20 20 20 20 20 20 20 20 20 42 4a 40 40 42 01 20 51 42 2d 20 09 0e 16 42 20 20 20 20 20 20 20 20 20 20 42 20 55 40 4a 40 40 40 4b 2d20 0b 0f 10 7d 20 20 20 20 20 20 20 20 20 20 6d 20 42 20 55 40 40 40 40 2d 20 03 0f 10 6e 20 20 20 20 20 20 20 20 20 20 70 20 42 20 42 04 20 2d 20 08 05 0e 20 20 42 20 20 20 20 20 20 20 20 20 20 42 20 4a 40 42 06 20 2d 20 05 07 05 0c 0e 42 20 20 20 20 20 20 20 20 20 20 42 20 20 20 42 07 20 2d 20 13 13 2f 0b 0c 42 20 20 20 20 20 20 20 20 20 20 42 60 55 40 4b la 20 2d 20 15 05 03 0b 20 42 20 20 20 20 20 20 20 20 20 2042 60 42 20 2f lc 20 2d 20 06 15 05 07 05 42 20 20 20 20 2020 20 20 20 20 42 20 42 03 0f 04 2e 2d 20 08 0c 05 0e 55 42 20 20 20 20 20 20 20 20 20 20 42 55 71 40 40 40 40 40 40 40 40 40 40 71 42 20 20 20 20 20 20 20 20 20 20 42 42 20 20 20 20 20 20 20 20 20 20 20 60 4a 40 40 40 40 6e 70 40 40 40 40 4b 4a 40 40 40 40 40 40 40 40 40 40 40 40 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2020 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
58 93
89 47
47 80 bc e6 bb
a0 a8 e7 8c ec
71 d0
36 5c d9 08 f8 8e d0 el f2
20 33 bd lb 5a
48 72 3f
86 dl
70 bl fl
29 2b
98 4d lb le
81 c0
39 32 7e a0 e8
42 f8
62 07
10 4b
20 a9 4a 01
41 48
50 0e
60 68
70 78
80 88
90 98 a0 b8 b0 b8 c0 c8 e0 d8 e0 e8 f0 08 00 08 10
18 30
28 30
38 40
58 50
58 60
68
9770 x 20 20 00 00 00 00 00 00 9778 x 00 00 00 00 00 00 00 00 9780 x 00 00 00 00 00 00 00 00 9788 x 00 00 f0 0f ff 5f ff ff 9790 x 2f 4f 2f ff ff 5f ff 9f 9798x 0f 8f ff cf ff 41 f7 f7 97a0 x f7 07 f7 17 f7 f7 d7 57 97a8 x ff cf ff ff 5f lf ff ff 97b0 x ff 9f f0 2f 2f ff ff ff 97b8 x 0f bf bf 0f 4f af 9f af 97c0 x ff ff ff 5f ff ff ff ff 97c8 x 2f ff ff f7 ff 9f ff 9f 97d0x ff fl 5f 20 2f f7 f7 07 97d8 x f7 9f 60 ff b0 c0 20 f0 97e0 x f0 ff 9f 4f 5f ff ff 5f 97e8 x ff 5f af ff ff lf 4f 5f 97f0 x ff ff 5f bf fl 9f f3 4f 97f8 x 0f bl fl b0 f0 c7 27 f7 9800 x f7 df 90 4f 5f 2f ff ff 9808 x 9f ff cf ff ff cf 0f 5f 9810 x 4f ff af 0f 4f 5f ff 9f 9818 X ff bf af bf fl ff 67 6f 9820 x 4f 41 07 f0 f7 c7 c7 f7 9828 x b7 ff 40 6f 8f 9f ff ff 9830 x 0f 9f ff 4f ff ff 0f ff 9838 x 3f ff ff ff 4f 2f 4f 0f 9840 x 9f ff 4f 9f 51 ff f0 ff 9848 x ff 81 27 f0 f7 47 07 e7 9850 x 07 ff f0 bf 9f 0f 4f ff 9858 x ff ff 5f 4f 0f lf ff 4f 9860 x ff ff lf ff ff ff ff af 9868 x 8f ff ff ff fl af fl ff 9870 x ff fl f0 f0 f7 f7 57 47 9878 x 57 cf f0 ff ff ff lf ff V880 x 6f ff cf ff cf af ff 5f 9888x ff 9f lf ffdf ff ff ff 9890 x 5f ff ff ff bl f8 93 ff 9898 x 9f cl bl 40 fl f7 57 07 98a0 x 57 5f f0 ff 4f 4f 4f af 98a8 x ff ff 4f ef df ff df ff 98b0 x 2f 5f ff ff ff 5f 9f 0f 98b8 x ff ff ff cf 5f 5f ff ff 98c0 x ff 51 b7 10 f7 f7 f7 87 98c8 x c7 5fb0 ff ff 4f 5f 5f 98d0 x ff ff cf 5f bf 9f ff ff 98d8 x 4f 6f 4f ff ff 5f 0f 2f 98e0 x 0f ff ff ff ff ef ef ff 98e8 x ff 41 a7 f0 97 17 f7 b7 98f0 X f7 4f f0 ff 11 91 51 01 98f8 x dl fl 4.1 41 41 fl fl fl 9900 x 41 bl 41 af ff af 5f ff 9908 x ff ff ff 2f 91 07 f0 97 9910 : b7 07 5757 07 f7 ff ff 9918* bf ff 60 ff ff ff 4f 4f 9920 x ff ff 01 ff 4f 0f ff ff 9928 x 5f ff 9f 0f 9f ff 4f 6f 9930 x lf 4f ff ff fl f7 f0 27 9938 x f7 f7 d7 57 57 f7 f7 f7 9940 x ff 2f 20 ff ff 2f 9f lf 9948 x 5f 0f fl 5f 0f 0f 0f ff 9950 x ff 4f df af ff ff ff cf 9958 x 5f ff ff ff 51 97 10 27 9960 x f7 f7 47 27 57 a7 f7 f7 9968 x 5f df f0 ff ff ff 6f lf 9970 x 4f ff fl ff ff bf ff bf 9978 x ff 4f af ff ff ef bf cf 9980 x 0f2f ff ff 41fl d0 20 9988 x f7 f7 57 07 b7 c7 f7 f7 9990 x 07 cf 00 ff ff 9f 21 0f 9998 x cf fl ff bf cf lf lf ff 99a0 x ff bf 2f 0f 5f ff ff 27 99a8 x al al fl 91 cl 51 10 a0 99b0 x f7 f7 47 47 f7 b7 f7 f7 99b8 x 07 9f f0 ff ff ff cf 9f 99c0 x 0f ff ff ff 8f ef ff ff 99c8 x ff cf 9f 5f ff lf 9f 41 99d0 x 41 fl 41 fl fl cl 00 f7 99d8 x f7 97 27 67 f7 f7 b7 ff 99e0 x ff cf d0 ff ff 4f 4f ff 99e8 x ff ff lf 9f 9f ff ff ff 99f0 x 5f 5f lf lf df ff 4f ff 99f8 : cf ff ff ff af 4f 9f ff 9a00 x ff bf 4f ff 2f ff ff 2f 9a08 x 5f ff f0 ff ff cf 9f 0f 9al0 x ff ff ff 4f ff 2f ff ff 9al8 x 2f 5f bf 4f ff ff 0f 0f 9a20 x bf ff ff 4f ef df 2f 9f 9a28x ff 5f ff 5f ff 0f 0f df 9a30 x lf 5f ff lf ff 4f 4f ff 9a38 x ff ff lf 5f 5f ff ff ff 9a40 x ff cf bf ff 9f 2f 0f cf 9a48 x 5f ff af 4f ff 2f 5f lf 9a50 x ff 5f 5f bf ff ff 2f 9f 9a58 : ff 0f ff bf ff af 0f 0f 9a60 : ff df 5f 5f ff ff ff ff 9a68 x 6f ff Cf ff ff 4f 9f 6f 9a70 x 0f df ff 4f 0f df ff ff 9a78 x 4f 6f ff cf ff ff 4f ff 9a80 x 2f 0f lf ff ff ff ff ff
Listing 3. Charakter-Designer Hauptprogramm (Schluß). Bei der Eingabe bitte den MSE verwenden.
al 79 81 al 6d
42 49 7e 94 c9 ab
32 44 2a
56 78
49 4c
64 14 5c
76 bc d3
35 40 7f
95 3b al
86 5b ed 6f lc ld
20 d6 ef f6 26 a2 86
22 a8
48 2e 11 b0 8a 5b 31 3c cb cd 67 e7 11 15 3d 84 17 8c ef b9 29 4e bb le
ca 71 f0 6b
49 47 7d b5
70 b3 9d e6 bb
04 be
72 2b c3
37 9a el
66 b2 cb ae
13 a2
49 b6 ff
Grafik
3D-
Supergrafik
Ein dreidimensionales Grafikprogramm, das sich auch vor professionellen 3D-Programmen nicht zu verstecken braucht. Bewiesen wurde das, indem dieses Programm im Rahmen des Wettbewerbs »Jugend forscht ’85« mit dem Sonderpreis Elektronik ausgezeichnet wurde.
Mit diesem Programm ist es möglich, beliebige dreidimensionale Körper zu drehen und in verschiedenen Perspektiven darzustellen. Die Besonderheit dieses Programms istjedoch, daß es eine Routine zur Lösung des Hinterschneidungspro-blems besitzt. Diese Routine ermöglicht es, Körper naturgetreu darzustellen, indem sie Kanten, die von dem Körper verdeckt werden, löscht. Außer der Darstellung von Körpern besitzt das Programm natürlich auch Routinen zum Eingeben, Laden, Speichern und Ausdrucken von Körpern sowie eine eigene Grafikerweiterung in Maschinensprache.
Insgesamt ist das Programm sehr übersichtlich und leicht zu bedienen. Nur die Routine zur Eingabe von Körpern erfordert eine kurze Einarbeitungszeit. Denn zuerst müssen die Eckpunkt-Koordinaten eingegeben werden, dann die Nummern der Punkte, aus denen die Fläche besteht, und zwar in der Reihenfolge, in der sie verbunden werden sollen.
Die Routine zur Berechnung des Bildes erlaubt keine Fehleingaben, so daß man durch Probieren die Auswirkungen der einzelnen Faktoren auf das Bild bestimmen kann. Außerdem braucht sich der Benutzer nicht um die Größe der Darstellung zu kümmern, da dies vom Computer erledigt wird.
Die Speicherbelegung
Bei 3D-Supergrafik handelt es sich eigentlich um drei Programme: Einem Lader (Listing 1), eine Grafikerweiterung in
Maschinensprache (Listing 3) und das Hauptprogramm in Basic (Listing 2). Diese Grafikerweiterung belegt den Speicherplatz von $C400 bis $CAFF. Außerdem benutzt sie zwei Grafikbildschirme unter den beiden ROM-Bereichen ($AOOO-$BFFF/$EOOO-$FFFF). Die dazugehörigen Farbspeicher liegen von $8C00 bis $8FFF und von $C000 bis $C3FF. Daraus folgt, daß das Hauptprogramm mit den Variablen im Bereich von $0800 bis $8BFF liegt. Soviel zur Speicherbelegung.
Das Programm
Nach Laden und Starten des Laders gelangt man nach dreißig Sekunden ins Hauptmenü, dasfünf Menüpunkte zurVer-fügung stellt. Auf die Bedienung der einzelnen Punkte werde ich im folgenden eingehen.
1.	Daten eingeben
Bevor man einen dreidimensionalen Körper in den Computer eingeben kann, muß man ihn erst in mathematische Daten zerlegen. Das hört sich schwerer an als es eigentlich ist. Man zeichnet sich einfach eine Vorderansicht und eine Draufsicht des Körpers in Koordinatensysteme. Daraus kann man dann die Eckpunktkoordinaten und die Verbindungsvorschrift ablesen (siehe Bild 1). Nachdem Sie diese Arbeit erledigt haben, können Sie mit der Eingabe der Daten in den Computer beginnen.
Zuerst muß man die Anzahl der Eckpunkte (im Bild 1: 8 Punkte) und die Anzahl der Flächen (im Bild 1: 6 Flächen) des gewünschten Körpers eingeben. Danach sind die räumlichen Koordinaten der Eckpunkte an der Reihe. Nachdem man die Koordinaten des Punktes eingegeben hat, wird man vom Computer gefragt, ob die Eingabe richtig ist. Falls dies so ist, tippt man einfach weiter, falls nicht, drückt man die Taste »N«. Dann kann man die Werte noch einmal eingeben.
Nachdem man alle Eckpunkte definiert hat, muß man eingeben, in welcher Reihenfolge die Punkte zu jeder Fläche verbunden werden sollen. Ist man mit einer Fläche fertig, gibt man nur RETURN ein. Jetzt folgt wieder die Richtigkeitsabfrage des Computers, die analog zur vorherigen Frage beantwortet werden muß. Leider gibt es bei der Flächeneingabe noch eine Einschränkung. Eine Fläche darf nämlich nur aus vier Eckpunkten bestehen. Daraus folgt, daß große Flächen zerlegt, und auf mehrere kleine Flächen verteilt werden müssen (siehe Bild 2). Durch diese Maßnahme entstehen Linien, die die große Fläche teilen. Um so etwas zu vermeiden, kann der Anwender Linien eingeben, die später im Bild nicht gezeichnet werden. Das geht folgendermaßen:
Vorderansicht:	Draufsicht:
2	5,6,7,8	4	2,6,7,3	6	1,2,6,5
Geteilte Darstellung:
— ohne Löschen	1,2,5,6 und 2,3,4,5
— mit Löschen	1,2,51,6 und 21,3,4,5
Bild 2. Beispiel für die Teilung einer »großen« Fläche
^ Bild 1. Beispiel für die Erstellung eines Körpers
330?
89
Grafik
Man schreibt hinter den Punkt, zu dem die nachher nicht sichtbare Linie führen soll, ein »I«.
So, das war das Schlimmste. Alles weitere ist einfach.
2.	Daten laden
Dieser Menüpunkt dient dazu, die Daten eines Körpers von Diskette zu laden. Er bietet noch zwei Sonderfunktionen: »$« druckt das Directory der Datenfiles auf der Disk »@« Rückkehr zum Hauptmenü
Bei der Angabe, welches Bild zu laden ist, darfdas »3D-« nicht mit eingegeben werden.
3.	Daten speichern
DiesenMenüpunkt sollte man sofort nach der Eingabe eines Körpers aufrufen, um die Daten zu sichern. Er spei-chertdie Daten in einem platzsparendem Formatauf Disk. Die Sonderfunktiorien sind analog zu Punkt 2. Dem Dateinamen wird automatisch ein »3D-« vorangestellt.
4.	Bild berechnen
Es handelt sich hierbei um den umfangreichsten Punkt des Programmes, der aber nicht schwer zu verstehen ist. Die Auswirkung der einzelnen Parameterauf das Bild läßt sich am besten durch folgende Methode herausfinden: Probieren, probieren, probieren ...
Für Interessierte möchte ich hier noch erwähnen, wie ich das Hinterschneidungsproblem in meinem Programm gelöst habe:
Der Computer zeichnet die hinterste Fläche zuerst und füllt sie im unsichtbaren Grafikschirm aus (zu sehen, wenn Sie »F2« drücken). Jeden Punkt, den er dort setzt, löscht er in der sichtbaren Grafik.Auf diese Weise verfährt er auch mit den anderen Flächen, die vorderste Fläche zeichnet er zuletzt. Diese Verfahrensweise läßt sich sehr gut beim Bildaufbau beobachten. Es sieht aus, als ob der Computer den Körper aus einzelnen Teilen zusammensetzt. Es lohnt sich auch, mit den Funktionstasten F1 und F2 beim Bildaufbau zwischen den beiden Grafikseiten hin- und herzuschalten.
Wenn das Bild .fertig gezeichnet ist, kommt man mit der Leertaste wieder in den Textbildschirm. Dort wird man gefragt, ob noch etwas an der Grafik zu ändern ist. Wenn diese Frage bejaht wird, gelangt man in einen kleinen Grafikeditor. Man bewegt das Kreuz mit dem Joystick (Port 2) über den Bildschirm. Bei gedrücktem Feuerknopf werden Punkte gesetzt oder gelöscht. Mit den Tasten »%« und »L« kann man zwischen Punkt setzen und Punkt löschen hin- und herschalten. Verlassen kann man den Editor mit »E«.
5.	Hardcopy
Dieser Menüpunkt sendet eine Hardcopy für einen Epson FX/RX-80 auf den seriellen Bus. Falls Sie über einen solchen Drucker verfügen, brauchen Sie nur noch die Sekundäradressen an Ihr Interface anpassen. In Zeile 395 setzen Sie die Sekundäradresse für Groß-/Klein-Schrift ein, in Zeile 407 die Sekundäradresse für den Epson-Direkt-Modus (ohne Auto-Linefeed !).
Sonstige Hinweise
— Falls Sie das Programm mit RUN/STOP unterbrochen haben und dieVariablen noch vorhanden sind, können sie es mit »GOTO 115« wieder starten.
— Die Funktionstasten sind folgendermaßen belegt:
F1: Grafik 1
F3: Grafik 2
F5: Textbildschirm
F7: Textbildschirm
— Drücken Sie die Funktionstasten nie während Operationen auf dem seriellen Bus (Laden/Speichern/Hardcopy).
— Der Bereich von $9000 bis $9FFF ist aus Hardwaregründen unbenutzt (»Geisterbilder« des Zeichen-ROMs). Dort können eigene Hardcopyroutinen untergebracht werden.
— Man kann sich unter dem Menüpunkt »Bild berechnen« auch die Werte ausgeben lassen, um dann ein Bild von Hand zu zeichnen.
In Bild 3 bis Bild 6 sehen Sie noch einige Beispiele.
Zum Schluß möchte ich Ihnen noch viel Spaß bei der Arbeit mit meinem Programm wünschen.
(Oliver Günter/gk)
$0000	Zeropage
$0400	Textbildschirm
$0800	Programm und Variablen
$8000	Farbspeicher 2
$9000	frei
$A000	Basic-ROM und Grafik 2
$C000	Farbspeicher 1
$C400	Grafikerweiterung
$D000	I/O-Bereich
$E000	Kernal-ROM und Grafik 1
Tabelle 1: Speicherbelegung
SYS50176	Grafik 1 ein
SYS 50179	Grafik2 ein
SYS 50182	Textbildschirm ein
SYS 50185	Grafik 1 löschen
SYS 50188	Grafik 2 löschen
SYS 50191,F1,F2	Farbesetzen für Grafik 1+2
SYS50194,X,Y	Punkt setzen
SYS 50197,X,Y	Punkt löschen
SYS 50200,X1,Y1,X2,Y2	Linie ziehen
SYS 50203,X1,Y1,X2,Y2	.Linie löschen
SYS50206,X,Y	Hinterschneidungsroutine
SYS50209	Directory
SYS 50212	Funktionstasten initialisieren
SYS 50215,LF	Hardcopy
Tabelle 2: Befehle der Grafikerweiterung
Arrays:	
DX,DY,DZ	Eckpunktkoordinaten eines Körpers
WX,WY,WZ	Eckpunktkoordinaten nach dem Drehen
BX,BY	Bildschirmkoordinaten der Eckpunkte
MX,MY,MZ	Koordinaten der Flächenmittelpunkte
FL	Eckpunkte einer Fläche	*
PF	Punktanzahl einer Fläche
RF	R&henfolge der Flächen
Strings:	
IN$	Gedrückte Taste
FU$	Funktionsstring (Überschrift)
FL$	Filename
Einfache Variablen:	
V	VIC-Basisadresse
Q,W,E,R	Laufvariablen
AP	Anzahl Punkte
AF	Anzahl Flächen
FX,FY,FZ	Koordinaten des Augpunktes
ZX,ZY,ZZ	Zwischenwertspeicher
AE	Vergrößerungsfaktor
JO	Joystickregister Port 2
XD,YD,ZD	Drehwinkel um X-, Y- und Z-Achse
FE,T,S	Nummer des Diskfehlers, Track, Sector
XP,YP,WI,WK	Hilfsvariablen der Drehroutine
M,N,B,C	Hilfsvariablen der Fluchtpunktroutine
PX,NX,PY,NY	Hilfsvariablen bei der Größenberechnung
AX,AY,BX,BY	Hilfsvariablen bei der Größenberechnung
LO	Löschvariable
Tabelle 3: Variablenliste
<^y'/,	'
Grafik
Bild 3. Die Hardcopy eines Bildes mit verdeckten »unsichtbaren« Linien
Bild 6. Bild 5 ohne Hinterschneidung. Er ist sozusagen durchsichtig.
Name	■	vader
X-Drehwinkel	2	30
Y—Drehwinkel	:	0
Z—Drehwinkel	5	20
Hinterschneidung :	j
Fluchtpunkt	:	j
Augpunkt	:	0 ,	0 , 25
Bild 4. Die gleiche Figur wie in Bild 3, nur aus einem anderen Blickwinkel
Name	:	rubik's	cube
X-Drehwinkel	2	45
Y-Drehwinkel	2	120
Z-Drehwinkel	s	210
Hinterschneidung 2	j
Fluchtpunkt :n
Bild 5. Der Magische Würfel mit Hinterschneidung
100 IFC=1 THEN GOTO 115	<017>
101 POKE 53280,15:POKE 53281,15:PRINT CHR$
(147)CHR$(144)CHR$(9)CHR$(14)CHR$(8); <140> 102 PRINT"fiUNKTION : äAUPTPROGRAMM LADEN" <003> 103 PRINT"<BLUE>**************************
**************“;	<210>
104 PRINT"* <10SPACE,BLACK13£-äUPERGRAFIK{1
4SPACE,BLUE}*";	<171>
105 PRINT"*{38SPACE}*";	<236>	!
106 PRINT"*<10SPACE,BLACK>VON ßLIVER ßJLJENT
ER<10SPACE,BLUE>*";	<137>	|
107 PRINT"********************************
********"	<245>	|
108 POKE 55,255:P0KE	56,139	<039>	I
109 FOR Q=0 TO 62	<164>	I
110 READ W	<070>
111 POKE 53184+Q,W	<173>	•
112 NEXT	<122>	I
113 C=1	<038>	I
114 L0AD"3D-l",8,l	<061>	'
115 PRINT"<GREY 3,3D0WN>L0AD";CHR^(34);"3D
-2";CHR$(34)1",8,1	<120>
116 PRINT"<4D0WN>RUN"	<048>
117 PRINT"<8UP>";	<114>
118 FOR Q=0 TO 2:P0KE 631+Q,13:NEXT	<184>
119 POKE 198,3	<156>
120 DATA 0,0,0,0,0,0,0,16,0,0,16,0	<217>
121 DATA 0,16,0,0,16,0,0,16,0,0,16,0	<204>
122 DATA 0,0,0,0,0,0,31,131,240,0,0,0	<126>
123DATA 0,0,0,0,16,0,0,16,0,0,16,0	<118>
124 DATA 0,16,0,0,16,0,0,16,0,0,0,0	<182>	I
125 DATA 0,0,0	<247>	I
© 64^er
Listing 1. Das Ladeprogramm für 3D-Supergrafik
1 REM			<063>
2 REM	3D-SUPERGRAFIK		<106>
3 REM	BY OLIVER GUENTER		<142>
4 REM	GRAEVINGHOLZSTR. 44		<217>
5 REM	4600 DORTMUND 16		<038>
6 REM 7 REM	TEL: 0231/853317		<107> <069>
8 REM 9 REM	FUER C-64 MIT VC-1541		<232> <071>
100 REM	*******************************		<238>
101 REM	* INITIALISIERUNG	*	<074>
102 REM	*******************************		<240>
103 SYS	50212:SYS 50182:SYS 50191	,15,15	<110>
104 V=53248:POKE 50168,63			<158>
105 POKE V+21,0:POKE V+32,15:P0KE		V+33,15	<241>
106 DIM	DX(150),DY(150),DZ(150)		<080>
107 DIM	MX(150),MY(150),MZ(150)		<041>
108 DIM	BX(150),BY(150)		<078>
109 DIM	WX(120),WY(120),WZ(120)		<152>
110 DIM	FL(120,8)		<153>
111 DIM	PF(120),RF(120)		<237>
Listing 2	L »3D-Supergrafik«		
91
Grafik
112	REM *******************************	<250>
113	REM * HAUPTMENUE	*	<037>
114	REM *******************************	<252>
115	FU$="^UPTMENUE":GOSUB 124	<132>
116 117	PRINT TAB(ll);"<DOWN>-l- SÄTEN EINGEBE N" PRINT TAB(ll);"<D0WN>-2- 2ATEN LADEN”	<099> <049>
118 119 120	PRINT TAB(ll);"<D0WN>-3- ^TEN SPEICHE RN” PRINT TAB(11);”<D0WN>-4- £ILD BERECHNE N” PRINT TAB(ll);"<D0WN>-5- äARDCOPY"	<226> <034> <130>
121	GET IN$:IN=VAL(IN$)	<232>
122	□N IN GOTO 134,175,201,228,387	<146>
123	GOTO 121	<115>
124	REM *******************************	<006>
125	REM * TITEL + FUNKTION	*	<047>
126	REM *******************************	<008>
127	PRINT”<CLR,BLACK>EUNKTION : ";FU$	<180>
128 129 130	PRINT"<BLUE>************************** **************"• PRINT ? *{10SPACE,BLACK>3S-SUPERGRAFIK<1 4SPACE,BLUE>*"; PRINT”*{38SPACE}*”;	<235> <196> <005>
131 132 133	PRINT"*<10SPACE,BLACK>(&) ßLIVER ßUENT ER <10SPACE,BLUE >*“; PRINT”******************************** ******** <BLACK 3- ” RETURN	<044> <057> <191>
134	REM *******************************	<016>
135	REM * DATEN EINGEBEN	*	<152>
136	REM *******************************	<018>
137	FUT="SATEN EINGEBEN":GOSUB 124	<063>
138 139	INPUT"<DOWN>HIE VIELE fUNKTE<3SPACE>"j AP IF AP=0 THEN GOTO 112	<001> <061>
140	INPUT"<DOWN>EIE VIELE ELAECHEN ”;AF	<226>
141	IF AF=0 THEN GOTO 112	<158>
142	FOR Q=1 TO AP	<136>
143	FU$="fMNKTE EINGEBEN":GOSUB 124	<244>
144	PRINT”<DOWN}£UNKT s";Q	<119>
145	INPUT”<2D0WN>X-XD0RDINATE ";DX(Q)	<248>
146	INPUT” {DOWN>X-XDORDINATE ”; DY (Q)	<125>
147	INPUT"<DOWN>Z“ÄOORDINATE ";DZ(Q)	<174>
148	PRINT"<DOWN>RICHTIG ?”	<223>
149	POKE 198,0:WAIT 198,1	<121>
150 151	IFPEEK(631)=78 THEN PRINT"<10UP>":POK E 198,0:GOTO 143 NEXT	<126> <161>
152	POKE 198,0	<060>
153	FOR Q=1 TO AF	<137>
154	FU$="ELAECHEN EINGEBEN":GOSUB 124	<199>
155	PRINT”<DOWN>ELAECHE :”;Q;”<DOWN>"	<245>
156	R=0	<125>
157	FOR W=1 TO 8	<243>
158	IF R=1 THEN NEXT:GOTO 168	<030>
159	PRINT"5UNKT :";W;	<010>
160	T$=""	<009>
161	INPUT T$	<155>
162	T=VAL(T$)	<057>
163 164	IF T<0 OR T>AP OR INT(T)<>T THEN PRINT "<2UP>":G0T0 159 IF RIGHT$(T$,l)="L”THEN T=-T	<120> <030>
165	FL(Q,W)=T	<097>
166	IF T=0 THEN R=l:PF(Q)=W-l:NEXT	<018>
167	NEXT:PF(Q)=8	<111>
168	PRINT"{DOWN>RICHTIG ?"	<243>
169	POKE 198,0:WAIT 198,1	<141>
170 171	IF PEEK(631)=78 THEN PRINT"<H0ME,9D0WN >":POKE 198,0:GOTO 154 NEXT	<004> <181>
172	PRINT"<2D0WN,RVS0N>< £££££ XRVOFFJ"	<105>
173	GET IN$:IF IN$<>" "THEN 173	<111>
174	GOTO 112	<182>
175	REM *******************************	<057>
176	REM * DATEN LADEN	*	<022>
177	REM *******************************	<059>
178	FU$="2ATEN LADEN ($=SIR)":GOSUB 124	<184>
179	INPUT"<DOWN>CILENAME ”jFL$	<168>
180	IF FL$="0"THEN GOTO 112	<076>
181 182 183	IF FL$="$"THEN PRINT:SYS 50209SGOTO 17 9 OPEN 15,8,15:0PEN l,8,2,"3D-"+FL$+",S, R" GOSUB 423	<053> <079> <023>
184	IF ER=1 THEN CLOSE l:CLDSE 15:G0T0 179	<039>
185	GET#1,A^:AP=ASC(A$)	<224>
186	FOR Q=1 TO AP	<180>
187	INPUT#l,AT:DX(Q)=VAL(A$)	<030>
188	INPUT#l,A$:DY<Q)=VAL(A$)	/	<033>
189	INPUT#l,A$:DZ(Q)=VAL(A#)	<036>
190	NEXT	<200>
191	GET#1,A$ s AF=ASC(A$)	<190>
192	FOR O=1 TO AF	<176>
193	GET#l,A$:PF(Q)=ASC(A^)	<090>
194	FOR W=1 TO PF(Q)	<072>
195	GET#1,A^:FL(Q,W)=ASC(A*)-128	<011>
196	NEXT	<206>
197	NEXT	<207>
198	CLOSE 1	<209>
199	CLOSE 15	<037>
200	GOTO 112	<208>
201	REM *******************************	<083>
202	REM * DATEN SPEICHERN	*	<033>
203	REM *******************************	<085>
204	FU$="fiATEN SPEICHERN ($=SIR)":GOSUB 12 4	<165>
205	GOSUB 413:IF ER=lTHEN GOTO 112	<109>
206	INPUT"<DOWN>LILENAME ";FL$	<195>
207	IF FL$="@"THEN GOTO 112	<103>
208	IF FL$="$"THEN PRINT:SYS 50209:GOTO 20 6	<046>
209	OPEN 15,8,15:0PEN 1,8,2,"3D-"+FL*+",S, W"	<111>
210	GOSUB 423	<050>
211	IF ER=1 THEN CLOSE l:CLOSE 15:G0T0 206	<041>
212	PRINT#1,CHR$(AP)J	<177>
213	FOR Q=1 TO AP	<207>
214	PRINT#l,DX(Q)	<216>
215	PRINT#l,DY(Q)	<025>
216	PRINT#l,DZ(Q)	<090>
217	NEXT	<227>
218	PRINT#l,CHR$(AF);	<173>
219	FOR Q=1 TO AF	<203>
220	PRINT#l,CHR$(PF(Q));	<208>
221	FOR W=1 TO PF(Q)	<099>
222	PRINT#1,CHR$(FL(Q,W)+128);	<237>
223	NEXT	<233>
224	NEXT	<234>
225	CLOSE 1	<236>
226	CLOSE 15	<064>
227	GOTO 112	<235>
228	REM *******************************	<110>
229	REM « BILD BERECHNEN	*	<073>
230	REM *******************************	<112>
231	FU$="SILD BERECHNEN":GOSUB 124	<040>
232	GOSUB 413:IF ER=1 THEN GOTO 112	<136>
233	INPUT"{DOWN3&-3REHWINKEL ";XD	<243>
234	INPUT”<DDWN>X-SREHWINKEL ü;YD	<028>
235	INPUT"<DOWN>X-SREHWINKEL ";ZD	<069>
236	INPUT”<DOWN>0INTERSCHNEIDUNG (J/N) ";H I#	<218>
237	IF HI$="J"THEN HI=l:GOTO 240	<049>
238	IF HI$<>"N"THEN PRINT"<3UP>":G0T0 236	<229>
239	HI=0	<139>
240	INPUT"<DOWN>ELUCHTPUNKT (J/N) ”;F$	<082>
241	IF F$="J"THEN F=l:GOTO 245	<040>
242	IF F$O”N”THEN PRINT"<3UP>":G0T0 240	<153>
243	F=0	<164>
244	GOTO 247	<212>
245	INPUT” <DOWN>flUGPUNKT-jy3OR. <3SPACE>0,0, 25 <8LEFTJ";FX,FY,FZ	<127>
246	IF FZ<=0 THEN PRINT"<3UP>":G0T0 245	<121>
247	INPUT"<DOWN>BERTE AUSGEBEN (J/N)<3SPAC E>N<3LEFT>";WE^	<029>
248	IF WE^="J“THEN WE=lsGOTO 251	<184>
249	IF WE^<>"N"THEN PRINT"<3UP>":G0T0 247	<136>
250	WE=0	<178>
251	PRINT" <2DOWN>BREHE £jUNKTE"	<018>
252	FOR Q=1 TO AP	<246>
253	WX(Q)=DX(Q)	<027>
254	WY(Q)=DY(Q)	<038>
255	WZ(Q)=DZ(Q)	<049>
256	NEXT	<012>
257	IF XD=0 THEN GOTO 262	<194>
258	FOR Q=1 TO AP	<254>
259	WI=XD:XP=WY(Q):YP=WZ(Q):GOSUB 434	<111>
260	WY(Q)=XP:WZ(Q)=YP	<077>
261	NEXT	<017>
262	IF YD=0 THEN GOTO 267	<247>
263	FOR Q=1 TO AP	<003>
264	WI=YD:XP=WZ(Q):YP=WX(Q):GOSUB 434	<100>
265	WZ(Q)=XP:WX(Q)=YP	<058>
266	NEXT	<022>
267	IF YD=0 THEN GOTO 272	<216>
Listing 2. Hauptprogramm »3D-Supergrafik«.
Bitte mit dem Checksummer 64 eingeben.
M&T Forth64
EnthäH das vollständige Grundvokabutar des FIG*FORTH*Standards und Zusatzbefehle für
Jetzt neu!
Die moderne Programmiersprache Forth jetzt als vollständige Implementierung für den Commodore64 (auf Diskette).
Eine 1OOseitige Anleitung, wie man diese erweiterbare, strukturierte und schnelle Sprache bestens in den Griff bekommt.
Leistungsbeschreibung von M&T Forth 64:
•	vollständiges Grundvokabular des FIG-FORTH-Standards
•	Zusatzbefehle für Sound, Grafik und Peripheriebedienung
•	mit Forth-Assembler für die Programmierung in Maschinensprache
•	mit Editor zum Erfassen der Quelltexte auf Screens
•	mit Monitor, der Sie in die Geheimnisse von Forth einführt und
•	280 Befehlsworten
Minimale Hardwareanforderungen:
•	Commodore64
•	Diskettenlaufwerk 1541
DM 98,— *
Sfr. 90,20/öS 764,40
*	inkl. MwSt.
unverbindliche Preisempfehlung
Best.-Nr. MD 242 A ISBN 3-89090-120-4
M&T-Programme:
Ihre ganz persönlichen Problemlösungen
Ak Ergänzung empfehlen wir Ihnen unsere Bücher über Forth:
R M. Chirlion
Der Einstieg in Forth
November 1984, 337 Seiten
Editieren von Programmen • Fehlersuche und -korrektur • Diskettenoperationen • Zahlentypen • Grundlagen des strukturierten Programmierens • der FORTH-Standard • FORTH-79 und Erweiterungen • mit ausführ-lichemGlossar • FORTH — dieSprachefüral-le, die mehr aus ihrem Computer rausholen wollen!
Best.-Nr. MT 786 ISBN: 3-89090-085-2 (Sfr. 53,40/öS 452,40)
DM 58,-
Die angegebenen Preise sind Ladenpreise.
K. Knecht
Einführung in Forth
Februar 1984, 218 Seiten
Ausführliche Informationen über die MMS Forth-Version der Computersprache Forth • syntaktische Grundlagen • zahlreiche Programmierbeispiele • der richtige Einstieg in das Programmieren mit Forth.
Best.-Nr. MT 635 ISBN: 3-922120-73-3 (Sfr. 53,40/öS 452,40)
DM 58,-
Markt&Technik-Produkte erhalten Sie bei Ihrem Buchhändler.
Bestellkarten bitte an Ihren Buchhändler oder an eine unserer Depotbuchhandlungen. Adressenverzeichnis am Ende des Heftes! Beim Markt & Technik-Verlag eingehende Bestellungen werden von den Depot-Händlern ausgeliefert.
M<ukt&fechnik
Verlag Aktiengesellschaft Buchverlag
Hans-Pinsel-Straße 2, 8013 Haar bei München Schweiz: Markt&Technik-Vertriebs AG, Kollerstraße 3, CH-6300 Zug, ® 0 42/22 31 55 Österreich: Rudolf-Lechner & Sohn, Heizwerkstraße 10, A-1232 Wien, ® 02 22/67 75 26
Grafik
268 FOR Q=1 TO AP	<008>
269 WI=ZD:XP=WX(O):YP=WY(Q):GOSUB 434	<137>
270 WX(Q)=XP:WY(Q)=YP	<063>
271 NEXT	<027>
272 IF F=1 THEN GOTO 278	<240>
273 FOR Q=lTO AP	<013>
274 BX(Q)=WX(Q)	<241>
275 BY(Q)=WY(Q)	<252>
276 NEXT	<032>
277 GOTO 285	<247>
278 PRINT"<UP>SERECHNE lILDPUNKTE"	<071>
279 FOR Q=1 TO AP	<019>
280 Xl=FX:Yl=FY:Zl=FZ	<146>
281 X2=WX(Q):Y2=WY(Q):Z2=WZ(Q)	<084>
282 GOSUB 446	<252>
283 BX(Q)=XlsBY(Q)=Yl	< 149>
284 NEXT	<040>
285 IF HI=0 THEN GOTO 298	<234>
286 PRINT"<UP>^RECHNE fiITTELPUNKTE"	<157>
287 FOR Q=1 TO AF	<017>
288 ZX=0:ZY=0:ZZ=0	<010>
289 FOR W=1 TO PF(Q)	<169>
290 ZX=ZX+BX(ABS(FL(Q,W))>	<238>
291 ZY=ZY+BY(ABS(FL(Q,W)))	<057>
292 ZZ=ZZ+WZ(ABS(FL(Q,W)))	<153>
293 NEXT	<049>
294 MX(Q)=ZX/PF(Q)	<001>
295 MY(Q)=ZY/PF(Q)	<012>
296 MZ(Q)=ZZ/PF(Q)	<023>
297 NEXT	<053>
298 PRINT"<UP>^RECHNE ßCHSEINHEITEN"	<241>
299 PX=0:NX=0:PY=0:NY=0	<043>
300 FOR Q=1 TO AP	<040>
301 ZX=BX(Q)	<154>
302 ZY=BY(Q)	<227>
303 GOSUB 458	<098>
304 NEXT	<060>
305 AX=-(PX+NX)/2	<071>
306 AY=-(PY+NY)/2	<089>
307 BXMABS(PX)+ABS(NX))/3.2	<011>
308 BY=(ABS(PY)+ABS(NY))/2	<102>
309 AE=BX	<239>
310 IF BX<BY THEN AE=BY	<209>
311 AE=AE*100/98	<186>
312 FOR 0=1 TO AF	<042>
313 RF(Q)=Q	<086>
314 NEXT	<070>
315 IF HI=0 THEN GOTO 325	<214>
316 PRINT"<UP>^RECHNE fEIHENF0LGE<2SPACE>	
	<240>
317 FOR 0=1 TO AF-1	<074>
318 FOR W=Q+1 TO AF	<214>
319 IF MZ(RF(Q))<=MZ(RF(W))THEN GOTO 323	<047>
320 A=RF(Q)	<164>
321 RF(Q>=RF(W)	<215>
322 RF(W)=A	<015>
323 NEXT	<079>
324 NEXT	<080>
325 PRINT"<UP>ZEICHNE SILD<10SPACE>"	<009>
326 SYS 50185:SYS 50176	<142>
327 FOR Q=1 TO AF	<057>
328 SYS 50188	<192>
329 NF=RF(Q)	<115>
330 FOR W=1 TO PF(NF)	<065>
331 ZX=BX(ABS(FL(NF,W)))	<030>
332 ZY=BY(ABS(FL(NF,W)>)	<103>
333 GOSUB 466	<079>
334 E=W+l:IF E>PF(NF)THEN E=1	<222>
335 X=ZX:Y=ZY	<252>
336 ZX=BX(ABS(FL(NF,E)D	<017>
337 ZY=BY(ABS(FL(NF,E)))	<090>
338 GOSUB 466	<084>
339 R=SGN(FL(NF,E))	<059>
340 LO=0	<050>
341 IF R=1 THEN GOTO 344	<128>
342 IF HI=0 THEN GOTO 347	<009>
343 L0=3	<149>
344 SYS 50200+LO,X,Y,ZX,ZY	<097>
345 IF L0=3 THEN SYS 50194,X,Y	<083>
346 IF L0=3 THEN SYS 50194,ZX,ZY	<090>
347 NEXT	<103>
348 IF HI=0 THEN GOTO 353	<243>
349 ZX=MX(NF)	<006>
350 ZY=MY(NF)	<079>
351 GOSUB 466	<097>
352 SYS 50206,ZX,ZY	<103>
353 NEXT	<109>
354 PRINT"<UP,RVSON>< SPßC£ ><RV0FF,3SPACE	
>”	<123>
94
355 GET IN$:IF INSO“ “THEN GOTO 355	<040>
356 SYS 50182	<217>	/
357 INPUT"<UP>SILD AENDERN (J/N) “;AE$	<038>	'
358 IF AE$="N"THEN GOTO 376	<087>	C
359 IF AE$<>"J"THEN GOTO 357	<158>
360 X=160:Y=100:LO=3:SYS 50176:POKE V+21,1 <218>	v
361 GET IN$:IF IN$="S"THEN LO=0	<028>
362 IF IN$="L"THEN L0=3	<175>
363 IF IN$="E"THEN POKE V+l,0sGOTO 373	<069>	F
364 J0=PEEK(249)	<001>
365 IF(JO AND l)=0 AND Y>0 THEN Y=Y-1	<246>
366 IF(JO AND 2)=0 AND Y<199 THEN Y=Y+1	<230>
367 IF(JO AND4)=0 AND X>0 THEN X=X-1	<101>
368 IF(JO AND 8)=0 AND X<319 THEN X=X+1	<067>
369 IF(JO AND 16)=0 THEN SYS 50194+LO,X,Y <001>
370 POKE V,((X+13)AND 255):P0KE V+l,Y+40	<207>	1
371 POKE V+16,((X+13)AND 256)/256	<005>
372 GOTO 361	<190>
373PRINT”<UP,RVS0N>< ä£fi££XRV0FF,13SPAC	I
E>"	<142>
374 SYS 50182	<235>
375 GET IN$&IF IN$<>" hTHEN GOTO 375	<068>
376 IF WE=0 THEN GOTO 112	<043>
377 FOR Q=1 TO AP	<117>	(
378 FU$="MERTE AUSGEBEN":GOSUB 124	<049>
379 PRINT”<DOWN>£UNKT s";Q	<100>	1
'380 PRINT'X2D0WN>X^KD0RDINATE :";BX(Q)	<107>
381 PRINT"<DOWN>X-JCDORDINATE :";BY(Q)	<229>
382 IF F=0 THEN PRINT"CDOWN>Z,-^DORDINATE :
";WZ(Q)	<241>	।
383 PRINT"<2D0WN,RVS0N>< ä£B££€SHIFT-SPACE	|
>><RVOFF>"	<208>
384 GET IN$:IF IN$<>" "THEN GOTO 384	<073>
385 NEXT	<141>	I
386 GOTO 112	<140>	<
387 REM *******************************	<015>
388 REM * HARDCOPY EPSON RX-80	*	<011>
389 REM *******************************	<017>	|
390 FU$="0ARDCOPY":GOSUB 124	<049>
391 INPUT"<DOWN>XST DERäRUCKER WIRKLICH A
N ";D$	<068>	1
392 IF D#="J"THEN GOTO 395	<136>	1
393 IF D$<>"N"THEN PRINT"<3UP>":G0T0 391	<154>	|
394 GOTO 112	<148>
395 OPEN 4,4,2:REM ++ GROSS/KLEIN++	<192>
396 PRINT#4	<145>	<
397 PRINT#4,"HAME<13SPACE>s "jFL#	<091>	|
398 PRINT#4,"X-3REHWINKEL<5SPACE>:";XD	<159>	(
399 PRINT#4,"X-3REHWINKEL<5SPACE>:";YD	<000>
400 PRINT#4,"Z-3REHWINKEL<5SPACE>:";ZD	<097>	1
401 PRINT#4,"MINTERSCHNEIDUNG s ";HI$	<243>	I
402 PRINT#4,"fLUCHTPUNKT<6SPACE>: *|F$	<010>	|
403 IF F=1 THENPRINT#4,"flUGPUNKT<9SPACE>:
";FX;",";FY;",";FZ	<028>
404 PRINT#4	<153>	I
405 PRINT#4	<154>	i
406 CLOSE 4	<187>	(
407 OPEN 4,4,l:REM ++ EPSON MODE ++	<164>
408 SYS50215,4	<128>
409 PRINT#4,CHR$(10)	<124>
410 PRINT#4,CHR#(10)	<125>	!
411 CLOSE 4	<192>
412 GOTO 112	<166>	<
413 REM *******************************	<041>
414 REM * AUF DATEN TESTEN	*	<132>	1
415 REM *******************************	<043>	#
416 ER=0	<122>	,	i
417 IF AP>0 THEN RETURN	<131>
418 PRINT"<DOWN,RVSON>^INE ^TEN VORHANDE	1
N !<RVOFF>"	<050>	I
419 PRINT"<2D0WN,RVS0N>< ÄPm> XRVOFF>" <098>	j
420 GET IN$sIF IN^<>" "THEN GOTO 420	<055>
421 ER=1	<159>
422 RETURN	<226>
423 REM *******************************	<051>	,
424 REM * FEHLERKANAL ABFRAGEN	*	<065>
425 REM *******************************	<053>
426 ER=0	<132>
427 INPUT#15,FE,FE^,T,S	<065>
428 IF FE=0 THEN RETURN	<037>
429 PRINT"<DOWN,RVSON>fiISKFEHLER :<RVOFF,S
PACE>";FE#	<214>
430 PRINT"<D0WN,RVS0N>XRACK<6SPACE>s <RVOFF
>";T	<002>
431 PRINT"<DOWN,RVSON>SEKTOR<5SPACE>s<RVOF
F>";S	<064>
Listing 2. Hauptprogramm »3D-Supergrafik« (Fortsetzung)
Grafik
432 ER=1 433 RETURN	<170> <237>	453 IF Y2=Y1 THEN GOTO 457 454 N=(Z2-Z1)/(Y2-Y1)	<204> <254>
434 REM *******************************	<062>	455 C=Z1+N*Y1	<041>
435 REM * REC->POL + WI POL->REC	*	<072>	456 Yl=-C/N	<076>
436 REM *******************************	<064>	457 RETURN	<005>
437 LA=SQR(XPt2+YPt2)	<000>	458 REM *******************************	<086>
438 IF XP=0 THEN WK=±/2*SGN(YP):G0T0 442	<206>	459 REM * AE BERECHNEN	*	<169>
439 WK=ATN(YP/XP)	<169>	460 REM *******************************	<088>
440 IF SGN(XP)=-1 THEN WK=WK+t*SGN(YP)	<252>	461 IF PX<ZX THEN PX=ZX	<041>
441 IF SGN(XP)=-lAND SGN(YP)=0 THEN WK=£	<239>	462 IF NX>ZX THEN NX=ZX	<214>
442 WK=WK+(WI*^180)	<173>	463 IF PY<ZY THEN PY=ZY	<223>
443 XP=COS(WK)*LA	<028>	464 IF NY>ZY THEN NY=ZY	<140>
444 YP=SIN(WK)*LA	<065>	465 RETURN	<013>
445 RETURN	<249>	466 REM *******************************	<094>
446 REM *******************************	<074>	467 REM * BILDKOOR. BERECHNEN	*	<071>
447 REM * SCHNITTPT. GERADE/EBENE *	<194>	468 REM *******************************	<096>
448 REM *******************************	<076>	469 ZX=160+((ZX+AX)*100/AE)	<084>
449 IF X2=X1 THEN 60T0 453	<064>	470 ZY=100-((ZY+AY)*100/AE)	<109>
450 M=(Z2-Z1)/(X2-X1) 451 B=Z1-M*X1	<213> <222>	471 RETURN	<019>
452 Xl=-B/M	<003>	© 64'er	Listing 2. >>3D-Supergrafik<<	(Schluß)
programm : 3d-l
c400 caae
c400 8 4c 2a c4 4c 33 c4 4c 3c lf c408 : c4 4c 4c c4 4c 5b c4 4c e9 c410 a 6a c4 4c 9c c4 4c b9 c4 a2 c418 8 4c 8d c5 4c 94 c5 4c 47 5d c420 s c7 4c 4d c9 4c b8 c9 4c e4 c428 : 15 ca a9 3b a2 08 a0 00 61 c430 s 4c 42 c4 a9 3b a2 38 a0 ef c438 s 01 4c42 c4 a9 lb a2 17 b5 c440 s a0 03 8d 11 d0 8e 18 d0 6b c448 8 8c 00 dd 60 a0 00 84 fa 6a c450 s a9 e0 85 fb a9 00 a2 20 af c458 s 4c 8f c4a0 00 84 faa9 14 c460 s a0 85 fb a9 00 a2 20 4c 25 c468 s 8f c4 a0 00 84 fa a9 c0 ca c470 s 85 fb 20 fd ae 20 9e b7 90 c478 s 8a a2 04 20 8f c4 a0 00 fa c480 s 84 fa a9 8c 85 fb 20 fd 32 c488 s ae 20 9e b7 8a a2 04 a0 f4 c490 s 00 91 fa c8 d0 fb e6 fb bl c498 : ca d0 f4 60 20 d6 c4 20 20 c4a0 s ff c4 a9 00 85 fe a9 e0 24 c4a8 s 85 ff 20 5d c5 a9 00 85 95 c4b0 s fe a9 a0 85 ff 20 5d c5 5e c4b8 s 60 20 d6 c4 20 ff c4 a9 df c4c0 s 00 85 fe a9 e0 85 ff 20 f2 c4c8 s 62 c5 a9 00 85 fe a9 a0 af c4d0 8 85 ff 20 62 c5 60 20 fd 85 c4d8 s ae 20 eb b7 86 02 45 14 bf c4e0 s 85 fa a5 15 85 fb e0 c8 3c c4e8 s 90 06 20 3c c4 4c 48 b2 40 c4f0 8 a5 fb c9 01 90 08 d0 f2 98 c4f8 s a5 fa c9 40 b0 ec 60 a5 d4 c500 s 0229 f8 85 fe 85 fc a9 e9 c508 8 00 85 fd 06 fc 26 fd 06 10 c510 8 fc 26 fd 18 a5 fc 65 fe 78 c518 s 85 fc a5 fd 69 00 85 fd ed c520 s 06 fc 26 fd 06 fc26 fd ca c528 8 06 fc 26 fd a5 02 29 07 13 c530 s 18 65 fc 85 fc a5 fd 69 b2 c538 s 00 85 fd 18 a5 fa 29 f8 46 c540 s 65 fc 85 fc a5 fb 65 fd f0 c548 s 85 fd 18 a5 fa 29 07 49 2e c550 s 07 aa a9 01 ca 30 03 0a 85 c558 8 d0 fa 85 02 60 38 08 4c c7 c560 s 64 c5 18 08 18 a5 fe 65 23 c568 s fc 85 fa aS ff 65 fd 85 c8 c570 s fb a5 02 a0 00 a2 34 28 09 c578 s78 86 0190 04 11 fa b0 9c c580 s 04 49 ff 31 fa 91 fa a2 bc c588 s 37 86 01 58 60 a9 ff 85 ac c590 s 97 4c 98 c5 a9 00 85 97 0c c598 s 20 d6 c4 a5 02 8d ae ca e6 c5a0 s a5 fa 8d b7 ca a5 fb 8d 01 c5a8 s b8 ca 20 d6 c4 a5 02 8d 45 c5b0 : af ca a5 fa 8d b0 ca ad 72 c5b8 s b7 ca 85 14 a5 fb 8d bl 8c c5c0 8 ca ad b8 ca 85 15a0 01 6e c5c8 : 8c bc ca 8c b9 ca 8c b7 8a c5d0 s ca 88 8c b8 ca 8c bb ca ae c5d8 s 8c ba ca 88 ad bl ca c5 a4 c5e0 8 15 90 09 d0 le ad b0 ca 41 c5e8 : c5 14 b0 17 38 a5 14 ed a3 C5f0 s b0 ca 8d b5 ca a5 15 ed 29 c5f8 s bl ca 8d b6 ca 8c bc ca e2 c600 s 4c 14 c6 38 ad b0 ca e5 66 c608 s 14 8d b5 ca ad bl ca eS 09 c610 8 15 8d b6 ca ad af ca cd 12 c618 s ae ca b0 10 38 ad ae ca 9b c620 8 ed af ca 8d b4 ca 8c b9 90 c628 s ca 4c 32 c6 ed ae ca 8d 18 c630 s b4 ca ad b6 ca d0 24 ad ab c638 s bS ca cd b4 ca b0 lc ae 5c
c640 s b4 ca 8d b4 ca 8e b5 ca el c648 : ad bc ca 8d ba ca ad b9 e4 c650 s ca 8d bb ca c8 8c bc ca a2 c658 s 8c b9 ca ad b6 ca 4a 8d 2f c660 s b3 ca ad bS ca 6a 8d b2 36 c668 s ca 4c ff c6 ad bc ca 30 7d c670 s 0e 18 65 14 85 14 aS 15 20 c678 s 69 00 85 15 4c 8c c6 38 9a c680 s aS 14 e9 01 85 14 a5 15 84 c688 s e9 00 85 15 18 ad ae ca bS c690 s 6d bb ca 8d ae ca 18 ad 3c c698 s b2 ca 6d b4 ca 8d b2 ca lb c6a0 s ad b3 ca 69 00 8d b3 ca d7 c6a8 s ee b7 ca d0 03 ee b8 ca Sf c6b0 s ad b3 ca cd b6 ca 90 47 36 c6b8 ; d0 08 ad bS ca cd b2 ca 2a c6c0 s b0 3d 38 ad b2 ca ed b5 77 c6c8 s ca 8d b2 ca ad b3 ca ed de c6d0 s b6 ca 8d b3 ca ad ba ca 60 c6d8 s 30 0e 18 65 14 85 14 a5 cb c6e0 8 15 69 00 85 15 4c fS c6 74 c6e8 s 38 a5 14 e9 01 85 14 aS 0d c6f0 s 15 e9 00 85 15 18 ad ae dl c6f8 s ca 6d b9 ca 8d ae ca ad 15 c700 s ae ca 85 02 a5 14 85 fa bc c708 s a5 15 8S fb 20 23 c7 ad ae c710 s b8 ca cd b6 ca 90 09 ad 28 c718 s bS ca cd b7 ca b0 01 60 94 c720 s 4c 6c c6 20 ff c4 a9 00 25 c728 8 85 fe a9 a0 85 ff 20 5d 3e c730 s c5 a9 00 85 fe a9 e0 85 46 c738 s ff a5 97 f0 04 20 5d c5 50 c740 8 60 20 62 c5 60 aS fa 20 61 c748 s d6 c4 aS fa 8d bd ca a5 86 c750 s fb 8d be ca a5 02 8d bf 3b c758 s ca a9 00 8d c6 ca 8d c7 31 c760 s ca 8d c8 ca a0 01 8c c3 48 c768 s ca 8d c4 ca 8c cS ca 20 e6 c770 s 08 c8 ad bd ca 85 fa ad lf c778 s be ca 85 fb ad bf ca 85 8b c780 s 02 20 00 c9 a5 02 f0 01 fc c788 s 60 ad bd ca 85 fa ad be ec c790 s ca 85 fb 18 ad bf ca 6d fe c798 8 c5 ca 85 02 20 00 c9 aS d8 c7a0 s 02 f0 05 a9 01 8d c8 ca c6 c7a8 s ad c3 ca 49 fe 8d c3 ca 14 c7b0 : ad c4 ca 49 ff 8d c4 ca b0 c7b8 s 20 3c c8 ad c3 ca 49 fe 94 c7c0 s 8d c3 ca ad c4 ca 49 ff 5f c7c8 s 8d c4 ca 20 3c c8 18 ad 34 c7d0 s bf ca 6d cS ca 8d bf ca b6 c7d8 s ad c8 ca d0 03 4c f5 c7 b0 c7e0 s ad c5 ca c9 01 f0 01 60 b8 c7e8 s a9 ff 8d cS ca a9 00 8d c2 c7f0 s c8 ca 20 22 c8 ad c7 ca 18 c7f8 8 d0 03 4c 89 c7 a9 00 8d 73 c800 8 c7 ca 20 22 c8 4c 89 c7 ld c808 s ae c6 ca ad bd ca 9d c9 be c810 s ca ad be ca 9d d3 ca ad b9 c818 s bf ca 9d dd ca e8 8e c6 lb c820 s ca 60 ae c6 ca ca bd c9 2c c828 s ca 8d bd ca bd d3 ca 8d 42 c830 s be ca bd dd ca 8d bf ca 2c c838 s 8e c6 ca 60 ad bd ca 8d f7 c840 s c0 ca ad be ca 8d cl ca Se c848 s ad bf ca 8d c2 ca ad bd ee c8S0 s ca 85 fa ad be ca 85 fb al c8S8 s ad bf ca 85 02 20 e6 c8 96 c860 8 18 ad bd ca 6d c3 ca 85 43 c868 s fa ad be ca 6d c4 ca 85 75 c870 8 fb ad bf ca 85 02 20 00 74 c87B s c9 aS 02 f0 13 ad c0 ca ea c880 s 8d bd ca ad cl ca 8d be 7a c888 s ca ad c2 ca 8d bf ca 60 fS
c890 s 18 ad bd ca.6d c3 ca 8d 83 c898 s	bd ca	85	fa	ad	be	ca	6d	52
c8a0 8	c4 ca	8d	be	ca	85	fb	ad	29
c8a8 s	c8 ca	d0	03	4c	4e	c8	18	f4
c8b0 s	ad bf	ca	6d	c5	ca	85	02	6a
c8b8 s	20 00	c9	a5	02	f0	03	4c	4c
c8c0 s	4e c8	18	ad	bf	ca	6d	c5	c2
c8c8 s	ca 8d	bf	ca	20	08	c8	38	78
c8d0 s	ad bf	ca	ed	c5	ca	8d	bf	35
c8d8 s	ca a9	00	8d	c8	ca	a9	01	b4
c8e0 s	8d c7	ca	4c	4e	c8	20	ff	39
c8e8 s	c4 a9	00	85	fe	a9	e0	85	fd
c8f0 s	ff 20	62	c5	a9	00	85	fe	ff
c8f8 8	a9 a0	85	ff	20	Sd	cS	60	17
c900 s	20 12	c9	20	ff	c4	a9	00	6c
c908 s	85 fe	a9	a0	85	ff	20	2d	be
c910 s	c9 60	a6	02	e0	c8	90	06	96
c918 s	20 3c	c4	4c	48	b2	a5	fb	ba
c920 s	c9 01	90	08	d0	f2	a5	fa	c0
c928 s	c9 40	b0	ec	60	18	a5	fe	36
c930 s	65 fc	85	fa	a5	ff	65	fd	c0
c938 s	85 fb	a5	02	a0	00	a2	34	61
c940 s	78 86	01	31	fa	85	02	a2	8b
c948 s	37 86	01	58	60	a9	b0	85	2f
c950 s	bb a9	c9	85	bc	a9	08	85	47
c9S8 s	b7 85	ba	a9	60	85	b9	20	0f
c960 8	d5 f3	a5	ba	20	b4	ff	a5	e2
c968 s	b9 20	96	ff	a9	00	85	90	a9
c970 8	a0 03	84	fb	20	a5	ff	85	6d
c978 s	fc a4	90	d0	2f	20	aS	ff	8f
c980 3	a4 90	d0	28	a4	fb	88	d0	93
c988 s	e9 a6	fc	20	cd	bd	a9	20	b9
c990 s	20 d2	ff	20	aS	ff	a6	90	33
c998 s	d0 12	aa	f0	06	20	d2	ff	e7
c9a0 s	4c 93	c9	a9	0d	20	d2	ff	7a
c9a8 s	a0 02	d0	c6	20	42	f6	60	07
c9b0 s	24 3a	33	44	2d	2a	3d	53	06
c9b8 8	78 a9	c5	8d	14	03	a9	c9	bb
c9c0 s	8d 15	03	58	60	a9	00	8d	12
c9c8 s	02 dc	8d	27	d0	ad	00	dc	b5
c9d0 s	85 f9	a9	ff	8d	02	dc	a5	64
c9d8 s	cS c9	03	d0	0b	20	3c	c4	89
c9e0 s	a9 00	8d	15	d0	4c	31	ea	99
c9e8 s	c9 04	d0	0b	20	2a	c4	a9	03
c9f0 s 01 8d 15 d0 4c'31 ea c9 a5 c9f8 s	05 d0	0b	20	33	c4	a9	00	2c
ca00 s	8d 15	d0	4c	31	ea	c9	06	73
ca08 s	d0 08	20	3c	c4	a9	00	8d	21
cal0 s	15 d0	4c	31	ea	20	fd	ae	cc
cal8 s	20 9e	b7	20	50	f2	a9	00	bc
ca20 s	a0 e0	85	fd	84	fe	a2	19	4e
ca28 s	a0 0d	2c	a0	05	b9	98	ca	84
ca30 s 20 d2 ff 88 10T7a9 28 82 ca38 s	85	15	a9	80	85	97	a9	00	7e
ca40 s	85	14	a0	07	a9	34	78	85	01
ca48 s 01 bl fd 85 02 a9*37 85 a7 ca50 8	01	58	a5	02	25	97	f0	07	08
ca58 s	a5	14	19	a6	ca	85	14	88	5d
ca60 s	10	e2	a5	14	20	d2	ff	46	f2
ca68 :	97	90	d3	a5	fd	69	07	85	43
ca70 s	fd	90	02	e6	fe	c6	15	d0	2f
ca78 s	cl	a9	0d	20	d2	ff	a9	0a	3d
ca80 s	20	d2	ff	ca	d0	a5	a9	lb	7a
ca88 s	20	d2	ff	a9	32	20	d2	ff	b6
ca90 s	a9	0d	20	d2	ff	4c	cc	ff	b8
ca98 8	01	40	04	2a	lb	09	0d	14	56
caa0 s	00	65	lb	17	33	lb	80	40	8b
caa8 s	20	10	08	04	02	01	5e	5e	bl
Listing 3. Die Maschinenroutine zu >>3D-Supergrafik<<.
Dieses Listing müssen Sie mit dem MSE eingeben.
Grafik
Räumliche Grafik auf dem C 64
Gerade auf dem Gebiet von Film- und Fernsehproduktionen werden Computergrafiken immer öfter eingesetzt, da es hiermit möglich ist, Dinge zu zeigen, die mit herkömmlichen Methoden nicht gefilmt werden konnten.
Ob nun Raumschiffe gezeigt werden, die eigentlich unmögliche Bewegungen durchführen oder der »Anflug« eines Logos (wie zum Beispiel die »1«beiderARD), die Realisierung vereinfacht sich durch den Einsatz von Grafik-Computern enorm. Diese müssen jedoch — bedingt durch die anfallenden Datenmengen — enorm schnell sein, so daß zur Zeit nur »Supercomputer« Echtzeitsimulation erlauben.
Wenh man sich allerdings etwas mehr Zeit läßt, dann reicht auch ein Homecomputer wie der C 64 aus, um solche Grafiken (mit bestimmten Einschränkungen) zu erzeugen.
Das hier vorgestellte Grafikpaket geht über das übliche Punkte setzen und Linien ziehen weit hinaus. Es erlaubt die Erzeugung von plastischen Bildern ohne größerenAufwand, wie zum Beispiel in Bild 1 und 2 dargestellt.
Das eigentliche Grafikpaket nimmt nur 3 KByte (I) des Speichers in Anspruch und steht im Bereich ab $C000. Damit
bleibt der Basic-Speicher für die eigentlichen Programme frei. Auch das DOS 5.1 von Commodore kann parallel zu den Grafikroutinen verwendet werden. Aufgrund der Kompaktheit diesesGrafikpakets mußten allerdings bestimmte Dinge, wie zum Beispiel die Abfrage auf legale Koordinaten, in den Hintergrund treten; die Software fängt also solche Fehler nicht ab. Das macht das Schreiben eines eigenen Programms zwar etwas komplizierter, hat man aber erst einmal alle Fehler beseitigt, so würde eine Fehlerabfrage den Ablauf nur verlangsamen.
Beginnen wir mit den Grundlagen zur Erzeugung der Grafik. Da stellt sich zunächt einmal die Frage, wie man die verschiedenen Helligkeitswerte und Schattierungen eines darzustellenden Objektes berechnet. Danach müssen diese verschiedenen Grauwerte in einzelne Punkte umgesetzt werden, denn auf dem HiRes-Bildschirm können diese ja nur gesetzt und gelöscht werden. Dazu muß die gesamte Software selbst geschrieben werden, da der C 64 diese Art der Grafik vom Betriebssystem her nicht unterstützt.
Schnelle Rechenroutinen
Das Maschinenprogramm, das für den Aufbau der Grafik zuständig ist, besteht aus mehreren Unterprogrammen. Beginnen wollen wir mit einem Unterprogrammpaket, das für schnelles Rechnen notwendig ist.
lntegerArithmetik(Listing1)
Diese Unterroutinen stellen schnelle Algorithmen für Multiplikation, Division, Wurzelziehen und Zufallszahlen zur Verfügung. Diese sind zwar schon im normalen Basic-Interpreter vorhanden, für unsere Anwendung sind sie jedoch aus Geschwindigkeitsgründen ungeeignet. Die Basic-Routinen sind nämlich nicht auf Geschwindigkeit, sondern auf Kürze optimiert worden, wie zum Beispiel die Funktion SQR. Die
Grafik
Wurzelberechnung in Basic teilt den Logarithmus durch 2 und potenziert das Ergebnis anschließend wieder. Das hat den Vorteil, daß der Interpreter auf bereits vorhandene Unterprogramme zugreifen kann, aber den Nachteil, daß diese Berechnungsweise relativ langsam ist. Wenn man für alle 64000 Bildschirmpunkte die Quadratwurzel mit den vorhandenen Routinen berechnen würde, ergäbe sich eine Zeichen-zeitvon mehralseinerStunde (und diestrotz Maschfnenspra-cheprogramm)! Man benötigt diese Berechnung zwar nicht fürjeden Punkt, aber gerade bei der Berechnung der Schattierungswerte spielt die Quadratwurzel eine große Rolle. Eine Möglichkeit, die Wurzelberechnung zu beschleunigen bietet die Newton-Methode, mit der man Fließkommawurzeln in
Ein weiteres zu lösendes Problem ist das etwas merkwürdige rechteckige Bildschirmformat des C 64. Die Auflösung von 320 x 200 Punkten entspricht einem Teilungsverhältnis von 8:5, wodurch es bei einem normalen Bildschirm — mit einem Verhältnis von 4:3 — zu einer horizontalen Verzerrung kommen kann (eine Kugel würde dann etwa wie ein plattgedrückter Ball aussehen). Die Unterroutine »SCALE« (in Listing 2) sorgt für diese darstellungs- und maßstabsgerechte Aufbereitung der Koordinaten.
Linien und Facettenzeichnen
Die Routinen in Listing 3 komplettieren die elementaren Grafik-Funktionen für das Ziehen von Linien und das Zeich-
Bild 1. Eindrucksvolle räumliche Wirkung durch Kombination verschiedener Shapes
Bild 2. Verblüffende Effekte lassen sich erzielen. Beachten Sie den Lichteinfall.
einem Bruchteil der sonst benötigten Zeit berechnen kann. Da wir, um die einzelnen Grafikpunkte zu adressieren, nur ganze Zahlen benötigen, beschleunigt sich die Abarbeitungszeit nochmals. Auch die Routine für die Erzeugung von Zufallszahlen, die später bei der »Random«-Schattierung erforderlich ist, wurde neu geschrieben.
Grafik Utilities (Listing 2)
Die nächste Unterprogrammsammlung beinhaltet Basisroutinen für die Verwaltung der Bitmap wie zum Beispiel löschen, Farbe setzen und Punkte plotten. Diese Unterroutinen sind als einzige Commodore 64-spezifisch, so daß man — möchte man das Programm auf andere 6502-Computer übertragen — nur diese an das jeweilige Gerät anpassen muß.
Ferner wurden noch zwei Schattierungsroutinen »SHADE« und »RSHADE« implementiert. »SHADE« arbeitet im Prinzip ganz einfach: Man definiert eine 8 x 8 Graustufenmatrix, in derWertevonObis63enthalten sind (Tabelle 1). MitHilfedie-ser Daten wird nun ein — ebenfalls 8 x 8 Pixel großes — Feld erstellt, daß dann an einer bestimmten Stelle in den HiRes-Bildschirm kopiert wird. Um eine gleichmäßige Grauschattierung zu erreichen, müssen die Pixels auch möglichst einen gleichmäßigen Abstand voneinander haben. Wenn das Programm nun einen Grauwert in die Grafik setzen will, so übergibt es einfach einen Wert zwischen 0 und 63 an diese Unterroutine. Nun werden innerhalb dieser Matrix die einzelnen Punkte der Reihe nach gesetzt, also zuerst der Punkt mit der Nummer 0 (oben links), dann 1 (4. von links und 4. von oben) und so weiter. Also, je größer die Zahl ist, desto mehr Punkte werden gesetzt (und um so dunkler wird das Ganze). Durch diese festgelegte Reihenfolge wird sichergestellt, daß die Schattierung gleichmäßig ist. Die RSHADE-Unterroutine hat genau die gleiche Aufgabe, sorgt aber für etwas ungleichmäßigere — durch den Zufallsgenerator gesteuerte — Grauwerte.
nen von schattierten Polygonnetzen. Ein solches räumliches Polygonnetz ist in Bild 3 zu sehen; es besteht nur aus aneinander gesetzten und entsprechend schattierten Dreiecken. Diese Figuren können einfacher und schneller gezeichnet werden, da die Schattierung auf ebenen Flächen einfacher darzustellen ist als auf gekrümmten. Neben der üblichen Dar-stellungsweise (in der geschlossenen, schattierten Form) ist auch die Zeichnung von Grafiken ohne verdeckte Linien möglich.
Mit diesen Routinen gerüstet, können wir uns nun auf das eigentliche Shape-Unterprogramm konzentrieren, mit dem
Bild 3. Ein weiteres Beispiel für die 3D-Wirkung
97
Grafik
es möglich ist, gekrümmte, schattierte Figuren in kurzer Zeit zu erstellen.
Hier geht es wiederum als erstes um die Berechnung der verschiedenen Oberflächenreflexe, Brechungen, Streuungen und Absorptionen des Lichtes auf einer Oberfläche. Um diese, teilweise sehr komplizierten Berechnungenn, zu vereinfachen, geht man einen anderen Weg: Man beschränkt sich auf einige einfache symmetrische Figuren (Bild 4), aus denen alle zu zeichnenden Objekte zusammengesetzt werden. Weiterhin werden die Figuren nur in der Frontsicht, also von vorn, dargestellt; Drehungen sind nicht möglich. Durch diese Einschränkungen braucht man bei der Programmierung nicht auf komplizierte Vektorberechnungen zurückzugreifen.
Bild 4. Die zur Verfügung stehenden Shapes, aus denen alle Figuren zusammengesetzt werden
Für die Berechnung des Lichteinfalls stelle man sich einfach eine Lampe vor, die an der rechten Schulter des Beobachters angebracht ist und das Objekt von dieser Position anleuchtet. Dementsprechend errechnet das Programm die Helligkeitswerte für jeden Punkt des Objektes. Ein Flag (Adresse 898) dient dazu, den Standort der »Lampe« (0= Frontbeleuchtung, 1 = Beleuchtung von hinten) festzulegen.
Zeichenroutinen für Shapes
Listing 4 beinhaltet eine Sammlung von Routinen, die die acht Grundshapes (siehe Bild 4) zeichnen. Da dieses Unterprogramm auf die — an den C 64 angepaßten — Lower-Level-Routinen der Grafik-Utilities (Listing 2) zugreift, ist es selbst nicht vom jeweiligen Computer abhängig. Zusammen mit dem, in Listing 5 abgebildeten Programm, wird der Kontakt zum Basic hergestellt. Die Übergabe der Parameter geschieht mittels »SYS«-Befehl:
SYS <KOMMANDO>, <PARAM. 1,>, <PARAM. 2>, ..., wobei <KOMMANDO> dieAdressedesjeweiligen Grafikbefehls ist (Tabelle 2 zeigt die komplette Befehlsübersicht dieses Grafikprogramms). Über <PARAMETER 1> und <PARAMETER 2> müssen die Koordinaten des Shapes angegeben werden, wobei zu beachten ist, daß der Ursprung (dort wo die X- und Y-Koordinate null ist) in der linken unteren
								
	0	8	53	61	2	10	55	63
	16	24	37	45	18	26	39	47
	49	57	4	12	51	59	6	14
	33	41	20	28	35	43	22	30
	3	11	54	62	1	9	52	60
	19	27	38	46	17	25	36	44
	50	58	7	15	48	56	5	13
	34	42	23	31	32	40	21	29
Tabelle 1. Matrix der Grauwerte
Bildschirmecke liegt. Die einzusetzenden Werte gehen in der Horizontalen von 0 bis 255, in der Vertikalen von 0 bis 239.
Alle Shapes, mit Ausnahme der Kugel, können durch die Eingabe von insgesamt vier Parametern in ihrer Position und Form beeinflußt werden. Die ersten zwei bestimmen, wie oben erläutert, die Koordinaten des Figurmittelpunktes. Mit dem dritten und vierten Paramter kann man die Verzerrung in X- und Y-Richtung einstellen. Doch hier istVorsicht geboten, denn der X-Wert sollte hierbei immer größer als der Y-Wert sein, sonst zeichnet das Programm unerwünschte Figuren.
Eine weitere Besonderheit sind die Shape-Fenster. Damit ist es möglich, auch einzelne Teile eines Shapes auf dem Bildschirm zu bringen. Diese Funktion wurde zum Beispiel bei der Erstellung der Grafik in Bild 1 verwendet. Der Henkel die-
Bild 5. Aus einfachen Figuren lassen sich verblüffend »lebendige« Bilder zusammensetzen
Grafikspeicher: 40960-48959
Farbspeicher: 33792-34791
Shape-Fenster
893:	Linker Rand
894:	Rechter Rand
895:	Unterer Rand
896:	Oberer Rand
Style Flags
838:	Schattierungsart (0 = zufällig, 1 = Halbton)
839:	Skalierungsflag (0 = normal 1:1, 1 = skaliert 4:3)
868:	Eck Flag bei Polygonen (0 = Normal, 1 = zeichnet Linien
an den Ecken)
871:	Eckenmodus (0 = zeichnet Linie, 1 = löscht Rand)
898:	Beleuchtungsflag (0 = von vorne, 1 = von hinten)
Funktionsadressen
49378: Auf den Grafikmodus umschalten
49411: Zurück zum Textbildschirm
51979: Bitmap löschen
52001: Bitmapfärben
52023: PLOT (Parameter X,Y) setzt einen Punkt
52026: UNPLOT löscht einen Punkt mit den Koordinaten X und Y
52049: LINE (Parameter X1,Y1,X2,X2) zieht Linie von / bis
52052: FACET X1,Y1,X2,Y2,X3,Y3,SA zeichnet dreieckige Facetten mit den Koordinaten X1,Y1, X2,... und schattiert sie
(SA: 0 = schwarz, 64 = weiß)
Shapes
52119: Kugel
52141: Ring
52150: vertikalerZylinder
52153: horizontalerZylinder
52186: vertikaler Ring
52189: horizontaler Ring
52203: vertikale Rolle
52206: horizontale Rolle
Tabelle 2. Befehlsübersicht
Grafik
ser Kafffeetasse ist aus drei verschiedenen Shapes zusammengesetzt, die mit Hilfe des Fensters in ihrer Ausdehnung eingeschränkt wurden. Diesen Begrenzungsfenstern sind die Adressen 893 bis 896 zugeordnet, wobei sich die POKE-Werte auf den Mittelpunkt der Figur beziehen.
DieKommandos, um die Bitmapzu löschen oder mit Punkten zu füllen, benötigen auch alle nur einen Parameter. So sieht zum Beispiel das Kommando zum Initialisieren des Farbspeichers so aus:
POKE 52001,16*DC + BC
wobei DC die Farbe der zu setzenden Punkte und BC die Hintergrundfarbe ist. Auch Texte können nach Wunsch auf demGrafikbildschirm ausgegeben werden. Die dafürzustän-digen Routinen sind in Listing 2 enthalten.
Die in Listing 10 und 11 abgedruckten Demonstrationsprogramme sollen helfen, die Arbeitsweise und die Kombinationsmöglichkeiten der einzelnen Shapes aufzuzeigen. Auch alle hier gezeigten Bilder stammen von diesem Programm. Die Bilder stehen im Speicher übrigens »unter« dem Basic-ROM im Bereich zwischen $A000 und $BFFF.
Um den Platz für das DOS 5.1 freizuhalten, wurde das Grafikpaket in zwei Teile aufgespalten. Der eine Teil mit dem Namen GRAPHICS (Listing 8) befindet sich im Bereich zwi-
schen $C000 und $CBFC. Der zweite Teil, auf den im folgenden noch kurz eingegangen werden soll, muß nach Adresse $CF59 geladen werden. Dieser Programmteil enthält eine schnelle Sortierroutine (Listing 6) und ermöglicht die Darstellung vonTextauf dem Grafikbildschirm (Listing 7). Die beiden Unterprogramme sind in dem MSE-Listing 9 zusammengefaßt worden und müssen gemeinsam mit »GRAPHICS« in den Speicher geladen werden.
Hinweise zum Abtippen
, Sie müssen als erstes die MSE-Listings 8 und 9 eingeben und anschließend natürlich auch abspeichern. Die Listings 1 bis 7 dienen nur zur Dokumentation und brauchen nicht eingegeben werden. Nachdem Sie auch die Demos abgetippt und auf Diskette oder Band gespeichert haben, müssen die einzelnen Programmteile nacheinander in den Speicher geladen werden. Begonnen wird mit GRAPHICS, das mit LOAD-"GRAPHICS",8,1 in denSpeicher gelesen werden muß. Nachdem man anschließend NEW eingegeben hat, muß das zweite Maschinenprogramm, wie oben, geladen werden (auch hier das NEW nicht vergessen). Anschließend kanh wahlweise eines der beiden Demonstrationsprogramme (Listing 10 oder11) geladen und ganz normal gestartet werden. (Richard Rylander/Christoph Sauer/ev)
; INTEGER ARITHMETIC ROUTINES
; RICHARD L. RYLANDER 8/12/84
; REVISED 10/29/84 TO ADD FULL DOUBLE
; PRECISION ARGUMENTS IN DIVIDE ROUTINE
;*****************************************
; USE PAGE ZERO LOCATIONS WHERE POSSIBLE FOR ; ITERATIVE PROCEDURE WORK SPACE
MLPCND	=*AC	; MULTIPLICAND
MLPLER	=*AD	; MULTIPLIER
PRQD	=*AE	; PRODUCT
DVDND	=*FD	I DIVIDEND/QUOTIENT
DVSOR	=*FB	; DIVISOR
RMNDR	=*B4	| REMAINDER
RADCND	-*AC	; RADICAND
ROOT	=*033C	; SQUARE ROOT
TEMP	=*FB	
; SET UP SEED VALUES FOR PSEUDO-RANDOM NUMBERS *=*C000
RNDM .BYTE *FF,*55
RTEMP .BYTE *00,*00
;*******************#**♦*********»♦♦*»****
; MULTIPLY SINGLE PRECISION MULTIPLICAND ; BY SINGLE PRECISION MULTIPLIER GIVING ; DOUBLE PRECISIONPRODUCT (ENTER AT "MULT")
(..SPECIAL CASE: ENTER AT "SQUARE" TO FIND ? SQUARE OF SIGNED 8-BIT NUMBER
SQUARE LDA MLPCND ; ENTRY TO SQUARE BPL POSITV ; USE ABSOLUTE VALUE SEC	; NEGATE IF NEEDED
LDA 4*00 SBC MLPCND STA MLPCND
POSITV STA MLPLER
MULT LDA 4*00 i ENTRY TO MULTIPLY LDX 4*08
MLOOP LSR MLPLER BCC NOADD CLC ADC MLPCND
NOADD ROR A	*
ROR PROD DEX BNE MLOOP STA PROD+1 RTS
; DIVIDE DOUBLE PRECISION DIVIDEND
; BY DOUBLE PRECISION DIVISOR GIVING
; DOUBLE PRECISION QUOTIENT
; DIVIDEND IS REPLACED BY QUOTIENT
; IN THE PROCESS
; QUOTIENT IS ROUNDED TO NEAREST INTEGER
DIVIDE LDA 4*00 STA RMNDR STA RMNDR+1 LDX 4*10
DLOOP ROL DVDND ROL DVDND+1 ROL RMNDR ROL RMNDR+1 SEC LDA RMNDR SBC DVSOR TAY LDA RMNDR+1 SBC DVSOR+1 BCC DECCNT STY RMNDR STA RMNDR+1
DECCNT DEX BNE DLOOP
ROL DVDND	; CHECK IF REMAINDER
ROL DVDND+1 ; IS >=l/2 OF DIVIDEND ASL RMNDR	; FOR ROUNDING
ROL RMNDR+1 BCS ROUND SEC LDA DVSOR SBC RMNDR LDA DVSOR+1 SBC RMNDR+1 BCS NOCHNG ROUND INC DVDND
BNE NOCHNG INC DVDND+1 NOCHNG RTS
; TAKE INTEGER SQUARE ROOT OF A
; DOUBLE PRECISION RADICAND GIVING
; SINGLE PRECISION ROOT ( <= REAL ROOT )
SQRT LDX 4*08 LDA 4*00 STA ROOT STA ROOT+1 STA TEMP STA TEMP+1 SQRT1 ASL ROOT ROL ROOT+1 INC ROOT ; ASSUME CURRENT LSB OF BNE NEXT1 ; ROOT WILL BE 1 INC ROOT+1
NEXT1 ASL RADCND ; SHIFT RADICAND LEFT ROL RADCND+1 ; TWICE INTO TEMP ROL TEMP ROL TEMP+1 ASL RADCND ROL RADCND+1 ROL TEMP ROL TEMP+1 ' SEC	; SUBTRACT ROOT ESTIMATE
LDA TEMP	( FROM TEMP
SBC ROOT TAY LDA TEMP+1 SBC ROOT+1 BCC RESTOR STA TEMP+1 | SUBTRACTION OK STY TEMP INC ROOT	•
BNE NEXT2 INC ROOT+1
NEXT2 DEX BNE SQRT1 JMP FINI RESTOR SEC	; IGNORE SUBTRACTION
LDA ROOT ; AND RESET LSB OF ROOT SBC 4*01 STA ROOT BCS NEXT3 DEC ROOT+1
NEXT3 DEX BNE SQRT1 FINI ROR ROOT+1 : FINAL /2 TONORMALIZE ROR ROOT RTS
; GENERATE PSEUDO-RANDOM BYTES ; EXIT WITH P-R BYTE IN ACCUM.
RANDOM LDA RNDM STA RTEMP EOR RNDM+1 ROL RTEMP+1 ; RTEMP+1 PRESERVES ROR A	; CARRY BIT FOR CYCLING
ROR RTEMP+1 ; RANDOM NUMBERS STA RNDM LDA RTEMP STA RNDM+1 RTS
.END
Listing 1. Assembler-Quelltext der schnellen lnteger-Arithmetik
; GRAPHICS UTILITIES ;
; RICHARD L. RYLANDER 11/4/84
; LOAD ARITHMETICUTILITIES FIRST
RAM=*033E
ORIGIN=*C0E2
MLPCND=*AC	; MULTIPLICAND (S>
MLPLER=*AD	; MULTIPLIER CS)
PROD=*AE	|	PRODUCT (D)
MULT=*C011	;	CALL FOR MULTIPLY
RNDM=*C000	|	RANDOM NUMBER
RANDOM=*C0C8	;	CALL FOR RANDOM
; NOTE - A CALL TO 'RANDOM' LEAVES A RANDOM BYTE ; IN THE ACCUMULATOR
I *=RAM
PLTFLG *=*+l	| PLOT/UNPLOT FLAG
XPLT	*=*+2	।	ABSOLUTE	PLOT COORD
YPLT	*=*+l	।	ABSOLUTE	PLOT COORD
VIC1	*■*+!	;	REGISTER	STORAGE
VIC2	*=*+l	;	REGISTER	STORAGE
VALUE *=*+2 । FINAL NORMALIZED SHADE VALUE
HTORRN *=*+l j SHADE FLAG, l=HALFTONE
NOSCAL *=*+l	। SCALE FLAG, l-NO SCALE
TEMP *-*+2 | TEMPORARY STORAGE
*FORIGIN
| TURN ON BIT MAP GRAPHICS MODE, | SAVING REGISTER VALUES FOR ; RETURN TO TEXT MODE LATER.
GRFON LDA *D011 ORA 4*20 STA *D011 LDA *DD00 STA VIC1 AND 4*FC ORA 4*01 STA *DD00 LDA *D018 STA VIC2 LDA 4*19 STA *D018 RTS
RETURN TO TEXT SCREEN
GRFOFF LDA *D011 AND 4*DF STA *D011 LDA VIC1 STA *DD00 LDA VIC2 STA *D018 RTS
; FILL COLOR MAP FOR BLACK .DOTS ON WHITE
COLOR LDA 4*01	; POKE NEW COLORS HERE
LDX 40
COL1 STA *8400,X .
' STA *8500,X
STA *8600,X
STA *8700,X
DEX
BNE COL1 RTS
CLEAR HI-RES GRAPHICS SCREEN
CLEAR LDA 4*A0 STA *FC LDY 40 STY *FB LDA 40	; CLEAR BYTE
Listing 2. Assembler-Quelltext der Grafik-Utilities
Grafik
LDX #«20
CLRLP STA («FB),Y INY BNE CLRLP INC «FC DEX BNE CLRLP RTS
; PLOT AND UNPLOT POINTS ON HI-RES GRAPHICS ; SCREEN. ABSOLUTE X AND Y SCREEN COORDINATES ; ARE POKED INTO XPLT, XPLT+1, AND YPLT
PLOT LDA #0 .BYTE «2C UNPLOT LDA *«80 STA PLTFLS LDA «01	| BASIC ROM OUT
AND #«FE STA «01 SEC	;	INVERT Y COORDINATE	TO
LDA #«C7	;	PUT ORIGIN IN LOWER	LEFT
SBC YPLT	;	CORNER OF SCREEN
TAX	;	(199.-YPLT)
LSR A LSR A LSR A TAY LDA TABLEl,Y STA «FB LDA TABLE2,Y STA «FC TXA AND ««07 CLC ADC «FB STA «FB LDA XPLT AND ««FS ADC «FB STA «FB LDA XPLT+1 ADC «FC STA «FC LDA »«A0 ADC «FC STA «FC LDA XPLT AND »«07 EOR ««07 TAX LDA ««01 PLOTLP DEX BMI PL0T2 ASL A BNE PLOTLP PL0T2 LDY »0 BIT PLTFLG BPL NOPLOT EOR ««FF AND («FB),Y .BYTE «2C
NOPLOT ORA (»FB),Y STA («FB),Y LDA «01	; BASICROM RESTORED
ORA «»01 STA »01 RTS
I
TABLE1 .BYTE »00,»40,«80,«C0 .BYTE «00,*40,«80,«C0 .BYTE «00,«40,«80,«C0 .BYTE »00,«40,*80,«C0 .BYTE «00,«40,«80,«C0 ■BYTE «00,«40,«80,«C0,«00
TABLE2 .BYTE «00,«01,«02,«03 .BYTE «05,«06,»07,»08 .BYTE «0A,«0B,«0C,«0D .BYTE «0F,«10,«ll,»12 .BYTE '»14,«15,»16,«17 .BYTE «19,«lA,«lB,«lC,«lE
; SHADING BY HYBRID DITHER/DOT-GROWTH I
SHADE LDA XPLT	;	USE BITS ---***
AND #«07	;	OF 'X' SCREEN COORD
STA TEMP LDA YPLT	;	AND BITS----***
AND #«07	$	OF 'Y' SCREEN COORD
ASL A	;	SHIFTED INTO —***---
ASL A	;	POSITION TO DETERMINE
ASL A	;	6-BIT OFFSET IN
ORA TEMP	;	THRESHOLD TABLE
TAX LDA THRESH,X ;	SCREEN-POSITION-WEIGHTE
CMP VALUE	;	THRESHOLD VALUE
BPL GREATR JMP UNPLOT
GREATR JMP PLOT
; SHADING BY RANDOM HALFTONE
RSHADE JSR RANDOM
LSR A	; REDUCE RANDOM BYTE
LSR A	5 TO 6 BITS FOR SHADE
CMP VALUE	| VALUE COMPARISON
BPL MORE JMP UNPLOT
MORE JMP PLOT
; PLOT A POINT WEIGHTED BY SHADING SCHEME ; AND SHADE VALUE
; CHECK 'NOSCAL' FLAG FOR SCALING OF Y COORD ; CHECK 'HTDRRN' FLAG FOR TYPE OF SHADING
PLTSHD LDA NOSCAL BEQ NORM
■ SCALE Y FROM 0-239 PSEUDO-COORDINATES ; TO 0-199 TRUE SCREEN COORDINATES BY ; Y = (Y+l)*213/256
SCALE LDY YPLT
INY STY MLPLER LDA #«D5	;	213.
STA MLPCND
JSR MULT	5	RETURN WITHHIGH	BYTE
STA YPLT	;	IN ACCUMULATOR
NORM LDA HTORRN
BEQ RPLT JMP SHADE RPLT JMP RSHADE
THRESH .BYTE .BYTE • BYTE .BYTE .BYTE .BYTE .BYTE .BYTE .BYTE .BYTE .BYTE .BYTE .BYTE .BYTE .BYTE .BYTE
.END
«00,«08,«35,«3D «02,«0A,«37,«3F *10,«18,«25,«2D «12,»lA,»27,«2F «31,»39,«04,«0C «33,*3B,«06,«0E «21,«29,«14,»lC «23,«2B,«16,*lE ♦03,«0B,»36,«3E »01,«09,«34,«3C »13,«lB,«26,«2E «ll,«19,«24,»2C «32,«3A,»07,«0F »30,«38,»05,«0D «22,«2A,«17,«lF «20,»28,«15,«lD
Listing 2. Assembler-Quelltext der Grafik-Utilities (Schluß)
; FACET - DRAW SHADED TRIANGULAR FACETS ; AND STRAIGHT LINES.
; RICHARD L. RYLANDER 11/4/84
; LOAD "ARITH.HEX" AND "GRAPH.HEX" ; BEFORE USING
ORIGIN = «C26F RAM = «034A
XPLT * «033F YPLT = «0341 NORM = «C224 NOSCAL = «0347 PLOT = «C143 UNPLOT = «C146
MLPCND = «AC MLPLER ■ «AD PROD = «AE MULT - «C011
DVDND = «FD DVSOR • «FB QUOT = «FD DIVIDE = *C025 I
*=RAM
XMIN *=*+2 YMIN *=*+l XMID *=*+2 YMID *=*+l XMAX *=*+2 YMAX *=*+l YTOP *-*+l YBOT *-*+l YBASE *=*+l DLTAX1 *=*+2 DLTAX2 *=*+l DLTAX3 *=*+l DELTAX *=*+l DLTAY1 *=*+l DLTAY2 *=*+l DLTAY3 *=*+l DELTAY *=»+1 XDIFF *=*+l	)
FLAG1 *■♦♦!
FLAG2 *=*+l FLA63 *=*+l FLAG *=*+l EDGES *=*+l ERROR *=*+2 MODE *=*+l COUNT *=*+2
*=ORIGIN
;*************♦***********************#*** 5
| SCALE ALL Y COORDINATES FROM 0..239 ; PSUEDO-COORDINATE RANGE TO 0..199 | TRUE SCREEN COORDINATE RANGE
SCALE LDY #6
LDA- #*D5 STA MLPCND
SCLP LDA YMIN,Y STA MLPLER JSR MULT STA YMIN,Y DEY DEY DEY BPL SCLP RTS
;**««««*»«**»**«*»««**#««««««««*«*«««**«*« ;
; EXCHANGE 'MIN' AND 'MID' COORDINATES
SWAP12 LDY #2
LOOP1 LDA XMIN,Y
PHA
LDA XMID,Y
STA XMIN,Y
PLA
STA XMID,Y
DEY
BPL LOOP1
RT8
;<»****♦*********#********«**************
; EXCHANGE 'MID' AND 'MAX' COORDINATES
SWAP23 LDY #2
L00P2 LDA XMID,Y
PHA
LDA XMAX,Y
STA XMID,Y
PLA
STA XMAX,Y
DEY
BPL L00P2
RTS
;»«***«***«*««*««*«**««««««*«*««*««*««««««
; SORT COORDINATES ACCORDING TO X COMPONENTS 5
SORTX LDX #2
SORTLP SEC
LDA XMID
SBC XMIN
LDA XMID+1
SBC XMIN+1
BCS NOSWP1 JSR SWAP12		
NOSWP1	DEX BEQ SORTED SEC LDA XMAX SBC XMID LDA XMAX+1 SBC XMID+1 BCS SORTLP JSR SWAP23 JMP SORTLP	
SORTED	RTS	
;*************<*<****♦**♦***#*****♦***»*<♦		
I DRAW	A LINE BETWEEN	XMIN,YMIN AND XMID,YMID
; USINE	S FAST DDA (DIGITAL DIFFERENTIAL ANALYZER)	
; TECHNIQUE		
LINE	LDA «2	; ENSURE XMAX IS
	STA XMAX+1	; LARGEST BEFORE
	JSR SORTX LDA NOSCAL BEQ OUTLN JSR SCALE	; ORDERING 'MIN' AND 'MID'
OUTLN	JSR FINDXY	; ENTRY POINT TO
	LDA XMIN	; OUTLINE FACETS
	STA XPLT LDA XMIN+1 STA XPLT+1 LDA YMIN STA YPLT LDA DLTAXl+1 BNE STEPX SEC LDA DLTAX1 SBC DLTAY1 BCS STEPX	; CHECK FOR DX>DY
STEPY	LDA DLTAY1 STA ERROR STA COUNT LSR ERROR LDA DLTAX1 SBC ERROR STA ERROR LDA DLTAXl+1 SBC #0 STA ERROR+1 INC COUNT	
LNLP1	LDA MODE BNE ERASE1 JSR PLOT JMP SK1	; 0 • DRAW, 1 • ERASE
ERASE1	JSR UNPLOT	
SK1 -	LDA FLAG1	; 0 = POSITIVE SLOPE
	BNE NSLOPE INC YPLT BNE SK2	;	ALWAYS BRANCH
NSLOPE	DEC YPLT	
SK2	BIT ERROR+1 BMI SK3 INC XPLT BNE NOINC1 INC XPLT+1	
NOINC1	SEC LDA ERROR SBC DLTAYi STA ERROR LDA ERROR+1 SBC #0 STA ERROR+1	
SK3	CLC LDA ERROR ADC DLTAX1 STA ERROR LDA ERROR+1 * ADC DLTAXl+1 STA ERROR+1 DEC COUNT BNE LNLP1 RTS	
STEPX	LDA DLTAX1 STA ERROR STA COUNT LDA DLTAXl+1 STA ERROR+1 STA COUNT+1 LSR ERROR+1 ROR ERROR SEC LDA DLTAY1 SBC ERROR STA ERROR LDA «0 SBC ERROR+1 STA ERROR+1	\
LNLP2	LDA MODE BNE ERASE2 JSR PLOT JMP SKP1	
ERASE2	JSR UNPLOT	
SKP1	INC XPLT BNE N0INC2 INC XPLT+1	
NOINC2	BIT ERROR+1 BMI SKP3 LDA FLA61 BNE NGSLP INC YPLT BNE SKP2	;	ALWAYS BRANCH
NGSLP	DEC YPLT	
SKP2	SEC LDA ERROR SBC DLTAX1 STA ERROR LDA ERROR+1 SBC DLTAXl+1 STA ERROR+1	
SKP3	CLC LDA ERROR ADC DLTAY1 STA ERROR LDA ERROR+1 ADC «0 STA ERROR+1 SEC LDA COUNT SBC «1 STA COUNT	
	BCS TEST DEC COUNT+1	
TEST	BIT COUNT+1 BPL LNLP2 RTS	
Listing 3. Assembler-Quelltext zum Zeichnen von Linien und Dreiecken
Grafik
;********»********♦**#♦******<*»♦♦**«***»* 5 DRAW A SHADED VERTICAL LINE AT | XPLT FROM YTOP TO YBOT
VLINE BEC	; MAKE SURE YTQP>YBOT
LDA YTOP SBC YBOT BCS DRAW LDA YTOP PHA LDA YBQT STA YTOP PLA STA YBOT DRAW LDA YTOP STA YPLT JSR NORM ; PLOT A SHADE-WEIGHTED LDA YTOP ; PIXEL CHECKING ONLY CMP YBOT ; FOR SHADE STYLE BEQ DONE DEC YTOP JMP DRAW
DONE RTS
;*««**««+»*»«««*•««»««««*««*«**««««**«*««»
; FIND ENDPOINTS FOR VERTICAL LINES ; BETWEEN FACET EDGES
ENDPTS LDA XDIFF STA MLPCND LDA DELTAY STA MLPLER JSR MULT STA DVDND+1 LDA PROD STA DVDND LDA #0 STA DVSOR+1 LDA DELTAX STA DVSOR JSR DIVIDE LDA FLAG BNE NEGSLP CLC LDA YBASE ADC QUOT BCC SKIP2 NEGSLP SEC LDA YBASE SBC QUOT SKIP2 RTS
:;***«*«««*«***««*«*«*««**«««****««««*«*«««
; FIND COORDINATE DIFFERENCES 5 J ALL "DELTA X" VALUES POSITIVE, ; SINGLE PRECISION (JUST LOWER BYTE)
FINDXY SEC LDA XMID SBC XMIN STA DLTAX1 LDA XMID+1 SBC XMIN+1 STA DLTAXl+1 SEC LDA XMAX SBC XMID STA DLTAX2 SEC LDA XMAX SBC XMIN STA DLTAX3 .
; USE ABS(DELTA Y> VALUES, ;FLAGS INDICATE SLOPE OF LIMIT LINES
LDA «*00 STA FLAG1 STA FLAG2 STA FLAG3 SEC LDA YMID SBC YMIN BCS STORE1 INC FLAG1 LDA YMIN SBC YMID STORE1 STA DLTAY1 SEC	P
LDA YMAX SBC YMID BCS ST0RE2 INC FLAG2 LDA YMID SBC YMAX
ST0RE2 STA DLTAY2 fd . SEC
LDA YMAX SBC YMIN BCS ST0RE3 INC FLAG3 LDA YMIN SBC YMAX ST0RE3 STA DLTAY3 RTS
; *****************************************
; DRAW A SHADED TRIANGULAR FACET
FACET JSR SORTX LDA NOSCAL BEQ YSOK ,	JSR SCALE
YSOK	JSR FINDXY
LDA XMIN STA XPLT LDA XMIN+1 STA XPLT+1 FCETLP SEC LDA XPLT SBC XMIN STA XDIFF LDA DLTAX1 BEQ CONT STA DELTAX LDA DLTAY1 STA DELTAY LDA FLAG1 STA FLAG LDA YMIN STA YBASE JSR ENDPTS STA YTOP LDA DLTAX3 BEQ CONT STA DELTAX LDA DLTAY3 STA DELTAY LDA FLAG3 STA FLAG JSR ENDPTS
STA YBOT JSR VLINE LDA XPLT+1 CMP XMID+1 BNE NEXTX1 LDA XPLT - CMP XMID BEQ CONT NEXTX1 INC XPLT BNE SKIP3 INC XPLT+1 SKIP3 JMP FCETLP CONT SEC LDA XPLT SBC XMIN STA XDIFF LDA DLTAX3 BEQ FINI STA DELTAX LDA DLTAY3 STA DELTAY LDA FLAG3 STA FLAG LDA YMIN STA YBASE JSR ENDPTS STA YBOT SEC LDA XPLT SBC XMID STA XDIFF LDA DLTAX2	1
BEQ FINI STA DELTAX LDA DLTAY2 STA DELTAY LDA FLAG2 STA FLAG LDA YMID STA YBASE JSR ENDPTS STA YTOP JSR VLINE LDA XPLT+1 CMPXMAX+1 BNE NEXTX2 LDA XPLT CMP XMAX BEQ FINI NEXTX2 INC XPLT
BNE SKIP4 INC XPLT+1 SKIP4 JMP CONT FINI LDA EDGES BEQ FINISH JSR OUTLN JSR SWAP23 JSR OUTLN JSR SWAP12 JSR SWAP23 JSR SWAP12 JSR OUTLN FINISH RTS .END
Listing 3. Assembler-Quelltext zum Zeichnen von Linien und Dreiecken (Schluß)
; FINAL NORMALIZED SHADE VALUE ; SHADE FLAG, l=HALFTONE
| SCALE FLAG, l=NQ SCALE
| PRIMITIVE SOLID SHAPE DRAWING
; RICHARD L. RYLANDER 11/7/84
; LOAD ARITHMETIC AND GRAPHIC UTILITIES FIRST ;
;***************************************** . RAM=*036A ORIGIN"*CSEA
MLPCND"*AC	; MULTIPLICAND (8)
MLPLER"*AD	; MULTIPLIER (8)
PROD"*AE t PRODUCT (D)
MULT=*C011	;	CALL FOR	MULTIPLY
DVDND=*FD	;	DIVIDEND	(D)
DVSOR"*FB	;	DIVISOR (D)
QUOT"*FD	|	QUOTIENT	(D)
DIVIDE=*C025	;	CALL FOR	DIVIDE
ARG"*AC	|	ARGUMENT (S)
SQR=*AE	|	SQUARE OF ARG	(D)
SQUARE"#C004 ;	CALL FOR SQUARE
»	V	1
RADCND"*AC	;	RADICAND (D)
ROOT=*033C	|	SQUARE ROOT (S)
SQRT=*C064	|	CALL FOR SORT
5 RNDM=*C000	|	RANDOM NUMBER
RANDOM"*C0C8	;	CALL FDR RANDOM
5 NOTE - A CALL TO 'RANDOM' LEAVES A RANDOM BYTE 5 IN THE ACCl--- XPLT"*033F YPLT=*0341 NORM=*C224 PLTSHD"*C20F VALUE"*0344 HTORRN=*0346 NOSCAL"*0347 *=RAM XCENT *-*+2 XREL »=*+1 XSHD *»*+2 YCENT *=*+l YREL *=*+l YSHD *=*+2 ZREL *-*+2 ZWX *=*+2 RADIUS *=*+2 TONE *=*+2 TNTMP *-*+2 CLIPL *=*+l CLIPR *=*+l CLIPU »=*+1 CLIPD *"*+l | HEMI *"*+l BAKLIT #=*+l HVFLAG *"*+l TEMP *=*+2 CNTX *=*+l CNTY *-*+l MAX *=*+l HLEN *=*+l RS *"*+2 RT *=*+l RC *"*+l RO *-*+l
| CENTER COORD
; RELATIVE <TO CENTER)
I USED IN SHADE CALC
; CENTER COORD
; RELATIVE (TO CENTER)
; USED IN SHADE CALC j RELATIVE (TO CENTER)
; Z WITH X (+ OR -)
; LOCAL RADIUS OF SURFACE
; USED IN SHADE CALC
; USED IN SHADE CALC
| LEFT CLIPPING BOUND
; RIGHT CLIPPING BOUND
; UP CLIPPING BOUND
; DOWN CLIPPING BOUND
; PLOTTING HEMISPHERE
; BACKLIT FLAG
; HORIZONTAL/VERTICAL FLAG
; TEMPORARY STORAGE
; LOOP COUNTER
* LOOP COUNTER
; LOOP LIMIT
; HALF-LENGTH OF CYLINDERS
; SQUARE OF TOROID RADIUS
; TOROID (RING) RADIUS
| CENTER RADIUS OF TOROID I OUTER RADIUS OF TOROID
RI *"*+l	; INNER RADIUS OF TOROID
XSQR *=*+2 XMAX *=*+l
R0=HLEN
*=ORIGIN
;•««««•*«««»*•**»••««»»•»«•«••*•«**««••»*«
; DIVIDE WITH SINGLE PRECISION DIVISOR | (USED OFTEN IN SHAPE ROUTINES)
SDIV LDA «0
STA DVSOR+1 JMP DIVIDE
;***♦*♦*♦♦♦**♦*♦**#**»*♦♦*»***♦***♦»»*♦***
} CALCULATE SHADE VALUE (0-63) BY ; MULTIPLYING 'TONE' BY 26 THEN ; DIVIDE RESULTBY RADIUS OF SURFACE
GETVAL BIT TONE+1
BPL CNTNU ; IF 'TONE'<0, THEN
LDA BAKLIT ; MAKE VALUE 0 OR ABS(TONE) BNE NEGATE ; DEPENDING ON BAKLIT FLAG STA VALUE RTS NEGATE SEC
LDA #400 SBC TONE STA TONE CNTNU LDA TONE STA MLPCND LDA #*lA STA MLPLER JSR MULT STA DVDND+1 LDA PROD STA DVDND LDA RADIUS STA DVSOR JSR SDIV LDA QUOT STA VALUE RTS
;«««*»«•««••««««««««»««««»»««»«««»«•»«*«*«
; POINT PLOTTING BY QUADRANTS USING ;THE FOUR-FOLD SYMMETRY OF SIMPLE OBJECTS 5 ; DEPENDING ON STATUS OF 'HVFLA6', EXCHANGE | X AND Y COORDINATES TO ROTATE OBJECTS 90 DEG ; SINGLE SHAPE ROUTINE CAN THEN BE USED TO | DRAW HORIZONTAL' OR VERTICAL' VERSIONS ; OF AN OBJECT
;THE FOLOWING IS A BASIC SUBROUTINE" ; EQUIVALENT TO EXPLAIN ITS OPERATION
| NOTE THAT LABELS ARE USED IN PLACE OF ; LINE NUMBERS 5 ; 'PTPLOT' IF HVFLAG<0 THEN GOTO 'NOROT' J	(STACK)"XRELlXREL"YREL:YKEL=(SI ACK)
;	(STACK)"XSHD:XSHD=YSHD:YSHD"(STACK)
; 'NOROT' GOSUB 'GETZ' ;	REM CALCULATE 2*Z FROM X,Y AND RADIUS
|	HEMI " 1
;	IF XREL>CLIPL THEN	GOTO	'RHEMI'
|	ZWX=2*Z-XSHD
|	XPLT"XCENT-XREL:REM LEFT HEMISPHERE
;	'CHCLUP' IF YREL>CLIPU THEN	GOTO	'DHEMI'
;	TONE"ZWX+YSHD
J	GOSUB 'GETVAL':REM	NORMALIZE SHADE VAL
;	YPLT-YCENT+YREL
|	GOSUB 'PLTSHD':REM	PLOT	OR UNPLOT
;	REM POINTS WEIGHTED BY SHADE VALUE
;	'DHEMI' IF YREL>CLIPD THENGOTO 'RHEMI' 5	TONE=ZWX-YSHD
;	GOSUB '6ETVAL'
|	YPLT"YCENT-YREL
|	GOSUB 'PLT8HD'
|	'RHEMI'	IF HEMI=0 THEN RETURN
|	,	HEMI=0
;	IF XREL>CLIPR THEN RETURN
|	ZWX=2*Z+XSHD
;	XPLT"XCENT+XREL
|	GOSUB 'CHCLUP'
;	RETURN
PTPLOT BIT	HVFLAG
BPL	NOROT
LDA	XREL
PHA PHA LDA YREL STA XREL PLA STA YREL LDA XSHD PHA
LDA YSHD STA XSHD PLA STA YSHD LDA XSHD+1 PHA PHA
LDA YSHD+1 8TA XSHD+1 PLA STA YSHD+1 NOROT JSR GETZ PTPLT2 LDA «*01
STA HEMI SEC LDA CLIPL ; CHECK LEFT HEMISPHERE CMP XREL BCC RHEMI SEC LDA ROOT SBC XSHD STA ZWX LDA ROOT+1 SBC XSHD+1 STA ZWX+1 SEC	'
LDA XCENT SBC XREL STA XPLT LDA XCENT+1 SBC #*00 STA XPLT+1 CHCLUP SEC
LDA CLIPU ; CHECK FOR UP CLIPPING CMP YREL BCC DHEMI CLC LDA ZWX ADC YSHD
Listing 4. Assembler-Quelltext zum Zeichnen ausgefüllter Flächen, sogenannter Shapes
Grafik
STA TONE LDA ZWX+1 ADC YSHD+1 STA TONE+1 JSR GETVAL CLC LDA YCENT ADC YREL . STA YPLT □SR PLTSHD
DHEMI SEC LDA CLIPD ; CHECK FOR DOWN CLIPPING CMP YREL BCC RHENI SEC LDA ZWX SBC YSHD STA TONE LDA ZWX+1 SBC YSHD+1 STA TONE+1 □SR GETVAL SEC LDA YCENT SBC YREL STA YPLT □SR PLTSHD
RHEMI LDA HENI BEQ PLDONE DEC HEMI SEC LDA CLIPR ; CHECK FOR RIGHT CLIPPING CNP XREL BCC PLDONE CLC LDA ROOT ADC XSHD STA ZWX LDA ROOT+1 ADC XSHD+1 STA ZWX+1 CLC LDA XCENT ADC XREL STA XPLT I LDA XCENT+1
ADC #»00
STA XPLT+1, □HP CHCLUP PLDONE BIT HVFLAG BPL NORSTR LDA XSHD+1 ; RESTORE COORDS STA YSHD+1 PLA STA XSHD+1 LDA XSHD STA YSHD PLA STA XSHD LDA XREL STA YREL PLA STA XREL NUKblK KIS
l««««««««»»««««*«««»»««»«*««««««»«*««««««#
I CALCULATE Z FRON LOCAL X,Y BY ; PYTHAGOREAN SUN
GETZ LDA RADIUS STA ARG JSR SQUARE 8TA TNTNP+1 LDA SQR 8TA TNTNP LDA XSHD STA ARG JSR SQUARE SEC LDA TNTNP SBC SQR STA TNTNP LDA TNTNP+1 SBC SQR+1 STA TNTNP+1 LDA YSHD STA ARG JSR SQUARE SEC LDA TNTNP SBC SQR STA RADCND LDA TNTNP+1 SBC SQR+1 STA RADCND+1 BMI ZEROOT JSR SQRT ASL ROOT ROL ROOT+1 RTS ZEROOT LDA #»00 STA ROOT STA ROOT+1 RTS
;***************************♦*************
; SET ÜP PARAMETERS FOR TOROIDS
; RT=(RO-RI)/2 RS=RT*RT RC=RT+RI
I	z
TPARN LDA RO
SEC . SBC RI LSR A STA RT STA RADIUS CLC ADC RI STA RC LDA RT STA ARG JSR SQUARE LDA SQR STA RS LDA SQR+1 STA RS+1 LDA #0 STA CNTX RTS
;*»*♦***♦♦♦♦***♦****«********♦************
;	DRAW A SHADED SPHERE
;	'BASIC SUBROUTINE' EQUIVALENT
|	'SPHERE' FOR CNTX=0 TO RADIUS/SQR(2) ;	XREL=CNTX:XSHD=CNTX
|	FOR CNTY=CNTX TO SQR(RAD*RAD-CNTX*CNTX)
;	YREL=CNTY:YSHD=CNTY
;	HVFLAG=0
;	GOSUB 'PTPLOT'
;	REN EXCHANGE X & Y TO USE 8-F0LD SYN
I	HVFLAG=-128
;	GOSUB 'PTPLOT'
;	NEXT CNTY
NEXT CNTX RETURN
SPHERE LDA RADIUS STA ARG JSR SQUARE ASL SQR ROL SQR+1 LDA SQR STA RADCND LDA SQR+1 STA RADCND+1 JSR SQRT LSR ROOT+1 ROR ROOT LDA ROOT STA XNAX LDA #»00 STA CNTX STA XSHD+1 STA YSHD+1 LDA RADIUS STA ARG JSR SQUARE STA TEMP+1 LDA SQR STA TENP LOOPX LDA CNTX STA CNTY STA ARG STA XREL STA XSHD JSR SQUARE SEC LDA TEMP SBC SQR STA RADCND LDA TEMP+1 SBC SQR+1 STA RADCND+1 JSR SQRT LDA ROOT STA NAX LOOPY LDA CNTY STA YREL STA YSHD LDA #0 STA HVFLAG JSR PTPLOT LDA #»80 STA HVFLAG JSR PTPLOT LDA CNTY CNP NAX BEQ DONEY INC CNTY	(
JNP LOOPY DUNtY LDA CNTX CNP XNAX BEQ DONE INC CNTX JNP LOOPX DONE RTS
J*****#4**#*********»********<************
j	DRAW SHADED CYLINDERS ;
;	BASIC SUBROUTINE' EQUIVALENT
;	'CYLNDR'	XSHD=0
|	FOR YREL=RADIUS TO 0
;	YSHD=YREL
5	FOR XREL=HLEN TO 0
I	GOSUB 'PTPLOT'
;	NEXT XREL	/
;	NEXT YREL
|	RETURN
C	YLNDR LDA	#0
STA	XSHD
STA	XSHD+1
STA	YSHD+1
LDA	RADIUS
STA	YREL
CYLOOP LDA	HLEN
STA	XREL
LDA	YREL
STA	YSHD
CXLOOP JSR	PTPLOT
DEC	XREL
BPL	CXLOOP
DEC	YREL
BPL	CYLOOP
RTS
;#*#*♦***♦*******#*♦****♦*♦*********#***#*
;	DRAW EDGE-VIEW TOROIDS
|	'BASIC SUBROUTINE' EQUIVALENT
;	'EDGTOR' GOSUB 'TPARM':REM SET UP RADII ;	FOR CNTX=0 TO RT
;	XREL=CNTX:XSHD=CNTX
;	R0=SQR(RT*RT-CNTX*CNTX)
;	FOR CNTY=0 TO R0+RC
J	YREL=CNTY
|	YSHD=(R0*CNTY)/(R0+RC)
;	GOSUB 'PTPLOT'
|	NEXT CNTY
|	NEXT CNTX
;	RETURN
J	/
EDGTOR JSR TPARN
LDA #»00 STA XSHD+1 STA YSHD+1 L00PX4 LDA CNTX STA XREL STA XSHD STA ARG JSR SQUARE SEC LDA RS SBC SQR STA RADCND LDA RS+1 SBC SQR+1 SIA RADCND+1 □SR SQRT LDA ROOT STA R0 CLC ADC RC STA NAX LDA #»00 STA CNTY L00PY4 LDA CNTY STA YREL STA NLPLER LDA RS 8TA NLPCND JSR MULT STA DVDND+1 LDA PROD STA DVDND LDA MAX STA DVSOR JSR 8DIV
LDA QUOT STA YSHD JSR PTPLOT LDA CNTY CMP MAX BEQ D0NE4 INC CNTY JMP L00PY4 D0NE4 LDA CNTX CMP RT BEQ DONEHT INC CNTX JMP LOOPX4 DONEHT RTS
;*****************************************
;	DRAW A SHADED, TOP-VIEW TOROID
)	'BASIC SUBROUTINE' EQUIVALENT 5
;	'TOROID'	GOSUB 'TPARM'
;	FOR CNTX=0 TO R0/SQR(2)
;	REM 8-F0LD SYMMETRY USED
|	.	XREL=CNTX
;	MAX=SQR(RO*RO-CNTX*CNTX)
;	IF CNTX>RI THEN GOTO 'GRTR'
;	CNTY=SQR(RI*RI-CNTY*CNTY)
j	GOTO 'LLPY1'
5	'GRTR'	CNTY=CNTX
;	'LLPY1'	YREL=CNTY
;	R0=SQR(CNTY*CNTY+CNTX*CNTX)
;	XSHD=CNTX-<CNTX*RC)/R0
;	YSHD=CNTY-C CNTY*RC)/R0
;	HVFLAG=0:GOSUB 'PTPLOT’
;	HVFLAG=-128:G0SUB 'PTPLOT'
;	IF CNTY=MAX	THEN GOTO 'DDNY1'
;	CNTY=CNTY+1
;	GOTO 'LLPY1'
;	'DDNY1' NEXT CNTX ;	RETURN
5 TOROID JSR TPARM
LDA RO STA ARG JSR SQUARE ASL SQR ROL SQR+1 LDA SQR STA RADCND LDA SQR+1 SlA RADCND+1 JSR SQRT LSR ROOT+1 ROR ROOT LDA ROOT STA XMAX LLPX1 LDA CNTX STA XREL STA ARG JSR SQUARE STA XSQR+1 LDA SQR STA XSQR LDA RO STA ARG JSR SQUARE SEC LDA SQR SBC XSQR STA RADCND LDA SQR+1 SBC XSQR+1 STA RADCND+1 JSR SQRT LDA ROOT STA MAX SEC LDA RI SBC CNTX BCC GRTR LDA RI STA ARG JSR SQUARE SEC LDA SQR SBC XSQR STA RADCND LDA SQR+1 SBC XSQR+1 STA RADCND+1 JSR SQRT LDA ROOT STA CNTY JMP LLPY1
GRTR LDA CNTX STA CNTY LLPY1 LDA CNTY STA YREL STA AR6 JSR SQUARE CLC LDA SQR ADC XSQR STA RADCND LDA 8QR+1 ADC XSQR+1 STA RADCND+1 JSR SQRT LDA ROOT STA R0 STA DVSOR LDA CNTX STA MLPLER LDA RC STA MLPCND JSR MULT STA DVDND+1 LDA PROD STA DVDND JSR SDIV SEC LDA CNTX SBC QUOT STA XSHD ‘	LDA #»00
SBC QUOT+1 STA XSHD+1 LDA CNTY STA MLPLER LDA RC STA MLPCND JSR MULT STA DVDND+1 LDA PROD STA DVDND LDA R0 STA DVSOR s
Listing 4. Assembler-Quelltext zum Zeichnen ausgefüllter Flächen, sogenannter Shapes (Fortsetzung)
Grafik
JSR SDIV SEC LDA CNTY SBC QUQT STA YSHD LDA #«00 STA HVFLAG SBC QUOT+1 STA YSHD+1 JSR PTPLOT LDA «*80 STA HVFLAG JSR PTPLOT LDA CNTY CMP MAX BEQ DDNY1 INC CNTY JMP LLPY1 DDNY1 LDA CNTX CMP XMAX BEQ DUNTOR INC CNTX JMP LLPX1 DUNTOR RTS l*****************************************
J DRAW "INSIDE VIEW" TOROIDS
; 'BASIC SUBROUTINE' EQUIVALENT 5 J 'SPOOL' GOSUB 'TPARM' ;	FOR CNTX=0 TO RT
|	XREL=CNTX:XSHD=CNTX
;	MAX=RC-SQR(RS-CNTX*CNTX)
;	FOR CNTY=0 TO MAX
J	YREL=CNTY
5	YSHD=<RC*CNTY/MAX)-CNTY
;	GOSUB 'PTPLOT'
J	NEXT CNTY
;	NEXT CNTX
5	RETURN
SPOOL JSR TPARM LLPX2 LDA CNTX STA XREL STA ARG	,
SEC LDA #«00 SBC CNTX STA XSHD LDA #«00 SBC *^0B STA XSHD+1 JSR SQUARE SEC LDA RS bBC SUK	*
STA RADCND LDA RS+1 . SBC SQR+1 STA RADCND+1 JSR SQRT SEC LDA RC SBC ROOT STA MAX LDA #«00 STA CNTY
LLPY2 LDA GNTY STA YREL STA MLPLER LDA RC STA MLPCND JSR MULT STA DVDND+1 LDA PROD STA DVDND LDA MAX STA DVSOR JSR SDIV LDA QUOT SEC SBC CNTY STA YSHD LDA QUOT+1 SBC #«00 STA YSHD+1 JSR PTPLOT LDA CNTY CMP MAX BEQ DDNY2 INC CNTY JMP LLPY2 t
DDNY2 LDA CNTX CMP RT BEQ DUNHSP INC CNTX JMP LLPX2 DUNHSP RTS .END
Listing 4. Assembler-Quelltext zum Zeichnen ausgefüllter Flächen, sogenannter Shapes (Schluß)
; INTERFACE - EASY PARAMETER SETTING FOR SHAPE ; DRAWING ROUTINES FROM BASIC.
; RICHARD L. RYLANDER 11/23/84
;««•«««»«*««•*•««««««««««««««*«««««*«««»» 0RIGIN=«CAC8
RAM =«0393
; PARAMETER LOCATIONS FOR VARIOUS SHAPES
XCENT =«036A
YCENT =«036F
XPLOT =«033F
YPLOT =«0341
XMIN =«034A
YMIN =«034C
XMID =«034D
YMID =«034F
XMAX =«0350
YMAX =«0352
RADIUS =«0377
HLEN =«0389
RI =«038F
RO =«038E
HVFLAG =«0383
VALUE =«0344
PLTFLG =«033E
DEFLAG =«FB
;*******♦***♦»****<**»#*»<#<♦*«#<***#**#
; FUNCTION LOCATIONS
GRFON =«C0E2
GRFOFF =«C103
CLEARR=«C12C
CLRBYT=«C135 C0L0RR=«C118 C0LBYT=«C119
PLOTR =«C14B
LINER =«C2DB FACETR =«C4E1
S SWITCH TO GRAPHICS MODE $ RETURN TO TEXT DISPLAY
5	CLEAR BITMAP
J CLEAR (FILL) BYTE
J LOAD COLOR MAP
5	COLOR BYTE
; POINT PLOT ROUTINE
$ DRAW A LINE
; DRAW A SHADED FACET
; SHADED SHAPE DRAWING ROUTINES
SPHERR=«C7C7	;	SPHERE
CYLNDR=«C864	;	CYLINDER
TORUSR=«C90F	;	TOP-VIEW	TOROID
EDGT0R=*C88F	;	EDGE-VIEW	TOROID
SP00LR=«CA3B	; INSIDE-VIEW TOROID
$«»»*#««««#««»»««»«««««*«««*«#«»«>>><#<#«
$ BASIC ROM ROUTINES
CHKCOM=«AEFD	;.CHECK FOR COMMA
EVAEXP=«AD9E	;	EVALUATE EXPRESSION
FLTFIX=«BlAA	;	CONVERT TO FIXED
*=RAM
LINFAC *=♦+!	;	LINE OR FACET FLAG
*=ORIGIN
; GET PARAMETERS FROM BASIC CALLING STATEMENT ; OF THE FORM:
; SYS(FNCTN),PARAM1,PARAM2,PARAM3A0PTU ; WHERE THE THIRD PARAMETER (FOR EXAMPLE) ; MAY BE OPTIONAL (A DEFAULT VALUE IS USED ; .IF THE PARAMETER IS NOT SPECIFIED)
GETNUM JSR CHKCOM ; LOOK FOR COMMA
JSR EVAEXP ] EVALUATE EXPRESSION JSR FLTFIX ; CHANGE TO INTEGER WITH
; HIGH BYTE IN "A" AND LOW BYTE IN "Y" RTS
; CHECK FORADDITIONAL (OPTIONAL) PARAMETERS
PCHECK LDA #«2C	| "," COMMA
LDY #0
STY DEFLAG
CMP («7A),Y
BNE NOMORE ; NO COMMA - USE DEFAULT JMP «0073
NOMORE LDY #«80 STY DEFLAG RTS
; GET TWO ADDITIONAL PARAMETERS FOR TOROIDS
BETTWO JSR PCHECK BIT DEFLAG BMI DFAULT JSR EVAEXP JSR FLTFIX STY RI JSR GETNUM STY RO
DFAULT RTS
;***********************#♦**«***#*♦****♦
; SET CENTER COORDINATES
CENTER JSR GETNUM STY XCENT STA XCENT+1 JSR GETNUM STY YCENT RTS
;**«*««««*****«««««*««««***«*««**«««»**««
; CLEAR THE BITMAP, FILLING WITH (OPTIONAL) ; FILL VALUE SPECIFIED OR WITH (DEFAULT) "0"
CLEAR2 JSR PCHECK BIT DEFLAG BMI DEFCLR JSR EVAEXP JSR FLTFIX -BYTE «2C DEFCLR LDY #0 STY CLRBYT JMP CLEARR
;**************♦*******♦********♦**«♦***<
; FILL COLOR MAP WITH (OPTIONAL) COLOR BYTE ; SPECIFIED OR WITH (DEFAULT) "«0i" | (BLACK DOTS ON WHITE BACKGROUND)
C0L0R2 JSR PCHECK BIT DEFLAG BMI DEFCOL JSR EVAEXP JSR FLTFIX .BYTE «2C DEFCOL LDY #«01 STY COLBYT JMP COLORR
;*********************<******»*♦♦*»*»»**»
; PLOT OR UNPLOT POINTS I PL0T2 LDA #0 .BYTE «2C
UNPLT2 LDA #«80 STA PLTFLG JSR GETNUM STY XPLOT STA XPLOT+1 JSR GETNUM STY YPLOT JMP PLOTR
;»«»««««««*«*«•««**«««#«*««««««*««*««««««
; DRAW LINES BETWEEN (X1,Y1) AND (X2,Y2) ; OR SHADED FACETS BETWEEN THREE POINTS ; (Xl,Yl),(X2,Y2) AND (X3,Y3)
LINE2 LDA #0 .BYTE «2C FACET2 LDA #«80 STA LINFAC JSR GETNUM	'
STY XMIN STA XMIN+1 JSR GETNUM STY YMIN JSR GETNUM STY XMID STA XMID+1 JSR GETNUM STY YMID BIT LINFAC BPL LDRAW JSR GETNUM STY XMAX STA XMAX+1 JSR GETNUM STY YMAX JSR GETNUM STY VALUE JMP FACETR
LDRAW JMP LINER
;***♦♦********♦«*«********♦********♦*♦***
■ DRAW A SPHERE CENTERED AT (XCENT,YCENT) ; DEFAULT RADIUS IS LAST VALUE USED
SPHER2 JSR CENTER JSR PCHECK BIT DEFLAG BMI SKIP1 JSR EVAEXP JSR FLTFIX STY RADIUS SKIP1 JMP SPHERR ;*********************************<******
; DRAW A TOP-VIEW TOROID AT (XCENT,YCENT) ; DEFAULT INNER AND OUTER RADII ARE LAST USED
a T0RUS2 JSR CENTER JSR GETTWO JMP TORUSR .
; *»**«««*«**«««*«««*««««»««»«*««««»«*««
; DRAW CYLINDERS WITH AXES HORIZONTAL OR ; VERTICAL. DEFAULT RADIUS AND "HALF-LENGTH" ; ARE LAST VALUES USED.
VCYL2 LDA #«80 .BYTE «2C HCYL2 LDA #0 STA HVFLAG JSR CENTER JSR PCHECK BIT DEFLAG BM1 SKIP2 JSR EVAEXP JSR FLTFIX STY RADIUS JSR GETNUM STY HLEN SKIP2 JMP CYLNDR ;**«*«*«***«»«*«*«««»««»«««««•»««««<««»««
; DRAW EDGE-VIEW TOROIDS WITH AXES HORIZONTAL ; OR VERTICAL ; INNNER AND OUTER RADII ARE OPTIONAL
VTOR2 LDA #«80 .BYTE «2C HT0R2 LDA #0 STA HVFLAG JSR CENTER JSR GETTWO JMP EDGTOR
•««««»»»*««••»««#»•»«»»«««««»»«»««««»««««
; DRAW INSIDE-VIEW TOROIDS, "SPOOLS", ; WITH AXES HORIZONTAL OR VERTICAL ; INNER AND OUTER RADII ARE OPTIONAL
VSPL2 LDA #«80 .BYTE «2C HSPL2 LDA #0 STA HVFLAG JSR CENTER JSR GETTWO JMP SPOOLR .END
Listing 5. Assembler-Quelltext des »Basic-Interfaces« zum einfachen Ansprechen aller Assembler-Routinen per SYS-Befehl
; KEYSORT - RELOCATABLE BUBBLE SORT USINB KEY.ARRAY 5 POINTING TO INTEGER ARRAY
; RICHARD L. RYLANDER 1/12/85
0RIGIN=«CF59 ; 53081. (FOLLOWING DOS 5.1) 5
KB	= «FB ; 251. POINTER TOKEY ARRAY
ZB	= «FD ; 253. POINTER TO DATA ARRAY
MAX = #8C ; 140. POKE WITH MAX ARRAY INDEX TOP = «AC TOPDIS = «AD FLAG = *AE NXTFLG = «61
Listing 6. Assembler-Quelltext der schnellen Bubble-Sort-Routine
Grafik
CRRNT = #62 REPEAT = #64
*=ORIGIN
INIT LDY ##FF ; INITIALIZE KEY ARRAY INLOOP INY
TYA STA (KB),Y CMP MAX BNE INLOOP
SORT STA TOPDIS ; 'A' HOLDS MAX' LOOP1 LDA TOPDIS ' STA TOP LDX #0 STX NXTFLG STX FLAG
LOOP2 STX REPEAT
; BET BOTH BYTES OF INTEGER POINTED TO BY ; 'KEY' ELEMENT. RETURN WITH MSB ON STACK ; AND LSB IN THE ACCUMULATOR
GETINT TXA
, TAY LDA (KB),Y ASL A BCC LOAD DEC NXTFLG INC ZB+1 LOAD TAY
LDA (ZB),Y PHA INY LDA (ZB>,Y BIT NXTFLG BPL NODEC INC NXTFLG DEC ZB+1 NODEC CPX REPEAT
BNE ORDER STA CRRNT PLA STA CRRNT+1 INX BNE GETINT ■ COMPARE INTEGERS OBTAINED THROUGH KEY ARRAY ; IF 'CURRENT' >= 'NEXT' THEN SWAP KEY ; ELEMENTS, ELSE CONTINUE ORDER CMP CRRNT
PLA SBC CRRNT+1 BVC TEST EOR *#B0 TEST BPL NOSWAP SWAP TXA
TAY. STX TOPDIS LDA (KB),Y PHA DEY LDA (KB),Y INY STA (KB),Y PLA DEY STA (KB),Y INC FLAG NOSWAPCPX TOP
BNE LOOP2
LDA FLAG BNE LOOP1
; UNPACK THE BYTE ELEMENTS OF THE KEY'ARRAY ; INTO BASIC'S NORMAL 2-BYTEINTEGER FORMAT
UNPACK LDX MAX
INX PKLOQP DEX
TXÄ 4 TAY
LDA (KB),Y
PHA TXA ASL A 5 MOVE TO 2*I+1 ORA #1 BCC STORE INC NXTFLG INC KB+1
#* STORE TAY PLA STA (KB),Y LDA #0 DEY STA (KB),Y LDA NXTFLG BEQ OK DEC NXTFLG DEC KB+1 QK TXA
BNE PKLOOP DONE RTS .END
Listing 6. Assembler-Quelltext * der schnellen Bubble-Sort-Routine (Schluß)
; "WRITE" RICHARD L. RYLANDER ; .	12/30/84
; REVISED 1/19/85 - ORIGIN MOVED TO #CFE5 (53221.)
; PUT TEXT CHARACTERS ON GRAPHIC SCREEN ; . (UNDER BASIC ROM) IN VARIOUS STYLES
*=#CFE5 ; PUT CODE AFTER DOS 5.1
WRITE LDA #01	; SWITCH OUT BASIC ROM
AND ##FE STA #01 LDY #7
LOOP LDA (#FD),Y ; READ CHARACTER BYTE AND (#FB),Y ; MODIFY W/SCREEN BYTE STA (#FB),Y ; STORE IN SCREEN
; POKE NEW LOGICAL OPERATOR TO REPLACE j 'AND' (53231.) FOR DIFFERENTSTYLES. ; 0RA=17. BIT (NOP)=36.	AND=49.	E0R=81.
DEY BPL LOOP LDA #01	; RESTORE BASICROM
ORA #1 STA #01 RTS .ENb
Listing 7. Assembler-Quelltext der Routine zum Beschreiben des HiRes-Bildschirmes unterhalb des Basic-ROMs
proqramm : graphics c000 cbfc
c000: ff 55 00 00 a5 ac 10 07 b8 c008 :	38	a9	00	e5	ac	85	ac	85	86
c010 :	ad	a9	00	a2	08	46	ad	90	71
c018 :03 18 65ac 6a 66 ae ca 40 c020 :	d0	f3	85	af	60	a9	00	85	9f
c028 !	b4	85	b5	a2	10	26	fd	26	d7
c030 :	fe	26	b4	26	b5	38	a5	b4	50
c038 :	e5	fb	a8	a5	b5	e5	fc	90	99
c040 :	04	84	b4	85	b5	ca	d0	e5	25
c048 x	26	fd	26	fe	06	b4	26	b5	e0
c050 s	b0	0b	38	a5	fb	e5	b4	a5	56
c058 :	fc	e5	b5	b0	06	e6	fd	d0	fb
c060 :	02	e6	fe	60a2	08	a9	00	b2
c068 :	8d	3c	03	8d	3d	03	85	fb	80
c070	:85 fc0e	3c	03	2e	3d	03	lb
c078	: ee 3c 03	d0	03	ee	3d	03	02
c080	: 06ac 26	ad	26	fb	26	fc	f0
c088	x	06	ac	26	ad	26	fb	26	fc	f8
c090	:	38	a5	fb	ed	3c	03	a8	a5	21
c098	:	fc	ed	3d	03	90	12	85	fc	e4
c0a0	:	84	fb	ee3c	03	d0	03	ee	06
c0a8	x	3d	03	ca	d0	c5	4c	cl	c0	7b
c0b0	!	38	ad	3c	03	e9	01	8d	3c	84
c0b8	:	03	b0	03	ce	3d	03	ca	d0	67
c0c0	:	bl	6e	3d	03	6e	3c	03	60	ee
c0c8	:	ad	00	c0	8d	02	c0	4d	01	b4
c0d0	:	c0	2e	03	c0	6a	6e	03	c0	28
c0d8	:	8d	00	c0	ad	02	c0	8d	01	a9
c0e0	:	c0	60	ad	11	d0	09	20	8d	4f
c0e8	:	11	d0	ad	00	dd	8d	42	03	26
c0f0 x 29 fc 09 01 8d 00 ddad a5 c0f8 x	18	d0 8d	43	03	a9	19	8d	41
cl00 x	18	d0 60	ad	11	d0	29	df	4a
cl08 x	8d	11 d0	ad	42	03	8d	00	7a
cll0 x	dd	ad 43	03	8d	18	d0	60	93
cll8 x	a9	01 a2	00	9d	00	84	9d	12
cl20 x	00	85 9d	00	86	9d	00	87	af
cl28 x	ca	d0 fl	60	a9	a0	85	fc	92
cl30 x	a0	00 84	fb	a9	00	a2	20	d6
cl38 x91 fb c8 d0 fb e6 fc ca 93 cl40 x	d0	f6 60	a9	00	2c	a9	80	e2
cl48 x	8d	3e 03	a5	01	29	fe	85	ca
cl50 x	01	38 a9	c7	ed	41	03	aa	lb
cl58 x	4a	4a 4a	a8	b9	ab	cl	85	7a
cl60 x	fb	b9 c4	cl	85	fc	8a	29	5e
cl68 x	07	18 65	fb	85	fb	ad	3f	cl
cl70 x	03	29 f8	65	fb	85	fb	ad	2a
cl78 x	40	03 65	fc	85	fc	a9	a0	5b
cl80 x	65	fc 85	fc	ad	3f	03	29	97
cl88 x	07	49 07	aa	a9	01	ca	30	79
cl90 x	03	0a d0	fa	a0	00	2c	3e	63
cl98 x	03	10 05	49	ff	31	fb	2c	e0
cla0 x	11	fb 91	fb	a5	01	09	01	lb
cla8 X	85	01 60	00	40	80	c0	00	dl
clb0 x	40	80 c0	00	40	80	c0	00	6c
clb8 x	40	80 c0	00	40	80	c0	00	74
clc0 x	40	80 c0	00	00	01	02	03	87
clc8 x	05	06 07	08	0a	0b	0c	0d	d7
cld0 : 0f 10 11'12 14 15 16 17 de cld8 x 191a lb lc le ad 3f03 9b cle0 x	29	07 8d	48	03	ad	41	03	a2
cle8 x	29	07 0a	0a	0a	0d	48	03	89
clf0 x	aa	bd 2f	c2	cd	44	03	10	c8
clf8 x	03	4c 46	cl	4c	43	cl	20	11
c200 x c8c0 4a 4a cd 44 03 10 2f c208 x	03	4c	46	cl	4c	43	cl	ad	3c
c210 x	47	03	f0	10	ac	41	03	c8	89
c218 x	84	ad	a9	d5	85	ac	20	11	f8
c220 x	c0	8d	41	03	ad	46	03	f0	53
c22B x	03	4c	dd	cl	4c	ff	cl	00	cd
c230 x	08	35	3d	02	0a	37	3f	10	da
c238 x	18	25	2d	12	la	27	2f	31	6a
c240 x	39	04	0c	33	3b	06	0e	21	43
c248 :	29	14	lc	23	2b	16	le	03	c9
c250 f	0b	36	3e	01	09	34	3c	13	6f
c258 x	lb	26	2e	11	19	24	2c	32	fc
c260 x	3a	07	0f	30	38	05	0d	22	0c
c268 x	2a	17	lf	20	28	15	ld	a0	cb
c270 x	06	a9	d5	85	ac	b9	4c	03	41
c278 x	85	ad	20	11	c0	99	4c	03	0e
c280 x	88	88	88	10	f0	60	a0	02	09
c288 x b94a 03 48 b9 4d 03 99 75 c290 x	4a	03	68	99	4d	03	88	10	d8
c298 :	ef	60	a0	02	b9	4d	03	48	c2
c2a0 x	b9	50	03	99	4d	03	68	99	37
c2a8 x	50	03	88	10	ef	60	a2	02	2e
c2b0 x	38	ad	4d	03	ed	4a	03	ad	0b
c2b8 x	4e	03	ed	4b	03	b0	03	20	6f
c2c0 x	86	c2	ca	f0	15	38	ad	50	e2
c2c8 x	03	ed	4d	03	ad	51	03	ed	c3
c2d0 x 4e 03 b0 dc 20 9ac2 4c e2 c2d8 x	b0	c2	60	a9	02	8d	51	03	0e
c2e0 x	20	ae	c2	ad	47	03	f0	03	14
c2e8 x	20	6f	c2	20	6f	c4	ad	4a	dd
c2f0 x	03	8d	3f	03	ad	4b	03	8d	46
c2f8 x	40	03	ad	4c	03	8d	41	03	56
c300 x	ad	57	03	d0	7d	38	ad	56	31
c308 x	03	ed	5b	03	b0	74	ad	5b	55
c310 x	03	8d	65	03	8d	68	03	4e	58
c318 x	65	03	38	ad	56	03	ed	65	c3
c320 x 03 8d 65 03 c328 x 00 8d 66 03 c330 x 67 03 d0 06 c338 x 3d c3 20 46 c340 x d0 05 ee 41 c348 x 41 03 2c 66 c350 x 3f 03 d0 03 c358 x ad 65 03 ed c360 x 03 ad 66 03 c368 x 03 18 ad 65 c370 x 8d 65 03 ad C378 X 03 8d 66 03 c380 x ae 60 ad 56 c388 x 8d 68 03 ad c390 x 03 8d 69 03 c398 x 65 03 38 ad c3a0 x A03 8d 65 03 c3a8 x 03 8d 66 03 c3b0 x 06 20 43 cl c3b8 x 46 cl ee 3f c3c0 x 40 03 2c 66 c3c8 x 60 03 d0 05 c3d0 x 03 ce 41 03 c3d8 x ed 56 03 8d c3e0 x 03 ed 57 03 c3e8 x ad 65 03 6d c3f0 x 03 ad 66 03 c3f8 x 03 38 ad 68 c400 x 68 03 b0 03 c408 x 69 03 10 a0 c410 x 03 ed 54 03 c418 x03 48 ad 54 c420 x 68 8d 54 03 c428 x 41 03 20 24 c430 x cd 54 03 f0 c438 x 4c 24 c4 60 c440 x ac ad 5e 03 c448 x c0 85 fe a5 c450 x 00 85 fc ad c458 x 20 25 c0 ad c460 x 18 ad 55 03 c468 x 38 ad 55 03 c470 x ad 4d 03 ed c478 x 03 ad 4e 03 c480 x 57 03 38 ad c488 x 03 8d 58 03 c490 x ed 4a 03 8d c498 ; 8d 60 03 8d c4a0 x 03 38 ad 4f c4a8 x b0 09 ee 60 c4b0 x ed 4f 03 8d c4b8 x 52 03 ed 4f c4c0 x 61 03 ad 4f c4c8 x 8d 5c 03 38 c4d0 x 4c 03 b0 09 c4d8 x 4c 03 ed 52 c4e0 x 60 20 ae c2 c4e8 x 03 20 6f c2 c4f0 X 4a 03 8d 3f c4f8 x 8d 40 03 38 c500 x 4a 03 8d 5f c508 x f0 53 8d 5a c510 x 8d 5e 03 ad c518 x 03 ad 4c 03 c520 x 3c c4 8d 53 c528 x f0 33 8d 5a c530 x 8d 5e 03 ad c538 x 03 20 3c c4 c540 x 0d c4 ad 40 c548 x d0 08 ad 3f c550 : f0 0b ee 3f c558 x 40 03 4c fb c560 x 03 ed 4a 03 c568 x 59 03 f0 63 c570 x 5d 03 8d 5e c578 x 8d 63 03 ad c580 x 03 20 3c c4 c588 x ad 3f 03 ed c590 x 03 ad 58 03 c598 x 03 ad 5c 03 c5a0 s 61 03 8d 63 c5a8 x 8d 55 03 20 c5b0 x 03 20 0d c4 c5b8 x 51 03 d0 08 c5c0 x 50 03 f0 0b c5c8 x 03 ee 40 03 c5d0 x 64 03 f0 15 c5d8 x 9a c2 20 eb c5e0 x 20 9a c2 20 c5e8 x c2 60 a9 00 c5f0 x c0 2c 7a 03 c5f8 x 03 d0 04 8d c600 x a9 00 ed 79 c608 x ad 79 03 85 c610 x ad 20 11 c0
ad 57 03 e9 19 ee 68 03 ad 82 20 43 Cl 4c c9 cl ad 60 03 39 03 d0 03 ce d7 03 30 la ee db ee 40 03 38 13 5b 03 8d 65 05 e9 00 8d 66 d5 03 6d 56 03 8a 66 03 6d 57 09 ce 68 03 d0 la 03 8d 65 03 cd 57 03 8d 66 50 4e 66 03 6e 16 5b 03 ed 65 93 a9 00 ed 66 43 ad 67 03 d0 30 4c ba c3 20 b9 03 d0 03 ee 23 03 30 20 ad e7 ee 41 03 d0 25 38 ad 65 03 78 65 03 ad 66 55 8d 66 03 18 58 5b 03 8d 65 85 69 00 8d 66 5d 03 e9 01 8d 2e ce 69 03 2c 13 60 38 ad 53 30 b0 0e ad 53 58 03 8d 53 03 25 ad 53 03 8d 61 c2 ad 53 03 64 06 ce 53 03 30 ad 5f 03 85 c0 85 ad 20 11 23 ae 85 fd a9 al 5a 03 85 fb d3 63 03d0 08 92 65 fd 90 06 99 e5 fd 60 38 6d 4a 03 8d 56 e2 ed 4b 03 8d a6 50 03 ed 4d 8c 38 ad 50 03 01 59 03a9 00 69 61 03 8d 62 fl 03 ed 4c 03 eb 03 ad 4c 03 79 5b 03 38 ad c1 03 b0 09 ee a9 03 ed 52 03 e7 ad 52 03 ed al ee 62 03 ad 54 03 8d 5d 03 84 ad 47 03 f0 57 20 6f c4 ad lb 03 ad 4b 03 d8 ad 3f 03 ed 2a 03 ad 56 03 18 03 ad 5b 03 62 60 03 8d 63 5e 8d 55 03 20 35 03 ad 59 03 95 03 ad 5d 03 7a 62 03 8d 63 9e 8d 54 03 20 bb 03 cd 4e 03 01 03 cd 4d 03 49 03 d0 03 ee 0a c4 38 ad 3f f0 8d 5f 03 ad 88 8d 5a 03 ad fe 03 ad 62 03 ab 4c 03 8d 55 eb 8d 54 03 38 33 4d 03 8d 5f 35 f0 39 8d 5a a4 8d 5e 03 ad ld 03 ad 4f 03 33 3c c4 8d 53 6b ad 40 03 cd 24 ad 3f 03 cd 3c ee 3f 03 d0 c6 4c 5d c5 ad d5 20 eb c2 20 41 c2 20 86 c2 26 86 c2 20 eb d9 85 fc 4c 25 00 10 12 ad 82 13 44 03 60 38 64 03 8d 79 03 dc ac a9 la 85 6f 85 fe a5 ae 6e
Listing 8. MSE-Listing der Assembler-Routinen aus Listing 1 bis 5. Bitte mit dem MSE (Seite 8)eingeben.
Grafik
c618 : 85 fd ad c620 s ea c5 a5 c62B : 2c 83 03 c630 & 48 48 ad c638 s 68 8d 70 c640 i 48 ad 71 c648 : 8d 71 03 c650 s ad 72 03 c658 8 72 03 20 c660 : 81 03 38 c668 8 03 90 7d c670 s 6d 03 8d c678 s ed 6e 03 c680 s 6a 03 ed c688 s ad 6b 03 c690 s 38 ad 7+ c698 s 23 18 ad c6a0 s 8d 79 03 c6a8 s 03 8d 7a c6b0 s ad 6f 03 c6b8 s 03 20 0f c6c0 s cd 70 03 c6c8 s 03 ed 71 c6d0 s 76 03 ed c6d8 : 20 fl c5 c6e0 s 70 03 8d c6e8 s ad 81 03 c6f0 s 38 ad 7e c6f8 s 28 18 ed c700 s 8d 75 03 c708 : 03 8d 76 c710 s 6d 6c 03 c718 s 03 69 00 c720 s c6 2c 83 c728 8 03 8d 72 c730 s ad 6d 03 c738 5- 6d 03 ad c740 s 68 8d 6c c748 s 85 ac 20 c750 s a5 ae 8d c758 s 85 ac 20 c760 s 03 e5 ae c768 s 03 e5 af c770 s 03 85 ac c778 s 7b 03 e5 c780 s 03 e5 af c788 s 64 c0 0e c790 s 60 a9 00 c798 s 03 60 ad c7a0 s 03 4a 8d c7a8 s 18 6d Bf c7b0 8 8c 03 85 c7b8 : ae 8d 8a c7c0 s 03 a9 00 c7c8 8 77 03 85 c7d0 s ae 26 af C7d8 : af 85 ad c7e0 : 03 6e 3c c7e8 s 92 03 a9 c7f0 8 6e 03 8d c7f8 s 85 ac 20 c800 s a5 ae 8d c808 8 8d 87 03 c810 s 8d 6d 03 c818 s 84 03 e5 cB20 s 03 e5 af c828 8 ad 3c 03 c830 s 03 8d 70 c838 s 00 8d 83 c840 s 80 8d 83 c848 s 87 03 cd c850 s 87 03 4c c858 s cd 92 03 c860 s 4c 05 c8 c868 s 03 8d 6e c870 s 77 03 8d
77 03 85 fb 20 83 fd 8d 44 03 60 de 10 2d ad 6c 03 dl 70 03 8d 6c 03 6a 03 ad 6d 03 48 c6 03 8d 6d 03 68 3d ad 6e 03 48 48 b5 8d 6e 03 68 8d 65 45 c7 a9 01 8d e5 ad 7d 03 cd 6c 27 38 ad 3c 03 ed be 75 03 ad 3d 03 09 8d 76 03 38 ad cb 6c03 8d 3f 03 14 e9 00 8d 40 03 5c 03 cd 70 03 90 6d 75 03 6d 71 03 49 ad 76 03 6d 72 7a 03 20 fl c5 18 4a 6d 70038d 41 5b c2 38 ad 80 03 e0 90 23 38 ad 75 2e 03 8d 79 03 ad 8b 72 03 8d 7a 03 le 38 ad 6f 03 ed a7 41 03 20 0f c2 50 f0 34 ce 81 03 fa 03 cd 6c 03 90 6c 3c 03 6d 6d 03 77 ad 3d 03 6d 6e 3d 03 18 ad 6a 03 6e 8d 3f 03 ad 6b bf 8d 40 03 4c 90 f0 03 10 le ad 6e c3 03 68 8d 6e 03 a2 8d 71 03 68 8d f2 6c 03 8d 70 03 84 03 60 ad 77 03 42 04 c0 8d 7c 03 lc 7b 03 ad 6d 03 78 04 c0 38 ad 7b 37 8d 7b 03 ad 7c 33 8d 7c 03 ad 71	75
20 04 c0 38 ad e7 ae 85 ac ad 7c 31 85 ad 30 0a 20 d7 3c 03 2e 3d 03 f4 8d 3c 03 8d 3d 03 8e 03 38 ed 8f dl 8c 03 8d 77 03 3e 03 8d 8d 03 ad 68 ac 20 04 c0 a5 25 03 a5 af 8d 8b 55 8d 86 03 60 ad a7 ac 20 04 c0 06 e9 a5 ae 85 ac a5 47 20 64 c0 4e 3d b9 03 ad 3c 03 8d 6e 00 8d 86 03 8d 9a 72 03 ad 77 03	13
04 c0 8d 85 03 fl 84 03 ad 86 03 ae 85 ac 8d 6c 03 b9 20 04 c0 38 ad 9b ae 85 ac ad 85 ec 85 ad 20 64 c0 al 8d 88 03 ad 87 cc 03 8d 71 03 a9 3a 03 20 2B c6 a9 f2 03 20 28 c6 ad 82 88 03 f0 06 ee 83 2e c8 ad 86 03 4c f0 06 ee 86 03 45 60 a9 00 8d 6d 19 03 8d 72 03 ad 02 70 03 ad 89 03 a4
c878 : 8d 6c 03 ad c880 : 03 20 28 c6 c888 : f8 ce 70 03 c890 : 9a c7 a9 00 c898 : 72 03 ad 86 c8a0 : 8d 6d 03 85 c8a8 : 38 ad 8a 03 c8b0 : ad 8b 03 e5 c8b8 & 64 c0 ad 3c c8c0 : 18 6d 8d 03 c8c8 : 00 8d 87 03 c8d0 : 70 03 85 ad c8d8 s ac 20 11 c0 c8e0 : 85 fd ad 88 c8e8 : ea c5 a5 fd c8f0 : 28 c6 ad 87 c8f8: f0 06ee 87 c900 : ad 86 03 cd c908 s ee 86 03 4c c910 : 9a c7 ad 8e c918 : 04 c0 06 ae c920 : 85 ac a5 af c928 : c0 4e 3d 03 c930 : 3c 03 8d 92 c938 : 8d 6c 03 85 c940 : 8d 91 03 a5 c948 : ad 8e 03 85 c950 : 38 a5 ae ed c958 a a5 af ed 91 c960 a 64 c0 ad 3c c968 a 38 ad 8f 03 c970 a 23 ad 8f 03 c978 a c0 38 a5 ae c980 s ac a5 af ed c988 s 20 64 c0 ad c990 s 03 4c 9a c9 c998 8 87 03 ad 87 c9a0 a 85 ac 20 04 c9a8 8 6d 90 03 85 c9b0 8 91 03 85 ad c9b8 a 3c 03 8d 89 c9c0 a 86 03 85 ad c9c8 s ac 20 11 c0 c9d0s 85 fd 20ea c9d8 s 03 e5 fd 8d c9e0 s e5 fe 8d 6e c9e8 s 85 ad ad 8d c9f0 s 11 c0 85 fe c9f8 s' ad 89 03 85 ca00 s 38 ad 87 03 ca08 s 03 a9 00 8d cal0 s 8d 72 03 20 cal8 s 8d 83 03 20 ca20 s 03 cd 88 03 ca28 8 03 4c 9a c9 ca30 s 92 03 f0 06 ca38 s 35 c9 60 20 ca40 s 03 8d 6c 03 ca48 s 00 ed 86 03 ca50 s 00 e9 00 8d ca58 8 c0 38 ad 8a ca60 s ac ad 8b 03 ca68 : 20 64 c0 38 cb70 s 3c 03 8d 88 ca78 a 87 03 ad 87 ca80 s 85 ad ad 8d ca88 s 11 c0 85 fe ca90 8 ad 88 03 85 ca98 8 a5 fd 38 ed caa0 s 03 a5 fe e9 caa8 : 20 28 c6 ad cab0 : 03 f0 06 ee cab8 s ca ad 86 03 cac0 s 06 ee 86 03 cac8 : 20 fd ae 20 cad0 : bl 60 a9 2c
70 03 8d 71 ea ce 6c 03 10 f3 10 e7 60 20 66 8d 6e 03 8d ec 03 8d 6c 03 lc ac 20 04 c0 b3 e5 ae 85 ac fd af 85 ad 20 be 03 8d 8903 38 8d 88 03 a9 cf ad 87 03 8d 0f ad 89 03 85	17
85 fe aS ae 35 03 85 fb 20 6d 8d 71 03 20 8f 03 cd 88 03 9e 03 4c cc c8 ef 8c 03 f0 06 lc 9a c8 60 20 35 03 85 ac 20 la 26 af a5 ae a8 85 ad 20 64 6a 6e 3c 03 ad ef 03 ad 86 03 61 ac 20 04 c0 ca ae 8d 90 03 ab ac 20 04 c0 0b 90 03 85 ac 55 03 85 ad 20 d6 03 8d 88 03 dc ed 86 03 90 fb 85 ac 20 04 f4 ed 90 03 85 0e 91 03 85 ad 4b 3c 03 8d 87 el ad 86 03 8d cf 03 8d 70 03 61 c0 18 a5 ae c5 ac a5 af 6d 60 20 64 c0 ad 5d 03 85 fb ad b2 ad 8d 03 85 3d 85 fe a5 ae 25 c5 38 ad 86 9b 6d 03 a9 00 94 03 ad 87 03 37 03 85 ac 20 b0 a5 ae 85 fd 84 fb 20 ea c5 d3 e5 fd 8d 71 b8 83 03 e5 fe 77 28 c6 a9 80 fc 28 c6 ad 87 äa f0 06 ee 87 96 ad 86 03 cd e8 ee 86 03 4c 08 9a c7 ad 86 la 85 ac 38 a9 77 8d 6d 03 a9 e4 6e 03 20 04 7e 03 e5 ae 85	16
e5 af 85 ad 73 ad 8d 03 ed 21 03 a9 00 8d 3b 03 8d 70 03 41 03 85 ac 20 48 a5 ae 85 fd lc fb 20 ea c5 eb 87 03 8d 71 bl 00 8d 72 03 af 87 03 cd 88 lc 87 03 4c 7a 41 cd 8c 03 f0 8a 4c3e ca 60 e2 9e ad 20 aa c4 a0 00 84 fb b5
cad8 : dl 7a d0 03 4c 73 00 a0 cae0 : 80 84 fb 6020 d2 ca 24 cae8 : fb 30 0f 20 9e ad 20 aa caf0 :bl 8c 8f 03 20 c8ca 8c caf8 : 8e 03 60 20 c8 ca 8c 6a cb00 : 03 8d 6b 03 20 c8 ca 8c cb08 : 6f 03 60 20 d2 ca 24 fb cbl0 ; 30 07 20 9e ad20 aa bl cbl8 ; 2c a0 00 8c 35cl 4c 2c cb20 : cl 20 d2 ca 24 fb 30 07 cb28 : 20 9e ad 20 aa b1 2c a0 cb30 s 01 8c 19 cl 4c 18 cl a9 cb38 : 00 2c a9 80 8d 3e 03 20 cb40 : c8 ca 8c 3f 03 8d 40 03 cb48 : 20 c8 ca 8c 41 03 4c 4b cb50 : cl a9 00 2c a9 80 8d 93 cb58 :03 20 c8 ca 8c 4a 03 8d cb60 : 4b 03 20 c8 ca 8c 4c 03 cb68 s 20 c8 ca 8c 4d 03 8d 4e cb70 s 03 20 c8 ca 8c 4f 03 2c cb78 s 93 03 10 18 20 c8 ca 8c cb80 :50 03 8d 51 03 20c8 ca cb88 : 8c 52 03 20 c8 ca 8c 44 cb90 : 03 4c el c4 4c db c2 20 cb98 : fb ca 20 d2 ca 24 fb 30 cba0 : 09 20 9e ad 20aa bl 8c cba8 : 77 03 4c c7 c7 20 fb ca cbb0 : 20e4 ca4c 0f c9 a9 80 cbb8 : 2c a9 00 8d 83 03 20 fb cbc0 : ca 20 d2 ca 24 fb 30 0f cbc8 : 20 9e ad 20 aa bl 8c 77 cbd0 : 03 20 c8 ca 8c 89 03 4c cbd8 : 64 c8 a9 80 2c a9 00 8d cbe0 : 83 03 20 fb ca 20 e4 ca cbe8 s 4c 8f c8 a9 80 2c a9 00 cbf0 : 8d 83 03 20 fb ca 20 e4 cbf8 £ ca 4c 3b ca ff 00 ff 00
lc b9 f0 b8 0e 92 21 8a 11 f0 31 d6 e0 lc 04 67 39 96 f0 b6 21 c9 a0 b9 79 4e b0 65 33 a9 00 28 46 43 73 64 10
Listing 8. MSE-Listing der Assembler-Routinen aus Listing 1 bis 5 (Schluß)
programm : sort/write	cf59 cffd
cf59	:	a0	ff	c8	98	91	fb	c5	8c	67
cf61	£	d0	f8	85	ad	a5	ad	85	ac	fc
cf69 £ a2 0086 61 86 ae 86 64 9a cf71	:	8a	a8	bl	fb	0a	90	04	c6	fe
cf79	£	61	e6	fe	a8	bl	fd	48	c8	e0
cf81: bl fd 24 61 10 04e6 61 e6 cf89	:	c6	fe	e4	64	d0	08	85	62	bc
cf91	£	68	85	63	e8	d0	da	c5	62	71
cf99	:	68	e5	63	50	02	49	80	10	63
cfal	£	13	8a	a8	86	ad	bl	fb	48	dd
cfa9	£	88	bl	fb	c8	91	fb	68	88	cd
cfbl	£	91	fb	e6	ae	e4	ac	d0	b6	34
cfb9	:	a5	ae	d0	a8	a6	8c	e8	ca	06
cfCl £ 8a a8 bl*fb 48 8a0a 09 9e cfc9	:	01	90	04	e6	61	e6	fc	a8	83
cfdl	:	68	91	fb	a9	00	88	91	fb	b8
cfd9	:	a5	61	f0	04	c6	61	c6	fc	78
cfel	:	8a	d0	dc	60	a5	01	29	fe	lb
cfe9	:	85	01	a0	07	bl	fd	31	fb	c0
cffl :91 fb 88 10 f7 a5 01 09 67 cff9 : 01 85 01 60 00 ff00 00 09
Listing 9. MSE-Llsting der Assembler-Routinen aus Listing 6 und 7. .
Bitte mit dem MSE (Seite 8) eingeben.
10 REM	SHAPES DEMO	<146>
20 :		<252>
30 REM	RICHARD L. RYLANDER	11/23/84		
(REVISED	1/20/85 TO ADD LABELING)	<130>
40 s		<016>
50 GR=49378	sREM GRAPHIK MODUS	<165>
60 TX=49411	sREM TEXT MODUS	<103>
70 s		<046>
80 LB=893	sREM LINKE GRENZE	<252>
90 RB=894	:REM RECHTE GRENZE	<206>
100 UB=895	s REM OBERE GRENZE	<090>
110 DB=896	sREM UNTERE GRENZE	<046>
120 s		<096>
130 REM FLAGS FUER VERSCHIEDENE GRAFIKMO		
DI		<107>
140 s		<116>
150 SH=838	sREM SCHATTIERUNG: 0=RANDOM	
, l=HALBTON		<252>
160 SC=839	sREM SKALIERUNGs0=NORMAL (1	
:1>, l=SKAL. (4s3> FUERDARSTELLUNG <024>
170 LT=898		sREMLICHTEINFALL: 0=NORMAL		
	, l=VON I	HINTEN BELEUCHTET		<033>
180				<156>
190	BO=53280	:REM	RAHMENFARBE	<186>
200				<176>
210 220	REM	FUNKTIONSADRESSEN			<104> <196>
230	CL=51979 N	sREM	BITMAP BEREICH LOESCHE	<221>
240 250	CO=52001	sREM	COLORBEREICH FUELLEN	<013> <226>
260	SP=52119	:REM	SPHERE	<160>
270	TR=52141	sREM	RING VON OBEN	<108>
280	VC=52150 CHSE)	sREM	ZYLINDER (VERTIKALE A	<011>
290	HC=52153 ACHSE)	sREM	ZYLINDER (HORIZONTALE	<167>
Listing 10. Demo-Programm »Shapes«
Grafik
300 VT=52186 sREM RINGSCHNITT (VERTIKAL		
	E ACHSE)	<216>
310 320 330 340	HT=52189 :REM RINGSCHNITT (AXIS HOR IZONTALE ACHSE) VS=52203	sREM SPULE (VERTIKALE ACHS E) HS=52206	sREM SPULE (HORIZONTALE AC HSE)	<199> <241> <064> <062>
350	REM EINZELNE SHAPES ZEICHNEN	<124>
360		<082>
370	POKE SH,1 sREM HALBTONSCHATTIERUNG	<066>
380	POKE SC,1 :REM SKALIERUNG	<121>
390	POKE LT,0 sREM NORMALBELEUCHTUNG	<217>
400	SYS(CL)	sREM BILDSCHIRM LOESCHEN	<077>
410 414	SYS(C0),17*ll+l :REM FARBKOMBINATION - DUNKELGRAU (11) WEISSE PUNKTE (1) REM AUF DEN MEISTEN FARBMONITOREN	<245> <150>
420	POKE BO,1 :REM WEISSER RAHMEN	<041>
430	SYS(GR)	sREM GRAFIK EINSCHALTEN	<023>
432 434 440 450	RW=12sCM=14:MD=1:A$="SHAPES DEMO”:GOSU B 1900:REM TITEL X1 = 110:Y1=120:X2=210sY2=120sBC=lsDC=7s GOSUB 1700:REM COLOR TITEL POKE LB,38sPQKE RB,38:P0KE UB,38:POKE DB,38	sREM SHAPEFENSTER SYS(SP),40,199,38	<207> <190> <107> <129>
455	RW=9:CM=2:MD=1sA$="KUGEL"sGOSUB 1900	<102>
460	SYS(HC),120,199,38,38	<152>
465	CM=118 A$=”H-ZYLND.":GOSUB 1900	<250>
470 475	SYS(VC),200,199 :REM VOREINGESTELLTE P ARAMETER WERDEN BENUTZT CM=21sA$="V-ZYLIND.”3 GOSUB 1900	<229> <117>
480	SYS(TR),280,199,15,38	<084>
485	CM=32:AS®"<2SPACE>RING”s GOSUB 1900	<122>
490	SYS(VT),40,64	<046>
495	RW=23sCM=1s A$="H-RING"s GOSUB 1900	<205>
500	SYS(HT),120,64	<190>
505	CM=llsA$="V-RING"sGOSUB 1900	<155>
510	SYS(HS),200,64,5,100	<025>
515	CM=228 AS®"H-SPULE”s GOSUB 1900	<000>
520	SYS(VS),280,64	<162>
525	CM=32sA$="V-SPULE"sG0SUB 1900	<011>
530	POKE 198,0sWAIT 198,l:P0KE 198,0	<125>
540	REM AUF TASTE WARTEN	<103>
550		<018>
560 570	REM ZWEI "POKALE”, EINER MIT HALBTON-, DER ANDERE MIT "RANDOM"-SCHATTIERUNG	<170> <038>
580	SYS(CL)sSYS(CO),16*11+1	<084>
582 584 586 590 600	RW=14sCM=14sA$®”VERGLEICH”8 GOSUB 19008 RW=15sCM=16sA$="ZWEIER"sG0SUB 1900 RW=16:CM=12s AS="SCHATTIERUNGEN"sGOSUB 1900:RW=18:CM=14:AS=”<— HALBTON” GOSUB 1900sRW=20sCM=15sA*="RANDOM —>" sGOSUB 1900 POKE LB,255:P0KE RB,255sP0KE UB,49sP0K E DB,255s REM AN DEN OBEREN RAND SYS(SP),80,190,80	<228> <162> <217> <229> <119>
610 620	POKE UB,51:P0KE DB,51s REM WEITERN SPR ITE-TEIL ANHAENGEN SYS(VS),80,69,10,130	<217> <170>
630	POKE DB,9sPOKE UB,8	<060>
640	SYS(VT),80,9,25,45	<168>
650 660 670	POKE SH,0 :REM AUF RANDOM SCHATTIERUN G UMSCHALTEN POKE LB,255sPQKE RB,255:P0KE UB,49sPOK E DB,255 SYS(SP),240,190,80	<228> <013> <171>
680	POKE UB,51:P0KE DB,51	<130>
690	SYS(VS),240,69,10,130	<112>
700	POKE DB,9sP0KE UB,8	<130>
710	SYS(VT),240,9,25,45	<053>
720	POKE 198,0sWAIT 198,lsP0KE 198,0	<059>
740		<208>
750	REM ZEICHNE "WEIN” SZENE	<144>
760	POKE LT,1 sREM HINTERGRUNGBELEUCHTUNG	<070>
770 780 790	POKE SH,1 sREM HALBTONSCHATTIERUNG FUE R FLASCHENETIKETT SYS(C0)sSYS(CL),255s REM BITMAP FUELLE N POKE BO,0 s REM SCHWARZER HINTERGRUND	<239> <021> <066>
792 794 796	RW=0:CM=0sMD=2sAS="ZEICHENEN MIT”8GOSU B 1900s RW=18 CM=0s AS=”RUECKBELEUCHTUNG” GOSUB 1900sRW=2sCM=0sA$="GEGEN GESETZT EN"sGOSUB 1900 RW=3:CM=0:A$®”HINTERGRUND”8 GOSUB 1900	<050> <034> <169>
798	RW=lsCM=26sAS="FARBEN WERDEN”sGOSUB 19 00	<210>
800 RW=2 s CM=26s AS®”NACHGEZEICHNET"s GOSUB 1		
	’00	<060>
810 REM ZEICHNE FLASCHE 820 POKE UB,0:POKE DB,255sP0KE LB,255:P0KE		<187>
	RB,255	<087>
830 SYS(VT),150,10,30,50		<164>
840 POKE UB,255sSYS(VC),150,70,50,60		<113>
850 POKE DB,0:SYS(VT),150,130,6,50 860 POKE DB,55:P0KE UB,0:SYS(VS),150,204,1		<053>
	i,181	<063>
870 POKE UB,255sSYS(VC),150,221,16,17		<164>
880 s		<094>
890 REM ZEICHENE WEINGLAS		<127>
900 POKE UB,20sSYS(SP),80,120,60 910 POKE UB,35:P0KE DB,34sSYS(VS),80,34,10		<235>
	,110	<183>
920 s		<134>
930 REM ZEICHENT EIN PAAR TRAUBEN		<156>
940 SYS(SP),8,8,8: 950 SYS(SP),20,8sSYS(SP),40,8:SYS(SP),12,2		<167>
C	):SYS(SP),30,20:SYS(SP),25,16	<139>
960 s		<174>
970 REM ZEICHNET APFEL BESTEHEND AUS 2 RIN		
GEN UND EINEM KUGELFRAGMENT		<133>
980 POKE UB,255sP0KE DB,255sP0KE LB,255sP0		
KE RB,59		<012>
990 SYS(VT),260,29,0,50sSYS(VT),260,79		<217>
1000	POKE UB,43:P0KE DB,43:SYS(SP),260,54, 60	<014>
1010	REM APFELSTIEL ZEICHNEN	<236>
1020	POKE RB,0sPOKE DB,0sSYS(TR),272,104,l 0,15	<173>
1030	REM BLATT ZEICHNEN	<113>
1040	POKE DB,255sP0KE RB,0:SYS(SP),256,119 ,15	<165>
1050	REM "RANDOM”-SCHATTIERTES ETTIKETT H INZUFUEGEN !	<191>
1060	POKE UB,255:P0KE RB,255:P0KE LB,6	<010>
» 1070	POKE SH,0sSYS(VC),150,72,50,48	<225>
1080		<040>
1090	REM BILD NACHCOLORIEREN	<148>
1100	SYS(CO),12	<033>
1110	Xl=200s Y1 = 1s X2=315:Y2=100s DC=0:BC=2:G OSUB 1700	<145>
1120	X1=240s Y1 = 110 s X2=255s Y2=150 s BC=5 s GOSU B 1700	<229>
1130	Xl=260sYl=110sX2=270s Y2=135s BC=9:GOSU B 1700	<055>
1140	X1=1s Y1 = 1s X2=48fc Y2=30s BC=4s GOSUB 1700	<007>
1150	X1 = 140 s Y1=205s X2=180 s Y2=235s BC=7sGOSU B 1700	<228>
1160	Xl=145sYl=25sX2=195sY2=115sBC=6sG0SUB	
	1700	<234>
1170	POKE 198,0sWAIT 198,lsP0KE 198,0	<001>
1190		<150>
1200	REM "KAFFEE UND PLAETZCHEN"	<110>
1210	POKE SH,0 sREM RANDOM-SCHATTIERUNG FU ER PLAETZCHEN	<230>
1220	SYS(CO),16*ll+lsSYS(CL):POKE BO,1	<084>
1230	POKE LB,255sP0KE RB,255sPOKE UB,255:P OKE DB,255 sREM KEIN SHAPE-FENSTER	<040>
1240	SYS(VT),60,20,20,60	<069>
1250	POKE RB,29sSYS(VT),99,60sPOKE RB,255	<198>
1260	SYS(TR),188,180	<166>
1270	REM HALBTONSCHATTIERTE KAFFEETASSE HI NZUFUEGEN.	<239>
1280	POKE SH,lsPOKE UB,0sSYS(VT),188,20;PO KE UB,255	<251>
1290	POKE DB,0sSYS(TR),278,110,20,40	<210>
1300	POKE DB,255sP0KE UB,0sPOKE LB,0	<140>
1310	SYS(TR),248,90,50,70sROKE LB,255sSYS(	
	SP),248,110,10sPOKE UB,255	<160>
1320	SYS(VC),308,100,10,10	<246>
1330	SYS(VC),188,77,60,57	<154>
1340	POKE DB,0sSYS(VT),188,134,40,60	<050>
1360	SYS(C0),l+16*9 sREM l=WEISSER HINTERG RUND, 9=BRAUNE PUNKTE	<067>
1370	Xl = 130s Y1=1s X2=319s Y2=136s BC=1:DC=5s G OSUB 1700	<009>
1380	Xl=250sYl=144:X2=319sY2=144:GOSUB 170 0	<161>
1390	POKE 198,0:WAIT 198,lsP0KE 198,0	<223>
1410		<116>
1420	REM ZEICHNE "VERBUNDENE" RINGE DURCH	
	UEBERLAPPUNG DER FENSTER	<138>
1430	POKE LT,0 sREM BLAUE PUNKTE AUF WEISS ,KElNE HINTERGRUNDBELEUTUNG	<041>
1440
SYS(CL)sSYS(C0),l+16*6s REM l=WEISSER
Listing 10. Demo-Programm »Shapes« (Fortsetzung)
106
Grafik
1450
1460
1470
1480
1490
1500
1510
1520
1530
1540
1550
1560
1570
1580
1590
1600
1610
1620
1630
1640
1650
1660
1690
1700
1710
1720
1730
1740
1750
1760
1770
1780
1790
1800
1810
1820
1830
1840
1850
1860
1870
1880
1890
1900
1910
1920
1930
1940
1950
1960
1970
1980
1990
2000
2010
.2020
2030
INTERGRUND, 6=BLAUE PUNKTE	<255>
POKE UB,255:P0KE DB,255:P0KE LB,255:P
OKE RB,255: REM KEINE FENSTER	<058>
POKE SH,0 :REM ZUFAELLIGE SCHATTIERU
NG	<096>
SYS(TR),244,84,48,70	<088>
SYS(TR),160,84:SYS(TR),76,84	<109>
SYS(TR),118,156:SYS(TR),202,156	<163>
REM UEBERLAPPENDE ZONEN HINZUFUEGEN <129>
POKE RB,0:POKE DB,0:SYS(TR),160,84:PO
KE RB,255:P0KE LB,0	<127>
SYS(TR),76,84:P0KE DB,255:P0KE UB,0:S
YS(TR),118,156	<198>
POKE LB,255:P0KE RB,0:SYS(TR),202,156
:POKE LB,27	<081>
POKE DB,0:POKE UB,255:SYS(TR),160,84	<152>
POKE DB,0:POKE UB,255:SYS(TR),160,84 <162> POKE LB,255:P0KE UB,27:SYS(TR),244,84 <171>
POKE LB,0:POKE RB,27:P0KE UB,255:SYS(
TR),244,84	<180>
POKE 198,0	<220>
GET A^:IF Af= ”" THEN 1590	<184>
SYS(TX):POKE B0,14:REM RUECKKEHR ZUM
TEXTMODUS	<239>
END	<088>
<072> REM UNTERPROGRAMM ZU NACHCOLORIEREN V ERSCHIEDENER ZONEN	<233>
REM ACHTUNG: ES KANN JEWEILS NUR EINE
RECHTECKIGE1 FLAECHE	<232>
REM VON 8X8 PUNKTEN EINGEFAERBT WERDE N !!	<088>
REM (Xl,Yl)=UNTERER LINKER PUNKT, (X2 ,Y2)=0BERER RECHTER PUNKT	<235>
REM DIE Y-KOORDINATEN MUESSEN "UNSKAL LIERT" SEIN. FALLS SCALE-FLAG GESETZT :	<223>
IF PEEK(SC)THEN Yl=(Yl+l)*213/256:Y2= (Y2+1)*213/256	<168 >
REM UEBERGABEVARIABLE	IST CC.	<236>
REM CC=16*DC + BC CDC=PUNKT FARBE, BC = HINTERGRUNDFARBEI	<037>
CC=16*DC+BC	<227>
FOR IX=INT(Xl/8) TO INT(X2/8)	<033>
FOR IY=INT(Yl/8) TO INT(Y2/8)	<061>
POKE 34752+IX-40*IY,CC	<092>
NEXT:NEXT:RETURN	<227>
:	<232>
REM "TEXT"-UNTERROUTINE ERMOEGLICHT E INFUEGEN VON TEXT IN DIE BILDER.	<076>
REM "RW" UND "CM" SIND DIE ZEILEN(0-2 4) UND SPALTEN(0-39) KOORDINATEN DES <040> REM ERSTEN BUCHSTABEN DES ZU DRUCKEND EN TEXTSTRINGS.	<249>
REM' UEBERGABEVARIABLE FUER TEXT IST A $	<073>
REM "MD" ZEIGT DEN DRUCKMODUS	AN:	<133>
REM 1 - NORMAL ("SCHWARZE" BUCHSTABE N AUF "WEISSEM" HINTERGRUND)	<206>
REM 2 - INVERSE ("WEISSE" BUCHSTABEN
AUF "SCHWARZEM" HINTERGRUND)	<103>
REM 3 - BUCHSTABEN WERDEN MIT LOGISC HEM ODER MIT HINTERGRUND VERKNUEPFT. <191> REM 4 - BUCHSTABEN WERDEN MIT LOGISC HEM UND MIT HINTERGRUND VERKNUEPFT. <070> REM 5 - BUCHSTABEN WERDEN MIT LOGISC HEM EXOR MIT HINTERGRUND VERKNUEPFT. <111> :	<088>
SB=40952:TB=54272:IF(MD AND l)THEN TB =53248:REM BASISADRESSEN	< 044 >
OS=320*RW+8*CM:REM ADRESSE DES ZEICH
ENGENERATORS	<111>
POKE 56334,PEEK(56334)AND 254:REM DIS
ABLE IRQ TIMER	<136>
POKE l,PEEK(l)AND 251:REM CHARACTER R
OM EINSCHALTEN	<066>
L=LEN(A^):FOR N=1 TO L:N8=N*8+0S+SB	<068>
X=ASC(MID$(A$,N,l)):IF X>63 THEN X=X-64	<107>
TC=TB+8*X	<173 >
ON MD GOTO 1980,1980,1990,2000,2010	<120>
POKE 53231,36:G0T0	2020	<028>
POKE 53231,17:G0T0	2020	<038>
POKE 53231,49:G0T0	2020	<062>
POKE 53231,81	<044>
POKE 252,N8/256:P0KE 251,N8-256*INT(N 8/256)	<137>
POKE 254,TC/256:P0KE 253,TC-256*INT(T
C/256)	<136>
2040 SYS(53221):NEXT	<158>
2050 POKE l,PEEK(l)OR 4:P0KE 56334,PEEK(56 334)0R l:REM NORMAL	SCHALTEN	<136>
2060 RETURN	<086>
© 64'er
Listing 10. Demo-Programm »Shapes« (Schluß)
10 REM "STELLATION"
20 REM BY RICHARD L. RYLANDER 12/5/84 30 :
40 GR=49378	:REM	GRAPHIK MODUS
50 TX=49411	:REM	TEXT MODUS
60 BO=53280	:REM	RAHMENFARBE
70 :
80 REM STYLE PARAMETERS
90 POKE 839,1 :REM SKALIERUNG (3:4)
100 POKE 871,0 :REM FACETTENRAENDER (0=NAC HZEICHNEN, 1=LOESCHEN)
110 SH=838	:REM SCHATTIERUNG (0=RANDOM
, l=HALBTON)
120 EG=868	:REM RANDFLAG (0=NORMAL, 1=
LINIEN AM RAND HINZUFUEGEN)
130 :
140 REM FUNKTIONS	ADRESSEN
150 CL=51979	:REM	BITMAP LOESCHEN
160 CO=52001	:REM	COLOR MAP FUELLEN
170 FC=52052	:REM	SCHATTIERTE FACETTEN Z
EICHNEN
180 KS=53081 :REM SORTIERROUTINE
190 :
200 XC=160:YC=120 :REM ZENTRIERUNGSKOORDI NATEN
210 :
220 PRINT"<CLR>*************************** ************"
230 PRINT"* KLEINER STERNFOERMIGER DODEKAH EDRON *"
240 PRINT"******************************** *******"
250 PRINT"<2D0WN,SPACE>SCHATTIERUNG:"
260 PRINT" R=RANDOM, H=HALBTON"
270 INPUT"<DOWN,SPACElIHRE WAHL<5SPACE>H<3 LEFT>";A^
280 POKE SH,0:IF A$="H" THEN POKE SH,1
290 PRINT"<2D0WN,SPACE>RAND-STIL :"
300 PRINT"CDOWN,SPACE>N - NORMAL":PRINT"<D OWN,SPACE>E - ECKENBETONUNG"
310 PRINT"<DOWN,SPACE>W - DRAHTGITTER"
320 INPUT"<DOWN,SPACE >IHRE WAHL{5SPACE >N <3 LEFT>";A$
330 POKE EG,0:WI=0:IF A^="N" THEN 360
340 POKE EG,l:IF A^="W" THEN WI=-1
350 :
360 PRINT"<DOWN,SPACE>LESE SCHEITEL DATEN"
370 VN=32:DIM P7.(VN-l,2)
380 FOR N=0 TO VN-l:READ P7.(N,0),P7.(N,l),P
7.(N,2):NEXT
390 :
400 PRINT"<DOWN,SPACE>GEBEN SIE X, Y, UND Z WINKEL EIN"
410 PRINT"<7SPACE>(WINKEL IN GRAD)"
420 INPUT X,Y,Z
430 J=3.14159265/180:X=X*J:Y=Y*J:Z=Z*J
440 X0=COS(Y)*COS(Z)-SIN(X)*SIN(Y)*SIN(Z): Xl=COS(Y)*SIN(Z)+SIN(X)*SIN(Y)*COS(Z)
450 X2=-C0S(X)*SIN(Y):Y0=-COS(X)*SIN(Z):Y1 =C0S(X)*C0S(A):Y2=SIN(X)
460 Z0=SIN(Y)*COS(Z)+SIN(X)*COS(Y)*SIN(Z)
470 Zl=SIN(Y)*SIN(Z)-SIN(X)*COS(Y)*COS(Z): Z2=C0S(X)*C0S(Y)
480 PRINT"<DOWN,SPACE >ROTATIGNSBERECHNUNG"
490 FOR N=0 TO VN-1
500 X=P7.(N,0):Y=P7.(N,1) :Z=P7.(N,2)
510 P7.(N,0)=X0*X+Xl*Y+X2*Z:P7.(N,l)=Y0*X+Yl *Y+Y2*Z: P7. (N,2) =Z0*X+Zl*Y+Z2*Z : NEXT
520 :
530 FA=60: REM ANZAHL DER FACETTEN
540 DIM F7.(FA/2,2),SH(FA/2),Z7.(FA/2),K7.(FA /2)
550 PRINT" LESE VERBINDUNGSDATEN<14SPACE>"
560 VF=-1: REM VF = ANZAHL DER SICHTBAREN FACETTEN
570 FOR N=1 TO FA
580 VF=VF+1
590 FOR 1=0 TO 2 :READ F7.(VF,I):NEXT
<061> <185> <006> <155>
<093>
<056>
<046>
<157> <047>
<086>
<162>
<058> <106> <034>
<242> <112>
<124> <231>
<166>
<164> <186>
<253>
<133>
<024> <037>
<001>
<001>
<206>
<230>
<196>
<251>
<243>
<101>
<252>
<072>
<003>
<088>
<242>
<112>
<080>
<102>
<163>
<104>
<148>
<074>
<138>
<250>
<202>
<082>
<027>
<136>
<244>
<201>
<099>
<089>
<057>
<148>
<223>
<042>
Listing 11. Demo-Programm »Stellation«
107
Grafik
600
610
620
630
640
650
660
670
680
690
700
710
720
730
740
750
760
770
780
790
800
810
820
830
840
850
860
870
880
890
900
910
920
930
940
950
960
REM BERECHNUNG DER NORMALENVEKTOREN <118> Z=(PX(FX(VF,2) ,0)-PX(FX(VF,l) ,0))*(PX(
FX(VF,0) ,1)-PX(FX(VF,1) ,1))	<150>
Z=Z-(PX(FX(VF,0),0)-PX(FX(VF,l),0))*(P
X(FX(VF,2) ,1)-PX(FX(VF,1) ,1))	<141>
IF Z=<0 THEN 720:REM FACETTE NICHT SI
CHTBAR	<009>
X= (PX ( FX ( VF , 2 ) , 1 )-PX( FX ( VF , 1) , 1) ) * ( P7. ( FX(VF,0) ,2)-PX(FX(VF,l) ,2) )	<178>
X=X-(PX(FX(VF,0) ,1)-PX(FX(VF,1) ,1) )*(P X(FX(VF,2),2)-PX(FX(VF,l)»2))	<155>
Y=(PX(FX(VF,2) ,2)-PX(FX(VF,l) ,2))*(PX(
F7.(VF,0) ,0)-PX(FX(VF,.l),0) )	<199>
Y=Y-(PX(FX(VF,0) ,2)-PX(FX(VF,l) ,2))*(P
7. (FX(VF,2) ,0) -P7. (FX (VF, 1) ,0) )	< 183>
NC=SQR(X*X+Y*Y+Z*Z)sREM LAENGE DES NO
RMALENVEKTORS	<068>
SH(VF)=26*(2*Z+X+Y)/NC	<114>
SH(VF)=(SH(VF)+64)*(SH(VF)+64)/256:REM
SCHATTIERUNG	<177>
GOTO730	<226>
VF=VF-1	<235>
NEXT	<232>
8	<208>
PRINT“ BERECHNUNG DER DARSTELLUNGSGROE
SSE“	<140>
Y=0:FOR N=0 TO VN-l:IF ABS(PX(N,l))>Y
THEN Y=ABS(PX(N,1))	<190>
NEXT:S=119/Y	<075>
FOR N=0 TO VN-l:PX(N,l)=S*PX(N,l)+YC:P
X(N,0)=S*PX(N,0)+XC:NEXT	<130>
:	<004>
:	<119>
FOR N=0 TO VF	<115>
ZX(N)=(PX(FX(N,0),2)+PX(FX(N,l),2)+PX(
FX(N,2),2))/3:NEXT	<060>
s	<044>
PRINT" SORTIERUNG DER FACETTEN“	<010>
POKE 140,VF	<004>
KX(0)=KX(0):POKE 251,PEEK(71):P0KE 252 ,PEEK(72)	<154>
ZX(0)=ZX(0);POKE 253,PEEK(71)sP0KE 254
,PEEK(72)	<019>
SYS(KS)	<153>
:	<104>
REM ZEICHNE FACETTEN	<002>
SYS(GR)sSYS(CO):SYS(CL):POKE BO,1	<168>
FOR N=0 TO VF:FA=KX(N)	<009>
IF WI THEN SH(FA)=64	v <016>
X0=PX(FX(FA,0),0):Y0=PX(FX(FA,0),1):X1 =PX(FX(FA,1),0):Y1=PX(FX(FA,1),1)	<170>
X2=PX(FX(FA,2),0);Y2=PX(FX(FA,2),1)	<193>
SYS(FC),X0,Y0,Xl,Yl,X2,Y2,SH(FA)	<225>
970 NEXT	<218>
980 POKE 198,0	<126>
990 GET A$:IF A$=““THEN	990	<168>
1000 SYS(TX):POKE B0,14:END	<128>
1010 s	<224>
1020 REM SCHEITELDATEN	<083>
1030 DATA 1000,618,0, 1000,-618,0, -1000,6
18,0, -1000,-618,0	<092>
1040 DATA 0,1000,618, 0,1000,-618, 0,-1000
,618, 0,-1000,-618	<099>
1050 DATA 618,0,1000, -618,0,1000, 618,0,-
1000, -618,0,-1000	<183>
1060DATA618,0,236, 618,0,-236, -618,0,23
6,	-618,0,-236	<043>
1070 DATA 236,618,0, -236,618,0, 236,-618,
0,	-236,-618,0	<243>
1080 DATA 0,236,618, 0,-236,618, 0,236,-61
8,	0,-236,-618	<100>
1090 DATA 382,382,382, 382,382,-382, 382,-
382,382, 382,-382,-382	<236>
1100 DATA -382,382,382, -382,382,-382, -38
2,-382,382, -382,-382,-382	<056>
1110 :	<070>
1120 REM VERBINDUNGSDATEN	<109>
1130 DATA 0,12,13, 0,13,25, 0,25,16, 0,16,
24,	0,24,12	<057>
1140 DATA 1,12,26, 1,26,18,1,18,27, 1,27, 13, 1,13,12	<248>
1150 DATA 2,15,14, 2,14,28, 2,28,17, 2,17,
29,	2,29,15	<251>
1160 DATA 3,14,15, 3,15,31, 3,31,19, 3,19,
30,	3,30,14	<208>
1170 DATA 4,16,17, 4,17,28, 4,28,20, 4,20,
24,	4,24,16	<110>
1180 DATA 5,17,16, 5,16,25, 5,25,22,5,22,
29,	5,29,17	<168>
1190 DATA 6,19,18, 6,18,26, 6,26,21,6,21,
30,	6,30,19	<177>
1200 DATA 7,18,19, 7,19,31, 7,31,23, 7,23,
27,	7,27,18	<235>
1210 DATA 8,20,21, 8,21,26, 8,26,12, 8,12,
24,	8,24,20	<060>
1220 DATA 9,21,20, 9,20,28, 9,28,14, 9,14,
30,	9,30,21	<144>
1230 DATA 10,23,22, 10,22,25, 10,25,13, 10
,13,27, 10,27,23	<074>
1240 DATA 11,22,23, 11,23,31, 11,31,15, 11
,15,29, 11,29,22	<224>
© G4'er
Llsting 11. Demo-Programm »Stellation« (Schluß)
108
Bestellungen aus anderen Ländern bitte per Auslandspostanweisung! Achtung: Nicht die eingeheftete Zahlkarte verwenden.		Bestellungen aus der Schweiz bitte direkt an: Markt&Technik Vertriebs AG, Kollerstr. 3, CH-6300 Zug, Tel.: 0 42/22 31 55.		Schönbrunnerstr. 261, 1120 Wien. Microcomput-ique Erhard Schiller Fasangasse 21 1030 Wien
Programme aus früheren Ausgaben
Ausgabe 8/85
Bestell-Nr. L 6 8508 A DM 29,90*
Sonderheft: Tips&Tricks (2. ü. Auflage)
Floppy-Utilhies
CB 023	DM 29,90*
Hilfsprogramme
CB 024	DM 29,90*
Sonderheft: Spiele
Beide Disketten in einem Paket!
Verwenden Sie nur diese Bestell-Nr.:
L 6 85S3 A	DM 34,90*
Ausgabe 7/85 Bestell-Nr. L 6 8507 A	DM 29,90«
Commodore 64 Haushaltsbuch (AdM)	S. 57
Terminalprogramm	S. 152
Centron	S. 80
Editor	S. 151
Ein-/Ausgaberoutine	S 77
Fenster (C 16)	S 84
File-Compactor	S. 82
Hypra-Assembler (LdM)	S. 66
lEEE-Basic	S. 46
Logik	S. 144
Merkzettel	S. 83
Modulator	S. 46
REM-Killer	S. 75
Sound Editor	S. 136
Startgenerator	S. 74
Ausgabe 6/85	
Bestell-Nr. L 6 8506A	DM 29,90*
Commodore 64	
MSE	S. 54
HI-EDDI/MPS 801	S. 69
Prost	S. 76
E-Routine 64	S. 148
GCR-HEX	S. 117
HEX-GCR	S. 118
Samurai	S. 72
Scroll-Machine (LdM)	S. 61
Crossreferenz	S. 155
Heapsort	S. 126
C 16	
F-Plotter	S. 68
Sonderheft: Abenteuerspiele	
Bestell-Nr.: L685 S2	DM 34,90*
Ausgabe 5/85	
Bestell-Nr. L 6 8505 A	DM 29,90«
Commodore 64	
Checksum. Schnell	S. 54
MSE Lader	S. 55
MPS 802	S. 31
Format-System	S. 147
VIC	S. 175
65101	S. 71
Sternenhimmel (AdM)	S. 57
Assemblerkurs	S. 144
Direktory-Sorter	S. 77
Trick.OBJ	S. 65
3D-Movie-Maker (LdM) Modulator (Heft 4) VC20 Checksummer Minigrafik Longscreen C 16 Help&Trace
Ausgabe 4/85 Bestell-Nr. L 6 8504A Commodore 64 Checksum. Schnell MSE Lader S-MON Teil 5 Window 64 XBASIC ASS. KurS Teil 8 Hypra-Perfect 11 neue Einzeiler Print-List Netzgrafik ROT-DEMO X.Y-DEMO 1 u. 2 Ostereier Befehlserweiterung VC20 Checksummer Supergrafik III Prg. Schutz
Ausgabe 3/85 Bestell-Nr. L 6 8503A Commodore 64 Checksu. Schnell MSE Lader Hires-3/Teil 2 lntellisearch$C Son of Destroyer Ligatab (LdM) Fl. Basicloader Floppylister E.Zeichnen 1 und 2 Meisterschütze (AdM) Saver Screensave Pic-Loader
VC20
Checksummer IRQ-Clock Autostart
Ausgabe 2/85 Bestell-Nr. L 6 8502A Commodore 64
Checksummer 64 MSE
SMON (Teil 4) Grab des Pharao (LdM) Basic-Lader RAM-Floppy
S.	65	Notlandung	S.	156
S.	155	Hires-3	S.	123
		Benchmark-Test	S.	37
S.	54	Format.Stringkur	s.	148
S.	69	Verseh. Test.USR	s.	140
S.	83	Cursorsteuerung	s.	86
		Rolling-Data	s.	88
S.	84	Super-Memory	s.	81
		VC20 Checksummer VC 20	s.	65
DM 29,90*		Familienplanung (AdM)	s.	53
		Super 8-Steuerung	s.	70
S.	54	Q + Bert (3K)	s.	78
S.	58	Joypaint	s.	143
S.	67	Bitmapping	s.	145
s.	88	Multicolor-Demo	s.	146
ö. b9 S. 138		Ausgabe 1/85		
S.	76	Bestell-Nr. L 6 8501A	DM 29,90*	
S.	153	Commodore 64		
S.	79	Checksummer 64	S.	72
S.	71	Handballtrainer (AdM)	s.	53
S.	73	SMON (Teil 3)	s.	69
S.	73	Hi-Eddi (LdM)	s.	57
S.	51	Hypra-Load mal vier	s.	82
S.	23	Tips und Tricks	s.	87
		Provic 64	s.	76
S.	56	Eingabe (UPB)	s.	156
S.	73	VC20		
S.	83	Checksummer VC 20	s.	72
		Ausgabe 12/84		
nM 9Q an*		Bestell-Nr. CB 022	DM 29,90«	
S. S.	70 79	Commodore 64 Synthesizer (AdM)	S.	51
		SMON (2. Teil)	s.	60
s.	136	3D-Vier gewinnt	s.	96
s.' s.	153 42	Trace	s.	76
		Stringy	s.	88
s.	63	Lader	s.	92
s.	82	Auto	s.	84
s.	82	Listschutz	s.	85
s’ s.		Simons Axo (SB)	s.	64
	53	Kreuzworträtsel S. 150		
s. s. s.	89 88 90	VC20 Mathematikal Basic (8K> (LdM)	>) s.	55
s.	70	Fast Tape	s.	80
s. s.	156 159	Ausgabe 11/84		
		Bestell-Nr. CB 020	DM 29,90«	
DM 29.90*		Ausgabe 10/84		
		Bestell-Nr. CB 019	DM 29,90«	
S. s.	65 68	Ausgabe 9/84		
s.	72	Bestell-Nr. CB 014	DM 29,90«	
s. s.	56 91	Ausgabe 8/84		
s.	92	Bestell-Nr. CB 013	DM 29,90«	
Bedeutung der Abkürzungen
*LdM = Listing des Monats
*AdM = Anwendung des Monats
*SB = Simons Basic
*GV = Grundversion
*GV > = alle Speicherversionen können
verwendet werden (einschließlich GV)
*3K	= 3-KByte-Speichererweiterung
wird benötigt
*8K> = Speichererweiterung größer als 8 KByte wird benötigt
*UPB = Unterprogrammbibliothek
* Alle Preise inklusive Mehrwertsteuer.
Achtung!
Bitte verwenden Sie für Ihre Bestellung nur die eingeheftete Postscheck-Zahlkarte zur Überweisung des Rechnungsbetrags.
Fehlende Hefte erhalten Sie bei: Markt & Technik Vertrieb 64'er Hans-Pinsel-Str. 2, 8013 Haar
•	elf gespeicherte>^aumbiWej Bildschirmen
•	ägenesFarbmenü (16 Farben)
•	umfangreiche Diskettenbefehle
(Speichern, Löschen, Laden)
”S^S^"
Auswahlmenü Diskette
ileitungsheft
lnkl.MwSt.
unverbindliche
ßesteli-Nr. MD 230 A
Verlag Aktiengesellschaft Buchverlag
..,„««;?
«»«^—^^
Grundlagen
Soft-Scrolling auf dem C 64
Soft-Scrolling in eigene Programme einzubauen, kann oft zum Problem werden. Wie es gemacht wird, zeigt Ihnen dieser Beitrag.
Jeder kennt bestimmt Defender oder ähnliche Arcade-Games, bei denen die Hintergrundlandschaft über den Bildschirm zieht. Gemeint ist das sogenannte Smooth- oder Soft-Scrolling. Der Unterschied zwischen normalem und Soft-Scrolling ist, daß der Bildschirm beim Soft-Scrolling in Einerschritten (um ein Pixel) und beim normalen in Achterschritten (immer um acht Pixel gleichzeitig) verschoben wird.
Beim Achterscrolling werden einfach die Speicherstellen des Video-RAMs (ab 1024/$0800) um jeweils eine Stelle nach links, rechts, oben oder unten verschoben.
Zum Achterscrolling ein Beispiel in Basic:
10 REM Beispiel Nr. 1
20 PRINT CHR$(147);TAB(14);
30 PRINT "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
40 FOR 1=1064 T0 1024 STEP -1
50 POKE I,PEEK (1-1)
60 NEXT
70 G0T0 40
Dieses Programm arbeitet zwar noch relativ schnell, aber wir werden später diese Aufgabe einem Assemblerprogramm übergeben.
Das Alphabet wird nach dem Eintippen dieses Programms nach rechts herausgeschoben. Dieses Achterscrolling ist aber zu sprunghaft, und falls es schneller läuft, ist die gescrollte Schrift unleserlich.
Das Soft-Scrolling bewirkt, daß die Schrift gleichmäßig fließend und damit leserlich gemacht wird. Wie scrollt man denn nun aber den Bildschirm um nur ein Pixel?
Die Hauptrolle hierbei spielen die Speicherstellen 53248+17 (53248 = Basisadresse des Video-Chips +17 für das vertikale und 53248+22 für das horizontale Scrolling).
Befassen wir uns zunächst mit dem horizontalen Scrolling. Die Speicheradresse 53248+22 ist folgendermaßen aufgebaut:
Bit 7 bis 5 : Sind nicht benutzt
Bit 4 : Zur Umschaltung auf Multicolor
Wichtig sind für unsere Anwendung nur:
Bit 3 : Umschalten von 40 auf 38 Spalten
Bit 0 bis 2 : Horizontales Scrolling
Dazu ein Versuch:
POKE 53248+22,PEEK (53248+22) AND 248 OR 3
Nun müßte sich der Bildschirm um drei Pixels nach rechts verschoben haben.
Einige werden sichjetztfragen, warum die ANDs und ORs?
Nehmen wir einmal an, im Register 22 des VIC würde die Zahl 107 stehen. Diese Zahl wird mit 248 AND-verknüpft. Beide Zahlen müssen binär aufgeschlüsselt werden:
107 = 01101011
AND 248 = 11111000
ergibtO11O1OOO
Durch diese AND-Funktion werden also die Bits 0 bis 2 gelöscht. Die Bits 3 bis 7 ändern sich nie. Durch die OR-Funktion werden die entsprechenden Bits gesetzt:
01101000
OR3 00000011
ergibt 01101011
Die Bits für das horizontale Scrolling enthalten jetzt den Wert 3. Der höchste mit den Bits 0 bis 2 zu erreichende Wert ist 7, der niedrigste ist 0. Je größer der Wert in diesen drei Bits, desto weiter wird der Bildschirm nach rechts verschoben! Mit dieser Erkenntnis können wir den Bildschirm um sieben Pixels nach rechts rollen!
10 REM Beispiel Nr. 2
20 FOR 1=0 T0 7
30 POKE 53248+22,PEEK (53248+22) AND248 0RI
40 FOR T=0 T0 1000:NEXT T
50 NEXT I
60 RUN
Dieses Programm verschiebt den Bildschirm langsam von der normalen Position um sieben Pixel nach rechts. Dann wird er wieder auf die normale Position zurückgesetzt und rollt wieder nach rechts. Wie macht man es nun, daß der Bildschirm über das 7. Pixel hinausscrollt?
Dies ist ganz einfach: Nachdem das 7. Pixel erreicht wurde, machen wir ein Achterscrolling, das heißt wir verschieben einen Bildschirmcode um ein Zeichen nach rechts. Gleichzeitig setzen wir das Scrollregister wieder auf Null und haben jetzt das 8. Pixel erreicht.
Bild 1. Grafische Erläuterung des Soft-Scrolling
Jetzt können wir die Prozedur wieder von vorne beginnen (dazu ein Flußdiagramm).
S=SCROLLREGISTER
Dieses Flußdiagramm muß nun noch in ein Programm umgesetzt werden. Würde das gesamte Programm in Basic geschrieben, wäre es ziemlich langsam. Deshalb wird im nachstehenden Listing das Achterscrolling in Assembler realisiert. Es scrollt die erste Zeile in Achterschritten nach rechts. Zuerst die Darstellung in Maschinensprache und dann in DATA-Zeilen:
LDA $0427	; STA $FB	Speicherstelle 1063 merken
LDX #38	;	Bei Spalte 38 anfangen
LDA$0400,X ;	Bildschirmcode laden
INX	;	Um 1 erhöhen
STA$0400,X ; DEX	Und abspeichern
DEX	;	Um 2 erhöhen
CPX #$FF ;	Schon fertig ?
BNEV LDA $FB	; STA $0400	1063 wieder nach 1024
LDA $D016	;	Scrollregister laden
AND#248	;	Scrollbits löschen
STA $D016	; RTS	Zurückspeichern
110
Grundlagen |
Dieses Maschinenprogramm schiebt die Zeilen, die in der ersten Zeile des Bildschirms stehen, nicht nur nach rechts, sondern macht ein Rundum-Scrolling. Die rechts verschwundene Schrift erscheint also wieder am linken Bildschirmrand. Dies wird durch die ersten und letzten beiden Maschinenprogrammzeilen ermöglicht. Startetman dieses Programm, so ist ab und zü ein leichtes Zucken zu erkennen. Dies liegt daran, daß der Elektronenstrahl, der den Bildschirm 25mal in der Sekunde aufbaut, die erste Zeile schreibt, während sie gescrollt wird. Wie kann man das vermeiden?
Es ist das Register 53248+18, das benötigt wird. In ihm steht die Zeile, in der sich der Elektronenstrahl befindet (nähere Informationen siehe 64’er, Ausgabe 11/84).
Wir brauchen also nur dieses Register auszulesen und die erste Zeile erst dann zu scrollen, nachdem sie vollständig vom Elektronenstrahl aufgebaut wurde.
Die Abfrage muß in Assembler geschehen, daein Basic-Programm im Verhältnis zur Geschwindigkeit des Elektronenstrahls zu langsam ist. Der richtige Zeitpunkt für den Beginn des Scrollings ist ungefähr dann gegeben, wenn der Strahl die Rasterzeile 100 erreicht hat.
Wir müssen das obige Maschinenprogramm also noch etwas erweitern. Ganz am Anfang muß stehen:
X LDA 53248+18
CMP #160
BMI X CMP #190 BPL X RTS
Rasterzeile auslesen
Vergleiche auf 160
Wenn kleiner dann nach X
Vergleiche auf 190
Wenn größer dann nach X
Und nun das gesamte 1-Zeilen-Soft-Scrolling in Basic: (Das dazugehörige Maschinenprogramm ist so geschrieben, daß es in jeden Bereich gePOKEt werden kann!)
10	REM Beispiel Nr. 3
20	PRINT CHR$(147);G0SUB 100
30 PRINT "Beliebiger Text kleiner als 40 Zeichen"
40	REM Farbe = schwarz
50	FOR 1=55296 T0 55296+39:P0KE I,O:NEXT
60	FOR 1=1 T0 7
70	POKE 53248+22,PEEK (53248+22) AND248 0RI
80	FOR T=0 TO 5:NEXT
90	NEXT I
100	FOR T=0 TO 3:NEXT
110	SYS32768:REM Achterscrolling
120	GOTO 60
130	REM Masch.PRG einlesen
140	FOR 1=32768 TO 32768+44:REM 44 DATAs
150	READ G:S=S+G:POKE I,G:NEXT
160	IF S=6044 THEN 180
170	PRINT"FEHLERINDATAS!":STOP
180	RETURN
190	DATA	173,18,208,201,160,48,249,201
200	DATA	190,16,245,173,39,4,141,255,207
210	DATA	162,38,189,0,4,232,157,0,4,202
220	DATA	202,224,255,208,243,173,255,207
230	DATA	141,0,4,173,22,208,41,248,9
240	DATA	0,141,22,208,96
Man stellt fest, daß die Zeichen am rechten Rand langsam herauswandern; aber am linken Rand plötzlich auftauchen. Diesläßtsich verhindern, indem man den Bildschirm seitlich verengt (Bit 3 des Registers 53248+22 löschen). Das kann man mit
POKE 53248+22,PEEK(53248+22)AND247 erreichen. Platz dafür wäre zum Beispiel in Zeile 45.
Basic reicht nicht aus, um eine angemessene Geschwindigkeit zu erreichen. Deshalb steigen wir nun ganz auf
Bild 2. Das Flußdiagramm erläutert die verwendete Scroll-Routine
Assembler um! Schreiben wir zunächst die Zeilen 60 bis 90 des Beispiels Nummer 3 in Assembler:
M LDA 53248+22 AND #7 CMP #7 BNEN
JSR ACHTSC JMPM
N INC 53248+22 LDX #$FF
QLDY #$30
A INY
BNEA
INX
BNEQ
JMPM
Scrollregister laden Scrollbits ausfiltern Schon 7 ?
Wenn nicht dann Einerscrolling Achterscrolling Nächste Verschiebung Scrollreg. erhöhen Verzögerungsschleife
Nächste Verschiebung
Diese Routine müssen wir nur noch in das obige Achterscrolling einbauen. Für die Basic-Fans haben wir einen Basic-Lader dieses Programms am Schluß abgedruckt. Kommen wir nun zum vertikalen Scrolling:
lm Prinzip funktioniert es wie das horizontale, es wird nur ein anderes Register benutzt.
Das Register für das vertikale Scrolling ist: 53248+17.
Für das Scrolling sind wie beim horizontalen Scrolling die Bits O bis 2 verantwortlich.
Einzeilen Soft-Scrolling (DATA-Lader):
0	DATA173,22,208,41,7,201,7,208,6,32,34,128,76,0,
128,32,68,128,238,22,208
1	DATA162,255,160,160,200,208,253,232,208,248,76,0,	H
128,173,39,4,133,251
2	DATA162,38,189,0,4,232,157,0,4,202,202,224,255,	■
208,243,165,251,141,0
3	DATA4,173,22,208,41,248,141,22,208,96,173,18,208,
201,160,48,249,201,190
4	DATA16,245,96,255
10	F0RI=32768T032768+5*16
20	READA:POKEI,A
30	NEXT
40	PRINT"(CLR}	HIER KOENNTE EIN TEXT STEHEN.
50	SYS32768
READY
(Frank Barcikowski + Holger Vocke/ah) H
111
Grundlagen
Sprites ohne Streß
Es soll immer noch Leute geben, die sich nicht an die Programmierung von Sprites herantrauen, weil sie von den recht unverständlichen Ausführungen im Commodore-Handbuch ziemlich verunsichert sind. Deswegen wollen wir hier die Grundlagen der Sprites darstellen.
Spielefreaks haben sie lieben gelernt: die Sprites, frei auf dem Bildschirm bewegbare Objekte in hoher grafischer Auflösung, die sogar mehrfarbig sein können. Doch nicht nur in Videospielen haben sich die Sprites bewährt: Auch als Mini-Gfafik, Erkennungszeichen oder verschnörkelter Schriftzug waren sie schon zu sehen, und jede Woche entdeckt irgendein findiger Kopf eine Anwendungsmöglichkeit mehr.
Wer Sprites als grafische »Auflockerung« seiner Programme verwenden will, der kann mit dem ganz normalen Commodore-Basic hervorragende Ergebnisse erzielen, obwohl man dabei nicht um den berühmt-berüchtigten POKE-Befehl herumkommt Wer allerdings ein rasantes Actionspiel programmieren will, der verlege sich doch besser auf Maschinensprache, denn die Bearbeitung von Sprites durch Basic ist dafür nicht schnell genug, essei denn, man hat eine Basic-Erweiterung, die Sprites direkt unterstüzt.
Drum also hieralles, was man wissen muß, um Sprites in den verschiedensten Variationen auf die heimische Mattscheibe zu bannen.
Am Anfang ist die Idee
Wer mit Sprites arbeiten möchte, der kommt um eines nicht herum: EinSprite-Entwurfmußangefertigtwerden. Und das bedeutet zuerst einmal, daß mah kariertes Papier sowie Bunt-, Filz- oder Bleistift aus der Schublade hervorkramt. Dann malt man einen Rahmen, der genau 24 mal 21 Kästchen einschließt. Vor sich hat man nun ein sogenanntes Sprite-Entwurfsblatt liegen. Zugegeben, einige Details fehlen noch, aber zumindest können Sie damit schon einmal genau festlegen, wie Ihr Sprite später aussehen wird.
Ein vollständiges Sprite-Entwurfsblatt sehen Sie in Bild 1. Dies sollten Sie sich am besten mehrere Male fotokopieren. Für die ersten Entwürfe ist aber normales kariertes Papier empfehlenswert, weil die meistens in endlose Radiererei ausarten. DievielenZahlenaufdem EntwurfsblattsolltenSiejetzt nicht verwirren: Zu deren Bedeutung kommen wir später.
Erst einmal wollen wir uns auf einfarbige Sprites beschränken. Sie können dann jedes der 504 Kästchen auf ihrem Sprite-Entwurfsblatt mit dem Stift einfärben oder auch freilassen. Jedes ausgemalte Kästchen wird später auf dem Bildschirm in der Spritefarbe zu sehen sein. Die leeren Kästchen sind später durchsichtig. Sie können also beispielsweise einen Buchstaben umrahmen, indem Sie einen Rahmen als Sprite zeichnen und dieses über den Buchstaben legen. In der Spritemitte, in der sich nur leere Kästchen befinden, ist' der Buchstabe zu sehen.
So, jetzt kommt gleich zum ersten Mal der POKE-Befehl ins Spiel. Denn die nächste Frage lautet natürlich: Wie erkläre ich meinem C 64, wie das Sprite auszusehen hat? Für den Nur-Basic-Anwender, derauchumfangreiche Programmeschrei-ben will, gibt es da nicht viele Möglichkeiten. Dem Computer muß das Aussehen des Sprites in63 Speicherstellen mitgeteilt werden, die an bestimmten Stellen imArbeitsspeicher stehen müssen. Wieso gerade 63? Wir erinnern uns: Ein Punkt kann entweder eingeschaltet sein oder ausgeschaltet (durchsichtig).
In einer Speicherstelle lassen sich acht Ein-/Aus-Informa-tionen speichern, es findenalso acht Punkte eines Sprites Platz. Ein Sprite ist nun 24 Punkte breit. 24 ist 3 mal 8, also benötigen wir drei Speicherstellen, um eine Zeile eines Spri-teszu definieren. Schließlich hatein Spritenoch 21 Zeilen, so daß wir 3 mal 21, das sind 63 Speicherstellen, für die Punkte eines Sprites benötigen.
Wo liegen nun diese 63 Speicherstellen? Hier haben wir, wollen wir nicht mit Unmengen von Tricks und noch mehr POKEs arbeiten, nur vier Möglichkeiten. Diese sind in Tabelle 1 aufgeführt.
Speicherbereich	Codezahl
704— 766	11
832— 894	13
896— 958	14
960—1022	15
Tabelle 1: Speicherbereiche, In denen Spritedaten abgelegt werden können.
Und wie bekomme ich nun mein Sprite da rein, werden Sie jetzt vielleicht fragen? Nun, schauen wir uns nochmal das Entwurfsblatt an. Jetzt sollen die Zahlen entschlüsselt werden: Wie gesagt, es wird eine Zeilejeweils durch drei Zahlen verschlüsselt. Die drei dicken Striche geben an, welcher Zeilenbereich durch eine Zahl verschlüsselt wird.
Angenommen wir möchten in der ersten Reihe die Punkte 1, 3 und 5 setzen. Diese liegen alle in der ersten Spaltengruppe. Um den Zahlenwert zu errechnen, müssen Sie nun einfach die Zahlen addieren, die über den gesetzten Punkten stehen. In unserem Beispiel wären das die 128, die 32 und die 8. Das Ergebnis, 158, tragen Sie dann in das erste Kästchen mit der Überschrift »Zahlencodes« ein. Genauso verfahren Sie dann mit der zweiten und dritten Spaltengruppe und den weiteren 20 Zeilen. Schon haben Sie die 63 Zahlenwerte, die das Sprite codieren, ausgerechnet. Übrigens: Daß jede zweite Spaltentrennung gestrichelt gezeichnet ist, hat noch praktische Gründe, wie wir bei mehrfarbigen Sprites sehen werden.
Ein Sprite erscheint
Jetzt besteht also unser Sprite aus 63 Zahlen. Diese können wir nun in die angeführten Speicherbereiche POKEn (Tabelle 1). |n einem Programm speichert man die 63 Zahlenwerte praktischerweise in DATAs und verwendet danneine FOR-NEXT-Schleife, in der die Zahlenwerte in den Speicherbereich gePOKEt werden. Jedem Speicherbereich ist dabei eine Codezahl zugeordnet, die nachher noch von entscheidender Bedeutung sein wird. Die letzten drei Bereiche werden allerdings jedesmal gelöscht, wenn Sie die Datasette benutzen.
Das war aber noch längst nicht alles. Esist noch einiges zu tun, bevor das Sprite auf dem Schirm zu sehen ist. Wir
112
Grundlagen
beschränken uns, bescheiden wie wir sind, auf ein einziges Sprite, das die Nummer 0 erhält.
Als erstes sollten wir dem Video-Chip mitteilen, wo wir das Sprite im Speicher plaziert haben. Dazu dient die Speicherstelle 2040. In diese Speicherstelle POKEn Sie bitte die Codezahl des Speicherbereiches.
Dann müssen Sie das Sprite noch wie eine Lampe einschalten. Dazu POKEn Sie in die Speicherstelle 53269 einfach eine 1. Nun dürfte ihr Sprite irgendwo auf dem Schirm zu sehen sein, wahrscheinlich aber nicht da, wo Sie es gern hätten. Dem kann Abhilfe geschaffen werden: In die Speicherstelle 53248 POKEn Sie die X-Koordinate, in 53249 die Y-Koordinate der gewünschten Position. In Bild 2 finden Sie dazu eine Orientierungshilfe. Sie werden sehen, daß das Koordinatensystem für die Sprites größer ist als der Bildschirm. Ein Sprite kann also hinter dem Bildschirmrand verschwinden und ist dann nicht mehr zu sehen, Obwohl es eingeschaltet ist. Eih weiteres Problem ergibt sich da: Die X-Koordinate kann laut Bild 2 bis 511 gehen. Will man aber Werte größer 255 in die Speicherstelle der X-Koordinate POKEn, erhält man einen ILLEGAL QUANTITY ERROR. Um das Sprite auch in die rechte Hälfte bewegen zu können benötigt man eine weitere Speicherstelle, 53264. Soll das Sprite auf eine Position größer als 255, dann POKEt man dort eine 1 hinein. Danach zieht man 256 von der X-Koordinate ab und POKEt das Ergebnis wieder in die Speicherstelle 53248.
Somit können wir also ein Sprite auf jede Stelle am Bildschirm und sogar über den Bildschirm hinaus positionieren.
Vielleicht gefällt ihnen die Farbe Ihres Sprites aber überhaupt nicht, vielleicht konnten Sie es bisher auch gar nicht sehen, weil es dieselbe Farbe wie der Hintergrund hatte. Nun, auch hier hilft ein POKE: Die Speicherstelle 53287 bestimmt die Farbe unseres Sprites. Dort können die 16 im Commodore-Handbuch angegebenen Farbcodes hineingeschrieben werden.
Ein Weiteres läßtsich bei Sprites kontrollieren: Die Priorität. Nehmen wir einmal an, ein Sprite und ein Buchstabe oder Grafikzeichen überschneiden sich. Dann gibt es zwei Möglichkeiten: Das Sprite ist »hinter« dem Buchstaben, wird also verdeckt, oder ist »davor«,verdeckt also den Buchstaben. Sie können einstellen, wie sich das Sprite verhalten soll: Steht in Speicherstelle 53275 eine 1, so ist das Sprite »hinten«, ist dort eine 0, ist das Sprite »vorne«.
Klein, aber fein sind diese Sprites, werden Sie jetzt wahrscheinlich sagen. Warten Sie’s ab, es geht auch größer. Ein Sprite läßt sich ».strecken« in X- und Y-Richtung. POKEn Sie
mal eine 1 in 53277, und Sie verstehen, was damit gemeint ist. In die andere Richtung geht’s mit der Speicherstelle 53271. POKEt man in beide Speicherstellen eine O,ist der Spuk vorbei, und das Sprite hat seine »normale« Größe wieder erreicht. v
Ein kleines Problem, das sogar Profis ins Grübeln gebracht hat: Streckt man ein Sprite in X-Richtungund setzt es an die X-Position Null, verschwindet es nicht vom Schirm! Die rechte Hälfte ist immer noch zu sehen. Soll nun aber das Sprite einen eleganten Abgang nach links machen, ist dies natürlich absolut störend. Doch auch hier gibt es eine bestechend einfache Lösung. Stellen Sie sich das Sprite-Koordinatensystem als Zylinder vor. Wenn Sie unser gestrecktes Sprite an die Position 511 setzen, sehen Sie wiederum fast die Hälfte des Sprites am linken Bildschirmrand. Verringert man die X-Koordinate nun langsam auf 488, wird es nach links hin entschwinden, wie wir es uns wünschen. In Y-Richtung taucht dieses Problem nicht auf.
Jetzt wird’s bunt
Bisher haben wir uns auf einfarbige Sprites beschränkt. Es geht aber auch dreifarbig! Eigentlich sind es sogar vier Farben, aber die vierte Farbe ist »durchsichtig«, und wir zählen sie deswegen nicht mit.
Bitkombination
Farbe
00
11 01
10
Durchsichtig
Farbe 1
Farbe 2
Farbe 3
Tabelle 2: Zusammenhang zwischen Ziffernkombinationen und Farbe bei Multicolor-Sprites.
Bevor Siejetzt aberjubelnd die buntesten Sprites entwerfen, muß ich auf den Nachteil des »Multicolor«-Modus hinweisen: Sie haben nun nicht mehr 24, sondern nur noch 12 Punkte pro Zeile, diese sind allerdings auch doppelt so breit wie die eines tristen, einfarbigen Sprites.
Konkret bedeutet das, daß Sie schon beim Entwurf immer zwei nebeneinanderliegende Kästchen einfärben müssen, wenn Sie dort einen Punkt setzen sollen. Dabei dürfen Sie aber drei Farben benutzen. Die gestrichelten Linien in unserem Entwurfsblatt fallen also weg.
Bild 1. Ein Sprite-Entwurfsbogen
Bild 2. Mögliche Sprite-Positionen mit Bildschirmbereich
113
Grundlagen
Sprite
0	1	2	3	4	5	6	7
Codezahl-Speicher 2040 2041 2042 2043 2044 2045 2046 2047
Spritefarbe (1) X-Position Y-Position
53287 53288 53289 53290 53291 53292 53293 53294
53248 53250 53252 53254 53256 53258 53260 53262
53249 53251 53253 53255 53257 53259 53261 53263
Tabelle 3: Speicherstellen, die einzelne Sprites betreffen.
Beim Errechnen der 63 Zahlen für das Sprite geht man dann so vor: Anstelle einer 1 fürjeden gesetzten Punkt müssen Sie nun zwei Ziffern in das Sprite-Entwurfsblatt einsetzen, eine in das linke, eine in das rechte Kästchen eines Punktes. Welche Ziffern das sind, ist von der Farbe abhängig und steht in Tabelle 2. Ab dann verläuft das Ausrechnen der Zahlenwerte des Sprites genauso wie bei den einfarbigen Sprites. Allerdings kommen noch drei zusätzliche POKEs hinzu: In die Speicherstelle 53276 muß eine 1, damit der Video-Chip weiß, daß es sich jetzt um ein Multicolor-Sprite
Einschalten	53269
Übertrag X-Position	53264
Vergrößern X	53277
Vergrößern Y	53271
Multicolor einsch.	53276
Priorität-Hintergrund	53275
Tabelle 4: Speicherstellen, die jeweils acht Schalter 0e Sprite einen)	
enthalten.	
P0KE X, PEEK(X) 0R 2 t N
legt den Schalter in der Speicherstelle X für das Sprite N auf »An« um, ohne die anderen Schalter zu beeinflussen.
P0KE X, PEEK(X) AND (255 - 2 t N)
stellt den entsprechenden Schalter wieder auf »Aus« um, ohne die anderen zu beinflussen.
Wichtig sind die beiden Adressen in derTabelle 5: Sie sind uns schon bekannt, und legen die Farben 2 und 3 für alle Sprites verbindlich fest. Zwei Sprites im Multicolormodus, die gleichzeitig erscheinen, können sich also nur in der Farbe 1 unterscheiden.
Farbe 2	53285
Farbe 3	53286
Tabelle 5: Speicherstellen, die auf alle acht Sprites gleichzeitig wirken
Damit ist das Wichtigste über Sprites gesagt. In Basic sollte man sich auf stehende Sprites beschränken. Sich bewegende Sprites sind relativ langsam, wenn das Basic-Programm auch andere Funktionen nebenbei erfüllen muß.
Wer Sprites öfters benutzen will, für den lohnt es sich, die ebenfalls in diesem Heft abgedruckte Basic-Erweiterung »Sprite-Basic« abzutippen, und das soeben Gelernte dann nicht mit POKEs, sondern mit richtigen Befehlen auszuführen. Denn dann geht der Sprite-Spaß erst richtig los!
handelt. In die Speicherstelle 53285 kommt dann die Farbe 2, in die Speicherstelle 53286 die Farbe 3. Die Farbe 1 haben wir vorher schon in der Speicherstelle 53287 festgelegt. Schon schimmert uns ein schönes mehrfarbiges Sprite entgegen, das wir dann genauso wie ein einfarbiges behandeln können.
Ein Sprite kommt selten allein
Schließlich steht ja im Commodore-Handbuch was von acht verschiedenen Sprites gleichzeitig. Also ohne viel Tricks kriegen wir nur vier_verschiedene Sprites auf den Bildschirm, denn wir können ja nur vier Sprites in die Speicherstellen aus Tabelle 1 POKEn. Dafür haben wir die Möglichkeit, ein Sprite doppelt, dreifach oder sogar achtfach gleichzeitig auf den Bildschirm zu bringen. Mit acht Sprites ist dann allerdings auch die Kapazität unseres Video-Chips erschöpft.
Wie kann man nun über die sieben zusätzlichen Sprites verfügen? Diese Sprites haben praktischerweise die Nummern 1 bis 7. Für ihre Position, Farbe und ihre Codezahl haben sie ihre eigenen Speicherstellen, die in Tabelle 3 aufgeführt sind.
Komplizierter wird es da schon bei den anderen Speicherstellen, die in Tabelle 4 aufgelistet wurden. Jede dieser Speicherstellen hat Kontrolle über alle acht Sprites. Wenn Sie genauer hinschauen, bemerken Sie, daß alle diese Speicherstellen nur An-/Aus-Funktion haben, sie sind sozusagen Schalter. Nun können aber in einer Speicherstelle, wie wir wissen, acht An-/Aus-Informationen gespeichert werden, also für jedes Sprite genau eine. Jetzt folgen zwei Routinen, deren Wirkung ich Ihnen gerne erkläre, nicht aber die Funktionsweise. Dazu müßte ich längere Vorträge über Binärarithmetik, logische Funktionen und ähnliches halten und damit den Rahmen dieses Artikels sprengen.
(Boris Schneider/ev)
114
Grundlagen
Hardcopy für Ihren Drucker
... oder: von den Problemen, den Bildschirminhalt auf Papier zu bringen — und natürlich von den Lösungen dieser Probleme!
Das Problem dürfte sich jedem Benutzer des C 64 stellen, der einen Drucker hat: Auf dem Monitor oder Fernseher wird ein Bild dargestellt, doch leider ist es ganz unmöglich, dieses Bild auf dem Drucker auszugeben, denn es wird nicht der normale Bildschirm mit einer Auflösung von 25 Zeilen ä 40 Zeichen dargestellt, sondern ein Bild in hochauflösender Grafik. Wie Sie trotzdem auch mit diesem Problem fertig werden, soll im folgenden beschrieben werden.
AHer Laster Anfang: Ihr Drucker
Schon beim Drucker stoßen wir auf schwerwiegende Probleme, denn manche Drucker sind wirklich nur sehr schwer oder gar nichtzum Drucken von Grafik zu bewegen. Folgende Kriterien sollten bei Ihrem Drucker erfüllt sein:
— der Drucker ist grafikfähig (natürlich die wichtigste Voraussetzung);
— der Drucker druckt mit mindestens acht Nadeln oder ähnlichem. Damit ist gemeint, daß der Druckkopf so konstruiert ist, daß er vertikal acht Punkte untereinander drucken kann;
— der Drucker beherrscht den sogenannten Bl-Mode (Bit-Image-Mode). Das ist der Modus, in dem die hochauflösende Grafik ausgedruckt wird.
Wenn Ihr Drucker diese Voraussetzungen erfüllt, dann ist es Ihnen in jedem Fall möglich, Ihre Bildschirmgrafiken auf Papier zu bringen.
Aberauch Drucker, die keinen Bl-Modus haben, sind mitunter grafikfähig. Da die Druckerpalette jedoch sehr groß ist, werden wir auf keinen speziellen Drucker eingehen, und es bleibt Ihnen letztlich überlassen, die Tauglichkeit Ihres Druckers zu überprüfen.
Auch bei Druckern der unteren Preisklasse findet man heute schon die sogenannten ESC-Sequenzen. Das sind Steuerbefehle für den Drucker, die ihn zum Beispiel dazu veranlas-
sen, die Schriftart oder etwa den Zeilenvorschub zu verändern. Eine solche Steuersequenz erkennt der Drucker an einem speziellen Zeichencode, bei dem er nicht wie sonst üblich das empfangene Zeichen als solches ausgibt, sondern vielmehr auf weitere Zeichen wartet, die in ihrer Gesamtheit einen Steuerbefehl ergeben. Üblicherweise wird dabei als ESC-Code das Zeichen CHR$(27) an den Drucker gesendet.
ESC — (von escape, engl. für entkommen, flüchten)
Die ESC-Sequenzen sind leider in keiner Norm vereinheitlicht. Deswegen darf normalerweise die Kompatibilität zwischen Druckern gleicher Leistungsklasse nicht ohne Einschränkungen angenommen werden.
Nach Senden von ESC an den Drucker werden immer Daten nachgeschoben, die die Grundeinstellung des Druckers ändern, so etwa den Drucker dazu veranlassen, Grafik anstatt Klartext zu drucken. Wenn Sie einmal Ihr Druckerhandbuch aufschlagen und eine der Sequenzen ESC-K, ESC-L oder ESC-Z finden, dann werden Sie (hoffentlich) feststellen, daß Sie in dem Teil des Handbuchs lesen, der Sie interessiert — der Ausgabe von Grafik.
Jetzt sind noch ein paar Berechnungen anzustellen und schon kann das Bild auf dem Drucker ausgegeben werden. Doch diese Berechnungen haben es in sich!
Wie die Grafik im Computer steht
Der C 64 ist bekanntlich ein vielseitiger Computer. So hat er unter anderem in seinem Inneren einen kleinen Chip (6567 Video Interface Chip, kurz VIC II) eingebaut, der dafür verantwortlich ist, daß sich etwas auf Ihrem Bildschirm tut. Der VIC II ist sehr flexibel und hat vielseitige Verwendungsmöglichkeiten innerhalb des C 64; wir beschränken uns jedoch hier auf die Funktionen, die ausschließlich für die Erzeugung der Grafik verantwortlich sind.
Es können acht Grafikbildschirme vom VIC II verwaltet werden; ihre Basisadressen sind ein Vielfaches von 8192. So beginnt etwa der dritte Grafikbildschirm bei der Basisadresse 16384 (beiO*8192 liegt der erste Grafikschirm, dieser wird aber im Regelfall nicht benutzt, da der Bereich anderweitig belegt ist, zum Beispiel durch Zero-Page und Stack.
Wenn Sie ein Bild drucken wollen, müssen Sie sich immer erst Klarheit darüber verschaffen, in welchem Bereich der Grafikbildschirm steht, den Sie ausgeben wollen. Zwar können Sie für die Berechnungen auch so lange zwischen den
Bild 1. Beispiel einer HiRes-Darstellung am Commodore 64
Bild 2. Die Rasterung verdeutlicht den Aufbau des HiRes-Bildschirms
115
Grundlagen
	BIT	7	6	5	4	3	2	1	O		
Su*me	32									BVTE	0
SuMM©	16									BVTE	1
SUMM©	11							X		BVTE	2
SllMM©	12					X				BVTE	3
StiMHe	12					X	X			BVTE	4
SuMM©	50			X	x					BVTE	5
SUHM©	65		X						x	BVTE	6
SuHwe	128	x								BVTE	7
Bild 3. Aufbau einer einzelnen Rasterzeile aus Bild 2
acht Basisadressen wechseln, bis Sie den richtigen Bildschirm erwischt haben, effektiver dürfte da aber das kleine Basic-Programm sein, das in Listing 1 dargestellt ist. Mit Hilfe dieses kurzen Programms werden die Grafikbildschirme 3 (Startadresse 16384) bis 8 (Startadresse 57344) durch ein kurzes Maschinenprogramm auf die Startadresse des zweiten Grafikschirms verschoben und dort dargestellt. Dadurch wird es Ihnen möglich, auch die Grafikbildschirme 5 und 7 yon Basic aus problemlos auszugeben, da diese Schirme normalerweise nicht erreichbar sind (sie liegen »unter« dem ROM). Weil sich dieser Artikel nur mit der Ausgabe von Grafik beschäftigt, verzichte ich an dieser Stelle auf Erläuterungen zu dem Programm, denn dabei würde zu stark auf die Besonderheiten des VIC II eingegangen werden müssen.
Nicht genug der acht Grafikschirme, verfügt der VIC II auch noch über zwei verschiedene Darstellungsarten: den sogenannten »High Resolution Mode« (HiRes, hochauflösende Grafik mit 64000 einzelnen Bildpunkten) und den »Multi-color-Mode«, in dem jeder Einzelpunkt in vier verschiedenen Farben dargestellt werden kann, bei dem aber dafür die Auflösung nur noch 32000 Bildpunkte beträgt. So mancher Anwender hat sich schon darüber gewundert, daß seine Hardcopy-Routine nur ein seltsames Strichmuster aufs Papier gebracht hat, aus dem man mit etwas Fantasie andeutungsweise das Originalbild entziffern konnte. Der Grund: im Multicolor-Modus werden in den Daten nicht nur die Bildinformation, sondern auch die Farbinformation verschlüsselt.
An dieser Stelle ein Tip: wenn Sie eine Grafik ausgeben wollen, jedoch keine Möglichkeiten haben, den Programmablauf zu unterbrechen, so können Sie durchaus einen Reset auslösen. Dabei wird das Bild normalerweise nicht gelöscht und Sie können dann fast immer von Basic aus weitere Schritte zur Ausgabe des Bildes einleiten.
High Resolution Mode
ln Bild 1 ist zunächst einmal ein HiRes-Bild als solches dargestellt. In Bild 2 wurde über das Bild zusätzlich eine Schraffur gelegt, um die Struktur der Ablage des Bildes zu verdeutlichen. Durch dasRastermusterwirdangedeutet, daß die Informationen nicht etwa Reihe für Reihe abgelegt werden, sondern in kleinen Blöcken, von denen in eine Zeile 40 passen, vertikal dagegen nur 25. Der Fachmann wird sich sofort an die Normaldarstellung von Zeichen erinnern. Tatsächlich ist diese Darstellung eng mit der normalen Zeichendarstellung verwandt.
Bild 3 zeigt eine Vergrößerung eines Blocks. Man erkennt, daß ein Block seinerseits aus einer Matrix von 8 x 8 Punkten besteht. Ergo besteht ein Block aus 64 Punkten, und wir wissen, daß 25 x 40 = 1000 dieser Blöcke auf dem Bildschirm
Bild 4. Beispiel zur Berechnung der Zeilen-Wertigkeiten innerhalb einer HiRes-Rasterzelle
Platz haben, wodurch also insgesamt eine Auflösung von 64000 Punkten erreicht wird. So weit, so gut. Aus Bild 3 geht aber noch weiter hervor, daß die Informationen innerhalb eines einzelnen Blocks zeilenweise abgelegt werden; ein Block setzt sich also aus 8 Bytes zusammen, die ihrerseits wieder in kleinste Informationseinheiten, die Bits, zerlegt werden können. Diese Blöcke werden bei der HiRes-Darstellung so lange aneinandergereiht, bis eine Zeile mit Blöcken (weiterhin auch als »Blockzeile« bezeichnet) gefüllt ist. Der nächste Block liegt dann naheliegenderweise unter dem ersten der vorangegangenen Zeile.
Damit es etwas anschaulicher wird, wollen wir uns an dieser Stelle mit einem kleinen Beispiel befassen.
Aus Bild 2 ist Block 27 in Zeile 13 vergrößert im Bild 4 wiedergegeben (Blockbereich 0-39, Zeilenbereich 0-24). Weiterhin wird für die Beispielrechnung angenommen, daß das Bild im Computer im Grafikschirm 2 (Basisadresse 8192) abgespeichert ist. Wenn Sie nun die Blöcke zeilenweise auszählen, werden Sie feststellen, daß der besagte Block die Nummer 547 (erster Block entspricht der Nummer 0) trägt.
Zunächst wollen wir klären, wie der Inhalt gerade dieses Blocks zu ermitteln ist. Dazö berechnen wir beispielsweise die Adresse von Byte 0 innerhalb dieses Blocks nach der Formel
Byte 0 = Basisadresse+Blockzeilen*320+Blocknummer*8
Wie läßt sich die Formel erklären?
Zunächst einmal ist es verständlich, daß die Basisadresse des Grafikschirms der Positionsberechnung zugrunde liegen muß. Weiterhin faßt eine Blockzeile 40 Blöcke zu je 8 Byte; eine Blockzeile besteht also aus 320 Byte. Nun muß man sich noch innerhalb der aktuellen Zeile zu dem Block bewegen, dessen Inhalt untersucht werden soll. Hierzu multipliziert man einfach die Anzahl der Blöcke mit 8, da sich ein Blockaus 8 Byte zusammensetzt. Beachten Sie bitte bei der Berechnung, daß die Blockzeilen im Bereich 0 bis 24 liegen, die Blocknummern dagegen im Bereich 0 bis 39. So ergibt sich zum Beispiel als Startadresse für den 27. Block in der 13. Zeile:
Byte 0 = 8192 + 13 * 320 + 27 * 8 = 12568
Bei dem Block in unserem Beispiel ergibt also der Basic-Befehl
PRINT PEEK(12568)
den Inhalt von Byte 0 des Blocks 547. Wie groß wird nun dieser Wert sein?
Wie bereits erwähnt, besteht ein Byte aus kleinen Informationseinheiten (Bits). Das Bit kann entweder den Zustand »1« oder den Zustand »0« annehmen. Wenn Sie nun noch einmal Bild 3 betrachten, werden Sie erkennen, daß 8
116
Grundlagen
solcher Bits ein Byte ergeben. Diese Bits werden mit Bit 0 bis Bit 7 von rechts nach links durchnumeriert. Da das Bit nur zweiSchaltzustände annehmen kann, wird zur Berechnung eines Bytes das Binärsystem zugrunde gelegt. Es ist
27=128 26= 64 2’= 32 24= 16 23= 8 22= 4 2*= 2
und schließlich
2°= 1
Bereits mit diesen Vorüberlegungen läßt sich der Inhalt von Byte 0 berechnen. Wie Sie in Bild 4 sehen, ist nur Bit 5 gesetzt, also ergibt sich als Inhalt von Byte 0 der Wert 2s = 32. Diesen Wert würde auch die Abfrage »PRINT PEEK(12568)< ergeben.
Entsprechend ergeben sich zum Beispiel für Byte 2 als Inhalt
23 + 21 + 2° = 8 + 2 + 1 = 11.
Damit lassen sich auch alle anderen Bytes eines Blocks berechnen. DasVerfahrenverläuftanalogzum gezeigten Beispiel. Die Inhalte aller Bytes des Beispiels sind vollständig in Bild 4 wiedergegeben.
Der Drucker kommt ins Spiel
Zunächst muß der Drucker für die Datenausgabe vorbereitet werden. Hierfür müssen Sie sicherstellen, daß ein eventuell vorhandenes Interface keine falsche Interpretation von gesendeten Daten vornimmt. Dies geschieht im Normalfall durch Setzen einer bestimmten Sekundäradresse, bei einigen Herstellern auch als »Linearkanal« bezeichnet, weil gesendete Zeichen im Original an den Drucker weitergeleitet werden.
Ebenso muß der Zeilenvorschub korrigiert werden. Wenn man davon ausgeht, daß acht Punktreihen untereinander in einem Arbeitsgang gedruckt werden können, so ist der Zeilenvorschub so einzustellen, daß die nächste gedruckte Zeile sich nahtlos an die vorhergehende Zeile anschließt. Dazu ist der Zeilenvorschub im Regelfalle auf 24/216 Zoll zu stellen.
Damit sind die besonderen Voreinstellungen, die sowohl für den HiRes- als auch den Multicolor-Modus Gültigkeit
Bild 5. Das gleicheZeichen wie in Bild 4, aber zur
Druckeransteuerung um 90 Grad transformiert
besitzen, vorgenommen. Weitere Operationen beziehen sich nun auf den jeweiligen Modus, von dem ausgegangen wird.
Kommen wir schließlich zu dem schon anfangs erwähnten ESC-K und ESC-L. Mit diesen Sequenzen wird der Bl-Mode eingeschaltet. Doch das reine Einschalten genügt nicht; man muß auch noch spezifizieren, wieviele Daten zum Drucker gesendet werden.
Schauen wir uns zunächst an, wie Gräfik auf dem Drucker ausgegeben wird. Als Beispiel nehmen wir wieder Bezug auf Bild 4. Im ersteh Teil haben wir überlegt, wie ein Block innerhalb des Computers abgelegt wird: ein Block besteht aus 8 Bytes, die horizontal untereinander stehen.
Beim Drucker ist das nicht üblich. Da der Druckkopf im allgemeinen nur aus einer Reihe von vertikal untereinander liegenden Dots (Nadeln) besteht, werden die Daten vertikal aufbereitet erwartet. Wird deshalb im Grafikmodus des Druckers ein Byte gesendet, so werden maximal 8 Punkte vertikal untereinander gedruckt. Wir können vom Computer her jedoch immer nur horizontale Punktreihen per PEEK abfragen. Was benötigt wird, ist eine Routine, die jeweils einen Block aus 8 x 8 Punkten entsprechend umrechnet. Bei unserem Beispiel muß der Block aus Bild 4 entsprechend Bild 5 umgerechnet werden. Bei der Berechnung gehen wir in diesem Fall von derTatsache aus, daß das höchstwertige Bit der Druckerkopfdots innerhalb der Druckkopfmatrix oben liegt. In Ihrem Handbuch kann aber auch nachzulesen sein, daß das höchstwertige Bit in der Druckmatrix nach unten weist. In diesem Fall würden sich die berechneten Werte gemäß Bild 6 ändern. Wie Sie sehen, ist es durchaus wichtig zu wissen, wie die Dotmatrix Ihres Druckers aufgebaut ist.
Wir gehen davon aus, daß der zuerst beschriebene Fall zutrifft. Wie man relativ einfach die Matrix yon Basic aus umrechnen kann, wird durch das Basic-Progfamm in Listing 2 illustriert. Mit diesem kleinen Programm können Sie jede beliebige Matrix umrechnen lassen. Dazu geben Sie nur die Startadresse Ihres Grafikschirms, die Zeile, in der sich der Block befindet und schließlich die Nummer des Blocks ähnlich wie oben in der Formel erwähnt an. Der Inhalt des betreffenden Blockswird in dem Basic-Programm in Listing 2 in den Zeilen 190 bis 210 in das Feld BYTEeingelesen. Nun müssen die Daten gewandelt werden. Dazu folgende Überlegungen:
Um das erste Bit links oben des ersten vertikalen Bytes zu erhalten, muß von Byte 0 Bit 7 betrachtet werden (siehe Bild 4). Wenn es gesetzt ist, so wird es mit 27 = 128 multipliziert; man erhält so einen erstenWert. Dann wird von Byte 1 Bit 7 betrachtet und untersucht, ob das Bit gesetzt ist. Falls dies der Fall ist, wird es mit 2e = 64 multipliziert und zum ersten
Bild 6. Wie Bild 5, aber für Drucker mit entgegengesetzter Nadelnumerierung (Bit 7 unten)
117
Grundlagen
von Byte 2 bis 7 das 7. Bit untersucht und schließlich mit einer absteigenden Potenz von 2 multipliziert und zum jeweils schon erhaltenen Wert (im Listing 2 die Variable OUTPUT) hinzuaddiert. Hat man auf diese Art und Weise das erste vertikale Byte erhalten, kann selbiges an einen Drucker gesendet werden, denn jetzt ist die gewünschte Umwandlung vorgenommen worden, wovon Sie sich durch Nachrechnen überzeugen können.
Da der Block aber aus 8 Bytes besteht, wird dann mit der Aufbereitung des 2. vertikalen Bytes fortgefahren, also Bit 6 von Byte 0 untersucht. Ist es gesetzt, so muß es wieder mit 27 multipliziert werden, damit es an die korrekte Stelle innerhalb der Dotmatrix rutscht. Wieder erhält man einen ersten Zwischenwert. Dann wird Byte 1 auf Bit 6 hin untersucht. Ist es gesetzt, dann wird es mit 26 multipliziert, um dieses Bit an die korrekte Stelle der Dotmatrix des Druckers zu bringen. Nach diesem Verfahren wird fortgefahren, bis auch das letzte vertikale Byte berechnet worden ist.
Wenn Sie das Programm also starten und die Adresse eines Blocks eingeben, so erhalten Sie acht Werte, die jeweils (vergleiche hierzu nochmals den Zusammenhang zwischen den Bildern 4 und 5) die umgerechneten Werte wiedergeben.
Um die Effektivität und Berechnungszeit zu kürzen, wurde die Umrechnung in einen sehr kompakten Ausdruck eingebunden, über den Sie nicht gleich verzweifeln sollten (Zeile 240). Der Ausdruck kann nur verstanden werden, wenn Sie sich schon mal mit der »And/Or-Boolean-Wüste« des Computers beschäftigt haben, und ich möchte deswegen auch hier auf tiefergehende Erklärungen des Ausdrucks verzichten. Wenn Sie sich trotzdem für die Thematik interessieren, so empfehle ich Ihnen die im 64’er, Ausgabe 7/85 gestartete Serie »Logeleien«. Wichtig ist hier aber nur, daß Sie nachvollziehen können, wie die Umrechnung im Prinzip funktioniert.
Block an Block — Reihe an Reihe — fertig ist das HiRes-Bild
Da nun ein Programm erstellt ist, das einzelne Blöcke gemäß unseren Anforderungen aufbereitet, sind wir fast an unserem Ziel angelangt. Die Drucker, bei denen es nicht möglich ist, mehr als einen Block auf einmal zu senden, haben praktisch damit das endgültige Programm, mit dem der Druck von Grafik möglich gemacht wird. Besser dran sind da schon die Besitzer von Druckern, die es erlauben, Grafik zeilenweise auszugeben. Was jetzt nur noch fehlt, sind Schleifen, die die Blöcke hintereinander berechnen und eine korrekte Aufbereitung vornehmen.
Basis des Grafikschirms eingeben .	
Zeilenvorschub -auf 24x216''	
	S e n d e C o d e z u r E i n s c h a 1 t u n g v o n BIM
	Block berechnen und ausgeben
	bis alle Bioecke einer Zeile fertig
	Sende Zeilenvorschub
bis die Zeilen Ö- 24 durchlaufen sind	
Zeilenvorschub auf 1X6" einstellen	
Bild 7. Struktogramm zur Erstellung einer HiRes-Hardcopy
Bild 8. Verschiedene Graustufen für eine Multicolor-Hardcopy
Doch bevor die eigentliche Ausgabe beginnt: der Drucker muß bereit sein! Haben Sie also den Zeilenvorschub korrigiert?
Nun, dann dürfte Ihr Programm dem Struktogramm in Bild 7 entsprechen.
Das Struktogramm enthält einen Punkt, über den man sich noch Klarheit verschaffen sollte:
»Sende Code zur Einschaltung von HiRes«.
Hier stellt sich die Frage, was man dem Drucker mitteilen soll. Da die Daten einer Blockzeile hintereinandergereiht auch einer Blockreihe auf dem Drucker entsprechen sollen, wird deutlich, was dem Drucker mitgeteilt werden muß: — Bl-Mode einschalten, dabei geeignete Punktdichte wählen
— Anzahl der Daten definieren
Da 40 Blöcke zu je 8 Byte gesendet werden sollen, muß dem Drucker mitgeteilt werden, daß 320 Zeichendaten folgen. Üblicherweise wird dazu zur Einschaltung des Bl-Mode ESC-L beziehungsweise ESC-K verwendet. Da die Vorgehensweise bei beiden Steuerbefehlen gleich ist und sie sich nur bezüglich Ihrer Punktdichten unterscheiden, betrachten wir nur ESC-L. Sie werden in Ihrem Druckerhandbuch finden, daß nach dem Einschalten von ESC-L noch definiert werden muß, wieviele Zeichendaten gesendet werden, bevor der Drucker wieder in seinen normalen Modus zurückschaltet. Würde nämlich keine solche Definition vorhanden sein, so würde der Druckerjedes gesendete Byte nach Einschaltung des Bl-Mode als Grafikzeichen interpretieren und dann wäre zum Beispiel ein kontrollierter Zeilenvorschub unmöglich zu realisieren. Da Sie inzwischen wissen, daß sich eine Blockzeile im Computer und deshalb entsprechend auch später aufdem Druckeraus 320 Byteszusammensetzt, müssen Sie vor der eigentlichen Ausgabe der Blockzeile dem Drucker die nachfolgende Anzahl von Zeichendaten mitteilen. Dazu werden üblicherweise zwei Zahlen n1 und n2 nach den Fbrmeln
nl = Zahl der Daten - INT(Zahl der Daten/256) * 256 und
n2 = INT(Zahl der Daten/256)
berechnet. In unserem Beispiel wären also n1 = 64 und n2 = 1. An den Drucker würde man also eine Steuersequenz senden, die folgendermaßen aussieht:
CHR$(27);"K";CHR$(64);CHR$(1);
Danach ist dann der Drucker im Bl-Mode und erwartet 320 Zeichendaten, um dann wieder auf Normalbetrieb zurückzuschalten.
Grundlagen
PAAR 1 2 3 4
Bild 9. Die Aufteilung einer Rasterzelle in Bitpaare bei Multicolor
Das entsprechende Basic-Programm für die Ausgabe eines ganzen Grafikschirms im HiRes-Modus ist in Listing 3 dargestellt. Beachten Sie aber Ihre druckerspezifischen Einschränkungen, bevor Sie das Programm ausprobieren. Überprüfen Sie bitte, wie bei Ihrem Drucker die einzelnen Funktionen angesprochen werden. Hilfestellung sollten Ihnen dabei das Struktogramm aus Bild 7 und das eigentliche Basic-Programm mit den reichlich eingefügten REM-Statements in Listing 3 bieten. Wenn Sie das Listing 2 mit Listing 3 vergleichen, werden Sie weiterhin feststellen, daß der Algorithmus zur Umrechnung eines Blocks übernommen wurde. Mit diesen Abschlußbemerkungen wenden wir uns jetzt dem zweiten Problem zu: dem Druck von Grafik im zweiten Grafikmodus.
Das gleiche Prinzip läßt sich auch auf dem Drucker verwirklichen. Dabei wählt man unterschiedliche Punktdichten, um so den Eindruck zu vermitteln, daß das Bild aus unterschiedlichen Farben besteht. Für uns reicht es wegen der maximal vier darstellbaren Farben aus, anzunehmen, daß die Farben Weiß (Hintergrundfarbe), Schwarz, und zwei Graustufen bereits das ganze Bild darstellen können. Bild 8 zeigt verschiedene Rastermuster.
So steht ein Multicolor-Bild im Speicher
Wieder wird über die Grafik ein Raster gelegt, welches das ganze Bild in einzelne Blöcke aufteilt. Eine Blockreihe besteht ebenfalls wieder aus 40 Blöcken. Ein Block ist in Bild 9 vergrößert. Zu erkennen ist die Struktur der Bitpaare, so daß im Prinzip eine Matrix vorliegt, mit der 4 Punkte in X-Rich-tung und 8 Punkte in Y-Richtung dargestellt werden können. Sie erhalten also eine 4 x 8-Matrix, die dann allerdings auch Informationen zur Farbe der einzelnen Punkte enthält. Zu finden ist nun ein Weg, der wieder Blöcke auswertet und zusätzlich noch Farbinformationen in Form eines Rastermusters mitliefert.
Wie kann man nun die Informationen, die der Block beinhaltet, verarbeiten?
Betrachten Sie zum Beispiel das fünfte Byte des Blocks in Bild 4. In Multicolor-Darstellung setzt sich das Byte aus 4 Bitpaaren zusammen, von denen das erste (Bitpaar 00) mit der Farbe des Hintergrundes, das zweite (Bitpaar 11) in Farbe 3, das dritte wieder in der Hintergrundfarbe und das vierte (Bitpaar 10) in Farbe 2 dargestellt werden würde. Ein Programm muß nun dem Inhalt eines Bitpaares verschiedene Punktdichten zuordnen, die dann als Graustufen auf dem Papier wiedergegeben werden.
Der zweite Akt: Multicolor-Modus
Graustufen mit dem Drucker
Der Multicolor-Modus unterscheidet sich erheblich vom HiRes-Modus. Das liegt daran, daß mehrere Farben verwendetwerden dürfen. Dabei werden immerzwei hintereinanderliegende Punkte zu einer Informationseinheit zusammengefaßt, aus der sich ableiten läßt, ob ein Punkt gesetzt ist, und wenn, in welcher Farbe. Dargestellt werden können in dieser Betriebsart des VIC II nur noch 32000 Bildpunkte.
Ein Punktpaar kann folgende Schaltzustände annehmen (1 = Bit gesetzt, 0 = Bit gelöscht):
00 Punkt nicht gesetzt, wird in Hintergrundfarbe dargestellt
01 Punkt gesetzt, Darstellung in Farbe 1
10	Punkt gesetzt, Darstellung in Farbe 2
11	Punkt gesetzt, Darstellung in Farbe 3
Wie man sich leicht selbst überlegt, muß eine Hardcopy einer Grafik dieses Modus also nicht nur zwischen gesetzten und nicht gesetzten Punkten differenzieren, sondern auch noch zusätzlich die Farbinformation weitergeben.
Drei Farben auf dem Papier — ist das möglich?
Mit einem normalen Drucker wird es selbstverständlich nicht möglich sein, Farben darzustellen. Der Drucker ist nur in der Lage, schwarze Farbe auf das Papier zu bringen. Es drängt sich hier der Vergleich mit einem Schwarzweiß-Fernsehgerät auf. Dort werden die unterschiedlichen Farben durch entsprechende Grauschattierungen wiedergegeben, die aus Mischprodukten von Weiß und Schwarz entstehen.
Wenn davon ausgegangen wird, daß jedes Byte eines Blocks getrennt für sich ausgewertet wird, stellt sich einerseits der Sachverhalt relativ einfach dar, andererseits muß aber mit entsprechender Berechnungszeit kalkuliert werden.
Um ein gutes, kontrastreiches Bild entstehen zu lassen, muß die Punktdichte möglichst groß gewählt werden. Grafikfähige Drucker bieten hierzu meist einen Bl-Mode »vierfache Dichte« an, mit dem eine genügend hohe Auflösung erzielt werden kann. Um das Bild nun möglichst im Maßstab 1:1 auf j dem Drucker auszugeben, muß ein gesetzter Punkt auf dem Drucker durch ein kleines Quadrat wiedergegeben werden.
Basis des 6rafik5Chirws 'eingeben				
Zeilenvorsc hub aufG/216''				
		sende Code zu» Einschalfen SIM	
			Rastemuster eines Bytes eines einzelnen Blocks berechnen
		bis alle Bloecke verarbeitet	
		sende Zeilenvorschub	
	b i S	Bytes aller Bloecke abgearbeitet	
bis die Zeilen O~ Z4 durchlaufen sind			
Zeilenvurschub auf~~l/67";"	einstei. 1 en_			
Bild 10. Struktogramm zur Erstellung einer Multicolor-Hardcopy
119
Grundlagen
Bild 11. Beispielausdruck in »Multicolor«
Indem innerhalb eines solchen einzelnen Quadrates unterschiedliche Punkte gesetzt werden, erhält man unterschiedliche Grauwerte. Betrachten Sie hierzu einmal das Programm in Listing 4. Ähnlich wie im Fall einer HiRes-Grafik beschäftigen wir uns mit der Umwandlung eines einzelnen Blocks. Die Bestimmungsformeln zur Positionsbestimmung eines Blocks sind identisch mit denen zur Positionsbestimmung eines HiRes-Blocks, die Auswertung dagegen erfolgt anders. Die Rastermuster in den Zeilen 160 bis 190 erzeugen bei der gewählten vierfachen Punktdichte bei Ausgabe auf dem Drucker jeweils ein kleines Quadrat, das einen gesetzten Punkt in entsprechendem Grauwert wiedergibt (weiß wird hier auch mit einem Grauwert identifiziert). Diese Rastermuster werden zu Beginn des Programms in ein Feld DRUCKMATRIX eingelesen. Danach wird wie üblich definiert, welcher Block des Grafikbildschirms ausgegeben werden soll.
Während bei einer HiRes-Grafik die vertikalen Werte eines Blocks auf dem Bildschirm ausgegeben wurden, wird hier dagegen direkt der Drucker angesprochen, um das Prinzip der Umwandlung der Bitpaare in Rastermuster zu verdeutlichen. Dadie Informationen innerhalb eines Blocks byteweise verarbeitet werden und da natürlich nach dem ersten berechneten Rastermuster für Byte 0 das zweite Rastermuster direkt unter dem ersten liegt, muß zusätzlich der Zeilenvorschub entsprechend korrigiert werden. Dazu wird derZeilen-vorschub auf zirka 6/216 Zoll gesetzt (siehe Zeile 270). Da weiterhin ein Byte des betrachteten Blocks aus vier Bitpaaren besteht, müssen selbstverständlich auch vier Rastermuster nebeneinander auf dem Drucker erzeugt werden.
Das Bit-Rastermuster
Weil das Rastermuster eines Bits aber schon aus acht Daten (siehe DATA-Zeilen) zusammengesetzt wird, werden also 32 Daten pro Byte an den Drucker gesendet. Daher erklärt sich die Sequenz CHR$(32);CHR$(0) in Zeile 300, durch die der Bl-Mode eingeschaltet wird und 32 Daten als reine Grafikdaten vom Drucker erwartet werden. Dann wird in
den Zeilen 330 der Inhalt eines Bytes eines Blocks ermittelt und daraufhin in den Zeilen 340 bis 380 in seine Bitpaare zerlegt.
Entsprechend dieser Zerlegung erhält die Variable RASTER einen Wert zwischen null und drei (wegen logischer Verknüpfungsoperationen). Durch die so zustande kommenden 1nhalte der Variable RASTER kann an den Drucker die passende Druckmatrix gesendet werden. Mit Byte 1 bis 7 des gleichen Blocks wird genauso verfahren. Sie erhalten dadurch auf dem Drucker ein Rastermuster, dessen Aussehen von den Eingangsdaten abhängt.
Der nächste Schritt: Ausgabe eines Multicolor-Bildes
Ein Block besteht aus 8 untereinanderliegenden Bytes. Von diesen Blöcken stehen in einer Zeile 40 und ergeben so eine Blockreihe. Wenn wir nach dem oben beschriebenen Prinzip weiter vorgehen wollen, dann muß zunächst Byte 0 von Block 1 berechnet werden. Daraufhin darf man jedoch nicht das zweite Byte des Blocks auswerten, sondern muß Byte 0 des Blocks 2 berechnen, da die nächste Information neben dem Byte 0 des Blocks 1 liegt. Man fährt nach diesem Auswertungsprinzip fort, bis Byte 0 des Blocks 40 einer Blockreihe berechnet ist und führt erst dann einen Zeilenvorschub aus, der aber so bemessen sein muß, daß die folgenden Punkte direkt an die vorhergehenden anschließen.
Genauso wird jeweils Byte 1 bis 7 für alle Blöcke einer Reihe ausgewertet und daraufhin mit der nächsten Blockzeile fortgefahren. Es ergibt sich ein Algorithmus, der vollständig durch das Struktogramm in Bild 10 beschrieben wird. Dieses Struktogramm wurde in Listing 5 in ein Basic-Programm umgesetzt. Wieder werden Sie in wesentlichen Teilen die Übereinstimmungen zum Programm zur Berechnung eines Blocks im Multicolor-Modus erkennen.
Als Ergebnis Ihrer Bemühungen dürften Sie eine Hardcopy Ihres im Computer befindlichen Bildes erhalten, das etwa so wie das Beispiel in Bild 1 aussieht.
Auf ein Wort: Basic
Nun kennen Sie zwar die Geheimnisse, die es Ihnen ermöglichen, selbst hochauflösende Grafiken auf dem Drucker auszugeben, aber spätestens wenn Sie eines der beiden Programme aus Listing 3 oder 4 eintippen und anschließend starten, wird Ihre Freude gedämpft sein, denn derComputer macht seinem Namen alle Ehre: er rechnet. Die Berechnungen nehmen aber so viel Zeit in Anspruch, daß man mitunter die Geduld verliert. Was hier also wünschenswert erscheint, ist eine Programmiersprache, die die ganze Sache etwas beschleunigt. Das naheliegendste: Benutzung von Maschinensprache. Dadurch verkürzt sich zum Beispiel die Ausgabe einer HiRes-Grafik auf 30 Sekunden (etwa durch das in der 64’er-Ausgabe 8/84 auf Seite 83 veröffentlichte Listing). Das werden Sie zu schätzen wissen, wenn Sie einmal das entsprechende Basic-Programm haben laufen lassen und dann die Maschinenroutine dagegenhalten.
Wenn Sie also Maschinensprache beherrschen und nun das Prinzip der Grafikausgabe auf dem Drucker verstehen, empfehle ich Ihnen, eine Ihren Erfordernissen angepaßte Maschinenroutine zu schreiben, um Grafik auf dem Drucker auszugeben.
Deshalb gebe ich hier dem interessierten Maschinenspracheprogrammierer Informationen über eine möglichst einfache Ansteuerung des Druckers. Dazu zunächst eine Liste aller verwendbaren Systemroutinen und Zero-Page-Adressen:
120
Grundlagen
BSOUT	$FFD2	Ausgabe eines Bytes auf aktivem Kanal
OPEN	$FFCO	Eröffnen eines Files auf dem Drucker
CKOUT	$FFC9	Ausgabe auf definiertem Kanal einleiten
CLRCH	$FFCC	Ausgabe wieder auf Standard zurücksetzen
CLOSE	$FFC3	Schließen eines Files auf dem Drucker
SETPAR	$FFBA	Setzen der Parameter für OPEN
LAENGE	$B7	für die Länge eines Strings bei OPEN
Bevor Sie ein File auf dem Drucker eröffnen, ist dem Computer erst mitzuteilen, welche Filenummer, welche Primäradresse und welche Sekundäradresse für das zu öffnende File zu verwenden sind. Da insbesondere beim Öffnen keine Zeichenkette an den Drucker zu senden ist, muß zunächst einmal das Flag LAENGE auf Null gesetzt werden:
LDA #0
STA LAENGE
Daraufhin wird in den Akku die Filenummer, in das X--Register die Primäradresse des Druckers (normalerweise 4) und in das Y-Register die Sekundäradresse eines Files geladen, das dann später durch OPEN eröffnet wird. Zuerst müssen aber mit der Systemroutine SETPAR die Werte für einen OPEN-Befehl gesetzt werden, bevor die OPEN-Routine angesprungen werden darf.
LDA #Filenummer
LDX #Primäradresse
LDY #Sekundäradresse
JSR SETPAR
JSR OPEN
Damit ist ein Kanal für die Ausgabe auf dem Drucker definiert. Die eigentliche Ausgabe auf dem Drucker wird durch das nochmalige Laden der Filenummer in das X-Register und das Anspringen der Systemroutine CHKOUT eingeleitet.
LDX #Filenummer
JSR CHKOUT
Danach kann man Zeichen, die im Akku stehen, mittels der Routine BSOUT auf dem Drucker ausgeben.
LDA #auszugebendes Zeichen JSR BSOUT
Durch diese Routine wird die Ausgabe, die mittels der Routine BSOUT normalerweise auf dem Bildschirm erfolgen würde, auf den Drucker umgeleitet. Das heißt unter anderem, daß dann während dieser Umleitung keine Zeichenausgabe auf dem Bildschirm vorgenommen werden kann. Wollen Sie die Umleitung wieder aufheben, so können Sie dies mit Hilfe von CLRCH erreichen:
JSR CLRCH
Diese Systemroutine setzt die Ausgabe auf den Bildschirm (und die Eingabe auf dieTastatur) zurück. Beachten Sie bitte, daß das Druckerfile noch nicht geschlossen ist und Sie jederzeit wieder mit der beschriebenen Syntax bei der Systemroutine CHKOUT die Ausgabe erneut umleiten können.
Das Druckerfile schließen können Sie mit der Routine CLOSE. Dazu laden Sie die Filenummer in den Akku:
LDA #Filenummer
JSR CLOSE
Danach ist das Drucker-File ordnungsgemäß geschlossen. So, damit hätten wir unsere umfangreiche Expedition in das Gebiet der Grafikumsetzung für Druckausgaben abgeschlossen. Ich hoffe, daß Sie Ihnen ein wenig Spaß gemacht und Ihr Interesse an der Problematik geweckt hat. Ich wünsche lhnenjedenfalls viel Erfolg bei der Programmierung einer eigenen Grafikroutine, sei es nun in Basic oder einer anderen Programmiersprache.
(Frank Lonczewski/ev)
100 REM *****************************	<112>
110 REM	*	*	<159>
120 REM	*	HIRES-BILD VERSCHIEBUNG	*	<174>
130 REM	*	*	<179>
140 REM *****************************	<152>
150 DATA	165,001,072,169,000,133,251,133	<140>
160 DATA	253,169,032,133,254,120,169,052	<247>
170 DATA	133,001,162,032,160,000,177,251	<205>
180 DATA	145,253,200,208,249,230,252,230	<244>
190 DATA	254,202,208,240,104,133,001,088	<020>
200 DATA	096	<176>
210 FOR 1=4096 TO 4136:READ A:POKE I,A:PS= PS+AsNEXT I	<023>
220 IF PS<>6115 THEN PRINT"PRUEFSUMMENFEHL
ER":STOP	<158>
230 FOR 1=1 TO 7:PRINT"{CLR>GRAFIKBILDSCHI RM:";I	<230>
240 PRINT"<DOWN>STARTADRESSE:"1*8192:POKE 252,1*32	<253>
250 SYS 4096:GOSUB	280:PRINT"{CLR}"	<132>
260 POKE 53265,PEEK(53265)0R 32:P0KE 53272 ,PEEK(53272)0R 8:G0SUB 280	<002>
270 POKE 53265,PEEK(53265)AND 223:P0KE 532 72,PEEK(53272)AND 247:NEXT I:END	<208>
280 FOR J=1 TO 2000:NEXT JsRETURN	<108>
© M'w
Listing 1. HiRes-Bildverschiebung. Bei der Eingabe bitte den Checksummer 64 in diesem Heft beachten.
100 REM	*******************************	<238>
110 REM	*	*	<159>
120 REM	*	MATRIX-	UMRECHNUNGSPROGRAMM	*	<165>
130 REM	*	*	<179>
140 REM *******************************	<022>
150 INPUT"BASIS (X*8192) ";BASIS	<202>
160 INPUT"ZEILE (0-24)<3SPACE>";ZEILE	<008>
170 INPUT"BLOCK (0-39)<3SPACE>";BLOCK	<114>
180 DIM BYTE(7)	<237>
190 FOR 1=0 TO 7	<003>
200 BYTE(I)=PEEK(BASIS+ZEILE*320+BLOCK*8+I )	<050>
210 NEXT I:PRINT:PRINT"AUSGABE DER BERECHN ETEN WERTE:"sPRINT	<078>
220 FOR 1=0 TO 7:REM 7 BYTES VERTIKAL	<191>
230 OUTPUT=0sFOR 10=0 TO 7	<017>
240 OUTPUT=OUTPUT-((BYTE(I0)AND 2t(7-I))>0 )*2t(7-I0):NEXT 10	<017>
250 PRINT OUTPUT:NEXT I	<147>
© G4'er
Listing 2. Matrix-Umrechnungsprogramm. Bei der Eingabe bitte den Checksummer 64 in diesem Heft beachten.
100 REM********************************	<150>
110 REM*	*	<159>
120 REM* HIRESBILDAUSGABE AUF DRUCKER *	<170>
130 REM*	*	<179>
140 REM********************************	<190>
150 INPUT"BASIS (X*8192> ";BASIS:REM EINGA BE DER BASIS	<074>
160 OPEN l,4,4:REM EROEFFNEN DES DRUCKERS
MIT	LINEARKANAL	=>SEKUNDAERADRESSE 4	<148>
170 PRINT#l,CHR$C27);"3";CHR$(24);:REM ZEI
LENVORSCHUB AUF	24/216"	<091>
180 DIM	BYTE(7)	<237>
185 FOR	J=0 TO 24:REM ZEILEN	1-25	<182>
Listing 3. HiRes-Bildausgabe auf Drucker.
Bitte beachten Sie den Checksummer-Artikel.
Grundlagen
186 PRINT#1,CHR$(27);"K”;CHR*(64);CHR*(1);
sREM SENDEN DES CODES FUER HIRES EIN <160> 187 FORK=0TO 39sREM BLOECKE 1-39	<006>
190 FOR 1=0 TO 7sREM AKTUELLER BLOCK UMREC
HNEN	<150>
200 BYTE (!)=PEEK(BASIS+J*320+K*8+I)	<118>
210 NEXT I	<038>
220 FOR 1=0 TO 7sREM 7 BYTES	VERTIKAL	<191>
230 OUTPUT=0:FOR I0=0TO 7	<017>
240 OUTPUT=OUTPUT-((BYTE(I0)AND 2t(7-I))>0
)*2t(7-I0)sNEXT 10	<017>
250 PRINT#l,CHR$(OUTPUT);:NEXT I:REM BLOCK
AUSGEBEN, ENDE BLOCKUMRECHNUNG	<218>
260 NEXT K:REM ENDE BLOECKE EINER REIHE	<232>
270 PRINT#l,CHR*(10)sREM ZEILENVORSCHUB	<018>
280 NEXTJsREM ENDE SCHLEIFE EINER REIHE	<083>
290 PRINT#l,CHR$(27)"2"sREM ZEILENVORSCHUB
WIEDER AUFl/6" BRINGEN	<221>
300 CLOSE lsREM SCHLIESSEN DRUCKERKANAL	<184>
© 64'er
Listing 3. HiRes-Bildausgabe auf Drucker. (Schluß) Bei der Eingabe bitte den Checksummer 64 in diesem Heft beachten.
100	REM *****************************	<112>
110	REM *	*	<159>
120	REM *	MULTICOLORMATRIX	*	<226>
130	REM * UMRECHNUNGSPROGRAMM	*	<135>
140	REM *	*	<189>
150	REM *****************************	<162>
160	DATA 0,0,0,0,0,0,0,0:REM RASTERMUSTER BITPAAR (00)	<189>
170	DATA 2,2,l,l,2,2,l,l:REM RASTERMUSTER BITPAAR (01)	<109>
180	DATA 2,2,0,0,l,l,0,0:REM RASTERMUSTER BITPAAR (10)	<074>
190	DATA 3,3,3,3,3,3,3,3:REM RASTERMUSTER BITPAAR (11)	<220>
200	DIM DRUCKMATRIX(3,7):REM DREI RASTERMU STER MIT JEWEILS 7 DATEN	<128>
210	FOR 1=0 TO 3	<021>
220	FOR 10=0 TO7	<026>
230	READ DRUCKMATRIX(I,10)	<048>
240	NEXT I0,I	<030>
250	INPUT"BASIS (X*8192> ";BASIS	<046>
251	INPUT"ZEILE (0-24)<3SPACE>";ZEILE	<099>
252	INPUT MBLOCK (0-39)<3SPACE }”;BLOCK	<196>
260	OPEN l,4,4sREM EROEFFNEN DES DRUCKERS MIT LINEARKANAL =>SEKUNDAERADRESSE 4	<250>
270	PRINT#l,CHR$(27);"3";CHR$(5);sREM ZEIL ENVORSCHUB AUF 6/216“	<034>
290	FOR REIHE=0 TO 7 :REM REIHEN EINES BLO CKS	<025>
300	PRINT#1,CHR$(27);"Z";CHR$(32);CHR$(0);	<033>
310	REM BIMODE 4-FACHE DICHTE EIN (MAX 192 0 PUNKTE)	<045>
330	BYTE=PEEK(BASIS+ZEILE*320+BLOCK*8+REIH E)	<031>
340	FOR 1=6 TO 0 STEP-2sREM 4 BITPAARE AUS ZUWERTEN	<166>
350	RASTER=-((BYTE AND 2T(I+l))>0)*2-((BYT E AND 2tI)>0)	<169>
360	FOR 10=0 TO 7	<168>
370	PRINT#1,CHR$(DRUCKMATRIX(RASTER,10));2 REM DRUCKMATRIX AUSGEBEN	<050>
380	NEXT I0,I:REM AUSWERTUNG ENDE	<153>
400	PRINT#l,CHR$(10)sREM ZEILENVORSCHUB UM	
	6/216“	<057>
410	NEXT REIHE:REM NAECHSTE DES BLOCKS BEA RBEITEN	<107>
420	PRINT#1,CHR$(27);”2”sREM ZEILENVORSCHU B WIEDER AUF 1/6” BRINGEN	<198>
430	CLOSE 1	<187>
© G4*er
Listing 4. Umrechnungsprogramm für Multlcolor-Matrix. Bei der Eingabe bitte den Checksummer 64 in diesem Heft beachten.
100	REM *****************************	<112>
110	REM *	*	*	<159>
120	REM * MULTICOLORBILDAUSGABE	*	<076>
130	REM *	AUF DRUCKER	*	<013>
140	REM *	*	<189>
150	REM *****************************	<162>
160	DATA 0,0,0,0,0,0,0,0:REM RASTERMUSTER BITPAAR (00)	<189>
170	DATA 2,2,l,l,2,2,l,l:REM RASTERMUSTER BITPAAR (01)	<109>
180	DATA 2,2,0,0,l,l,0,0:REM RASTERMUSTER BITPAAR (10)	<074>
190	DATA 3,3,3,3,3,3,3,3:REM RASTERMUSTER BITPAAR (11)	<220>
200	DIM DRUCKMATRIX(3,7)sREM DREI RASTERMU STER MIT JEWEILS 7 DATEN	<128>
210	FOR 1=0 TO 3	<021>
220	FOR 10=0 TO 7	<026>
230	READ DRUCKMATRIX(I,I0)	<048>
240	NEXT I0,I	<030>
250	INPUT“BASIS (X*8192) ";BASIS	<046>
260	OPEN l,4,4:REMER0EFFNEN DES DRUCKERS MIT LINEARKANAL =>SEKUNDAERADRESSE 4	<250>
270	PRINT#1,CHR$(27);”3“;CHR$(5);:REM ZEIL ENVORSCHUB AUF 5/216”	<161>
280	FOR ZEILE=0 TO 24sREM ZEILEN	<009>
290	FOR REIHE=0 TO 7 :REM REIHEN EINES BLO CKS	<025>
300	PRINT#1,CHR$(27);"Z";CHR$(0);CHR*(5);	<184>
310	REM BIMODE 4-FACHE DICHTE EIN (MAX 192 0 PUNKTE)	<045>
320	FOR BLOCK=0 TO 39:REM FUER ALLE BLOECK E	<255>
330	BYTE=PEEK(BASIS+ZEILE*320+BLOCK*8+REIH E)	<031>
340	FOR 1=6 TO 0 STEP-2sREM 4 BITPAARE AUS ZUWERTEN	<166>
350	RASTER=-((BYTE AND 2t(1+1))>0)*2-((BYT E AND 2TI)>0)	<169>
360	FOR 10=0 TO 7	<168>
370	PRINT#1,CHR$(DRUCKMATRIX(RASTER,I0)) ; 3 REM DRUCKMATRIX AUSGEBEN	<050>
380	NEXT I0,I:REM AUSWERTUNG ENDE	<153>
390	NEXT BLOCK	<198>
400	PRINT#1,CHR$(10)sREM ZEILENVORSCHUB	<148>
410	NEXT REIHE,ZEILE	<020>
420	PRINT#1,CHR#(27);"2"sREM ZEILENVORSCHU B WIEDER AUF 1/6“ BRINGEN	<198>
430	CLOSE 1	<187>
e 64'er
Listing 5. Multicolor-Bildausgabe auf Drucker. Bei der Eingabe bitte den Checksummer 64 in diesem Heft beachten.
Tips &Tricks
Funktionen auf Tastendruck
Mit diesem Beitrag zeigen wir Ihnen, wie auf Tastendruck beliebige Funktionen oder Programme auch während eines Programmlaufs gestartet werden können. Egal ob es sich nun um ein Basic- oder Maschinenprogramm handelt.
Dieser Artikel soll Ihnen das Thema »Funktionen« anhand eines Beispiels näherbringen. Das Beispielprogramm können Sie mit etwas Assemblerkenntnis auch für Ihre Programme verwenden. Vorschlag: Der F1-Taste wird eine Funktion zugeordnet. Durch Drücken der F1-Taste soll jederzeit das Directory einer Diskette am Bildschirm gezeigt werden, ohne daß ein im Speicher vorhandenes Programm gelöscht wird. Während das Directory geladen wird, soll der Bildschirmrahmen die Farbe des Hintergrundes annehmen.
Es wurden schon viele solcher Utilities veröffentlicht. Diese Programme werden aber im Regelfall durch Drücken der STOP/RESTORE-Tasten wieder abgeschaltet. Sollen diese Routinen dagegen gewappnet sein, so versagen sie spätestens nach einem Reset. Im Gegensatz zu diesen »Billigmethoden« soll aber unsere Directory-Funktion der F1-Taste auch nach einem Reset erhalten bleiben.
Um derartige Anforderungen zu realisieren, müssen einige Betriebssystemroutinen zumindest angeschnitten werden. Die Wichtigste ist die Interruptroutine des C 64. Die Interruptroutine ist ein computerinternes Programm, das sehr oft angesprochen wird. Befindet sich der Computer im »Ready«-Modus, wird die Interruptroutine beispielsweise alle 1/60 Sekunde durchlaufen. Wird der C 64 in Anspruch genommen, etwa durch Diskettenoperationen, wird dieses Programm jedoch seltener bearbeitet. Der Interrupt erfüllt viele Aufgaben. Er stellt beispielsweise die Uhrzeit (TI,TI$) nach, läßt den Cursor blinken und übernimmt die Tastaturabfrage. Das Interruptprogramm befindet sich ab Adresse $EA31 im Betriebssystem. Der Computer sucht sich diese Adresse über einen Wegweiser. Dieser Wegweiser steht bei Adresse $0314 und $0315 in der Zero-Page. Ein solcher Wegweiser wird im Fachjargon als Vektor bezeichnet. Da sich der Vektor im RAM befindet, kann dieser verändert werden. Das heißt, daß der Interrupt »umgeleitet« werden kann. Doch davon später.
Wie funktioniert eine Modulerkennung?
Eine zweite gewichtige Betriebsroutine ist die Modulerkennung. Diese benötigt man, damit die geplante Funktion der F1-Taste »resetfest« wird und zugleich immun gegen die Tastenkombination STOP/RESTORE. Die Kennungs-Routine überprüft, ob sich ein Steckmodul im Expansion-Port befin-
det. Und zwaran der Codefolge »cbm80« ab Adresse $8004. Diese ASCII-Codefolge entspricht den Hex-Zahlen $C3,$C2,$CD,$38 und $30. Findet der Computer diese fünf Zahlen ab Adresse $8004, werden sowohl bei einem Reset als auch beim Drücken der Restore-Taste nicht mehr die Standardroutinen angesprochen. Der C 64 springt die Adressen an, deren Vektoren in $8000/8001 und $8002/8003 stehen. Der erste Vektor ist der Resetvektor. Der Resetvektor zeigt auf die Adresse, die nach einem Reset angesprungen wird. Nach STOP/RESTORE holtsich der C 64 die Sprungadresse des NMI-Vektors aus den Speicherzellen $8002 und 8003. Ist kein Modul eingesteckt, ist der Adreß-bereich ab $8000 als RAM freigegeben. Wenn man nun ab Adresse $8004 die oben genannte Codefolge ablegt, nimmt der C 64 an, daß sich ein Modul im Expansion-Port befindet. Durch diesen Trick kann der Reset- und NMI-(RESTORE-) Vektor verändert werden.
123
Tips &Tricks
Da unser Programm wegen dieses Tricks mitten im Basic-Speicher steht, muß es vor dem Überschreiben durch lange Basic-Programme oder Stringvariablen gesichert werden. Dies erreicht man, wenn man den Zeiger für den Stringspeicher $33-$34 und den Zeiger für die Speichergrenze auf $8000 setzt.
Doch nun zum Programm selbst. Nach dem Eingeben des Programmes mit Hilfe des MSE kann es mit SYS 32819 oder mit einem Reset (SYS 64738) initialisiert werden. Dabei wird der lnterruptauf die Adresse $8046 umgeleitet und das Programm vor dem Überschreiben geschützt. Solange der Interruptvektor verändert wird, muß der Interrupt gesperrt werden. Das heißt, daß während dieser Zeit die Interruptroutine nicht angesprungen werden darf. Ein Interrupt muß auch verhindert werden, wenn gerade ein Interruptprogramm stattfindet. Die Katze soll sich schließlich nicht in den eigenen Schwanz beißen. Um einen Interrupt zu sperren, gibt es einen speziellen Assemblerbefehl, den SEI (Set Interrupt Flag). Ist das IRQ-Flag (IRQ, Interrupt Request) gesetzt, läßt sich der 6502-Prozessor nicht mehr durch einen Interrupt unterbrechen, um ein anderes Programm auszuführen. Um den Interruptvektor auf unser Beispielprogramm zu richten, muß in Speicherzelle $0314 das Lowbyte ($46) und in $0315 das Highbyte ($80) unserer Programmadresse ($8046) geschrieben werden. Danach kann das Interruptflag wieder gelöscht werden. Der Assemblerbefehl dazu lautet CLI (Clear Interrupt Flag). Wird nun ein Interrupt ausgelöst (von den CIAs), springt der Prozessor zur Adresse $8046. In unserem Beispiel setzt dort die Abfrage der F1-Taste ein. Ist sie gedrückt oder nicht? Eine Antwort darauf liefert die Adresse $CB in der Zero-Page. Denn der Inhalt von $CB gibt Auskunft darüber, welche Taste zuletzt gedrückt wurde. War es die F1-Taste, steht dort eine »4«.
Den Code einer jeden Taste können Sie mit der folgenden Basic-Anweisung leicht ermitteln:
FOR 1=1 TO 10000 : PRINT PEEK(203) : NEXT I
Drücken Sie danach die gewünschte Taste, erscheint die zugehörige Zahl am Bildschirm.
Das Beispielprogramm reagiert nun folgendermaßen: Ist dieF1-TaSte nicht gedrückt, also der Inhalt der Speicherzelle ungleich 4, wird in Speicherzelle $8009 der Wert $FF geschrieben und die Adresse $EA31 angesprungen. Wie schon erwähnt, steht ab $EA31 die normale IRQ-Routine des C 64. Warum in Speicherzelle $FF geschrieben wird, soll später erklärt werden.
Wurde die F1-Taste gedrückt, wird das Beispielprogramm bearbeitet. Dabei verändert der Bildschirm seine Rahmenfarbe und das Unterprogramm »Directory« ab Adresse $8074 wird abgearbeitet. Ab Adresse $8074 kann jedes beliebige Unterprogramm stehen. Voraussetzung ist nur, daß dieses mit RTS abgeschlossen wird. In diesem Beispiel ist es eben das Zeigen eines Diskettendirectories.
Stellen Sie sich jetzt vor, es würde kein Directory gelesen, sondern irgendeine Funktion aufgerufen, die einen sehr kleinen Zeitbedarf hat. Eventuell eine Einstellung von Bildschirmfarben, wo verfügbare Farben durch Drücken der F1-Taste gezeigt werden. Alle 1/60 Sekunde würde dann die Farbewechseln. Unmöglich! Deshalb istin dieTastenabfrage noch ein Trick eingebaut, der das verhindert. Dazu wird nach dem Drücken von F1 ein Flag gesetzt (Speicherzelle $8009 auf $00) und erst dann die Funktion aufgerufen. Ist beim nächsten Interrupt $8009 immer noch »0«, so heißt das, daß die F1-Taste in der Zwischenzeit noch nicht losgelassen wurde. Die Funktion soll dann nicht nochmal ausgeführt, sondern mit der originalen IRQ-Routine fortgefahren werden.
Wäre die F1-Taste in der Zwischenzeit losgelassen worden, hätte in der Speicherzelle $CB eine Änderung stattgefunden. Unsere IRQ-Routine hätte das erkannt und in $8009 den Hex-Wert $FF geschrieben.
<
Damit die Funktions-Belegung derF1-Taste nicht durch einen Reset zerstört werden kann, wurde das Prinzip der Modulerkennung genutzt. Der Resetvektor zeigt auf die Adresse $800A. Ab dieser Adresse wurde einfach der Anfang des Originalresets nachgebildet. Nachdem der Arbeitsspeicher neu initialisiert und alle Vektoren (auch Interruptvektor) mit ihren Standardwerten belegt wurden, springt »unser« Reset nach $8033 und initialisiert wieder die F1-Taste. Anschließend wird der Prozessor wieder auf seinen gewohnten Weg geschickt ($FCFB).
Unempfindlich gegen Reset
Der NMI-Vektor wurde auf die Adresse $801F »verbogen«. Ab dieser Adresse ist der Original-NMI nachgebaut Bis auf den Sprung an die Adresse $FD15, der weggelassen wurde. Dort wird nämlich die Interruptadresse korrigiert und die F1-Taste abgeschaltet, was die ganzen Anstrengungen zunichte machen würde.
Das Beispielprogramm kann natürlich beliebig erweitert oder geändert werden. Es wäre zum Beispiel möglich, die Buchstabentasten über die CTRL-Taste mit einer vierten Funktion zu belegen. Ähnlich SHIFT/CBM. Ein anderer Einsatz wäre der Aufruf einer Hardcopy. VersuchenSie einfach mal, eine Hardcopyroutine über ????? aufzurufen, statt die Directory-Funktion. Sie müssen dazu nur den JSR $8074-Befehl ab Adresse $806A so ändern, daß die von Ihnen gewählte Routine abgearbeitet wird. Der Befehl lautet dann vielleicht JSR $C000. Haben Sie keine Angst vor Maschinensprache! Experimentieren Sie doch einfach mit diesem Programm. Eine einfache Übung: Stellen Sie mit der F1-Taste die Farben ein.
(Christian Quirin Spitzner/hm)
programm : directory	8000 80ef
8000 : 0a 80 lf 80 c3 c2 cd 38 lc
8008 :	30	ff	8e	16	d0	20	a3	fd	37
8010 :	20	50	fd	20	b7	e4	20	15	29
8018 :	fd	20	33	80	4c	fb	fc	20	db
8020 :	bc	f6	20	el	ff	d0	09	20	86
8028 :	a3	fd	20	18	e5	6c	02	a0	e0
8030 :	4c	72	fe	78	a2	46	a0	80	64
Tips &Tricks
9038		8e	14	03	8c	15	03	58	a9	41
8040		80	85	34	85	38	60	a5	cb	f5
8048		c9	04	f0	08	a9	ff	8d	09	33
8050		80	4c	31	ea	ad	09	80	c9	59
8058		ff	d0	f6	a9	00	8d	09	80	44
8060	■	ad	20	d0	48	ad	21	d0	8d	9d
8068		20	d0	20	74	80	68	8d	20	49
8070		d0	4c	31	ea	a9	01	20	c3	bb
8078	V	ff	a9	24	8d	f0	03	a9	30	35
8080		8d	fl	03	a9	01	a2	08	a0	82
8088		00	20	ba	ff	a9	02	a2	f0	5e
8090	0	a0	03	20	bd	ff	20	c0	ff	76
8098		a9	40	20	90	ff	a2	01	20	d5
80a0		c6	ff	20	90	ff	20	cf	ff	c0
80a8		20	cf	ff	20	cf	ff	20	cf	dl
80b0		ff	c9	00	f0	31	a9	01	85	21
80b8		cc	a2	01	20	c6	ff	20	cf	a6
80c0		ff	a8	20	cf	ff	48	98	aa	0f
80c8		68	20	cd	bd	a9	20	20	d2	2d
80d0	■	ff	20	cf	ff	c9	00	d0	08	c3
80d8		a9	0d	20	d2	ff	b8	50	cb	09
80e0		20	d2	ff	b8	50	eb	a9	01	8d
80e8	0	20	c3	ff	20	cc	ff	60	00	3c
Listing zum Directory auf Tastendruck. Beachten Sie den MSE
8000 8002 8004 8009	0a 37 c3 ff	80 80 c2	cd	* ; 38 30	;	
800a	8e	16	d0	stx	$d016
800d	20	a3	fd	jsr	$fda3
8010	20	50	fd	jsr	$fd50	|
8013	20	b7	e4	jsr	$e4b7
8016	20	15	fd	jsr	$fdl5 ;
8019	20	33	80	jsr	$8033	;
801c	4c	fb	fc	jmp	$fcfb |
801f	20	bc	f6	Jsr	$f6bc ;
8022	20	el	ff	jsr	$ffel ;
8025	d0	09		। bne	$8030	;
8027	20	a3	fd	jsr	$fda3 ;
802a	20	18	e5	jsr	$e518	;
802d	6c	02	a0	jmp	($a002) ;
8030	4c	72	fe	Jmp	$fe72	;
8033	78			sei	
8034	a2	46		ldx	#$46	;
8036	a0	80		ldy	#$80	;
8038	8e	14	03	stx	$0314	;
803b	8c	15	03	sty	$0315	;
803e	58			cli	*
803f	a9	80		lda	*$80	;
8041	85	34		sta	$34	;
8043	85	38		sta	$38	|
8045	60			rts	
8046	a5	cb		lda	$cb	;
8048	c9	04		cmp	#$04	;
804a	f0	08		beq	$8054	;
804c	a9	ff		lda	#$ff	|
804e	8d	09	80	sta	$8009	|
8051	4c	31	ea	jmp	$ea31	;
8054	ad	09	80	lda	$8009	|
8057	c9	ff		cmp	#$ff
8059	d0	f6		bne	$8051	;
805b	a9	00		lda	*$00	;
805d	8d	09	80	sta	$8009	;
8060	ad	20	d0	lda	$d020	;
8063	48			pha	*
8064	ad	21	d0	lda	$d021	;
8067	8d	20	d0	sta	$d020	;
806a	20	74	80	jsr	$8074	;
806d	68			Pla	
806e	8d	20	d0	sta	$d020	;
8071	4c	31	ea	Jmp	$ea31	;
8074	a9	01		lda	#$01
8076	20	c3	ff	jsr	$ffc3 ;
8079	a9	24		lda	#$24
807b	8d	f0	03	sta	$03f0
807e	a9	30		lda	#$30
8080	8d	fl	03	sta	$03fl
8083	a9	01		lda	#$01
8085	a2	08		ldx	#$08
8087	a0	00		ldy	#$00
8089	20	ba	ff		$ffba ;
808c	a9	02		lda	#$02
808e	a2	f0		ldx	#$f0
8090	a0	03		ldy	#$03
8092	20	bd	ff	jsr	$ffbd ;
8BVb	20	C0	++	jsr	$ttcu ;
8098	a9	40		lda	#$40
809a	20	90	ff	Jsr	$ff90	;
809d	a2	01		ldx	#$01
809f	20	c6	ff	jsr	$ffc6 ;
80a2	20	90	ff	Jsr	$ff90	;
80a5	20	cf	ff	Jsr	$ffcf ; I
80a8	20	cf	ff	jsr	$ffcf M
80ab	20	cf	ff	Jsr	$ffcf ; I
80ae	20	cf	ff	Jsr	$ffcf ; I
80bl	c9	00		cmp	*$00	; :
80b3	f0	31		beq	$80e6	;
nmi—vektor cbm80 (bewirkt 'modul-start')
hardware und i/o vektoren setzen/holen
zurueck zum original—reset nmi
flag fuer stop—taste setzen stop-taste abfragen
nicht gedrueckt, dann $8030
zum basic-warmstart
initialisierung der fl-taste
interrupt auf adresse $8046 set z en
loeschen des interrupt-dissable-bit programm vor uebersch^eib&n sichern zeiger fuer stringspeicher auf $8000 zeiger speichergrenze auf $8000
erweiterung der interrupts aktuelle taste holen =fl-taste ?
ja, dann $8054 flag fuer
zurueck zum interrupt fl-taste schon laenger gedrueckt ?
dann zurueck zum interrupt
fuer gedrueckte fl-taste rahmenfarbe lesen
hintergrundfarbe lesen
rahmen angleichen;
beliebige funktion (z.b. directory) rahmenfarbevonstapel holen rahmenfarbe in den originalzustand zurueck zum interrupt
-directory (hier kann beliebige funktion ausgefuehrt werden.)
filenamenparameter (2,15,3) open
status setzen
eingabegeraet = 1 setzen status setzen
basin basin basin
(zeichen (zeichen
basin (zeichen zeichen = 0 ? ja, dann ende
holen) holen) holen) holen)
80b5 a9 01
80b7 85 cc
80b9 a2 01
80bb 20 c6 ff
80be 20 cf ff
80cl a8
80c2 20 cf ff
.80c5 48
80c6 98
80c7 aa
80c8 68
80c9 20 cd bd
80cc a9 20
80ce 20 d2 ff
80dl 20 cf ff
80d4 c9 00
80d6 d0 08
80d8 a9 0d
80da 20 d2 ff
80dd b8
80de 50 cb 80e0 20 d2 ff
80e3 b8
80e4 50 eb
80e6 a9 01
80e8 20 c3 ff
80eb 20 cc ff
80ee 60
lda #$01 sta $cc ldx #$01 jsr $ffc6 jsr $ffcf tay jsr $ffcf pha tya tax pla jsr $bdcd lda #$20 jsr $ffd2 jsr $ffcf cmp #$00 bne $80e0 lda #$0d jsr $ffd2 clv
bvc $80ab jsr $ffd2 Clv bvc $80dl lda #$01 jsr $ffc3 jsr $ffcc
; cursorblinken ausschalten
; chkin eingabegeraet = 1 setzen ; basin (zeichen holen)
; akku ins y—register
; basin (zeichen holen)
; zahl auf stapel legen
; y->akku
; akku->x
; zahl vom stapel holen
; dezimalzahl ausgeben
; leerzeichen ausgeben
; basin (zeichen holen)
; zeichen » 0 ?
; nein, dann zur zdichenausgabe
; zeilenvorschub ausgeben
; zeichenausgabe
; naechstes zeichen holen ($80dl)
; close 1
* clrch
; zurueck zum Interrupt
DasQuellisting zum Directory auf Tastendruck
Star SG-10 und Textomat
Haben Sie Probleme, den Star SG-10 mit Secus-Interface an Textomat anzupassen? Verzweifeln Sie nicht, hier kommt die Lösung.
Der erste und wichtigste Schritt ist die Eingabe folgender
Basic-Kommandos:
OPEN 4,4,25 <Return>
PRINT#4
Diedabei verwendete Sekundäradresse »25« teilt dem
Drucker mit, daß er den vollen Star-Zeichensatz fest einstellen soll. Die PRINT-Anweisung muß gegeben werden, damit der Drucker den Lock-Zustand ausführt. Um diesen Status
wieder aufzuheben, muß der Drucker ausgeschaltet werden.
Als Zweites laden Sie Textomat wie gewohnt und nehmen im Menü-Punkt »Druckeranpassung« die entsprechenden Änderungenvor.
Beim Punkt »Drucker« wählen Sie die »1«. Die ASCII-Werte
entnehmen Sie dem lnterface-Handbuch auf Seite 14 oder
dem Star-Handbuch auf den Seiten 217 bis 223. Für den
Bereich »Steuerzeichen« empfehle ich folgende Befehls-sequenzen:
Zeichenabstand: di10 1b4201 (Pica)
di12 1b4202(Elite)
di15 1 b4203 (entspricht 17 Zeichen/ inch = Schmalschrift)
Zeilenabstand:	ab1 1b4106 (1zeiligerAbstand)
ab2 1b410c (2zeiliger Abstand) ab3 1b4118 (3zeiligerAbstand)
Die anderen Steuerzeichen können Sie leicht selbst einset-
zen, wobei Sie den Seitenwechsel nicht mit dem Wert 0c belegen sollten, da der Drucker dann immer zwei Seiten vorschiebt.
Sie sollten auch noch beachten, daß die DIP-Schalter am Drucker richtig eingestellt sind. Im lnterface-Handbuch steht zwar, daß die Schalter 2-2,2-3 und 2-4 auf OFF-Stellung sein sollen, ich habe aber die Erfahrung gemacht, sie besser in ON-Stellung zu lassen. Wichtigstes Argument hierfür ist das nochmalige Vorschieben um eineZeile. Des weiteren stelle ich den 1. und 7. Schalter auf OFF.
Ich höffe, Sie freuen sich jetzt genauso wie ich an dem tollen Schriftbild Ihres SG-10 oder SG-15 in Verbindung mit dem TextverarbeitungsprogrammTextomat.
(Klaus Croll/gk)
125
Tips &Tricks
Zwei Quickies
Kopfstand für Sprites und ein kleiner Zeicheneditor sind zwei Einzeiler, die sich in Programme einbinden lassen.
Der folgende Einzeiler stellt ein Sprite auf den Kopf (beziehungsweise wieder auf die Füße):
Kopfstand für Sprites
FOR A=958 TO 896 STEP-3:POKE A-2,PEEK(832 + L): POKE A-1,PEEK(833 + L):POKE A,PEEK (834 + L): L=L+3:NEXT
Der Einzeiler kann nur dann als solcher eingegeben werden, wenn von der Möglichkeit Gebrauch gemacht wird, die (Basic-)Kurzbefehle einzutippen (siehe Anhang D im C 64-Handbuch). Sie können jedoch auch zwei Zeilen daraus machen. Das Sprite, das verändert werden soll, muß im Bereich 13 (Adresse 832-895) abgelegt sein; im Bereich 14 (Adresse 896-958) steht nach Programmlauf das gedrehte Sprite beziehungsweise dessen Bitmuster.
A = Laufvariable für FOR...NEXT-Schleife
L = Zählvariable
Da L nicht auf Null gesetzt wird, muß vermieden werden, diese Variable anderweitig im (Gesamt-) Programm zu verwenden, da es sonst zu unliebsamen Überraschungen kommen kann.	(Hans Joachim Neumann/gk)
Zeichendefinitionen
Folgendes kurze Programm wandelt ein am Bildschirm entworfenes Zeichen in Zahlen um und schreibt diese dann auf den Bildschirm. Im linken oberen Eck des Bildschirmes wird das Zeichen in einer 8 * 8-Matrix entworfen. Um einen gesetzten Punkt zu markieren, wird an die gewünschte Stelle ein Stern (»*«) geschrieben.
X(0-7)	=Zahl 0—7
T	Zähler der Reihe
Y	Zähler des Bits
1031	=linkeobereEckedesZeichens+ 7 (1024 + 7)
42 Bildschirmcode für »*« — es können auch andere verwendet werden.
Damit Sie nicht mit Abkürzungen arbeiten müssen, ist der Einzeiler auf zwei Zeilen aufgeteilt worden (Zeile 100 und 110).
Starten Sie das Programm mit RUN. In der oberen linken Ecke wird ein Raster von 8*8 Punkten gezeichnet und unter dem READY erscheint GOTO 100. Mit den Cursor-Tasten (nicht die RETURN-Taste verwenden) können Sie nun ein Zeichen definieren, indem Sie anstelle eines Punktes ein »*« setzen. Wenn das Zeichen fertig ist, gehen Sie mit dem Cursor auf »GOTO 100« und drücken RETURN. Aufdem Bildschirm werden jetzt die Daten dieses Zeichens angezeigt.
Diese Daten können zum Erstellen eines eigenen Zeichensatzes (auch für Spiele) verwendet werden. Ein manuelles Errechnen dieser Werte entfällt somit.
(Wolfgang Horak/gk)
7 REM ZEICHENDEFINIEREN IN DER OBEREN	<107>
8 REM LINKEN BILDSCHIRMECKE	<174>
10 PRINT"{CLR}";	<204>
20 FOR 1 = 1 TO 8:PRINT"......":NEXT	<239>
30 PRINT"{3D0WN>G0T0 100 ”	<253>
40 END	<042>
100 FOR T=0 TO 7:X(T)=0:FOR Y=7 TG 0 STEP-1:X(T)=X(T)-2tY*(PEEK(1031-Y+40*T)= 42 ):NEXT Y	<055>
110 PRINT X(T);:NEXT	<200>
© G4'er
3D-Darstellung in 19 Zeilen
Das Programm stellt ein frei wählbares, dreidimensionales Objekt auf dem Bildschirm dar, das durch Drücken der Funktionstasten gedreht werden kann. Simons Basic ist allerdings Voraussetzung.
Das Programm (Listing 1)wird nach Aktivierung von Simons Basic normal geladen und mit »RUN« gestartet. Danach muß die Datei angegeben werden, die die Daten für den darzustellenden Körper enthält. Bevor die Eingabe mit RETURN abgeschlossen werden kann, muß jedoch erst die Diskette mit der gewünschten Datei in das Laufwerk eingeführt werden. Sind alle Werte eingelesen, erscheint die Figur in Originalform auf dem Bildschirm. Sie kann nun durch Drücken der Funktionstasten (ohne SHIFT) beliebig gedreht werden. F1, F3 und F5 bestimmen die Rotationsachse, während F7 einen Richtungswechsel bewirkt.
Die Erzeugung von Figuren
Die Daten für Figuren müssen in Form einer sequentiellen Datei (Typ SEQ) vorliegen. Eine Figur besteht dabei aus einer begrenzten Anzahl von Geradenstücken, die duch ihre Anfangs- und Endpunkte (x-, y- und z-Werte) gekennzeichnet sind. Jedes Geradenstück wird also durch sechs Zahlen bestimmt. Alle Geradenstücke werden unmittelbar hintereinander in die Datei geschrieben. Ein Endekennzeichen oder sonstige Zusatzangaben sind nicht erforderlich.
Das Demonstrationsprogramm (Listing 2) erzeugt eine Datei mit dem Namen »PYR«, welche die Daten für eine Pyramide enthält. Durch Veränderung der DATA-Zeilen können auch andere Körper definiert werden. Die Koordinaten müssen jedoch so gewählt werden, daß sie nicht außerhalb des Bildschirmbereichs liegen und diesen auch nicht durch die Rotation zu verlassen drohen. Es sei dabei darauf hingewiesen, daß die z-Achse in die Tiefe und die y-Achse nach oben zeigt. Als Orientierungshilfe kann die Demo-Pyramide verwendet werden.
Darstellung eines Punktes
Um einen Raumpunkt auf dem Bildschirm darstellen zu können, muß er zunächst an das zweidimensionale Koordinatensystem angepaßt werden. Es wird hierzu die Fluchtpunktperspektive gewählt, die über die Strahlensätze herleitbar ist: x’=xf—(zf—z) * (xf-x)/zf y=yf-(zf-z)*(yf-y)/zf x’	horizontale Bildschirmkoordinate
y’	vertikale Bildschirmkoordinate
x,y,z	Koordinaten des Raumpunktes
xf,yf,zf	Koordinaten des Fluchtpunktes
Anwendungsmöglichkeiten
Das Programm kann beispielsweise zur Darstellung und räumlichen Drehung von Computergrafiken (dreidimensionale Funktionen, Gegenstände, Flächen etc.) verwendetwer-den. Die Erzeugung der Gebilde erfolgt dabei von einem unabhängigen Programm. Nach Erstellung dersequentiellen Datei kann das Ergebnis mittels des Rotationsprogramms betrachtet werden. Dazu kann es sinnvoll sein, noch einige Erweiterungen in das Programm einzubauen. Zum Beispiel
126
Tips&Tricks
würden folgende zusätzlich eingegebenen Zeilen bei Überschreitung des Bildschirmbereiches einen Abbruch verhindern und statt dessen die betreffenden Geraden nur bis an den Rand zeichnen:
22	gosub 60	v
60	dx=x-v:dy=y-r:mm=0.01:if	dx*dy<>0 then	mm=dy/dx
62	if x<0 then y=y-mm*x:x=0
64	if x>320 then y=y-mm*(x-320):x=320
66	if v<0 then r=r-mm*v:v=0
68	if v>320 then r=r-mm*(v-320):v=320
70	if y<0 then x=x-y/mm:y=0
72	if y>200 then x=x-y/mm:y=200
74	if r<0 then v=v-r/mm:r=0
76	if r>200 then v=v-(r-200)/mm:r=200
78	if x<0 or x>320 or v>320 or v<0 then x=0:v=0
80	if y<0 or y>200 or r<0 or r>200 then y=O:r=O
82	return
Freilich nimmtein derart ergänztes Programm beim LISTen mehr als eine Bildschirmseite ein, bietet aber bessere Anwendungsmöglichkeiten.
Ein völlig anderer Aspekt wäre die bloße Verwendung der mathematischen Formeln zum Einbau in eigene Programme (beispielsweise Spiele). Dazu kann es unter Umständen erforderlich sein, sie in Maschinensprache zu übersetzen. Da aber dies bereits mit einfachen 16-Bit-Rechenroutinen und wenigen Tabellen bewerkstelligt werden kann, dürfte das für den erfahrenen Programmierer kein allzu großes Hindernis darstellen.
Mathematisch gesehen: Das Problem der Rotation
Um einen Körper von allen nur erdenklichen Perspektiven darzustellen, muß er im Raum gedreht werden. Die dazu notwendigen Berechnungen sind allerdings recht kompliziert und auch nicht im Rahmen eines extrem kurzen Programms realisierbar, will man den Körper — das heißt alle seine Eckpunkte — um eine beliebig im Raum schwebende Achse rotieren lassen.
Verzichtet man jedoch auf eine beliebige Rotationsachse und beschränkt man sich auf den Sonderfall, daß diese zu einer der Achsen des Koordinatensystems (x-,y- oder z-Achse) parallel liegt, ergibt sich eine erhebliche Vereinfachung, die daraus resultiert, daß — bedingt durch die Parallelität — immer nur zwei Koordinatenangaben eines zu rotierenden Punktes verändert werden und somit das Problem in der Ebene betrachtet werden kann. Konstant bleibt immer diejenige Koordinatenangabe, die sich auf jene Koordinatenachse bezieht, zu welcher die Rotationsachse parallel ist.
Für die Drehung eines Punktes P um einen Punkt R ergeben sich folgende Rechenschritte:
A... Abszisse
0... Ordinate
Koordinaten von R und P : R (ar, or); P (ap,op) Koordinate von P’ : P’ (ap’, op’)
W... Winkel, der den Grad der Rotation bestimmt
A, B, d, e, h, d’, h’ : siehe Bild 1
A = ABS (ATN((or-op)/(ar-ap)))
if ar-ap >0 then A=-A7r
if or-op >0 then A=-A e = SQR((d)(d) + (h)(j)) d = ap—ar; h=op-or
B = W+A; d’ = COS(B)*e; h’ = SIN(B)*e ap’ = ar+d’; op’=or+h’
(Der Absolutbetrag und die IF-Anweisungen sind nötig, um die durch Quotientenbildung verlorengegangene Vorzeicheninformation wiederzugewinnen.)
Diese mathematischen Ausführungen waren nur für den an den Grundlagen Interessierten gedacht. Natürlich kann man auch mathematisch unbelastet mit dem Programm experimentieren.
(Achim Vowe/ev)
Variablen-Übersicht:	
x(100), y(100), z(100)	Feld für Daten einer Figur
e$	Dateiname
s, i, q	Zähler
I, m, n	Schnittpunkt der Rotationsachsen
	(x, y, z)
w	Rotationswinkel
xf, yf, zf	Koordinaten des Fluchtpunktes
v, r, p	Zwischenspeicher
x, y, z	Zwischenspeicher für aktuellen Figuren-
	punkt vor und nach der Rotation
a$, 3%	Variablen für Tastatureingabe
Die Bedeutung der restlichen Variablen ist der mathematischen	
Beschreibung zu entnehmen. Die Bezeichnungen weichen zwar	
größtenteils voneinander ab, aber dennoch ist eine eindeutige Zuord-	
nung anhand der Formeln möglich.	
11 DIMX(100),Y(100),Z(100)
12 INPUT"FILE ";E$:0PENl,8,4,E$+",S,R"
13 INPUT#1,X(S),Y(S),Z(S):S=S+1
14 IFST<>64THEN13
15 CLOSEl:L=122:M=105:N=53sW=.5
20 Q=0:HIRES0,l:XF=147:YF=65:ZF=399
21 FORI = 1TOS/2:GOSUB30s V=X:R=Y:GOSUB30
23 LINEX,200-Y,V,200-R,l:NEXT
24 GETA$: I FA$=11 ” THEN24
28 I FA$= " ||" THENW=-W s G0T024
29 A7.=ASC (A$) -132: GOTO20
30 X=X (Q) : Y=Y (Q) : Z=Z (Q) s P=0: O=Q+1: IFA7.= 1 THENA=X:O=Y:T=L:U=M:GOSUB50:X=A:Y=0
32 I FA7.=2THENA=X: O=Z : T=L s U=N: GOSUB50: X=A :Z=0
33 IFA%=3THENA=Y:0= Z:T=M sU=N:GOSUB50s Y=A :Z=0
40 X(P)=X:Y(P)=Y:X=XF-(ZF-Z)*(XF-X)/ZF
42 Y=YF-(ZF-Z)*(YF-Y)/ZF5 Z(P)=Z:RETURN
50 E=SQR((A-T)^2+(O-U) 2):C=ABS(ATN((U-O ) / (T-A) ) ) ; IFT-A>0THENC=-C- ir
53 B=W+C:IFU-0 >0THENC=-C:B=W+C
55 A=T+COS(B)*E:O=U+SIN(B)*E:RETURN READY.
Listing 1. Programm zur 3D-Darstellung und Rotation. Nur mit Simons Basic lauffähig.
10 0PENl,8,4,"PYR,S,W"
20 READD
30 IFD< >1E9THENPRINT#1,D:GOTO20
40 CLDSE1
100 DATA50,50,0,200,50,0
110 DATA200,50,0,200,50,100
120 DATA200,50,100,50,50,100
130 DATA50,50,100,50,50,0
200 DATA50,50,0,125,150,50
210 DATA200,50,0,125,150,50
220 DATA200,50,100,125,150,50
230 DATA50,50,100,125,150,50
240 DATAlE9
READY-
Listing 2. Dieses Programm erzeugt den Datensatz einer Pyramide für Listing 1.
127
I
«irCom»»*»6« sharp««-?»»'»00
Wortschatz-Trainer Englisch
Best.-Nr. MD 235A (Commodore 64)
Best.-Nr. MK 238F (Sharp MZ-700/800)
Wortschatz-Trainer Spanisch
Best.-Nr. MD 233A (Commodore 64)
Wortschatz-Trainer Italienisch
Best.-Nr. MD 234A (Commodore 64)
Wortschatz-Trainer
Unregelmäßige Verben Latein
Best.-Nr. MD 237A (Commodore 64)
Mit den neuen Sprachentrainer-Programmen lernen Sie schnell und mühelos Ihre Vokabeln! In Latein, Englisch, Französisch, Spanisch oder Italienisch!
Ein Programm enthält den Grund- und Aufbau-Wortschatz mit 2000 und mehrVo-kabeln derjeweiligen Sprache. Spezielle Vokabeln können Sie selbst hinzufügen. Durch ständiges Abfragen kontrollieren Sie laufend Ihren Lernerfolg, denn der gespeicherte Wortschatz reduziert sich von selbst auf die Vokabeln, die Ihnen noch Schwierigkeiten bereiten.
Wortschatz-Trainer:
der sichere Weg
•	zum Abhur
•	in die Kollegstufe
•	für das Volkshochschul-
Zertifikat
Peter Lehmberg, der erfahrene Co-Autoi des Lehrbuchs »Italienisch für Sie« (über 1 Million verkaufte Exemplare) gibt sein fundiertes Wissen an Sie weiter!
Wortschatz-Trainer Französisch
Best.-Nr. MD 236A (Commodore 64)
Wortschatz-Trainer Roma 1 Best.-Nr.MD 215A (Commodore 64) Best.-Nr. MK 231F (Sharp MZ-700/800)
Wortschatz-Trainer Roma II Best.-Nr. MD 216A (Commodore 64) Best.-Nr. MK 232F (Sharp MZ-700/800)
Jedes Programm kostet: DM 59,—* (Sfr. 54,50 / öS 531,—)
* lnkl. MwSt.
Unverbindliche Preisempfehlung
MD = Diskette MK = Kassette A = Commodore 64
F - Sharp MZ-700/800
MaddOchnik
Verlag Aktiengesellschaft Buchverlag
Hans-Pinsel-Straße 2, 8013 Haar bei München Schweiz: Markt&Technik-Vertriebs AG, Kollerstraße 3, CH-6300 Zug, ® 0 42/22 3155
Österreich: Rudolf Lechner & Sohn, Heizwerkstraße 10, A-1232 Wien, ® 02 22/67 75 26
Happy Software erhalten Sie beim Buchhändler.
Bestellkarten bitte an Ihren Buchhändler oder an eine unserer Depot-buchhandlungen. Adressenverzeichnis am Ende des Heftes.
Beim Markt&Technik-Verlag eingehende Bestellungen werden von den Depot-Händlern ausgeliefert.
Tips&Tricks
Zeicheneditor für C 64
In der Kürze liegt hier die Würze. Statt seitenlanger Listings brauchen Sie nur eine einzige Bildschirmseite abzutippen, um den Zeichensatz Ihres C 64 ganz nach Belieben ändern zu können.
Das Programm »Character Change« (Listing 1) ist ein Hilfsprogramm, um den Zeichensatz des C 64 beliebig zu verändern und anschließend auf Diskette abzuspeichern. Das ganze Listing wirkt zwar auf den ersten Blick etwas unübersichtlich, aber dafür sind es halt auch bloß 24 Zeilen.
Der Vollständigkeit halber ist auch noch ein Demo-Programm dabei, das es ermöglicht, mit diesem veränderten Zeichensatz in eigenen Programmen zu arbeiten. Einsatzmöglichkeiten gibt es genug, etwa Spiele.
Ein paar Erläuterungen zum Programm:
Nach dem Starten mit »RUN«, fragt der Computer »KEY ?«. Hier kann ein beliebiges Zeichen über die Tastatur eingegeben werden. Allerdings muß es an der Stelle stehen, an der der Cursor blinkt, da aus dieser Speicherzelle des Video-RAMs der Bildschirmcode geholt wird.
Nachdem die Eingabe mit RETURN abgeschlossen wurde, erscheint die Matrix des Zeichens vergrößert auf dem Bildschirm. Dabei steht ein Sternchen für gesetztes, ein Punkt für ein nicht gesetztes Pixel.
Jetzt kann die Zeichenmatrix verändert werden, und zwar zeilenweise. Wieder durch Punkte und Sternchen kennzeichnen, wo ein Punkt gesetzt beziehungsweise nicht gesetzt werden soll. Danach RETURN drücken und die nächste Zeile ändern.
Sind alle acht Zeilen neu eingegeben, so kann man sich für »W« wie »weiter« und »S« wie »save« entscheiden. Drückt man »W«, so geht das Spielchen von vorne los, mit »S« wird der «Zeichensatz auf Diskette abgespeichert. Drückt man eine andere Taste, so erfolgt ein Programmabbruch.
Das File des Zeichensatzes nennt sich »character ram«. Das Demo-Programm (Listing 2) lädt einen bereits veränderten Zeichensatz von Diskette und stellt dann alle 256 Zeichen auf dem Bildschirm dar.
So arbeitet das Programm
Noch ein paar Worte zur Arbeitsweise des Programms.
Zuerst wird von einem in DATAs abgelegten Maschinenprogramm mit Hilfe der Blockverschieberoutine des Betriebssystems der Zeichensatz zweimal in verschiedene RAM-Bereiche kopiert. Einmal nach $E000, einmal nach $9000. Dies ist erforderlich, um die Zeichenmatrix mit PEEK auslesen zu können, was im unter dem Betriebssystem liegenden RAM bekanntlich nicht geht Die zweite Kopie ist die, aus der der Computerjetzt die Zeichen ausliest. Danach werden von Basic aus die Zeiger für den Beginn des Video-RAMs, den Zeichengenerator und die damit zusammenhängenden 16 KByte für den Video-Controller neu gesetzt. Das VideoRAM wird also zwangsweise mit verschoben, und zwar nach dezimal 49152.
Aus dem Bildschirmcode des eingegebenen Zeichens wird die Startadresse in der ersten Kopie des Zeichensatzes ermittelt und 8 Bytes ausgelesen. Aus diesen 8 Bytes werden dann die Strings für die Bildschirmdarstellung gebildet. Umgekehrt werden aus den eingegebenen Strings die Bytes für den Zeichensatz gebildet und anschließend in beide Kopien gePOKEt.
Ein zweites Maschinenprogramm ruft dann die SAVE-Routine auf und speichert die 4 KByte der ersten Kopie auf Diskette. Eine erste Kopie deshalb, um sie nach dem Laden in andere Programme nochmals lesen oder verändern zu können.
Das Demo-Programm enthält im wesentlichen eine weitere Maschinenspracheroutine, die den Zeichensatz nach $9000 lädt und dann nach $E000 verschiebt. Die Umschaltung der Zeiger geschieht auch hier von Basic aus, um dem Anwender zu überlassen, wann er den neuen Zeichensatz verwenden will.
(Marc Ritter/ev)
1 POKE 53280,0:POKE 53281,0:FOR 1=832 TO 9
ll:READ A:POKE I,A:NEXT:SYS 832:POKE 850
,160	<127>
2 POKE 56,144:CLR:SYS 832:P0KE 56576,PEEK( 56576)AND 252:P0KE 53272,8:P0KE 648,192	<014>
3 INPUT"<CLR,YELLOW>KEY";Z^:AD=36864+(PEEK
(53272)AND 2)*1024+8*PEEK(49157)	< 242 >
4 FOR 1=0 TO 7:A$(I)="":Y=PEEK(AD+I):F0R K
=7 TO 0 STEP-l:Z$=".":X=2tK	<119>
5 IF(Y AND X)THEN Z^="*"	<023>
6 A#(I)=A^(I)+Z$:NEXT:PRINT"<2SPACEl"+A$(I ):NEXT:PRINT"<HOME>"sFOR 1=0 TO 7:INPUT"
<LIG.RED >";B$:A=0	< 224>
7 FOR K=0 TO 7:IF MID^(B^,8-K,l)="*"THEN A =A +2tK	<137>
9 NEXT:POKE AD+I+20480,A:POKE AD+I,AsNEXTs
PRINT"<RVSON>S<RVOFF>AVE/<RVSON>W<RVOFF }
EITER":WAIT 203,63:GET C$	<226>
10 IF C^="S"THEN SYS 866:G0T0 3	<117>
11 DATA 120,169,51,133,1,169,,133,95,133,9 0,133,88,169,208,133,96:IF C$="W"THEN 3 <178>
12 END:DATA 169,240,133,89,169,224,133,91,
32,191,163,169,55,133,1,88,96,169,,133	<190>
13 DATA 251,169,144,133,252,162,8,32,186,2 55,169,13,162,130,160,3,32,189,255,169	<239>
14 DATA 251,162,,160,160,32,216,255,96,67, 72,65,82,65,67,84,69,82,32,82,65,77,32	<248>
© 64'er
Listing 1. Der Zeicheneditor. Bitte beachten Sie bei der Eingabe den Checksummer.
10 REM CHARACTER DEMO	<186>
100 FOR 1= 828 TO 900 :READ X:POKE I,X:NEX
T	<057>
110 DATA 162, 8, 160, 1, 32, 186, 255, 169
, 13, 162, 115, 1*60, 3, 32	<014>
120 DATA 189, 255, 169, 0, 32, 213, 255, 1
20, 169, 51, 133, 1, 169, 0	<001>
130 DATA 133, 95, 133, 90, 133, 88, 169, 1
44, 133, 96, 169, 240, 133, 89	<017>
140 DATA 169, 160, 133, 91, 32, 191, 163, 169, 55, 133, 1, 88, 96, 67	<163>
150 DATA 72, 65, 82, 65, 67, 84, 69, 82, 3
2, 82, 65, 77, 0, 0	<165>
160 DATA 0, 0, 0	<026>
200 POKE 56,144sCLRsSYS 828:P0KE 56,160:CL
R	<142>
205 POKE 53272,8:P0KE 56576,PEEK(56576)AND
252:P0KE 648,192	<189>
210 PRINT"<CLR,8D0WN>":F0R 1=0 TO 255:P0KE
49152+1,I:POKE 55296+1,3 s NEXT	< 217>
© 64'er
Listing 2. Demo-Programm zum Zeicheneditor.
129
MaridOchnfli-Budwhg
Marii<fechnik-Buchveriag
Impressum
H.L. Schneider/W. Eberl
Das Commodore 64-Buch,Bd. 1 . 1984, 270 Seiten
Der Commodore 64 und seine Handhabung • Einführung in die Grafik • Balkendiagramme • Einführung in die Spritetechnik • Basic-Erweiterungen in Assembler • Ein Leitfaden für Erstanwender.
Best.-Nr.MT591 (Buch) (Sfr.44,20/0S374,40) UM
Best.-Nr. MT 592 (Beispiele auf Diskette) (Sfr. 58,—ZöS 522,—)	*DM 58,-
* inkl. MwSt. Unverbindliche Preisempfehlung
H.L. Schneider/W. Eberl
Das Commodore 64-Buch, Bd. 2 1984,.181 Seiten
Spiele nicht nur zum Abtippen ■ Programmlisting ■ Programmbeschreibung • Variablenübersicht • Programme nach Anleitung frei ergänzbar - das ideale Buch, um Programmieren spielend zu lernen.
Best.-Nr. MT 593 (Buch) oo (Sfr.35,-/oS296,40) UM 0 0,—
Best.-Nr. MT 594 (Beispiele auf Diskette) (Sfr.58,-/oS522,-)	*DM58,-
* inkl. MwSt. Unverbindliche Preisempfehlung
H. L. Schneider/W. Eberl
Das Commodore 64-Buch, Bd. 3 1984, 206 Selten
Alles überSprites ; Wissenswertes über Multi-Color-Grafik - Assembler/Disas-sembler ■ jede Menge Basic-Erweiterungen ■ Umgang mit dem Soundgenerator • ein Leitfaden für Fortgeschrittene.
Best.-Nr. MT 595 (Buch) n A o (Sfr.35,-/oS296,40) UM OO,— Best.-Nr. MT 596 (Beispiele auf Diskette) (Sfr. 58,-/oS 522,—)	«DM 58,-
* lnkl. MwSt. Unverbindliche Preisempfehlung
H. L. SchneiderM. Eberl
Das Commodore 64-Buch, Bd. 4 1984, 261 Seiten
Einführung in Maschinenprogrammierung • Verknüpfung von Maschinenprogrammen mit Basic-Programmen * alles über Assembler/Disassembler ■ der Leitfaden für Systemprogrammierer.
Best.-Nr. MT 597 (Buch) ■■ o o (Sfr. 35,—ZöS 296,40) U M OO, — Best.-Nr. MT 598 (Beispiele auf Diskette) (Sfr. 58,-/oS 522,—) *DM 58,-
* inkl. MwSt. Unverbindliche Preisempfehlung
H. L. Schneider/W. Eberl
Das Commodore 64-Buch, Bd. 5
Juli 1984, 322 Seiten
Ein Leitfaden durch Simon’s Basic ■ ausführliche Besprechung aller Befehle ■ viele erklärende Beispiele mit kommentierter Assembler-Listing * das richtige Nachschlagewerk für den geübten Commodore 64-Benutzer.
Best.-Nr. MT 599 (Buch)naa nn (Sfr.35,-/oS296,40) UM OO,-Best.-Nr. MT 600 (Beispiele auf Diskette) (Sfr. 58,-/oS 522,—)	«DM 58,-
* lnkl. MwSt. Unverbindliche Preisempfehlung
Bestellkarten bitte an Ihren Buchhändler oder an eine unserer Depotbuchhandlungen. Adressenverzeichnis am Ende des Heftes!
MariitOchnik Verlag Aktiengesellschaft
Buchverlag
Hans-Pinsel-Straße 2, 8013 Haar
Depot-Händler
Tragen Sie Ihre Buchbestellung und die Anschrift des Depotbuchhändlers auf die Bestellkarte in diesem Heft ein.
Bitte vergessen Sie den Absender nk:ht.
Buchhandlung Herder, Kurfürstendamm 69
1000 Berlin 15, Tel. (0 30) 8 83 5002,
BTX *921782#
Computare Fachbuchhandlung, Keithstraße 18
1000 Berlin 30, Tel. (0 30) 213 90 21
Thalia Buchhaus, Große Bleichen 19
2000 Hamburg 36, Tel. (040) 3 00 50 50
Boysen + Maasch, Hermannstraße 31
2000 Hamburg 1, Tel. (040) 30050515
Electro-Data, Wilhelm-Heidsiek-Straße 1
2190 Cuxhaven, Tel. (04721) 51288
Buchhandlung Muehlau, Holtenauer Straße 116
2300 Kiel, Tel. (0431)8 5085
ECL, Norderstraße 94-96
2390 Flensburg, Tel. (0461) 2 81 81
Buchhandlung Weiland, Königstraße 79
2400Lübeck, Tel. (04 51) 7 4006-09
Buchhandlung Storm, Langenstraße 10
2800 Bremen 1, Tel. (04 21) 3215 23
Buchhandlung Lohse-Eissing, Marktstraße 38
2940 Wilhelmshaven, Tel. (04421) 416 87
Buchhandlung Schmorl u. v. Seefeld, Bahnhbfstraße 13
3000 Hannover 1, Tei. (0511) 32 76 51
Buchhandlung Graff, Neue Straße 23
3300 Braunschweig, Tel. (05 31) 4 92 71
Deuerlich'sche Buchhandlung, Weender Straße 33
3400 G0ttingen, Tel. (05 51) 5 68 68
Buchhandlung an der Hochschule, Holländische Straße 22
3500 Kassel, Tel. (05 61) 8 38 07
Stern Verlag, Friedrichstraße 24-26
4000 Düsseldorf, Tel. (0211) 373033
Buchhandlung Baedeker, Kettwiger Straße 33-35 .
4300 Essen 1, Tel. (0201) 221381
Regensberg'sche Buchhandlung, Alter Steinweg 1
4400 Münster, Tel. (02 51) 40541-5
Buchhandlung Acker, Johannisstraße 51
4500 Osnabrück, Tel. (0541) 28488
Buchhandlung Lansing, Westenhellweg 86-88
4600 Dortmund, Tel. (02 31) 1 69 80
Buchhandlung Brockmeyer, Querenburger Höhe 281/Unicenter
4630 Bochum, Tel. (02 34) 7013 60
Buchhandlung Meier + Weber, Warburger Straße 98
4790 Paderborn, Tel. (0 52 51) 6 3172
BuchhandlungPhönix GmbH, Oberntorwall 25
4800 Bielefeld 1, Tel. (05 21) 6 90 71
Buchhandlung Gonski, Neumarkt 24
5000 Köln 1, Tel. (02 21) 21 05 28
Mayer'sche Buchhandlung, Ursulinerstraße 17-19
5100 Aachen, Tel. (02 41) 481 42
Buchhandlung Behrendt, Am Hof 5a
5300 Bonn 1, Tel. (0228) 658021
Buchhandlung Cusanus, Schloßstraße 12
5400 Koblenz, Tel. (02 61) 3 62 39
Akad. Buchhandlung Interbook, Fleischstraße 61-65
5500 Trier, Tel. (06 51) 43596
Buchhandlung W. Finke, Klpdorf 32
5600 Wuppertal 1, Tel. (02 02) 45 42 20
Buchhandlung Balogh, Sandstraße 1
5900 Siegen, Tel. (02 71) 5 52 98-9
Buchhandlung Naacher, Steinweg 3
6000 Frankfurt 1, Tel. (0 69) 29 80 50
Buchhandlung Wellnhz, Lautenschlägerstraße 4
6100 Darmstadt, Tel. (061 51) 76548
Buchhandlung Feller + Gecks, Friedrichstraße 31
6200 Wiesbaden, Tel. (061 21) 304911
Ferber'sche UNI-Buchhandlung, Seltersweg 83
6300 Gießen, Tel. (0641) 1 2001
Sozialwissenschaftliche Fachbuchhandlung, Friedrichstraße 24
6400Fulda,Tel. (0661)7 5077
Gutenberg Buchhandlung, Große Bleiche 29
6500 Mainz, Tei. (0 61 31) 3 7011
Buchhandlung Bock + Seip, Futterstraße 2
6600 Saarbrücken, Tel. (0681) 30677
Buchhandlung Wilhelm Hofmann, Bismarckstraße 98
6700 Ludwigshafen, Tel. (06 21) 516001
Buchhandlung Loeffler, B 1,5
6800 Mannheim 1, Tel. (06 21) 2 8912
Buchhandlung Stehn, Bahnhofstraße 13
7000 Stuttgart 50, Tel. (0711) 5614 76
Buchhandlung am Markt, Kramstraße 6
7100 Heilbronn, Tel. (071 31) 68682
PCB Micro-Computer, Oskar-Kalbfell-Platz 8
7410 Reutlingen, Tel. (071 21) 270443
UNI Buchhandlung Kellner + Moessner, Kaiserstraße 18
7500 Karlsruhe, Tel. (07 21) 6914 36
Buchhandlung Roth, Hauptstraße 45
7600 Offenburg, Tel. (07 81) 2 20 97
Rombach Center, Bertholdstraße 10
7800 Freiburg, Tel. (07 61) 49091
Fachbuchhandlung Hofmann, Hirschstraße 4
7900 Ulm, Tel.(O7 31) 6 09 49
Schauties Elektronik, Bachstraße 52
7980 Ravensburg, Tel. (07,51) 2 61 38
Buchhandlung Hugendubel, Marienplatz
8000 München 2, Tel. (089) 23 89-1
Computerbücher am Obelisk, Barerstraße 32-34
8000 München 2, Tel. (0 89) 28 23 83
Pele'sComputerbücher,Schillerstraße17
8000 München 2, Tel. (089) 55 52 29
Universitätsbuchhandlung Lachner, Theresienstraße 43
8000 München 2, Tel. (0 89) 5213 40
Buchhandlung Schönhuber, Theresienstraße 6
8070 Ingolstadt, Tel. (0841) 33146/47
Computerstudio GertrudFriedrich, Ludwigstraße 3
8220Traunstein, Tel. (08 61) 147 67
Buchhandlung Pustet, Kl. Exerzierplatz 4
8390 Passau, Tel. (08 51) 56945
Buchhandlung Pustet, Gesandtenstraße 6
8400 Regensburg, Tel. (0941)5 3061
Buchhandlung Dr. Büttner, Adlerstraße 10-12
8500 Nürnberg, Tel. (0911) 23 2318
STS Computer Vertrieb, Werner-Siemens-Straße 19
8580 Bayreuth, Tel. (0921) 62320
Computer-Center-Burger, Leimitzer Straße 11-13
8670 Hof, Tel. (09281) 40075
Sortiments- u. Bahnhofsbuchh. J. Strykowski, Bahnhofplatz 4
8700 Würzburg, Tel. (09 31) 543 89
Buchhandlung Pustet, Grottenau 4
8900 Augsburg, Tel. (08 21) 3 54 37
Kemptener Fachsortiment, Salzstraße 30
8960 Kempten, Tel. (08 31) 1 4413
Belgten:
Eicher Micro & Personal Computer, Hünningen 56-58
B-4780 St. Vhh, Tel. (080) 22 73 93
Luxemburg:
Librairte Promoculture, 14, rue Duchscher (PL de Paris) L-1011 Luxembourg-Gare, Tel. 480691, Telex 31 12 Schweiz:
Buchhandlung Meissner, Bahnhofstraße 41
5000 Aarau, Tel. (064) 24 71 51
Bücher Balmer, Neugasse 12
6300 Zug, Tel. (042) 21 4141
Buchhandlung Enge, Bleicherweg 56
8002 Zürich, Tel. (01) 2 01 20 78
Buchhandlung Orell Füssli, Pelikanstraße 10
8022 Zürich, Tel. (01) 2 11 8011
FreihoferAG, Wissenschaftliche Buchhandlung, Universitätsstr. 11
8033 Zürich, Tel. (01) 3634282
Buchhandlung am Rößlitor, Webergasse 5
9001 St.Gallen, Tel. (0 71) 22 87 26
Herausgeber: Carl-Franzvon Quadt, Otmar Weber
Redaktion: Albert Absmeier, Volker Everts, Georg Klinge, Harald Meyer, Achim Hübner, Christian Rogge. Fremdautoren:
Lonczewski, Mann, Weineck, Wippgen, Riethmüller, Zinner, Meierhofer, Eyssele, Del Pino, Schäfer, Am-blank, Schmidt, Schwarz, Arndt, Klenz, Hohenberger, Ziesche, Paetzold, Hoffmann, Bertog, Kowall, Wilde, Jörgens, Büsch, Brendel, Eichholz, Sauer, Meyer, Günter, Rylander, Barcikowski, Vocke, Schneider, Spitzner, Croll, Neumann, Vowe, Ritter, Horak
Layout: Leo Eder (Ltg.)
Herstellung: Klaus Buck
Auslandsrepräsentation:
Schweiz: Markt & Technik Vertriebs AG, Kollerstr. 3, CH-6300 Zug, Tel. 042-22 31 55, Telex: 862 329
USA:	M&T Publishing lnc.; 2464 Embarcadero
Way, Palo Alto, CA 94303
Manuskripteinsendungen: Manuskripte und Programmlistings werden gerne von der Redaktion angenommen. Sie müssen frei sein von Rechten Dritter. Sollten sie auch an anderer Stelle zur Veröffentlichung oder gewerblichenNutzungangeboten werden, so muß dies angegeben werden. Mit der Einsendung von Manuskripten und Listings gibt der Verfasser die Zustimmung zum Abdruck in von der Markt&Technik Verlags AG herausgegebenen Publikationen und zur Vervielfältigung der Programmlistings auf Datenträger. Honorare nach Vereinbarung. Für unverlangt eingesandte Manuskripte und Listings wird keine Haftung übernommen.
Vertriebsleitung: Hans Hörl
Anzeigenverwaltung und Disposition:MichaelaHörl
Verlagsleiter M&T-Buchverlag: Günther Frank
Druck: E. Schwend GmbH, Schmollerstr. 31, Schwäbisch Hall.
Auch Anschrift für Beihefter und Beilagen.
Preis: Das Einzelheft kostet DM 14,—
Vertrieb Handelsaufläge: Inland (Groß-, Einzel- und Bahnhofsbuchhandel) sowie Österreich und Schweiz: Pegasus Buch- und Zeitschriften-Vertriebs GmbH, Hauptstätter Straße 96, 7000 Stuttgart 1, Telefon (0711) 7 6 48 30
Urheberrecht: Alle in diesem Heft erschienenen Beiträge sind urheberrechtlich geschützt. Alle Rechte, auch Übersetzungen, vorbehalten. Reproduktionen gleich welcher Art, ob Fotokopie, Mikrofilm oder Erfassung in Datenverarbeitungsanlagen, nur mit schriftlicher Genehmigung des Verlages. Anfragen sind an die Redaktion zu richten. Für Schaltungen und Programme, die als Beispiele veröffentlicht werden, können wir weder Gewähr noch irgendwelche Haftung übernehmen. Aus der Veröffentlichung kann nicht geschlossen werden, daß die beschriebenen Lösungen oder verwendeten Bezeichnungen frei von gewerblichen Schutzrechten sind. Anfragen für Sonderdrucke sind an Peter Wagstyl (185) zu richten.
© 1985 Markt &TechnikVerlag Aktiengesellschaft
Verantwortlich:
Für redaktionellen Teil: Albert Absmeier
Für Anzeigen: Brigitte Fiebig
Vorstand: Carl-Franz von Quadt, Otmar Weber
Anschrift für Verlag, Redaktion, Vertrieb, Anzeigenverwaltung und alle Verantwortlichen:
Markt &Technik Verlag Aktiengesellschaft, Hans-Pinsel-Straße 2, 8013 Haar bei München, Telefon (0 89) 4613-0, Telex 5-22 052
Aktionäre, die mehr als 25% des Kapitals halten: Otmar Weber, Ingenieur, München; Carl-Franz von Quadt, Betriebswirt, München. Aufsichtsrat: Dr. Robert Dissmann (Vorsitzender), Karl-HeinzFanselow, Eduard Heilmayr
130