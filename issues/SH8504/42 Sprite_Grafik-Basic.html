<!DOCTYPE html>
<html lang="de">

<head>
    <title>Sprite+Grafik-Basic</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="Jens Schwarz, ah">
    <meta name="64er.issue" content="Sonderheft 4/85">
    <meta name="64er.pages" content="42-54">
    <meta name="64er.toc_category" content="Basic-Erweiterung">
    <meta name="64er.id" content="XXX">
</head>

<body>
    <article>
        <h1>Sprite+Grafik-Basic</h1>
<p class="intro">Diese für den C 64 geschriebene Basic-Erweiterung wurde speziell für das Programmieren von Sprites und hochauflösender Grafik entwickelt, enthält jedoch auch zusätzliche, nicht grafikbezogene Befehle.</p>

<p>Sprite+Grafik-Basic wurde für den Commodore 64 ohne besondere Peripherie geschrieben. Das Programm wird mit LOAD geladen und mit RUN gestartet.</p>

<p>»Das für den Commodore 64 geschriebene Sprite+Grafik-Basic ist eine Basic-Erweiterung, die speziell das Programmieren von Sprites und hochauflösender Grafik unterstützt. Selbstverständlich werden auch Befehle zum Editieren der Programme und die nötigsten strukturierenden Befehle zur Verfügung gestellt.</p>

<p>Sprite+Grafik-Basic erweitert das bescheidene V2-Basic um mehr als 100 Befehle. Davon sind 32 Befehle zur Programmierung der Sprites vorgesehen.</p>

<p>Außer den üblichen Parametern der Spriteprogrammierung können Sie die Sprites spiegeln, drehen und noch vieles mehr. Durch die vielseitigen Befehle zur Definition der Spritematrix kann selbst der Anfänger ohne einen zusätzlichen Spriteeditor hervorragende Sprites erstellen. Die Spritematrixblöcke — es stehen maximal 144 davon zur Verfügung — benötigen natürlich keinen Basic-Programmspeicher.</p>

<p>Auch zum Erstellen von ansprechenden Bildschirmmasken bietet Sprite+Grafik-Basic 14 neue Befehle. Es ist zum Beispiel möglich, den Bildschirm in alle vier Richtungen zu scrollen oder bestimmte Flächen mit Zeichen zu füllen.</p>

<p>Für die Programmierung von hochauflösender Grafik und Multicolorgrafik stehen natürlich die Befehle, um Punkte und Linien zu setzen zur Verfügung. Darüber hinaus können Ellipsen, Ellipsenbogen, Radien, Rechtecke und Blöcke mit einfachen Befehlen definiert werden. Eine der Besonderheiten von Sprite+Grafik-Basic ist der GPRINT-Befehl, der es ermöglicht — annähernd so komfortabel wie der PRINT- Befehl der Blockgrafik — Text in die Grafik einzubauen. Bei jedem dieser Befehle kann natürlich gewählt werden, ob ein Punkt gesetzt, gelöscht oder invertiert werden soll.</p>

<p>Nach dem Ausschalten der Grafik und dem Wiedereinschalten bleibt diese vollständig erhalten. Hierdurch kann sie auch im ausgeschalteten Zustand durch zwei Befehle abgespeichert oder geladen werden.</p>

<p>Über einen SYS-Befehl und wenige POKEs läßt sich sogar ein Textfenster in die Grafik einblenden.</p>

<p>Insgesamt bietet Sprite+Grafik-Basic 16 High-Resolution-Befehle. Diese Grafikmöglichkeiten werden durch das Erzeugen von blinkenden Zeichen oder durch Blinken des Rahmens zusätzlich verstärkt. Die Programmierung von Sprites und Grafik läßt also kaum Wünsche offen.</p>

<p>Damit diese Sprite+Grafik-Programmierung möglichst einfach und übersichtlich wird, gibt es in Sprite+Grafik-Basic knapp zehn Befehle zur Strukturierung der Programme. Dies sind alle üblichen Befehle wie zum Beispiel REPEAT &hellip; UNTIL, CASE &hellip; THEN &hellip; ELSE und den mit Labeln arbeitenden Sprungbefehlen. Außerdem existiert ein Befehl, mit dem Sie die letzte IF-Bedingung noch einmal abfragen können.</p>

<p>Um all diese Befehle platzsparend und einfach in ein Programm einbauen zu können, stehen etwa 20 weitere Befehle zur Verfügung. Man kann damit sofort editieren oder auch nach Zeichenketten und Befehlen im Programm suchen. Es ist ebenfalls möglich, ein Programm zeilenweise abzuspeichern oder ein Programm nachzuladen.</p>

<p>Zur Vereinfachung der Programmierung können die Funktionstasten mit beliebigen Zeichenketten belegt werden.</p>

<p>Falls ein Programm nicht funktioniert, findet man mit dem TRACE-Modus sehr leicht den Fehler. Dieser Modus zeigt immer die aktuelle Zeile an — natürlich auch in High-Resolution-Grafik. Um Fehler bei den neuen Befehlen besser zu verstehen, sind noch einige neue Fehlermeldungen implementiert. Außerdem wird die fehlerhafte Zeile angezeigt und die fehlerhafte Stelle markiert.</p>

<h2>Blockgrafikbefehle (40x25 Auflösung)</h2>

<p>TODO TABLE</p>

<h2>Besonderheiten</h2>

<p>Beim FILL/ZFILL/FFILL-Befehl muß die linke obere Ecke auch wirklich die linke obere Ecke des Rechtecks sein, da der Computer sonst unweigerlich »abstürzt«.</p>

<p>Der TRACE-Befehl verträgt sich leider nicht mit den Befehlen, die den Interrupt beeinflussen (VEC, OLDVEC, B/G/BG FLASH). Dies läßt sich aber einfach durch Drücken der RUN/STOP-RESTORE-Taste, nachdem TRACE eingegeben wurde, ändern. Die Unverträglichkeit des TRACE-Befehls und der »Interrupt-Befehle« resultiert aus der Umlenkung des Interrupts auf einen Rasterzeileninterrupt beim TRACE-Befehl. Dieser Rasterzeileninterrupt sorgt dafür, daß beim TRACE-Befehl die obersten drei Zeilen immer in Blockgrafik angezeigt werden.</p>

<p>Aber auch ohne TRACE-Modus kann man den Rasterzeileninterrupt nutzen. Er wird mit SYS 31851 aktiviert. Zuvor müssen Sie allerdings in die Speicherstellen 31889 und 31903 jeweils die Rasterzeile (0 bis 255), in der auf hochauflösende Grafik umgeschaltet wird, POKEn. Außerdem muß die Speicherstelle 31929 die Rasterzeile (0 bis 255) enthalten, in der wieder auf Textmodus zurückgeschaltet wird. Das Ausschalten dieses Rasterzeileninterrupts ist nur durch NRM oder RUN/STOP-RESTORE möglich.</p>

<p>Im TRACE-Modus funktioniert auch der GET-Befehl nicht mehr, da die Speicher der zuletzt gedrückten Taste ständig gelöscht werden.</p>

<p>Die Funktion TEST setzt wie alle anderen Grafikbefehle den Grafikcursor. Hiermit können Sie also vor jedem GPRINT den Grafikcursor an die gewünschte Position setzen.</p>

<p>Den Befehl @ sollten Sie nicht alleine verwenden. Der Computer könnte abstürzen. Das gleiche kann passieren, wenn Sie bei Befehlen einen oder mehrere Parameter vergessen.</p>

<p>Wenn ein HiRes-Bild auf Diskette gespeichert wird, blinkt die Floppy-LED, da das Programm hauptsächlich für Datasette geschrieben wurde. Das HiRes-Bild kann zwar später wieder geladen werden, jedoch nur in Schwarz-Weiß. Die Farb-Informationen sind verloren.</p>

<h2>Fehlermeldungen</h2>

<p>Ist ein Programm beendet oder tritt eine Fehlermeldung auf, wird der hochauflösende Grafikmodus ausgeschaltet. Bei einem Fehler wird die fehlerhafte Zeile gelistet. Bei den meisten Fehlern wird der ungefähre Fehlerpunkt negativ (invers) gekennzeichnet.</p>

<h3>Zusätzliche Fehlermeldungen zum Basic V2:</h3>

<h3>UNTIL WITHOUT REPEAT</h3>

<p>Tritt auf, wenn der Computer auf UNTIL trifft, ohne daß ein REPEAT vorausging.</p>

<h3>LABEL NOT FOUND</h3>

<p>Tritt auf, wenn ein Sprunglabel nicht vorhanden ist.</p>

<h3>SUBEND WITHOUT CALL</h3>

<p>Tritt auf, wenn der Computer auf SUBEND trifft, ohne daß ein CALL vorausging.</p>

<h3>ILLEGAL SPRITE NUMBER</h3>

<p>Tritt auf, wenn die Spritenummer sn größer als 7 ist.</p>

<h3>ILLEGAL SPRITE STRING</h3>

<p>Der String des DESIGN-Befehls enthält einen Fehler.</p>

<h3>SPRITE DESIGNING COORDINATE</h3>

<p>Tritt auf, wenn beim SPLOT-Befehl falsche x/y-Koordinaten angegeben werden.</p>

<address class="author">(Jens Schwarz/ah)</address>
    </article>
</body>
</html>
