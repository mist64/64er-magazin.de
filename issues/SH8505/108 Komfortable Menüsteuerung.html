<!DOCTYPE html>
<html lang="de">

<head>
    <title>Komfortable Menüsteuerung</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="M. Schacht, ah">
    <meta name="64er.issue" content="Sonderheft 5/85">
    <meta name="64er.pages" content="108">
    <meta name="64er.toc_category" content="Tips und Tricks">
    <meta name="64er.id" content="menuesteuerung">
</head>

<body>
    <article>
        <h1>Komfortable Menüsteuerung</h1>
        <p class="intro">Mit diesem Basic-Unterprogramm läßt sich durch einfache Parameterübergabe eine Menü-Zeile frei definieren, mit der Sie auf Tastendruck bis zu 19 weitere Routinen anwählen können.</p>

        <p>Das zirka 800 Byte lange Unterprogramm (ohne REM) erspart bei der Erstellung eines menügesteuerten Programms die immer wiederkehrenden Abfragen nach gedrückten oder nichtgedrückten Tasten.</p>

        <p>Man ruft im laufenden Programm nur das Unterprogramm (Listing) auf und die gewünschte Menüzeile erscheint zentriert in der vorletzten Zeile des Bildschirms.</p>

        <p>Mit den Cursor-Tasten (links/rechts) verschiebt man ein revers erleuchtetes Feld, das auf das Menü-Wort positioniert werden kann. Mit RETURN übernimmt man das Menü-Wort und verläßt das Unterprogramm. Um mehrere Menüs zu erstellen, sind die Angaben aller Menüs am Anfang des Hauptprogramms den Variablen d$(1), d$(2) undsoweiterzuzuordnen.</p>

        <p>Im laufenden Programm wird nun das Unterprogramm folgendermaßen aufgerufen:<br>
            AN=3:az=4:GOSUB 1000<br>
            AN=Anfang des Menü-Wortes (hier drittes Menü-Wort)<br>
            AZ=Anzahl der Menü-Worte (hier vier Worte)</p>

        <p>Es werden also die Strings d$(3) bis d$(4) ausgegeben. Das Unterprogramm übergibt den Parameter kk in Abhängigkeit des gewählten Menü-Wortes und der Position der Menü-Zeile. Hat man also zum Beispiel das dritte Menü-Wort von links ausgewählt, so wird kk=3 übergeben.</p>

        <p>Nach dem GOSUB ist eine Weiterbehandlung mit<br>
            ON kk GOSUB 11,22,33,44,&hellip;<br>
            am sinnvollsten.</p>

        <p>Man erkennt sofort, welche Vorteile das Programm hat. Änderungen können sehr einfach durchgeführt werden und im laufenden Programm sind nur zwei Zeilen nötig, um eine Verzweigung zu bewirken.</p>

        <p>Anmerkung: Die Menü-Zeile sollte nicht mehr als 38 Zeichen haben, sonst werden die Menü-Worte jeweils um ein Zeichen gekürzt dargestellt. Bei mehr als 38 Zeichen plus Anzahl der Menü-Worte erscheint eine Fehlermeldung.</p>

        <address class="author">(M. Schacht/ah)</address>

        <figure>
            <img src="108-0.png" alt="">
        </figure>

        <figure>
            <pre data-filename="menuesteuerung" data-name="Komfortable Menüsteuerung"></pre>
            <figcaption>Listing »Komfortable Menüsteuerung«. Bitte die Eingabehinweise auf Seite 6 beachten.</figcaption>
        </figure>
    </article>
</body>

</html>
