<!DOCTYPE html>
<html lang="de">

<head>
    <title>Programmieren Sie Ihre Tastatur!</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="Markus Stecher, ah">
    <meta name="64er.issue" content="Sonderheft 5/85">
    <meta name="64er.pages" content="105-106">
    <meta name="64er.head1" content="Tips & Tricks">
    <meta name="64er.toc_category" content="Tips und Tricks">
    <meta name="64er.toc_title" content="Tastenbelegung ändern — Programmieren Sie Ihre Tastatur">
    <meta name="64er.id" content="key-progger">
</head>

<body>
    <article>
        <h1>Programmieren Sie Ihre Tastatur!</h1>
        <p class="intro">Mit diesem Programm werden nicht nur die Funktionstasten, sondern die gesamte Tastatur frei programmierbar.</p>

        <p>Wenn Sie das Programm KEY-PROGGER (Listing 1) eingegeben haben, können Sie es mit LOAD"KEY-PROGGER",1,1 oder, wenn Sie ein Diskettenlaufwerk besitzen, mit LOAD"KEY-PROGGER",8,1 laden. Nach dem Laden geben Sie am besten den Basic-Befehl NEW ein, da Sie sonst später eine OUT OF MEMORY-Meldung erhalten. Nun sind Sie soweit, daß Sie das Programm mit SYS 49152 starten können. Nach dem Starten istjedoch keine Veränderung zu bemerken. Durch den SYS-Befehl wird nur die Tastaturabfrage über eine neue Routine geleitet, welche die Tastenfunktionen aus einer Tabelle liest, die im RAM steht, und daher verändert werden kann. Wie aber ändert man nun die Tastenbelegung? Dazu ist der leistungsfähige #-Befehl implementiert. Damit KEY-PROGGER mit möglichst vielen Erweiterungen zusammenarbeitet, ist es möglich, diesen Befehl ein- und auszuschalten. Um also die Tastenbelegung zu ändern, muß dieser Befehl zuerst eingeschaltet werden. Dies geschieht mit SYS 49152+3. Ausgeschaltet wird er mit SYS 49152+6. Die Anwendung des # -Befehls ist sehr einfach. Sie geschieht in der Form: #nr,string</p>

        <p>nr entspricht in den allermeisten Fällen dem ASCII-Wert eines Zeichens. Alle möglichen Tastaturzuordnungen sind in Bild 1 aufgeführt. Wo dies nicht so ist, kann die Nummer mit einem kleinen Programm festgestellt werden:<br>
            10 FORI=0TO255<br>
            20 #I,STR$(I)<br>
            30 NEXTI</p>

        <figure>
            <img src="105-1.png" alt="">
            <figcaption>Bild 1. Tastaturzuordnung auf einen Blick</figcaption>
        </figure>

        <p>Nachdem dieses kleine Programm mit RUN gestartet wird, erscheint beim Druck auf jede Taste eine Zahl auf dem Bildschirm. Diese Zahl ist die Nummer der Taste. Es sind jedoch nicht alle 256 Werte von der Tastatur aus erreichbar. Insgesamt erhält man jedoch 187 programmierbare Tastenfunktionen. Diese Zahl reduziert sich jedoch noch einmal, da es nicht sinnvoll ist, manche Tasten, wie zum Beispiel die RETURN-Taste umzudefinieren, da diese wichtige Funktionen erfüllen.</p>

        <p>Mit dem # -Befehl können jeder Taste bis zu 10 Zeichen zugeordnet werden. Versuchen Sie es doch einmal, zum Beispiel mit:<br>
            #12,"LIST"+CHR$(13)</p>

        <p>Wenn Sie nun gleichzeitig CTRL und L drücken, erscheint der Befehl LIST auf dem Bildschirm und wird gleich ausgeführt. Haben Sie nach einer Zeit des Herumprobierens den Wunsch, die alte Tastaturbelegung wieder herzustellen, so ist dies ganz einfach mit dem Befehl SYS 49152+9 möglich.</p>

        <p>Außerdem kann die Belegung der Tastatur gespeichert und wieder geladen werden. Die Befehle dazu sind:<br>
            Speichern: SYS 49152+12,"name",ga<br>
            Laden: SYS 49152+15,"name",ga<br>
            »ga« ist dabei die Geräteadresse, also 1 für Kassettenrecorder und 8 für Diskettenlaufwerk. So kann jeder seine »ideale« Lösung auf einfachste Weise festhalten.</p>

        <h2>Tastatur-Generator</h2>

        <p>Die Anwendungsgebiete der programmierten Tastaturen sind nahezu unbegrenzt. So läßt sich der C 64 wie der SX 64 an ein Diskettenlaufwerk anpassen. Mit:<br>
            #131, "LOAD"+CHR$(34)+ " * " +CHR$(34)+ ",8"<br>
            wird die RUN/STOP-Taste so umdefiniert, daß nicht mehr ein Kassettenprogramm, sondern das erste Programm von der Diskette geladen wird.</p>

        <p>Da KEY-PROGGER auch ohne Probleme mit dem DOS 5.1 zusammenarbeitet, istjetztauch ein Directoryauf Knopfdruck möglich.</p>

        <p>Will man gleichzeitig mit KEY-PROGGER und Hypra-Load arbeiten, so muß man erst Hypra-Load und dann KEY-PROGGER mitSYS 49152+18 statt mit SYS 49152 starten.</p>

        <p>Am einfachsten ist die Belegung der Tastatur mit dem Tastatur-Generator. Nach Abtippen von Listing 2 speichern Sie den Tastatur-Generator zuerst ab. Nun laden Sie KEY-PROGGER wie oben beschrieben und geben anschließend NEW ein. Danach können Sie den Tastatur-Generator laden und mit RUN starten. Der Tastatur-Generator startet KEY-PROGGER automatisch. Nach zirka fünf Sekunden meldet sich der Tastatur-Generator mit der Frage, welche Taste umdefiniert werden soll. Sie brauchen nur diese Taste zu drücken. Der Computer zeigt dann, wie die Taste bisher belegt war. Danach können Sie Ihre neue Belegung in ein 10Zeichen breites Feld eingeben. Die Taste DEL löscht die Eingabe. Mit RETURN wird die Eingabe abgeschlossen. Haben Sie einen Befehl eingegeben, der sofort nach Drücken der Taste ausgeführt werden soll, zum Beispiel RUN, so schließen Sie die Eingabe mit SHIFT RETURN ab. Drücken Sie RETURN, ohne eine neue Belegung eingegeben zu haben, so bleibt die alte Belegung erhalten.</p>

        <p>Nach der Eingabe erscheint ein Menü, mit dem Sie die Definitionen fortsetzen können (1), die letzte Eingabe rückgängig machen (2), die neue Tastaturbelegung speichern (3), die ursprüngliche Belegung wieder herstellen (4) oder das Programm beenden können (5). Somit kann sich jeder auf einfachste Weise eine individuelle Tastaturbelegung gestalten.</p>

        <address class="author">(Markus Stecher/ah)</address>

        <figure>
            <pre data-filename="key-progger.prg" data-name="Frei programmierbare Tastatur (Hauptprogramm)" data-mse=mse1></pre>
            <figcaption>Listing 1. Hauptprogramm »Frei programmierbare Tastatur«. Bitte beachten Sie die Eingabehinweise auf Seite 8.</figcaption>
        </figure>
        <div class="binary_download" data-filename="key-progger.prg" data-name="Frei programmierbare Tastatur"></div>

        <figure>
            <pre data-filename="tast.-generator" data-name="Tastaturgenerator"></pre>
            <figcaption>Listing 2. »Tastaturgenerator«. Bitte beachten Sie die Eingabehinweise auf Seite 6.</figcaption>
        </figure>
    </article>
</body>

</html>
