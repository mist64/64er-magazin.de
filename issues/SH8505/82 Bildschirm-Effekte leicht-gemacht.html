<!DOCTYPE html>
<html lang="de">

<head>
    <title>Bildschirm-Effekte leicht-gemacht</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="Stefan Wagner, ev">
    <meta name="64er.issue" content="Sonderheft 5/85">
    <meta name="64er.pages" content="82">
    <meta name="64er.toc_category" content="Tips und Tricks">
    <meta name="64er.id" content="screen">
</head>

<body>
    <article>
        <h1>Bildschirm-Effekte leicht-gemacht</h1>
        <p class="intro">Mit dieser BasioErweiterung können Sie in beliebigen Bildschirmausschnitten Spezialeffekte wie Blinken, Invertieren oder Auffüllen mit beliebigen Zeichen einfach erzeugen.</p>

        <p>Diese kleine Maschinensprache-Routine (»Screen«) kann in nahezu allen Programmen Verwendung finden, um zum Beispiel fehlerhafte Eingaben durch Blinken zu markieren oder um Eingabefelder zu löschen. Auch für die Gestaltung von Titelbildern bietet sich »Screen« an. Folgende Routinen sind vorhanden:<br>
            (0) Invertieren des gewählten Bereichs<br>
            (1) Reversdarstellung eines Bildschirm-Bereichs<br>
            (2) Normaldarstellung (Gegenstück zu (1))<br>
            (3) Auffüllen eines Bereichs mit beliebigen Zeichen</p>

        <p>Das Programm (Listing 1 und 2) kann auf zwei verschiedene Arten aufgerufen werden. Entweder starten Sie es mit »SYS (Anfangsadresse+36)« oder Sie benutzen statt dessen das Ausrufezeichen »!«. Der erste Weg bietet sich an, wenn schon eine andere Befehlserweiterung das »I« benutzt. Die korrekte Syntax des »!«-Befehls entnehmen Sie bitte Tabelle 1.</p>

        <figure>
            Initialisieren: SYS SA<br>
            Syntax:<br>
            !(VZ,BZ,VS,BS),F,C<br>
            VZ = Von Zeile<br>
            BZ = Bis Zeile<br>
            VS = Von Spalte<br>
            BS = Bis Spalte<br>
            F = Funktion (0–3)<br>
            0 = Invers<br>
            1 = Revers<br>
            2 = Normal<br>
            3 = Füllen<br>
            C = Füllcode (= Bildschirmcode)<br>
            <figcaption>Tabelle 1. Die Syntax des neuen »!«-Befehls.</figcaption>
        </figure>


        <p>Das Programm ist frei im Speicher verschiebbar; die beiden notwendigen Vektoren für die Befehlserweiterung werden in Zeile 195-200 automatisch angepaßt. Möchte man lieber mit dem SYS-Befehl arbeiten, dann können die Zeilen 165-225 ersatzlos entfallen, in diesem Fall findet das Programm auch im Kassettenpuffer Platz. Tabelle 2 zeigt die Belegung der Zero-Page durch das Programm.</p>

        <figure>
            <table class="plain">
                <tbody>
                    <tr>
                        <td>87</td>
                        <td>BL</td>
                        <td>Bildschirmadresse LowByte</td>
                    </tr>
                    <tr>
                        <td>88</td>
                        <td>BH</td>
                        <td>Bildschirmadresse HighByte</td>
                    </tr>
                    <tr>
                        <td>89</td>
                        <td>ABZE</td>
                        <td>ab Zeile</td>
                    </tr>
                    <tr>
                        <td>90</td>
                        <td>BISZE</td>
                        <td>bis Zeile</td>
                    </tr>
                    <tr>
                        <td>91</td>
                        <td>ABSP</td>
                        <td>ab Spalte</td>
                    </tr>
                    <tr>
                        <td>92</td>
                        <td>BISSP</td>
                        <td>bis Spalte</td>
                    </tr>
                    <tr>
                        <td>93</td>
                        <td>TEST</td>
                        <td>enthält #128</td>
                    </tr>
                    <tr>
                        <td>251</td>
                        <td>ANZSP</td>
                        <td>Anzahl Spalten</td>
                    </tr>
                    <tr>
                        <td>252</td>
                        <td>ANZZE</td>
                        <td>Anzahl Zeilen</td>
                    </tr>
                    <tr>
                        <td>253</td>
                        <td>FKT</td>
                        <td>Funktionscode</td>
                    </tr>
                    <tr>
                        <td>254</td>
                        <td>CODE</td>
                        <td>Füllcode</td>
                    </tr>
                </tbody>
            </table>
            <figcaption>Tabelle 2. Die verwendeten Speicherstellen in der Zero-Page</figcaption>
        </figure>
        <p>Zu bemerken ist noch, daß das Programm aus Platzgründen nicht auf ungültige Zeichen oder Spaltenwerte testet. In Ihren Programmen müssen Sie daher darauf achten, daß der Bildschirmbereich eingehalten wird, da sich sonst Probleme ergeben können. Das Demonstrationsprogramm in Listing 2 sieht zwar unscheinbar aus, erzeugt aber überraschende Effekte.</p>

        <address class="author">(Stefan Wagner/ev)</address>

        <figure>
            <pre data-filename="!screen data's" data-name="Screen"></pre>
            <figcaption>Listing 1. »Screen« als DATA-Lader. Bitte beachten Sie die Eingabehinweise auf Seite 6.</figcaption>
        </figure>
        <figure>
            <pre data-filename="!screen demo" data-name="Screen Demo"></pre>
            <figcaption>Listing 2. Demonstrationsprogramm zu »Screen«. Bitte beachten Sie die Eingabehinweise auf Seite 6.</figcaption>
        </figure>
    </article>
</body>

</html>
