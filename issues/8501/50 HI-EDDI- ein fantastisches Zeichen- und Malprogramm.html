<!DOCTYPE html>
<html lang="de">

<head>
    <title>HI-EDDI: ein fantastisches Zeichen- und Malprogramm</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="Hans Haberl, gk">
    <meta name="64er.issue" content="1/85">
    <meta name="64er.pages" content="50-51,57-67">
    <meta name="64er.head1" content="Listing des Monats">
    <meta name="64er.head2" content="C 64">
    <meta name="64er.toc_title" content="<b>2000 Mark für das Listing des Monats: Mit Pinsel und Palette<br>Ein Superprogramm zum Zeichnen und Malen</b>">
    <meta name="64er.toc_category" content="Wettbewerbe">
    <meta name="64er.toc_title" content="HI-EDDI, ein fantastisches Zeichen- und Malprogramm">
    <meta name="64er.toc_category" content="Programme zum Abtippen|Grafik">
    <meta name="64er.index_title" content="HI-EDDI: Ein fantastisches Zeichen und Malprogmmm (LDM)">
    <meta name="64er.index_category" content="Listings zum Abtippen|Grafik|Zeichnen">
    <meta name="64er.id" content="hieddi">
</head>

<body>
    <article>

        <h1>HI-EDDI: ein fantastisches Zeichen- und Malprogramm</h1>

        <p class="intro">HI-EDDI ist ein High-Resolution-Grafik-Editor, der vieles bietet, was man bei teuren, kommerziellen Programmen vergeblich sucht. Sehen Sie sich die Bilder an und Sie bekommen einen Eindruck von seinen Fähigkeiten.</p>

        <figure>
            <img src="50-1.png" alt="">
            <figcaption>Es lassen sich nicht nur Bilder zeichnen, sondern auch technische Zeichnungen realisieren. Text kann ebenso eingefügt werden wie Sprites und selbstdefinierte Zeichensätze.</figcaption>
        </figure>

        <p>Hier eine Aufstellung der herausragenden Eigenschaften:</p>

        <ul>
            <li>Wahlweise als »Schwarzweiß«-Zeichenprogramm oder als farbiges Malprogramm verwendbar, in jedem Fall mit der vollen Auflösung von 320 x 200 Bildpunkten.</li>
            <li>7 (in Worten: sieben) Schwarzweiß-Bildschirme oder 6 farbige stehen zur Verfügung.</li>
            <li>Integrierter, leistungsfähiger Sprite-Editor (mit Sprite spiegeln, drehen&hellip;) und die Fähigkeit, Sprites aus dem Grafikbild herauszukopieren oder einzupflanzen. Damit ist zum Beispiel Ausschnittvergrößerung (Zoom) ebenso wie das Erstellen von »Construction Sets« möglich.</li>
            <li>Mit einer Zeichentrickfilm-Funktion sind fast flimmerfreie Bewegungsabläufe mit bis zu 24 Bildern pro Sekunde möglich.</li>
            <li>Befehlseingabe wahlweise über Tastatur oder eine selbst zu gestaltende Menütafel (à la Koalapainter).</li>
            <li>Zusammenhängender Ausdruck mehrerer Bilder möglich, das ergibt Superbilder mit einer Breite von minimal 640 Punkten und unbegrenzter Länge (siehe Bild 2 im Listing-Teil).</li>
            <li>Ferner sind alle »Standardbefehle« wie Draw, Line, Rectangle, Circle, Paint, Move und Text vorhanden.</li>
        </ul>


        <p>Natürlich ist klar, daß sowas nur in Maschinensprache geht, und die ist mit rund 4700 DATAs nicht gerade kurz. Gemessen an den Möglichkeiten des Programms ist es allerdings auch nicht viel. Die Bilder auf diesen Seiten lassen die Vielfältigkeit von HI-EDDI nur ahnen. Dabei lassen sich nicht nur mit HI-EDDI erzeugte Bilder laden und bearbeiten, sondern auch Grafikbilder anderer Programme, wie von Koala oder Paint Magic, zum Beispiel die der Dia-Show.</p>

        <address class="author">(Hans Haberl/gk)</address>

        <figure>
            <img src="50-2.png" alt="">
            <figcaption>Solche oder auch ganz andere Menüs können Sie sich selbst erstellen. Auf der Diskette zu dieser Ausgabe finden Sie diese und noch andere Beispiele.</figcaption>
        </figure>
        <figure>
            <img src="50-3.png" alt="">
            <figcaption>Wenn Sie dieses Bild sechsmal im Speicher ablegen (mit wenigen Tasten möglich) und in jedem Bild die Stellung der Kolben ändern, kann mit dem Walk-Befehl ein Zeichentrickfilm-ähnlicher Effekt erzielt werden (zirka sieben Bilder pro Sekunde).</figcaption>
        </figure>

        <aside>

            <h2>Ein Chinese verhalf dem Gewinner zu 2000 Mark</h2>

            <p class="intro">Das Programm HI-EDDI ist aus einem Textverarbeitungsprogramm geboren! Diese Aussage verwundert weniger, wenn man an das chinesische »Alphabet« denkt.</p>

            <figure>
                <img src="50-0.png" alt="">
                <figcaption>Hans Haberl, der Gewinner des Listings des Monats, mit HI-EDDI</figcaption>
            </figure>

            <p>Angefangen hat’s ganz ohne Computerunterstützung anno 1960 in Steinhöring (also in Bayern). Schon bald begann ich mich für alles zu interessieren, was irgendwie nach Technik roch. Während andere Mumps oder Röteln hatten, litt ich an Radio-Zerlegeritis, Elektronik-Bastleritis und HiFi-Manie. »Dieser Saustall muß ein anderer werden«, hat sich das Christkind wohl gesagt und hat mir anno 79 einen TRS-80 unter den Christbaum gestellt — natürlich nicht ohne vorherige Absprache mit mir. Irgendwann sind mir dann die 16 KByte und die Grafikauflösung von 48 x 128 Punkten zu wenig geworden und es folgte ein C 64. Natürlich hat sich meine Neigung auch in beruflicher Hinsicht ausgewirkt: Seit 1980 studiere ich Elektrotechnik mit Schwerpunkt Datenverarbeitung an der Technischen Universität München. Neben der Computertei ist Musik, besonders klassische, mein Hobby: Brahms, Beethoven, Liszt und Dvorak sind meine Lieblingskomponisten.</p>

            <p>Zu dem Programm HI-EDDI wurde ich angeregt, als sich mein chinesischer Freund einen C 64 kaufte: Eines seiner ersten Projekte war es, seine Adresse auf den Bildschirm zu bringen. Nur bewaffnet mit Simons Basic, brauchte er dazu meterlange DATA-Orgien, um die komplizierten chinesischen Zeichen zu definieren. Daraus wurde die Idee geboren, die Schriftzeichen in einem Sprite-Editor zu erstellen und in den Grafikbildschirm einzupflanzen. Die erste Version von HI-EDDI hatte deshalb im wesentlichen nur die Sprite-Befehle. Als chinesisches Textverarbeitungsprogramm eignet sich das schon hervorragend, aber da ich jetzt schon mal mit einem Grafikprogramm angefangen hatte, wollte ich’s auch perfektionieren. Nach rund dreimonatiger Arbeit fiel mir dann nichts mehr ein, was ich noch einbauen könnte; das Ergebnis ist die vorliegende Version von HI-EDDI.</p>

            <address class="author">(Hans Haberl)</address>

        </aside>


        <p class="intro">Wie mächtig HI-EDDI ist, können Sie aus der umfangreichen Funktionsbeschreibung ersehen. Es kann sogar mit den »professionellen« Programmen verglichen werden, auf jeden Fall ist es das beste Grafikprogramm zum Abtippen.</p>

        <p>Nach dem Start meldet sich HI-EDDI mit der Frage »Betriebsart«. Wird hier 0 eingegeben (oder einfach RETURN), wird HI-EDDI als »Schwarzweiß«-Programm betrieben, bei 128 dagegen als farbiges Malprogramm. Weitere mögliche Eingaben werden später behandelt, ebenso die Befehlseingabe mittels Menütafel. Zunächst werden alle Befehle, die im folgenden zusammengestellt sind, durch Tastendruck eingegeben.</p>

        <h3>D Draw — »Freihändig« zeichnen</h3>

        <p>Im Draw-Modus kann mit dem kreuzförmigen Cursor (der wird mit einem Joystick in Port 2 gesteuert) »freihändig« gezeichnet werden. Bei gedrücktem Feuerknopf werden die überfahrenen Punkte gesetzt. Um Punkte zu löschen, muß zusätzlich die SHIFTTaste (oder SHIFT-LOCK zum Feststellen) gedrückt werden.</p>

        <h3>L Line — Linien ziehen</h3>

        <p>Mit dem ersten Knopfdruck am Joystick wird der Anfangspunkt einer Linie festgelegt, mit dem zweiten der Endpunkt, mit dem dritten wieder ein Anfangspunkt etc.. Der jeweilige Anfangspunkt wird auf F7 gespeichert (siehe Funktionstasten), damit lassen sich Strahlen besonders einfach zeichnen. SHIFT wie bei D.</p>

        <h3>R Rectangle — Rechtecke zeichnen</h3>

        <p>Wie L — auch bezüglich SHIFT und F7 —, jedoch wird zwischen den zwei markierten Punkten ein Rechteck gezeichnet.</p>

        <h3>C Circle — Kreise zeichnen</h3>

        <p>Der erste Knopfdruck ergibt den Mittelpunkt (auf F7 gespeichert, damit ist einfaches Zeichnen konzentrischer Kreise möglich), derzweite einen beliebigen Randpunkt, von dem aus HI-EDDI im Uhrzeigersinn einen Kreis zieht. Wird beim Anstoßen an den Rand abgebrochen.</p>

        <p>Möchte man einen Ausschnitt eines Kreises, der nicht ganz auf den Bildschirm paßt, zeichnen, so muß der zweite Knopfdruck einen Punkt am Bildschirmrand markieren, von dem aus der sichtbare Kreisausschnitt im Uhrzeigersinn gezeichnet werden kann. Allerdings darf der Radius maximal 256 Punkte betragen.</p>

        <h3>P Paint — Ausmalen begrenzter Flächen</h3>

        <p>Cursor mitten auf die auszumalende Fläche setzen und Knopf drücken. Sollte durch ein Loch in der Umrandung der ganze Bildschirm vollzulaufen drohen, so kann der Vorgang durch nochmaligen Knopfdruck abgebrochen werden (dazu ist allerdings eine gute Reaktion nötig, denn HI-EDDI füllt Flächen um einiges schneller als Simons Basic). Zum Löschen von Flächen: Bildschirm mit »I« invertieren, entstandenes »Loch« vollaufen lassen, zurückinvertieren.</p>

        <h3>M Move — Verschieben von Bildschirmbereichen</h3>

        <p>Mit den ersten beiden Knopfdrücken werden zwei diagonale Ecken des zu transportierenden Bereiches gesetzt (nach dem zweiten Knopfdruck erscheint eine farbliche Markierung dieses Bereiches), der dritte Knopfdruck gibt die linke, obere Ecke des Zielbereiches an. Der Zielbereich muß noch ganz auf den Bildschirm passen (sonst wird der Knopfdruck nicht akzeptiert), er darf jedoch den Quellbereich überlappen oder in einem anderen Bildschirm liegen. Die Auflösung des Move-Befehls entspricht der des normalen Textbildschirmes, es kann also nur im 40 x 25-Raster verschoben werden.</p>

        <p>Soll ein Bereich mehrmals kopiert werden, so muß er nicht jedesmal neu markiert werden: Ein Druck auf die Pfeil-nach-oben-Taste holt die letzte Markierung wieder auf den Bildschirm, es kann danach sofort der Zielbereich bestimmt werden (funktioniert nur, solange zwischenzeitlich kein Moduswechsel erfolgte).</p>

        <p>Hat man sich beim Markieren vertan, so löscht ein Druck auf die Pfeil-nach-links-Taste die Markierung wieder (gilt auch für L, R, C).</p>

        <h3>T Text — Buchstaben und Grafiksymbole einfügen</h3>

        <p>Es erscheint ein 8 x 8-Pixel großer Rahmen, der sich fast so benimmt, wie der Blinkcursor im Textbildschirm: Drucken von Buchstaben und Grafikzeichen, Cursorsteuerung mittels Cursortasten, Löschen mittels DEL (rückwärts) und INST (vorwärts, um für Text Platz zu schaffen), Reverse on/off und Umschaltung der beiden Zeichensätze mit C = SHIFT (es können alle 512 Zeichen der beiden Zeichensätze gleichzeitig dargestellt werden!).</p>

        <p>Daneben bleibt die Cursorsteuerung mittels Joystick erhalten, ebenso alle anderen Befehle, diejedoch nur durch gleichzeitiges Drücken der CTRL-Taste eingegeben werden können. Durch Anwahl eines anderen Modus, zum Beispiel CTRL D für Draw, wird der Textmodus verlassen und es ist wieder »Ein-Hand-Eingabe« der Befehle möglich.</p>

        <h3>G Get Sprite — Sprite aus Bildschirm kopieren</h3>

        <p>In diesem und den folgenden drei Modi erscheint ein spritegroßer Rahmen als Cursor. Auf Knopfdruck wird der Bildschirmausschnitt, auf dem der Rahmen sitzt, in das Sprite hineinkopiert, anschließend geht HI-EDDI automatisch in den Append-Modus, das Sprite kann an anderer Stelle wieder eingepflanzt oder im Sprite-Editor bearbeitet werden.</p>

        <h3>A Append — Sprite in Bildschirm einfügen</h3>

        <p>Auf Knopfdruck wird der Spriteinhalt in den Bildschirm eingefügt, ohne jedoch den Bildschirmausschnitt vorher zu löschen (Oder-Verknüpfung). Bei gleichzeitiger Bewegung wird das Sprite zum »programmierbaren Pinsel«.</p>

        <h3>S Stamp — Sprite auf Bildschirm kleben</h3>

        <p>Wie A, jedoch wird vor dem Einfügen der Untergrund gelöscht, das Sprite wird wie eine Briefmarke auf den Bildschirm geklebt.</p>

        <h3>E Erase — Löschen</h3>

        <p>Der Rahmen wird zum Radiergummi, der alles löscht, was er überfährt.</p>

        <h3>F Foreground-Colourmode — Vordergrund einfärben<br>B Background-Colourmode — Hintergrund einfärben</h3>

        <p>Diese beiden Modus-Befehle sind nur wirksam, wenn HI-EDDI als farbiges Malprogramm betrieben wird. Doch dazu ist vorweg einiges zum Konzept zu sagen:</p>

        <p>Im Gegensatz zu den meisten käuflichen Programmen, die im Multicolour-Modus arbeiten (mehrere Farben, aber nur halbe Auflösung), ist HI-EDDI konsequent als Zeichenprogramm mit maximaler Auflösung konzipiert. Die Farbfähigkeiten sind nur ein »Nebenprodukt« und deshalb nicht so ausgeprägt: Pro 8 x 8-Punkte-Feld (entsprechend einer Position im Textbildschirm) stehen nur zwei Farben — je eine für Vorder- und Hintergrund — zur Verfügung. Bei insgesamt 1 000 Feldern und 16 Farben kann das allerdings auch recht bunt werden. Außerdem ist es durch die Trennung von Zeichnen und Einfärben möglich, bestehende »Schwarzweiß-Bilder« leicht nachträglich zu colorieren.</p>

        <p>Nun zu den Befehlen <strong>F</strong> und <strong>B</strong>: Sie schalten einerseits die Rahmenfarbe (und die Farbe des Sprite-Inhalts bei <strong>A</strong> und <strong>S</strong>) weiter, andererseits wählen sie den Fore- beziehungsweise Back-Mode an, in dem auf Knopfdruck die gesetzten Pixel (=Vordergrund) beziehungsweise gelöschten Pixel (= Hintergrund) des 8 x 8-Feldes, auf dem sich der Cursor befindet, mit der Rahmenfarbe eingefärbt werden. Beispiel: Um den Vordergrund gelb anzumalen, muß die Taste F so oft gedrückt werden, bis der Rahmen gelb ist. Dann kann mit dem Cursor gepinselt werden.</p>

        <p>Hat man ein Feld zuviel angepinselt, so kann durch gleichzeitiges Drücken der SHIFTTaste (wie bei D, L, R, C) die gerade gemalte Farbe gelöscht werden. Genauer gesagt: Es erscheint wieder die Farbe, die beim letzten Bildschirmwechsel dort war. Als Bildschirmwechsel gelten:</p>

        <ol>
            <li>Bildschirmspeicherwechsel (1 bis 7)</li>
            <li>Ausschalten des High-Resolution-Bildschirmes (Sprite-Editor, Befehle H, V, SHIFT W, Disk- und Druckerbefehle).</li>
            <li>Move-Befehl, auch wenn nur innerhalb eines Bildes »gemovet« wurde.</li>
        </ol>


        <p>Die Pfeil-nach-links-Taste (Korrekturtaste) hat die gleiche Wirkung wie SHIFT + Knopfdruck, jedoch für den ganzen Bildschirm: Es werden alle Farbveränderungen seit dem letzten Bildschirmwechsel rückgängig gemacht.</p>

        <h2>Direkte Befehle</h2>

        <p>Alle bisher beschriebenen Befehle haben eins gemeinsam: Sie dienen zur Anwahl eines Modus, sie haben also eine »Nachwirkung«, vor allem, was die Funktion des Feuerknopfes anbelangt. Die nun folgenden Befehle ändern den gerade eingestellten Modus nicht, sie haben nur eine unmittelbare Wirkung.</p>

        <h3>1 bis 7 beziehungsweise 1 bis 6: Bildschirmspeicher-Anwahl</h3>

        <p>HI-EDDI hat im Schwarzweiß-Betrieb sieben und im Farbbetrieb sechs Bildschirmspeicher, die durch Eingabe ihrer Nummer auf den Bildschirm geholt werden.</p>

        <p>Wozu so viele? Beispiele: Abspeichern von verschiedenen Zwischenstadien der bearbeiteten Werke, bei denen man wieder ansetzen kann, wenn man was vermurkst hat. Oder Erstellen von »Construction Sets«: Aus einer Anzahl zum Beispiel von Schaltsymbolen kann man mittels der Sprite-Befehle im Nu Schaltpläne aufbauen. Für die Befehle Print und Walk sind sieben Speicher eigentlich zuwenig, aber im C 64 haben eben nicht mehr Platz!</p>

        <h3>I Invertieren</h3>

        <p>Die Pixel des Bildschirmes werden invertiert. In Zusammenhang mit den Befehlen Und, Or, Exor, Append, Stamp, Get, Erase, Paint und Print ergibt das eine Vielzahl von Möglichkeiten.</p>

        <h3>Un Und-Verknüpfung</h3>

        <p>Der aktuelle (= sichtbare) Bildschirm und der Bildschirm Nummer n werden Und-verknüpft, das Ergebnis im aktuellen Bildschirm abgelegt.</p>

        <h3>On Oder-Verknüpfung</h3>

        <p>Wie U, jedoch Oder-Verknüpfung. Eignet sich zum Beispiel zum Duplizieren von Bildern. Da die Befehle I, U, 0, X keinen Einfluß auf die Farbinformation eines Bildes haben, wird sie bei Farb-Betrieb nicht dupliziert. Soll dies geschehen, so muß mit dem Move-Befehl dupliziert werden.</p>

        <h3>Xn Exor-(Exclusiv-Oder-)Verknüpfung</h3>

        <p>Zweimalige Exor-Verknüpfung mit demselben Bild bewirkt, daß dieses wieder aus dem sichtbaren Bild »herausgefieselt« wird.</p>

        <h3>F, B (Fore, Back) — Rahmenfarbe weiterschalten<br>SHIFT F Total Foreground — Vordergrund-Farbe<br>SHIFT B Total Background — Hintergrund-Farbe</h3>

        <p>Die Befehle F und B wurden bereits bei den Modusbefehlen behandelt. Im Schwarzweiß-Betrieb schalten diese Befehle nur die Rahmenfarbe weiter, den aktuellen Modus verändern sie nicht.</p>

        <p>SHIFT F und SHIFT B sind dagegen in beiden Betriebsarten (farbig und schwarzweiß) gleich: Sie färben den gesamten Vorder- oder Hintergrund mit der aktuellen Rahmenfarbe ein. Sollte man auf diese Art im Farb-Betrieb versehentlich eine mühsam erstellte Colorierung löschen: Pfeil-nach-links-Taste drücken, und sie ist wieder da.</p>

        <h3>SHIFT CLR Bildschirm löschen</h3>

        <p>Die Farbinformation wird nicht gelöscht und kann somit isoliert werden.<br>
            + Schnelle Cursorgeschwindigkeit (beschleunigend)<br>
            — Langsame Cursorgeschwindigkeit</p>

        <p>HI-EDDI besitzt einen beschleunigenden Cursor: Er ist langsam genug, um durch Antippen des Joysticks pixelweise zu rangieren, bei größeren Entfernungen wird er jedoch — ohne lästiges Umschalten — schneller. Da jedoch die Beschleunigung manchmal unerwünscht ist, läßt sie sich durch Drücken der Minus-Taste abschalten.</p>

        <h3>F1 bis F8: Tabulatoren</h3>

        <p>Die vier Funktionstasten dienen als Speicher für vier Cursorpositionen: Durch gleichzeitiges Drücken der SHIFTTaste und einer Funktionstaste wird die momentane Cursorposition gespeichert, durch Drücken einer Funktionstaste allein springt der Cursor wieder genau an die gespeicherte Stelle. F7 wird von den Befehlen L, R und C automatisch belegt.</p>

        <h3>H — Horizontale Schrittweite<br>V — Vertikale Schrittweite<br>F1 bis F8: Schrittweiten speichern</h3>

        <p>Noch eine Speicherfunktion haben die Funktionstasten: Normalerweise bewegt sich der Cursor in 1-Pixel-Schritten bei der Joysticksteuerung, beziehungsweise in 8-Pixel-Schritten bei Steuerung mittels Cursortasten. Diese Schrittweiten sind jedoch — getrennt für horizontale und vertikale Bewegung — frei programmierbar, vier Schrittweitenpaare können auf den Funktionstasten gespeichert werden. Das Anwählen einer Schrittweite erfolgt durch gleichzeitiges Drücken der C = (Commodore-)Taste und einer Funktionstaste (gilt nur für die Cursortastensteuerung, der Joystick holt seine Schrittweite immer aus F1), das Programmieren durch die Befehle H und V, wonach die aktuelle (angewählte) Schrittweite angezeigt wird und geändert werden kann.</p>

        <p>Im Einschaltzustand sind die Tasten folgendermaßen belegt:<br>
            <strong>F1</strong>:H = 1,V = 1,das ist die normale Joysticksteuerung. Durch Vergrößerung auf 2 oder 3 lassen sich im Draw-Modus punktierte Linien zeichnen.<br>
            <strong>F3</strong> (Diese Taste ist im Einschaltzustand angewählt): H = 8, V = 8, für Textmodus. Vergrößerung ergibt eine gedehnte Schrift oder einen größeren Zeilenabstand.<br>
            <strong>F5</strong>: H = 24, V = 21, = Spritemaße, zurflächendeckenden Bearbeitung mittels Sprite-Editor.<br>
            <strong>F7</strong>: H = 160, V = 96, zur Einteilung des Bildschirmes in Viertelbilder für Walk-Befehl.
        </p>

        <p>Weitere Anwendungsmöglichkeiten sind: Maßstäbe, Gitterraster, exakt symmetrische Zeichnungen etc&hellip;</p>

        <h3>Space: Sprite-Editor</h3>

        <p>Durch Drücken der Leertaste kommt man in den Sprite-Editor. Das Setzen und Löschen von Punkten geht dort genauso wie im Draw-Modus. Die Befehle des Grafik-Editors sind im Sprite-Editor nicht zugänglich, dafür stehen die folgenden zur Verfügung:</p>

        <p><strong>M Mirror</strong> — Das Sprite wird zur Senkrechten gespiegelt.<br>
            <strong>T Turn</strong> — Drehung um 180 Grad. M und T ergeben eine Spiegelung zur Waagrechten.<br>
            <strong>R Rotate</strong> — Das Sprite wird um 90 Grad im Uhrzeigersinn gedreht. Da esjedoch 24 Punkte breit, aber nur 21 hoch ist, gehen die rechten drei Spalten verloren. Außerdem ist zweimal R nicht dasselbe wie T.<br>
            <strong>G Grid</strong> — Zum besseren Abzählen von Punkten wird ein Gitter eingeblendet, bei nochmaliger Eingabe von G wird es wieder ausgeblendet.<br>
            <strong>SHIFT CLR Sprite löschen</strong><br>
            <strong>Space Sprite-Editor verlassen</strong><br>
            <strong>W Walk Bildfolge ablaufen lassen</strong><br>
            <strong>SHIFT W Bildsequenz programmieren</strong>
        </p>

        <p>Jetzt lernen die Bilder laufen! Mit W werden die Bildschirmspeicher in schneller, programmierbarer Folge zyklisch durchgeschaltet. Da jedoch sechs Bilder für einen Bewegungsablauf recht wenig sind (Speicher 7 wird als »Leinwand« benutzt, sein Inhalt geht verloren) und außerdem die Bildfolge-Geschwindigkeit bei der Verschiebung von jedesmal 8 KByte nicht gerade hoch ist (maximal 7 Bilder/s), können die sechs Bildschirme in 24 Viertelbilder (mitje 160 x 96 Punkten, die unterste Zeile bleibt frei) zerlegt werden, die bei Maximalgeschwindigkeit in einer Sekunde »durchgerasselt« werden.</p>

        <p>Bei der Erstellung solcher Viertelbilder ist die programmierbare Schrittweite (160/96) sowie der Move-Befehl besonders nützlich. Die Programmierung der Bildfolge geschieht durch einen Sequenz-String, der aus den Zahlen 1 bis 6 zum Aufruf der großen Bilder oder aus den Buchstaben A bis X zum Aufruf der Viertelbilder bestehen kann. Der Bildschirmspeicher 1 enthält die Viertelbilder A (links oben), B (rechts oben), C (links unten) und D (rechts unten). Das geht so weiter bis zum Speicher 6, der die Viertelbilder U, V, W, X enthält. Beispiel: Zum sequentiellen Durchschalten aller Viertelbilder besteht der Sequenzstring aus den Buchstaben A bis X in alphabetischer Reihenfolge. Zahlen und Buchstaben dürfen mehrfach und sogar gemischt vorkommen.</p>

        <p>Mit SHIFT W gelangt man in den Sequenzstring-Editor, mit W wird die Bewegung gestartet. Während des Laufes kann die Geschwindigkeit mit der Plus- und Minus-Taste geregelt werden, bei gedrückter SHIFT-Taste läuft der Film rückwärts. Durch Druck auf den Feuerknopf wird die Vorführung beendet.</p>

        <p>Bei Farb-Betrieb wird Bildschirm 6 als Leinwand verwendet, es stehen nur noch 5 große oder 20 kleine Bilder zur Verfügung.</p>

        <h3>Z Zeichensatz</h3>

        <p>HI-EDDI kann auch als Zeichensatz-Editor verwendet werden: Mittels Z wird der gerade angewählte Zeichensatz in die ersten sieben Zeilen des Grafikbildschirmes kopiert. Dort kann er mittels Get, Sprite-Editor und Stamp modifiziert, anschließend auf Diskette gespeichert und von anderen Programmen, zum Beispiel Textverarbeitungsprogramme, verwendet werden.<br>
            <strong>C= L LOAD</strong> (C = bedeutet Commodore-Taste)<br>
            <strong>C= S SAVE</strong><br>
            <strong>C= D Directory anzeigen</strong><br>
            <strong>C= C Commando an Disk</strong> oder (wenn nur RETURN) Fehlerkanal lesen
        </p>

        <p>Bei LOAD und SAVE hat man die Wahl zwischen (schwarzweißem) Gräfikbild, Farbbild, Zeichensatz und Sprite. LOAD und SAVE beziehen sich immer auf den aktuellen (= sichtbaren) Bildschirmspeicher (beziehungsweise Sprite). Bei SAVE Zeichensatz muß dieser in den ersten sieben Zeilen des sichtbaren Bildschirmes stehen. Bei LOAD Sprite sollte man wirklich nur ein Sprite und nichts längeres laden, sonst gibt’s einen netten Absturz. Es können auch Diashow-Bilder und Files anderer Grafikprogramme gelesen werden.<br>
            <strong>C= P Print</strong> — Ausdrucken
        </p>

        <p>Die Druckerroutine HI-PRINT wird bei Bedarf in Overlaytechnik nachgeladen, nach Beendigung des Druckvorganges wird wieder HI-EXE geladen.</p>

        <p>Die vorliegende Druckerroutine bietet folgende Möglichkeiten:</p>

        <ol>
            <li>Ausdruck eines Bildes, groß oder klein.</li>
            <li>Zwei Bilder nahtlos nebeneinander, was natürlich nur in klein geht.</li>
        </ol>


        <h2>Superhardcopy</h2>

        <p>Vor und nach dem Ausdruck werden keine zusätzlichen Zeilenvorschübe ausgegeben, aufeinanderfolgende Ausdrucke hängen somit nahtlos aneinander (Bild 1). So läßt sich zum Beispiel mit sechs Bildern eine Superhardcopy mit 640 x 600 Punkten erstellen (Bild 2), lädt man zwischendurch weitere Bilder von Diskette nach, kann man meterlange Bilder ausdrucken.</p>

        <figure>
            <img src="61-1.png" alt="">
            <figcaption>Bild 1. In dieser Hardcopy wurden zwei Bilder untereinander ausgedruckt. Dies geschieht nahtlos. Es können zwei Bilder nebeneinader und unbegrenzt viele untereinander gesetzt werden. Siehe dazu auch Bild 2.</figcaption>
        </figure>

        <p>Leider ist Drucker nicht gleich Drucker! Die vorliegende Druckerroutine (Listing 1) läßt sich nur für Epson-Drucker und kompatible mit Interface verwenden. Deshalb möchte ich im folgenden Kapitel Hinweise zur Erstellung einer Druckerroutine für andere Konfigurationen geben.</p>

        <p>Die Speicherbelegung von HI-EDDI<br>
            Die Speicherbelegung von HI-EDDI sieht folgendermaßen aus:</p>

        <table>
            <tbody>
                <tr>
                    <td>$57-$60 und $F9-$FE:</td>
                    <td>Temporäre Speicherzellen</td>
                </tr>
                <tr>
                    <td>$2C0-$2FE:</td>
                    <td>Residenter Datenbereich (Sprite-Inhalt)</td>
                </tr>
                <tr>
                    <td>$340-$3FE:</td>
                    <td>Temporärer Datenbereich (Kreuz-, großes und kleines Rahmen-Sprite</td>
                </tr>
                <tr>
                    <td>$801-$CFF:</td>
                    <td>Basic-Speicher</td>
                </tr>
                <tr>
                    <td>$D00-$1F4C:</td>
                    <td>Maschinenprogramm</td>
                </tr>
                <tr>
                    <td>$1F80-$1FFF:</td>
                    <td>Residenter Datenbereich (Betriebszustände etc.)</td>
                </tr>
                <tr>
                    <td>$2000, $4000, $6000 etc.:</td>
                    <td>Grafikspeicher</td>
                </tr>
            </tbody>
        </table>

        <p>Die Druckerroutine wird in denselben Bereich wie HI-EXE geladen, also ab $D00, nach Beendigung des Druckvorganges wird wieder HI-EXE geladen (Listing 1 und 2).</p>

        <p>Die vorliegende Druckerroutine enthält auch ein Software-Interface, das den User-Port zur Centronics-Schnittstelle umfunktioniert. Dazu muß ein Kabel mit folgender Pinbelegung verwendet werden:</p>

        <table>
            <tbody>
                <tr>
                    <td colspan="2"><b>Pin am User-Port</b></td>
                    <td colspan="2"><b>Pin am Centronics-Stecker</b></td>
                </tr>
                <tr>
                    <td>M</td>
                    <td>(PA2)</td>
                    <td>1</td>
                    <td>(Strobe)</td>
                </tr>
                <tr>
                    <td>C</td>
                    <td>(PBO)</td>
                    <td>2</td>
                    <td>(DATA 1)</td>
                </tr>
                <tr>
                    <td>D</td>
                    <td>(PB1)</td>
                    <td>3</td>
                    <td>(DATA 2)</td>
                </tr>
                <tr>
                    <td>E</td>
                    <td>(PB2)</td>
                    <td>4</td>
                    <td>(DATA 3)</td>
                </tr>
                <tr>
                    <td>F</td>
                    <td>(PB3)</td>
                    <td>5</td>
                    <td>(DATA 4)</td>
                </tr>
                <tr>
                    <td>H</td>
                    <td>(PB4)</td>
                    <td>6</td>
                    <td>(DATA 5)</td>
                </tr>
                <tr>
                    <td>J</td>
                    <td>(PB5)</td>
                    <td>7</td>
                    <td>(DATA 6)</td>
                </tr>
                <tr>
                    <td>K</td>
                    <td>(PB6)</td>
                    <td>8</td>
                    <td>(DATA 7)</td>
                </tr>
                <tr>
                    <td>L</td>
                    <td>(PB7)</td>
                    <td>9</td>
                    <td>(DATA 8)</td>
                </tr>
                <tr>
                    <td>B</td>
                    <td>(FLAG2)</td>
                    <td>10 oder 11</td>
                    <td>(ACKNLG oder BUSY)</td>
                </tr>
                <tr>
                    <td>A</td>
                    <td>(GND)</td>
                    <td>16</td>
                    <td><br></td>
                </tr>
            </tbody>
        </table>

        <p>Will man eine Routine für andere Drucker schreiben, so darf diese den gesamten Speicherbereich von $D00 bis $1F7F belegen, lediglich die residenten Speicherbereiche und der Basic-Speicher sind tabu. Die Information darüber, wo welcher Bildschirm im Speicher liegt, steht in den 7 Bytes von $1F96 bis $1F9C: In $1F96 steht die Nummer des Bildes, das ab $2000 in Speicher liegt (das ist das sichtbare Bild!), in Zelle $1F97 steht die Nummer des Bildes ab $4 000 und so weiter. Beispiel: Soll Bild Nummer 2 ausgedruckt werden, so sucht man in der Tabelle nach der 2. Steht sie zum Beispiel in Zelle $1F9A, so liegt Bild 2 im Bereich ab $A000 (unter dem Basic-ROM). Im Farb-Betrieb steht in Zelle $1F97 eine 0, weil im Bereich $4 000 bis $6 000 dann die Farbinformationen für die sechs Bilder liegen und dieser Bereich für Grafikbilder somit gesperrt sein muß.</p>

        <figure>
            <img src="61-2.png" alt="">
            <figcaption>Bild 2. Dieser verkleinerte Schaltplan wurde aus insgesamt sechs verschiedenen Bildern zusammengesetzt. Je zwei nebeneinander und drei untereinander. Auch ein reverser Ausdruck ist mit einem Tastendruck möglich. Die Symbole aus dem Construction-Set können einzeln in jedes beliebige Bild hineinkopiert werden.</figcaption>
        </figure>

        <p>Für den nicht Maschinenspracheerfahrenen Leser sind dies sicherlich alles spanische Dörfer, aber vielleicht sind einige »Maschinen-Profis« so nett und schicken Lösungen für andere Drucker ein.</p>

        <h2>HI-EDDI als Menüprogramm</h2>

        <p>Wem die Eingabe der Befehle über die Tastatur nicht gefällt, der kann HI-EDDI zu einem Menüprogramm nach dem Vorbild des Koala Painter umfunktionieren, bei dem die Befehle über eine bunte, illustrierte Menütafel eingegeben werden. Ehrlich gesagt: Ich finde die Eingabe über Menütafel alles andere als benutzerfreundlich: Menü holen, Cursor auf das gewünschte Feld bugsieren und dann Knopf drücken ist eine wesentlich umständlichere Prozedur als ein einfacher Tastendruck. Dafür macht das Entwerfen und Realisieren einer Menütafel so viel Spaß, daß ich mich entschlossen habe, diese Möglichkeit vorzusehen.</p>

        <p>Doch zunächst zurück zu dem Bytewert, der bei Programmstart auf die Frage »Betriebsart« eingegeben werden muß. Er setzt sich wie folgt zusammen:</p>

        <table>
            <tbody>
                <tr>
                    <td>Bit 7:</td>
                    <td>= 0 :</td>
                    <td>Schwarzweiß-Betrieb</td>
                </tr>
                <tr>
                    <td><br></td>
                    <td>= 1 :</td>
                    <td>Farb-Betrieb</td>
                </tr>
                <tr>
                    <td>Bit 6:</td>
                    <td>= 0 :</td>
                    <td>nur Tastatureingabe</td>
                </tr>
                <tr>
                    <td><br></td>
                    <td>= 1 :</td>
                    <td>Menü-Eingabe</td>
                </tr>
                <tr>
                    <td>Bit 5-1:</td>
                    <td></td>
                    <td>keine Funktion</td>
                </tr>
                <tr>
                    <td>Bit 0:</td>
                    <td>= 0 :</td>
                    <td>Beim Start werden alle Bildschirmspeicher gelöscht</td>
                </tr>
                <tr>
                    <td><br></td>
                    <td>= 1 :</td>
                    <td>Es wird nichts gelöscht, im Speicher befindliche Bilder bleiben erhalten</td>
                </tr>
            </tbody>
        </table>

        <p>Für Farbe und Menü zum Beispiel muß 192 eingegeben werden. Ich finde die Menü-Eingabe nur in Farbe sinnvoll, ein Schwarzweiß-Menü sieht recht langweilig aus. Ist das Bit 6 gesetzt, also die Menü-Betriebsart angewählt, so muß sich auf der Diskette unter dem Namen »MENUE« die Menütafel befinden, die beim Start automatisch nachgeladen wird. Das Erstellen einer solchen Menütafel soll nun erklärt werden:</p>

        <p>Die Menütafel wird in 20 x 12, also insgesamt 240 Felder von je 16 x 16 Punkten eingeteilt. 20 x 16 = 320, die Breite des Bildschirms, aber 12 x 16 = 192 gibt nicht ganz die Höhe des Bildschirmes: Die letzte Zeile (acht Punkte) bleibt, wie bei Walk, frei. In dieser Zeile werden die Steuerbytes untergebracht, für jedes der 240 Felder 2 Bytes. Wird im Menü-Modus der Cursor auf eines der Felder gefahren und der Feuerknopf gedrückt, dann holt sich HI-EDDI aus der letzten Zeile die diesem Feld zugeordneten Steuerbytes und entnimmt aus ihnen, welcher Befehl ausgeführt werden soll. Die Zuordnung von Feldern zu Steuerbytes geht zeilenweise, der Reihe nach: Die ersten beiden Steuerbytes (Adresse $3E00 und $3E01, wenn die Menütafel angewählt ist) gehören zum ersten Feld links oben, die nächsten beiden Bytes zu dem daneben und so weiter. Die Steuerbytes zum letzten Feld haben die Adressen $3FDE und $3FDF, das liegt bereits im unsichtbaren Teil des Bildschirmspeichers. Die nicht gerade ansehnlichen Steuerbytes im sichtbaren Teil können durch gleiche Farben für Vorder- und Hintergrund versteckt werden.</p>

        <p>Somit ist klar, wie man vorgehen muß: Zunächst ist ein Menü-Bild zu zeichnen, bei dessen Einteilung nur die 20 x 12-Feld-Rasterung zu berücksichtigen ist. Wie man die Befehle anordnet, wieviele Fehler man für einen Befehl zusammenhängt und welche Befehle man überhaupt ins Menü aufnimmt, bleibtjedem selbst überlassen. Denn keineswegs alle Befehle sind »menüfähig«: Die Korrekturtaste (Pfeil nach rechts) wirkt nur bis zum letzten Bildschirmwechsel zurück. Da jedoch das Anwählen der Menütafel ein Bildschirmwechsel ist, verliert die Korrekturtaste dabei ihre Wirkung. Dasselbe gilt für die Pfeil-nach-oben-Taste: Die Anwahl der Menütafel gilt als Moduswechsel! Aus demselben Grund muß beim MOVEn über zwei Seiten die Seitennummer über die Tastatur eingegeben werden, da bei einem Moduswechsel die Markierung eines Quellbereiches gelöscht wird.</p>

        <p>Aus dem Textmodus kommt man nicht direkt ins Menü (SPACE wird als zu druckendes Zeichen interpretiert). Es muß daher zuerst ein anderer Modus über die Tastatur angewählt werden (zum Beispiel CTRL D für Draw), bevor das Menü wieder zugänglich ist.</p>

        <p>Dafür bietet die Menütafel auch einige Vorteile: Die Farbenwahl erfolgt nicht mehr durch umständliches Fortschalten, sondern durch Direktanwahl der Farben. Und die Befehle U, 0, X, die normalerweise zwei Eingaben erfordern, werden jetzt mit einer Eingabe »erschlagen«.</p>

        <p>Hat man nun ein Menübild gemalt (und abgespeichert!), so folgt der zweite Teil, das Erstellen der Steuerbytes, am besten in Form eines DATA-Laders (siehe Listing 4). Von den zwei Steuerbytes pro Feld enthält das zweite den Tastaturcode des jeweiligen Befehls. Die Tastaturcodes sind im 64’er, Ausgabe 5/84, Seite 105 zusammengestellt, sie lassen sich auch mit dem folgenden »Programm« ermitteln:<br>
            10 PRINT PEEK(203):GOTO10</p>

        <p>Beim ersten Steuerbyte muß man zwischen verschiedenen Befehlskategorien unterscheiden:</p>

        <ol>
            <li>»Normale« Befehle: Bit 0 : SHIFT-Bit, muß gesetzt sein, wenn für den entsprechenden Befehl die SHIFTTaste gedrückt werden muß. Bit 1 : C=-Bit, muß bei gedrückter Commodore-Taste gesetzt sein. Die Bits 2 bis 7 müssen 0 sein. Beispiel: Sprite-Editor einschalten ergibt die Bytes 1 (SHIFT, im Menü-Betrieb dient Space zur Anwahl der Menütafel, der Sprite-Editor ist nur mehr über SHIFT-Space erreichbar) und 60 (Tastaturcode Space).</li>
            <li>Befehle U, 0, X: Tastaturcode der entsprechenden Nummerntaste. Beispiel: X 5 ergibt die Steuerbytes 16 (Tastaturcode »5« und 23 (Tastaturcode »X«),</li>
            <li>Farbbefehle: Bit 0: SHIFT-Bit. Bits 2 bis 5: Nummer der Farbe, wie im Commodore-Handbuch angegeben. Die Bits 1 und 6 müssen 0 sein, das Bit 7 ist 1. Beispiel: Total Foreground, Blau ergibt: 128 (Bit 7) + 4 x 6 (blau) + 1 (SHIFT) = 153 und 21 (»F«),</li>
            <li>»Leerer« Befehl ohne Verlassen der Menütafel (zum Beispiel für Überschrift): 1. Byte = 64, 2. Byte = 0</li>
            <li>»Leerer« Befehl mit Verlassen des Menüs: 1. Byte = 0, 2. Byte = 64.</li>
        </ol>


        <p>Die 5 Bytes im Anschluß an die 480 Steuerbytes müssen die Kennung »CBM80« enthalten. Das ist eigentlich die ROM-Kennung, ich habe sie hier als Menütafel-Kennung mißbraucht, um versehentliche Menü-Zugriffe auf ein normales Bild zu vermeiden. Vorsicht: Fehler in den Steuerbytes können zum Programmabsturz führen!</p>

        <p>Nun braucht man nur noch Menübild und Steuerbytes zu verknubbeln: Dazu HI-EDDI laden, Starten (Betriebsart 128), Menübild laden und Programm mit STOP/RESTORE unterbrechen. Steuerbyte-DATA-Lader laden und starten. Der Lader muß, wie im Beispiel (Listing 4) zu sehen,mit den Befehlen POKE56, 32:CLR beginnen, um das im Speicher befindliche Menübild zu schützen! Dann HI-EDDI laden, starten (Betriebsart 129, damit die jetzt bereits fertige Menütafel im Speicher nicht gelöscht wird) und die nun sichtbare Menütafel unter dem Namen »MENUE« speichern.</p>

        <p>Wie wird der »Menü-HI-EDDI« nun bedient? Beim Start muß auf die Frage Betriebsart 192 (oder 193) eingegeben werden. Auf der Menütafel fährt man den Cursor auf den gewünschten Befehl und drückt den Feuerknopf. Daraufhin wird das Menü verlassen, auf den aktuellen Bildschirm zurückgeschaltet (im Einschaltzustand ist dasjetzt 2, da in Speicher 1 die Menütafel steckt) und der Befehl ausgeführt. Das Menü wird durch Drücken der Space-Taste auf den Bildschirm geholt. Die Tastatureingabe bleibt neben dem Menü voll erhalten. Wie schon erwähnt, belegt das Menü den Speicher 1. Dieser Speicher kann natürlich auch direkt angewählt werden, allerdings befindet man sich dann nicht im Menü-Modus, sondern die Menütafel wird wie ein ganz normales Bild behandelt!</p>

        <p>Zum Abschluß noch ein Tip: HI-EDDI läßt sich mit STOP/RE-STORE unterbrechen (nicht während einer Befehlsausführung!), ein Warmstart ist mit GOTO150 möglich, ein Kaltstart ohne Nachladen von HI-EXE, aber mit Betriebsart-Eingabe durch RUN100.</p>

        <address class="author">(Hans Haberl/gk)</address>

        <figure>
            <pre data-filename="hi-print.bas" data-name="HI-PRINT Basic Lader"></pre>
            <figcaption>Listing 1. HI-PRINT ist die ausgezeichnete Drucker-Routine des HI-EDDI. Alle Hardcopies auf diesen Seiten wurden mit HI-PRINT erstellt. Auch dieses Unterprogramm speichert sich nach dem Starten als Maschinenprogramm auf Diskette. Beachten Sie den Beitrag »Checksummer« in dieser Ausgabe. Er gibt Ihnen wichtige Hinweise zum Abtippen.</figcaption>
        </figure>

        <div class="binary_download" data-filename="hi-print" data-name="HI-PRINT"></div>

        <figure>
            <!-- TODO <pre data-filename="hi-exe.bas" data-name="HI-EXE Basic Lader"></pre> -->
            <figcaption>Listing 2. HI-EXE ist das umfangreichste Unterprogramm im HI-EDDI-System. Nach dem Starten speichert es sich selbst als Maschinenprogramm auf Diskette. Lesen Sie vor dem Abtippen den Beitrag »Checksummer« in dieser Ausgabe.</figcaption>
        </figure>

        <div class="binary_download" data-filename="hi-exe" data-name="HI-EXE"></div>

        <figure>
            <pre data-filename="hi-eddi" data-name="HI-EDDI"></pre>
            <figcaption>Listing 3. HI-EDDI ist sozusagen das Steuerprogramm.  ruft die anderen benötigten Programme auf. Tippen Sie die REM-Zeilen nicht mit ab.</figcaption>
        </figure>

        <figure>
            <pre data-filename="steuertafel" data-name="Beispiel Steuertafel"></pre>
            <figcaption>Listing 4. Ein Beispiel für den Aufbau einer Steuertafel für ein selbsterstelltes Menü. Einzelheiten finden Sie in der Beschreibung.</figcaption>
        </figure>

        <div class="binary_download" data-filename="hi-exe" data-name="HI-EXE"></div>

        <div class="binary_download" data-filename="menue" data-name="Bild: Menü"></div>
        <div class="binary_download" data-filename="logic cs" data-name="Bild: Logic"></div>
        <div class="binary_download" data-filename="alu1.pic" data-name="Bild: Alu1"></div>
        <div class="binary_download" data-filename="alu2.pic" data-name="Bild: Alu2"></div>
        <div class="binary_download" data-filename="alu3.pic" data-name="Bild: Alu3"></div>
        <div class="binary_download" data-filename="alu4.pic" data-name="Bild: Alu4"></div>
        <div class="binary_download" data-filename="alu5.pic" data-name="Bild: Alu5"></div>
        <div class="binary_download" data-filename="alu6.pic" data-name="Bild: Alu6"></div>
        <div class="binary_download" data-filename="demo2.pic" data-name="Bild: Demo2"></div>
        <div class="binary_download" data-filename="art.pic" data-name="Bild: Art"></div>
        <div class="binary_download" data-filename="baby.pic" data-name="Bild: Baby"></div>

    </article>

</body>

</html>