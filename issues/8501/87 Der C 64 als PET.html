<!DOCTYPE html>
<html lang="de">

<head>
    <title>Der C 64 als PET</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="Wolfgang Hopf, rg">
    <meta name="64er.issue" content="1/85">
    <meta name="64er.pages" content="87">
    <meta name="64er.head1" content="Tips & Tricks">
    <meta name="64er.head2" content="C 64">
    <meta name="64er.toc_category" content="Programme zum Abtippen|Tips & Tricks">
    <meta name="64er.index_title" content="Der C64 als PET">
    <meta name="64er.index_category" content="Listings zum Abtippen|Tips & Tricks|Transfer">
    <meta name="64er.id" content="pet">
</head>

<body>
    <article>

        <h1>Der C 64 als PET</h1>

        <p class="intro">Wenn Sie CBM 2000, 3000 oder 4000 geschriebene Programme auf Ihrem C 64 laufen lassen wollen, müssen Sie umständlich PEEKs und POKEs ändern. Der »Pet-Simulator« nimmt Ihnen diese Arbeit ab.</p>

        <p>Ist das Programm eingegeben und gestartet, werden als erstes die DATAs für das Maschinenprogramm in den Bereich ab Adresse 49152 gePOKEt (SU = Prüfsumme für die Daten). Danach fragt das Programm nach der Zeichenfarbe. Sie wer-^ den aufgefordert, eine Zahl zwischen 0 und 15 einzugeben. (0 = schwarz, 1 = weiß, &hellip;, 15 = grau 3).</p>

        <p>Bei anschließendem Starten des Maschinenprogrammes wird das Basic-ROM in das darunterliegende RAM gePOKEt (Basic-Interpreter kopieren). Anschließend wird das Bildschirm-RAM von Adresse 1024 nach Adresse 32768 verlegt. Basic-Speicheranfang und -ende, werden dem des PET angepaßt. Weiterhin wird in der POKE-Routine des Basic-Interpreters ein Eingriff vorgenommen, nach der der Computer aus dem Interpreter in eine Routine des Maschinenprogramms springt. Hier wird überprüft, ob das Bildschirm-RAM angesprochen wurde. Trifft dies zu, wird die dazugehörige Farb-RAM-Adresse berechnet und der vorher festgelegte Farbwert (Zeichenfarbe) hineingePOKEt. Um das Zurücksetzen des Bildschirmes auf das C 64-Format zu vermeiden (durch Drücken der RUN/STOP- und RESTORE-Tasten) wird die RESTORE-Taste durch Verändern des NMI-Vektors ausgeschaltet. Programme können aber noch mit der RUN/STOP-Taste unterbrochen werden.</p>

        <p>Nach Ablauf des Maschinenprogrammes meldet sich der Computer mit »PET-SIMULATOR AKTIV«. Sie können jetzt immer noch die Zeichenfarbe mit POKE 49239, ZF (ZF = Zeichenfarbe — siehe oben) ändern. Wenn Sie jetzt zum Beispiel POKE 32768,1 eingeben, erscheint ein »A« am linken oberen Bildschirmrand in der gewählten Zeichenfarbe. Schlußbemerkung: Bevor Sie das Programm starten, empfiehlt es sich, es vorher abzuspeichern, da sich das Programm selbständig löscht.</p>

        <address class="author">(Wolfgang Hopf/rg)</address>

    </article>

        <figure>
            <pre data-filename="pet-simulator" data-name="Listing »Pet-Simulator«"></pre>
            <figcaption>Pet-Simulator</figcaption>
        </figure>

</body>

</html>