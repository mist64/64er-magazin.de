# Das Beste vom Besten

Die besten Programme aus der 64’er: Ein Leckerbissen sondergleichen!

Im April 1984 wurde das erste Heft der 64’er, dem Magazin für Computerfans, geboren. Und schon seit dieser Ausgabe konnten wir Sie mit hervorragenden Programmen überraschen. Bereits im 64’er, Ausgabe 5/84 gab es das erste Listing des Monats, ein Zeichen für ein hervorragendes Programm, eine ausgefallene Idee, eben ein Spitzenprodukt. Es gab jedoch noch eine ganze Reihe von Listings, die dieses Prädikat auch verdient haben. Die besten von ihnen, darunter zwei Programme aus unserer Schwesterzeitschrift Happy-Computer, und eine Auswahl aller Listings des Monats haben wirfür Sie in diesem Sonderheft zusammengestellt. Wahrlich ein Menü, das es in dieser Brisanz bisher nicht gegeben hat. Es gibt Programme zu den Themen

- Anwendung,
- Grafik,
- Hilfsprogramme (Utilities) und
- Spiele.

Alle Programme sind noch einmal überarbeitet worden. Wenn es Fehler gegeben hat, wurden sie verbessert. Auch Erweiterungen zu einigen Programmen, zum Beispiel zu Hl-EDDI, haben wir nicht vergessen. Durch die beiden Eintipphilfen Checksummer (Seite 16) und MSE (Seite 18) werden Sie die Listings fehlerfrei eintippen können.

### Anwendungen

Der C 64 ist bekannterweise nicht nur ein Computer zum Spielen, Programmieren und Experimentieren. Viele Leserver-wenden ihn als Hilfsmittel, um bestimmte Aufgaben leichter und schneller lösen zu können, zum Beispiel zur statistischen Auswertung beim Kegelclub (Alle Neune..., Seite 31) oder zum Protokollieren und Nachspielen von Schachpartien (Schachmeister, Seite 28). Sie können Ihre Freunde und Bekannten mit persönlichen und speziellen Kreuzworträtseln überraschen (Seite 40). Aber auch Musiker (Synthesizer, Seite 48) und Astronauten (Sternenhimmel, Seite 34) kommen auf Ihre Kosten, und angehende Millionäre sind mit der Finanzmathematik (Seite 20) auf dem besten Weg dorthin.

### Grafik

Dem C 64 Grafik zu entlocken, ist eine anstrengende, aber auch ungeheuer interessante Aufgabe. Was auf diesem Gebiet von unseren Lesern gezaubert wurde, ist fast nicht zu glauben. HI-EDDI (Seite 58) schlägt wohl nicht nur alle Rekorde, sondern stellt auch die meisten vergleichbaren professionellen Mal- und Zeichenprogramme in den Schatten. Wenn Sie mehr ein Anhänger bewegter Grafik sind, sollten Sie sich Trickfilm (Seite 85) unbedingt anschauen. Natürlich fehlt auch nicht die Grafikenweiterung Turtle-Grafik (Seite 71).

### Hilfsprogramme

Ein Meilenstein wurde gesetzt mit Hypra-Load (Seite 94). Das Laden von Programmen von der Floppy wird mit diesem sensationellen Programm stark beschleunigt. Etwas später kam Hypra-Save (Seite 124) hinzu und machte nun auch das Speichern von Programmen schneller. Um Schnelligkeit geht’s auch beim Exsort (Seite 92), dem Sortierprogramm für alle Fälle, das mehr kann als nur einfach sortieren. Für Freunde von Sprachen gibt es gleich zwei Leckerbissen: Strubs (Seite 98), der Precompiler mit zusätzlichen Basic-Befehlen und ein Forth-Compiler (Seite 116).

### Spiele

Anhänger von Abenteuerspielen, den Adventures, werden mit dem Grab des Pharaos (Seite 126) und in der Burg des Grauens (Seite 135) knifflige Situationen meistern müssen. Abwechslung bringt dann aber mit Sicherheit Apocalypse now (Seite 140), und wer Wert auf Geschicklichkeit legt, kann sich mitSpringvogel vergnügen (Seite 148), ein Spiel, das nichtso schnell langweilig wird, weil Sie einfach eigene neue Bilder entwickeln können.

TODO ASIDE

### Listing-Service

Wer keine Zeit oder keine Lust hat, alle Programme selbst in mühevoller Kleinarbeit abzuschreiben, kann wieder auf den bewährten Leserservice zurückgreifen. Alle Programme befinden sich auf zwei Disketten mit der Bestellnummer L6 85 S6. Die Disketten sind nur zusammen erhältlich und kosten 34,90 Mark.

Bitte verwenden sie für Ihre Bestellung die beigefügte Postscheck-Zahlkarte zur Überweisung des Rechnungsbetrages. Sie erleichtern uns die Auftragsabwicklung und Sie sparen sich die 3 Mark Versandkosten.

Bestell-Nr.: L6 85 S6 / 34,90 Mark

# Schachmeister

> Darauf haben viele Schachspieler gewartet: Der C 64 nicht nur als Schachpartner, sondern auch als Protokollant eigener Schachpartien. Natürlich kann man sich auch große Meisterschaftspartien zu Gemüte führen. Besonders gut eignet sich der »Schachmeister« zum Einstudieren von Eröffnungen.

# Weißt Du wieviel Sternlein stehen...

> Mit diesem fantastischen Programm wird der C 64 zum Heim-Planetarium. Für jeden beliebigen Zeitpunkt und für jeden Ort der Erde kann in Sekundenschnelle eine naturgetreue elektronische Sternkarte erstellt werden. Sie enthält die hellsten und bekanntesten Fixsterne beziehungsweise Sternbilder des nördlichen Sternenhimmels.

# Kreuzworträtsel selber machen

> Dieses Programm, einst aus einem Wettbewerb entstanden, ist genau das richtige für Rätselsüchtige, die auch mal den umgekehrten Weg gehen wollen: ein Kreuzworträtsel von seiner Entstehung an mitverfolgen zu können. Sämtliche Schwierigkeiten die dabei auftreten können, werden vom C 64 übernommen. Sie können sich ganze Bibliotheken von Fachbegriffen aufbauen, so daß nachher Kreuzworträtsel entstehen, die auf einen ganz bestimmten Leserkreis zugeschnitten sind. Eine tolle Anwendung in einer Schülerzeitung oder für ein persönliches Rätsel für Freunde und Bekannta Was ins Rätsel hineinkommt, ist ganz allein Ihre Sache.

# »Happysynth«, der Traum eines jeden Musikers

> Ein Supersynthesizer zum Abtippen. Die hervorragende Benutzerführung per »Pseudo-Maus« (siehe Fotos) und die ausgezeichnete grafische Darstellung der einzelnen Menüs heben den »Happysynth« von der breiten Masse der übrigen Programme ab.

# Vier Pseudo-VICs mit 32 Sprites

> Erweitern Sie Ihren Videochip. Nur duch Software lassen sich ungeahnte Bilder aus dem VIC zaubern. So sind 32 Sprites sowie HiRes-Grafik und Text gleichzeitig nur die leichtesten Übungen für Provic 64.

# HI-EDDI: ein fantastisches Zeichen- und Malprogramm

> »Ein professionelles Programm !« So urteilten unsere Leser nach der Veröffentlichung von HI-EDDI in der Ausgabe 1/85. Mit diesem Listing landeten wir einen echten Hammer! In diesem Sonderheft finden Sie nicht nur den normalen HI-EDDI, sondern auch Hardcopy-Routinen für alle gängigen Drucker sowie die komplette Anpassung für Datasetten-Besitzer gesammelt. Mit Hl-Eddi kann jeder professionelle Bilder und Grafiken entwickeln.

# Die schnelle Schildkröte — Turtle Grafik

> Eine Basie-Erweiterung, die Logo überflüssig macht, das ist die Turtle-Grafik. Mit einfachen Basic-Befehlen lassen sich sehr schnell wunderschöne Grafiken erstellen.

# Trickfilm mit dem C 64

> Die Fähigkeit, bewegte, dreidimensionale Grafiken zu erzeugen, war bisher nur speziellen Großcomputern vorbehalten. Mit unserem 3D-Movie-Maker wird auch Ihr Commodore 64 zum Trickfilmstudio.

# Hypra-Load und Hypra-Save

> Ist Ihnen die 1541 zu langsam? Wollen Sie nicht mehrere hundert Mark für ein Hardware-Beschleunigungssystem ausgeben? Dann sind Hypra-Load und Hypra^ave genau das richtige für Sie, denn diese Programme machen das Laufwerk bis zu fünfmal schneller. Für dieses Sonderheft wurde das beliebte Hypra-Load sogar völlig neu geschrieben und verbessert!

# Das Grab des Pharao

> Hier bieten wir ihnen ein deutschsprachiges Grafik-Adventure der Spitzenklasse, bei dem es um Pyramiden, Pharaonen und viele Gefahren geht.

# Castle of Doom — Burg des Grauens

> Nur mit Geduld und Fantasie wird es Ihnen gelingen sich die Lösung dieses Adventures zu erspielen. In der Burg des Grauens werden Sie sich die Zähne ausbeißen.

# Spring Vogel, spring

> Dieses Spiel der Sonderklasse ist nur mit so legendären Programmen wie »Manic Miner«, »Jumpman« oder »Mister Robot and his Factory« vergleichbar. Sechs verschiedene Bilder garantieren andauerenden Spielspaß. Und sollten Sie alle Bilder durchgespielt haben, beginnt ein neues Kapitel: Machen Sie Ihre eigenen Bilder! Mit dem eingebauten Spiele-Editor ist das gar kein Problem. So wird der Spielspaß nur durch Ihre Fantasie begrenzt. Ein wirkliches Top-Programm.


# Der Bitmap-Compander

> Mit diesem kurzen Programm können Grafikbildschirme, die auf Diskette abgespeichert werden, auf die Hälfte komprimiert werden.

Jeder, der schon einmal eine hochauflösende Grafik auf Diskette abgespeichert hat, weiß, daß sie 33 Blocks benötigt. Das entspricht den 8 KByte des hochauflösenden Grafikbildschirms. Es besteht aber die Möglichkeit, diese Grafikbildschirme je nach Inhalt auf 10 bis 20 Blocks zu komprimieren. Das Verfahren beruht darauf, häufig wiederkehrende Sequenzen durch kürzere zu ersetzen. Dazu kann man sich die Bitmap als eine lange Kette von Nullen und Einsen vorstellen. Diese Kette wird jetzt in 4-Bit-Blöcke aufgeteilt. Solche Blöcke bezeichnet man als Halb-Byte oder Nibbles. Es gibt 16 verschiedene solcher Nibbles, wovon einige häufiger und andere seltener vorkommen. Jedem Nibble wird nun ein neuer Code zugeordnet, wobei das häufigste Nibble »0000«, den kürzesten Code »0« bekommt. Alle anderen 15Codes müssen mit einer »1« beginnen. Einen Code »00« darf es nicht mehr geben, denn er könnte bei der Decodierung nicht mehrvon dem Code »0« unterschieden werden. Es läßt sich nicht umgehen, viele Codes länger als 4 Bit zu machen. Die komplette Code-Tabelle ist in Tabelle 1 zu sehen. Doch die langen Codes kommen viel seltener vor als die kurzen, so daß bei einem »normalen« Bild viele Bits gespart werden können. Theoretisch wäre es möglich, daß eine komprimierte Bitmap länger wird als das Original. Aber selbst die Fotos aus der »Diashow« lassen sich komprimieren. Sir Winston Churchill magert zum Beispiel auf 24 Blocks ab. Bilder, wie sie üblicherweise in Gafik-Adventures vorkommen, lassen sich meist auf unter 15 Blocks zusammendrücken.

Tippen Sie das Programm (Listing 1) mit dem MSE ab und speichern Sie es, damit esjederzeit mit LOAD ”BMC.EXE”,8,1 geladen werden kann (auf der Leserservice-Diskette unter "BIT-MAPCOMPANDER" gespeichert). DerAufruf des Companders funktioniert vom Basic aus mit einem SYS-Befehl. Die Parameter werden wie beim OPEN-Befehl angehängt.

Laden einer komprimierten Bitmap:
SYS 52798,Filenummer,Geräteadresse,Kanalnummer,”Name”

Speichern einer komprimierten Bitmap:
SYS 52736,Filenummer,Geräteadresse,Kanalnummer,”Name,P,W” Mit der Filenummer wird die Anfangsadresse der Bitmap ausgewählt.

TODO TABLE

Filenummer	Bitmap-Adresse
1	$2000 = 8192	(sichtbares Bild bei Hi-Eddi)
2	$4000 = 16384
3	$6000 = 24576
5	$A000 = 40960	(Bitmap bei Hires-3)
7	$E000 = 57344	(Bitmap bei Simons Basic)

Die Bitmaps 0, 4 und 6 sind theoretisch möglich, aber nicht sinnvoll, da der Videocontroller sie nicht adressieren kann. Die Gerätenummer ist 8 für das Floppy-Laufwerk und die Kanalnummer eine beliebige Zahl von 2 bis 14.

Beispiele für Aufrufe:

Speichern einer Simons Basic-Bitmap:
SYS 52736,7,8,2,”Name,P,W”

Laden dieser Bitmap in Hires-3:
SYS 52798,5,8,2,”Name”

Das Programm belegt den Bereich von $CE00 bis $CF19 (52736 bis 53017). Es belegt somit keinen Basic-Speicher-platz und verträgt sich auch mit Hires-3 und Simons Basic, solange der Befehl MEM nicht verwendet wird.

(Hans Haberl/ah)

# Checksummer 64 — Neu

> Der Checksummer 64 V3 überprüft jede Basic-Zeile direkt nach der Eingabe, erkennt Fehleingaben und auch Vertauschungen von Zahlen und Ziffern, und erspart deshalb eine aufwendige Fehlersuche.

Der Checksummer 64 V3 ist ein kleines Maschinenprogramm, das Sie sofort unterrichtet, ob Sie die jeweilige Programmzeile korrekt eingegeben haben.

So gehen Sie vor:

1.	Programm abtippen und speichern.
2.	Starten mit RUN
3.	Nach kurzer Zeit sehen Sie am Bildschirm:<br>CHECKSUMMER 64, CHECKSUMMER AKTIVIERT, AUSSCHALTEN MIT POKE 1,55, ANSCHALTEN MIT POKE 1,53, READY.
4.	Anschalten des Checksummer 64V3 mit POKE 1,53.
5.	Test: Geben Sie in einer freien Zeile ein: »1 REM« und drücken die RETURN-Taste. Am Bildschirm oben links sollten Sie die Prüfsumme <63> sehen.
6.	Geben Sie ein Listing aus unserem Heft ein. Nach jeder Zeile wird die Zahl, die im Listing in Klammern < > steht, in den Bildschirm eingeblendet. Stimmen die Zahlen nicht überein, so liegtvermutlich ein Eingabefehlervor. **Die Zahl in den Klammern, und auch die Klammern selbst, dürfen beim Abtippen nicht mit eingegeben werden!**
7.	Dieser neue Checksummer 64 V3 bemerkt, im Gegensatz zu den bisherigen, auch Vertauschungen von Zahlen und Buchstaben.
8.	Unsere Basic-Listings enthalten keine Steuerzeichen mehr. Diese werden ersetzt durch Klartext und stehen zwischen geschweiften Klammern. Deshalb sind weder die Klammern noch was dazwischen steht, abzutippen, sondern die in Tabelle 1 aufgeführten Tasten zu drücken. Auf Ihrem Bildschirm erhalten Sie dann wieder die entsprechenden Grafikzeichen (siehe Bild 1 und 2).
9.	Alle Grafikzeichen werden ebenfalls ersetzt durch unterstrichene oder überstrichene Großbuchstaben. **Unterstrichene Buchstaben bedeuten, daß Sie die SHIFFTaste und den angegebenen Buchstaben drücken müssen, überstrichene jedoch die Commodore-Taste mit dem Buchstaben.** Auch hier erhalten Sie am Bildschirm das entsprechende Grafikzeichen und nicht etwa das im Listing erkennbare Zeichen (siehe Bild 1 und 2).

## Checksummer VC 20 V3

Der Checksummer VC 20 V3 ist im Prinzip genauso aufgebaut wie der Checksummer 64. Da beim VC 20 jedoch nicht die Möglichkeit besteht, das ROM softwaremäßig zu modifizieren, mußte ein anderer Weg als beim Commodore 64 gewählt werden, um die Checksumme zu generieren.

In ihrer Funktionsweise unterscheiden sich der Checksummer VC 20 und der Checksummer 64 nicht. Es gelten folgende Sonderregelungen bei der Benutzung des Checksummer VC 20:


- Da der Basic-Bereich nicht belegt werden soll, ist das Programm im Kassettenpuffer abgelegt.
- Angeschaltet wird der Checksummer VC 20 mit »SYS 955«.
- Abschaltung des Checksummer VC 20 wird mit »SYS 58459« vollzogen.

Achtung: Nehmen Sie keine Kassetten-Operationen vor, wenn der Checksummer VC 20 eingeschaltet ist. Da das Betriebssystem den Kassettenpuffer mit Daten belegt, kann der Checksummer VC 20 überschrieben werden, was zur Folge hat, daß sich der Computer bei aktiviertem Checksummer VC 20 »aufhängt«. Wollen Sie deshalb ein Programm auf (von) Kassette abspeichern (laden), so müssen Sie erst den Checksummer VC 20 abschalten (SYS 58459).

Daraufhin kann der Kassettenpuffer mit Daten überschrieben werden, ohne daß der Computer »aussteigt«.

Als Sicherung wird bei der Initialisierung geprüft, ob das zuletzt angesprochene Peripherie-Gerät der Kassettenrecorder war. Ist das der Fall, so werden die Betriebssystemroutinen LOAD und SAVE für die Benutzung gesperrt. Der Rechner meldet bei Aufruf einer dieser beiden Routinen READY, ohne weitere Aktionen durchzuführen. Diese Sicherung kann man nach derTipparbeitaufheben, wenn man den Checksummer VC 20 mit SYS 58459 abschaltet. Dadurch wird der Kassettenpuffer für andere Daten freigemacht. Weiterhin wird dann durch gleichzeitiges Drücken der Tasten »Run-Stop & Restore« erreicht, daß die Betriebssystemroutinen LOAD und SAVE wieder eingerichtet werden.

- Bei Benutzung einer Diskettenstation brauchen Sie nicht darauf zu achten, daß bei LOAD beziehungsweise SAVE der Checksummer VC 20 überschrieben wird, da der Kassettenpuffer für die Diskettenstation normalerweise nicht genutzt wird. Deshalb können Sie die beiden Routinen weiterhin normal nutzen, sofern der Rechner bei der Initialisierung des Checksummer VC 20 feststellt, daß das zuletzt angesprochene Peripherie-Gerät nicht der Kassettenrecorder war.
- Bedingt durch den anderen Aufbau des Checksummer VC 20 wird anders als beim Checksummer 64 nach der LOAD-Routine keine Checksumme ausgegeben.
- Wird eine Zeile gelöscht, also eine Zahl zwischen 0 und 65999 eingegeben, und danach Return gedrückt, so wird eine Checksumme ausgegeben, die aber keine Bedeutung hat.

Sie können die Programme auch weiterhin ohne den Checksummer eintippen.

(F. Lonczewski/gk)

**Hinweis: {13 SPACE} bedeutet 13mal die Leertaste drücken**

TODO TABLE

# MSE-Abtippen sicher und leicht gemacht

> Ähnlich wie der »Checksummer« ist auch der MSE ein Hilfsmittel bei der Eingabe von Listings, diesmal jedoch bei reinen Maschinensprache-Programmen.

Im Gegensatz zum »Checksummer« aber ist die Eingabe nicht ohne den MSE möglich. Der MSE verringert die Tipparbeit um ein Drittel und schließt Fehleingaben vollkommen aus. Außerdem können Sie die Werte blind eingeben, ohne andauernd auf den Bildschirm schauen zu müssen. Dies wird durch akustische Meldungen realisiert.

MSE ist ein Maschinenspracheditor, mit dem ein Vertippen ausgeschlossen ist. Eine abgetippte Zeile wird nurangenom-men, wenn sie richtig ist. Eine Checksumme am Ende jeder Zeile prüft, ob die richtigen Werte in der richtigen Zeile an der richtigen Stelle stehen. Wenn nicht, ertönt ein Warnsignal, und man beseitigt den Fehler.

War die Zeile korrekt, erklingt ein Gong, und die nächste Zeilennummer wird ausgegeben. Damit ist also auch »blindes« Eintippen möglich; Sie können sich voll auf den Text konzentrieren.

## So arbeitet man mit MSE

Laden und starten Sie MSE. Zuerst wird der Programmname und die Start- und Endadresse erfragt. **Diese Angaben entnehmen Sie dem Kopf des jeweiligen abgedruckten Listings.** MSE meldet sich dann mit der Zeilennummer der ersten Zeile. Wenn Sie die Zeile richtig eingegeben haben, erscheint die nächste Zeilennummer und so weiter bis zum Ende. Zum Schluß wird das fertige Programm mit »CTRL-S« auf Diskette oder Kassette abgespeichert. Dazu sind keine weiteren Angaben mehr erforderlich. Das Programm kann dann ganz normal wieder geladen und gestartet werden. Wenn Sie nicht alles auf einmal tippen wollen, können Sie jederzeit unterbrechen und den eingetippten Teil mit »CTRL-S« abspeichern. Wollen Sie weiterarbeiten, laden und starten Sie MSE wieder.

Geben Sie auf die Frage nach der Startadresse aber jetzt »L« ein, um Ihr Teilprogramm zu laden. Jetzt können Sie mit »CTRL-N« die Adresse eingeben, an der Sie weitertippen müssen. Wenn Sie sich nicht gemerkt haben, wie weit Sie gekommen sind, geben Sie nach dem Laden »CTRL-M« ein.

Auf die Frage nach der Startadresse antworten Sie mit der Anfangsadresse, die links in der Kopfzeile auf dem Bildschirm steht. Nun wird Ihr Programm aufgelistet. Mit »SPACE« wird das Listen fortgesetzt, mit »STOP« abgebrochen. Das Ende Ihres Programmteils erkennen Sie sehr einfach daran, daß nur noch der Wert »AA« in der Zeile steht. Die Adresse dieser Zeile müssen Sie anschließend mit »CTRL-N« eingeben. Das Programm ist nur mit »STOP/RESTORE« zu verlassen. Speichern Sie aber vorher unbedingt immer Ihren Text ab.

### Hinweise zum Abtippen

Vor dem Abtippen oder späteren Wiederladen des MSE-**Laders** müssen Sie unbedingt folgende Zeile eingeben:
**POKE 43,1: POKE 44,32: POKE 8192,0: NEW**

Starten Sie das Programm mit RUN. Fehlerhafte Zeilen werden angezeigt und müssen korrigiert werden, bis der Lader zum »READY« durchläuft. Jetzt müssen Sie das fertige MSE-Programm abspeichern. Dazu brauchen Sie nur »RETURN« zu drücken, weil die erforderlichen Angaben schon auf dem Bildschirm stehen. (Kassettenbesitzer müssen in Zeile 343 die letzte Zahl in »1« abändern.) Ab jetzt können Sie »MSE V1.O« direkt, also ohne den DATA-Lader, benutzen. MSE V1.0 wird ganz normal mit »,8« geladen (keine POKEs notwendig).

(N. Mann / D. Weineck / gk)

TODO ASIDE

### MSE-Befehle:
DEL löscht die letzte Eingabe.
CTRL-S speichert das eingetippte Programm ab.
CTRL-L lädt ein Programm. Start- und Endadresse werden automatisch ermittelt.
CTRL-M listet den Speicherinhalt. Abbruch mit STOP-Taste, weiter mit Leertaste.
CTRL-N erlaubt die Eingabe einer neuen Adresse zum Weitertippen.
CTRL-P gibt ein MSE-Listing auf dem Drucker aus.

# Menügesteuerte Finanzmathematik

> Zwei herausragende Eigenschaften machen dieses Programm für alle C 64-Besitzer interessant: Die sehr gute Menütechnik und der modulare Bildschirmmaskenaufbau.

Das Programm (Listing 1) wird nach dem Abtippen und Speichern aller Teilprogramme mit dem Befehl: LOAD”Menü” ,8 geladen.
Wählen Sie nach dem Start mit den Funktionstasten F3 und F5 die Nummer des Programmes, mit welchem Sie als nächstes arbeiten wollen (Zinsrechnung=Listing 2; Zinseszins-rechnung=Listing 3; Diskontieren eines Kapitals=Listing 4; Erstellung einesTilgungsplans=Listing 5). Sie erkennen Ihre augenblickliche Position an der blinkenden Zahl. Nach beendeter Wahl drücken Sie »RETURN«. Dann wird das Programm geladen, dessen Zahl gerade blinkt und an der sich nach »RETURN« ein ^ (Pfeil links) befindet.
Bedienungsanleitung für das Programm: »Erstellen eines Tilgungsplanes.«
Nach erfolgter Auswahl im Hauptmenü wird das Programm automatisch gestartet. Durch entsprechende Informationen in der Fußzeile erklärt sich das Programm im wesentlichen selbst. Allerdings mußte manchmal wegen Platzmangel darauf verzichtet werden.
Grundsätzlich gilt:
—	Bis auf die Funktionstasten erfolgt bei jeder Eingabe und Auswahl ein Abschluß mit »RETURN«.
—	Bei der Auswahl im Programm, wird immer mit den Tasten F3 und F5 gewählt, nach Drücken von »RETURN« wird immer das als nächstes ausgeführt, was zuletzt geblinkt hat.
—	Zum Abschluß der Dateneingabe gilt für die Abfrage, ob die Eingabe korrekt ist, folgendes:
a	) Zugelassen sind die Buchstaben j (ja) und n (nein).
b	) Die Antwort kann bis zum Abschluß mit »RETURN« durch die Taste »DEL« korrigiert werden.
—	Während der Dateneingabe kann man durch Drücken der Taste F1 zum ersten Auswahlmenü zurückkehren.
—	Wird die Tabelle auf dem Bildschirm ausgedruckt, kann man den Bildschirmausschnitt innerhalb der festgesetzten Grenzen verändern.
Mit F1 kehrt man zur alten Bildschirmmaske zurück.
Das Ausgabefeld »Resultat« enthält folgende Informationen: — Zinsaufwand (gesamt): Dieser Summe entsprechen sämtliche in den einzelnen Jahren zu zahlende Zinsen.
—	Annuität (gesamt): Dies ist die Summe, die man insgesamt zurückzahlen muß (Zins- und Tilgungsanteil zusammen),
lm linken unteren Feld wird noch einmal angegeben, wie hoch der Zinsanteil von der Annuität in Prozent ist. Dieses Programm stellt Tilgungspläne bis zu einer Laufzeit von 50 Jahren auf. Falls dies nicht ausreicht, braucht in Zeile neun nur die Dimensionierung der Variablen e und e$ erhöht werden.
(Klaus Klöker/og)
	Programmdokumentation: Menü
200 — 260:	Aufbau der Bildschirmmaske
300 — 390:	Auswahlroutine durch Betätigen der Funktionstasten
400 — 410:	Sprung in die Zeile, in der das entsprechende Programm geladen, oder in der das Programm beendet wird
900 — 960:	Festlegung der Variablen
	Variablenliste: Menü
na$ (...) =	Nummern der Programme
nb$ (...) =	Namen der Programme
Z =	Zeile
s =	Spalte
Y =	Index der indizierten Variablen
9$ “	Eingabevariable der get-Anweisung
	Programmdokumentation: Zinsrechnung
10—	30	Unterprogramm zum Löschen des rechten oberen und linken unteren Bildschirmfensters
70—	75	Unterprogramm zur Rundung der Ergebnisse und zur Umwandlung in einen String
80	Unterprogramm zum Laden des Menüs
90	Unterprogramm zum Setzen des Cursors, an die Stelle, welche mit Z = Zeile und S = Spalte vor dem Sprungbefehl festgelegt wurde
95	Unterprogramm zum Zeichnen einer Linie
100- 195	Auswahlroutine mit den Funktionstasten der entsprechenden reversen Felder oben links und unten links.
200- 290	Auswahlroutine mit den Funktionstasten der Fußzeile.
300— 480	Eingaberoutine
1000-1180	Beginn des Hauptprogramms: — Aufbau der Bildschirmmaske — Sprung in die Auswahlroutine, um festzulegen, was berechnet werden soll.
2000-2140	Aufbau der Eingabemaske und Eingabe der Daten mittels der Eingaberoutine. Anschließend erfolgt Abfrage, ob die Eingabe korrekt ist.
3000 — 3040	Berechnung des vorher ausgewählten Ergebnisses
3500 — 3610	Ausdruck des Ergebnisses. Es werden ausgedruckt: —	die am Anfang festgelegten Kriterien —	die eingegebenen Daten —	das Endergebnis Es folgt: Aufbau der Fußzeile mit der Möglichkeit durch Wahl mit den Funktionstasten entsprechend zu verzweigen.
	Variablenliste: Zinsrechnung
ma$:	Kopfzeile
mb$, mc$, md$:	Fußzeilen
a$ (...):	Eingabekriterien
ka$; p$; zi$ ja$; mo$; ta$	Ein- und Ausgabekriterien
pm$; pu$:	Punkte in der Eingabemaske
Z:	Zeile der Cursorposition
S:	Spalte der Cursorposition
Z1:	niedrigste Zeile, die gelöscht werden soll
Z2:	höchste Zeile, die gelöscht werden soll
Y:	Variablenindex
Y1:	kleinster Index
Y2:	größter Index
SW:	Schrittweite
k; c: f:	Konstanten, die, je nach ihrer Wertigkeit, bestimmte Vorgaben ausführen. gibt an, welche Berechnung erfolgen soll
e:	gibt an, die Art der Laufzeit
h:	legt die Art der Laufzeit in der Berechnung fest
in$:	Variable in der Eingaberoutine
ab$:	Endergebnis
20

C 64
Anwendung
	Programmdokumentation:
10-	20	Tilgungsrechnung Unterroutine zum Löschen der rechten
30—	55	Bildschirmhälfte Unterroutine zum Runden des Ergebnisses
70 80 90 95 100— 195	und zum Umwandeln in einen String Unterroutine zum Laden des Menüs Unterroutine zum-Zeichen einer Linie Unterroutine zur Festlegung der Cursorposition Unterroutine zum Löschen der Fußzeile Unterroutine zur Auswahl der vorgegebenen
200- 290	Möglichkeiten mit den Tasten F3 und F5, der Abschluß erfolgt mit »RETURN«. Unterroutine zur Auswahl bei der Fußzeile mit
300— 480	den Tasten F3 und F5, der Abschluß erfolgt mit »RETURN«. Eingaberoutine. Durch Drücken der Taste F1
900— 960	kann man von vorne beginnen Aufbau der Bildschirmmaske
1010—1080	Ausdruck der Kopfzeile und Bildschirmmas-
2000 — 2140	ke, Sprung in die Auswahlroutine (100-195) Aufbau der Eingabemaske und Sprung in die
3000 — 37 20	Eingaberoutine. Zum Schluß wird abgefragt, ob die Eingabe korrekt ist. Die Antwort wird mit »RETURN« eingegeben und kann vorher mit »DEL« korrigiert werden. Ausführung der Rechnung mitSprung in die
3800 - 3900	Rundungs- und Stringumwandlungsroutine Ausdruck des Resultates auf dem Bildschirm
3910-3950	Aufbau der Wahlfußzeile und Sprung in die
4000 — 4590	Auswahlroutine (200-290). Ausdruck der Tabelle undVerändern des
5000 - 5090	Bildschirmausdrucks mit den Cursortasten: Mit F1 erfolgt ein Rücksprung Änderung der eingegebenen Daten
5500 - 5660	Papierausdruck der eingegebenen Daten und
6000 — 6500	der Tabelle Festlegung der Variablen
ma$ mb$ mc$ me$ mf$ mh$ md$ Z: S: Y: Y1: Y2: Sw: g$: g: ij: c: f: h: in$: pns: is: tb$: ta$: X1: X2:	Variablenliste: Tilgungsrechnung Kopfzeile Fußzeilen Löschzeile zum Löschen des Bildschirms Zeile der Cursorposition Spalte der Cursorposition Variablenindex, der einfach dimensionierten Variablen niedrigster Variablenindex höchster Variablenindex Schriftweite Variable der GET-Anweisung ASC (g$) Variablenindizes der zweifach dimensionierten Variablen Konstante, von der bestimmte Bedingungen abhängen gibt das Ergebnis der Auswahlroutine an beschränkt die maximale Eingabelänge Variablenindex füllt den Ergebnisstring mit Punkten auf gibt das Jahr in der Tabelle an chr$(16): Tabulator chr$(10): Leerzeile Variable die den kleinsten Index der Tabelle angibt Variable die den größten Index der Tabelle angibt Variablen der Rechnung t1,t2,J2,r1,a1,Z1,Z2
70 REM BY KLAUS KLOEKER
80 GOTO 100
90 POKE 214,Z:P0KE 211,S:SYS 58732:RETURN
100
110
200
210
230
240
250
REM * MENUE *
PRINT"<CLR,WHITE>":POKE 53280,0:POKE 5 3281,0:POKE 53272,23:P0KE 788,52:G0SUB 900
PRINT " <RVSON, 4SPACEeE,{SHIFT-SPACE>Z<SH IFT-SPACE>M<SHIFT-SPACE >&<SHIFT-SPACE > H<SHIFT-SPACE>Z<SHIFT-SPACE)fl{SHIFT-SP ACE)fl{SHIFT-SPACE >l<SHIFT-SPACE>M<SHIF T-SPACE}£{SHIFT-SPACE >fi<SHIFT-SPACE>a< SHIFT-SPACE}! KSHIFT-SPACE>Z<4SPACE,R VOFF}"
Z=4;s=6:GOSUB 90: PRINT"ßENUE : ":Z=5:GO SUB 90:PRINT"-------"
Z=7:S=0:Y=l:FOR 1=1 TO 5:G0SUB 90:PRIN
T NA$(I);NB$(I)
Z=Z+2:Y=Y+l:NEXT
Z=18:GOSUB 90:PRINT”<RVSON,5SPACE,RVOF F,2SPACE>BAEHLEN älE MIT<SPACE,RVSON,S PACE>E3 <SPACE,RVOFF,SPACE>UND <SPACE,RV S0N,SPACE>E3<SPACE,RV0FF,SPACE>!"
Z=20:S=7:GOSUB 90:PRINT"BRUECKEN 5IE D ANN ' RJ^TUXN<SHIFT-SPACE}' {SPACETSHIFT -SPACE>!”
<051
<008
<076
<069
<098>
186>
<153>
<249>
<077>
055>
260	Z=23: S=0: GOSUB 90: PR I NT ” TiYflYiYiTmT	<176>
	TfTrrfTrfTTTFrrrTi^^	
300	REM * AUSWAHLROUTINE *	<101>
310	Z=7:Y=1	<208>
320	GOSUB 90:PRINT"{RVSON,5SPACE,RVOFF}":F OR 1=1 TO 75:NEXT	<246>
330	PRINT"<UP>";NA$(Y):FOR 1=1 TO 125:NEXT	<172>
340	GET G$:IF G$<>CHR$(134)AND G$<>CHR$(13 5)AND G$<>CHR$(13)THEN 320	<202>
350	IF G$=CHR$(13)THEN GOSUB 90:PRINT"{RVS ON}> <RVOFF}";:GOTO 400	<165>
355	IF G^=CHR^(135)THEN 380	<036>
360	Z=Z+2:Y=Y+l:IF Z>15 THEN Z=7:Y=1	<119>
370	GOTO 320	<092>
380	Z=Z-2:Y=Y-l:IF Z<7 THEN Z=15:Y=5	<006>
390	GOTO 320	<112>
400	ON Y GOTO 500,510,520,530,540	<091>
410	END	<158>
500	LOAD NB$(1),8	<097>
510	LOAD NB$(2),8	<236>
520	LOAD NB$(3),8	<120>
530	LOAD NB$(4),8	<003>
540	PRINT"<CLR>":POKE 53272,21:P0KE 788,49 :END	<071>
900	REM * VARIABLEN *	<039>
910	NA#(l)="<RVSON>- 1 -{RVOFF,SPACE)":NA$ (2)="{RVSON}- 2 -{RVOFF,SPACE)":NA$(3) ="CRVSON>- 3 -<RVOFF,SPACE}"	<145>
920	NA$(4)="{RVS0N)- 4 -<RVOFF,SPACE>":NA$ (5)="<RVS0N}- 5 -<RVOFF,SPACE}"	<035>
930	NB$(1)="ZINSRECHNUNG":NB$(2)=" ZI NSES ZI NSRECHNUNG"	< 148>
940	NB$(3)="fiISK0NTIEREN EINES KAPITALS"	< 130>
950	NB$(4)="LRSTELLEN EINES IILGUNGSPLAENE S":NB$(5)="£ROGRAMMENDE"	<020>
960	RETURN	<000>
© 64	'er	
Listing 1. »Menüprogramm«.		
Bitte beachten Sie die Eingabehinweise auf Seite 16.		
7 POKE 45,PEEK(174):P0KE 46,PEEK(175):CLR	<013>
8 REM BY KLAUS KLOEKER	<245>
9 CLR:DIM A^(15),A(15):GOTO 1000	<249>
10 Zl=3:Z2=9:S=13:REM	*	MASKE LOESCHEN *	<217>
20 FOR Z=Z1 TO Z2:G0SUB 90:PRINT"<26SPACE>
"sNEXT:IF C=0 THEN	RETURN	<093>
30 Zl=12:Z2=20:C=0:GOTO	20	<244>
50 RETURN	<108>
70 A$(12)=STR$(INT(A(12)*100+.5)):REM * RU
NDEN	<101>
75 AB$=LEFT$(A$(12),LEN(A$(12))-2)+"."+RIG
HT$(A$(12),2):RETURN	<152>
80 LOAD"MENUE*',8:REM *LOAD	MENUE	<006>
Listing 2. Zinsrechnung

21
Anwendung
C 64
90 POKE 214,Z:P0KE 211,S:SYS 58732:RETURN:			l)=P#:K=2	<090>
REM * CURSORPOSITION	<175>	2000	REM * EINGABEMASKE *	<128>
95 A=55869:F0R 1=1597 TO 1622:P0KE I,100:P		2010	Z=3:S=13:G0SUB 90:PRINT"&INGABE :":Z=	
OKE A,l:A=A+l:NEXT:RETURN	<110>		4sG0SUB 90:PRINT"TTTTTTTTT"	<033>
100 REM * AUSWAHLROUTINE ♦	<155>	2020	Z=5:F0R 1=9 TO ll:S=13:G0SUB 90:PRINT	
110 GOSUB 90:PRINT"{RVSON,llSPACE,RVOFFI":			"<RVSON}"A#(I)"<RVOFF,SPACE}: ";PM#	<153>
FOR 1=1 TO 75:NEXT I	<075>	2030	Z=Z+2:NEXT:Z=23:S=0:GOSUB 90:PRINT MC	
120 GOSUB 90:PRINT"<RVSON>"A#(Y)"<RVOFF>":			#	<013>
FOR 1=1 TO 125:NEXT	<112>	2040	Z=5:S=27:N=10:GOSUB 300:A(9)=VAL(IN#)	<196>
130 GET G$:IF Gt<>CHR$(133)AND G$<>CHR$(13		2050	Z=7:S=27:N=10:GOSUB 300:A(10)=VAL(IN#	
4)AND G#<>CHR#(135)AND G$<>CHR$(13)THE			)	<255>
N 110	<023>	2060	Z=9:S=27:N=10:GOSUB 300:A(11> =VAL(IN#	
140 IF G$=CHR$(133)AND C THEN C=0:RETURN	<151>		)	<042>
150 IF G#=CHR#(13)THEN GOSUB 90:PRINT"{RVS		2070	Z=13:S=13:G0SUB 90:PRINT"ZINGABE KORR	
ON}> <RVOFF}":RETURN	<147>		EKT ? (J/N):":GOSUB 95	<086>
160 IF G$=CHR$(135)THEN 190	<095>	2080	Z=13:S=38:GOSUB 90:PRINT » T€LEFT >";	<065>
170 Z=Z+SW:Y=Y+l:IF Z>Z2 THEN Z=Z1:Y=Y1	<115>	2090	GET G#:IF G#<>"J"AND G#<>"N"THEN 2090	<206>
180 GOTO 110	<124>	2100	PRINT G#:IF G#="J"THEN Y=1	<075>
190 Z=Z-SW:Y=Y-l:IF Z<Z1 THEN Z=Z2:Y=Y2	<212>	2110	IF G#="N"THEN Y=0	<107>
195 GOTO 110	<139>	2120	GET I#:IF I#<>CHR#(13)AND I#<>CHR#(20	
200 REM * WAHL-FUSSZEILE *:S=0	<128>		)THEN 2120	<136>
210 Z=23:G0SUB 90:PRINT"<RVSON,10SPACE,RVO		2130	IF I#=CHR#(20)THEN 2080	<057>
FF>";:FOR 1=1 TO 75:NEXT	<218>	2140	C=l:GOSUB 10:IF Y=0 THEN 2010	<132>
220 GOSUB 90:PRINT"<RVSON}"BA$(Y)"<RVOFF }"		3000	REM ♦ RECHNUNG *	<043>
;:FOR 1=1 TO 175:NEXT	<141>	3010	IF F=1 THEN A(12) = (A(9)*A(10)*A(lD)/	
230 GET G$:IF G#< >CHR#(134)AND G#< >CHR#(13			(100*H)	<103>
5)AND G#<>CHR#(13)THEN 210	<217>	3020	IF F=2 THEN A(12)=(A(9)#100*H)/(A(10)	
240 IF G#=CHR#(13)THEN GOSUB 90:PRINT"<RVS			*A(11))	<216>
ON}> <RVOFF}";:RETURN	<145>	3030	IF F=3 THEN A(12)=(A(10)*100*H)/(A(9)	
250 IF G#=CHR#(135)THEN 280	<153>		*A(11))	<015>
260 S=S+10:Y=Y+l:IF S>31 THEN S=0:Y=1	<107>	3040	IF F=4 THEN A(12)=(A(10)*100*H)/(A(9)	
270 GOTO 210	<224>		*A(11)>	<057>
280 S=S-10:Y=Y-l:IF S<0 THEN S=30:Y=4	<058>	3500	REM * BILDSCHIRM	<233>
290 GOTO 210	<244>	3510	Z=3:S=13:G0SUB 90:PRINT"ZINGABE :":Z=	
300 REM * EINGABEROUTINE ♦	<179>		4:G0SUB 90:PRINT"TTfTfTrTfT"	<122>
310 GOSUB 90	<058>	3520	Z=5:F0R 1=9 TO ll:GOSUB 90:PRINT A#(I	
320 IN#=""	<010>		)" :"A(I):Z=Z+2:NEXT	<016>
330 PRINT"T<LEFT}";	<197>	3530	Z=13:G0SUB 90:PRINT"££SULTAT :":Z=14:	
340 GET G#:IF G#=""THEN 340	<075>		GOSUB 90:PRINT"TTTTTTTTfT":GOSUB 70	<064>
350 G=ASC(G#):IF G=13 THEN GOTO 460	<165>	3540	Z=16:GOSUB 90:PRINT"<RVSON>"A#(F)"<RV	
370 IF G$<"0"OR G#>"9"THEN 420	<011>		OFF,SPACE}:";:PRINT TAB(38-LEN < AB#));	
380 IN#=IN#+G#	<221>		AB#	<149>
390 PRINT G#;	<209>	3550	PRINT TAB(39-LEN(AB#));:F0R 1=1 TO LE	
400 IF LEN(IN$)>N THEN FOR 1=1 TO LEN(IN#)			N(AB#)-1:PRINT"=";:NEXT	<170>
:PRINT CHR#(20);:NEXT:GOTO 320	<227>	3560	Z=20:GOSUB 90:IF K=1 THEN PRINT"fiUSDR	
410 GOTO 330	<148>		UCK IN 2fl{SHIFT-SPACEJ!":G0T0 3580	<244>
420 IF G=46 THEN 380	<130>	3570	IF K=0 THEN PRINT"flUSDRUCK IN £ROZENT	
425 IF G#=CHR#(133)THEN 9	<253>		i <•	<255>
430 IF G<>20 THEN 330	<135>	3580	Z=23:S=0:GOSUB 90:FOR 1=1 TO 4:PRINT"	
440 IF LEN(IN$)<1 THEN 330	<140>		{RVSON)"BA#(I)"<RVOFF?";:NEXT	<234>
450 IN#=LEFT#(IN#,LEN(IN#)-l):GOTO 390	<227>	3590	Y=l:GOSUB 200:IF Y=4 THEN 80	<041>
460 PN$="":FOR 1=1 TO(10-LEN(IN#)):PN#=PN#		3600	IF Y=3 THEN 1010	<136>
+".":NEXT:PRINT PN#	<017>	3610	IF Y=2 THEN 4500	<247>
470 IF LEN(IN$)<1 THEN 310	<106>	4000	REM * AENDERUNG *	<039>
480 RETURN	<028>	4010	C=l:GOSUB 10	<239>
999 :	<213>	4020	Z=3:S=13:G0SUB 90:PRINT"fiENDERUNG :":	
1000 REM ** ZINSRECHNUNG ♦♦	<021 >		Z=4: GOSUB 90: PR I NT " TfTTTFrYTTT"	< 139>
1010 GOSUB 5000:PRINT MA#	<098>	4030	Z=5:S=13:F0R 1=9 TO ll:GOSUB 90:PRINT	
1020 A=55388:F0R 1=1076 TO 1906 STEP 40sPO			"<RVSON>"A#(I)"<RVOFF,SPACE>:";A(I):Z	
KE I,101:POKE A,l:A=A+40:NEXT	<078>		=Z+2:NEXT	<030>
1030 A=55736:F0R 1=1464 TO 1474:POKE 1,100		4040	Z=23:S=0:GOSUB 90:PRINT MD#;	<059>
:POKE A,l:A=A+l:NEXT	<183>	4050	Z=5:Zl=Z:Z2=9:S=13:Y=9:Yl=Y:Y2=11:SW=	
1040 A=55749:FOR 1=1477 TO 1502:POKE 1,100			2:C=l:G0SUB 100	<253>
sPOKE A,l:A=A+l:NEXT	<032>	4060	IF C=0 THEN GOSUB 10:GOTO 3000	<068>
1050 Z=23:S=0:GOSUB 90:PRINT MB#	<154>	4070	Z=13:S=13:GOSUB 90:PRINT"{RVSONJ"A#(Y	
1060 Z=3:G0SUB 90:PRINT"flMSWAHL :":PRINT"T			)"<RVOFF,SPACE}: ";PM#:GOSUB 95	<196>
TfTTTfTf"	< 153>	4080	Z=23:S=0:GOSUB 90:PRINT MC#;:Z=13:S=2	
1070 Z=5:F0R 1=1 TO 5:G0SUB 90:PRINT"<RVSO			7:GOSUB 300:A(Y)=VAL(IN#):GOTO 4010	<211>
N>"A#(I)"{RVOFF}":Z=Z+1s NEXT	<066>	4500	REM * AUSDRUCK *	<254>
1080 Z =5:Z1=Z:Z2=9 s S=0 sY=1:Y1=Y:Y2=5:SW=1:		4510	OPEN 4,4,7:PRINT#4,CHR#(14);CHR#(16);	
C=0:GDSUB 100:F=Y:IF F=5 THEN 80	<255>		" 28iü^E£im£,,	<058>
1090 Z=13:S=0:GOSUB 90:PRINT"LAUFZEIT IN":		4520	PRINT#4,CHR#(16) ; "28	";CHR	
PR I NT " TTTTTTTTTTT"	<044>		# (10)	< 171>
1100 Z=15:F0R I=60TO 8:S=0:GOSUB 90:PRINT"		4530	FOR 1=9 TO ll:PRINT#4,CHR#(15);CHR#(l	
<RVSON>"A#(I)"<RVOFF>":Z=Z+1:NEXT	<104>		6);"10*** "A#(I)" : ";A(I):NEXT	<003>
1110 Z=15:Zl=Z:Z2=17:S=0:Y=6:Yl=Y:Y2=8:SW=		4540	GOSUB 70:PRINT#4,CHR#(10);CHR#(16);"1	
l:C=0:GOSUB 100:E=Y	<206>		4"A#(F)" : "AB#	<141>
1120 IF E=6 THEN A#(ll)=JA#:H=l	<118>	4550	PRINT#4,CHR#(16);"15";:F0R 1=1 TO 2+L	
1130 IF E=7 THEN A#(ll)=M0#:H=12	<174>		EN(A#(F)+AB#):PRINT#4,"=";:NEXT	<178>
1140 IF E=8 THEN A#(ll)=TA#:H=360	<064>	4560	PRINT#4:PRINT#4:PRINT#4	<213>
1150 IF F=1 THEN A#(9)=KA#:A#(10)=P#:K=1	<203>	4570	PRINT#4,CHR#(13);CHR#(16);"10***{3SPA	
1160 IF F=2 THEN A#(9)=ZI#:A#(10)=P#:K=1	<217>		CE)^PITAL UND ZINSSATZ WERDEN";	<209>
1170 IF F=3 THEN A#(9)=KA#:A#(10)=ZI#:K=0	<087>	4580	PRINT#4," IN ' Jm ' AUSGEDRUCKT,"	<135>
1180 IF F=4 THEN A#(9)=KA#:A#(10)=ZI#:A#(1		4590	PRINT#4,CHR#(16);"16DER ZINSSATZ IN '	
Listing 2. Zinsrechnung (Fortsetzung)				
22
Ä1
C 64
Anwendung
	7. ' ! “	<036>	5060	JA$=" (2SPACE)^HRE{4SPACE>":MO$=" <2SP	
4600	PRINT#4:F0R 1=1 TO 40:PRINT#4,"==";:N			ACE>flDNATE <3SPACE} " : TA$= " (2SPACE>^GE	
	EXT:PRINT#4:PRINT#4:PRINT#4:PRINT#4	<072>		{5SPACE}" : PM$="	"	<203>
4610	CLOSE 4:F0R 1=56176 TO 56215:P0KE 1,0		5110	BA$(1)=" flENDERN<2SPACE}"	<245>
	:NEXT:GOTO 3500	<180>	5120	BA$(2)=" jg3PIE<4SPACE}"	<209>
5000	REM * VARIABLENLISTE *	<016>	5130	BAT (3 > = " H- ^RECH. ”	<052>
5010	MA$="<CLR,RVSON,8SPACE}Z <SHIFT-SPACE}		5140	BA$(4>=" flENUE<4SPACE}"	<126>
	Z<SH I FT-SPACE>H<SH I FT-SPACE>S<SH IFT-S		5510	A$(1)=" ZINSERTRAG”	<044>
	PACEJfi<SHIFT-SPACE>Z<SHIFT-SPACE}£{SH		5520	A$(2)="<2SPACE}ZAPITAL <2SPACE}"	<065>
	IFT-SPACE >& <SHIFT-SPACE}H<SHIFT-SPACE		5530	A$(3)="C2SPACE3ZINSSATZ ”	<154>
	>U<SHIFT-SPACE>H<SHIFT-SPACE >&<8SPACE		5540	AT(4)="C2SPACE>LAUFZEIT "	<069>
	,RVOFF}"	<159>	5550	A$(5)="{2SPACE)flENUE<4SPACE>"	<146>
5020	MB$="{RVSON,SPACE)E3 U. £5 - HAHL ! '		5560	A$(6)=" {2SPACE>^HRE<4SPACE)"	<070>
	KET_UJUV - EINGABE !{RVOFF}"	<247>	5570	A$(7)="<2SPACE>HDNATE{3SPACE>”	<137>
5030	MC$="<RVSON,3SPACE}£1 - HEU !<5SPACE>		5580	AT(8)="{2SPACE}ZAGE <5SPACE}”	<234>
	ßEBEN HIE EIN !£6SPACE,RV0FFI”	<135>	5590	A$(13)="<2SPACE}fiENDERN<2SPACE 3”	<205>
5040	MD$="<RVSON,SPACE>£1 - ^SULTAT !<5SP		5600	A$(14)="<2SPACE}£ESULTAT "	<113>
	ACEI£3 U. £5 - HAHL !<SPACE,RVOFF>"	<167>	5610	A$ (15) = " <2SPACE >zJENUE <4SPACE I ” : RETURN	<097>
5050	KA$= " <2SPACE>J<AP I TAL <2SPACE > " : P$= " £2S				
	PACE>ZINSSATZ ":ZI$=" ZINSERTRAG’1 .	<229>	e G4zer	Listing 2. Zinsrechnung (Schluß)		
7 POKE 45,PEEK(174>:P0KE 46,PEEK(175):CLR 9 CLR:DIM A$(19),A(19),BA$(4):G0T0 1000	<013> <185>	410 IF G=46 THEN 370 420 IF G$=CHR$(133)THEN 9	<118> <248>
10 Zl=2:Z2=10:S=13:REM * MASKELOESCHEN *	<055>	430 IF G<>20 THEN 320	<131>
20 FOR Z=Z1 TO Z2:G0SUB 80:PRINT"{26SPACE}		440 IF IN<1 THEN 320	<002>
":NEXT:IF C=0 THEN RETURN	<077>	450 IN$=LEFT$(IN$,IN-l):GOTO 380	<211>
30 Zl=12:Z2=20:C=0:GOTO 20 40 S=0:FOR Z=12 TO 20:GOSUB 80:PRINT"<llSP	<244>	460 PN$="":FOR I=1 TO(10-LEN(IN$)):PN$=PN$ + *'.":NEXT:PRINT PN$	<017>
ACE>":NEXT:RETURN	<055>	470 IF LEN(IN$)<1 THEN 310	<106>
50 AT(A)=STRT(INT(A(A)*100+.5)):REM * RUND		480 RETURN	<028>
EN	<253>	999 :	<213>
60 AB$=LEFT$(A$(A),LEN(AT(A))-2)+"."+RIGHT		1000 REM * ZINSESZINSRECHNUNG	<043>
T(AT(A),2):RETURN	<161>	1010 GOSUB 5000:PRINT MA$	<098>
70 L0AD"FM.MENUE",8:REM * 80 POKE 214,Z:P0KE 211,S:SYS 58732:RETURN:	<248>	1020 A=55388:F0R 1=1076 TO 1906 STEP 40:PO KE I,101:POKE A,l:A=A+40:NEXT	<078>
REM * CURSORPOSITION 90 A=55869:F0R 1=1597 TO 1622:P0KE I,100:P	<165>	1030 A=55736:F0R 1=1464 TO 1474:P0KE 1,100 :POKE A,l:A=A+l:NEXT	<183>
OKE A,l:A=A+l:NEXT:RETURN	<105>	1040 A=55749:F0R 1=1477 TO 1502:POKE 1,100	
100 REM * AUSWAHLROUTINE	<243>	:POKE A,l:A=A+l:NEXT	<032>
110 GOSUB 80:PRINT'*{RVSON,llSPACE,RVOFF}":		1050 Z=23:S=0:GOSUB 80:PRINT MB$	<138>
FOR 1=1 TO 75:NEXT 120 GOSUB 80:PRINT"{RVSON>"A$(Y)"{RVOFF}":	<026>	1060 Z=2:G0SUB 80:PRINT"0USWAHL :":PRINT"T T"TTT'TYTT"	<009>
FOR 1=1 TO 125:NEXT 130 GET G$:IF G$<>CHR$(133)AND G$<>CHR$(13 4)AND G$<>CHR$(135)AND G$<>CHR$(13)THE	<104>	1070 Z=4:F0R 1=1 TO 5:G0SUB 80:PRINT"<RVSO N>"A$(I)”<RVOFF>":Z=Z+l:NEXT 1080 Z=4:Zl=Z:Z2=8:S=0:Y=1:Yl=Y:Y2=5:SW=1:	<242>
N 110	<023>	C=0:GOSUB 100:F=Y:IF F=5 THEN 70	<173>
140 IF G$=CHR$(133)AND C THEN C=0:RETURN 150 IF GT=CHRT(13)THEN GOSUB 80:PRINT"<RVS	<151>	1090 IF F=1 THEN A$(9)=KO$:A$(10)=P$:A$(11 )=NT:K=1	<212>
ON}> <RVOFF}";:RETURN	<023>	1100 IF F=2 THEN A$(9)=KN$:A$(10)=P$:A$(11	
160 IF GT=CHRT(135)THEN 190	<095>	)=NT:K=1	<190>
170 Z=Z+SW:Y=Y+l:IF Z>Z2 THEN Z=Z1:Y=Y1	<115>	1110 IF F=3 THEN A$(9)=KO$:A$(10)=KN$:A$(1	
180 GOTO 110	<124>	1)=NT:K=0	<096>
190 Z=Z-SW:Y=Y-l:IF Z<Z1 THEN Z=Z2:Y=Y2	<212>	1120 IF F=4 THEN A$(9)=KO$:A$(10)=KN$:A$(1	
195 GOTO 110	<139>	l)=PT:K=2	<156>
200 REM * WAHL-FUSSZEILE:S=0 210 Z=23:G0SUB 80:PRINT”£RVSON,10SPACE,RVO FFJ";:FOR 1=1 TO 75:NEXT 220 GOSUB 80:PRINT"{RVSON)"BA$(Y)"{RVOFF}" ;:FOR 1=1 TO 175:NEXT 230 GET G$:IF G$< >CHR$(134)AND G$< >CHR$(13	<122> <217> <133>	2000 REM * EINGABEMASKE 2010 Z=2:S=13:G0SUB 80:PRINT"£INGABE :”:Z=	<086>
		3: GOSUB 80 s PR I NT " 'fTfTFfTfT" 2020 Z=4:F0R 1=9 TO 12:S=13:G0SUB 80:PRINT ”IRVSON}”A$(I)"<RVOFF,SPACE > : ”;PM$:Z =Z+2:NEXT	<224> <210>
5)AND G$<>CHR$(13)THEN 210	<217>	2030 Z=23:S=0:GOSUB 80:PRINT MC$;	<063>
240 IF G$=CHR$(13)THEN GOSUB 80:PRINT"{RVS		2040 Z=4:S=27:N=10:GOSUB 300:A(9)=VAL(IN$)	<180>
ONI> <RVOFF}";:RETURN	<113>	2050 Z=6:G0SUB 300:A(10)=VAL(IN$)	<089>
250 IF G$=CHR$(135>THEN 280	<153>	2060 Z=8:G0SUB 300:A(ll)=VAL(INT)	<195>
260 S=S+10:Y=Y+l:IF S>30 THEN S=0:Y=1	<099>	2065 Z=10:N=9:GOSUB 300:A(12)=VAL(INT)	<216>
270 GOTO 210	<224>	2070 Z=13:S=13:G0SUB 80:PRINT"£INGABE KORR	
280 S=S-10:Y=Y-l:IF S<0 THEN S=30:Y=4	<058>	EKT 2 (J/N):":GOSUB 90	<014>
290 GOTO 210	<244>	2080 Z=13:S=38:G0SUB 80:PRINT"T<LEFT>";	<049>
300 REM * EINGABEROUTINE	<011>	2090 GET G$:IF G$<>"J"AND G$<>"N"THEN 2090	<206>
310 GOSUB 80	<050>	2100 PRINT G$:IF GT="J"THEN Y=1	<075>
315 IN$=""	<005>	2110 IF G$="N"THEN Y=0	<107>
320 PRINT"T<LEFT>";	<187>	2120 GET I$:IF I$<>CHR$(13)AND I$<>CHR$(20	
330 GET G$:IF G$=""THEN 330	<000>	)THEN 2120	<136>
340 G=ASC(GS):IF G=13 THEN 460	<177>	2130 IF I$=CHR$(20)THEN 2080	<057>
360 IF G<48 OR G>57 THEN 410	<148>	2140 C=l:GOSUB 10:IF Y=0 THEN 2010	<132>
370 IN$=IN$+G$:IN=LEN(IN$)	<156>	3000 REM * RECHNUNG	<137>
380 PRINT G$; 390 IF IN>N THEN FOR 1=1 TO IN:PRINT CHR$(	<199>	3010 IF F=1 THEN A(16)=A(9)*(1+(A(10)/(A(1 2)*100)))t(A(ll)*A(12))	<169>
20);:NEXT:GOTO 310	<067>	3020 IF F=1 THEN A(19)=100*((l+(A(10)/(A(1	
400 GOTO 320	<122>	2)*100)))tA(12)-l):D=1	<054> Listing 3. Zinseszinsrechnung	

23
Anwendung
C 64
3030	IF F=2 THEN A(16)=A(9)/(1+(A(10)/(A(1		4540	A=16:GOSUB 50:PRINT#4,TA$;TB$"14"AS(F	
	2)*100)))T(A(ll)*A(12)):D=0	<101>		)" : "AB$	<189>
3040	IF F=3 THEN A(16)=((A(10)/A(9))t(l/(A		4550	PRINT#4JB$"15";:FOR 1 = 1 TO 2+LEN(AS(	
	<ll)*A(12)))-l)*100#A(12):D=0	<174>		F)+ABS):PRINT#4,"=";:NEXT	<076>
3050	IF F=4 THEN A(16>=(LOG(A(10)/A(9))/LO		4560	PRINT#4,CHRS(13):IF D THEN GOSUB 4620	<041>
	G(l+(A(ll)/(A(12)*100))))/A(12):D=0	<011>	4565	PRINT#4,TAS;TAS;TAS	<080>
3500	REM » SCREEN	<009>	4570	PRINT#4,CHRS(13);TBS"10*#*{2SPACE)j^P	
3510	Z=2:S=13:G0SUB 80:PRINT"£INGABE :":Z=			ITAL UND ZINSSATZ WERDEN";	<002>
	3:GOSUB 8 0 sPRINT"7777777777"	<057>	4580	PRINT#4," IN ' fin ' AUSGEDRUCKT,"	<135>
3520	Z=4:F0R 1=9 TO 12:G0SUB 80sPRINT AS<I		4590	PRINT#4,TBS"16ZINSSATZ UND ^HRESZINS	
	>” :"A(I>:Z=Z+2:NEXT	<144>		(FALLS VORHANDEN) IN ' X<SHIFT-SPACE	
3530	Z=13:G0SUB 80::PRINT"£ESULTAT :"sZ=14				<078>
	s GOSUB 8 0: PR I NT " 7177777777" s A= 16 s GOSU		4600	PRINT#4:F0R 1=1 TO 40:PRINT#4,"==";:N	
	B 50	<200>		E X T:PRINT#4,TAS;TAS;TAS	<040>
3540	Z=15:G0SUB 80sPRINT"{RVSON)"A$(F)"{RV		4610	CLOSE 4:F0R 1=56176 TO 56215:P0KE 1,0	
	OFF,SPACE>:"TAB(38-LEN(ABS));ABS	<010>		:NEXT:GOTO 3620	<082>
3550	PRINT TAB(39-LEN(ABS));:F0R 1=1 TO LE		4620	IF D THEN PRINT#4,TAS;TBS"15"AS(17)"	
	N(ABS)-1: PRINT" = ";:NEXT	<170>		"AS(18)" : ";	<056>
3560	Z=20:GOSUB 80:IF K=1 THEN PRINT"fiUSDR		4630	A=19:G0SUB 50:PRINT#4,ABS	<000>
	UCK IN fin !":GOTO 3580	<036>	4640	PRINT#4,TBS"15";:FOR 1=1 TO LEN(AS(18	
3570	IF K=0 THEN PRINT"flUSDRUCK IN £ROZENT			)+AS(19)+ABS)+10:PRINT#4,"=";:NEXT	<010>
		<255>	4650	RETURN	<136>
3580	IF D=0 THEN 3620	<115>	5000	REM * VARIABLEN	<006>
3590	Z=13:S=0:GOSUB 80::PRINT"<RVSON>"AS(1		5010	MAS="£CLR,RVSON,2SPACE)Z<SHIFT-SPACE}	
	7)"<RVOFF}":PRINT"<RVSON}"AS(18)"{RVO			KSHIFT-SPACE >M<SHIFT-SPACE)^<SHIFT-S	
	FF)"	<244>		PACE>£<SHIFT-SPACE >£<SHIFT-SPACE >Z<SH	
3600	Z=17:S=l:G0SUB 80:A=19:GOSUB 50:PRINT			IFT-SPACE>X<SHIFT-SPACE>H<SHIFT-SPACE	
	AB$" 7."	<124>		>a<SHIFT-SPACE)Ä<SHIFT-SPACE}£<SHIFT-	
3610	PRINT TAB(7-LEN(ABS));:F0R 1=1 TO LEN			SPACE)£{SHIFT-SPACE>0<SHIFT-SPACE>H<S	
	(ABS)+1:PRINT"=";:NEXT	<012>		HIFT-SPACE>a<SHIFT-SPACE)H<SHIFT-SPAC	
3620	Z=23:S=0:GOSUB 80:FOR 1=1 TO 4:PRINT"			E>£<2SHIFT-SPACE,RVOFF >"	<166>
	{RVSON)"BA$(I)"{RVOFF}";:NEXT	<004>	5020	MBS="<RVS0N,SPACE}£3 U. £5 - HAHL ! '	
3630	Y=l:GOSUB 200:IF Y=4 THEN 70	<080>		R£TU£H' - £INGABE !{RVOFF)"	<247>
3640	IF Y=3 THEN 1010	<176>	5030	MCS="{RVSON,2SPACE}£1 - £EU !<6SPACE}	
3650	IF Y=2 THEN 4500	<031>		£EBEN ÄIE EIN !<6SPACE,RV0FF>"	<135>
4000	REM * AENDERUNG	<226>	5040	MDS="{RVSON,SPACE}£1 - ££SULTAT !{5SP	
4010	C=l:GOSUB 10:IF D THEN GOSUB 40	<003>		ACE)L3 U. £5 - HAHL !<SPACE,RVOFF>"	<167>
4020	Z=2:S=13:G0SUB 80::PRINT"flENDERUNG :"		5050	KOS=" flN.KAPITAL":PS="{2SPACE>ZINSSAT	
	: Z=3: GOSUB 80: PR I NT " 71771717177"	<149>		Z ":KNS=" lNDKAPITAL"	<043>
4030	Z=4:S=13::F0R 1=9 TO 12:G0SUB 80:PRIN		5060	NS="{2SPACE)JAHRE<4SPACE}":AS(12)=" Z	
	T"<RVSON>"AS(I)"<RVOFF,SPACE?:";A(I):			INSPER. /A" : PMS="	"	<228>
	Z=Z+2:NEXT	<207>	5100	BAS(1)="{2SPACE)flENDERN "	<235>
4040	Z=23:S=0:GOSUB 80:PRINT MD$;	<043>	5110	BAS (2) = " {2SPACE)jy]P IE <3SPACE } "	<197>
4050	Z=4:Zl=Z:Z2=10:S=13:Y=9:Yl=Y:Y2=12:SW		5120	BAS (3) = " <2SPACE >äEU <5SPACE } "	<2i4>
	=2:C=l:G0SUB 100	<126>	5130	BAS(4)=" flENUE<4SPACE)"	<116>
4060	IF C=0 THEN GOSUB 10:GOTO 3000	<068>	5500	AS(1)=KNS	<142>
4070	Z=13:S=13:G0SUB 80:PRINT"{RVSON3"A$(Y		5510	AS(2)=K0S	<186>
	)"<RVOFF,SPACE >: ";PM$:GOSUB 90	<084>	5520	AS(3)=PS	<003>
4080	Z=23:S=0:GOSUB 80:PRINT MCS;:Z=13:S=2		5530	AS(4)="<2SFACE>£AUFZEIT "	<059>
	7:G0SUB 300:A(Y)=VAL(IN$):GOTO 4010	<195>	5540	AS(5)="<2SPACE>flENUE{4SPACE}"	<136>
4500	REM * PRINTER	<052>	5600	AS(13)="{2SPACE>fiENDERN{2SPACE)"	<215>
4505	TA$=CHR$(10):TB$=CHR$(16)	<198>	5610	AS(14)="<2SPACE}£ESULTAT "	<123>
4510	OPEN 4,4,7:PRINT#4,CHRS(14);TBS"25ZJJ1		5620	AS(15)="{2SPACE>aENUE <4SPACE >"	<020>
	.^IMS.^MUAG.»	<121>	5630	AS(17)="£FFEKTIVER"	<092>
4520	PR I NT#4 , TBS " 25	" TAS	<132>	5640	AS ( 18) = " ^HRESZ I NS " : RETURN	<098>
4530	FOR 1=9 TO 12:PRINT#4,CHRS(15)TBS"10*				
	** "A$(I)" : "A(I):NEXT	<049>	e M'er	Listing 3. Zinseszinsrechnung (Schluß)		
8 POKE 45,PEEK(174):P0KE 46,PEEK(175):CLR 9 CLR:DIM AS(15),A(15):GOTO 1000	<014> <249>	130 GET GS:IF GS< >CHRS(133)AND GS< >CHRS(13 4)AND GS<>CHRS(135)AND GS<>CHRS(13)THE		
10 Zl=3:Z2=9:S=13:REM * MASKE LOESCHEN * 20 FOR Z=Z1 TO Z2:G0SUB 90:PRINT"{26SPACE) ":NEXT:IF C=0 THEN RETURN 30 Zl=12:Z2=20:C=0:GOTO 20 50 RETURN 70 AS(12)=STRS(INT(A(12)*100+.5)):REM * RU NDEN 75 ABS=LEFTS(AS(12),LEN(AS(12))-2)+"."+RIG HTS(AS(12),2):RETURN 80 L0AD"MENUE",8:REM *LOAD MENUE 90 POKE 214,Z:P0KE 211,S:SYS 58732:RETURN: REM * CURSORPOSITION 95 A=55869:F0R 1=1597 TO 1622:P0KE I,100:P OKE A,l:A=A+l:NEXT:RETURN 100 REM * AUSWAHLROUTINE * 110 GOSUB 90:PRINT"<RVSON,llSPACE,RVOFF>": FOR 1=1 TO 75:NEXT I 120 GOSUB 90:PRINT"<RVSON>"AS(Y)"<RVOFF>": FOR 1=1 TO 125:NEXT	<217> <093> <244> <108> <101> <152> <006> <175> <110> <155> <075> <112>	140 150 160 170 180 190 195 200 210 220 230 240 250	N 110 IF GS=CHRS(133)AND C THEN C=0:RETURN IF GS=CHRS(13)THEN GOSUB 90:PRINT"<RVS ON}><RVOFF}":RETURN IF GS=CHRS(135)THEN 190 Z=Z+SW:Y=Y+l:IF Z>Z2 THEN Z=Z1:Y=Y1 GOTO 110 Z=Z-SW:Y=Y-l:IF Z<Z1 THEN Z=Z2:Y=Y2 GOTO 110 REM * WAHL-FUSSZEILE *:S=0 Z=23:GOSUB 90:PRINT"<RVSON,10SPACE,RVO FF)";:FOR 1=1 TO 75:NEXT GOSUB 90:PRINT"<RVSON}"BAS(Y)"<RVOFF)" ;:FOR 1=1 TO 175:NEXT GET GS:IF GS< >CHRS(134)AND GS< >CHRS(13 5)AND GS<>CHRS(13)THEN 210 IF GS=CHRS(13)THEN GOSUB 90:PRINT"<RVS ON>>{RVOFF)";:RETURN IF GS=CHRS(135)THEN 280	<023> <151> <147> <095> <115> <124> <212> <139> <128> <218> <141> <217> <145> <153>
			Listing 4. Diskontieren eines Kapitals	
24

C 64
Anwendung
260 S=S+10:Y=Y+l:IF S>31 THEN S=0:Y=1	<107>	3520	Z=5:F0R 1=9 TO ll:GOSUB 90:PRINT A*(I	
270 GOTO 210	<224>		)“ :"A(I):Z=Z+2:NEXT	<016>
280 S=S-10:Y=Y-l:IF S<0 THEN S=30:Y=4	<058>	3530	Z=13:GOSUB 90:PRINT"££SULTAT :":Z=14;	
290 GOTO 210	<244>		GOSUB 905PRINT"TTTTTTfTTT"sGOSUB 70	<064>
300 REM * EINGABEROUTINE *	<179>	3540	Z=16:GOSUB 90:PRINT"<RVSON)"A$(F)"<RV	
310 GOSUB 90	<058>		OFF,SPACE}:°;:PRINT TAB(38-LEN(AB*));	
320 IN*=""	<010>		AB*	<149>
330 PRINT"T<LEFT}";	<197>	3550	PRINT TAB(39-LEN(AB*));:F0R 1=1 TO LE	
340 GET G*sIF G*=""THEN 340	<075>		N(AB*)-1:PRINT"=";:NEXT	<170>
350 G=ASC(G*):IF G=13 THEN 460	<187>	3560	Z=20sGOSUB 90:IF K=1 THEN PRINT"flUSDR	
360 IF G=13 THEN RETURN	<080>		UCK IN fijaCSHIJFT-SPACE>!":GOTO 3580	<244>
370 IF G$<"0"OR Gt>"9"THEN 420	<011>	3570	IF K=0 THEN PRINT"flUSDRUCK IN £ROZENT	
380 IN$=IN$+G$	<221>		। '•	<255>
390 PRINT G$;	<209>	3580	Z=23:S=0:GOSUB 90sFOR 1=1 TO 4sPRINT"	
400 IF LEN(IN$)>N THEN FOR 1=1 TO LEN(IN$)			<RVSON>"BA* ( I) *' CRVOFF)" ; : NEXT	<234>
:PRINT CHR$(20);:NEXT:GOTO 320	<227>	3590	Y=l:GOSUB 200:IF Y=4 THEN 80	<041>
410 GOTO 330	<148>	3600	IF Y=3 THEN 1010	<136>
420 IF G=46 THEN 380	<130>	3610	IF Y=2 THEN 4500	<247>
425 IF G$=CHR$(133)THEN 9	<253>	4000	REM * AENDERUNG *	<039>
430 IF G<>20 THEN 330	<135>	4010	C=l:GOSUB 10	<239>
440 IF LEN(IN$)<1 THEN 330	<140>	4020	Z=3:S=13:GOSUB 90sPRINT"flENDERUNG :":	
450 IN*=LEFT*(IN*,LEN(IN*)-l)5GOTO 390	<227>		Z=4: GOSUB 90: PR I NT " TTTTrrFTTTT”	< 139>
460 PN*="":FOR 1=1 TO(10-LEN(IN$)):PN$=PN$		4030	Z=5:S=13:F0R 1=9 TO ll:GOSUB 90:PRINT	
+".":NEXT:PRINT PN*	<017>		'• <RVSON } " A* (I) •' <RVOFF, SPACE }: " ; A (I): Z	
470 IF LEN(IN$)<1 THEN 310	<106>		=Z+2:NEXT	<030>
480 RETURN	<028>	4040	Z=23:S=0:GOSUB 90sPRINT MD*;	<059>
999 s	<213>	4050	Z=5:Zl=Z:Z2=9:S=13:Y=9:Yl=Y:Y2=11:SW=	
1000 REM ** DIKONTIEREN **	<184>		2sC=l:G0SUB 100	<253>
1010 GOSUB 5000:PRINT MA*	<098>	4060	IF C=0 THEN GOSUB 10:GOTO 3000	<068>
1020 A=55388:FOR 1=1076 TO 1906 STEP 40:PO		4070	Z=13:S=13:GOSUB 90:PRINT"<RVSON}"A*(Y	
KE I,101sPOKE A,l:A=A+40:NEXT	<078>		)"{RVOFF,SPACEI: "PM* s GOSUB 95	<010>
1030 A=55736sFOR 1=1464 TO 1474:POKE 1,100		4080	Z=23:S=0:GOSUB 90:PRINT MC*;:Z=13:S=2	
:POKE A,l:A=A+l:NEXT	<183>		7:G0SUB 300:A(Y)=VAL(IN*):GOTO 4010	<211>
1040 A=55749:F0R 1=1477 TO 1502sPOKE 1,100		4500	REM * AUSDRUCK *	<254>
:POKE A,l:A=A+l:NEXT	<032>	4505	TA*=CHR*(10)s TB*=CHR*(16)	<198>
1050 Z=23:S=0:GOSUB 90:PRINT MB$	<154>	4510	OPEN 4,4,7:PRINT#4,CHR*(14);TB*"10ÄLä	
1060 Z=3:G0SUB 90:PRINT"flUSWAHL :":PRINT"T			KOATJJJO EJJ^{SHIFT-SPACE}JL0£JZaLä"	<246>
TTYTTrrr"	<153>	4520	PRINT#4,TB*"10		
1070 Z=5:F0R 1=1 TO 5:G0SUB 90:PRINT"<RVSO				"TA*	<014>
N>"A$(I)"<RVOFF>":Z=Z+1:NEXT	<066>	4530	FOR 1=9 TO ll:PRINT#4,CHR*(15);TB*"10	
1080 Z=5:Z1=Z:Z2=9:S=0:Y=1:Y1=Y:Y2=5:SW=1s			*** "A*(I)" : ";A(I>sNEXT	<116>
C=0:GOSUB 100sF=Y:IF F=5 THEN 80	<255>	4540	GOSUB 70:PRINT#4,TA*;TB*"14"A*(F)" :	
1150 IF F=1 THEN A$(9)=KN$:A$(10)=P$sA$(ll			"AB*	<037>
)=JA*:K=1	<062>	4550	PRINT#4,TB*"15";:F0R 1=1 TO 2+LEN(A*(	
1160 IF F=2 THEN A$(9)=KB$:A$(10)=P$:A$(11			F)+AB*):PRINT#4,"=";:NEXT	<076>
)=JA$:K=1	<101>	4560	PRINT#4,TA*;TA*;TA*	<075>
1170 IF F=3 THEN A$(9)=KN$:A$(10)=KB$:A$(1		4570	PRINT#4,CHR*(13);TB*"10**#{3SPACE>SND	
1)=JA*:K=0	<029>		KAPITAL UND ^RWERT WERDEN";	<024>
1180 IF F=4 THEN A$(9)=KN$:A$(10)=KB$:A$(1		4580	PRINT#4," IN ' £fl ' AUSGEDRUCKT,"	<135>
l)=P$:K=2	<128>	4590	PRINT#4,TB*"16DER ZINSSATZ IN ' 7. ' !	
2000 REM * EINGABEMASKE *	<128>			<003>
2010 Z=3:S=13:G0SUB 90:PRINT"EINGABE s":Z=		4600	PRINT#4:F0R 1=1 TO 40:PRINT#4,"==";:N	
4:G0SUB 908PRINT"TTTTTTTTT”	<033>		EXT s PRINT#4,TA*;TA*;TA*;TA*	<169>
2020 Z=5:F0R 1=9 TO ll:S=13:G0SUB 90:PRINT		4610	CLOSE 4:F0R 1=56176 TO 56215:P0KE 1,0	
"<RVSON}"A$(I)"<RVOFF,SPACE}: ";PM*	<153>		:NEXT:GOTO 3580	<180>
2030 Z=Z+2:NEXT:Z=23sS=0sGOSUB 90sPRINT MC		5000	REM * VARIABLENLISTE *	<016>
$	<013>	5010	MA*= " <CLR , RVSON, 6SPACE } JH 5_K0J<TI^KKH £S	
2040 Z=5:S=27:N=10:GOSUB 300:A(9)=VAL(IN*)	<196>		HI FT-SPACE)£üi^{SH I FT-SPACE >W.I.TKL.5.	
2050 Z=7:G0SUB 300:A(10)=VAL(IN*)	<105>		{6SPACE,RVOFF)"	<130>
2060 Z=9=G0SUB 300:A(ll)=VAL(IN*)	<211>	5020	MB*="{RVS0N,SPACE}£3 U. £5 - HAHL ! '	
2070 Z=13:S=13:GOSUB 90:PRINT"EINGABE KORR			ÄLDiSH' - EINGABE ! <RVOFF>"	<247>
EKT ? (J/N):"sGOSUB 95	<086>	5030	MC*="<RVS0N,2SPACE>El - BEU !<6SPACE>	
2080 Z=13:S=38:GOSUB 90:PRINT"T{LEFT}";	<065>		HEBEN SIE EIN !C6SPACE,RV0FF>"	<135>
2090 GET G$:IF G*<>"J"AND G$<>"N"THEN 2090	<206>	5040	MD*="<RVSON,SPACE>L1 - ÄESULTAT !<5SP	
2100 PRINT G$:IF G*="J"THEN Y=1	<075>		ACE>E3 U. £5 - HAHL !{SPACE,RVOFF}"	<167>
2110 IF G$="N"THEN Y=0	<107>	5050	KN*=" £NDKAPITAL":P*="<2SPACE>ZI NSSAT	
2120 GET I$:IF I*<>CHR*(13)AND I$<>CHR$(20			Z " : JA*=" <2SPACE>^HRE {4SPACE)" : PM*="	
)THEN 2120	<136>			<031>
2130 IF I$=CHR$(20)THEN 2080	<057>	5060	KB*=" {2SPACE>^RWERT<2SPACE}"	<077>
2140 C=l:GOSUB 10:IF Y=0 THEN 2010	<132>	5110	BA*(1)="<2SPACE >fiENDERN "	<245>
3000 REM * RECHNUNG *	<043>	5120	BA*(2)="<2SPACE}ÄDPIE <3SPACE}"	<209>
3010 IF F=1 THEN A(12)=A(9)*(l/(l+(A(10)/l		5130	BA*(3)="{2SPACE)HEU{5SPACE)"	<224>
00))tA(ll>)	<039>	5140	BA*(4)=" flENUE<4SPACE>"	<126>
3020 IF F=2 THEN A(12)=A(9)/(l/(l+(A(10)/l		5510	A*(1)="<2SPACE )^RWERT<2SPACE}"	<092>
00))tA(ll>)	<083>	5520	A*(2)=" ENDKAPITAL"	<255>
3030 IF F=3 THEN A(12)=<(A(9)/A(10))T(l/A(		5530	A*(3)="<2SPACE>ZINSSATZ "	<154>
11))-1)*100	<246>	5540	A*(4) = "<2SPACE>^UFZEIT "	<069>
3040 IF F=4 THEN A(12)=LOG(A(9)/A(10))/LOG		5550	A* <5)="<2SPACE)flENUE<4SPACE}"	<146>
(l+(A(ll)/100))	<234>	5590	A*(13)="{2SPACE>flENDERN <2SPACE}"	<205>
3500 REM * BILDSCHIRM	<233>	5600	A*(14)="{2SPACE)HESULTAT "	<113>
3510 Z=3:S=13:G0SUB 90:PRINT''&INGABE ;":Z=		5610	A*(15)="{2SPACE} HENUE <4SPACE}":RETURN	<097>
4:G0SUB 908PRINT"TmTTTT'TY"	<122>	© 64zer		
Listing 4. Diskontieren eines Kapitals (Schluß)

25
Anwendung
C 64
			
7 POKE 45,PEEK(174):P0KE 46,PEEK(175)sCLR	<013>	470 IF LEN(IN$)<1 THEN 310	<106>
8 REM BY KLAUS KLOEKER	<245>	480 RETURN	<028>
9 CLR:DIM A$(15),E(50,6),E$(5B,6):GOTO 100		900 REM * MASKE *	<039>
0	<225>	910 PRINT MA$sA=55388:F0R 1=1076 TO 1906 S	
10 Zl=3:Z2=9:S=13:REM * MASKE LOESCHEM * 15 FOR Z=Z1 TO Z2:G0SUB 90:PRINT"<26SPACE>	<217>	TEP 40:POKE I,101:POKE A,l;A=A+40:NEXT 920 A=55776:F0R 1=1504 TO 1514:POKE 1,100:	<226>
'*:NEXT:IF C=0 THEN RETURN	<088>	POKE A,lsA=A+l:NEXT	<046>
20 Zl=13:Z2=21:C=0:GOTO 15	<130>	930 A=55785:F0R 1=1517 TO 1546:P0KE 1,100:	
30 FOR J=2 TO 6:E$(I,J)=STR$(INT(E(I,J)#10		POKE A,lsA=A+l:NEXT	<171>
+.5)):REM * FORMAT TABELLE 35 Et(I,J)=LEFT$(E$(I,J),LEN(E$(I,J))-1)+"	<158>	950 Z=3:S=0:GOSUB 90:PRINT"fiUSWAHL :”:PRIN T" TTTTTTTfT" = PRINT"{RVSON,SPACE}		
."+RIGHT$(E$(I,J),1) 40 L$="":FOR A=1 TO 10-LEN(E$(I,J)):L$=L$+	<227>		<SPACE,RVOFF>" 960 Z=6:F0R 1=1 TO 3:GOSUB 90:PRINT"<RVSON	<245>
"."sNEXT	<133>	? MA$(I)"<RVOFF >":PRINT"{RVSON,SPACE)-	
45 E$(I,J)=L$+EI(I,J)	<160>		<SPACE,RVOFF}":Z=Z+2:NEXT	<236>
50 IF LEN(E$(I,J))>10 THEN E$(I,J)=RIGHT$(		970 RETURN	<010>
E$(I,J),10)	<000>	999 s	<213>
55 NEXTsRETURN	<250>	1000 REM ** TILGUNGSRECHNUNG *	<090>
70 LOAD"MENUE",8:REM *LOAD MENUE	<252>	1010 GOSUB 6000:GOSUB 900	<081>
80 A=55909:FOR 1=1637 TO 1662:P0KE I,100:P		1020 Z=23:S=0:GOSUB 90:PRINT MB$	<122>
OKE A,l:A=A+l:NEXT:RETURN	<025>	1080 Z=6:Zl=Z:Z2=10:S=0:Y=l:Yl=Y:Y2=3:SW=2	
90 POKE 214,Z:P0KE 211,S:SYS 58732:RETURNs		:C=0:GOSUB 100:F=Y:IF F=3 THEN 70	<128>
REM * CURSORPOSITION * 95 FOR 1=56216 TO 56255:P0KE I,O:NEXT:RETU RN	<003>	2000 REM * EINGABEMASKE * 2010 Z=3:S=13:G0SUB 90:PRINT"£INGABE :":Z=	<128>
	<003>	4 : GOSUB 90 s PR I NT " “TYTTTTTTT "	<033>
100 REM * AUSWAHLROUTINE *	<155>	2020 Z=5:F0R 1=4 TO 6sS=13:G0SUB 90:PRINT"	
110 GOSUB 90:PRINT"<RVSON,llSPACE,RVOFF>":		CRVSON}"At(I)M<RVOFF,SPACE}: ";PM$	<067>
FOR 1=1 TO 75:NEXT I	<075>	2030 Z=Z+2:NEXT:Z=23:S=0:GOSUB 90:PRINT MC	
120 GOSUB 90:PRINT"{RVSON)"At(Y)"{RVOFF}":		$	<013>
FOR 1=1 TO 125:NEXT	<112>	2040 Z=5:S=27:N=9:F0R J=4 TO 6:G0SUB 300:A	
130 GET Gt:IF G$<>CHR$(133)AND Gt< >CHR$(13 4)AND G$<>CHR$(135)AND G$<>CHR$<13)THE		(J)=VALUNt>:Z=Z+2:NEXT 2070 Z=14sS=13:G0SUB 90:PRINT"£INGABE KORR	<001>
N 110	<023>	EKT ? (J/N):":GOSUB 80	<074>
140 IF G$=CHR$(133)AND C THEN C=0:RETURN	<151>	2080 Z=14:S=38:G0SUB 90:PRINT"T<LEFT>";	<081>
150 IF G$=CHR$(13)THEN GOSUB 90:A$(Y)=">"+		2090 GET G*:IF Gt<>"J"AND G$<>"N"THEN 2090	<206>
MID$(A$(Y),2,10):PRINT"{RVSON>"A$(Y)"<		2100 PRINT G$:IF Gt="J"THEN Y=1	<075>
RVDFF>":RETURN	<216>	2110 IF G$="N"THEN Y=0	<107>
155 IF G$=CHR$(134)THEN 170	<213>	2120 GET It:IF I$<>CHR$(13)AND I$<>CHR$(20	
160 IF G$=CHR$(135)THEN 190	<095>	)THEN 2120	<136>
165 GOTO 110	<109>	2130 IF I$=CHR$(20)THEN 2080	<057>
170 Z=Z+SW:Y=Y+l:IF Z>Z2 THEN Z=Z1:Y=Y1	<115>	2140 C=lsGOSUB 10:IF Y=0 THEN 2010	<132>
180 GOTO 110	<124>	3000 REM * RECHNUNG *	<043>
190 Z=Z-SW:Y=Y-l:IF Z<Z1 THEN Z=Z2:Y=Y2	<212>	3005 PRINT"{CLR)":Z=23:S=23:G0SUB 90:PRINT	
195 GOTO 110	<139>	MGt:EE(3)=0:EE(5)=0	<171>
200 REM * WAHL-FUSSZEILE *:S=0	<128>	3010 IF F=2 THEN 3500	<128>
210 Z=23:G0SUB 90:PRINT"{RVSON,8SPACE,RVOF		3100 REM * RATENTILGUNG *	<194>
FJ";:FOR 1=1 TO 75:NEXT 220 GOSUB 90:PRINT”{RVSON}"BA$(Y)"<RVOFF >"	<218>	3110 Tl=A(4)/A(6):J2=0:T2=0 3120 FOR 1=1 TO A(6):Rl=A(4)-J2*T2:Zl=Rl*(	<011>
;:FOR 1=1 TO 175:NEXT 230 GET G$:IF G$<>CHR$(134)AND G$<>CHR#(13	<141>	A(5)/100):Al=Zl+Tl 3130 E(I,2)=Rl:E(I,3)=Zl:E(I,4)=Tl:E(I,5)=	<144>
5)AND G$<>CHR$(13)THEN 210 240 IF G$=CHR$(13)THEN GOSUB 90:PRINT"{RVS	<217>	Al:E(I,6)=Al/12:GOSUB 30 3140 FOR J=3 TO 5 STEP 2:EE(J)=EE(J)+E(I,J	<254>
ON}><RVOFF}";:RETURN	<145>	):NEXT	<130>
250 IF G$=CHR$(135)THEN 280	<153>	3150 J2=J2+l:T2=(A(4)/A(6)):NEXT:GOTO 3700	<172>
260 S=S+8:Y=Y+l:IF S>32 THEN S=0:Y=1	<076>	3500 REM * AUNNUITAETENTILGUNG *	<186>
270 GOTO 210	<224>	3510 Ql=A(5)/100+l:Tl=A(4)*((Ql-1)/(QlTA(6	
280 S=S-8:Y=Y-lsIF S<0 THEN S=32:Y=5	<077>	)-l) )	<206>
290 GOTO 210	<244>	3520 Zl=A(4)*(A(5)/100):Al=Tl+Zl:Rl=A(4)	<128>
300 REM * EINGABEROUTINE *	<179>	3530 E(l,2)=Rl:E(l,3)=Zl:E(l,4)=Tl:E(l,5)=	
310 GOSUB 90	<058>	Al:E(l,6)=Al/12:I=l:G0SUB 30	<251>
320 IN$=""	<010>	3540 T2=Tl:F0R 1=2 TO A(6):Rl=Rl-T2:Z2=Rl*	
330 PRINT"T<LEFT}";	<197>	(A(5)/100):T2=T2*Q1	<139>
340 GET G$:IF G$=""THEN 340	<075>	3550 E(I,2)=Rl:E(I,3)=Z2sE(I,4)=T2sE(I,5)=	
350 G=ASC(G$):IF G=13 THEN GOTO 460	<165>	AlsE<I,6)=Al/12:G0SUB 30	<244>
360 IF G=13 THEN RETURN	<080>	3560 FOR J=3 TO 5 STEP 2:EE(J)=EE(J)+E(I,J	
370 IF G$<"0"OR G$>"9"THEN 420	<011>	):NEXT J:NEXT I	<177>
380 IN$=IN$+Gt	<221>	3570 EE(3)=EE(3)+E(1,3):EE(5)=EE(5)+E(1,5)	<060>
390 PRINT G$; 400 IF LEN(IN$)>N THEN FOR 1=1 TO LEN(IN$)	<209>	3700 EE(3)=EE(3)/2:EE(5)=EE(5)/2 3710 FOR 1=3 TO 5 STEP 2:EEt(I)=STRt(INT(E	<011>
:PRINT CHR$(20);:NEXT:GOTO 320	<227>	E(I)*10/.5))	<161>
410 GOTO 330	<148>	3720 EEt(I)=LEFTt(EEt(I) ,LEN(EE$(I) )-l)+''.	
420 IF G=46 THEN 380	<130>	"+RIGHTt(EEt(I>,l):NEXT	<217>
425 IF G$=CHR$(133)THEN 9	<253>	3800 REM * SCREEN *	<223>
430 IF G<>20 THEN 330	<135>	3805 GOSUB 900	<001>
440 IF LEN(IN$)<1 THEN 330	<140>	3810 Z=3:S=13:G0SUB 90:PRINT"£INGABE :":Z=	
450 IN$=LEFT$(IN$,LEN(IN$)-l):GOTO 390 460 PN$="":FOR 1=1 T0(9-LEN(IN$)):PN$=PN$+	<227>	4:GOSUB 90:PRINT"TTTTTTTTT'' 3820 Z=5:S=13:F0R 1=4 TO 6sG0SUB 90:PRINT	<055>
"."sNEXT:PRINT PN$ Listing 5. Erstellung eines Tilgungsplans	<230>	A$(I)" :**A(I):Z=Z+2:NEXT 3830 Z=14:S=13:GOSUB 90:PRINT”££SULTAT :":	<210>
26
3J^
C 64
Anwendung
3840
3850
3860 3870
3880
3890
3900
3910
3920
3930
3940
3950
4000
4010
4020
4030 4040
4050
4100
4105 4107 4110
4120
4130 4140
4150
4200
4500
4510
4520
4530
4540
4543
4545
4550
4560
4570
4580 4590
4600
4610 4615
4620
4630
4640
4645 4650
4660 5000
5010
5020
5030
5040
5050
5060
5070
Z=15: GOSUB 90:PRINT"TTTTTTTTTT"
<018>
Z=17:FOR J=3 TO 5 STEP 2.-G0SUB 90:PRI
NT"{RVSON>"ECS(J)"{RVOFF>:"EE$(J):Z=Z
+2:NEXT	<223>
Z=21:G0SUB 90:PRINT"flUSDRUCK IN '£& *"	<232>
ZA=VAL(EES(3))/(VAL(EES(5))/100)	<157>
Z=14:S=0:GOSUB 90:PRINT"{RVS0N,3SPACE >ZINS-<3SPACE,RVOFF}":Z=15sGOSUB 90:P RINT"<RVSON,3SPACE}ANTEIL <2SPACE,RVOF F}"	<219>
ZAS=STRS(ZA):IF ZA<10 THEN ZAS=" "+ZA $	<149>
ZA$=LEFT$(ZAS,5)sZ=17:S=2:GOSUB 90:PR INT ZAS;" 7."	<144>
Z=18:S=3:GOSUB 90:PRINT"======"	< 091>
Z=23:S=0:GOSUB 90:FOR 1=1 TO 5:PRINT"
<RVSON>"BAS(I)"<RVOFF}";:NEXT	<072>
Y=l:GOSUB 200:IF Y=5 THEN 70	<180>
IF Y=4	THEN	9	<166>
IF Y=3	THEN	5500	<227>
IF Y=2	THEN	5000	<200>
REM * TABELLE *	<054>
GOSUB 95 s X1=2:X2=4:Y1 = 1:Y2=A(6)	< 229 >
Z=l:S=0:GOSUB 90:FOR 1=1 TO 22:PRINT MDS:NEXT:Z=22:G0SUB 90:PRINT MHS	<187>
Z=3:S=0:GOSUB 90:PRINT M$(1)	<251>
Z=3:S=6:FOR I=X1 TO X2:G0SUB 90:PRINT
MS(I):S=S+ll:NEXT	<201>
Z=4:S=l:G0SUB 90:FOR 1=1 TO 37:PRINT" =";:NEXT	<109>
Z=6:S=l:FOR I=Y1 TO Y2	<159>
IS=STRS(I):IF I<10 THEN I$="."+I$	<057>
GOSUB 90:PRINT"."+IS:S=6	<061>
FOR J=X1 TO X2	<022>
GOSUB 90:PRINT E$(I,J)	<076>
S=S+ll:NEXT J	<250>
IF PEEK(214)>15 THEN Y2=I:Yl=Y2-9:G0T 0 4200	<076>
Z=Z+l:S=l:NEXT I	<085>
Z=17:S=l:G0SUB 90:FOR J=1 TO 38:PRINT
"-";:NEXT	<001>
WAIT 203,63:GET GS	<201>
IF GS=CHRS(29>THEN 4550	<152>
IF GS=CHRS(157)THEN 4580	<040>
IF GS=CHRS(17)THEN 4610	<198>
IF GS=CHRS(145)THEN 4640	<112>
IF GS=CHRS(133)THEN 3800	<200>
GOTO 4500	<015>
Xl=Xl+l:X2=X2+l:REM * ->	<036>
IF X2>6 THEN X2=6:Xl=4:G0T0 4500	<249>
GOTO 4030	<056>
Xl=Xl-l:X2=X2-l:REM * <-	<017>
IF Xl<2 THEN Xl=2:X2=4:G0T0 4500	<100>
GOTO 4030	<086>
IF A(6)<10 THEN GOTO 4500	<081>
Yl=Yl+10:Y2=Y2+10:REM * DOWN	<192>
IF Y2>A(6)THEN Y2=A(6):Yl=Y2-9:IF I=A (6)THEN 4500	<159>
GOTO 4030	<118>
IF A(6)<10 THEN GOTO 4500	<038>
Yl=Yl-10:Y2=Y2-10:REM	*	UP	<049>
IF Y1<1 THEN Yl=l:Y2=Yl+9:IF I<11 THE
N 4500	<083>
GOTO 4030	<148>
REM * AENDERUNG *	<023>
C=l:GOSUB 10:S=0:FOR Z=13 TO 20:GOSUB
90:PRINT"<1lSPACE>":NEXT	<016>
Z=3:S=13:GOSUB 90:PRINT"fiENDERUNG :": Z=4: GOSUB 90: PR I NT " TTTTTFfTfTT“	< 123 >
Z=5:S=13:FOR 1=4 TO 6:G0SUB 90:PRINT" {RVSONJ"A$(I)"<RVOFF,SPACE?:";A(I):Z= Z+2:NEXT	<000>
Z=23:S=0:GOSUB 90:PRINT MFS;	<047>
Z=5:Zl=Z:Z2=9:S=13:Y=4:Yl=Y: Y2=6:SW=2 :C=1:GOSUB 100	<086 >
IF C=0 GOTO 3000	<174>
Z=14:S=13:GOSUB 90:PRINT"{RVSON3"AS(Y )"{RVOFF,SPACE}: ";PMS:GOSUB80	<124>
5080 Z=23:S=0:GOSUB 90:PRINT MCS;:Z=14:S=2
7:G0SUB 300:A(Y)=VAL(INS)		<106>
5090	AS(Y)=" "+MIDS(AS(Y),2,10):GOTO 5010	<218>
5500	REM * PRINTER	<036>
5505	TB$=CHR$(16):TAS=CHRS(10)	<122>
5510 5520 5530 5540	OPEN 4,4,7:PRINT#4,CHR$(14)TB$"10flUSD RUCK EINES IILGUNGSPLANES" PRINT#4,TBS;"10	 	"TAS FOR 1=4 TO 6:PRINT#4,CHRS(15)TBS"10** * "AS(I)" : "A(I):NEXT PRINT#4,TAS;TAS;TA$	<030> <201> <105> <039>
5550 5560 5570 5575	FOR 1=1 TO 6:PRINT#4,"<3SPACE>"MS(I); :NEXT:PRINT#4," " FOR 1=1 TO 40:PRINT#4,"—";:NEXT:PRIN T#4 FOR 1=1 TO A(6):IS=STRS(I):IF I<10 TH EN IS="."+IS PRINT#4,"<4SPACE>." + IS" ";	<077> <171> <181> <252>
5580 5590 5595	FOR J=2 TO 6:PRINT#4," .."ES(I,J);:NE XT J:PRINT#4," ":NEXT I FOR 1=1 TO 40:PRINT#4,"—";:NEXT:PRIN T#4 PRINT#4," ßESAMT:";	<217> <201> <002>
5600 5610 5620 5630 5640 5650 5660	P0=27:F0R J=3 TO 5 STEP 2:PRINT#4,SPC (PO-LEN(EES(J)))EES(J);:P0=26:NEXT PRINT#4,TAS;TAS5TBS"i0*** flJSDRUCK DE R TABELLE ERFOLGT IN 'fifl' •" PRINT#4,TBS"10*** ^RECHNUNG DER ZINS EN ERFOLGT AM £NDE DES ^HRES ! " PRINT#4,TAS;TBS"10#** IILGUNG KONSTAN T<3SPACE>= ÄATENTILGUNG •!" PRINT#4,TBS"10*** flNNUITAET KONSTANT = BNNUITAETENTILGUNG !!" PRINT#4:F0R 1=1 TO 40:PRINT#4,"==";:N EXT I:PRINT#4,TAS;TAS;TAS;TAS CLOSE 4:GOTO 3860	<176> <033> <220> <143> <003> <169> <189>
6000	REM * VARIABLEN *	<059>
6010 6020 6030 6040	MAS="{CLR,RVSON,4SPACE >I 1<SHIFT-SPAC E}£{SHIFT-SPACE}£<SHIFT-SPACE}£{SHIFT -SPACE >H<SHIFT-SPACE}£{SHIFT-SPACE >ä< SHIFT-SPACE)A<SHIFT-SPACE)£{SHIFT-SPA CE>g<SHIFT-SPACE>H<SHIFT-SPACE>H<SHIF T-SPACE)g{SHIFT-SPACE >M<SHIFT-SPACE}£ (4SPACE,RVOFF)" MBS="{RVSON,SPACE>E3 U. £5 - HAHL • ' AETJULRM' - EINGABE ! " MCS="<RVSON,SPACE>E1 - flUSWAHL !<3SPA CEJßEBEN £IE EIN !<6SPACE,RVOFF>" MD$="<39SPACE>"	<202> <081> <188> <078>
6050	MES="<RVSON,39SPACE,RVOFF >"	<046>
6060 6070	MFS="<RVSON,SPACE>E1 - EESULTAT !<5SP ACE>E3 U. £5 - HAHL !<SPACE,RVOFF>" MGS="2ITTE HARTEN !!!"	<187> <103>
6080 6100	MH$="{RVSON,SPACE>E1 - RESULTAT !<4SP ACEJßURSOR - STEUERN !<SPACE,RVOFF}" A$(1)=" EATENTILG."	<221> <090>
6110	A$(2)=" ßNNU.TILG."	<099>
6120	AS(3)="<2SPACE>HENUE<4SPACE>"	<144>
6130	AS(4)=" ^RLEHEN<2SPACE>"	<229>
6140	AS(5)=" ZINSSATZ<2SPACE>"	<064>
6150	AS(6)=" ^HRE{5SPACE)"	<154>
6160	PM$="	"	<064>
6200	MS(1)=" JAHR "	<112>
6210	MS(2)="££STSCHULD"	<091>
6220	MS(3)="<4SPACE>ZINSEN"	<076>
6230	MS(4)="<3SPACE>XILGUNG"	<079>
6240	MS(5)=" HNNUITAET"	<169>
6250	MS(6)=" ßNNU-ZßDN"	<105>
6300	ECS(3)=" ZINSEN<2SPACE>GES."	<196>
6310	ECS(5)=" flNNUIT. GES."	<055>
6400	BAS(1)=" JABELLE"	<077>
6410	BAS(2)=" flENDERN"	<085>
6420	BAS(3)="<2SPACE>JKjDPIE "	<047>
6430	BAS(4)="<3SPACE>HEU{2SPACE}"	<063>
6440	BAS(5)="<2SPACE)flENUE "	<220>
6500	RETURN	<208>
© 64'er
Listing 5. Erstellung eines Tilgungsplans (Schluß)
27
Anwendung
C 64
Schachmeister
Viele Schachspieler zeichnen ihre Partien auf und überprüfen sie hinterher. Der C 64 hilft dabei. Die Verbesserung aus Ausgabe 4/85 ist in die Anleitung und das Listing integriert.
Nach dem Start des Programms muß man einen Augenblick warten, bis der Computer die neuen Multicolor-Zeichen definiert hat und diverse Felder und Listen aufgestellt hat (zirka 20 Sekunden). Daraufhin kann man eine der gespeicherten Partien auswählen und das Schachbrett baut sich auf.
Am rechten Rand werden die Namen der Spieler, das Jahr, die Zugnummer und der Zug sowie verschiedene Meldungen wie »Schach«, »Matt«, »Rochade« ... ausgegeben. Das Schachbrett nimmt zirka % des Bildschirms ein.
Durch Drücken der F7-Taste nach einem Zug wird das Bild bis zu einem erneuten Tastendruck »eingefroren«. Durch Drücken einer anderen Taste nach einem Zug wird der Ablauf beschleunigt. Durch anhaltendes Drücken der Space-Taste kann man so eine Art »Blitzschach« erreichen. Nach Spielende führt ein Tastendruck wieder zum Auswahlmenü.
Eingeben eigener Schachpartien:
1.	Zuerst werden die Namen der Spieler und das Jahr eingegeben:
10000 DATASPIELER 1, SPIELER 2, 1984.
2.	Die Eingabe der Züge:
Beispiel für einen normalen Zug: 10010 DATA E2E4, E7E5, G1F3 ...
Wenn eine Figur eine gegnerische schlägt, braucht man das nicht anzugeben; der Computer erkennt das von selbst.
3.	Sonderregeln (Beispiele):
Aufgabe eines Spielers:
10020 DATA ...,SA
(Schwarz gibt auf)
10020 DATA..., WA
(Weiß gibt auf)
Rochaden:
10020DATA...,KR
(kurze Rochade)
10020 DATA..., LR
(lange Rochade)
Es braucht nicht angegeben zu werden, welcher der beiden Spieler rochiert.
Schach, Matt, Remis:
Um dem Computer einen dieser drei Zustände anzuzeigen, muß ein S (Schach), ein M (Matt) oder ein R (Remis) dem jeweiligen Zug angehängt werden:
10020 DATA..., D6E6S
(Schach wird geboten)
10030DATA..., F6E6M
(Schachmatt)
10020 DATA..., E5E6R
(Remis durch Übereinkunft der Spieler)
10020 DATA B6B7P (Remis durch Patt)
10020 DATA C4C5W (Remis durch dreimal wiederholte Stellung)
10020 DATA A1C1Z (Remis durch 50-Züge-Regel. Es wurde seit 50 Zügen kein Bauernzug gemacht)
Erreicht ein Bauer die gegnerische Grundlinie, so wird er in ei-
ne andere Figur umgewandelt. Und zwar:
in einen Turm:
DATA A7A8T
in einen Springer (engl. Horse)
DATA A7A8H
in einen Läufer:
DATA A7A8C
Wenn ein Bauer in eine Dame umgetauscht wird, so ist dem jeweiligen Zug ein D anzufügen:
10020 DATA..., A7A8D
(weißer Bauer wird in Dame getauscht)
Wird ein gegnerischer Bauer en Passant geschlagen, so ist dem entsprechenden Zug ein »v« anzuhängen, (enpassant = im Vorübergehen)
Wichtig:
Nach Ende jeder Partie muß unbedingt ein E angefügt werden, damit der Computer eine Liste der Partien aufstellt. Nach der letzten Partie ist statt dem E ein X anzufügen:
19999 DATA ...,F6E6M,E
19999 DATA ...,F6E6M,X
Die Programmlänge ohne gespeicherte Partien beträgt zirka 7,5 KByte: pro gespeicherter Partie werden zusätzlich zirka 0,5 KByte benötigt.
Da der Bildschirmspeicher verschoben wird, muß nach einem RUN STOP-RESTORE blind RUN eingetippt werden, um das Programm wieder auflisten zu lassen.
(Thomas Behrend/tr)
A$-Feld	: Speicherung der sechs Schachfiguren
A(x,y)-Feld	: Spielfeld (Figuren)
B(x,y)-Feld	: Spielbrett
P-Feld	: Zähler zum Überspringen der DATA-Zeilen bis zur gewählten Partie
P$-Feld	: Namen der Spieler (weiß)
P1$-Feld	: Namen der Spieler (schwarz)
P	: Anzahl der gespeicherten Partien
DA	: Zähler zum Überspringen der ersten DATA-Zeilen
AW	: Flag für verschiedene Spielzustände (Matt, Remis...)
Wichtige Programmzeilen und Programmteile:	
150- 190	: MC-Programm zur Beschleunigung der Zeichendefinition
200- 260	: Zeichendefinition
300- 860	: Zeichen-DATA (Multicolor)
900-1050	: Felder aufstellen und Variablen definieren
1100,1110	: Multicolor-Modus einschalten
1170-1250	: Partienanfänge einlesen und Tabelle aufstellen
1290-1350	: Auswahlmenü
1390-1660	: Bildschirmaufbau
1730-1910	: Hauptprogramm (normaler Zug)
1950-2410	: Besondere Regeln (Rochade, Dametausch, Matt, Remis...)
2470-2490	: Einzelnes Feld löschen
2530-2580	: Figur drucken
2620	: Koordinaten errechnen
2660-2720	: Zeitschlaufe mit Unterbrechung und Verkürzung
2760-2800	: Grundstellung der Figuren
2840-2850	: Bildschirmpositionierung
2890-2910	: Spielende
10000-	: DATAs für die Partien
Alle REM-Zeilen dienen nur zur Anschaulichkeit und können entfernt werden.	
Tabelle: Programmbeschreibung zum »Schachmeister«	
28

C 64
Anwendung
10 REM ********************************	<060>
20 REM *	>> SCHACHMEISTER <<	*	<098>
30 REM *	*	<079>
40 REM * THOMAS BEHREND	*	<118>
50 REM * IN DER WANNE 16	7900 ULM *	<107>
60 REM *	(8.1984)	♦	<219>
70 REM ********************************	<120>
80 REM 90 REM — ALLE REM-ZEILEN KOENNEN —	<142> <107>
100 REM — WEGBELASSEN WERDEN	<040>
110 REM 120 REM — NEUE ZEICHEN —	<172> <073>
130 REM 140 POKE 53281,6:P0KE 53280,l:PRINT"{CLR}" CHR$(5) 150 DATA 120,169,51,133,1,169,0,133,95,133 ,90,133,88,169,208,133,96,169,240,133 160 DATA 89,169,224,133,91,32,191,163,169, 55,133,1,88,96 170 REM — MC-PROGRAMM —	<192> <114> <105> <172> <106>
180 J=4097:FOR 1=832 TO 865:READ A:J=J-A:P OKE I,A:NEXT 190 IF J<>0 THEN PRINT"DATA-FEHLER IN ZEIL E 15-20":STOP 200 SYS 832:P0KE 850,160:SYS 832:P0KE 5657 6,PEEK(56576)AND 252:P0KE 53272,8 210 POKE 648,192:PRINT"<D0WN>"TAB(5)"> SCH ACHMEISTER <“ 220 PRINT"<2D0WN>"TAB(5)"BITTE EINEN MOMEN T WARTEN..." 230 AD=57344:F0R 1=64 TO 91:B=AD+I*8:F0R J =0 TO 7:READ C:POKE B+J,C:NEXT:NEXT 240 FOR 1=192 TO 219:B=AD+I*8:F0R J=0 TO 7 :READ C:POKE B+J,C:NEXT:NEXT 250 I=175:B=AD+I*8:F0R J=0 TO 7:READ C:POK E B+J,C:NEXT 260 POKE 56,130	<184> <206> <154> <068> <011> <163> <098> <014> <010>
270 REM 280 REM — DATA FUER SCHACHFIGUREN —	<078> <118>
290 REM 300 DATA 0,0,60,60,255,255,60,60	<098> <200>
310 DATA 0,0,0,0,0,0,0,0	<230>
320 DATA 0,0,0,0,60,255,255,255	<136>
330 DATA 255,255,60,60,60,60,60,60	<094>
340 DATA 0,0,3,3,15,10,0,0	<021>
350 DATA 60,255,255,255,255,170,0,0	<050>
360 DATA 0,0,192,192,240,160,0,0	<028>
370 DATA 0,0,3,3,3,3,3,3	<168>
380 DATA 0,0,60,60,60,255,255,255	<243>
390 DATA 0,0,192,192,192,192,192,192	<213>
400 DATA 3,0,0,0,0,0,0,0	<088>
410 DATA 255,60,60,60,60,60,60,60	<097>
420 DATA 255,255,255,255,255,255,255,255	<248>
430 DATA 192,0,0,0,0,0,0,0	<168>
440 DATA 0,0,60,60,240,195,255,255	<092>
450 DATA 255,255,255,255,255,170,0,0	<137>
460 DATA 0,0,0,0,192,192,0,0	<031>
470 DATA 0,0,0,0,0,3,3,15	<061>
480 DATA 0,48,48,63,255,207,207,255	<133>
490 DATA 0,0,0,0,192,192,192,192	<150>
500 DATA 63,63,63,60,0,0,0,3	<201>
510 DATA 255,207,15,63,63,255,255,255	<105>
520 DATA 192,192,0,0,0,0,0,192	<228>
530 DATA 3,3,3,3,15,10,0,0	<077>
540 DATA 192,240,240,240,240,160,0,0	<070>
550 DATA 0,0,12,15,3,3,3,3	<194>
560 DATA 0,0,48,240,192,192,192,192	<250>
570 DATA 0,0,0,0,3,3,0,0	<100>
580 DATA 85,85,125,125,255,255,125,125	<173>
590 DATA 85,85,85,85,85,85,85,85	<166>
600 DATA 85,85,85,85,125,255,255,255	<027>
610 DATA 255,255,125,125,125,125,125,125	<132>
620 DATA 85,85,87,87,95,90,85,85	<104>
630 DATA 125,255,255,255,255,170,85,85	<255>
640 DATA 85,85,213,213,245,165,85,85	<191>
650 DATA 85,85,87,87,87,87,87,87	<192>
660 DATA 85,85,125,125,125,255,255,255	<222>
670 DATA 85,85,213,213,213,213,213,213	<127>
680 DATA 87,85,85,85,85,85,85,85	<032>
690 DATA 255,125,125,125,125,125,125,125	<080>
700 DATA 255,255,255,255,255,255,255,255	<018>
710 DATA 213,85,85,85,85,85,85,85	<078>
720 DATA 85,85,125,125,245,215,255,255	<035>
730 DATA 255,255,255,255,255,170,85,85	<155>
740 DATA 85,85,85,85,213,213,85,85	<227>
750 DATA 85,85,85,85,85,87,87,95	<215>
760 DATA 85,117,117,127,255,223,223,255	<052>
770 DATA 85,85,85,85,213,213,213,213	<059>
780	DATA 127,127,127,125,85,85,85,87	<161>
790	DATA 255,223,95,127,127,255,255,255	<089>
800	DATA 213,^13,85,85,85,85,85,213	<247>
810	DATA 87,87,87,87,95,90,85,85	<073>
820	DATA 213,245,245,245,245,165,85,85	<094>
830	DATA 85,85,93,95,87,87,87,87	<056>
840	DATA 85,85,117,245,213,213,213,213	<011>
850	DATA 85,85,85,85,87,87,85,85	<190>
860	DATA 126,189,215,231,231,215,189,126	<095>
870	REM	<170>
880	REM — VARIABLEN UND FELDER —	<139>
890	REM	<190>
895	DIM A$(12)	<126>
900	B$(1)=”ABAACADEF":REM BAUER	<241>
910	B$(2)="GHIJLMD0F":REM TURM	<103>
920	B$(3)="ANAAKADEF":REM LAEUFER	<078>
930	B$(4)="QRSTUVW0X":REM PFERD	<186>
940	B$(5)="YHZACADEF":REM DAME	<065>
950	B$(6)="E@PJCMDEF":REM KOENIG	<170>
960	FOR 1=1 TO 6sF0R J=0 TO 2:F0R K=1 TO 3	<000>
970	A$=MID$(B$(I),J*3+K,l):A$(I)=A$(I)+CHR $(ASC(A$)+128):NEXT	<062>
980	A$(I)=A$(I)+”<DOWN,3LEFT ?":NEXT:NEXT	<217>
990	DIM B(8,8)	<233>
1000	FOR 1=7 TO 1 STEP-2:F0R J=1 TO 7 STEP	
	2:B(I,J)=1:NEXT:NEXT	<194>
1010	FOR 1=8 TO 2 STEP-2:F0R J=2 TO 8 STEP	
	2:B(I,J)=l:NEXT:NEXT	<241>
1020	DIM A(8,8)	<255>
1030	GOSUB 2760	<026>
1040	Z1$="<RVSON,CYAN,SPACE,RED,13SPACE}"	<146>
1050		<010>
1060	REM	<106>
1070	REM — MULTICOLOR-MODUS —	<226>
1080	REM -- EINSCHALTEN	<043>
1090	REM	<136>
1100	POKE 53281,6:P0KE 53282,7:P0KE 53283, 5	<073>
1110	POKE 53270,PEEK(53270)OR 16	<026>
1120	REM	<166>
1130	REM — LISTE DER PARTIEN —	<020>
1140	REM — AUFSTELLEN	<201>
1150	REM	<196>
1160	DATA-1	<026>
1170	RESTORE:DA=0	<205>
1180	DA=DA+l:READ A:IF A=-1 THEN 1200	<010>
1190	GOTO 1180	<131>
1200	DIM P(20),P$(20),Pl$(20),JA$(20):P=0: D=0	<007>
1210	P=P+l:READ P$(P),Pl$(P),JA$(P):D=D+3	<155>
1220	READ A$:D=D+l:IF A$="E"OR A$="X"THEN 1240	<221>
1230	GOTO 1220	<250>
1240	IF A$="X"THEN 1290	<195>
1250	P(P)=D:GOTO 1210	<031>
1260	REM	<050>
1270	REM — AUSWAHLMENUE —	<005>
1280	REM	<072>
1290	RESTORE:FOR 1=1 TO DA:READ A:NEXT	<013>
1300	PRINT CHR$(5)"<CLR,DOWN,3SPACE>- AUSW AHL	<145>
1310	PRINT:PRINT	<248>
1320	FOR 1=1 TO P:PRINT I;TAB(5)P$(I)TAB(1 6)Plt(I),JA$(I):NEXT	<156>
1330	POKE 198,0:INPUT"<2DOWN>";W:IF W<1 OR	
	W>P THEN 1330	<089>
1340	PRINT"{CLR>":IF W=1 THEN 1390	<041>
1350	FOR 1=1 TO P(W-l):READ A$:NEXT	<075>
1360	REM	<152>
1370	REM — SPIELBRETT —	<045>
1380	REM	<172>
1390	FOR 1=1 TO 24:PRINT CHR$(159)TAB(0)"< RVSON,SPACE}”TAB(25)Z1$:NEXT	<230>
1400	PRINT CHR*(5)"{H0ME}";	<236>
1410	FOR Y=8 TO 1 STEP-l:X=l:GOSUB 2840:PR INT"<D0WN,2LEFT>"Y:X=8:G0SUB 2840	<001>
1420	PRINT"<DOWN,2RIGHT >"Y:NEXT	<240>
1430	FOR Y=8 TO 1 STEP-l:FOR X=1 TO 8	<115>
1440	GOSUB 2470	<166>
1450	NEXT:NEXT	<183>
1460	PRINT"<HOME>"	<170>
1470	REM	<006>
1480	REM — ANFANGSSTELLUNG —	<211>
1490	REM	<026>
1500	FOR Y=7 TO 8:F0R X=1 TO 8	<244>
Listing »Schachmeister«.
Bitte mit dem Checksummer V3 eintippen.
29
Anwendung
C 64
1510	GOSUB 2530:NEXT:NEXT	<153>	2045	IF B$="Z"THEN PRINT TAB(27)"{RVS0N,3S	
1520	FOR Y=1 TO 2:F0R X=1 TO 8:G0SUB 2530:			PACE>0HNE",TAB(67) " <RVS0N,2SPACE>BAUE	
	NEXT:NEXT	<073>		R !":GOTO 1780	<052>
1530	PRINT CHR^(159)"{H0ME>":PRINT TAB(27)		2046	IF B$="V"THEN AW=4:P0KE 214,ll:PRINT:	
	"<RVSON,SPACE>SPIELER 1 "	<120>		PRINT TAB(27)"<RVSON>EN-PASSANT":GOTO	
1540	PRINT TAB(27)"<RVSON,11SPACE,RVOFF >"	<182>		1780	<013>
1550	PRINT TAB(27)"<UP,RVSON,11SPACE }"	<062>	2050	IF B$="D"OR BT="T"OR BT="H"OR B$="L"T	
1560	POKE 214,18:PRINT:PRINT TAB(27)CHR$(3			HEN F$=BI:GOTO 2340	<243>
	0)"<RVSON,SPACE>SPIELER 2 "	<141>	2060	PRINT"<CLR>DATAFEHLER !!•":STOP	<071>
1570	PRINT TAB(27)"<RVSON,11SPACE,RVOFF}"	<212>	2070	REM	<100>
1580	PRINT TAB(27)"<UP,RVSON,11SPACE}"	<092>	2080	REM — AUFGEBEN —	<253>
1590	POKE 214,5:PRINT:PRINT TAB(27)CHR$(5)		2090	REM	<120>
	*’ <RVSON >ZUG: <RVOFF, 2SPACE } 1 "	<249>	2100	A$="<RVSON>SCHWARZ"	<056>
1600	POKE 214,7:PRINT:PRINT TAB(28)CHR$(15		2110	GOTO 2130	<138>
	8)"<RVSON,7SPACE,RVOFF >"	<080>	2120	A$="{RVSON)WEISS"	<252>
1610	POKE 214,9:PRINT:PRINT TAB(27)CHR$(5)		2130	POKE 214,9:PRINT:PRINT TAB(29)A$	<157>
	•' <RVSON, 10SPACE>"	<167>	2140	PRINT TAB(27)"<RVS0N>GIBT AUF !"	<116>
1620	PRINT TAB(27)"{RVSON,10SPACE >”	<157>	2150	GOTO 2890	<227>
1630	PRINT TAB ( 27)”<UP,RVSON,10SPACE >"	<142>	2160	REM	<190>
1640	READ A$:A$=LEFT$(A$,9):P0KE 214,20:PR		2170	REM — KURZE ROCHADE —	<147>
	INT:PRINT TAB(28)"{RVS0N)"A$	<160>	2180	REM	<210>
1650	READ At:A$=LEFT$<A$,9):P0KE 214,2:PRI		2190	Y=1:T=0:IF Z1=1 THEN Y=8:T=6	<035>
	NT:PRINT TAB(28)"{RVS0N)"A$	<227>	2200	A(5,Y)=0:A(8,Y)=0:A(6,Y)=8-T:A(7,Y)=1	
1660	READ A^:POKE 214,15:PRINT:PRINT TAB(2			2-T:X=5:G0SUB 2470:X=8:GOSUB 2470	<154>
	8)At	<082>	2210	X=6:G0SUB 2530:X=7:GOSUB 2530:GOTD 22	
1670	ZU=1:Z1=-1:AW=0	<167>		80	<068>
1680	REM	<218>	2220	REM	<250>
1690	REM ************************	<219>	2230	REM — LANGE ROCHADE —	<213>
1700	REM *	— HAUPTPROGRAMM — *	<200>	2240	REM	<014>
1710	REM ************************	<239>	2250	Y=1:T=0:IF Z1=1 THEN Y=8:T=6	<095>
1720	REM	<002>	2260	A(l,Y)=0:A(5,Y)=0:A(3,Y)=12-T:A(4,Y)=	
1730	PRINT"{HOME>":Zl=Zl+l:IF Zl=2 THEN Z1			8-T	<008>
	=0:ZU=ZU+l:POKE 214,5:PRINT:PRINT TAB		2270	X=l:GOSUB 2470:X=5:GDSUB 2470:X=3:GOS	
	(32)CHR$(5)ZU	<174>		UB 2530:X=4:GOSUB 2530	<071>
1740	READ A$:IF LEN(A$)<>4 THEN 1950	<024>	2280	POKE 214,ll:PRINT:PRINT TAB(29)CHR$(5	
1750	REM	<032>		)"<RVSON>ROCHADE"	<044>
1760	REM — NORMALER ZUG —	<067>	2290	GOSUB 2660	<254>
1770	REM	<052>	2300	POKE 214,ll:PRINT:PRINT TAB(29)"<RVS0	
1780	B$=LEFT$(A$,2):G0SUB 2620:X=X2:Y=Y2	< 111 >		N,7SPACE>":G0T0 1730	<092>
1790	B2$=B$	<222>	2301	REM	<075>
1800	B$=RIGHT$(A$,2):GOSUB 2620	<104>	2302	REM — EN-PASSANT —	<198>
1810	O$="-":IF A(X2,Y2)<>0 THEN 0$="/"	<224>	2303	REM	<077>
1820	A$=B2$+0$+B$	<054>	2304	IF Al=7 THEN Y=Y-1	<230>
1830	POKE 214,7:PRINT:PRINT TAB(29)CHR$(5)		2305	IF A1=1 THEN Y=Y+1	<094>
	"{RVSON)"At	<201>	2306	A(X,Y)=0:GOSUB 2470:RETURN	<153>
1840	FOR 1=1 TO 4:G0SUB 2530:GOSUB 2470:NE		2310	REM	<086>
	XT	<095>	2320	REM — TAUSCH AUF DER GRUNDLINIE —	<025>
1850	A1=A(X,Y):A(X,Y)=0:A(X2,Y2)=A1	<062>	2330	REM	<106>
1860	X=X2:Y=Y2:F0R 1=1 TO 4:G0SUB 2470:GOS		2340	AW=3:G0SUB 1780	<218>
	UB 2530:NEXT	<139>	2350	IF(Y2=8)AND(FT="D")THEN A(X 2,8)=11	<041>
1865	IF AW=4 THEN GOSUB 2304:AW=1	<017>	2351	IF(Y2=1)AND(F$="D")THEN A(X2,1)=5	<172>
1870	IF AW=3 THEN AW=0:RETURN	<172>	2352	IF(Y2=8)AND(F$="T")THEN A(X2,8)=8	<088>
1880	IF AW=2 THEN 2890:REM-MATT ODER REMIS		2353	IF(Y2=l)AND(F$="T")THEN A(X2,l)=2	<158>
	—	<033>	2354	IF(Y2=8)AND(F$="H")THEN A(X2,8)=10	<031>
1890	GOSUB 2660	<108>	2355	IF(Y2=1)AND(F$="H")THEN A(X2,1)=4	<170>
1900	IF AW=1 THEN AW=0:POKE 214,ll=PRINT:P		2356	IF(Y2=8)AND(F$="L")THEN A(X2,8)=9	<096>
	RINT TAB(27)"<RVSON,10SPACE}"	<176>	2357	IF(Y2=1)AND(F$="L")THEN A(X2,1)=3	<166>
1910	GOTO 1730	<024>	2370	X=X2:Y=Y2:G0SUB 2530	<128>
1920	REM	<204>	2380	POKE 214,10:PRINT:PRINT TAB(28)CHRT(5	
1930	REM — BESONDERE SITUATIONEN —	<113>		) ?	<019>
1940	REM	<224>	2381	IF F$="D"THEN PRINT"<RVSON>DAME-"	<175>
1950	IF A$="E"THEN 2890	<057>	2382	IF FT="T"THEN PRINT"<RVSON>TURM-"	<074>
1960	IF A$="SA"THEN 2100	<144>	2383	IF F$="H"THEN PRINT"<RVSON>SPRINGER-"	<051>
1970	IF A$="WA"THEN 2120	<220>	2384	IF F$="L"THEN PRINT"<RVSON>LAEUFER-"	<042>
1980	IF A$="KR"THEN 2190	<210>	2390	PRINT TAB(28)"<RVSDN>TAUSCH"	<153>
1990	IF A^="LR"THEN 2250	<236>	2400	GOSUB 2660:POKE 214,010:PRINT:PRINT T	
2000	PRINT CHR$(5)	<244>		AB(28)"<RVSON,9SPACE}":GOTO 1730	<077>
2010	B$=RIGHT$(AT,1):A$=LEFT$(A$,4)	<166>	2410	PRINT TAB(28)"<RVSON,4SPACE >":GOTO 17	
2020	IF BT="S"THEN AW=l:POKE 214,ll:PRINT:			30	<235>
	PRINT TAB(27)"{RVS0N)SCHACH !":GOTO 1		2420	REM ****** UNTERPROGRAMME ******	<081>
	780	<207>	2430	REM	<206>
2030	IF BT="M"THEN AW=2:P0KE 214,ll:PRINT:		2440	REM — EINZELNE FELDER —	<160>
	PRINT TAB(27)"<RVS0N,SPACEIMATT !":GO		2450	REM — DRUCKEN	<186>
	TO 1780	<115>	2460	REM	<236>
2040	IF BT="R"THEN AW=2:P0KE 214,ll:PRINT:		2470	IF B(X,Y)=1 THEN 2490	<218>
	PRINT TAB(27)"<RVS0N,SPACE>REMIS !":G		2480	GOSUB 2840:POKE 646,15:PRINT"{RVS0N)fl	
	OTO 1780	<122>		flfl{DOWN,3LEFT>flfla<D0WN,3LEFT>fifia":RET	
2041	IF B$="P"THEN AW=2:P0KE 214,ll:PRINT:			URN	<203>
	PRINT TAB(27)"<RVS0N,SPACE>PATT !":GO		2490	GOSUB 2840:PRINT"<3SPACE,DOWN,3LEFT,3	
	TO 1780	<003>		SPACE,DOWN,3LEFT,3SPACE >":RETURN	<137>
2042	IF BT="W"THEN AW=2:P0KE 214,9:PRINT:P		2500	REM	<020>
	RINT TAB(27)"<RVS0N>DRITTE MAL"	<120>	2510	REM — FIGUR DRUCKEN —	<063>
2043	IF BT="W"THEN PRINT TAB(27)"<RVS0N>GL		2520	REM	<040>
	EICHE",TAB(67) "{RVSON)STELLUNG ! ":GOT		2530	F=A(X,Y)	<146>
	0 1780	<199>	2540	GOSUB 2840	<218>
2044	IF B$="Z"THEN AW=2:P0KE 214,9:PRINT:P		2550	POKE 646,9:IF F>6 AND B(X,Y)=0 THENsP	
	RINT TAB(27)"{RVSON,SPACE>50 ZUEGE"	<015>		RINT"<RVSON)"A#(F-6)"<UP>":RETURN	<072>
30

C 64
Anwendung
2560	IF F>6 AND B(X,Y)=1 THENsPRINT"<RVOFF	
	}”A$(F-6)”<UP >";RETURN	<239>
2570	POKE 646,8;IF B(X,Y)=1 THEN PRINT"{RV	
	OFF } '* A$ (F) ” <UP > " s RETURN	<099>
2580	PRINT"<RVSON >”A$(F)”{UP}M8 RETURN	<001>
2590	REM	<112>
2600	REM — UMRECHNEN —	<055>
2610	REM	<132>
2620	B1$=LEFT$(B$,1):X2=ASC(B1$)-64 s Y2=VAL	
	(RIGHT$(B$,1)):RETURN	<224>
2630	REM	<152>
2640	REM -- ZEITSCHLAUFE —	<029>
2650	REM	<172>
2660	POKE 198,0:FOR T=1 TO 250sIF PEEK(197	
	)<>64 THEN 2680	<002>
2670	NEXT:RETURN	<069>
2680	IF PEEK(197)=3 THEN 2700	<037>
2690	RETURN	<208>
2700	IF PEEK(197)<>64 THEN 2700	<106>
2710	IF PEEK(197)=64 THEN 2710	<219>
2720	RETURN	<238>
2730	REM	<252>
2740	REM — GRUNDSTELLUNG —	<191>
2750	REM	<016>
2760	A(l,l)=8:A(2,l)=10:A(3,l)=9sA(4,l)=ll	
	:A(5,l)=12:A(6,l)==9	<204>
2770	A(7,l)=10:A(8,l)=B	<244>
2780	FOR 1=1 TO 8:A(I,8)=A(I,l)-6sNEXT	<123>
2790	FOR X=1 TO 8:A(X,2)=7:A(X,7)=lsNEXT	<141>
2800	RETURN	<062>
2810	REM	<076>
2820	REM — BILDSCHIRMPOSITION —	<116>
2830	REM	<098>
2840	IF Y=8 THEN PRINT"{H0ME)"TAB((X-l)*3+	
	1);:RETURN	<093>
2850	Xl=(X-l)*3+l:Yl=(8-Y)*3-lsP0KE 214,Y1	
	:PRINT:PRINT TAB(Xl);:RETURN	<010>
2860	REM	<128>
2870	REM -- SPIELENDE 		<069>
2880	REM	<148>
2890	POKE 198,0:FOR 1=1 TO 10000:IF PEEK(1	
	97)=64 THEN NEXT	<204>
2900	FOR 1=1 TO 8sF0R J=1 TO 8:A(I,J)=0sNE	
	XT:NEXT	<252>
2910	GOSUB 2760sGOTO 1290	<028>
10000	REM	<156>
10010	i REM	 DATA FUER DIE 		<233>
10020	REM	 PARTIEN			<009>
10030	REM	<186>
10040	REM ** DEMO-PARTIE 1 **	<250>
10050	DATA SIFF,KASHDAN,1948	<224>
10060	DATA D2D4,G8F6,C2C4,E7E6,B1C3,F8B4,D	
	1C2,D7D5,A2A3,B4E7,C4D5,E6D5,C1F4,C7	
	C6	<049>
10070	DATA H2H3,KR,E2E3,F8E8,F1D3,B8D7,G1F	
	3,D7F8,F3E5,E7D6,KR,F8E6,F4H2,G7G6	<113>
10080	DATA E5F3,E6G7,H2D6,D8D6,F1C1,C8F5,F	
	3D2,E8E7,B2B4,A8E8,A1B1,F5H3,G2H3,E7	
	E3	<079>
10090	DATA D3F1,G7F5,F2E3,D6G3S,F1G2,G3E3S	
	,G1H1,F5G3S,H1H2,E3F4,D2F3,E8E2,C3E2	<224>
10100	DATA G3E2S,H2H1,F6H5,C2D2,H5G3S,H1H2	
	,G3F1S,H2H1,F4H2S,F3H2,F1G3M	<041>
10110	DATA E	<004>
10120	REM ** DEMO-PARTIE 2 *♦	<075>
10130	DATA GELLER,EUWE,1953	<082>
10140	DATA D2D4,G8F6,C2C4,E7E6,B1C3,F8B4,E	
	2E3,C7C5,A2A3,B4C3,B2C3,B7B6,F1D3,C8	
	B7	<240>
10150	DATA F2F3,B8C6,G1E2,KR,KR,C6A5,E3E4,	
	F6E8,E2G3,C5D4,C3D4,A8C8,F3F4,A5C4	<140>
10160	DATA F4F5,F7F6,F1F4,B6B5,F4H4,D8B6,E	
	4E5,C4E5,F5E6,E5D3,D1D3,B6E6,D3H7S	<195>
10170	DATA G8F7,ClH6,F8H8,H7H8,C8C2,AlCl,C	
	2G2S,GlFl,E6B3,FlEl,B3F3,WA	<128>
10180	DATA E	<074>
10190	REM ** DEMO-PARTIE 3 **	<146>
10200	DATA ROSSETTO,STAHLBERG,1947	<097>
10210	DATA E2E4,E7E6,D2D4,D7D5,B1C3,G8F6,C	
	1G5,F8E7,E4E5,F6D7,H2H4,C7C5,C3B5,F7	
	F6	<255>
10220	DATA F1D-3, A7A6, D1H5S, E8F8 , H1H3 , A6B5,	
	G5H6,D8A5S,H6D2,A5C7,H3G3,C5D4,G1F3	<249>
10230	DATA D7E5,G3G7,H7H6,D3H7,F8G7,H5H6S,	
	G7F7,H6H5S,F7G7R	<094>
10240	DATA X	<032>
© 64'er	Listing »Schachmeister«. (Schluß)		
Alle Neune
Jeder Kegelverein macht mit viel Aufwand die statistische Auswertung der Kegelresultate. Mit dem Programm »Jahresauswertung« für den Commodore 64 bleibt Ihnen die Rechnerei erspart.
Das Programm »Jahresauswertung« stellt für jeden Teilnehmer eines Kegelvereins die Kegelergebnisse in einer Tabelle zusammen. Natürlich läßt sich die »Jahresauswertung« auch für Vereine mit ähnlicher Problematik anwenden, zum Beispiel Bowling-Gruppen, Schützenvereine oder Minigolf-Clubs. Die »ehrenvolle« Aufgabe der statistischen Auswertung aller Einzelergebnisse ist meist sehr mühsam. Was liegt da näher, als hierzu Hobby und notwendiges Übel miteinander zu verbinden und den Commodore arbeiten zu lassen. Neben der Zeitersparnis bei der Auswertung liegt für jedes Mitglied ein sauber gedrucktes Dokumentvor (Bild 1), das zum Beispiel bei der Abschlußfeier überreicht werden kann.
Da die Ausdrücke beim Kegeln regional verschieden sind, hier einige Erklärungen dazu. Beim »Bilder-Kegeln« werden bestimmte Kegel-Konfigurationen aufgestellt, die mit einem Schub abzuräumen sind. »Pudel« oder »Ratten« heißen die Kugeln, die vorzeitig aus der Bahn und gegen die Bande laufen. »Stier« oder »Straße« sagt man, wenn der vordere Kegel, der König und der hintere Kegel bei einem Schub fallen.
Wollen Sie für Ihren Verein die Spalten anders benennen, so ändern Sie die Zeilen 1070 bis 1110. Sind Ihre Namen länger oder kürzer als die ursprünglichen, müssen Sie auch die Leerstellen zwischen den Wörtern berücksichtigen. Achten Sie darauf, daß die Namen teilweise über zwei Zeilen gehen. Also programmieren Sie erst die obere Reihe und im nächsten Schritt den unteren Teil.
Die wichtigsten Variablen
Zeile 230:	N	Anzahl der Spalten
Zeile 230:	M	Anzahl der Kegeläbende
Zeile 250:	A	Anzahl der Anwesenheitstage
Zeile 270:	K$	Name des Keglers
Zeile 340:	U	Eingabewert für die Tabelle
Zeile 370:	D$	Datum des Kegelabends
Zeile 770:	S	Summe der Spalte
Zeile 790:	V	Durchschnitt der Spalte 1
Zeile 800:	B	Durchschnitt der Spalte 2
	I	Zähler für Anzahl der Kegelabende
	J	Zähler für Anzahl der Spalten
Feste Programmeinträge: Kalenderjahr: Zeilen 1510, 1700; Anzahl der Kegelabende: Zeilen 1520, 1770, 1810; DATA-Eintragungen der Abende: Zeilen 1770 bis 1810.
Gerätespezifische Angaben: Zeile 220: Bildschirmfarben; Zeile 1180: Kontrollton nach Abschluß der Eingaben eines Tages. Die Druckanweisungen gelten für Commodore-Drucker und müssen für andere Fabrikate gegebenenfalls entsprechend geändert werden.
(Jürgen Schäfer/ev)

31
Anwendung
C 64
100	REM *********************************	<231>	800	IF J=2 THEN B=INT(S/A+.5)	<078>
110	REM	<172>	810	PRINT#4,S;	<045>
120	REM J A H R E S A U S W E R T U N G	<008>	830	IFS>99 AND S<999 THEN GOTO 890	<120>
130	REM	<192>	840	IF S<100 AND S>9 THEN GOTO 920	<193>
140	REM (C)JUERGEN SCHAEFER , 1984	<082>	850	GOTO 950	<160>
150	REM	<212>	890	PRINT#4,"<5SPACE}”;	<174>
160	REM 8000 M U E N C H E N 70	<022>	900	NEXT J	<230>
170	REM	<232>	910	GOTO 970	<252>
180	REM	TEL.089-7601642	<147>	920	PRINT#4,"<6SPACE}" ;	<204>
190	REM	<252>	930	NEXT J	<004>
200	REM ********************************	<250>	940	GOTO 970	<026>
210	PRINT”<CLR>"	<198>	950	PRINT#4,"<7SPACE}";	<234>
220	POKE 53281,0:POKE 53280,0:POKE 646,1	<161>	960	NEXT J	<034>
225	REM	EINGABE ROUTINE			970	U(M+l,J)=S	<241>
		< 106 >	980	PRINT#4	<221>
230	N=7:M=24	<180>	990	PRINT#4:PRINT#4,”JAHRES-DURCHSCHNITT B	
240	PRINT"ANZAHL DER ANWESENHEITSTAGE IN 1			EI 10X IN DIE VOLLEN :";CHR$(14);V;	<073>
	984":PRINT	<124>	1000	PRINT#4:PRINT#4,"JAHRES-DURSCHNITT BE	
250	INPUT A	<026>		IM BILDER-KEGELN <6SPACE}:";CHR$(14);B	<060>
260	IF A>M THEN PRINT"{CLRI":GOTO 240	<092>	1010	CLOSE 4	<027>
270	PRINT:PRINT"GEBEN SIE DEN NAMEN DES KE		1020	GOSUB 1620	<118>
	GLERS EIN !":PRINT :INPUT K#	<223>	1030	END	<016>
280	PRINT"<CLR>"	<014>	1040	REM	TABELLENKOPF		
290	PRINT"GEBEN SIE DIE EINZELWERTE DER SP			—	<022>
	ALTEN":PRINT	<210>	1050	OPEN 4,4	<137>
300	PRINT"IN FOLGENDER REIHENFOLGE EIN :"	<238>	1060	PRINT#4,"KEGEL- ";" ";	<113>
310	FOR T=1 TO 2000	<195>	1070	PRINT#4,"10 SCHUB ";" ";" SUMME "; "<	
320	NEXT T	<238>		3SPACE>";" PUDEL";	<228>
330	GOSUB 1160	<240>	1080	PRINT#4,"<4SPACE>";"STIERE";"<5SPACE>	
340	DIM U(M+1,N+1)	<020>		";"ALLE ";"{4SPACE)";"KRANZ";"<4SPACE	
350	FOR 1=1 TO M	<208>		>";"SCHNAPS"	<179>
360	GOSUB 1160	<014>	1090	PRINT#4,"ABEND{2SPACE}";" ";	<227>
370	READ D$	<246>	1100	PRINT#4,"I.D.V0LL.":" ";" BILDER ";"<	
380	PRINT	<228>		2SPACE>";"(RATTEN)";	<141>
390	PRINT D$	<082>	1110	PRINT#4,"<2SPACE}";"<4SPACE>";"<7SPAC	
400	PRINT"========" ; PRINT	<211>		E)";"NEUN ";"<4SPACE)";"<5SPACE}";"<4	
410	FOR J=1 TO N	<149>		SPACE>";"RUNDEN:"	<248>
430	PRINT J;".SPALTE ";	<158>	1120	PR I NT#4, " VVVVYVYVVYVYVVYVYYVVVYYYYYYY	
440	INPUT U(I,J):U$=STR$(U(I,J))	<082>		YYYYWW";	<168>
442	IF LEN(U$)>4 THEN 445	<018>	1130	PR I NT#4, " VYYYYYYYVYYYV¥V¥YYVVYYYYYVYY	
444	GOTO 450	<222>		VYYYYYYVYY"	<014>
445	PRINT: PRINT"BITTE NUR ZAHLEN BIS MAX.		1140	CLOSE 4	<159>
	999 EINGEBEN !"	<039>	1150	RETURN	<192>
446	PRINT"EINGABEWIEDERHOLUNG":PRINT :GOTO		1160	REM	TON		
	440	<100>		—	<091>
450	NEXT J	<032>	1170	PRINT	<000>
460	NEXT I	<034>	1180	POKE 54273,23:P0KE 54272,181	<137>
470	RESTORE	<010>	1190	POKE 54296,15	<009>
475	REM	HARDCOPY AUSDRUCK			1200	POKE 54277,9	<078>
				<164>	1210	POKE 54278,0	<199>
480	PRINT:INPUT"IST DER DRUCKER EINGESCHAL		1220	POKE 54276,33	<162>
	TET (J)";P$	<211>	1230	FOR T=1 TO 500:NEXT T	<099>
490	IF P$<>"J" THEN 480	<039>	1240	POKE 54276,32	<178>
500	PRINT:PRINT"ES WIRD AUSGEDRUCKT"	<016>	1250	POKE 54273,0	<108>
520	GOSUB 1350	<176>	1260	PRINT"<CLR>"	<232>
530	GOSUB 1040	<106>	1265	PRINT"SPALTENBELEGUNG:"	<032>
540	OPEN 4,4	< 135 >	1266	PR I NT " YYYYYYYYYYYYYYYY"	<135>
550	REM	TABELLE ERZEUGEN			1270	PRINT"1. 10 SCHUB IN DIE VOLLEN"	<228>
	—	<128>	1280	PRINT"2. SUMME BILDERKEGELN "	<125>
560	FOR 1=1 TO M	<164>	1290	PRINT"3. PUDEL (RATTEN)"	<163>
570	READ D$	<192>	1300	PRINT"4. STIERE(STRASSE)"	<063>
580	PRINT#4,D$;"{2SPACE>";	<141>	1310	PRINT"5. ALLE NEUN"	<012>
590	FOR J=1 TO N	<075>	1320	PRINT"6. KRANZ"	<035>
600	X=U(I,J)	<176>	1330	PRINT"7. SCHNAPSRUNDEN":PRINT:PRINT	<014>
610	IF X>99 THEN PRINT#4,X;:G0T0 640	<054>	1340	RETURN	<128>
620	IF X <100 AND X>=9 THEN PRINT#4,X;:G0		1350	REM	FORMULARKOPF		
	TO 650	<194>		—	<141>
630	IF X <10 THEN PRINT#4,X;:G0T0 660	<041>	1360	OPEN 4,4	<193>
640	PRINT#4,	"<5SPACE>";:GOTO 670	<147>	1370	PRINT#4,”****************************	
650	PRINT#4,	"<6SPACE}";:GOTO 670	<157>		************";	<131>
660	PRINT#4,	"<7SPACE >";sGOTO 670	<167>	1380	PRINT#4,"****************************	
670	NEXT J	<254>		************ " ; PR I NT#4: PR I NT#4	<252>
680	PRINT#4	<175>	1390	PRINT#4,CHR$(16)" 2";CHR^(14) CHR$(14	
690	NEXT I	<010>		)"JAHRESAUSWERTUNG FUER 1984<2SPACE>"	
700	PR I NT#4, " YYYYYYYYYYYYYYVYYYYYYYYYYYYYY				<032>
	YYYYYFYY"j	<065>	1400	PRINT#4:PRINT#4	<072>
710	PR I NT#4, " YYYYYYYYYVYYYYYYYYYYYYYYYYYYY		1410	PR I NT#4, " TOUUUTT0Tfi7UUUU^	
	YVYYYVYY"	<152>		TOÜÜTOÜÜTOTO";	<166>
720	REM	SUMME PRO SPALTE BIL		1420	PR I NT#4 , " ÜUWUUVÜBWAJ^WWdW^Wd	
	DEN		<150>		OTiJUnWunU"	<019>
730	PRINT#4,"SUMME:<3SPACE>";	<187>	1430	PRINT#4,"KEGELCLUB ALLE NEUN ";	<031>
740	FOR J=1 TO N	<225>	1440	PRINT#4,CHR$(16)"62";"17.DEZEMBER 198	
750	S=0	<215>		4"	<117>
760	FOR 1=1 TO M	<108>	1450	PRINT#4	<183>
770	S=S+U(I,J)	<240>	1460	PRINT#4,"DIE FOLGENDE TABELLE ZEIGT D	
780	NEXT I	<102>		IE PERSOENLICHEN LEISTUNGEN UNSERES "	
790	IF J=1 THEN V=INT(S/A+.5)	<162>		5	<126>
C 64
Anwendung
1470	PRINT#4,"KEGELBRUDERS :"	<204>	1660	PRINT#4:PRINT#4,"IM NAMEN DER GANZEN	
1480	PRINT#4	<213>		KEGELGRUPPE WUENSCHEN DER COMPUTER ";	<238>
1490	PRINT#4:PRINT#4,CHR$(16)"25" CHRf(14)		1670	PRINT#4,"UND DER VORSTAND IHNEN, "	<070>
	;K$	<025>	1680	PRINT#4	<159>
1500	PRINT#4	<233>	1690	PRINT#4,"LIEBER HERR ";K$;",";	<243>
1510	PRINT#4:PRINT#4,"WAEHREND DES ABGELAU		1700	PRINT#4,CHR$(14)"{3SPACEJGUT HOLZ FUE	
	FENEN JAHRES 1984."	<211>		R 1985 !"	<111>
1520	PRINT#4,"IN DIESEM JAHR HATTEN WIR IN		1710	PRINT#4	<189>
	SGESAMT 24 KEGELABENDE.";	<035>	1730	PRINT#4	<209>
1530	PRINT#4,"SIE HABEN";A;"MAL TEILGENOMM		1740	PRINT#4,"****************************	
	EN"	<007>		************"5	<247>
1540	PRINT#4,"UND ERREICHTEN DAMIT ";INT(A		1750	PRINT#4,"****************************	
	/24 *100);" XC2SPACE>DER MAX. MOEGLIC			************“ :PRINT#4:PRINT#4	<112>
	HEN ";	<248>	1760	CLOSE 4	<015>
1550	PRINT#4,"ANWESENHEITSZEIT •"	<216>	1765	REM	DATEN DER KEGELABEND	
1560	PRINT#4	<039>		E		<044>
1570	PRINT#4,"I H R E<2SPACE>P E R S 0 E N		1770	DATA " 2.JAN.","16.JAN.","30.JAN.","1	
	L I C H E N<2SPACE>E R G E B N I S S			3.FEB.","27.FEB."	<138>
	E<2SPACE>s"	<080>	1780	DATA "12.MAR.","26.MAR."," 9.APR.","	
1580	PRINT#4,"============================			7.MAI ","21.MAI "	<240>
		<045>	1790	DATA " 4.JUN.","18.JUN>"," 2.JUL.","1	
1590	PRINT#4 sPRINT#4	<008>		6.JUL.","30.JUL."	<004>
1600	CLOSE 4	< 111 >	1800	DATA "13.AUG.","27.AUG.","10.SEP.","2	
1610	RETURN	<144>		4.SEP."," 8.0KT."	<217>
1620	REM	SCHLUSSFORMEL			1810	DATA "22.OKT."," 5.NOV.","19.NOV.","	
	—	<181>		3.DEZ."	<042>
1630	OPEN 4,4	<209>			
1640	PR I NT#4: PR I NT#4, " ÜÜÜWÜWÜUUUUUUUUW		© 64	'ef	
1650	WDUUDUUWMJUTO''j	<062>	Listing zur »Jahresauswertung«. Bitte mit dem		
	WWÜWWW"	<251>	Checksummer V3 auf Seite 16 eingeben.		
								
^J M M R E		=Z S « LJ S	S L*JEZ R	T"U hslO F		- LJ	EZ R	X G S 4	
KEGELCLUB ALLE		NEUN					17	.DEZEMBER 1984
DIE FOLGENDE TABELLE ZEIGT			DIE PERSOENLICHEN		LEISTUNGEN UNSERES			KEGELBRUDERS 1
		PETER MUEL			LER			
WAEHREhD	DES ABGELAUFENEN JAHRES 1984.							
IN DIESEM JAHR		HATTEN WIR INSGESAMT 24		' KEGELABENDE.SIE		HABEN 19		MAL TEILGENOMMEN
UND ERREICHTEN		DAMIT 78	*	: DER MAX.	MOEGLICHEN ANWESENHEITSZEIT I				
I H R E	P E R	S 0 E N L I	C H E N E	R G E B	N I S S	E x		
K 2 2 2 2 2 2 2	sssaaat	:sa>a>aassnBB	aaaaaaassBsaaaaaaa			S8EB		
KEGEL-	10 SCHUB SUMME		PUDEL	STIERE	ALLE	KRANZ		SCHNAPS
ABEND	I.D.VOLL. BILDER		(RATTEN)		NEUN			RUNDENS
2.JAN.	59	98	0	0	0		0	0
16.JAN.	51	78	3	1	1		0	0
30.JAN.	54	112	1	0	1		1	1
13.FEB.	48	114	1	0	0		1	0
27.FEB.	51	108	2	1	0		0	1
18.MAR.	54	123	0	0	1		0	1
26.MAR.	0	0	0	U	0		0	0
9.APR.	0	0	0	0	0		0	0
7.MAI	56	98	0	1	1		0	0
21.MAI	51	114	1	0	0		1	0
4.JUN.	0	0	0	0	0		0	0
18.JUN.	52	118	1	0	0		1	0
,2.JUL.	55	124	1	0	1		1	1
16.JUL.	58	91	0	1	3		0	1
30.JUL.	45	99	1	2	0		0	0
13.AUG.	0	0	0	0	0		0	0
27.AUG.	49	101	0	0	1		0	1
10.SEP.	46	109	1	1	0		0	0
24.SEP.	51	112	1	1	0		1	1
8.OKT.	59	117	0	0	2		0	1
22.0KT.	0	0	0	0	0		0	0
5.N0V.	61	132	0	0	0		0	0
19.N0V.	53	137	2	0	0		1	0
3.DEZ.	50	98	1	0	0		0	1
SUMME«	1003	2083	16		8	1 1		7	9
JAHRES-DURCHSCHNITT BEI 10X			IN DIE VOLLEN t		S3			
JAHRES-DURSCHNlTT BEIM BILDER-KEGELN				:	1 1 0			
IM NAMEN	DER GANZEN KEGELGRUPPE WUENSCHEN DER				COMPUTER	UND	DER VORSTAND IHNEN,	
LIEBER HERR PETER MUELLER,			GUT"	MOL	.Z FUER		1 985	•	
***********t******t*************************t*t********#**********t*****t*******								
		Bild 1. Beispielausdruck einer Auswertung						
33
Anwendung
C 64 + Simons Basic
Weißt Du wieviel Sternlein stehen ...
Der C 64 als elektronische Sternenkarte bringt Klarheit ins Dunkel der Nacht. Das Programm zeigt Ihnen, wo Planeten und Sternbilder am Nachthimmel exakt stehen.
Das Programm entstand aus dem Bedürfnis, den Standort von Sternen, Sternbildern und Planeten zu ermitteln. Vor allem die Planeten lassen sich so ohne weiteres mit dem bloßen Auge, nicht erkennen. Man kann sie nur identifizieren, wenn man genaue Informationen über ihren jeweiligen Standort hat. Deshalb wurde die Berechnung der Planetenbahnen, der Bahn der Sonne und der des Mondes in das Programm aufgenommen. Das Programm erstellt eine Sternenkarte für einen eingegebenen Standort zum gewünschten Beobachtungszeitpunkt.
Die Sternenkarte enthält die hellsten und bekanntesten Fixsterne beziehungsweise Sternbilder des nördlichen Sternenhimmels.
Sehr interessant ist es, neben der Ausgabe der Sternenkarte für eigene Beobachtungen, sich die Sternenkarte für jeden Punkt der Erde zeichnen zu lassen.
So kann man sich zum Beispiel in Gedanken auf den Nordpol versetzen. Der Polarstern (Polaris) steht im Zenit, also genau über dem Beobachter. Gibt man als Beobachtungszeitpunkt den 21. März(Frühlingsanfangfürdie Nordhalbkugel) ein, kann man feststellen, daß die Sonne den ganzen Tag über scheint.
Am Nordpol hat der Tag begonnen. Die Sonne scheint nun ein halbes Jahr ohne Unterbrechung. Erst zum Herbstanfang geht sie wieder unter. Es ist dann für ein halbes Jahr Nacht. Auch die Verhältnisse am Äquator (Breite 0 °) sind sehr interes-
Hardcopy des Sternenhimmels von Hamm (zirka 52° nördliche Breite und 8° östliche Länge), wobei der Beobachtungszeitpunkt der 7. Februar 1985,19.30 GMT (Weltzeit) beziehungsweise 20.30 MEZ (Ortszeit) ist. Wie bei Sternkarten üblich, ist Osten links, Westen rechts, Norden oben und Süden unten. Der Mond steht tief im Osten.
Nach dem Start des Programms werden zunächst das aktuelle Datum söwie die aktuelle Uhrzeit (MEZ) und die geografischen Koordinaten des Beobachtungsortes eingegeben. Dabei müssen nördliche Bfeiten und westliche Längen positiv, südliche Breiten und östliche Längen negativ angegeben werden. Nun kann man den Beobachtungszeitpunkt wählen, wenn sich dieser vom bereits im Programm festgelegten Zeitpunkt unterscheidet.
Es folgt eine kurze Erläuterung des Programmablaufs und das Zeichnen der Sternkarte. Mit den Cursor-Tasten kann über ein Kreuz jedes Objekt der Sternkarte angesteuert werden. Die Bewegungsgeschwindigkeit ist abhängig von der Dauer des Tastendrucks; das heißt je länger eine Cursortaste gedrückt wird, desto schneller bewegt sich das Kreuz. Drückt man nach der Wahl die Funktionstaste F1, gibt der Computer den Namen des Sterns oder Planeten, der dem Kreuz am nächsten ist, an. Dabei wird der Cursor genau auf das Objekt positioniert. Möchte man wissen, um welches Sternbild es sich bei einer bestimmten Konstellation handelt, bringt man das Kreuz auf das betreffende Sternbild und drückt die Funktionstaste F3. Der Computer positioniert den Cursor auf den nächsten Stern des Sternbildes und zeigt den Namen des Sternes und des Sternbildes an. Das gesamte Sternbild blinkt. Es besteht auch die Möglichkeit, einen Stern, ein Sternbild oder einen Planeten nach dem Namen suchen zu lassen. Dazu gibt man einfach mit der Tastatur den Namen oder einen Teil des Namens des gesuchten Objekts ein und schließt die Eingabe mit der RETURN-Taste ab. Der Computer positioniert das Kreuz auf dieses Objekt und gibt den vollständigen Namen aus. Ist das gesuchte Objekt nicht gespeichert oder zum Beobachtungszeitpunkt am Beobachtungsort nicht zu sehen, erhält man eine entsprechende Fehlermeldung.
Will man die Sternkarte für einen anderen Beobachtungsort oder einen anderen Beobachtungszeitpunkt erstellen lassen, drückt man die Funktionstaste F7.
Mit F5 wird die Sternkarte auf einen MPS 801 gedruckt.
Programmerläuterung
Auf die Formeln, die den Berechnungen zugrunde liegen, soll verzichtet werden. Diese Berechnungen sind (zumindest für Mond- und Planetenpositionen) ziemlich kompliziert und können bei Interesse jedem größeren Werk über Astronomie entnommen werden.
Von programmtechnischem Interesse dürften allerdings die Suchroutinen sein. Deren Funktionsweise soll deshalb erläutert werden.
Zum Suchen werden die folgenden Arrays verwendet:
P$	Namen der Planeten
Z$	Namen der Sternbilder
P	Bildschirmkoordinaten der Planeten
Z%	Bildschirmkoordinaten der Fixsterne
Z	Zeiger auf Fixsterne
(für jedes Sternbild)
Suchen Fixstern/Planet (Funktionstaste F1)
Zunächst werden die Bildschirmkoordinaten des Kreuzes (X,Y) mit denen der Planeten (X mit P(0), P(2), ..., Y mit P(1), P(3), ...) verglichen. Bei Übereinstimmung ist XX=0 und die Suche kann abgebrochen werden. In Zeile 42090 verzweigt das Programm nach 45000, wo der Name des Planeten geschrieben wird. Liegt keine Übereinstimmung vor, wird der Planet mit dem geringsten Abstand gespeichert (XP = Abstand2, ZP = Kennziffer des Planeten). Nun werden die Fixsterne in gleicher Weise überprüft. Der Stern mit dem geringsten Abstand wird gespeichert (Z = Kennziffer des Sterns; Zeile 44020). Wird kein Stern mit geringerem Abstand als der nächste Planet gefunden, wird der gespeicherte Planet genannt (Zeilen 44070 bis 45010). Dabei wird ab der Zeile 500 das Kreuz exakt auf den Planeten beziehungsweise Stern positioniert und dessen Bezeichnungen ausgegeben. Der Name eines Planeten ergibt sich aus dem Array P$ mit -
34

C 64 + Simons Basic
Anwendung
Programmstruktur von Sternenhimmel		
Zeilen		Bedeutung
100-	120	Berechnung des Stundenwinkels
130-	140	Berechnung Bogenmaß
150 -	190	Koordinaten-Transformation
200 -	240	Berechnung Gradmaß
296 -	395	Text auf Grafikbildschirm überschreiben
396 -	480	Ausgabe Fehlermeldungen
496 -	520	Kreuz (Cursor) bewegen
596 -	630	Buchstaben auf Grafikbildschirm löschen
996 -	2190	Bildschirmmaske erstellen
4996 -	5260	Definition Kreuz als Sprite
9996 -	15080	Stellung Erde/Sonne/Mond berechnen
19996 -	20160	Stellung Planeten berechnen
24996 -	25080	Stellung Fixsterne berechnen
29996 -	30050	Rektaszension und Deklination berechnen
39996 -	49100	Eingabeschleife
49996 -	56050	Programmbeginn und Funktionsdefinitionen:
52010-	52020	arc sin
52030 -	52040	arc cos
52050 -	52060	Modulo 360
57000 -	57110	Hardcopy
58000 -	58020	Neustart des Programms
60000 -	61240	Daten Fixsterne (Rektaszension, Deklina-
		tion, Name, Nummer des Sternbildes)
62000 -	62230	Daten Sternbilder (Name lateinisch, Name
		deutsch, Zahl Sterne —1, Beginn der
		Sterndaten DATA-Zeile 60000 + X*10)
62500 -	62700	Daten Planeten (Name, Bahnelemente)
dem Index ZP. Der Name eines Sternes wird durch berechnetes RESET (Zeile 44080) aus den DATA-Zeilen 60000 bis 61240 ermittelt. Die Schreibroutine befindet sich ab Zeile 300.
Suchen Sternbild (Funktionstaste F3)
Zunächst wird die Suchroutine für Sterne mit Ausnahme des Abschnitts für die Planeten durchlaufen. Der gefundene nächste Stern bestimmt das Sternbild. Die Kennziffer Z des Sterns wird in Z1, die letzte Ziffer des gelesenen Datensatzes für den Stern (D; Zeile 44090) wird in Z gespeichert. Das Programm verzweigt nun in die Blink-Routine (Zeile 48060 bis 48250). Dort werden die zum Sternbild gehörenden Sterne (Punkte) abwechselnd gesetzt und gelöscht (Zeile 48170).
Suchen nach Namen
Wird ein Name, oder ein Teil eines Namens eingegeben, verzweigt das Programm in 40100 nach Zeile 47000. Das komplizierte Löschen des zu überschreibenden Textes (GOSUB 340, GOSUB 360 in Zeile 47030) ist erforderlich, da Simons Basic Text mit den auf dem Grafik-Bildschirm gesetzten Punkten ODER-verknüpft. Aus diesem Grund wird der vorige Text erst gelöscht. Nun wird geprüft, ob ein Planetenname mit der eingegebenen Bezeichnung übereinstimmt (47060 bis 47090). Ist dies der Fall, werden die Bildschirmkoordinaten des Planeten zu denen des Kreuzes (Zeile 47120). Ist der Planet zur Beobachtungszeit nicht sichtbar, dann ist X = 0 und eine Fehlermeldung wird ausgegeben (47140). Ansonsten wird das Kreuz auf den Planeten positioniert und in die Eingaberoutine gesprungen (47150). Handelt es sich bei der eingegebenen Bezeichnung um keinen Planeten, wird die Suchroutine in 48000 fortgesetzt. Dort werden zunächst die Namen der Sternbilder (deutsch und lateinisch) auf Übereinstimmung untersucht. Wird keine Übereinstimmung gefunden, springt das Programm in die Zeile 49000. Hier werden nun die Sternbezeichnungen eingelesen und mit der Eingabe verglichen. Kommt es zu keiner Übereinstimmung, wird die Fehlermeldung »... nicht gespeichert« ausgegeben und das Kreuz in die linke obere Ecke des Bildschirms gesetzt (Zeile 49050). Darauf kehrt das Programm in die Eingaberoutine (ab Zeile 40000) zurück.
(Horst Hinkelmann/hm)
0 rem ********************************
1	rem *	*
2	rem *	sternenhimmel	*
3	rem	*	*
4	rem *	horst hinkelmann	*
5	rem	*	*
8	rem	*	*
9	rem	********************************
10	goto50000
96 rem **********************
97 rem * stern setzen *
98 rem **********************
100 rem ** stundenwinkel **
120 sw=fnmo(ar—re—1)
130 rem ** bogenmass **
140 sw=sw*pl
150 rem ** koordinaten-transformation **
160 h=fnas(sb*sin(de)+cb*cos(de)*cos(sw) )
170 ifh<0thenx=0:y=0;return
180 a=fnac((sin(de)-sb*sin(h))/(cb*cos(h ) ) )
190 ifsw<pithena=-a
200 rem ** gradmass **
210 r=99-h*198/pi:w=-a-pi/2
220 x=int(cos(w)*r*l.l+159.5)
230 y=int(sin(w)*r+99.5)
240 plotx,y,1
296 rem ***********************
297 rem * text ueberschreiben *
298 rem ***********************
300 n$=left$(n$,13)
310 ifn3$<>n$thengosub340
320 ifn4$<>nl$thengosub360
330 return
340 n3$=n$:block0,184,103,191,0
350 text0,184,n$,l,0,8:return
360 n4^=nl^:block0,192,119,199,0
370 block216,192,319,199,0
380 text0,192,nl^,l,0,8
390 text319-8*len(n2$),192,n2$,l,0,8
395 return
396 rem ***********************
397 rem * fehlermeldungen *
398 rem ***********************
400 nl$=left$(nl$,9)
410 text0,192,nl$+" nicht",l,0,8
420 text232,192,"sichtbar" , 1,0,8
430 goto41000
450 n$=left$(n$,9)
460 text0,192,n$+" nicht",l,0,8
470 text232,192,"gespeichert",1,0,8
480 goto41000
496 rem ***********************
497 rem * kreuz bewegen *
498 rem ***********************
500 hn=x +19:vn=y+46
510 mmobl,hv,vv,hn,vn,0,100
520 goto300
596 rem ***********************
597 rem * buchstaben loeschen *
598 rem ***********************
600 le=len(n$)-l
610 blockle*8,184,le*8+7,199,0
620 n$=left$(n$,le)
630 return
996 rem ************************
997 rem * bildschirm erstellen *
998 rem ************************
1000 hires7,6
1010 circlel60,100,110,100,l
1020 hu=0:i^b<0thenhu=200
1030 ifb<0thencirclel60,hu+b/9*10,2,2,1
1040 textl,0,mid$(str$(t),2)+"."+mid$(st r$(m),2)+"."+mid$(str$(j),2),1,0,8
1050 textl,8,"oz"+oz$,l,0,8
1060 textl,16,"wz"+wz$,l,0,8
1070 t$=midt(str$(int(b+.5)),2,4)
1080 sp$=right$(" ",3-len(t$))
Listing zu Sternenhimmel. Geben Sie das Listing nur dann ein, wenn Sie vorher Simons Basic geladen und aktiviert haben.
35
Anwendung
C 64 + Simons Basic
1090 text216,0,"breite "+sp$+t$,l,0,8
1100 t$=mid$(str$(int(l + .5)),2,4)
1110 5p$=right$(" ",3-len(t$))
1120 bt="n";ifb<0thenb$="s"
1130 text304,0,b$,l,0,8
1140 text216,8,"laenge "+sp$+t$,l,0,8
1150 l$="w":ifl<0thenl$="o"
1160 text304,8,l$,l,0,8
1170 text32,96,"o",l,0,8
1180 text280,96,"w",l,0,8
1190 gosub2010
1200 gosub2110
1210 text288,128,"f5 =",l,0,8
1220 text288,136,"copy",l,0,8
1230 text288,152,"f7 =",l,0,8
1240 text256,160, *'neustart" , 1,0,8
1250 return
2000 block0,128,39,143,0
2010 text0,128,"fl =",l,0,8
2020 text0,136,"stern*',l,0,8
2030 return
2050 block0,128,39,143,0
2060 text0,128,"^sucht",l,0,8
2070 text0,136,*'^tern",l,0,8
2080 return
2100 block0,152,39,159,0
2110 block0,160,71,167,0
2120 text0,152,"f3 =",l,0,8
2130 text0,160,"sternbild",1,0,8
2140 return
2150 block0,152,39,159,0
2160 block0,160,71,167,0
2170 text0,152,"B5ucht",l,0,8
2180 text0U60Z^ternbild" , 1,0,8
2190 return
4996 rem **********************
4997 rem * hires kreuz *
4998 rem **********************
5000 design 0,32*64+49152
5020 y. . . . .b .. . . . . . . .. ..
5030 @.....b...........,...., .
5040 @. . . . . b....  .......
5050 @. . . . . b .  .	. . . . . . . .
5060 Öb.b.b.b.b.b....  .	. . . . .
5070 @.....b. . . ............
5080 @.,,..b......... . . , . , . . , .
5090 «3. . . , . b. . . . . . . . . . , , . . . , . .
5100 @.....b.................
5110 i3.......................
5120 i3.......................
5130 i3. . . ........  .	. . . . . ,
5140 i3.......................
5150 @. . . ...  .	..........
5160 i3.......................
5170 i3..............  ,	. . . .
5180 i3............  .	. . . . . . .
5190 i3....’..................
5200 i3. . . . . . , , . , . ..  ,	.
5210 i3. . . ...... ..........
5220 @......,.,,,, , „. . .,.„ . . . .
5230 mob set 1,32,0,1,0
5240 hn=179:vn=145
5250 mmobl,hv,vv,hn,vn,0,0
5260 return
9996 rem *********************
9997 rem * erde/sonne/mond *
9998 rem *********************
10000 rem ** erde **
10100 be=fnmo(tg*.985609121+99.18)
10200 el=fnmo(be+sin((be-102.2)*pl)*1.84 5)
10300 ea=1+si n((el-192.2)*p1)*.0167
11000 rem ** sonne **
11200 1s=fnmo(el+180) 12000 rem ** mond **
12010 lm=tg*13.1763976+51.23
12020 pm=tg*.111399014+208.9
12030 km=372.1-tg*.052953643
12040 lm=fnmo(lm)
12050 pm=fnmo(pm)
12060 km=fnmo(km)
12070 am=lm-pm
12080 km=km-sin(as*pl)*.16
12090 ms=(lm-ls)*2-am
12100 am=am+si n(ms*p1)*1.27388889-si n(as *p1)*(.18638889+.36)
12110 1m=lm+si n(ms*p1)*1.27388889-si n(as *p1)*.18638889+si n(am*p1)*6.28833333 12120 ml=lm-ls
12130 1m=lm+si n(m1*2*p1)*.658333333
12140 m2=lm-km
12150 lm=lm-sin(m2*2*pl)*.12
12160 bm=si n(m2*p1)*5.14539
12170 m3=(lm-ls)*2-m2
12180 bm=bm+sin(m3*pl)*.15
15000 n$="sonne";al=ls:ab=0:gosub30000
15010 ifx=0gotol5040
15020 circlex,y,4,3,l
15030 paintx+l,y,l
15040 n$="mond";al=1m:ab=bms gosub30000
15050 ifx=0gotol5080
15060 plotx,y,0
15070 circlex,y,4,3,l
15080 return
19996 rem *********************
19997 rem *	planeten *
19998 rem *********************
20000 reset62500
20010 torz=0to5
20020 readn$,tb,ep,ph,mp,e,kn,i,ae
20030 p$(z)=n$
20040 ml=fnmo(tb*tg+ep)
20050 wl=ml+sin((ml-ph)*pl)*mp
20060 sp=ae+sin((wl-ph-90)*pl)*e*ae
20070 ws=tnmo(c+el-wl)*pl:si=sin(ws)
20080 fl=ea/sp-cos(ws)
20090 we=atn(si/tl)*p2
20100 al=tnmo(el+we-180*(f1>=0))
20110 wt=sin((wl-kn)*pl)*i
20120 ab=atn(tan(wt*p1)*abs(sin(we*p1)/s i))*p2
20130 gosub30000
20140 p(2*z)=x:p(2*z+l)=y
20150 next
20160 return
24996 rem *********************
24997 rem * fixsterne *
24998 rem *********************
25000 reset60000
25010 fors=ltoil
25020 readre,de,n$,a
25030 de=de*pl
25040 nll=z$(a,l):n2$=z$(a,0)
25050 gosubl00
25060 z'/.(s)=x:z7.(s+i2)=y
25070 next
25080 return
29996 rem *********************
29997 rem * rektas./deklin. *
29998 rem *********************
30000 sn=sin(ab*p1);cs=cos(ab*p1)
30010 sl=sin(al*pl):cl=cos(al*pl)
30020 de=tnas(ec*sn+es*cs*sl)
30030 re=2*atn((ec*cs*sl-es*sn)/(cos(de) +cs*cl))
30040 re=tnmo(re*p2)
30050 gotol00
39996 rem *********************
39997 r^m * eingaben	*
39998 rem *********************
40000 getg$: ifg$=" *'thenv=l: goto40000
40010 p=asc(g$)
40020 ifp=17thenvn=vn+v:goto41000
40030 ifp=145thenvn=vn-v:goto41000
40040 ifp=29thenhn=hn+v:goto41000
40050 ifp=157thenhn=hn-v:goto41000
40060 i fp=133thengosub2050:goto42000
40070 ifp=134thengosub2150:goto42000
40080 ifp=135goto57000
40090 ifp=136goto58000
40100 ifp>64andp<91goto47000
40110 goto40000
41000 v=v+.5
41010 mmobl,hn,vn,hn,vn,0,0
41020 goto40000
42000 x=int(hn-19):y=int(vn-46)
42010 xm=200000
42020 ifp=134goto44000
Listing zu Sternenhimmel. (Fortsetzung)
36

C 64 + Simons Basic
Anwendung
42030 42035
42040 42050 42060
42070 42080
42090 44000
44010 44015 44020
44030 44040 44050
44060 44070 44080
44090 44100 44110
44120 48060 45000
45010 47000 47010
47020 47030 47040
47050 47060 47070
47080 47090 47100
47110 47120 47130
47140 47150 48000
48010 48020 48030
48040 48050 48060
48070 48080 48090
48100 48110 48120
48130 48140 48150
48160 48170 48180
48190 48200 48210
48220 48240 48250
49000 49010 49020
49030 49040 49050
49060 49070 49080
49090 49100 49996
49997 49998
50000
50010 110
50020 50030
50035
fora=0tol0step2 f=p(a)—x:h=p(a+1)—y x x =f *f+h*h
ifxx<xmthenxm=xx:zp=a ifxx=0thena=12
next n$=p$(zp/2)snl$=" ":n2$=" ” i fx x =0goto45000
xp=xm fora=0toi1 f=z7. (a) -x : h=z7. (a+i2)-y xx=f*f+h*h
ifxx<xmthenxm=xx:z=a ifxx=0thena=i2 next
x=p(zp):y=p(zp+1) i f xp=x mgoto45000 x=zZ(z) :y=z7.(z+i2) reset60000+z *10 readre,de,n$,d nl$=z$(d,l):n2$=z$(d,0) ifp=134thenzl=z:z=d:gosub2100:goto
gosub2000
hv=hn:vv=vn:gosub500:goto40000 n$=g$:nl$=" ":n2$=" ” gosub340;gosub360
getg$:ifg$=""goto47020
i f asc(g$)=20thengosub600:goto47020 ifasc(g$)=13goto47060 n$=n$+gt:gosub350:goto47020 p=0:z=-l fors=0to5
ifplace(n$,p$(s))thenz=s:s=5 next
ifz<0goto48000 hv=hns vv=vn
x=p(2*z):y=p(2*z+l) nl$=p$(z)sn2$=" " i f x =0goto400 gosub500:goto40000 fors=0toi3
ifplace(n#,z$(s,0))thenz=ss s=i3 ifplace(n$,z$(s,1))thenz=ss s=i3 next
i fz < 0goto49000 zl=-l
al=z(z,1):a2=al+z(z,0) ifzl>=0goto48120 fora=altoa2 ifz%(a)thenzl=a:a=a2 next
ifz K0thennl$=z$ (z , 1) : goto400 f=0:hv=hn:vv=vn
nl$=z$(z,1):n2$=z$(z,0) x=z7, (z 1) : y=z7. (z l+i2) : gosub500 fora=altoa2
x =z 7. (a)
ifxthenplotx,z%(a+i2),f next f = l-f
iff=lgoto48150
getg$:p=asc(g$+chr$(0)) ifpgoto40020
fora=ltol000*f+10snext goto48150
reset60000 fors=ltoi1 readre,de,s$,a ifplace(n$,s$)thenz=sss=i2 next
ifz<0thenhn=x+19s vn=y+46:goto450 i f z %(z)=0thenn1$=s$:goto400
hv=hn:vv=vn
x=zZ(z) s y=z7.(z+i 2)
n$=s$:n1$=z$(a,1): n2$=z $(a,0) gosub500:goto40000 rem ******************** rem * programmbeginn * rem ******************** csetl
ifpeek(900)>0andpeek(900)<1lthen50
print"^eutiges Datum” input"iDahr ";j$ j$=''19"+right$(j$,2)
50040 input"Monaf;m$
50050 input"Tag ";t$
50060 a$=t$+”."+m$+"."+j$
50070 fora=ltolen(a#)
50080 poke900+a,asc(mid$(a$,a,1))
50090 poke900,a
50100 next
50110 t$=left$(ti$,4)
50120 print"<Wzeit HHMM"
50130 printtab(8)t$
50140 prinf'W"tab (6) ; : inputtl#:
50150 ift$< >tl$thenti$=right$("0"+tl$+"0 0",6)
50160 a$=""
50170 fora=0topeek(900)
50180 at=a$+chr$(peek(900+a))
50190 next
50200 il=124:i2=125:i3=22:f=l
50210 pi=K:pl=pi/180:p2=180/pi:c=360
50220 dimz$(i3,l) ,z (i3,l) ,p(ll) ,z7.(2*i2) 50300 print"3"
50301 p r i n 11 ab (11) ” SI I- - ’	“1 "
50302 printtab(ll)"^ I Sternenhimmel I "
50304 printtab(ll)"^ I_______________I "
50310 print"SfflBreite 90 (noerdl) bis —9 0 (suedl.) "
50320 prinf’Laenge 180 (westl.) bis -180 (oestl.)"
50330 print"SWorgegeben sind die Werte v on Hamm und die heutige Zeit.iB"
50340 print"Breite "52:print"W"tab(l
0);:i nputb
50350 ifabs(b)>=90then50340
50360 prinf’Laenge	";-8;print"S"tab
(10);:inputl
50370 i fabs(1)>180then50360
50380 sb=sin(b*pl):cb=cos(b*pl)
50390 prinf’Jahr	"right$(a$,4)
50400 print"W"tab(10);:inputj
50410 t=int(val(mid$(a$,2)))
50420 m=int(val(mid$(a$,1en(str$(t))+2,2 ) ) )
50430 prinf'Monat	"m
50440 print"Wtab(10);:inputm
50450 ifm>12orm<lthen50440
50460 prinf'Tag	";t
50470 print"W"tab(10);:inputt
50480 ift<lort>31then50470
50490 wz=int(val(ti$)/100)-100
50495 i f wz <100thenwz =wz +2400
50500 prinf'Weltzeit hhmm"
50505 printtab(12)rightt(str$(wz),4)
50510 print"M"tab (10) ; : inputwz$: wz=val (w z$)/100
50520 ifwz<0orwz>24goto50510
50530 zt=int(wz)+frac(wz)/.6
50600 i =m< 3
50610 k=t+int((153*m-ll*i-162)/5)+int((1 461*j+i)/4)+(J>=0)*366
50620 ifk>577736thenk=k-int((int((j+i)/l 00)*3-5)/4)
50630 ta=k-693596;tg=k-711858+zt/24:i=ta /36525
50640 e=23.452294-i *.013125-i *i *1.639e-6 +i*i*i*5.028e-7
50650 es=sin(e*pl):ec=cos(e*pl)
52000 rem ** funktionen definieren ** 52010 rem ** arcsin **
52020 deffnas(x)=atn(x/sqr(l-x*x)) 52030 rem ** arccos **
52040 deffnac(x)=pi/2-atn(x/sqr(l-x*x))
52050 rem ** modulo **
52060 deffnmo(x)=x-int(x/c)*c
54000 rem ** zeit **
54010 wz$=mid$(str$(int(frac(wz)*100+.5) > ,2)
54020 wz$=rightl("0"+wz$,2)
54030 wz$=rightt(" "+str$(int(wz)),3)+": "+wz$
54040 lo=int(l/15)*15
Listing zu Sternenhimmel. (Fortsetzung)
37
Anwendung
C 64 + Simons Basic
54050 oz=fnmo(zt*15-lo)/15
54060 oz$=right$(" "+str$(int(oz)),3)+ri ght$(wz$,3)
54200 rem aries
54210 ar=z t*360.985647/24+frac(ta/1461)* 1440.02509
54220 ar=ar+int(ta/1461)*.0307572+99.201
8973
54230 ar=fnmo(ar)	(
54300 rem daten sternbilder
54310 reset62000
54320 fora=0toi3
54330 readz$(a,0),z$(a,1),z(a,0),z(a,l)
54340 next
54350 ifwhgoto56000
55000 rem ** anleitung **
55010 print"SODieses Programm zeichnet e ine Sternen-"
55020 print"karte mit der Sonne, dem Mon d, den"
55030 print"Planeten und den Fixsternen.
":print
55040 print"Die Namen der Sterne oder de ren "
55050 print"Standorte koennen wie folgt gesucht"
55060 print"werden:":print
55080 print"Mit den Cursor-Tasten das Kr euz auf"
55090 print"oder in die Naehe des Sterne s fuehren"
55100 print"und fl druecken."sprint
55110 print"Wenn das ganze Sternzeichen gesucht"
55120 print"wird, dann f3 druecken.":pri nt
55130 print"Wenn der Name oder ein Teil des Namens"
55140 print"eines Sterns oder Sternbilde
s eingegeben";
55150 print"wird, geht das Kreuz alleine auf den":print"Stern"
55160 print"Bei einem Sternbild blinken die dazu—"
55170 print"gehoerigen Sterne.":print
55180 print"Weiter = Taste druecken!";
55200 pokel98,0:waitl98,l
56000 gosub 1000:rem bildschirm
56010 gosubl0000:rem sonne mond
56020 gosub20000:rem planeten
56030 gosub25000srem fixsterne
56040 gosub 5000:rem kreuz
56050 goto40000
57000 rem ** hardcopy **
57100 copy
57110 goto40000
58000 rem ** neustart **
58010 nrmscsetl:mob off l:wh=l
58020 goto50300
60000 rem ** daten fixsterne **
60010 data037.8,89.3,polaris,0
60020 data269.8,86.0,umi2,0
60030 data252.5,82.2,umi3,0
60040 data246.3,75.5,umi4,0
60050 data238.5,78.0,umi5,0
60060 data230.2,71.8,pherkad,0
60070 data222.7,74.2,kochab,0
60080 data206.9,49.3,benetnasch,1
60090 data201.0,54.9,mizar,l
60100 datal93.5,56.0,alioth,l
60110 datal83.9,57.0,megrez,l
60120 datal78.5,53.7,phekda,l
60130 datal65.9,61.8,dubhe,l
60140 datal65.5,56.4,merak,l
60150 data28.6,63.7,casl,2
60160 data21.5,60.2,cas2,2
60170 datal4.2,60.7,cas3,2
60180 datal0.1,56.5,schedir,2
60190 data2.3,59.2,caph,2
60200 data 3-3,15.2,algenib,3
60210 data346.2,15.2,markab,3
60220 data345.9,28.1,scheat,3
60230 data311.6,34.0,cygl,4
60240 data310.4,45.3,deneb,4
60250 data305.6,40.3,schedir,4
60260 data296.2,45.1,cyg4,4
60270 data292.7,28.0,albireo,4
60280 data302.8,-0.8,aqll,5
60290 data297.7,08.9,atair,5
60300 data296.6,10.6,aql3,5
60310 data292.0,03.5,aql4,5
60320 data286.6,-4.9,aql5,5
60330 data286.4,13.9,aql6,5
60340 data284.7,32.7,lyrl,6
60350 data283.0,37.0,lyr2,6
60360 data282.5,33.4,lyr3,6
60370 data280.2,38.8,lyr4,6
60380 data279.2,38.8,wega,6
60390 data265.6,-39.0,scol,7
60400 data264.3,-43.0,sco2,7
60410 data263.4,-37.1,sco3,7
60420 data262.7,-37.3,sco4,7
60430 data252.5,-34.3,sco5,7
60440 data249.0,-28.2,sco6,7
60450 data247.3,-26.4,antares,7
60460 data241.4,-19.8,acrab,7
60470 data240.1,-22.6,sco9,7
60480 data239.7,-26.1,scol0,7
60490 data228.9,33.3,bool,8
60500 data225.0,41.0,boo2,8
60510 data221.2,27.1,boo3,8
60520 data218.0,38.3,boo4,8
60530 data218.0,30.5,boo5,8
60540 data213.9,19.2,arktur,8
60550 data201.3,-11.2,spika,9
60560 datal98.0, -7.5,vir2,9
60570 datal95.5, 11.0,vir3,9
60580 datal93.9, 3.4,vir4,9
60590 datal90.0, -1.0,vir5,9
60600 datal85.0, 0.0,vir6,9
60610 datal77.0, 2.0,vir7,9
60620 datal91.9,-59.7,crul,10
60630 datal87.8,-57.1,cru2,10
60640 datal86.7,-63.1,cru3,10
60650 datal83.8,-58.8,cru4,10
60660 datal77.3,14.5,denebola,ll
60670 datal68.6,15.4,leo2,ll
60680 datal68.5,20.5,leo3,ll
60690 datal55.0,19.9,leo4,ll
60700 datal52.1,12.0,regulus,ll
60710 datal51.8,16.8,leo7,ll
60720 datal46.5,23.8,leo6,ll
60730 datall6.3,28.0,pollux,12
60740 datall3.7,31.9,kastor,12
£>0750 datal01.3,12.9,gem3,12
60760 datal01.0,25.1,gem4,12
60770 data 99.4,16.4,gem5,12
60780 data 95.7,22.5,gem6,12
60790 datalll.0,-29.3,cmal,13
60800 datal07.1,-26.4,cmi2,13
60810 datal04.7,-29.0,cma3,13
60820 datal01.3,-16.7,sirius,13
60830 data 98.2,-18.0,cma5,13
60840 data90.0,37.2,aurl,14
60850 data89.9,45.0,aur2,14
60860 data79.2,46.0,capella,14
60870 data75.5,43.8,aur4,14
60880 data74-3,33.2,aur5,14
60890 data88.8, 7.4,beteigeuze,15
60900 data86.9,-9.1,ori2,15
60910 data85.2,-2.0,ori3,15
60920 dataB4.1,-1.2,ori4,15
60930 data83.0,-0.3,ori5,15
60940 dataB1.3, 6.4,bellatrix,15
60950 data78.6,-8.2,rigel,15
60960 data59.5,40.0,perl,16
60970 data58.5,31.9,per2,16
60980 data55.7,47.8,per3,16
60990 data51.1,49.9,algenib,16
61000 data47.0,41.0,algol,16
61010 data46.2,53.5,per6,16
61020 data31.0,42.0,alamak,17
61030 datal7-4,35.6,mirach,17
61040 data 9.8,31.9,and3,17
Listing zu Sternenhimmel. (Fortsetzung)
38

C 64 + Simons Basic
Anwendung
61050 data 2.1,29.1,sirrah,17
61060 data354.8,77.6,cepl,18
61070 data342.5,66.0,cep2,18
61080 data322.2,70.6,alfrik,18
61090 data319.6,62.6,alderamin,18
61100 data269.2,51.5,dral,19
61110 data262.6,52.3,dra2,19
61120 data231.2,59.0,dra3,19
61130 data246.0,61.5,dra4,19
61140 data257.2,65.7,dra5,19
61150 data288.1,67.7,dra6,19
61160 data31.8,23.5,hamal,20
61170 data2B.7,20.8,ari2,20
61180 data84.4,21.2,taul,21
61190 data81.6,28.6,elnath,21
61200 data69.0,16.5,aldebaran,21
61210 data58.8,12.5,tau4,21
61220 data56.9,24.1,plejaden,21
61230 datall4-8,5.2,prokyon,22
61240 datalll.8,8.3,cmi2,22
62000 rem ** daten sternbilder **
62010 dataursa minor,kleiner wagen,6,l
62020 dataursa maior,grosser wagen,6,8
62030 datacassi opeia,kassi opei a,4,15
62040 datapegasus,pegasus,2,20
62050 datacygnus,schwan,4,23
62060 dataaquilla,adler,5,28
62070 datalyra,leier,4,34
62080 datascorpius,skorpion,9,39
62090 databootes,bootes,5,49
62100 datavirgio,jungfrau,6,55
62110 datacrux,kreuz sueden,3,62
62120 dataleo,loewe,6,66
62130 datagemini,zwillinge,5,73
62140 datacanis maior,grosser hund,4,79
62150 dataauriga,fuhrmann,4,84
62160 dataorion,orion,6,89
62170 dataperseus,perseus,5,96
62180 dataandromeda,andromeda,3,102
62190 datacepheus,kepheus,3,106
62200 datadraco,drache,5,110
62210 dataaries,widder,l,116
62220 datataurus,stier,4,118
62230 datacanis minor,kleiner hund,l,123
62500 rem ** daten planeten **
62510 datamerkur,4.0923, 31.19, 76.987
62520 data23.00,.2056, 47.826,7.004, 0.3 871
62530 datavenus ,1.6021, 80.85,131.149
62540 data 0.76,.0068, 76.410,3.394, 0.7
62550 datamars ,0,5240,144.14,335.507
62560 datall.00,.0934, 49.326,1.850, 1.5 237
62570 datajupiter,.0831,316.19, 13.839
62580 data 5.30,.0485,100.146,1.305, 5.2 028
62590 datasaturn,0-0335,158.36, 92.460
62600 data 5.50,.0557,113.511,2.486, 9.5 810
62610 datauranus,0.0117, 98.38,170.173
62620 data 5.70,.0472, 73.847,0.773,19.1 823
62700 rem ** e n d e **
ready.
Listing zu Sternenhimmel. Geben Sie das Listing nur dann ein, wenn Sie vorher Simons Basic geladen haben. (Schluß)
Weitere aktuelle 64'er-Sonderhefte mit ausführlichen Informationen zu ausgewählten Themen:
Programmheft Nr.5 FLOPPY/DÄTASEHE Alles zum Thema Massenspeicher: So stellt man die Datasette ein. FMON 1541: Das Werkzeug für werdende Floppy-Spezialisten. Disk Basic 64: Fast 50 neue Befehle für komfortablen Floppy-Betrieb. Turbo Tape de Luxe: Datasette 10mal schneller als Floppy 1541. 5fach schneller kopieren mit Hypra-Copy.
Programmheft Nr.4
GRAFIK&DRUCKER
Randvoll mit Informationen: Rund
28 Listings der Spitzenklasse. Darunter
Top-Listings zur räumlichen Darstellung von
Körpern aus beliebigen Betrachtungsrichtungen.
Weiters: Prüfsummenlistings, Drucker-Anwendung, Ba-sic-Erweiterung, Hardcopy-Routinen, Zeichengenerator, Grundlagen, Tips & Tricks.

39
Anwendung
C 64
KREUZWORTRÄTSEL SELBER MACHEN
Kreuzworträtsel sind bei jung und alt beliebt. Das beweisen die vielen Rätselzeitschriften. Aber ein Kreuzworträtselprogramm zu schreiben ist etwas ganz anderes, als ein Rätsel zu lösen.
Das Programm läßt kaum Wünsche offen. Der Bildschirmaufbau ist genauso gut gelöst wie die Druckerausgabe. Auch den Bedienungskomfort kann man sich kaum besser vorstellen.
Ein Kreuzworträtselprogramm zu schreiben ist eine knifflige Aufgabe. Nicht nur die für den Betrachter eines Rätsels selbstverständlichen Regeln, wie das Kreuzen von Worten senkrecht zueinander und die dichte Vernetzung von Wörtern, auch die Geschwindigkeit und der Komfort des Programmes spielen eine große Rolle. Damit blieb in diesem Falle nur der Einsatz von Maschinensprache übrig. Das Kreuzworträtselprogramm besteht aus zwei Teilen. Einem Rahmenprogramm in Basic, sowie einer Maschinenroutine, die im Bereich ab $C000/49152 geladen wird und die die Schwerarbeit leistet (zirka 30 Wortvergleiche/Sekunde).
Um das Rätselprogramm nicht unnötig mit der Eingabe des Wortschatzes zu belasten, werden die Wörter vorher mit einem Editor eingegeben und bis zu 255 in einem File auf Diskette abgelegt. Das eigentliche Rätselprogramm liest diese Files dann ein und verwendet sie im Rätselfeld. Trotzdem ist die Eingabe von Hand möglich. Denn der große Wortschatz eines Menschen kann niemals auf Diskette gespeichert werden.
Die Programme
Bevor also die Erzeugung eines Kreuzworträtsels starten kann, muß ein Wortschatz mit dem Lexikon-Editor eingegeben werden (Listing 2). Dieses Programm hat vier Aufgaben: a) Directory lesen. Dabei werden die bereits auf Diskette vorhandenen Wortschatzdateien angezeigt.
b)	Wortdatei anlegen. Mit diesem Programmteil können Sie bis zu 255 Wörter und die zugehörigen Fragestellungen eingeben und diese dann auf Diskette als Wortdatei ablegen. Eine spezielle Eingaberoutine (Zeile 1 000 — 1 099) sorgt dafür, daß nur erlaubte Zeichen eingegeben werden. Es ist zum Beispiel unsinnig, ein Kreuzwort einzugeben, das aus mehreren Teilen besteht, wie etwa »Level II Basic«, oder eine Mischung aus Zahlen und Buchstaben, wie »C 64«.
So können Sie sich also im Laufe der Zeit eine ganze Bibliothek von Wortschätzen aufbauen, die beliebig während der Rätselerzeugung einzusetzen sind.
Eine Besonderheit ist die Verkettung von Dateien. Sie können Nachfolgedateien benennen, die im Rätselprogramm automatisch nachgeladen werden, sobald der Vorgängerwortschatz erschöpft ist. Beispiel: Sie wollen ein Rätsel zum Thema »Computer« basteln. Geben Sie jetzt mit Hilfe des Lexikon-Editors den ersten Teil des geplanten Wortschatzes ein und benennen ihn mit »Computer.1«. Der Folgewortschatz soll »Computer.2« sein. Nachdem Sie den 1. Teil abgespeichert haben, geben Sie den 2. Teil ein und benennen den Nachfolger mit »Computer.3« und so weiter. Wollen Sie diese Kette beenden, wird einfach ein »q« (Quit) für den Nachfolger angegeben. Das Rätselprogramm bricht dann später an dieser Stelle mit dem automatischen Nachladen ab.
Bei dieser Methode hängt die Qualität des Rätsels entscheidend von der Staffelung der Dateien ab, das heißt im ersten File sollten lange Wörter stehen und mit jedem Folgefile die durchschnittliche Wortlänge abnehmen. Die Erstellung des Rätsels gerät dadurch wesentlich flüssiger, denn mit zunehmender Dichte des Wortfeldes müssen die Wörter natür-
lich immer kürzer werden, damit sie noch einzubauen sind, c) Wortdatei ändern. Mit Sicherheit tauchen irgendwann falsch eingegebene Kreuzwörter auf, so daß eine Datei verbessert werden muß. Unter diesem Programmpunkt kann daher die entsprechende Wortdatei geladen und editiert werden, d) Abbrechen. Mit Verlassen des Editors kann das Rätselprogramm geladen und gestartet werden, so daß ein fließender Übergang von der Worteingabe zur Rätselerstellung möglich ist.
Nun zum Kreuzworträtselprogramm. Wie schon gesagt, besteht dieses Programm aus zwei Teilen, einer Maschinenroutine und dem Basic-Rahmenprogramm. Dieses Rahmenprogramm (Listing 1) will ich zuerst beschreiben.
Nach dem Start beginnt zunächst eine Initialisierungsphase (Zeilen 27—39). In einem Unterprogramm (ab Zeile 970) werden die Maschinenroutine für das Kreuzworträtsel und Treibersoftware für den Drucker am User-Port geladen. Wenn Sie einen Drucker am lEC-Bus betreiben, ist dieser Programmteil (Zeilen 976+979) natürlich nicht nötig und zu entfernen.
Im folgenden Unterprogramm zur Dimensionierung der Variablen und Definition einiger Konstanten (Zeilen 915—969) erfolgt der erste Sprung in die Maschinenroutine (Zeile 937), um sie zu initialisieren.
Nach dem Bildaufbau (Unterprogramm ab Zeile 600), istauf dem Monitor ein Kreuzwortfeld von 20x20 Zeichen zu sehen. Das Programm fragt jetzt nach dem Startwort, das als erstes Wort im Feld eingetragen werden muß, um der Maschinenroutine einen Kristallisationspunkt zu bieten (Zeilen 34-35). Geben Sie ein möglichst langes Wort ein, das Sie zum Beispiel unbedingt im Rätsel verarbeiten möchten. Bei dieser Eingabe findet, wie schon beim Editor, ein Zeichencheck statt, der es unmöglich machen soll, unerlaubte Zeichen im Rätselfeld unterzubringen. Danach müssen Sie sich zwischen einer waagerechten oder senkrechten Eintragung entscheiden, und ein Cursor taucht im Wortfeld auf. Fahren Sie wie gewohnt mit den Cursortasten die gewünschte Wortposition an und drücken die RETURN-Taste. Da es das erste Wort ist und genügend Platz im Wortfeld herrscht, wird Ihr Wort ohne Protest sofort eingetragen. Jetzt noch schnell die zugehörige Fragestellung eingetippt, und das erste Wort ist korrekt eingetragen.
Sie können dieses Spiel beliebig fortsetzen und theoretisch das ganze Rätsel auf diese Weise per Hand erstellen. Alle Eingaben von Hand sind frei von dem Zwang, ein Wort mit einem anderen kreuzen zu müssen. Sie können Ihre Wörter also beliebig positionieren, sollte ein Wort allerdings nicht passen, wird es zurückgewiesen und der Handeingabe-Modus abgebrochen.
Regulär verlassen Sie die Handeingabe, indem Sie anstelle eines neuen Wortes ein »q« eintippen. Später können Sie die automatische Rätselerzeugung jederzeit unterbrechen und mit F7 wieder in den Handmodus zurückkehren.
Im Wortfeld stehen nun ein oder mehrere Wörter, die als Startpunkte für andere Wörter dienen. Senkrechte Eintragungen sind weiß und waagerechte gelb gefärbt.
Bleibt nur die Angabe, welcher auf Diskette gespeicherte Wortschatz als erstes geladen werden soll (Zeile 37). Dabei können Sie sich mit »$« auch das Inhaltsverzeichnis der Dis-
40
C 64
Anwendung
kette ansehen, für den Fall, daß Ihnen der Name eines Wortschatzes entfallen ist.
Nach erfolgreichem Laden des ersten Wortschatzes beginnt nun die automatische Rätselerzeugung (Hauptschleife Zeile 40-99). Zunächst überraschend schnell füllt sich das Wortfeld mit zufällig plazierten und gekreuzten Wörtern. Dieser Vorgang wird von der Maschinenroutine gesteuert. Auf die genaue Arbeitsweise dieses Programmteiles gehe ich noch gesondert ein. Links oben auf dem Bildschirm erscheint die Anzahl der Wörter, die bereits eingetragen sind (maximal 255 sind möglich) und daneben die momentane prozentuale Größe des noch zur Verfügung stehenden Wortschatzes im Speicher.
Bei jeder Eintragung wird die Liste der Kreuzwörter gekürzt und das benutzte Wort aus der Liste gestrichen. Dies geschieht durch Vertauschen der Stringvektoren des zu streichenden Wortes und des letzten Wortes im Array (Zeile 300—399). Diese Methode wurde gewählt, um die Bildung von neuen Strings im Speicher zu vermeiden und der schrecklich langsamen Garbage-Collection aus dem Wege zu gehen.
Während der Rätselerzeugung können Sie sich in Ruhe überlegen, ob Sie ein automatisches Nachladen von Wortschätzen gestatten wollen oder nicht. In der rechten Bildhälfte ist inzwischen die Belegung der Funktionstasten zu sehen, und mit der F6-Taste schalten Sie die Autolader-Option ein oder aus. Erscheint »Aus« im F6-Tastenfeld, ist das Nachladen gesperrt.
Die Maschinenroutine sucht derweil ständig nach passenden Stellen im Wortfeld. DieserVorgang kann im Prinzip endlos sein, da irgendwann natürlich kein geeignetes Wort mehr zu finden ist. Aus diesem Grund hat das Programm eine »Geduld-Schwelle«, eine Anzahl von Suchversuchen, innerhalb derer ein passendes Wort gefunden werden muß. Ist die Versuchszahl ohne Erfolg abgelaufen, geht das Programm davon aus, daß der Wortschatz nicht mehr ausreicht. Diese »Ge-duld-Schwelle« können Sie in Zeile 964 selbst bestimmen.
Bevor allerdings in der obersten Bildzeile die Meldung »Wortschatz ungenügend« erscheint (Zeile 64/Unterpro-gramm 110-158), hebt das Programm noch die »Blausperre« auf (Zeile 66). Dieses Flag hat dem Maschinenprogramm bisher mitgeteilt, daß nur dann eine Eintragung erlaubt ist, wenn dabei auch ein blaues, unbesetztes Feld abgedeckt wird. Eine Maßnahme, um das Rätsel möglichst dicht zu packen. Ab sofort ist also auch das Einpassen eines Wortes nur auf besetzten Feldern möglich. Läßt sich auch jetzt kein Wort mehr finden, erscheint endgültig der Hinweis auf mangelnde Wortauswahl. Wenn Sie das »Autoladen« zugelassen haben, wird nun der Folgewortschatz, falls vorhanden, gelesen und das Spiel beginnt von neuem. Selbstverständlich ist auch das Laden von Wortdateien vor Ablauf der »Geduld-Schwelle« machbar. Dazu dient die F1-Taste. Aber Vorsicht, auf die Gefahr, daß Sie einen bereits verbrauchten Wortschatz noch mal laden, müssen Sie schon selbst achten.
Es dauert gar nicht so lange, dann ist das Wortfeld so dicht gepackt, daß der Maschinenroutine keine Eintragung mehr gelingt. Jetzt sind Sie gefordert, und mit der F7-Taste wählen Sie die Handeingabe an. Genau wie bei der Eintragung der ersten Startwörter können Sie Ihre »Lückenfüller« positionieren und die Fragestellung dazu eingeben.
Zufrieden mit Ihrer Arbeit (hoffentlich!) bleibt nur noch der Ausdruck des Rätsels. Mit F4 wird er gestartet. Das Unterprogramm für die Druckausgabe nimmt im Programm den weitaus größten Platz ein (Zeile 740-914). Es ist für einen Epson RX-80 ausgelegt, der mit Hilfe spezieller Treibersoftware auch CBM-Sonderzeichen druckt. Dazu muß eine unübliche Geräteadresse (6) angegeben werden (Zeile 761 und 900). Sollten Sie also einen CBM-grafikfähigen Drucker am lEC-Bus betreiben, tauschen Sie diese Adresse gegen die gewohnte »4« (im Listing schon geändert).
Auch die Druckerinitialisierung ist von Drucker zu Drucker verschieden (Zeilen 754—758). Achten Sie darauf, daß Ihr Drucker hier folgende Einstellung erhält: — Zeilenabstand = 0 — CBM-Grafikmodus
— Startposition des Druckkopfes = lr (Linker Rand, kann in Zeile 946 geändert werden).
Für den Ausdruck der Fragestellung wird der RX-80 im Eng-schriftmodus versetzt, um Platz zu sparen (Zeile 824—827). Auf diesen Effekt können Sie natürlich verzichten, müssen dann aber die Zeilenlänge (cz, in Zeile 948) ändern, da der Ausdruck vom Programm mit Randausgleich versehen wird (Zeile 847 — 889).
Nun wie versprochen zum Maschinenprogramm, kurz genannt »Such—obj« (Listing 3). Diese Routine liegt im Bereich $C000/49152, wo sie gut gegen Überschreiben durch Basic geschützt ist. Der Einsprung erfolgt über den USR-Vektor (definiert in Zeile 931 bis 932), das heißt es findet eine Parameterübergabe zwischen Basic und Maschinenroutine statt. Basic übergibt in »dl« die Anzahl der Versuche, die die Routine durchlaufen sollen (Zeile 44). Mit der Rückkehr aus der Routine wird der Variablen »u« ein Wert zwischen 1 und 4 zugewiesen. Aus dem Wert von »u« kann also auf die Ursache für den Abbruch der Routine geschlossen werden:
— u = 1; eine Taste ist betätigt worden.
— u = 2; die Suche nach einem passenden Kreuzwort war vergeblich.
— u = 3; ein Wort wurde gefunden und in das Wortfeld eingetragen.
— u = 4; die maximale Anzahl (255) von eingetragenen Kreuzwörtern ist erreicht; keine weitere Eintragung möglich. Das Rahmenprogramm kann jetzt entsprechend reagieren und zum Beispiel im Falle u = 3 das benutzte Wort aus der Wortliste streichen. Im Falle einer Eintragung (von Hand oder automatisch) wird das Wort nicht nur in den Bildspeicher eingesetzt, es werden noch weitere Informationen abgelegt:
a) Eintragung im »Wortbeginn/-ende«-Speicher (50176 bis 50575); hier wird vermerkt, ob ein Rätselfeld den Start- oder Endpunkt eines Kreuzwortes repräsentiert. Der Speicher ist, wie die folgenden auch, in 20 Zeilen mit je 20 Positionen (Speicherstellen) aufgeteilt. Das linke Halbbyte (4 Bits) einer Speicherstelle trägt die Informationen über senkrechte, das rechte Halbbyte über waagerechte Start-/Endpositionen. Das 1. Bit im Halbbyte wird für Endpunkte gesetzt, das 3. Bit für Startpunkte.
Diese Informationen werden später bei der Ausgabe des Rätsels auf dem Drucker benötigt, um an den richtigen Stellen die Nummer der zugehörigen Fragestellung eintragen zu können, b) Eintragungen im »Senkrecht«-Speicher (50576 bis 50975); in dieser Speichermatrix werden die Ordnungsnummern der Fragestellungen für senkrechte Rätselwörter abgelegt. Bei der Druckausgabe wird diese Matrix abgefragt (Zeile 773 bis 777), um die Nummer der Fragestellung im entsprechenden Startfeld einzusetzen.
c)	Eintragung im »Waagerecht«-Speicher (50976 bis 51375), wie unter b) Zeile 796 bis 800).
Um die Speicherinhalte vor dem Start des Rätselprogramms zu löschen, springt man die Routine mit »sys 50016« an (Zeile 937).
Nun zur Arbeitsweise der Routine während der automatischen Rätselerzeugung. Zunächst muß das Maschinenprogramm erst einmal wissen, ob es wegen einer Handeintragung angesprungen wurde oder zur automatischen Wortsuche. Dazu liest die Routine die Speicherstelle 26 aus. Ist das Ergebnis Null, wird in den Automodus verzweigt. Andernfalls wird in 26 die Länge des von Hand eingetragenen Wortes übergeben (siehe Zeile 662 bis 663). Die Routine braucht dann nur den Paß des Wortes zu überprüfen und bei korrekter Eintragung ins Basic zurückzukehren. Paßt das Wort allerdings nicht, ver-
41
Anwendung
C 64
fällt die Routine in den Automodus. Das Maschinenprogramm durchläuft im Automodus eine Schleife, die zunächst durch Auslesen des Rauschgenerators im Soundchip ein Wort aus dem Wortschatz per Zufall bestimmt. Dann erfolgt auf die gleiche Weise die Auswahl eines Startpunktes im Bildspeicher. Ist dieser Punkt nicht geeignet für eine Eintragung, wird Zeile für Zeile des Wortfeldes nach einer Alternative gesucht. Im Falle eines Treffers startet der Wortvergleich. Das gewählte Wort wird mit dem Inhalt des Bildspeichers auf Übereinstimmung geprüft. Paßt es nicht, kommt das nächste Wort aus dem Wortschatz-Array an die Reihe. Bei Erfolg kehrt »Such« ins Basic zurück, wenn nicht, beginnt die Schleife von neuem.
Damit der Zugriff auf das Array klappt, muß es nur als erstes im Basic-Programm definiert worden sein (Zeile 925). »Primitiv« werden Sie vielleicht anmerken. Richtig, aber Computer sind nun mal (sehr) schnelle Idioten.
(Gert Büttgenbach/og)
15 PRINT"<CLR>"; 16 PRINT"W&iüüL*Lt*JÖÜL*ÜL****^	<209> <081>
17 PRINT"zKREUZWORTRAETSEL VERSION l.A-	<221>
18 PRINT"-<28SPACE>-	<033>
19 PRINT"-(C) BUETTGENBACH<2SPACE>HH,30.5.	
84-	<173>
20 PRINT"7*+£*Jü+**^LtÄ&*üü^^	<066>
22 s	<254>
23 s	<255>
24 REM" ******** HAUPTPROGRAMM ********	<066>
25 REM” *******************************	<011>
26 s	<002?^
27 REM" Ää&SöÄ VORBEREITUNGEN äÄÄ^ÄÄ	<004>
28 CLR	<142?>
29 GOSUB 970 :REM" ROUTINEN LADEN	<100>
30 GOSUB 915 ;REM" VORBEREITUNGEN	<049>
32 GOSUB 600 sREM" BILD AUFBAUEN	<187>
33 :	<009>
34 T$="5TARTWORT" sREM” l.WORT	<251>
35 NR=lsGOSUB 654 :REM" EINTRAGFN	<253>
36 s	<012>
37 GOSUB 700 :REM" WORTSCHATZ EINLi GEN	<088>
38 POKE 53280,0sPOKE 53281,0	<166>
39 :	<015>
40 REM" ******** HAUPTSCHLEIFE ********	<009>
42 s	<018>
44 POKE 142,BSsP0KE 26,0sU=USR(DL)	<127>
46 s	<022>
47 ON U GOTO 50,64,70,80	<052>
48 s	<024>
49 REM" ***** TASTE WAR GEDRUECKT ***+L*	<197>
50 GET F$	<044>
51 IF F$="{F7>"THEN GOSUB 650sGOTO 59	<161>
52 IF F^="<F4>"THEN GOSUB 740sGOTO 59	<155>
53 IF F$="{FlI"THEN GOSUB 700aGOTO 60	<200>
54 IF F$="{F6>"THEN GOSUB 450:GOTO 60	<004>
55 IF F$="<F8>"THEN GOSUB 092:GOTO 59	<247>
56 IF F$="{F2)"THEN GOSUB 087sGOTO 59	<006>
57 IF FG>0 THEN 44	<190>
58 GOTO 50	<012>
59 PRINT"{HOME>";LL$;LL$	<069>
60 POKE 53280,0sPOKE 53281,0:GOSUB 337	<050>
61 IF FG>0 THEN 44	<194?>
62 GOTO 50	<016>
63 s	<039>
64 REM" **** SUCHE WAR VERGEBLICH *****	<044>
65 IF BS=0 THEN GOSUB 110	<031>
66 BS=0sGOTO 44	<004>
69 ;	<045>
70 REM" *** EIN WORT WURDE GEFUNDEN *-*-*.	<103>
71 W=PEEK(25)	<185>
72 FS$(NR)=STR$((PEEK(140)=0))+FW$(W)	<079>
73 GOSUB 300sNR=NR+lsIF FG>0 THEN 44	<163>
75 s	<051>
76 PRINT"<HOME}";LL$;"<HOME}";TAB(17);	<237>
77 PRINT"<CYAN,RVSON>HORTSCHATZ ERSCHOEPFT	
i «»	<163>
78 GOSUB 337:G0T0 50	<029>
79 s	<055?^
80 REM" *** MAX. DRDN.ZAHL ERREICHT 444	<044>
81 PRINT"{HOME)";LL$;"{HOME,CYAN,RVSON>4AE	
TSEL FERTIGs<RVOFF>";	<012>
82 PRINT"<2SPACE>fiUSDRUCKEN MIT<SPACE,RVSO	
NJÄOÄHtRVOFF } "	<229>
83 WAIT 203,64sWAIT 203,63	<002>
84 PRINT"{HOME)";LL$;LL$sGOSUB 740 85 GOTO 95 86 s 87 REM" ÄÄ&4ÄÄ RAETSEL LOESCHEN 4444444 88 F$="WTSEL LOESCHEN"sGOSUB 4000		<017> <151> <062> <106> <240> <142>
89	IF F$<>"J"THEN RETURN	
90 I	RUN 30	<032>
91		<067>
92 I	REM" **A** PROGRAMM ABBRECHEN ^*****	<127>
93 I	Fl="flßBRECHEN"8 GOSUB 4000	<043>
94	IF F$<>"J"THEN RETURN	<147>
95 GOSUB 500sREM" PROGRAMM-ENDE		<239>
96	8	<072>
97 END		<099>
98	8	<074>
99		<075>
100	REM" ******* UNTERPROGRAMME *******	<186>
102	REM" ******************************	<176>
104		<080>
106	8	<082?>
110	REM" AUTOM. NACHLADEN	<026>
112	REM" .*A*A****jt.^^^^^	<174>
114		<090>
115	PRINT"{HOME,CYAN}";LL$;"<HOME}";TAB(18 ) 5	<010>
116	PRINT"{RVSON)HDRTSCHATZ UNGENUEGEND"	<090>
117	GOSUB 337	<093>
118	IF RIGHT$(NF$,l)="Q"THEN 154	<185>
120		<096>
122	DL=INT(DM/3)	<183>
124	8	<100>
125	IF AV=0 THEN AV=lsGOTO 154	<125?^
126	IF LS=0 THEN 154	<227>
127	s	<103>
128	REM" *** FOLGE-WORTSCHATZ LADEN ***	<115>
130	POKE 53280,2sPOKE 53281,2	<014>
132	PRINT"<HOME}";LL$;"<HOME,CYAN JäDRTSCHA TZ ";	<156>
133	PRINT"{RVSON>";NF$;"<RVOFF,SPACE>WIRD GELADEN"	<238>
136	F$=NF$:GDSUB 713	<070>
137	POKE 53280,0sPOKE 53281,0	<009>
138		<114>
154	RETURN	<212>
156		<132>
158		<134>
300	REM" WORTLISTE KUERZEN	<167>
302	REM"	<110>
304	-	<026>
307	SA=PEEK(47)+PEEK(48)*256+7	<075>
308	8	<030>
315	GOSUB 350 sREM" WOERTER KUERZEN	<150>
316		<038>
320	SA=SA+772	<064>
322	GOSUB 350 sREM" FRAGEN KUERZEN	<045>
324		<046?>
334	FG=FG-lsPOKE 2,FGsREM" FELD KUERZEN	<134>
336		<058>
337	PRINT"<HOME,WHITE>";NR;INT(FG/OG*100); " <LEFT , SPACE>7. <2SPACE } "	<070>
338		<060>
341	RETURN	<145>
342	8	<064>
344		<066>
349	REM" WORTVEKTOREN VERTAUSCHEN	<056>
350	X=SA+FG*3: Y=SA+W*3	<191?^
354	POKE Y,PEEK(X)	<005>
356	POKE Y+1,PEEK(X+1)	<103>
358	POKE Y+2,PEEK(X+2)	<145>
360		<082>
397	RETURN	<201>
398		<120>
399		< 1 71 >
450	REM" AUTOLADEN EIN/AUS	<059>
452	REM"	<004>
454	8	<176>
456	IF LS=0 THEN LS=l:GOTO 461	<054>
458	IF LS=1 THEN LS=0	<067>
460		<182>
461	POKE 214,13sP0KE 211,30sSYS 58732	<130>
462		<184>
463	PRINT"<RED>"?	<027>
464	IF LS=1 THEN PRINT"<RVSON>&IN<RVOFFI";	<172>
466	IF LS=0 THEN PRINT-flUS";	<163>
472		<194>
497 498 499	RETURN Listing 1. »Raetsel«. Beachten Sie die Eingabehinweise auf Seite 16.	<045> <220> <221>
Listing 1. »Raetsel«.
Beachten Sie die Eingabehinweise auf Seite 16.

42
C 64
Anwendung
500	REM“ PROGRAMM-ENDE	<241>
502	REM" *Ä*******************SÄiÄÄÄÄÄÄ	<054?^
504		<226>
505	PRINT"{CLR,LIG.BLUE}";CHR*(9);	<026>
506	POKE 53280,14sREM" RAHMEN HELLBLAU	<152>
508	POKE 53281,06;REM" GRUND BLAU	<228>
510		<232>
512	POKE 792,712REM" RESTORE UND	<119>
514	POKE 788,49sREM" STOP MOEGLICH	<157>
594		<062>
596	RETURN	<146>
598		<066?^
599		<067>
600	REM” BILD AUFBAUEN	<121>
602	REM " ÄÄÄÄÄÄÄä&Si±5äÄÄÄ±SÄÄ^^	<156>
604	:	<072>
606	POKE 53265,11 sREM" BILD AUS	<084>
607	2	<075>
608	REM" ***ffi KREUZWORTFELD ÄÄÄÄäÄäÄi	<104>
609	PRINT"{CLR,3D0WN}";CHR*(14);CHR$(8);	<110>
610	PR I NT “ <SPACE , CYAN}^*ÄÄ*±SÄÄÄÄÄÄÄÄÄÄÄÄS	
	*5 "	<132>
612	FOR N=1 TO 20	<163>
614	PRINT"<SPACE,CYAN>-<RVSON,LIG.BLUE,20S	
	PACE,RVOFF,CYAN >-"	<191>
616	NEXT	<118>
618	PRINT" <SPACE , CYAN)zjHLt5t&y&fc^^	
	i7 ";	<026>
619		<087>
620	REM" ÄÄÄÄi TASTENBELEGUNG jüüa±ö±£	<148>
621	B*="<28RIGHT>"	<17B>
622	PRINT"<HOME,3D0WN,RED}";	<084>
623	A*=" ÜDERTER <3SPACE>EINLESEN"	<195>
624	F=lsGOSUB 639	<159>
625	A*="5AETSEL<3SPACE>DRUCKEN "	<206>
626	F=4:G0SUB 639	<209>
627	A*="flJTOLADER SUS<5SPACE>"	<054>
628	F=6sG0SUB 639	<243>
629	A*="VON 0AND{2SPACE)EINGEBEN"	<049>
630	F=7sG0SUB 639	<005>
631	PRINT B$;"{DOWN,RVSON>F 2<RV0FF,D0WN,2	
	LEFTKLDESCHEN"	<071>
632	PRINT B*;"<DOWN,RVSON>F 8<RV0FF,D0WN,2	
	LEFT>flBBRECHEN";	<080?^
633		<101>
634	POKE 53265,27:REM" BILD AN	<029>
635		<103>
636	RETURN	<186>
637		<105>
639	PRINT B$;"<RVSON>F";F;"{RVOFFlÄSÄäÄÄ?	<003>
640	REM	PRINTB*;"-<9SPACE>-	<110>
641	PRINT B$;"z";LEFT$(A$,9);"z	<108>
642	PRINT B$;"-";RIGHT*(A*,9);"="	<147>
643	PRINT B$; "7iäöÄiüa±7	<063>
645		<113>
646	RETURN	<196>
648		<116>
649		<117>
650	REM" KREUZWORT V. HAND EINGEBEN	<088>
651	REM" *Ä*Ä*Ä*Ä*Ä*Ä*^	<205>
652	2	<120?^
653	T$="ÄREUZWORT (flBBR=Q)"	<062>
654	POKE 53280,2sPOKE 53281,2	<030>
655	PRINT"<HOME)";LL*;LL$	<157>
656	L=20:M=0 2 GOSUB 1000 2 M*=F*	<059>
657	IF M*="Q"AND NR>1 THEN 685	<040>
658	L=LEN(M$):IF L<2 THEN 656	<085>
659		<127>
660	T$=M$;GOSUB 2000 2REM" POS. EINGEBEN	<035>
661		<129?>
662	POKE 26,LEN(M$)sM$=M$;REM" WORT	<044>
663	WAIT 203,642U=USR(0) sREM" EINTRAGEN	<179>
664	IF U<>3 THEN 685	<254>
665		<133>
666	T*="ERAGESTELLUNG" 2REM" FRAGE	<llB>
667	L=36aM=lsG0SUB 1000 sREM” EINGEBEN	<023>
669		<137>
680	X$=STR$(PEEK(140)=0) 2REM" FRAGE	<146>
681	FS$(NR)=X$+F$:NR=NR+1 sREM" MERKEN	<084>
682	AV=0:DL=DM	<114>
683	GOTO 650	<223?^
684		<152>
685	RETURN	<235>
698		<166>
699		<167>
700	REM" KREUZWOERTER EINLESEN	<072>
701	REM" .**^*A*A**A^^^	<255>
702		<170>
703	POKE 53280,2=POKE 53281,2	<079>
704	PRINT"<HOME}";LL*;LL$;	<156>
705	T*= " JiORTSCHATZ (fiBBR=Q ) "	<045>
706	L=142M=12GOSUB 1000	<254>
707	IF F$="Q"THEN PRINT"<HOME>";LL^sGOTO 7	
	33	<173>
708	IF F*="*"THEN 710	<051>
709	F$=" ±" +CHR*(20)+F$2 GOTO 712	<168>
710	GOSUB 30002lF F$=""THEN 704	<137>
711		<179>
712	PRINT"<HOME?";LL*;LL$	<214>
713	OPEN 15,8,15	<107>
714	OPEN l,8,2,"0!"+F$+",S,R"	<169?^
715	INPUT#15,EN,EN*	<202>
716	IF ENO0 THEN 728	<164>
717		<185>
718	INPUT#l,FG 2REM" FELDGROESSE GLEICH	<226>
719	POKE 2,FG 2REM" ANZAHL WOERTER	<166>
720	FOR N=0 TO FG 2REM"LESE WOERTER/FRAGEN	<175>
721	2INPUT#l,KW*(N),FW*(N)	<197>
722	NEXT	<224>
723		<191>
724	INPUT#l,NF*2REM" NAECHSTER FILE	<136>
725	INPUT#15,EN,EN*	<212>
726	AV=02 DL=DM:BS=l2 OG=FG	<150>
727		<195>
728	PRINT"<HOME}";LEFT*(LL*,40-LEN(EN$));	<029>
729	PRINT"<RVSON}";EN*	<191>
730		<198>
731	CLOSE l2CLOSE 15	<135>
732		<200>
733	RETURN	<027>
734		<202>
735	2	<203>
740	REM" RAETSEL DRUCKEN	<084>
741	REM" -*Ä*Ä*Ä*Ä*Ä*>^^^^	<039>
742		<210>
743	POKE 53280,2sPOKE 53281,2	<119>
744	PRINT"<HOME}";LL*;LL*	<246>
745	PRINT"<HOME,CYAN,RVSON>fiAETSEL WIRD AU	
	SGEDRUCKT <RVOFF}"	<028>
746		<214>
747	GOSUB 7612REM" WORTFELD AUSDRUCKEN	<038>
748	GOSUB 8242REM" FRAGEN AUSDRUCKEN	<082>
749	GOSUB 9002REM" LOESUNG AUSDRUCKEN	<003>
750		<218>
751	RETURN	<045>
752		<220>
753		<221>
754	REM" SÄ INIT EPSON RX-80 DRUCKER ÄS	<011>
755	OPEN l,42PRINT#l,CHR*(27);"@";	<252>
756	PRINT#l,CHR*(27);"3";CHR*(24) ;	<198>
757	REM PRINT#l,CHR*(27);"L";CHR*(LR);	<150>
758	PRINT#l2 CLOSE l=RETURN	<147>
759		<227>
760	REM" ÄÄÄÄ WORTFELD AUSDRUCKEN &****	<252>
761	GOSUB 755aOPEN l,4,102CMD 1 2PRINT2PRI	
	NT" <RVSON>W;	<158>
762	FOR N=0 TO 19 2 PRINT"ÄÄÄ" ;:NEXT	<170>
763	PRINT'T{RVOFF)"	<058>
764		<232>
765	FOR ZE=0 TO 19	<132>
766	2 D=ZE*202AD=Sl+D2 AS=S2+D2 AW=S3+D	<221>
767	2 AB=S4+ZE*40	<126>
768		<238>
772	2PRINT" ";	<242>
773	sFOR SP=0 TO 19	<236>
774	2 C=PEEK(AS+SP)	<068>
775	2 IF C=0 THEN PRINT"<3SPACE>"5aGOTO 77	
	7	<107>
776	2 PRINT MID*(STR*(C)+"<3SPACE>",2,3);	<194>
777	2NEXT SP	<074>
779	2GOSUB 820	<058>
780	2FOR N=1 TO 3	<017>
781	2 PRINT"<RVSON>zz<RVOFF>"?	<131>
782	2 FOR SP=0 TO 19	<245>
783	2	A=166:B=A:C=A	<233>
784	2 IF PEEK(AB+SP>=160 THEN 790	<070>
785	2	B=322C=B2lF SP=19 THEN 787	<191>
786	2 IF(PEEK(AD+SP)AND l)THEN C=167	<120>
787	2	A=1652IF SP=0 THEN A=32	<061>
788	2 IF(N=l)AND PEEK(AS+SP)THEN A=32	<249>
789	2 IF(N=3)AND PEEK(AW+SP)THEN A=32	<123>
790	2 PRINT CHR*(A);CHR*(B);CHR*(C);	<048>
791	2 NEXT SP	<088>
792	2 PRINT"<RVSON>-<RVOFF>";2lF N<3 THEN	
	PRINT	<100>
793	2NEXT N Listing 1. »Raetsel« (Fortsetzung)	<255>

43
Anwendung
C 64
794 :	<008>
795 sGOSUB 820sPRINT,, ";	<165>
796 :FOR SP=0 TO 19	<003>
797 8 C=PEEK(AW+SP)	<095>
798 s IF C=0 THEN PRINT"<3SPACE>";sG0T0 80	
0	<057>
799 s PRINT MID$(STR$(C)+"<3SPACE>",2,3);	<217>
800 sNEXT	<129>
801 8	<015>
802 sIF ZE=19 THEN 810	<241>
803 sGOSUB 820sPRINT" ";	<173>
804 sFOR SP=0 TO 19	<011>
805 s P=AD+SPsC=(PEEK(P)AND 16)	<168>
806 8 IF C THEN PRINT"^TFF";sGOTO 808	<004>
807 s PRINT"555";	<170>
808 sNEXT SP	<105>
809 s	<023>
810 PRINTsNEXT ZE	<043>
811 s	<025>
812 PRINT"{RVSON>T';	<164>
813 sFOR N=0 TO 19sPRINT"***";sNEXT	<116>
814 PRINT'^{RVOFF)";;PRINT#hCLOSE 1	<045>
815 s	<029>
816 RETURN	<112>
817 s	<031>
818 s	<032>
820 PRINT CHR$(141);8 RETURN	<038>
821 REM PRINTCHR$(141);LEFT$(LL$,LR);sRET	
URN sREM FUER RX80	<200>
822 s	<036>
823 REM" ***** FRAGEN AUSDRUCKEN ÄÄÄÄÄÄ	<041>
824 PRINT CHR$(14)sOPEN 1,4	<012>
825 PRINT#l,CHR$(27);"0";	<162>
826 PRINT#l,CHR$(27);CHR$(15);	<127>
827 PRINT#l,CHR$(27);"L";CHR$(LR*1.7);	<042>
828 s	<042>
829 CMD lsPRINT CHR$(14);"5ENKRECHT:"	<018>
830 SW=0sGOSUB B38sPRINT	<184>
831 s	<045>
832 PRINT CHR$(14);"BAAGERECHT:"	<006>
833 SW=-lsGOSUB 838sPRINT#lsCL0SE 1	<002>
834 s	<048>
835 RETURN	<131>
836 :	<050>
837 s	<051>
838 MZ=0sZL=0sF=0sNA=l	<135>
839 FOR N=1 TO NR-1	<211>
840 sIF VAL(FS$(N))=SW THEN GOSUB 847	<064>
841 NEXT N	<203>
842 M=0sMR=0sBZ=0sGOSUB 881sPRINT	<076>
843 s	<057>
844 RETURN	<140>
845 s	<059>
846 s	<060>
847 NL=LEN(STR$(N))+2	<160>
848 L=ZL+NL+LEN(FS$(N))	<059>
849 IF L<CZ THEN ZL=LsGOTO 861	<063>
850 s	<064>
851 PA=1	<245>
852 FOR P=3 TO LEN(FS$(N))-2	<215>
853 sIF MIDI(FS$(N),P,1)<>" "THEN 855	<073>
854 sL=ZL+NL+P-2sIF L<CZ THEN PA=P	<248>
855 NEXT P	<233>
856 s	<070>
857 IF PA=1 THEN MZ=MZ-lsL=ZL	<204>
858 IF PA>1 THEN L=ZL+NL+PA-2	<225>
859 GOSUB 866sMZ=0	<052>
860 s	<074>
861 MZ=MZ+1	<090>
862 s	<076>
863 RETURN	<159>
864 s	<078?>
865 s	<079>
866 BZ=INT<(CZ-L)/MZ)sMR=CZ-(L+BZ*MZ)	<209>
867 M=-(MR>0)sGOSUB 881	<121>
868 s	<082>
869 NA=N+lsL=LEN(FS$(N));IF PA>1 THEN 873	<146>
870 W=N s PRINT";"s GOSUB 892 s ZL=NL+L+3	<008>
871 PRINT MID$(FS$(N),3,L);sG0T0 878	<145>
872 s	<086>
873 PRINT"; ";LEFT$(LL$,BZ);	<144>
874 W=NsGOSUB 892sZL=L-PA+2	<114>
875 PRINT MID$(FS$(N),3,PA-2)	<069>
876 PRINT RIGHT$(FS$(N),L-PA>;	<171>
877 s	<091>
87B RETURN	<174>
879 s	<093>
880 s	<094>
881	FOR P=NA TO N-1	<254>
882	sIF VAL(FS$<P))<>SW THEN 887	<044>
883	sIF F THEN PRINT"; ";LEFT$(LL#,BZ+M);	<162>
884	sIF F THEN MR=MR+(MR>0)sM=-(MR>0>	<245>
885	:F=lsW=PsGOSUB 892	<251>
886	sPRINT RIGHT$(FS$(P),LEN(FS*(P))-2);	<134>
887	NEXT P	<009>
888	s	<102>
889	RETURN	<185>
890	s	<104>
891		<105>
892	NL=LEN(STR$(W))-lsPRINT"(";	<252>
893	PRINT RIGHT$(STR$(W>,NL);") ";	<207>
894	RETURN	<190>
895		<109>
899	REM" ***** LOESUNG AUSDRUCKEN 4444»;	<060>
900	GOSUB 755sPRINT CHR$(14)sOPEN l,4,10sC	
	MD 1	<182>
901	s	<115>
902	PRINT s PRINT s PRINT s PRINT"LDESUNG s"	<045>
903	PR I NT " W&i&fc*0L*JL?^	<088?>
904	FOR N=S4 TO S4+760 STEP 40	<053>
905	sPRINT"-";:FOR P=N TO N+19	<091>
906	sPRINT CHR$(PEEK(P));	<168>
907	sNEXT PsPRINT"z"	<113>
908	NEXT N	<014>
909	PR I NT " ?*±*±*±ÖL*±i^^	<075:>
910	PRINT#lsCLOSE 1	<130>
911		<125>
912	RETURN	<208>
913		<127>
914	s	<128>
915	REM" VORBEREITUNGEN	<057>
916	REM" *itt*JL**JHL^^	<216>
917		<131>
919	POKE 53280,2sREM" RAHMEN GRAU	<003>
920	POKE 53281,2sREM" HINTERGRUND GRAU	<219>
921	s	<135>
922	REM P0KE792,193sREM" RESTORE UND	<137>
923	REM P0KE788,52 sREM" STOP VERRIEGELN	<155>
924		<138>
925	DIM KW^(254)sREM" KREUZWOERTER	<209>
926	DIM FW$(254)sREM" FRAGEN DAZU	<022>
927	DIM FS$(255)sREM" FRAGESTELLUNG	<137>
928	FG=lsOG=FG sREM" FELDGROESSE	<202>
929	POKE 2,FG sREM" UEBERGEBEN	<179>
930		<144>
931	POKE 785,0 sREM" USR-VEKTOR	<087>
932	POKE 786,192 sREM" SETZEN	<210>
933		<147>
934	LS=0sREM" flUTOLADER 3JS	<0B7>
935	BS=lsREM" S_AUSPERRE £IN	<227>
936		<150>
937	SYS 50016sREM" MATRIX LOESCHEN	<089>
938		<152>
940	REM SYS 51859 sREM" INIT. DRUCKTREIBER	<007>
942	s	<156>
944	REM" KONSTANTENs	<058>
945		<159>
946	LR=10 sREM" LINKER RAND DRUCKAUSG.	<178>
948	CZ=INT(130-LR*1.7) s REM" ZEILLAENGE	<091>
949		<163>
950	FOR N=1 TO 40 sREM" LEERSTRING FUER	<031>
952	sLL$=LL$+" " sREM" FORMATIERTE	<006>
954	NEXT	sREM" AUSGABE	<029>
955		<169>
956	Sl=50176 sREM" ADRESSEN DER	<224>
958	S2=50576 sREM" WORTFELD-	<104>
960	S3=50976 sREM" SPEICHER	<173>
962	S4=1186	<165>
963		<177>
964	DM=10000sREM" MAX- ANZ. LAEUFE	<003>
965	s	<179>
966	RETURN	<006>
967		<181>
969	■	<183>
970	REM" ROUTINEN LADEN	<005>
971	REM" &*Ät&JÜÜÜÜÜÜL*L^^	<015?^
972		<186>
975	FOR N=0 TO 3sSl=Sl+PEEK(49152+N)sNEXT	<237>
976	FOR N=0 TO 3sS2=S2+PEEK(51857+N)sNEXT	<204>
977	s	<191>
978	IF Sl<>483 THEN L0AD"SUCH.0BJ",8,l	<153>
979	REM IFS2< >494THENL0AD"DRUCK.OBJ",8,1	<045>
980		<194>
987	RETURN	<027>
997	:	Listing 1. »Raetsel« (Fortsetzung)	<211>
998		<212>
44
C 64
Anwendung
999		<213>
1000	REM" INPUTFORM ROUTINE	<235>
1001	REM" *L£*JÜÜÜLfc£*L£2L?ÜL££*^^	<172>
1002		<216>
1003	X$=CHR$(13):Y$=CHR$(20)	<066>
1004	Z$=CHR$(34)	<200>
1005		<219>
1006	PRINT"{HOME,CYAN,RVSON >";T$;"? <RVOFF, 2SPACE >";=POKE 198,0	<129>
1007		<221>
1008	F$=” "	<039>
1009	FOR N=1 TO L+1	<027>
1010	:PRINT"<LEFT>";F$; "5" ;	<141>
1011	:WAIT 198,lsGET F$;POKE 198,0	<016>
1012	:IF F$=X$THEN 1024	<095>
1013	sIF F$=Y$AND N>1 THEN N=N-l2GOTO 1010	<135>
1014	sIF N>L THEN 1011	<030>
1015	3 IF M=0 THEN 1021	<044>
1016	sIF Ft=","OR F$=Z$THEN 1011	<240>
1017	sIF F$>=" "AND F$<="9"THEN 1022	<052>
1018	sIF F$>="fl"AND F$<="Z"THEN 1022	<034>
1021	sIF F$<"A"OR F$>"Z"THEN 1011	<193>
1022	NEXT	<014>
1023	:	<237>
1024	PRINT"<LEFT,SPACE,LEFT,HOME,RVSON }";T ♦;	<149>
1026	POKE 631,13sP0KE 198,l:INPUT F$	<095>
1029	IF F$=XtTHEN 1005	<202>
1030	:	<246>
1097	RETURN	<139>
1098		<058>
1099		<059>
2000	REM" WORT POSITIONIEREN	<096>
2001	REM" ±y±Ä±8±&ä±i^^	<156>
2002	:	<200>
2004	PRINT"<HOME,DOWN,LIG.BLUE,RVSON,SPACE }(§) ENKRECHT<3SPACE>0DER";	<229>
2005	PRINT"<3SPACE>(M) AAGERECHT<2SPACEJ?	
		<177>
2006	WAIT 203,632GET F$	<239>
2007	IF F$<>"S"AND F$<>"W"THEN 2006	<150>
2008		<206>
2009	PRINT"<HOME,DOWN,RVOFF}";LL$;	<062>
2010	PRINT"{H0ME,D0WN,RVS0N)2ITTE EPSITION	
	ANFAHREN!"	<221>
2011	PRINT"<HOME,3D0WN,3RIGHT,RVOFF}";	<103>
2012		<210>
2013	FA=11862P=FA s F=PEEK(FA)	<198>
2014	X=0:Y=0sS=(F$="S")sPOKE 140,ABS(S)	<158>
2015	MX=20+L*(S=0)+(S=-1)	<146>
2016	MY=20+L*(S=-1)+(S=0)	<034>
2017		<215>
2018	FOR N=0 TO 9999	<237>
2019	POKE P,F;P=FA+X+Y*40	<195>
2020	F=PEEK(P):POKE P,94sWAIT 198,1	<107>
2021	GET F$:IF F$=CHR$(13)THEN 2028	<211>
2022	IF F$="{DOWNJ"THEN Y=Y-l*(Y<MY):NEXT	<174>
2023	IF F$="{RIGHT)"THEN X=X-l*(X<MX):NEXT	<143>
2024	IF F$="<UP>"THEN Y=Y+l*(Y>0)sNEXT	<207>
2025	IF F$="{LEFT)"THEN X=X+l*(X>0)sNEXT	<192>
2026	NEXT	<002>
2027	:	<225>
2028	POKE P,F	<100>
2029	PRINT"<HOME >";LL$;LL$;	<211>
2030		<228>
2031	POKE 211,X sREM" CURSOR-POSITION	<218>
2032	POKE 214,Y sREM" SETZEN	<028>
2033		<231>
2097	RETURN	<123>
2098		<042>
2099		<043>
3000	REM" DIRECTORY LISTEN	<170>
3001	REM" jHÜL*±4t?ÜLt^^^	<140>
3003		<185>
3004	PRINT"<HOME}";LL$;"<HOME,CYAN }";	<140>
3005	PR I NT " flI T <SPACE, RVSON)££J^ä<RVOFF, SP ACE>AUSWAEHLEN "	<027>
3006	PRI NT" <UP>MIT <SPACE, RVSON)L&L0MCE<R V0FF,2SPACE>WEITER "	<214>
3007		<189>
3008	OPEN 15,8,15,"I0"s0PEN 2,8,2,"#"	<086>
3010		<192?>
3012	T=18;S=l:FI=""	<112>
3014		<196>
3016	FOR W=0 TO 99	<205>
3018		<200>
3020	s PRINT#15,"B-R";2;0;T;S	<161>
3022	s PRINT#15,"B-P";2; 0	<050>
3024	s	<206>
3026	:GET#2,X$sT=ASC(X$+CHR$(0))	<180>
3028	3GET#2,X$:S=ASC(X$+CHR$C0))	<178>
3030		<212>
3032	sFOR X=0 TO 7	<082>
3034	s PRINT#15,"B-P";2;X*32+5:GET#2,F$	<216>
3038	s IF F$O"±"THEN NEXT XsGOTO 3060	<243>
3042	: FOR Y=1 TO 15	<016?^
3044	: GET#2,X$sF$=F$+X$	<097>
3046	3 IF X$=CHR$(160)THEN Y=15	<139>
3048	s NEXT Y	<143>
3050	: PRINT"<HOME}";TAB(24);"{RVSON}";	<068>
3052	s PRINT RIGHT$(F$,LEN(F$)-2);"<RV0FF}	
		<198>
3053	: WAIT 203,64sWAIT 203,63sGET X$	<073>
3054	s IF X$=CHR$(13)THEN 3064	<186>
3055	s PRINT"{H0ME>";TAB(24);LEFT$(LL$,14)	<179>
3056	s F$=""	<081>
3057	2NEXT X	<136>
3058	2	<240>
3060	sIF T=0 THEN W=99	<049>
3061	NEXT W	<207>
3062	2	<244>
3064	CLOSE 2sCL0SE 15	<190>
3065	PRINT"<HOME}”;LL$;LL$	<025>
3066		<248>
3068	RETURN	<076>
3070		<252>
3071	2	<253>
4000	REM" SICHERHEITSABFRAGE	<098>
4001	REM" Ä&SÄÄÄÄäfeäd^	<046>
4002		<168>
4003	POKE 53280,2sPOKE 53281,2	<077>
4004	PRINT"<HOMEJ";LL$	<054>
4006	PRINT"<HOME,CYAN,RVSONJ";F$;"2 <RVOFF,	
	SPACEJälCHER (£/M> ?"	<212>
4008	WAIT 203,642WAIT 203,63sGET F$	<227>
4010	IF F$<>"J"THEN PRINT"{HOMEJ";LL$	<114>
4012		<178>
4014	RETURN	<006>
4016	2	<182>
4018		<184>
4020	:	<186>
9000	REM " RtJL*JL2L*Ä*ÜL*JL*^L^^	<135>
9002	REM"-<2SPACEJENDE <3SPACE JRAETSELGENER	
	ATOR<3SPACE>-	<129>
9004	REM " ?jöüSÄä&ÖÄÄäÄjü^^	<120>
© 64"	er	
Listing 1. Das Listing zum Kreuzworträtsel. Beachten		
Sie die Hinweise zum Eintippen auf Seite 16. Speichern		
Sie dieses Programm unter dem Namen »RAETSEL«		
auf Diskette. Vor dem Starten muß zuerst Listing 2		
eingegeben und gespeichert werden.		
10	PRINT"<CLR>";2T=TI+180	<051>
11	PR I NT " s*&y±»±±Lity±5^^	<076>
12	PRINT"- LEXIKON-EDITOR <2SPACE >HH,30.5.8 4 -	<156>
18	PR I NT " 7*&JUL&Jt*AS&0A^	<064>
19	IF TI<T THEN 19	<120>
20		<252>
22		<254>
24	REM" HAUPTPROGRAMM	<072>
26	REM"	<219>
28		<004>
30	GOSUB 9002REM" VORBEREITUNGEN	<129>
32		<116>
34	GOSUB 6002REM" MENUE	<167>
36	:	<012>
38	M=0	<243>
40	IF F$="<FlJ"THEN	GOSUB 30062GOTO 34	<02B>
42	IF F$="<F3J"THEN	GOSUB 03002GOTO 34	<054>
44	IF F$="{F5)"THEN CLRsGOSUB 05002GOTO 34	<012>
46	IF F$="{F7J"THEN PRINT"{CLR)"	<087>
47		<023>
48	PRINT " aiCHER{llSPACE)(J/N) ?"	<162>
50	WAIT 203,642POKE 198,0sWAIT 203,63	<110>
52	GET F$2IF F$<>"J"THEN 34	<122>
53		<029>
54	PRINT CHR$(9);	<106>
60	PRINT"{DOWN,SPACEJ£AETSEL-£ROGRAMM (J/N ) ?"	<177>
62	WAIT 203,64sPOKE 198,02WAIT 203,63	<122>
63	:	Listing 2.	<039>
64	GET F$:IF F*="N"THEN 90	»EditOr«	<133>
'Ä
45
Anwendung
C 64
66	IF F$O"J"THEN 62	<215>
68 PRINT"{CLR)LOAD"+CHR$(34);		<036>
70	PRINT"RAETSEL";CHR$(34);",8"	<198>
72 PRINT"<3D0WN}"SPRINT"RUN"		<116>
74	POKE 198,3sP0KE 631,19	<201>
76 POKE 632,13;P0KE 633,13		<156>
77	BOTO 97	<175>
88		<064>
90	POKE 792,71sREM" RESTORE UND	<205>
92 POKE 788,49sREM" STOP REPARIEREN		<168>
94		<070>
97 END		<099>
98		<074>
99		<075>
300	REM" DATEI AENDERN	<153>
302	REM" t5ii*iS4S2^^	<241>
304		<026>
306	GOSUB 7002REM" WEI EINLESEN	<247>
307	:	<029>
308	EF=0;PRINT"<CLR>"	<217>
309	PR I NT " ai T <SPACE, RVSON >AmSM<RVOFF , SP ACE>AUSWAEHLEN"	<127>
310	PR I NT " «I T <SPACE , RVSON }LJJ^RTJL5T£{RVQFF ,2SPACE>WEITER"	<228>
311	PRINT" ÜIT <SPACE,RVSON >Q{RVOFF,7SPACE) ABBRECHEN"	<220>
312	GOSUB 2000;REM" ^TEI AUFLISTEN	<149>
313	2	<035>
314	PRINT"<D0WN,3SPACE,RVS0N>EERTIG 7<RVOF F,SPACE>(J/N)"	<166>
316	WAIT 203,64;POKE 198,0sWAIT 203,63	<122>
318	GET F$:IF F*="N"THEN 308	<059>
320	IF F*<>"J"THEN 316	<117>
322	:	<044>
323	IF EF=0 THEN 397	<183>
324	GOSUB 800:REM" WEI AUFZEICHNEN	<125>
395	:	<117>
397	RETURN	<201>
398		<120>
399		<121>
500	REM" DATEI EINGEBEN	<110>
502	REM" *Ä*Ä*Ä»*Ä^^	<058>
503	s	<225>
504	PRINT"<CLR>";sGOSUB 900	<025>
505	s	<227>
506	T*="<RVSON>HPRTSCHATZ-BAME:"	<245>
507	L=14sM=lsF$=""sG0SUB 1000	<146>
508	AF$="+"+CHR$(20)+F*	<111>
510	:	<232>
519	PRINT	<113>
520	T$="{RVSON>EPLGE-HDRTSCHATZ (Q=KEINEN)	
	■ "	<119>
521	L=14zM=lsF$="":G0SUB 1000	<162>
522	NF$=" ±" +CHR$(20)+FI	<179>
524		<248>
525	PRINT"<CLR}":NR=02EF=0	<226>
527		<251>
528	REM" WOERTER EINGEBEN	<097>
529	GOSUB 650	<085>
530		<254>
532	IF F$="Q"THEN NR=NR-l2GOTO 539	<167>
534	IF NR<254 THEN NR=NR+1	<215>
536	IF PEEK(210)=7 THEN PRINT"<CLR>"	<005>
537	GOTO 529	<054>
538		<006>
539	IF EF=0 THEN 597	<147>
540	REM" DATEI AUF DISKETTE ABLEGEN	<077>
541	FG=NRsGOSUB 800	<087>
592		<060>
597	RETURN	<147>
598	s	<066>
599		<067>
600	REM" MENUE	<169>
602	REM" SäüS	<033>
604		<072>
606	PRINT"<CLR >";2 F$=""	<204>
608	PRINT M<DOWN,SPACE,RVSON)E1 <RVOFF,2SPAC E>fiIRECTORY	<197>
610	PRINT"<DOWN,SPACE,RVSON>E3 <RVOFF,2SPAC E)WEI AENDERN	<012>
612	PRINT"<DOWN,SPACE,RVSON)0<RVOFF,2SPAC E)WEI ANLEGEN	<052>
614	PRINT"<DOWN,SPACE,RVSON>E7 <RVOFF,2SPAC E>fiBBRECHEN	<082>
616		<084>
618	WAIT 203,632GET F$	<121>
620	IF F$<CHR$(133)0R F$>CHR$(136)THEN 618	<142>
621	PRINT"<CLR>"	<101>
622		<090>
647	RETURN	<197>
648		<116>
649		<117>
650	REM" KREUZWOERTER EINGEBEN	<204>
651	REM" *Ä*Ä**Ä#Ä^^	<078>
652		<120>
653	N$=STR*(NR);N$=RIGHT$(N$,LEN(N$)-1)	<248>
654	T*= " <RVSON ) " +N$+ " . JSREUZWORT <RVOFF , SPA CE>(Q=ENDE)"	<062>
655	L=20:M=0sF$=KW$(NR):GOSUB 1000	<090>
656	IF F$="Q"THEN 697	<065>
657	IF LEN(F$)<2 THEN PRINT"<3UP>";5GOTO 6 55	<235>
658	KW$(NR)=F*;PRINT	<030>
659	s	<127>
664	T$="<RVSON>ERAGESTELLUNG{RVOFF}*	<139>
666	L=35:M=1s F$=FW$(NR)2 GOSUB 1000	<214>
681	FW$(NR)=F$2PRINT	<033>
682		<150>
683	EF=1	<071>
686		<154>
697	RETURN	<247>
698		<166>
699		<167>
700	REM" DATEI EINLESEN	<204>
702	REM" öjyaaffiayyyat	<004>
703	2	<171>
705	PRINT"<CLR>"	<185>
706	T$="<RVSON>BDRTSCHATZ{RVOFF,SPACE?($=D IRECTORY)"	<002>
708	L=14sM=l!F$="":G0SUB 1000	<093>
709	IF F$="$"THEN M=12GOSUB 3000	<060>
710	IF F*=""THEN 705	<217>
712	2	<180>
713	AF$="±"+CHR$(20)+F$	<062>
714	OPEN l,8,2,"02"+AF*+",S,R"	<110>
716		<184>
718	INPUT#1,FG 2 REM" FELDGROESSE	<085>
719	2	<187>
720	REM" WOERTER/FRAGEN EINLESEN	<196>
721	FOR N=0 TO FG	<017>
722	2INPUT#l,KW$(N),FW$(N)	<198>
724	NEXT	<226>
726	2	<194>
728	INPUT#1,NF$2REM" FOLGE-WORTSCHATZ	<070
730	2	<198>
732	CLOSE 1	<235>
796	2	<010>
797	RETURN	<093>
798		<012>
799	2	<013>
800	REM" DATEI AUFZEICHNEN	<183?^
802	REM" ****&0tJ^^	<127>
803		<017>
805	PRINT"<CLR>"	<031>
807	2	<021>
812	OPEN 15,8,15,"I":CL0SE 15	<226>
813	2	<027>
814	OPEN l,8,2,"e0:"+AF$+",S,W"	<152>
816	2	<030>
818	PRINT#l,FG sREM" FELDGROESSE	<011>
819	2	<033>
820	FOR N=0 TO FG	<118>
822	2 PRINT#1,KW$(N)2 PRINT#l,FW$(N)	<217>
824	NEXT	<072>
826	2	<040>
828	PRINT#l,NF*2REM" NAECHSTER FILE	<066>
830		<044>
832	CLOSE 1	<081>
896	2	<110>
897	RETURN	<193>
898		<112>
899		<113>
900	REM" VORBEREITUNGEN	<042>
902	REM" *Ä*Ä»Ä*Ä*Ä^^^	<206>
904		<118>
906	POKE 53280,62REM" RAHMEN BLAU	<117>
908	POKE 53281,14zREM" GRUND HELLBLAU	<149>
909	PRINT CHR*(14);CHR*(8);CHR^(144)	<091>
910	2	<124>
912	POKE 792,1932REM" RESTORE UND	<038>
913	POKE 788,522REM" STOP VERRIEGELN	<222>
914		<128>
915	DIM KW$(254)2 REM" KREUZWOERTER	<199>
916	DIM FW$(254)2REM" FRAGEN DAZU	<012>
986 987	RETURN Listing 2. »Editor« (Fortsetzung)	<200> <027>
46
!Ä
C 64
Anwendung
988 s 989 i 990 : 1000 REM" INPUTFORM ROUTINE			<202> <203> <204> <235> <070>
1001	REM" .*Att<*Jtj^^		
1002			<216>
1003	X$=CHR$(13):Y*=CHR*(20)		<066>
1004	Z*=CHR*(34)sP0KE 198,0		<250>
1005			<219>
1006	PRINT" ";T*sPRINT"<2D0WN,UP,SPACE>? " ;F*;" ";		<031>
1007	X=l:IF F$<>""THEN X=LEN(F*)+1		<177>
1008			<222>
1009	F*=""sFOR N=X TO L+1		<003>
1010	sPRINT"<LEFT}";Fl;"5";		<141>
1011	sWAIT 19B,18GET FlzPOKE 198,0		<016>
1012	sIF FI=XITHEN 1025		<127>
1013	sIF F*=Y*AND N>1 THEN N=N-lsGOTD	1010	<135>
1014	sIF N>L THEN 1011		<030>
1015	sIF M=0 THEN 1021		<044>
1016	sIF F*=","OR F*=Z*THEN 1011		<240>
1017	:IF F*>=" "AND F*<="9"THEN 1022		<052>
1018	sIF FI>="fi"AND FI<="l"THEN 1022		<034>
1021	sIF F$<"A"OR F*>"Z"THEN 1011		<193>
1022	NEXT		<014>
1023			<237>
1025	PRINT CHR*(20);sPOKE 211,1		<143>
1026	POKE 631,13sP0KE 198,lsINPUT Fl		<095>
1030	IF FI=XITHEN PRINT"<UP,4RIGHT>";s 1009	GOTO	<242>
1036			<252>
1097	RETURN		<139>
1098			<058>
1099			<059>
2000	REM" DATEI AUFLISTEN		<110>
2002	REM" *j®*JHL*JL^^		<037>
2004	S		<202>
2010	FOR NR=0 TD FG		<013>
2012	s PRINT"<DOWN,SPACE>->{RVSON)";KWI(NR) ;"<RVOFF>"		<032>
2014	s PRINT"<3SPACE)";FW*(NR)		<242>
2016	sFOR W=0 TO 60sNEXT		<157>
2017	sWAIT 198,lsGET F*sPRINT"<2UP,3SPACE, 2D0WN>"		<200>
2018	sIF F*="Q"THEN 2029		<052>
2019	sIF F*<>CHR*(13)THEN 2024		<025>
2021	:PRINT"{CLR)"sGOSUB 650		<046>
2022	sPRINT"<CLR>"sWAIT 203,64		<197>
2024	sIF PEEK(210)=7 THEN PRINT"<CLR>"		<180>
2026	NEXT		<002>
2028			<226>
2029	T*="{RVSON>EDLGE-HDRTSCHATZ"		<071>
2030	PRINT"<3SPACE>";T*;"s"sPRINT" ->"	;NF*	<087>
2032	WAIT 203,64sPOKE 198,0sWAIT 203,63		<058>
2034			<232>
2036	GET F*sIF F*<>CHR*(13)THEN 2097		<230>
2037	F*=RIGHT*(NF*,LEN(NF*)-2)		<173>
2038	T*=T*+" (Q=KEINEN)s"		<118>
2039	PRINT"<CLR>"sGOSUB 1000sEF=l		<133>
2040	NF*="±"+CHR*(20)+F*		<171>
2096			<040>
2097	RETURN		<123>
2098	s		<042>
2099	s		<043>
3000	REM" DIRECTORY LISTEN		<170>
3002	REM" .<L<*JL*JtA<L^^^^^		<027>
3003	S		<185>
3004	PRINT"<CLR>"		<198>
3005	PR I NT " ni T <SPACE , RVSON )WW{RVQFF , S PACE >AUSWAEHLEN"		<027>
3006	PRINT" MTT fRPAPFTRURON* L EEHASTEfRVOF F,2SPACE>WEITER"		<128>
3007	PRINT		<059>
3008			<190>
3009	OPEN 15,8,15,"I0"s0PEN 2,8,2,"#"		<087>
3010			<192>
3012	T=18sS=lsF*=""		<112>
3014			<196>
3016	FOR W=0 TO 99		<205>
3018			<200>
3020	s PRINT#15,"B-R";2;0;T; S		<161>
3022	s PRINT#15,"B-P";2;0		<050>
3024			<206>
3026	s GET#2,X*s T=ASC(X*+CHR*(0))		<180>
3028	s GET#2,X*sS=ASC(X*+CHR*(0))		<178>
3030			<212>
3032	sFOR X=0 TO 7		<082>
3034	s PRINT#15,"B-P";2;X*32+5		<212>
3036	s GET#2,X*	<186>
3038	s IF X*O"±"THEN NEXT XsGOTO 3060	<020>
3040	s GET#2,X*	<190>
3042	s FOR Y=1 TO 14	<014>
3044	s GET#2,X*s F*=F*+X*	<097>
3046	s IF X*=CHR*(160)THEN Y=15	<139>
3048	s NEXT Y	<143>
3050	s PRINT" -XSPACE,RVSON>";F*;"<RVOFF}	
		<145>
3051	s IF M=0 THEN 3056	<102>
3053	s WAIT 203,64sWAIT 203,63sGET X*	<073>
3054	s IF X*=CHR*(13)THEN 3064	<186>
3055	s PRINT"<UP,4SPACE}"	<149>
3056	s F*=""	<081>
3057	:NEXT X	<136>
3058	s	<240>
3060	sIF T=0 THEN W=99	<049>
3061	NEXT W	<207>
3062	s	<244>
3064	CLOSE 2sCLOSE 15	<190>
3065	IF M=0 THEN WAIT 203,63	<146>
3066		<248>
3068	RETURN	<076>
3070	s	<252>
3071	s	<253>
3072	s	<000>
9000	REM " ¥fä&LS±SÄÄÄä^^	<135>
9002	REM"- ENDE <5SPACE >LEXIKON-EDITOR <4SPA	
	CE>-	<102>
9004	REM " z±y±*±*±t*±t^^	<120>
© 64'	'er	
Listing 2. »Editor« (Schluß). Beachten Sie die Eingabehinweise auf Seite 16.		
programm s such.obJ c000 c3Ba
	w					—					clc0		20	fO	06	e6	ld	aO	01	dO	33
											clc8	:	dO	18	60	a5	50	a6	51	85	fc
cOOO		78	20	8b	cO	fO	09	20	bc	d5	cldO		57	86	58	a4	ld	fO	Oe	a9	fa
cOOB	:	cO	20	40	cO	4c	15	cO	20	dd	cld8		28	18	65	57	90	02	e6	58	b6
cOlO		Of	cl	20	64	cl	bO	13	a9	d6	cle0		85	57	88	dO	f2	a9	14	a6	67
coia	£	00	85	8b	8d	00	dc	ad	01	Of	cle8		8c	fO	06	38	e5	ld	4c	f4	d7
c020		dc	c9	ff	fO	ea	aO	01	4c	4f	clfO		cl	38	e5	lc	85	62	38	60	d7
c028		87	cO	a5	8c	fO	06	20	15	f4	clf8		a9	00	85	8d	85	8f	85	ib	d5
c030		c2	4c	37	cO	20	5f	c2	bO	68	c200		a5	57	a6	58	85	59	B6	5a	f7
c038	:	2d	e6	19	a5	02	c5	19	90	a7	c208		a5	5b	a6	5c	85	5d	86	5e	liii
c040		11	a2	01	20	38	cl	20	47	87	c210	.	a5	lc	85	le	60	20	fB	cl	57
cO48		cl	a5	62	c5	la	90	ea	4c	98	c218		a4	le	bl	59	c9	aO	fO	08	d8
c050		2a	cO	a5	14	dO	Ob	a5	15	ec	c220	:	a4	lb	dl	65	dO	35	a4	le	f8
c058		dO	05	aO	02	4c	87	cO	c6	a5	c228		bl	5d	29	Of	c9	Oe	dO	04	Oc
c060	£	15	c6	14	4c	17	cO	a5	8b	8c	c230	:	85	Bf	fO	06	c9	07	dO	23	d8
cO6B		dO	Oc	a5	8d	fO	e4	a5	8e	43	c238		85	8d	e6	lb	a5	lb	c5	la	lf
c070		40	04	a5	8f	fO	dc	!■	fB	61	c240		fO	lb	a9	28	18	65	59	90	60
cO78		07	20	92	c2	aO	03	ad	f8	57	c248		02	e6	5a	85	59	a9	28	18	b8
cOBO	11	07	c9	ff	dO	02	aO	04	58	6c	c250		65	5d	90	02	e6	5e	85	5d	fa
c088		4c	-a2	b3	20	f7	b7	a5	2f	48	c25B	£	18	90	bd	18	60	38	60	20	b4
c090		a6	30	85	4e	B6	4f	aO	00	df	c260	£	f8	cl	a4	le	bl	59	c9	aO	74
c098	£	84	8b	a9	07	18	65	4e	90	34	c268		fO	08	a4	lb	dl	65	dO	20	b5
cOaO		02	e6	4f	85	4e	a9	a2	a2	9c	c270		a4	le	bl	5d	29	Of	c9	Oe	8a
cOa8		04	85	50	86	51	a2	d8	85		c278	£	dO	04	85	8f	fO	06	c9	O1	06
cObO		52	86	53	a5	la	c9	00	fO	al	c280		dO	Oe	85	8d	e6	le	e6	lb	9b
cOb8	:	02	85	Bb	60	a5	d3	85	lc	b3	c288		a5	lb	c5	la	dO	d4	38	60	c5
cOcO		a5	d6	85	ld	18	69	04	85	bd	c29O		18	60	20	f8	cl	a4	lb	bl	10
cOc8		d6	20	6c	e5	a5	dl	85	57	34	c298	5	65	a4	ie	91	59	a9	05	85	Ob
cOdO		a5	d2	85	58	e6	57	e6	57	be	c2a0	£	21	bl	5d	29	Of	C9	Oe	dO	2f
cOd8	£	20	24	ea	a5	f3	85	5b	a5	9e	c2aB		Oc	a9	07	85	21	a5	Bc	fO	4f
cOeO		44	85	5c	e6	5b	e6	5b	a5	30	c2b0		04	a9	01	85	21	a5	21	91	61
cOe8		33	a6	34	85	65	86	66	60	11	c2b8	£	5d	e6	lb	a5	lb	c5	la	fO	2e
cOfO		a4	lc	bl	5b	29	Of	c9	Oe	c8	c2c0	£	22	a5	8c	fO	19	a9	28	18	a6
cOf8		40	11	aa	a5	8c	dO	07	8a	51	c2c8		65	59	90	02	e6	5a	85	59	48
clOO		c9	O1	dO	09	fO	05	8a	c9	94	c2dO		a9	28	18	65	5d	90	02	e6	70
clO8	:	07	dO	02	38	60	18	60	a9	9b	c2dB		5e	85	5d	4c	95	c2	e6	le	21
cliO	;	00	85	8c	a5	02	20	58	cl	bl	c2eO	t	4c	95	c2.	a9	OO	a2	c4	85	10
cll8	S	85	19	a5	4e	85	63	a5	4f	06	c2e8		57	86	58	a4	ld	fO	Oe	a9	12
cl20	£	85	64	a6	19	fO	03	20	38	bc	c2f0		14	18	65	57	90	02	e6	58	ba
cl28	£	cl	20	47	cl	a9	ff	20	58	cf	c2f8	£	85	57	88	dO	f2	85	59	a5	71
cl30	S	cl	c9	80	90	02	85	8c	60	47	c300		58	85	5a	a4	lc	bl	59	a6	48
cl38	3	a9	03	18	65	63	90	02	e6	a6	c308		8c	fO	04	09	40	dO	02	09	d3
cl4O	Ü	64	85	63	■I	dO	f2	60	aO	OO	c310		04	91	59	eO	OO	fO	Of	18	43
cl48		OO	bl	63	85	la	c8	bl	63	20	c31B.	£	a5	59	69	90	85	59	a5	5a	45
cl5O		85	65	c8	bl	63	85	66	60	ad	c320	£	69	01	85	5a	dO	Od	18	a5	dB
cl58		85	61	ad	lb	d4	c5	61	fO	3f	- c328	£	59	69	20	85	59	a5'	5a	69	ee
cl60		02	bO	f7	60	a2	13	86	lf	df	c330		03	85	5a	ad	f8	07	91	59	03
cl68	£ .	86	20	e8	8a	38	e5	la	a6	f2	c338		eO	00	fO	17	a6	la	18	ca	69
cl7O		8c	40	06	85	20	a9	07	dO	b4	c34ö	£	fO	Od	a9	14	65	57	90	03	fd
cl78	£	04	85	lf	a9	01	85	21	a5	48	c348	£	e6	56	18	83	57	90	fO	a9	22
cl80		14	20	58	cl	85	lc	a5	20	Oe	c350	£	10	dO	08	98	18	65	la	a8	44
clB8	:	20	58	cl	85	ld	a5	52'	a6’	8b	c358		88	a9	O1	11	57	91	57	60	37
C19O		53	85	5b	86	5c	a4	ld	fO	8f	c36O	£	a9	OO	a2	c4	85	59	86	3a	3c
cl98	:	Oe	a9	28	18	65	5b	90	02	ff	c368		aO	OO	8c	f8	07	98	91	59'	79
claO	£	e6	5c	85	5b	88	dO	f2	a4	a5	c370		e6	59	dO	fa	e6	5a	a5	5a	23
claB		lc	bl	5b	29	Of	c9	Oe	fO	f2	c378	£	c9	c9	dO	fl	a9	ff	8d	Oe	85
clbO		la	c5	21	fO	16	c6	lc	10	3b	c3B0	£	d4	8d	Of	d4	a9	81	8d	12	7a
clb8	z	ee	a5	lf	85	lc	a5	ld	c5	eO	c388	£	d4	60	ff	00	ff	00	ff	00	8c
Listing 3. »Suchjobj.«. Geben Sie das Maschinenprogramm mit dem MSE ein (Seite 18).
47
Anwendung
C 64
»Happysynth«, der T?aum eines jeden Musikers
Daß der Commodore 64 hervorragende Musikqualitäten besitzt, ist längst kein Geheimnis mehr. Schließen Sie ihn an Ihre Stereoanlage an, und tippen Sie unseren Supersynthesizer ein. Sie werden Ihren Ohren nicht trauen.
Zu Anfang wollen wir einige Tips zur Hardware geben. Um den C 64 professionell in einer Band einzusetzen, wird die schlechte Qualität des Fernsehlautsprechers kaum ausreichen. Vorteilhafter ist es, den C 64 mit einem Verstärker zu betreiben. Das Tonsignal kann an der Audio/Video-Buchse des Commodore abgegriffen werden. Um nun den Computer an einen Verstärker anzuschließen, verbindetman einfach Pin 3 der Audio/Video-Buchse über ein abgeschirmtes Kabel mit dem Eingang des Verstärkers. Weniger bastelgeübten Lesern ist ein handelsübliches, fünfpoliges Stereo-Überspielkabel zu empfehlen. Wer seinen C 64 mit einem Monitor betreibt, muß sich einen Zwischenstecker für die Audio/Video-Buchse basteln. Siewerden erstauntsein, wiegutsich lhrCommodorean einer guten Verstärkeranlage anhört.
Ebenso läßt sich an der Audio/Video-Buchse ein Tonsignal einspeisen (Pin 5). Dieses wird durch Setzen von Bit 3 im Register 23 über den Filter geleitet. Dadurch kann der SID-Chip auch als Effektgerät eingesetzt werden. So lassen sich Phasing-ähnliche Effekte erzielen, indem im SID ein Notchfilter (Hochpaß und Tiefpaß) realisiert wird, dessen Grenzfrequenz moduliert wird. Eine Modulation läßt sich mit Stimme 3 sehr einfach erreichen. Man bedient sich des Leseregisters, welches nur für diesen Oszillator existiert.
Als maximale Spannung kann der C 64 volle 3 V^ verarbeiten. Wer also ein Mikrofon am C 64 betreiben möchte, muß das Signal mittels eines Vorverstärkers dem Computer anpassen. Auch hier ist unbedingt ein abgeschirmtes Kabel zu verwenden. Die Anschlußbelegung der Audio/Video-Buchse können Sie Ihrem Handbuch (Seite 142) entnehmen.
»Happysynth« (Listing 1) lädt nach dem Start erst zwei Maschinenprogramme, sowie die Daten für Sprites nach (Listing 2, 3 und 4). Die Maschinenprogramme beinhalten die Joystickabfrage, den Modulationsteil und die als Interrupt eingebundene Tastaturabfrage. Das heißt, es kann jederzeit, auch während der Parameteränderung, auf der Tastatur gespielt werden, da die Soundeinstellung ausschließlich mit dem Joystick gemacht wird. Drückt man nun den Feuerknopf, kann es losgehen.
Man befindet sich dann auf der ersten von drei Bildschirmseiten. Die am Bildschirm sichtbare Hand läßt sich mit Hilfe des Joysticks in jede Richtung bewegen. Durch erneutes Drücken des Feuerknopfes kann der jeweilige Parameter eingestellt, beziehungsweise verändert werden. Soll beispielsweise bei Oszillator 1 eine Sägezahnwelle eingeschaltet werden, so muß man lediglich die Hand auf das Sägezahn-Symbol steuern und den Knopf am Joystick drücken. Sogleich wird das Sym-
bol grün, weil damit der Oszillator auf diese Wellenform umgestellt wurde. Drückt man an gleicher Stelle den Knopf ein weiteres Mal, leuchtet das Symbol wieder rot als Zeichen dafür, daß der Oszillator keinen Sägezahn-Ton mehr erzeugt. Diese Farben wurden im gesamten »Happysynth« beibehalten: Grün bedeutet immer, daß irgendeine Funktion oder ein Parameter eingeschaltet ist, rot signalisiert, daß die Funktion, beziehungsweise der Parameter ausgeschaltet ist. Bei Parametern, die sich nicht nur ein- und ausschalten lassen, sondern stufenlos reguliert werden, bedient man sich ebenfalls des Joysticks. Will man zum Beispiel die Pulsbreite einer Stimme verändern, so bewegt man die Hand zu der entsprechenden Stelle am Bildschirm und drückt den Feuerknopf.
Nun steht im Feld »Joystick-Informationen« in welcher Abstufung sich die angewählten Parameter verändern lassen. Im Falle der Pulsbreite sind es ±4 Prozent in Y-Richtung, was einer Grobeinstellung entspricht, sowie ±1 Prozent in X-Richtung, um die Pulsweite fein einzustellen. Bei der Einstellung der Filtergrenzfrequenz wird nur zwischen Grob- (Symbol auf dem Bildschirm: + ++) und Feineinstellung (Symbol: +) unterschieden, da hier Zahlen wenig sinnvoll sind. Hat man in der ersten Bildschirmseite alle gewünschten Funktionen eingestellt, kann man auf der zweiten Bildschirmseite mit der Einstellung des »Synthesizers« fortfahren. Die zweite Seite wird über das Feld »Hüllkurve-Modulation« angewählt. Also: Die Hand auf das Feld steuern und Knopf drücken. Nun befinden Sie sich auf der zweiten Seite. Hier läßt sich die Hüllkurve für jede Stimme getrennt eingeben. Da bei Attack, Decay und Release die Abstufung logarithmisch in Millisekunden erfolgt, erscheint auch bei diesen Parametern im Joystick-Feld keine Zahlenangabe.
ADSR und Modulationen
Neben den ADSRs werden auf dieser Seite die Modulationen eingestellt. Jeder der drei Oszillatoren läßt sich in der Frequenz und in der Pulsweite modulieren. Hierfür stehen ein eigener, langsam schwingender Oszillator (LFO = Low Frequency Oscillator) oder die dritte Stimme zur Verfügung. Die Wellenformen des LFOs werden wieder mit der auf dem Bildschirm dargestellten Hand umgeschaltet. Die Intensität der Modulation ist für jeden Oszillator getrennt einstellbar. Wird anstatt des LFO Stimme 3 für Modulationszwecke herangezogen, so wird mit der aktuellen Wellenform von DCO 3 moduliert. Wurde beispielsweise auf Seite 1 für DCO 3 Rauschen eingeschaltet, so werden alle angewählten Parameter durch Zufallswerte beeinflußt. Einen weiteren interessanten Effekt bietet die Beeinflussung des Filters mit Hilfe des ADSR (»Envelope Follow«), Wird bei dieser Funktion die Intensität mit Hilfe des Steuerknüppels größer Null gesetzt, so folgt die Grenzfrequenz des Filters dem Hüllkurvenverlauf von ADSR 3. Je größer der bei »Envelope Follow« eingegebene Wert ist, um so stärker folgen die Werte des Filters dem Hüllkurvenverlauf. Um im Modulationsteil gute Ergebnisse zu erzielen, benötigt man etwas Übung und Fingerspitzengefühl. Hat man einen Sound gemixt, so will man ihn natürlich auch speichern, um ihn zu einem späteren Zeitpunkt wieder verwenden zu können. Die Routinen dazu werden auf Seite 3 aufgerufen. Sie wird über das Feld »Tastatur-Disk-Menü« angesteuert. Auf dieser Seite sind alle Aufrufe für die wichtigen Diskettenfunktionen untergebracht. Sie werden wie üblich ausgewählt.
Sie bewegen die Hand in diesem Fall also auf das Feld »Sound speichern«. Sogleich verschwindet die Tastatur im unteren Bildschirmbereich, um für die Eingabe des Soundnamens Platz zu machen. Hier wird zum ersten Mal die Tastatur nicht zum Spielen, sondern zur Eingabe des Soundnamens verwendet. Die Länge des Namens ist auf zwölf Zeichen beschränkt— längereNamenwerden nicht angenommen. Durch
48

C 64
Anwendung
Drücken der »INST-DEL«-Taste wird der Name gelöscht um ihn neu einzugeben. Nach Drücken der »RETURN«-Taste werden die Klangparameter abgespeichert. Es können auf einer Diskette maximal Daten für 33 Sounds gespeichert werden — was darüber hinausgeht wird beim Laden einfach ignoriert! Listing 5 enthält sechs Demo-Sounds. Nach dem Starten mit »RUN« werden die Sounds in einer vom Hauptprogramm lesbaren Form auf Diskette gespeichert. Die Leserservice-Dis-kette enthält neben diesen noch acht weitere Sounds zu Versuchszwecken. Wollen Sie einen Ihrer Klänge wieder hören, so steuern Sie die Hand auf das Feld »Sound laden« und drücken den Feuerknopf. Nun wird eine Liste aller auf der Diskette vorhandener Dateien angezeigt. Mit Hilfe des Joysticks wählen Sie den gewünschten Klang aus und drücken wieder den Feuerknopf — schon werden die Parameter geladen! Falls Sie die Funktion »Sound laden« ein weiteres Mal anwählen, wird die Soundliste sofort angezeigt, vorausgesetzt Sie haben die Diskette nicht gewechselt.
(Bernhard Carli/Christian Spitzner/tr)
100 GOSUB 70S0:REM TITELBILD 110 GOSUB 9030:REM MPG LADEN 120 POKE 56,152:CLR
130 GOSUB 9130:REM INITIALISIEREN
140 GOSUB 7430:REM START 150 :
160 POKE V+21,0:POKE V+l,70
170 ON PA GOTO 190,300,410 180 PA=NR:GOTO 160
190 GOSUB 8020:REM SEITE 1
200 POKE V+16,6:P0KE V+2,36:P0KE V+4,36:P0 KE V+3,109:POKE V+5,151
210 POKE V,60:POKE V+21,7:P0KE V+40,2:POKE V+41,2
220 SYS 49152
230 NR=PEEK(40959)
240 ON NR GOTO 180,180,180,220,220,220,101 0,1020,1040,1090,1100,1120,1170,1180
250 ON NR -14 GOTO 1200,220,220,1030,1260, 1110,1330,1190,1400,220,220
260 ON NR-25 GOTO 1050,1130,1210,1060,1140 ,1220,220,220,220,1250,1320,1390
270 ON NR-37 GOTO 1250,1320,1390,1310,1380 ,1450,2480,2950,2950,220,220,220
280 ON NR-49 GOTO 2510,2510,2510,2570,2570 ,220,220,220,2520,2710,2710
290 GOTO 220 300 GOSUB 8400:REM SEITE 2 310 POKE V+21,7:P0KE V+40,2:POKE V+41,2 320 SYS 49152
330 NR=PEEK(40959)
340 ON NR GOTO 180,180,180,320,320,320,127 0,1270,1270,1340,1340,1340
350 ON NR—12 GOTO 1410,1410,1410,320,320,1 280,1280,1350,1350,1420,1420
360 ON NR—23 GOTO 320,320,1290,1360,1430,3 20,320,320,1300,1370,1440
370 ON NR—34 GOTO 320,320,320,1070,1150,12 30,1080,1160,1240,320,3170,3170
380 ON NR—46 GOTO 320,320,320,1460,1470,14 80,2840,2840,320,320,320
390 ON NR-57 GOTO 1490,3060,3060 400 GOTO 320
410 GOSUB 8740:REM SEITE 3
420 POKE V+21,7:P0KE V+40,2sPOKE V+41,2 430 SYS 49152
440 NR=PEEK(40959)
450 ON NR GOTO 180,180,180,4880,3700,4200 460 IF NR=>7 AND NR <=28 THEN 3570
470 GOTO 430 1000 REM +++ SPRUNGTABELLE +++ 1010 S=0:P=241:GOTO 1510 1020 S=0:P=244:GOTO 1540 1030 S=0:P=321:GOTO 1550 1040 S=0:P=247:GOTO 1560 1050 S=0:P=401:GOTO 1570 1060 S=0:P=441:GOTO 1580 1070 S=0:TA=9:GOTO 3470 1080 S=0:TA=9:GOTO 3280 1090 S=l:P=252:G0T0 1510 1100 S=l:P=255:G0T0 1540 1110 S=l:P=332:GOTO 1550
<105>
<144>
<101>
<073>
<140>
<126>
<092>
<209>
<232>
<244>
<086>
<004>
<022>
<041>
<080>
<131>
<013>
<235>
<115>
<004>
<164>
<033>
<124>
<143>
<212>
<069>
<072>
<123>
<004>
<102>
<122>
<002>
<143>
<234>
<253>
<226>
<109>
<216>
<015>
<147>
<043>
<168>
<078>
<186>
<077>
<013>
<024>
<251>
<147>
<014>
1120	S=l:P=258:G0T0 1560	<180>
1130	S=l:P=412:G0T0 1570	<032>
1140	S=l:P=452:G0T0 1580	<179>
1150	S=l:TA=20:GOTO 3470	<244>
1160	S=l:TA=20:GOTO 3280	<254>
1170	S=2:P=263:G0T0 1510	<097>
1180	S=2:P=266:G0T0 1540	<249>
1190	S=2:P=343:G0T0 1550	<116>
1200	S=2:P=269:G0T0 1560	<026>
1210	S=2:P=423:G0T0 1570	<134>
1220	S=2:P=463:G0T0 1580	<025>
1230	S=2:TA=31:G0T0 3470	<090>
1240	S=2:TA=31:G0T0 3280	<100>
1250	S=0:TA=9:GOTO 1640	<033>
1260	S=0:TA=8:GOTO 1820	<233>
1270	S=0sTA=3:GOTO 1960	<010>
1280	S=0:TA=3:GOTO 2070	<069>
1290	S=0:TA=9:GOTO 2180	<188>
1300	S=0:TA=3:GOTO 2300	<248>
1310	S=0:TA=8:GOTO 2410	<108>
1320	S=l:TA=20:GOTO 1640	<095>
1330	S=lsTA=19=G0T0 1820	<011>
1340	S=l:TA=14:G0T0 1960	<067>
1350	S=l:TA=14:G0T0 2070	<171>
1360	S=l:TA=20sGOTO 2180	<104>
1370	S=l:TA=14:G0T0 2300	<252>
1380	S=l:TA=19:G0T0 2410	<219>
1390	S=2:TA=31:G0T0 1640	<187>
1400	S=2:TA=30:GOTO 1820	<065>
1410	S=2:TA=25:G0T0 1960	<159>
1420	S=2:TA=25:G0T0 2070	<007>
1430	S=2:TA=31:G0T0 2180	<196>
1440	S=2:TA=25:G0T0 2300	<088>
1450	S=2:TA=30:GOTO 2410	<017>
1460	P=842:L=1:MW=1:GOTO 3400	<081>
1470	P=845:L=l:MW=0:GOTO 3400	<156>
1480	P=848:L=1:MW=2:GOTO 3400	<104>
1490	P=922:L=7:MW=3:GOTO 3400	<088>
1500		<206>
1510	REM +++ WELLENFORMEN/SYNC/RING +++	<059>
1520		<226>
1530	DE(S)=l-DE(S):L=l:GOTO 1590	<001>
1540	SZ(S)=l-SZ(S):L=l:GOTO 1590	<213>
1550	RE(S)=l-RE(S):L=l:GOTO 1590	<135>
1560	RA(S)=l-RA(S):L=2:G0T0 1590	<085>
1570	RI(S)=l-RI(S):L=9:G0T0 1590	<251>
1580	SY(S)=l-SY(S):L=9	<101>
1590	GOSUB 9820	<022>
1600	WF(S)=SY(S)*2+RI(S)*4+DE(S)*16+SZ(S)*	
	32+RE(S)*64+RA(S)*128	<126>
1610	POKE WF+S,WF(S)+8:P0KE WF+S,WF(S)	<023>
1620	GOTO 220	<064>
1630		<082>
1640	REM +++ OKTAVE +++	<212>
1650		<102>
1660	GOSUB 9430	<060>
1670	PRINT"<HOME,8D0WN,LIG.GREEN}"TAB(34)“ +OKT.<3D0WN,5LEFT >+# <2D0WN,SPACE}-#<3	
	D0WN,5LEFT>-0KT."	<124>
1680	WERT=OK(S):JO=10:GOSUB 9530	<112>
1690	IF JO=0 THEN OK(S)=OK(S)-12	<246>
1700	IF JO=20 THEN 0K(S)=0K(S)+12	<011>
1710	IF J0=9 THEN OK(S)=OK(S)-1	<006>
1720	IF JO=11 THEN OK(S)=OK(S)+1	<211>
1730	IF OK(S)<0 OR 0K(S)>=48 THEN OK(S)=WE	
	RT	<211>
1740	POKE WF+3+S,0KT(S)	<190>
1750	PRINT"<HOME,13D0WN,WHITE}"TAB(TA)INT(	
	0KT(S)/12)	<228?^
1760	PRINT TAB(TA)N$(INT(OK(S)-(INT(OKT(S)	
	/12))*12))	<227>
1770	IF BU THEN 1680	<126>
1780	PRINT H <2UP,PURPLE}"TAB(TA)INT(OKT(S)/	
	12)	<197>
1790	PRINT TAB(TA)N$(INT(OK(S)-(INT(OKT(S)	
	/12))*12))	<001>
1800	GOSUB 9440:GOSUB 9460:GOTO 220	<222>
1810		<008>
1820	REM +++ PULSE +++	<013>
1830		<028>
1840	GOSUB 9430	<242>
1850	PRINT”<HOME,8D0WN,LIG.GREEN}"TAB(35)" +4 <3D0WN,3LEFT>+1<2D0WN,SPACE>-1<3D0W	
	M,3LEFT>-4"	<147>
Listing 1. Das Hauptprogramm »Happysynth«. Bitte mit dem Checksummer V3 auf Seite 16 eingeben.
Ä1
49
Anwendung
C 64
1860	WERT=PU(S)/16:JO=WERT	<096>	2570	REM +++ FILTERFREQUENZ +++	<014>
1870	GOSUB 9530:PU(S)=JO*16	<120>	2580		<016>
1880	Pl=INT(PU(S)/256)	<047>	2590	GOSUB 9430	<230>
1890	POKE WF+49+S,PU(S)-Pl*256:P0KE WF+52+		2600	PRINT"<HOME,8D0WN,LIG.GREEN}"TAB(35)"	
	S,P1	<068>		+++ <3DQWN,4LEFT>+{2D0WN,3SPACE?-<3D0W	
1900	POKE SI+3+S*7,Pl:PQKE SI+2+S*7,PU(S)-			N,4LEFT)	"	<002>
	Pl*256	<015>	2610	WERT=30+CO*5.8:J0=WERT/46.4	<000>
1910	PRINT”{HOME,8D0WN,WHITE}"TAB(TA)RIGH1		2620	GOSUB 9530:IF J0<.65 THEN J0=.65	<030>
	$(STR$(INT(PU(S) /40.95) ) ,2) ; "7."	<140>	2630	IF J0<>WERT/46.4 THEN C0=INT((J0*46.4	
1920	IF BU THEN 1870	<022>		-30)/5.8)	<102>
1930	PRINT"<UP,PURPLE >"TAB <TA)RIGHT$(STR$(		2640	Cl=INT(CO/B)	<089>
	INT(PU S) /40.95) ) ,2) ; "7."	<125>	2650	POKE SI+22,Cl:P0KE SI+21,C0-Cl*8:P0KE	
1940	GOSUB 9440:GOSUB 9460:GOTO 220	<106>		WF+16,C1	<087>
1950		<148>	2660	PRINT"<HDME,21D0WN,WHITE>"TAB(22);RIG	
1960	REM +++ ATTACK +++	<252>		HTf("<3SPACE}"+STR$(INT(C0*5.8+30)),5	
1970		<168>		)	<241>
1980	GOSUB 9430:GOSUB 9470	<038>	2670	IF BU THEN 2620	<068>
1990	WERT=A(S):J0=WERT*16	<245>	2680	PRINT"{UP,PURPLE}"TAB(22);RIGHT$("{3S	
2000	GOSUB 9530:A(S)=INT(JO/16)	<167>		PACE}"+STR$(INT(C0*5.8+30)),5)	<255>
2010	POKE SI+5+S*7,A(S)*16+D(S)	<193>	2690	GOSUB 9440:GOSUB 9460:GOTO 220	<094>
2020	PRINT"<HOME,6D0WN,RVSON,GREEN}"TAB(TA		2700	:	<136>
	)AD$(A(S))	<116>	2710	REM +++ FILTERRESONANZ +++	<044>
2030	IF BU THEN 2000	<185>	2720		<156>
2040	PRINT"<UP,RVOFF,LIG.BLUE}"TAB(TA)AD$(		2730	GOSUB 9430	<114>
	A(S) )	<170>	2740	PRINT"<HOME,8D0WN,LIG.GREEN >"TAB(36)"	
2050	GOSUB 9440:GOSUB 9460:GOTO 320	<090>		+ 1"	<174>
2060	:	<004>	2750	PRINT"<7D0WN>"TAB(36)"-1"	<226>
2070	REM +++ DECAY +++	<033>	2760	WERT=RS:J0=WFRT*16	<002>
2080	;	<124>	2770	GOSUB 9530:RS=INT(JO/16)	<235>
2090	GOSUB 9430:GOSUB 9470	<150>	2780	PRINT"<H0ME,23D0WN,WHITE>"TAB(22);RIG	
2100	WERT=D(S):J0=WERT*16	<231>		HT$(STR$(RS),2)	<153>
2110	GOSUB 9530:D(S)=INT(JO/16)	<026>	2790	POKE S1+23,RS*16+FE(0)+FE(1)*2+FE(2)*	
2120	POKE SI+5+S*7,A(S)*16+D(S)	<049>		4	<017>
2130	PRINT"<HOME,8D0WN,RVSON,GREEN}"TAB(TA		2800	IF BU THEN 2770	<075>
	)R$(D(S))	<011>	2810	PRINT"£UP,PURPLE}"TAB(22);RIGHT$(STR$	
2140	IF BU THEN 2110	<170>		(RS),2)	<200>
2150	PRINT"{UP,RVOFF,LIG.BLUE}"TAB(TA)R$(D		2820	GOSUB 9440:GOSUB 9460:GOTO 220	<226>
	(S) )	<056>	2830	:	<012>
2160	GOSUB 9440:GOSUB 9460:GOTO 320	<200>	2840	REM +++ ENVELOPE-FOLLOW +++	<197>
2170	:	<114>	2850	:	<032>
2180	REM +++ SUSTAIN +++	<178>	2860	GOSUB 9430:GOSUB 9450	<142>
2190		<134>	2870	WERT=PEEK(WF+17):JO=WERT	<082>
2200	GOSUB 9430	<092>	2880	GOSUB 9530:EF=JO	<024>
2210	PRINT"<HOME,8D0WN,LIG.GREEN}"TAB(36)"		2890	POKE WF+17,EF	<231>
	+1<2LEFT,8D0WN >-1”	<090>	2900	PRINT"{HOME,21DOWN,WHITE)"TAB(30);RIG	
2220	WERT=S(S):J0=WERT*16	<230>		HT^(" "+STR$(EF),3)	<253>
2230	GOSUB 9530:S(S)=INT(JO/16)	<161>	2910	IF BU THEN 2880	<061>
2240	POKE SI+6+S*7,S(S)*16+R(S)	<235>	2920	PRINT"(UP,PURPLE}"TAB(30);RIGHT$(" "+	
2250	PRINT”<HOME,10DOWN,RVSON,GREEN}"TAB(T			STRt(EF),3)	<151>
	A-6);"VOL.: ";RIGHT$(STR$(S(S)),2)	<038>	2930	GOSUB 9440:GOSUB 9460:GOTO 320	<208>
2260	IF BU THEN 2230	<165>	2940	:	<122>
2270	PRINT"{UP,RV0FF,LIG.BLUE>"TAB(TA-6);"		2950	REM +++ VERSTIMMUNG +++	<175>
	VOL.: ";RIGHT$(STR$(S(S)),2)	<179>	2960	:	<142>
2280	GOSUB 9440:GOSUB 9460:GOTO 320	<064>	2970	GOSUB 9430:GOSUB 9450	<252>
2290		<234>	2980	WERT=VS:JO=WERT	<020>
2300	REM +++ RELEASE +++	<125>	2990	GOSUB 9530:VS=JO:IF VS>99 THEN VS=99:	
2310		<000>		J0=99	<242>
2320	GOSUB 9430:GOSUB 9470	<126>	3000	POKE WF+6,VS	<062>
2330	WERT=R(S):J0=WERT*16	<214>	3010	PRINT"<HOME,18D0WN,WHITE}"TAB(30)RIGH	
2340	GOSUB 9530:R(S)=INT(JO/16)	<016>		T$(STR$(VS),2)	<013>
2350	POKE SI+6+S*7,S(S)*16+R(S)	<091>	3020	IF BU THEN 2990	<044>
2360	PRINT"<HOME,12D0WN,RVSON,GREEN >"TAB(T		3030	PRINT"<UP,PURPLE}"TAB(30)RIGHT$(STR$(	
	A)R$(R(S))	<218>		VS),2)	<180>
2370	IF BU THEN 2340	<150>	3040	GOSUB 9440:GOSUB 9460:GOTO 1940	<012>
2380	PRINT"<UP,RVOFF,LIG.BLUE)"TAB(TA)R$(R		3050	:	<232>
	(S) )	<039>	3060	REM +++ FILTER-MODULATION +++	<178>
2390	GOSUB 9440:GOSUB 9460:GOTO 320	<176>	3070		<252>
2400	:	<090>	3080	GOSUB 9430:GOSUB 9450	<108>
2410	REM +++ FILTER +++	<219>	3090	WERT=PEEK(WF+19):JO=WERT	<113>
2420		<110>	3100	GOSUB 9530:MF=JO	<254>
2430	FE(S)=l-FE(S):L=2	<249>	3110	POKE WF+19,MF	<214>
2440	POKE SI+23,RS*16+FE(0)+FE(1)*2+FE(2)*		3120	PRINT"<HOME,23D0WN,WHITE >"TAB(30);RIG	
	4	<177>		HT$(" "+STR$(MF),3)	<063>
2450	PRINT"<HOME,16D0WN}"TAB(TA);FI$(FE(S)		3130	IF BU THEN 3100	<207>
	)	<081>	3140	PRINT"{UP,PURPLE>"TAB(30);RIGHT$(" "+	
2460	GOTO 220	<142>		STR$(MF),3)	<181>
2470		<160>	3150	GOSUB 9440:GOSUB 9460:GOTO 320	<174>
2480	REM +++ HOCH- BAND- TIEFPASS +++	<074>	3160		<088>
2490		<180>	3170	REM +++ MODULATION: SPEED +++	<100>
2500	HP=l-HP:P=763:G0T0 2530	<241>	3180		<108>
2510	BP=1-BP:P=843:GOTO 2530	<176>	3190	GOSUB 9430:GOSUB 9450	<218>
2520	TP=l-TP:P=923	<097>	3200	WERT=PEEK(WF+34):JO=WERT	<094>
2530	L=7:G0SUB 9820	<207>	3210	GOSUB 9530:SP=JO	<134>
2540	POKE SI+24,15+HP*64+BP*32+TP*16	<199>	3220	POKE WF+34,SP	<118>
2550	GOTO 220	<232>	3230	PRINT"<HOME,18D0WN,WHITE}"TAB(30);RIG	
2560		<252>		HT^(" "+STR$(SP),3)	<119>
50

C 64
Anwendung
3240	IF BU THEN 3210	<191>	3930	GOTO 3910	<252>
3250	PRINT"<UP,PURPLE>"TAB(30);RIGHT$(" " +		3940	IF D*=""THEN POKE 204,l:GOTO 410	<137>
	STR$(SP),3)	<244>	3950	PRINT".":POKE 204,1:D*=LEFT*(D*+"..-.	
3260	GOSUB 9440:GOSUB 9460sGOTO 320	<028>				 ••, 12)	<249>
3270		<198>	3960	UE*= " ": U*= ” ABGESPEI CHERT	"	<096>
3280	REM +++ PWM-MODULATION +++	<194>	3970	CLOSE l:OPEN l,8,2,UE*+"HSY."+D*+",S,	
3290		<218>		W":GOSUB 10820	<227>
3300	GOSUB 9430:GOSUB 9450	<072>	3980	IF ER=63 THEN 4030	'014>
3310	WERT=PEEK(WF+40+S)5 JO=INT(WERT/2.5757		3990	IF ER THEN PRINT"<2D0WN}"	<087>
	)	<189>	4000	IF ER AND B*="J"THEN 3970	<251>
3320	GOSUB 9530:IF J0>99 THEN J0=99	<003>	4010	IF ER THEN ER=0:CLOSE l:GOTO 410	<025>
3330	PW(S)=INT(J0*2.5757)+1	<025>	4020	GOTO 4080	<175>
3340	POKE WF+40+S,PW(S)	<128>	4030	PRINT"{DOWN,RIGHT,GREY 3 >UEBERSCHREIB	
3350	PR I NT *’ CHDME , 16D0WN , WH ITE > " TAB (TA) ; RIG			EN<2SPACE>?";	<217>
	HT*(STR$(INT(PW(S)/2.5757)),2)	<120>	4040	POKE 198,0	<138>
3360	IF BU THEN 3320	<204>	4050	GET A*:IF A*<>'*N"AND A*<>"J"AND A*<>C	
3370	PRINT"<UP,PURPLE >"TAB(TA);RIGHT*(STR*			HR*(13)THEN 4050	<135>
	(INT(PW(S)/2.5757)),2)	<107>	4060	IF A*="N"THEN PRINT" NEIN":ER=0:CLOSE	
3380	GOSUB 9440:GOSUB 9460:GOTO 320	<150>		l:GOTO 410	<055>
3390		<064>	4070	PRINT" JA":UE*="@:":U*="UEBERSCHRIEBE	
3400	REM +++ MODULATION-WELLENFORM +++	<167>		N	":GOTO	3970	<171>
3410	:	<084>	4080	PRINT"<DOWN,RIGHT,GREEN>SOUND WIRD "U	
3420	FOR 1=842 TO 849:P0KE FR+I,2:P0KE FR+			*	<109>
	I+80,2:NEXT	<064>	4090	FOR 1=0 TO 2:Pl=INT(PU(I)/256):AD(I)=	
3430	FOR 1=0 TO L:POKE FR+P+I,5:NEXT	<248>		A(I)*16+D(I):SR(I)=S(I)#16+R(I)	<030>
3440	POKE WF+33,MW	<227>	4100	PRINT#l,CHR*(WF(I));CHR*(OK(I));CHR*(	
3450	GOTO 320	<124>		PU(I)-Pl*256);CHR*(P1);	<156>
3460	:	<134>	4110	PRINT#l,CHR*(AD(I));CHR*(SR(I));CHR*(	
3470	REM +++ VIBRATO +++	<212>		FE(I));CHR*(PW(I));CHR*(VI(I)) ;	<069>
3480	:	<154>	4120	NEXT I	<140>
3490	GOSUB 9430:GOSUB 9450	<008>	4130	Cl=INT(C0/256)	<007>
3500	WERT=PEEK(WF+64+S):JO=WERT	<172>	4140	PRINT#1,CHR*(HP*4+BP*2+TP);CHR*(CO-C1	
3510	GOSUB 9530:VI(S)=JO:IF VI(S)>99 THEN			*256);CHR*(Cl);CHR*(RS);CHR*(VS);	<246>
	VI(S)=99:J0=99	<217>	4150	PRINT#l,CHR*(EF);CHR*(MF);CHR*(MW);CH	
3520	POKE WF+64+S,VI(S)	<005>		R*(SP);CHR*(RG)	<167>
3530	PRINT"{HOME,14D0WN,WHITE > "TAB(TA);RIG		4160	CLOSE 1	<107>
	HT*(STR*(VI(S)),2)	<000>	4170	C*="":IF UE*=""THEN F=F+l:FF*(F)=D*:I	
3540	IF BU THEN 3510	<110>		F F=33 THEN F=32	<217>
3550	PRINT"<UP,PURPLE >"TAB(TA);RIGHT*(STR*		4180	GOTO 410	<084>
	(VI(S)),2)	<211>	4190		<102>
3560	GOSUB 9440:GOSUB 9460:GOTO 320	<074>	4200	REM +++ LOAD - ROUTINE +++	<229>
3570	:	<244>	4210		<122>
3580	REM +++ ENDE +++	<193>	4220	POKE V+3,65:P0KE V+5,107:POKE V+21,6	<070>
3590	B	<010>	4230	A*="-<GREY 3,RVS0N,SPACE>S 0 U N D<2S	
3600	POKE V+21,0:POKE 198,0	<214>		PACEJV 0 N<2SPACE>D I S K<2SPACE>L A	
3610	PRINT"<HOME,7D0WN,RIGHT,25SPACE}H	<224>		D E N<SPACE,RVOFF,LIG-BLUE}"	<043>
3620	PRINT”{RIGHT,LIG.GREEN,7SPACE)SIND SI		4235	Al*="-{GREY 3,RVS0N,5SPACE>S 0 U N D<	
	E SICHER ???"	<199>		5SPACE>L A D E N<4SPACE,RV0FF,LIG.BLU	
3630	PRINT"<RIGHT,25SPACE}"	<214>		E>-<5SPACE>"	<118>
3640	GET A*:IF A*<>"J"AND A*<>"N"THEN 3640	<046>	4240	GOSUB 10030	<092> ,
3650	IF A*="N"THEN 410	<170>	4250	PRINT"<HOME,13D0WN,RIGHT,GREEN > SOUND{	
3660	POKE 53280,14:POKE 53281,6:P0KE 198,0			SPACE,L16- RED}"D*"<SPACE,GREEN >WIRD G	
	:POKE 808,237:POKE 2,0	<254>		ELADEN.<3UP,LIG.BLUE}"	<000>
3670	PRINT"<CLR,LIG.BLUE}M;	<154>	4260	CLOSE l:OPEN l,8,2,"HSY."+D*+",S,R":G	
3680	FOR 1=1 TO 100:NEXT	<106>		OSUB 10820	<183>
3690	SYS 64767	<002>	4270	IF ER AND B*="J"THEN 4260	<233>
3700	:	<120>	4280	IF ER THEN ER=0:CLOSE l:GOTO 410	<041>
3710	REM +++ SAVE - ROUTINE +++	<200>	4290	FOR 1=0 TO 2	<165>
3720		<140>	4300	GET#l,A*:GOSUB 9730sWF(I)=A%	<137>
3730	POKE 198,0:POKE V+21,0:D*=""	<034>	4310	GET# 1, A*: GOSUB 9730: OK (I) =A7.	<148>
3740	PRINT”<HOME,11DOWN,RIGHT}";	<153>	4320	GET# 1, A*: GOSUB 9730: PU (I) =A7.	<041>
3750	PRINT"<GREY 3,RVS0N,2SPACE>S 0 U N D{		4330	GET# 1, A*: GOSUB 9730: PU (I) =PU (I) +A7.*25	
	2SPACE>S P E I C H E R N<2SPACE,RV0FF			6	<199>
	,LIG.BLUE>"	<124>	4340	GET# 1, A* s GOSUB 9730: AD (I) =A7.	<164>
3760	PR I NT "		4350	GET#l,A*:GOSUB 9730sSR(I)=AX	<197>
	isn"	<004>	4360	GET# 1, A*: GOSUB 9730: FE (I) =A7.	<062>
3770	FOR 1=0 TO 9	<02B>	4370	GET#l,A*:GOSUB 9730:PW(I)=A7.	<095>
3780	PRINT"<RIGHT,32SPACE >"	<108>	4380	GET#l,A*:GOSUB 9730:VI(I)=A7.	<094>
3790	NEXT:PRINT"<9UP}";	<079>	4390	NEXT I	<156>
3800	PRINT"{GREEN,RIGHT)NAME DES SOUNDS ?{		4400	GET#l,A*:GOSUB 9730:Q=A7.:HP=(Q AND 4)	
	SPACE,RED>	  <12LEFT}";	<065>		/4:BP=(G AND 2)/2:TP=Q AND 1	<155>
3810	GET C*:POKE 204,0	<238>	4410	GET# 1, A*: GOSUB 9730: CO=A7.	<049>
3830	IF C*=CHR*(20)THEN D*="":POKE 204,1:P		4420	GET# 1, A* : GOSUB 9730: C0=C0+A7.*256	<121>
	RINT"<UP>":GOTO 3800	<221>	4430	GET#1,A*:GOSUB 9730:RS=AX	<209>
3840	IF C*=CHR*(13)THEN 3940	<250>	4440	GET# 1, A*: GOSUB 9730 s VS=A7.	<221>
3850	IF C*<"#"OR C*>"Z"THEN 3810	<113>	4450	GET# 1, A*: GOSUB 9730: EF=A7.	<081>
3855	IF C*="*"OR C*=”,”OR C*=":"OR C*="2"0		4460	GET# 1, A* : GOSUB 9730 : MF=A7.	<095>
	R C*="0"THEN 3810	<150>	4470	GET# 1, A*: GOSUB 9730: MW=A7.	<122>
3860	PRINT C*;sPOKE 204,1	<138>	4480	GET# 1, A*: GOSUB 9730: SP=A7.	<128>
3870	D*=D*+C*	<010>	4490	GET# 1, A*: GOSUB 9730: RG=A7.	<001>
3880	IF LEN(D*)<11 THEN 3810	<237>	4500	CLOSE l:CLOSE 15	<094>
3890	IF LEN(D*)>11 THEN 3910	<021>	4510	FOR 1=0 TO 2	<131>
3900	GOTO 3810	<206>	4520	RA(I)=(WF(I)AND 128)/128	<241>
3910	GET C*:IF C*=CHR*(20)THEN D*="":POKE				
	204,l:PRINT"{UP>":GOTO 3800	<238>			
3920	IF C*=CHR*(13) THEN 3950	<138>	Listing 1. »Happysynth« (Fortsetzung)		
51
Anwendung
C 64
4530	RE(I)=(WF(I)AND 64)/64	<180>		CE,RIGHT,SPACE>T<RVOFF>^<RVSON,RIGHT,	
4540	SZ(I)=(WF(I)AND 32)/32	<174>		SPACE>T<RVOFF>^<RIGHT JS{RVSON,SPACE,R	
4550	DE(I)=(WF(I)AND 16)/16	<007>		VOFF >£<RIGHT>S{RVSON,SPACE>T{RIGHT,RV	
4560	RI<I)=(WF(I)AND 4)/4	<021>		OFF >5{RVS0N,SPACE,RVOFF>^<RVSON,RIGHT	
4570	SY(I)=(WF(I)AND 2)/2	<154>		,SPACE}fl<SPACE,2RIGHT,SPACE,2RIGHT,3S	
4580	A(I)=(AD(I)AND 240)/16	<201>		PACE?”	<200>
4590	D(I)=AD(I)AND 15	<214>	7140	PRINT"<RVSON,SPACE>-<SPACE,RIGHT,SPAC	
4600	S(I)=(SR(I)AND 240)/16	<083>		E>-{SPACE,RIGHT,RVSON,SPACE,3RIGHT,SP	
4610	R(I)=SR(I)AND 15	<059>		ACE,4RIGHT,SPACE,2RIGHT,RVOFF}I<RVSON	
4620	NEXT I	<132>		} T {RVOFF?£{2RIGHT,RVSON,SPACE,2RIGHT,	
4630		<034>		2SPACE >fl{2RIGHT,SPACE,2RIGHT,SPACE>-{	
4640	REM +++ SOUND INITIALISIEREN +++	<004>		SPACE,GREEN?"	<145>
4650	:	<054>	7150	PR I NT ”	
4660	FOR S=0 TO 2	<107>			<156>
4670	POKE WF+3+S,0KT(S)	<072>	7160	PRINT”<RVSON,GREY 2,10SPACE,RVOFF,4SP	
4680	POKE SI+5+S*7,AD(S)	<080>		ACE,GREY 2>VERSI0N 1.0"	<074>
4690	POKE SI+6+S*7,SR(S)	<125>	7170	PRINT"<RVSON,GREY 2>??????????{RV0FF,	
4700	POKE WF+40+S,PW(S)	<218>		4SPACE,GREY 2>WYYYYYYYYY"	<119>
4710	POKE WF+64+S,VI(S)	<181>	7180	PRTNT^<GREY 2>0WER<RED>&<RVS0N,GREY 2	
4720	WF(S)=SY(S)*2+RI(S)*4+DE(S)*16+SZ(S)*				<217>
	32+RE(S)*64+RA(S)*128	<198>	7190	PRINT"<RVSON,GREY 21 TTTWAW"SPC (21	
4730	POKE WF+S,WF(S)+8:P0KE WF+S,WF<S)	<095>		) " {RVOFF^HITE}?"	<160>
4740	Pl=INT(PU(S)/256)	<113>	7200	PRINT”<GREY 2,RVSON,10SPACE}"SPC(20)"	
4750	POKE WF+49+S,PU(S)-Pl*256:P0KE WF+52+	<134>		<RVSON,RED>X ?"	<090>
	S,P1		7210	PR I NT " <GREY 2, RVSON ? TTTTTTTTTT" SPC (20	
4760	POKE SI+3+S*7,Pl:P0KE SI+2+S*7,PU(S)-			)"<RED,RVSON,3SPACE }"	<025>
	Pl*256	<081>	7220	PRINT"<RVSON,GREY 2,10SPACE,GREY 2,RV	
4770	NEXT S	<106>		GFF>Mya$"SPC(15) " {RED?¥{RVSON,SPACE,	
4780	POKE SI+23,RS*16+FE(0)+FE(1)*2+FE(2)*			RVOFF}^"	<184>
	4	<231>	7230	PRINT"<GREY 2,RVS0N>&gguy&&U<6REY 2	
4790	POKE SI+24,15+HP*64+BP*32+TP*16	<163>		,RVOFF,4SPACEJR{GREY 1,RVSON,5SPACE>¥	
4800	Cl=INT(C0/8):P0KE SI+22,Cl:P0KE SI+21			"SPC(10)"{GREY 3,SPACE?"	<027>
	,C0-Cl*8:P0KE WF+16,C1	<057>	7240	PRINT"<GREY 2,RVS0N,SPACE)5{RV0FF>UTO	
4810	POKE WF+17,EF	<117>		{RVS0N>F<3SPACE>z{GREY 2,RV0FF)EApHT<	
4820	POKE WF+6,VS	<104>		5SPACE,GREY 1>^<RVSON>W"SPC(9)"<GREY	
4830	POKE WF+17,EF	<137>		3,SPACE)"	<212>
4840	POKE WF+34,SP	<214>	7250	PRINT"<GREY 2,RVSON,SPACE,RVOFF>5F 1?	
4845	POKE WF+19,MF	<169>		<RVSON,3SPACE >-<RVOFF,LIG.BLUE,5SPACE	
4850	POKE WF+33,MW	< 111 >		JPORT 2<GREY l)S{RVS0NJS{4RIGHT,RED,R	
4860	60T0 410	<000>		VOFFJ??{RIGHT,GREY 2,RVS0N?£ ?"	<193>
4870		<020>	7260	PRINT"<GREY 2,RVS0N,SPACE>U<GREY l,RV	
4880	REM +++ SOUND LOESCHEN +++	<079>		OFF>OT<GREY 2,RVS0N>V<3SPACE>-<RV0FF	
4890		<040>		,GREY 1,12SPACE>5{RVS0N>T'SPC(2)"<BRO	
4900	POKE V+3,65:P0KE V+5,107:POKE V+21,6	<244>		WN JYiTTYTYTYTY"	<213>
4910	A$="-{GREY 3,RVS0N,5SPACE>S 0 U N D<4		7270	PRINT"<GREY 2,RVS0N,SPACE>5<GREY l,RV	
	SPACE>L 0 E S C H E N<5SFACE,RVDFF,LI			OFF>TOU<GREY 2,RVS0N>F<3SPACE>-{RV0FF	
	G.BLUE>"	<092>		,13SPACE,GREY 1}?{RVSON,2SPACE,BROWN>	
4915	Al$="-<GREY 3,RVS0N,2SPACE>S 0 U N D<			TTTTTrnTTT"	<155>
	4SPACE>L 0 E S C H E N<2SPACE,RV0FF,L		7280	PRINT"<GREY 2,RVSON,SPACE,RVOFF)^F 3?	
	IG.BLUE >-<5SPACE}"	<245>		<RVSQN,3SPACE>-"SPC(16)"{BROWN,RVOFF?	
4920	GOSUB 10030	<010>		5{RVS0N,9SPACE,RVOFF?£"	<122>
4930	PRINT"<HOME,13D0WN,RIGHT,GREEN}SOUND{		7290	PRINT"<GREY 2,RVS0N,SPACE>U<GREY l,RV	
	SPACE,LIG.RED}”D$”<SPACE,GREEN>LOESCH			OFF>TO<GREY 2,RVS0N>V<3SPACE)z	<014>
	EN ?";	<177>	7300	PRINT"<GREY 2,RVSON,SPACE>5<RVOFF,GRE	
4940	POKE 198,0	<022>		Y l>UTO<GREY 2,RVS0N)F{3SPACE>z	<200>
4950	GET A$:IF A$="N"THEN 410	<133>	7310	PRINT"<GREY 2,RVS0N,SPACE,RV0FF)^F 5?	
4960	IF AT<>"J"AND A$<>CHR$(13)THEN 4950	<007>		<RVSON,3SPACE >-{RVOFF,LIG.BLUE,2SPACE	
4970	PRINT*' <WHITE,SPACE>JA"	<001>		^i±£*±^2SÄJ^^	<108>
4980	CLOSE l:OPEN l,8,15,"S:HSY."+D$:GOSUB		7320	PRINT"<GREY 2,RVS0N,SPACE>^<GREY l,RV	
	10820	<094>		OFF>oKo<GREY 2,RVS0N>V<3SPACE>-{RV0FF	
4990	IF ER=1 AND LO=1 THEN FF$(Zl)=FF$(F):			,LIG.BLUE,2SPACE>-<3SPACE,LIG.GREEN)H	
	FF$(F)=""sF=F-1:GOTO 5020	<056>		APPYSYNTH <GREY 3,SPACE ?(C) 1985 <3SPAC	
5000	IF ER=1 THEN PRINT"<DOWN,RIGHT>SOUND			E,LIG.BLUE?-"	<061>
	GESCHUETZT ! ":PRINT" <DOWN,RIGHT>NOCHM		7330	PRINT"<GREY 2,RVSON,SPACEJ5<RVOFF,GRE	
	AL 7";:G0T0 4950	<165>		Y l>UUU<GREY 2,RVS0N>F<3SPACE>-<RV0FF	
5010	IF B$="J"THEN 4980	<208>		,LIG.BLUE,2SPACE>^<GREY 3>CHRISTIAN Q	
5020	ER=0:CLOSE l;GOTO 410	<253>		UIRIN SPITZNER<LIG.BLUE>-"	<227>
7000		<221>	7340	PRINT"<GREY 2,RVSON,SPACE,RVOFF>gF 7T	
7010	========================:====:===:===	<231>		<RVSON,3SPACE >-<RVOFF,LIG.BLUE,2SPACE	
7020	=== U N T E R P R 0 G R A M M E ==	<027>		>-<GREY 3,4SPACE>& BERNHARD CARLI<5SP	
7030	==================================	<251>	7350	ACE,LIG.BLUE?-"	<158>
		<005>		PRINT"<GREY 2,RVS0N,SPACE)^{GREY l,RV	
7050		<168>		OFF>W<GREY 2,RVSON)V<3SPACE)={RVOFF	
7060	REM +++ TITELBILD +++	<150>		, LIG. BLUE, 2SPACE?7äLfc&£*&?L£J^	
7070	:	<188>		**&***V<UP>"	<092>
7080	IF PEEK(2)=1 OR PEEK(2)=2 THEN RETURN	<060>	7360	RETURN	<050>
7090	POKE 53280,0:POKE 53281,0	<104>	7400		<008>
7100	PRINT”<CLR,CTRL-H,GREEN}";CHR$(142);	<158>	7410	REM +++ START +++	<124>
7110	PR I NT " ä±x±Sjfcyüöü^^		7420		<028>
		<116>	7430	IF PEEK(56320)=111 THEN 7470	<241>
7120	PRINT"<ORANGE,RVSON,SPACE >-<SPACE,RIG		7440	PRINT"<HQME,14D0WN ?"TAB(27)T$(T1)	<093>
	HT >^ ¥{RIGHT,2SPACE>5<RIGHT,2SPACE>¥<		7450	IF T+40<TI THEN T=TI:Tl=l-Tl	<028>
	RI GHT , SPACE>-<SPACE , RI GHT>^{R I GHT , S		7460	60T0 7430	<242>
	PACE>-<SPACE,RIGHT >fi{2SPACE,RIGHT,3SP		7470	PRINT" {CLR}i*ä±S£ö&&^^	
	ACE,RIGHT,SPACE?- "	<079>			<252>
7130	PRINT”<RVSON,3SPACE,RIGHT,SPACE>T<SPA		7480	FOR 1=1064 TO 1944 STEP 40:POKE 1,93:	
52

C 64
Anwendung
POKE I+39,93:PRINT:NEXT	<131>	OXLIG. BLUEIFJUtWXHOME}"	<133>
7490 PRINT"T**düL££**Jt*^^ &&S222&<H0ME } ”;	<210>	8360 RETURN 8370 :	<197> <038?^
7500 POKE 2023,125	<009>	8380 REM +++ SEITE 2 +++	<007>
7510 RETURN 8000 REM +++ SEITE 1 +++ 8010 : 8020 PR I NT ” <HOME. LIG - BLUE>.t3Wt*^^ 8030 PRINT”<LIG.BLUE>-<GREEN,RVSON>OSZILLA TOR <RVOFF ,LIG. BLUE>zjdUELLKURVE-TASTAT UR <2SPACE>-<YELL0W>J0Y-<SPACE,LIG.BLU E>-"; 8040 PRINT"-{GREEN,RVSON>& FILTER<2SPACE,R VOFF, LIG. BLUE > =MODULAT I ONJ) I SK-MENUEz; <YELLDW>STICK <LIG.BLUE>-"; 8050 PR I NT ” BiOH^JUHb^^ ££±£££££n"; 8060 PRINT"-<WHITE,2SPACE>DC0 l<SPACE,LIG. BLUE,2SPACE>-<SPACE,WHITE,SPACE>DCO 2 <SPACE,LIG.BLUE,2SPACE>-<SPACE,WHITE, SPACE)DCO 3 <SPACE,LIG.BLUE,2SPACE1-" 8070 PR I NT " 5±*itS±*±*±±j^^ 8080 PRINT"-";:FOR 1=0 TO 2 8090 PRINT F^(DE(I))"Mn"F^(SZ(I))" Rfl"F$(R A(I) ) ” T++<LIG.BLUE,SPACE}-";:NEXT:PR INT 8100 PRINT"-<10SPACE>-<10SPACE>-<10SPACE }- 8110 PRINT"-";:FOR 1=0 TO 2 8120 PRINT F$(RE(I))"ßX<SPACE,PURPLE?PW: " RIGHT$(STR$(INT(PU(I)/40.95) ) ,2) "7.<LI G.BLUE>-";:NEXT:PRINT 8130 PR I NT " 5*AL*Ay±y±^ ÄÄU" 8140 PRINT"-"F$(RI(0))"RINGMOD. 3<LIG.BLUE 8150 PRINT F$(RI(l))"RINGMOD. KLIG.BLUE?- 8160 PRINT Ft(RI(2))"RINGM0D. 2{LIG.BLUE>- 8170 PRINT"z"F$(SY(0))"SYNCHRO. 3<LIG.BLUE 8180 PRINT F$(SY(l))"SYNCHRO. KLIG.BLUE?- 8190 PRINT F^(SY(2))"SYNCHR0. 2{LIG.BLUE>z 8200 PR I NT " 9iyjLy±?t5±ti^^^ 8210 PRINT"-";:FOR 1=0 TO 2 8220 PRINT"<PURPLE>OKTAVE: "INT(0KT(I)/12) "{LEFT,LIG.BLUE>z";:NEXT:PRINT 8230 PRINT"-";:FOR 1=0 TO 2 8240 PRINT"{PURPLE>TONART: ”N$(INT(OK(I)-( INT(0K(I)/12))*12))”{LIG.BLUE>z";:NEX T:PRINT 8250 PR I NT " 5äffi±SÄ&y±^^ Ä&U" 8260 PRINT"-{LIG.RED>FILTER "FI$(FE(0))"{L IG.BLUE>-<LIG.RED>FILTER "FI$(FE(1) ) ’’ {LIG.BLUEI-<LIG.RED>FILTER "FI$(FE(2) )"<LIG.BLUE>-" 8270 PRINT" {0RANGE>^*^L*3Jy^^	BLUE>i 8280 PRINT"<0RANGE>-<WHITE>F<0RANGE>-<8SPA CE,ORANGE>-<PURPLE>DCO VERSTIMMUNG:<2 SPACE)"RIGHU(STR$(VS) ,2) " <SPACE,LIG. BLUE?-" 8290 PRINT"{ORANGE?-<WHITE}I<ORANGE?-"F$<H P) " HOCHPASS <QRANGE I 5i±ÄÄ±ÖÜÜL^^ 8300 PRINT"<0RANGE?-<WHITE?L<0RANGE?-<8SPA CE?-<21SPACE?-" 8310 PRINT"<ORANGE?-<WHITE?T<ORANGE?-"F$(B P)"BANDPASS<ORANGE?-"; 8320 PRINT"<PURPLE?FREQUENZ: ";RIGHT$("{3S PACE)"+STR$(INT(C0*5.8+30)),5);" HERT Z<ORANGE?-" 8330 PRINT"<0RANGE?-<WHITE?E<0RANGE?-<8SPA CE?-<21SPACE?-" 8340 PRINT"<ORANGE?-<WHITE>R<ORANGE?-"F$(T P)"TIEFPASS <DRANGE} □ <PURPLEIRESONANZ: "RIGHT$(STR$(RS),2)"<9SPACE,0RANGE?- 8350 PR I NT " 74EiiÄÄ£^EÄ3ÜL5^^	<202> <018> <112> <093> <081> <197> <071> <179> <228> <063> <200> <120> <093> <132> <032> <217> <251> <177> <013> <219> <145> <147> <072> <042> <092> <221> <197> <103> <070> <222> <135> <163> <081> <196> <255> <215>	8390 : 8400 PRINT"<HOME,LIG.BLUE ?J+S&öüt*ffi 8410 PRINT"<LIG.BLUE?=OSZILLATOR-<GREEN,RV SON ?HUELLKURVE <RVOFF,LIG.BLUE?-TASTAT UR{2SPACE?-{YELL0W >JOY-<SPACE,LIG- BLU E?—"; 8420 PRINT"z& FILTER{2SPACE?-<GREEN,RVS0N? MODULATION <RVOFF,LIG.BLUE?^DISK-MENUE -<YELLOW)STICK <LIG.BLUE?-"; 8430 PR I NT " I**Ä±ty±y±3ö^^ .*J+J.*.*.*.<P11 5 8440 PRINT"-<2SPACE,WHITE?ADSR l<LIG-BLUE, 2SPACE ?z^2SPACE,WHITE)ADSR 2{LIG- BLUE ,2SPACE}-<2SPACE,WHITE ?ADSR 3{LIG- BLU E,2SPACE?-" 8450 PR I NT " 5iEfc0L££S0±SE^^ iSU" 8460 PRINT"-{WHITE?A{LIG.BLUE?-";AD$(A(0)) ;"-<WHITE?A<LIG.BLUE?-";ADT(A(D);"-{ WHITE)A{LIG.BLUEJz";AD$(A(2));“-" 8470 PR I NT " S&aäjaäöfcü^^ 8480 PRINT"-{WHITE>D{LI6.BLUE>-";R*(D(0>); "-{WHITE>D{LIG.BLUE>-";R$(D(1));"-<WH ITE?D<LIG.BLUE?-";RT(D(2));"-" 8490 PR I NT " ^±tÄffi£SÖ±j^^ ÄÄW" 8500 PRINT"—<WHITE?S<LIG-BLUE?—VOL.s "RIGH T$(STR$(S(0)),2)”-<WHITE?S<LIG-BLUE?-VOL.: "RIGHT$(STR$(S(1)),2); 8510 PRINT"-<WHITE>S<LIG.BLUE>-VOL-= "RIGH T$(STR$(S(2)),2)"-" 8520 PR I NT " 5±üfcöa8äÄÄ±i^^ **TT" 8530 PRINT"-<WHITE?R<LIG.BLUE?-";R*(R(0)); "-<WHITE?R<LIG.BLUE?-";R$(R(1));"z<WH ITE?R{LIG.BLUE?-";R$(R(2));"-" 8540 PR I NT " <ORANGE }5sFiiaSiS&^ 8550 PRINT"-";:FOR 1=0 TO 2 8560 PRINT"{PURPLE>VIBRATO:";RIGHT$(STR$(V KI)) ,2) " <ORANGE?-"; :NEXT:PRINT 8570 PR I NT " ?2ä^i£j^£ti^ iÄU" 8580 PRINT"-";:FOR 1=0 TO 2 8590 PRINT"<PURPLE?PW.MOD.:"RIGHT$(STR$(IN T(PW(I)/2.5757)),2)"<ORANGE?-";:NEXT: PRINT 8600 PR I NT " ^4SjL&4&4i&fct^^ ÄÄÜ" 8610 PRINT"-<WHITE>MODULATION <ORANGE?-<PUR PLE)GESCHWINDIGKEIT:<2SPACE ?"R16HT$(" "+STR$(SP),3)"<ORANGE?-" 8620 PR I NT " - {10SPACE }g.*JL*JL*L*3^^ *M" 8630 PR I NT " - {10SPACE ? 3*Ä±y±*ö^^ ^" 8640 PRINT"-{RED?"F$(4+MW)" ^{RED>"F$(5+M W)" R&{RED>"F$(3+MW)" M "; 8650 PRINT"<ORANGE>-<PURPLE>ENVELOPE FOLLO W:<2SPACE ?"RIGHT$(" "+STR$(EF),3)"<OR ANGE?-" 8660 PRINT" — <10SPACE?-{21SPACE?-" 8670 PRINT"-<RED>"F^(MW+2)" STIMME 3{SPACE ,ORANGE?-<PURPLE?FILTER MODULATION:"; 8680 PRINT RIGHT$(" "+STR$(MF),3)"<ORANGE} 8690 PR I NT " 7+?üü?±«±^Fjü^^ ö <LIG.BLUE ? r <HOME?" 8700 RETURN 8710 : 8720 REM +++ SEITE 3 +++ 8730 : 8740 PR I NT " <HOME, LIG. BLUE JÄÄffiÄffi 8750 PRINT" <LIG-BLUE>z=DSZILLATORzzHUELLKURV E-<GREEN,RVSDN?TASTATUR <2SPACE,RVOFF, LIG.BLUE?-<YELLOW?JOY-<SPACE,LIG.BLUE Listing 1. »Happysynth« (Fortsetzung)	<058> <173> <011> <167> <050> <131> <227> <100> <037> <133> <057> <183> <073> <087> <163> <227> <025> <120> <220> <055> <208> <081> <019> <070> <080> <205> <058> <173> <005> <032> <095> <120> <050> <248> <070> <051> <197>

53
Anwendung
C 64
8760 PRINT"-& FILTER{2SPACE)^0DULATI0Nz{G REEN,RVSON>DISK-MENUE{RVOFF,LIG.BLUE}
-<YELLOW}STICK{LIG.BLUE >-H 5	<067>
8770 PRINT''50S44m^^
SSiSiSSiS'';	<029 >
8780 PRINT"-<WHITE)SOUND {5SPACE,LIG. BLUE>z;
<WHITE >SOUND <5SPACE,LIG.BLUE>-<WHITE} SOUND <5SPACE,LIG.BLUE}-"	<146 >
8790 PRINT"-<WHITE >LOESCHEN <2SPACE,LIG.BLU E>-<WHITE>SPEICHERN <SPACE,LIG.BLUE>^< WHITE >LADEN <5SPACE,LIG.BLUE>-"	<229>
8800 PRINT''Q**&*L*^JL*&*F*^^
**U"	<006>
8810 PRINT"—<9SPACE,ORANGE,RVSON,SPACE}5<R VOFF,2SPACE,RVSON)fl{2SPACE,RVOFF,SPAC E,RVSON,2SPACE)5{RVOFF,SPACE,RVSON,SP ACE>@{RVOFF,9SPACE,LIG- BLUE?-"	<149>
8820 PRINT"-<9SPACE,ORANGE,RVSON,2SPACE,RV OFF>1f{SPACE, RVSON, SPACE>fl<SPACE , RVOFF ,SPACE,RVSON,SPACE)^{SPACE,RVOFF,SPAC E,RVSON,2SPACE,RVOFF >T<BSPACE,LIG.BLU EJ-”	<106>
8830 PR I NT "-<9SPACE, ORANGE , RVSON, SPACE >W< RVOFF,SPACE,RVSON,2SPACE >fi<RVOFF,SPAC E,RVSON,2SPACE,RVOFF >^{SPACE,RVSON,SP ACE >TT{RVOFF,8SPACE,LIG.BLUE }-”	<099 >
8840 PR I NT " WJ>JHtL*Ä*Ä*i^^^^
^{5SPACE1"	<243>
8850 PRINT"-<32SPACE>-<5SPACE>”	<109 >
8860 PRINT"-<2SPACE,GREY 3,RVS0N,SPACE,RV0
FF,SPACE,RVSON,SPACE,RVOFF,SPACE,RVSO N,SPACE >-<SPACE,RVOFF,SPACE,RVSON,SPA CE,RVOFF,SPACE,RVSON,SPACE,RVOFF,SPAC E,RVSON,SPACE>-<SPACE,RVOFF,SPACE,RVS ON,SPACE,RVOFF,SPACE,RVSON,SPACE >-<SP ACE,RVOFF,SPACE,RVSON,SPACE,RVOFF,SPA CE,RVSGN,SPACE,RVOFF >C{RVSON,SPACE,RV
OFF,LIG.BLUE,3SPACE >-<5SPACE >"	<106 >
8870 PRINT"{LIG.BLUE>-<2SPACE,GREY 3,RVS0N
,SPACE,RVOFF >2{RVSON,SPACE,RVOFF>3<RV SON,SPACE >-<SPACE,RV0FF>5 <RVSON,SPACE ,RVOFF >6 <RVSON,SPACE,RV0FF>7 <RVSON,SP ACE>-<SPACE,RVOFF >9{RVSON,SPACE,RVOFF }0 <RVSON,SPACE>-<SPACE,RVOFF}-{RVSON, SPACE,RVOFF}f{RVSON,SPACE,RVOFF}L{RVS ON,SPACE,RVOFF,LIG.BLUE,3SPACE)z"	<185 >
8880 PRINT"{LIG.BLUE>-<2SPACE,GREY 3,RVS0N
,SPACE,RVOFF,SPACE,RVSON,SPACE,RVOFF, SPACE,RVSON,SPACE >-<SPACE,RVOFF,SPACE ,RVSON,SPACE,RVOFF,SPACE,RVSON,SPACE, RVOFF,SPACE,RVSON,SPACE>-{SPACE,RVOFF ,SPACE,RVSON,SPACE,RVOFF,SPACE,RVSON, SPACE>-<SPACE,RVOFF,SPACE,RVSON,SPACE ,RVOFF,SPACE,RVSON,SPACE,RVOFFJR<RVSO N,SPACE,RVOFF,LIG.BLUE,3SPACE>-"	< 012 >
8890 PRINT"<LIG_BLUE>-<2SPACE,GREY 3,RVS0N ,SPACE>- - - - - - - - - - - - -<SPAC E,RVOFF,LIG.BLUE,3SPACE }-"	<164 >
8900 PRINT"<LIG.BLUE>-<2SPACE,GREY 3,RVS0N >QzWzEzRzTzYzUzIzDzPz@z*ztzZ <RVOFF,LI G.BLUE,3SPACE>-"	<222 >
8910 PRINT"-<32SPACE>-*1	<169>
8920 PRINT"-<2SPACE,GREY 3,RVS0N,SPACE>-<S
PACE,RVOFF,SPACE,RVSON,SPACE,RVOFF,SP ACE,RVSON,SPACE >-<SPACE,RVOFF,SPACE,R VSON,SPACE,RVOFF,SPACE,RVSON,SPACE,RV OFF,SPACE,RVSON,SPACE>-<SPACE,RVOFF,S PACE,RVSON,SPACE,RVOFF,SPACE,RVSON,SP ACE,RVOFF,LIG.BLUE,9SPACE >-”	<181>
8930 PRINT"<LIG.BLUE>-<2SPACE,GREY 3,RVS0N ,SPACE}-<SPACE,RVOFF}D <RVSQN,SPACE,RV OFF)F<RVSON,SPACE>-<SPACE,RVOFFJH{RVS ON,SPACE,RVOFF >J <RVSON,SPACE,RVOFF>K{ RVSON,SPACE >-<SPACE,RVOFF}s{RVSON,SPA CE,RVOFF >; <RVSON,SPACE,RVOFF,LIG.BLUE ,9SPACE>-"	<164>
8940 PRINT"{LIG.BLUE>-<2SPACE,GREY 3,RVS0N
,SPACE>-{SPACE,RVOFF,SPACE,RVSON,SPAC E,RVOFF,SPACE,RVSON,SPACE >-<SPACE,RVO FF,SPACE,RVSON,SPACE,RVOFF,SPACE,RVSO N,SPACE,RVOFF,SPACE,RVSON,SPACE>-<SPA CE,RVOFF,SPACE,RVSON,SPACE,RVOFF,SPAC E,RVSON,SPACE,RVOFF,LIG.BLUE,9SPACE>-"	<158>
8950 PRINT"<LIG.BLUE>-<2SPACE,GREY 3,RVS0N ,SPACE>- - - - - - - - - -<SPACE,RVOF
F,LIG.BLUE,9SPACE }-" 8960 PRINT"<LIG.BLUE>-<2SPACE,GREY 3,RVS0N > ZzXzCzVzBzMzMz, -. z^zs<SPACE, RVOFF , LIG .BLUE,9SPACE>-*' 8970 PRINT"-{32SPACE}-" 8980 PRINT"7**&TOHyofcSi^		<213> <041> <231> <233>
	i&r<HOME>";	
8990	RETURN	<158>
9000		<086>
9010	REM +++ MPG'S LADEN +++	<038>
9020		<106>
9030	IF PEEK(2)=0 THEN POKE 2,12LOAD"HAPPY	
	S.MPG.lM,8,1	<195>
9040	IF PEEK(2)=1 THEN POKE 2,2sL0AD*'HAPPY	
	S.MPG.2*',8,1	<254>
9050	IF PEEK(2)=2 THEN POKE 2,3:L0AD*'HAPPY	
	S.MPG.3",8,1	<057>
9060	RETURN	<228>
9100		<186>
9110	REM +++ INITIALISIEREN +++	<217>
9120		<206>
9130	OPEN 3,8,15	<168>
9140	DIM AD$(15),R$(15),N$(11),B(39),FF$(3	
	5)	<239>
9150		<236>
9160	FOR 1=0 TO 15:READ AD$(I):NEXT	<062>
9170	FOR 1=0 TO 15:READ R$(I):NEXT	<031>
9180	FOR 1=0 TO ll:READ N$(I):NEXT	<005>
9190	F$(0)=CHR$(28):F$(l)=CHR$(30)sFI$(0)= " {RED>AUS" :FI$ (1) =” <GREEN>EIN*': Ft (5) =	
	F$(1)	<247>
9200	T$(0)=”{RED}?f{LIG.BLUE}"s T$(1)="<GRE	
	EN>Ff{LIG.BLUE}"	<199>
9210		<040>
9220	V=53248:SI=54272:FR=55296:WF=40704:PA	
	=1:MW=1	<116>
9230	POKE V+32,0:POKE V+33,0sPOKE V+21,0:S	
	YS 49280	<130>
9240	FOR 1=0 TO 23:P0KE SI+I,0:NEXT:POKE S	
	1+24,15	<066>
9250	POKE 2041,14:POKE 2042,15:POKE 808,22	
	5	<172>
9260	POKE 2040,13:POKE V+39,8:P0KE V+37,7:	
	POKE V+38,0:POKE V+28,l:P0KE V+24,21	<036>
9270	POKE V+23,6:P0KE V+29,6sP0KE V+40,2:P	
	OKE V+41,2:P0KE 49213,5	<187>
9280	POKE 49301,203:POKE 49360,203	<000>
9290	FOR 1=0 TO 66:P0KE WF+I,0:NEXT I:POKE	
	WF+33,l:P0KE WF+39,26	<171>
9300	RETURN	<214>
9400		<232>
9410	REM +++ SPRITES +++	<012>
9420		<252>
9430	POKE V+21,6:P0KE V+40,5:POKE V+41,5:R	
	ETURN	<186>
9440	POKE V+21,7sP0KE V+40,2:POKE V+41,2:R	
	ETURN	<191>
9450	PRINT H<HOME,8D0WN,LIG.GREEN}”TAB(35)“ +10 <3D0WN,4LEFT}+1<2D0WN,SPACE>-1{3D0	
	WN,4LEFT}-10"sRETURN	<093>
9460	PRINT"<HOME,8D0WN}“TAB(34)"<5SPACE,3D OWN,5LEFT,2SPACE,2D0WN,3SPACE,3D0WN,5	
	LEFT,5SPACE}":RETURN	<166>
9470	PRINT”<HOME,8D0WN}"TAB(34)"+MSEK <8D0W	
	N,5LEFT>-MSEK":RETURN	<026>
9500		<078>
9510	REM +++ JOYSTICK-ABFRAGE +++	<064>
9520	:	<098>
9530	J=PEEK(56320):IF J AND 15>=16 THEN RE	
	TURN	<247>
9540	IF J=123 THEN JO=JO+1	<096>
9550	IF J=119 THEN JO=JO-1	<109>
9560	IF J=126 THEN JO=JO+10	<038>
9570	IF J=125 THEN JO=JO-10	<239>
9580	IF JO<0 THEN JO=0	<178>
9590	IF J0>255 THEN J0=255	<015>
9600	BU=J AND 16	<170>
9610	RETURN	<014>
9700		<022>
9710	REM +++ A$ —> A'Z +++	<231>
9720		<042>
9730	A7.=ASC (A$+CHRt (0) ) s RETURN	<031>
9800		<124>
9810	REM +++ ROT <-> GRUEN +++	<086>
9820		<144>
9830	A=PEEK(FR+P)2lF A/2=INT(A/2)THEN A=52	
54

C 64
Anwendung
GOTO 9850	<064>	THEN A1=0:PRINT	<115>
9840 A=2	<121>	10610 PRINT TAB(l+Al*13)"{GREY 2>"FF$(D;:	
9850 FOR 1=0 TO L:POKE FR+P+I,A:NEXTsRETUR		NEXT I	<035>
N	<202>	10620 Zl=0:Al=0:Z2=Zl:A2=Al	<228>
10000 :	<070>	10630 PRINT"<HOME,llDOWN>"	<142>
10010 REM +++ LADEN/LOESCHEN +++	<043>	10640 FOR 1=0 TO INT(Z2/3):PRINT:NEXT I	<141>
10020 :	<090>	10650 PRINT TAB(A2*13+l)"£GREY 2J"FF$(Z2)	<073>
10030 PR I NT ” £HOME , 10DOWN }^ääfcfcfc«JÜ^^		10660 PRINT"£HOME,llDOWN>"	<172>
	<060>	10670 FOR 1=0 TO INT(Zl/3):PRINT:NEXT I	<167>
10040 PRINT At	<056>	10680 PRINT TAB(Al*13+l)”£WHITE}"FF$(Zl)	<196>
10050 POKE 1463,115:P0KE 1543,115sP0KE V+4		10690 A2=Al:Z2=Zl:J=PEEK(56320)	<181>
0,5:POKE V+41,5	<137>	10700 IF J=119 THEN Zl=Zl+l:IF Zl>F THEN Z	
10060 PR I NT11 BJUUt*JUh^^		l=Z2:G0T0 10720	<247>
	<032>	10710 IF J=119 THEN Al=Al+l:IF Al>2 THEN A	
10070 FOR 1=0 TO 10	<022>	l=0:GOTO 10770	<203>
10080 PRINT"-£12SPACE }-£12SPACE >-£12SPACE}		10720 IF J=123 THEN Zl=Zl-l:IF Z1<0 THEN Z	
'•: NEXT	<132>	l=Z2:G0T0 10740	<234>
10090 PR I NT117fA*J^*jeA*^^^^^		10730 IF J=123 THEN Al=Al-l:IF A1<0 THEN A	
4i0SS<H0ME > "	<030>	l=2:G0T0 10770	<068>
10100 GOSUB 10210:POKE 1463,93:P0KE 1543,9		10740 IF J=125 THEN Zl=Zl+3:IF Zl>F THEN Z	
3	<084>	l=Z2:G0T0 10750	<100>
10110 Dt=FFt(Zl):POKE V+3,109:POKE V+5,151		10750 IF J=126 THEN Zl=Zl-3:IF Z1<0 THEN Z	
:POKE V+21,0	<153>	l=Z2:G0T0 10770	<145>
10120 IF ER THEN ER=0:GOTO 410	<124>	10760 IF J=lll THEN RETURN	<213>
10130 PR I NT " £HOME, 10DOWN, LIG. BLUE }?±SiÄÄÖ		10770 IF(J AND 15X15 AND Zl<>Z2 THEN 1063	
.*jKi*3fc*JL*JL*JL*JL*J^	>”	<203>	0	<148>
10135 PRINT A1$	<236>	10780 GOTO 10690	<078>
10138 PR I NT *’ £L IG . BLUE > g.<JL*3L*i*J^^		10790 ;	<098>
	<114>	10800 REM +++ FEHLERMELDUNG +++	<027>
10140 FOR 1=2 TO 12	<158>	10810 :	<118>
10150 PRINT"-£32SPACE>-£5SPACE >":NEXT	<042>	10820 INPUT#3,ER,ER$,LO:ER$=ER$+"£16SPACE }	
10160 PR I NT " 7*iääii±yJÜ^^			<034>
i4iF<H0ME}";	<141>	10830 IF ER=0 OR ER=63 OR ER=1 THEN RETURN	<038>
10170 RETURN	<066>	10840 PRINT#3,"UI"	<200>
10180 :	<250>	10850 FOR 1=1 TO 39:B(I)=PEEK(1463+I)sNEXT	<142>
10190 REM +++ SOUND-AUSWAHL +++	<095>	10860 PRINT"£HOME,llDOWN,RIGHT,GREY 3>";LE	
10200 :	<014>	FT$(ER$,2D;": NOCHMAL ?£6SPACE}"	<138>
10210 IF LL THEN 10590	<067>	10870 IF B(34)=93 THEN PRINT TAB(33)"£UP,L	
10215 GOSUB 10914:ID$(l)=ID$	<046>	IG.BLUE}-"	<218>
10220 CLOSE lsOPEN l,8,2,"HSY*,S,R":G0SUB		10880 GET B$:IF B$<>"J"AND B$<>"N"THEN 108	
10820	<147>	80	<090>
10225 GOSUB 10914:ID$(l)=ID$	<056>	10890 IF B$="N"THEN RETURN	<016>
10230 IF ER AND Bt="J"THEN 10220	<223>	10900 FOR 1=1 TO 39:P0KE 1463+I,B(I):NEXT	<124>
10240 IF ER THEN RETURN	<100>	10910 RETURN	<044>
10250 A0=0	<017>	10911 :	<219>
10260 CLOSE 15:0PEN 15,8,15,"I":G0SUB 1082		10912 REM +++ ID ABFRAGEN +++	<039>
0	<124>	10913 :	<221>
10270 IF ER AND B$="J"THEN 10260	<013>	10914 CLOSE 15:0PEN 15,8,15,"I"	<074>
10280 IF ER THEN RETURN	<140>	10915 IF ER AND Bt="J"THEN 10914	<028>
10290 F=-1	<016>	10916 IF ER THEN CLOSE 2sCLR 15:RETURN	<254>
10300 CLOSE 2:0PEN 2,8,2,"#":G0SUB 10820	<084>	10917 CLOSE 2:0PEN 2,8,2,"#"	<011>
10310 IF ER THEN RETURN	<170>	10918 PRINT#15,"Ul:";2;0;18;0	<054>
10320 IF ER AND B$="J"THEN 10300	<185>	10919 PRINT#15,"B-P:";2;162	<038>
10330 IF ER THEN RETURN	<190>	10920 GET #2,ID$,I1$:ID$=ID$+I1$	<083>
10340 TR=18sSE=l	<067>	10930 CLOSE 2:CL0SE 15:RETURN	<013>
10350 PRINT"£HOME,13D0WN,RIGHT}";	<189>	11000 :	<052>
10360 PRINT#15,"Ul";2;0;TR;SE	<159>	11010 REM +++ DATAS +++	<074>
10370 GET#2,X$	<065>	11020 :	<074>
10380 TR=ASC(X$+CHR$(0))	<067>	11030 REM +++ DATEN FUER ADSR +++	<232>
10390 GET#2,X$	<085>	11040 DATA"£4SPACE?2 MS","£4SPACE}8 MS","£	
10400 SE=ASC(X$+CHR$(0))	<235>	3SPACE}16 MS","£3SPACE}24 MS",“£3SPA	
10410 FOR X=0 TO 7	<183>	CE>38 MS","£3SPACE>56 MS”	<208>
10420 PRINT#15,"B-P";2;X*32+2	<102>	11050 DATA"£3SPACE}68 MS%"<3SPACE>80 MS”,	
10430 GET#2,T$:IF(ASC(T$+CHR$(0))AND l)=0		"<2SPACEM00 MS",'X2SPACE>250 MS","£	
THEN 10560	<027>	2SPACE>500 MS","C2SPACE>800 MS”	<201>
10440 PRINT#15,"B-P";2;X*32+5	<146>	11060 DATA" 1000 MS”,” 3000 MS"," 5000 MS"	
10450 GET#2,X$:IF X$<>"H"THEN 10560	<092>	," 8000 MS"	< 222 >
10460 GET#2,X$:IF X$<>"S"THEN 10560	<235>	11070 DATA"£4SPACE}6 MS",”£3SPACE>24 MS","	
10470 GET#2,X$:IF X$<>"Y"THEN 10560	<248>	C3SPACE>48 MS","£3SPACE>72 MS",”£2SP	
10480 GET#2,X$	<175>	ACE>114 MS”,"£2SPACE>168 MS”	<185?^
10490 F$=""	<123>	11080 DATA"<2SPACE>204 MS","£2SPACE>240 MS	
10500 FOR Y=0 TO 11	<073>	","<2SPACE>300 MS","£2SPACE}750 MS",	
10510 GET#2,X$:IF X$=""THEN X$=CHR$(0)	<230>	" 1500 MS"," 2400 MS"	<120>
10520 F$=F$+X$	<149>	11090 DATA" 3000 MS"," 9000 MS","15000 MS"	
10530 NEXT Y:F=F+l:IF F=33 THEN F=32:G0T0		,"24000 MS"	<060>
10580	<230>	11100 REM +++ DATEN FUER NOTEN +++	<113>
10535 FF$(F)=F$	<254>	11110 DATA" C","#C"," D","#D"," E"," F","#	
10540 PRINT TAB(A0*13+l);"£GREY 2>";Ft;	<209>	F"," G","#G"," A","#A"," H”	<195>
10550 A0=A0+1:IF A0>2 THEN A0=0:PRINT	<249>		
10560 NEXT X	<094>		
10570 IF TR<>0 THEN 10360	<086>	© 64zer	
10580 CLOSE 15:CLOSE 2:LL=l:G0T0 10620	<093>		
10590 GOSUB 10914:IF ID$<>ID$(l)THEN LL=0:			
FOR 1=0 TD 32:FF$(I)="":G0T0 10210	<027>		
10599 PRINT"{H0ME,13D0WN}";	<225>		
10600 Al=-l:FOR 1=0 TO 32:Al=Al+l:IF Al>2		Listing 1. »Happysynth« (Schluß)	

55
Anwendung
C 64
PROGRAMM ; HAPPYS.MPG.1 C000 C491
C000 : EA AC 00 DC 98 29 01 D0 54 C008 : 07 AE 01 D0 CA 8E 01 D0 87 C010 : 98 29 02 D0 07 AE 01 D0 63 C018 : E8 8E 01 D0 98 29 04 D0 26 C020 : 07 AE 00 D0 CA 8E 00 D0 5B C028 : 98 29 08 D0 07 AE 00 D0 F9 C030 : E8 8E 00 D0 98 29 10 D0 2E C038 : 03 4C 4D C0 A0 0A A2 00 B2 C040 : CA E0 00 D0 FB 88 C0 00 9B C048 : D0 F4 4C 01 C0 A2 00 E8 B9 C050 : BD 00 98 CD 00 D0 10 F7 A4 C058 : BD 40 98 CD 00 D0 30 EF 3C C060 : BD 80 98 CD 01 D0 10 E7 E4 C068 : BD C0 98 CD 01 D0 30 05 C6 C070 : 8E FF 9F EA 60 E0 3E D0 EB C078 : D6 A2 00 4C 70 C0 00 00 36 C080 : 78 A9 8D 8D 14 03 A9 C0 63 C088 : 8D 15 03 58 60 48 8A 48 6F C090 : 98 48 08 18 A5 CB C9 40 B2 C098 ; D0 lB AD 00 9F 29 FE 8D BC C0A0 : 04 D4 AD 01 9F 29 FE 8D F4 C0A8 : 0B D4 AD 02 9F 29 FE 8D 23 C0B0 : 12 D4 4C 8A C4 AD 00 9F 8A C0B8 : 09 01 8D 04 D4 AD 01 9F 24 C0C0 : 09 01 8D 0B D4 AD 02 9F 11 C0C8 : 09 01 8D 12 D4 A2 28 A5 46 C0D0 : CB DD 00 C3 F0 06 CA D0 0E C0D8 = F6 4C 9A C0 18 8A A8 AD 87 C0E0 : 40 9F 8D 84 9F AD 20 9F 0B C0E8 : 8D 83 9F 20 00 C4 AD 80 01 C0F0 : 9F 48 A9 80 8D 83 9F 20 El C0F8 : 00 C4 ,18 98 6D 03 9F AA 36 C100 : BD 90 C3 BD F0 9F 68 7D 50 C108 : 30 C3 48 AD F0 9F 69 00 93 C110 : 68 38 ED 80 9F 4C E0 C2 85 C118 : EA AD 41 9F 8D 84 9F AD F4 C120 : 20 9F 8D 83 9F 20 00 C4 68 C128 : AD 80 9F 48 A9 80 8D 83 E2 C130 = 9F 20 00 C4 18 98 6D 04 7C C138 : 9F AA BD 90 C3 8D F0 9F 59 C140 : 68 7D 30 C3 48 AD F0 9F E0 C148 : 69 00 8D F0 9F 18 68 6D 6A C150 : 06 9F 4C 40 C4 EA AD 42 20 C158 : 9F 8D 84 9F AD 20 9F 8D 48 C160 : 83 9F 20 00 C4 AD 80 9F B6 C168 : 48 A9 80 8D 83 9F 20 00 0C C170 : C4 18 98 6D 05 9F AA BD 88 C178 : 90 C3 8D F0 9F 68 7D 30 FF C180 : C3 48 AD F0 9F 69 00 8D 51
C188 : F0 9F 68 4C 60 C4 EA EA 99 C190 : EA EA EA AD lC D4 8D 84 07 C198 : 9F AD 11 9F 8D 83 9F 20 FA C1A0 : 00 C4 AD 81 9F 48 AD 80 92 ClA8 : 9F 48 AD 20 9F 8D 84 9F 92 C1B0 ; AD 13 9F 8D 83 9F 20 00 36 ClB8 : C4 68 6D 0F 9F 6D 80 9F 94 C1C0 : 08 4A 4A 4A 4A 4A 8D 15 21 ClC8 : D4 28 68 6D 81 9F 6D 10 63 C1D0 ; 9F 90 02 A9 FF 8D 16 D4 DB ClD8 : EA EA EA AD 22 9F 29 FC 65 C1E0 : D0 14 AD 23 9F 6D 22 9F B7 ClE8 : 8D 23 9F C9 04 30 2E A9 F6 C1F0 -. 00 BD 23 9F A9 04 4A 4A EC ClF8 : 8D 26 9F AD 24 9F 38 ED 32 C200 : 26 9F BD 24 9F B0 08 AD D9 C208 : 25 9F 49 FF 8D 25 9F 18 00 C210 : AD 21 9F C9 00 D0 09 AD 75 C218 : 24 9F 8D 20 9F 4C 4C C2 86 C220 ; C9 01 D0 15 AD 25 9F C9 57 C228 : 00 F0 08 38 ED 24 9F 18 58 C230 : 4C lA C2 AD 24 9F 4C lA 94 C238 : C2 C9 02 D0 06 AD 25 9F lB C240 : 4C lA C2 AD lB D4 4C lA BD C248 : C2 EA EA EA AE 27 9F AD 95 C250 : 20 9F 9D 00 D4 A0 00 AD 55 C258 : 20 9F 8D 84 9F B9 28 9F E3 C260 : 8D 83 9F 20 00 C4 AD 80 79 C268 s 9F 4A 4A 4A 4A 99 2B 9F 66 C270 : 18 AD 81 9F 0A 0A 0A 0A E0 C278 : 18 79 2B 9F 99 2B 9F 08 8D C280 : AD 81 9F 4A 4A 4A 4A 28 BF C288 : 69 00 99 2E 9F C8 C0 03 67 C290 : D0 C5 EA EA EA A2 00 A0 60 C298 : 00 20 Bl C2 E8 A0 07 20 5D C2A0 : Bl C2 E8 A0 0E 20 Bl C2 2F C2A8 : 28 68 A8 68 AA 68 4C 31 BD C2B0 : EA BD 28 9F D0 10 BD 31 5E C2B8 : 9F 99 02 D4 BD 34 9F 99 6E C2C0 : 03 D4 60 00 00 00 18 BD 21 C2C8 : 31 9F 7D 2B 9F 99 02 D4 06 C2D0 : BD 34 9F 7D 2E 9F C9 10 66 t2D8 : 30 02 A9 0F 99 03 D4 60 lB C2E0 : 8D 00 D4 AD F0 9F B0 03 2D C2E8 : 38 E9 01 8D 01 D4 4C 19 21 C2F0 : C1 00 00 00 00 00 00 00 B2 C2F8 : 00 00 00 00 00 00 00 00 F9 C300': 00 3E 3B 09 08 0E 11 10 65 C308 : 16 13 19 18 lE 21 20 26 A9 C310 : 23 29 2E 2B 31 30 36 33 8D C318 : 0C 17 12 14 15 lF lC lD AC C320 : 27 22 24 25 2F 2C 2D 37 7E
C328 :	32	00	00	00	00	00	00	00	5B
C330 :	16	27	39	4B	5F	74	8A	Al	99
C338 :	BA	D4	F0	0E	2D	4E	71	96	92
C340 :	BE	E7	14	42	74	A9	E0	lB	8D
C348 :	5A	9C	E2	2D	7B	CF	27	85	2C
C350 :	E8	51	C1	37	B4	38	C4	59	0B
C358 :	F7	9E	4E	0A	D0	A2	81	6D	76
C360 :	67	70	89	B2	ED	3B	9D	14	0F
C368 :	A0	45	03	DB	CF	El	12	65	06
C370 s	DB	76	3A	27	41	8A	05	B5	E2
C378 :	9D	C1	24	C9	B6	ED	73	4E	7D
C380 :	82	14	0A	6A	3B	82	48	93	EC
C388 :	6B	DA	E7	9C	04	28	14	00	C0
C390 :	01	01	01	01	01	01	01	01	90
C398 :	01	01	01	02	02	02	02	02	D7
C3A0 :	02	02	03	03	03	03	03	04	21
C3AB ;	04	04	04	05	05	05	06	06	ED
C3B0 :	06	07	07	08	08	09	09	0A	FE
C3B8 :	0A	0B	0C	0D	0D	0E	0F	10	8A
C3C0 :	11	12	13	14	15	17	18	lA	C0
C3C8 :	lB	lD	lF	20	22	24	27	29	70
C3D0 :	2B	2E	31	34	37	3A	3E	41	A6
C3D8 :	45	49	4E	52	57	5C	62	68	52
C3E0 :	6E	75	7C	B3	8B	93	9C	A5	AB
C3E8 :	AF	B9	C4	D0	DD	EA	FB	00	D8
C3F0 :	00	00	00	00	00	00	00	00	Fl
C3F8 :	00	00	00	00	00	00	00	00	F9
C400 :	AD	83	9F	48	AD	84	9F	48	6E
C408 :	A9	00	8D	80	9F	8D	81	9F	D0
C410 s	8D	82	9F	A2	08	4E	83	9F	5B
C418 :	90	13	AD	80	9F	18	6D	84	27
C420 :	9F	8D	80	9F	AD	81	9F	6D	DA
C428 :	82	9F	8D	81	9F	0E	84	9F	C9
C430 :	2E	82	9F	CA	D0	DF	68	BD	A9
C438 :	84	9F	68	8D	83	9F	60	00	0E
C440 :	48	AD	F0	9F	69	00	8D	F0	3E
C448 :	9F	38	68	ED	80	9F	8D	07	24
C450 :	D4	AD	F0	9F	B0	03	38	E9	03
C458 :	01	8D	08	D4	4C	56	C1	00	3B
C460 =	38	ED	06	9F	48	AD	F0	9F	F9
C468 :	B0	03	38	E9	01	8D	F0	9F	65
C470 :	68	38	ED	80	9F	8D	0E	D4	C8
C478 :	AD	F0	9F	B0	03	38	E9	01	37
C480 :	8D	0F	D4	8C	Fl	9F	4C	93	D0
C488 :	C1	00	AE	Fl	9F	4C	DC	C0	B4
C490 :	FF	00	FF	00	FF	00	FF	00	8F
Listing 2. Maschinenprogramm 1. Wird vom Hauptprogramm nachgeladen. Zur Eingabe bitte den MSE (Seite 18) verwenden.
PROGRAMM : HAPPYS.MPG.2 9800 9901
9800 :	00	00 66	BE	00	66	BE	00	A0
9808 :	28	3E 66	80	96	BE	D9	EE	9E
9810 ;	00	80 00	28	66	80	BE	D9	6F
9818 :	00	80 00	66	BE	00	66	BE	28
9820 :	00	66 BE	00	66	BE	00	66	2C
9828 :	BE	00 66	BE	00	66	BE	00	86
9830 :	66	BE 00	30	46	66	BE	00	BE
9838 :	66	BE 00	66	BE	00	80	00	B8
9840 :	00	66 BE	FF	66	BE	FF	28	CF
9848 :	3E	66 80	96	BE	D9	EE	FF	23
9850 :	80	FF 28	66	80	BE	D9	FF	0C
9B58 :	B0	FF 66	BE	FF	66	BE	FF	77
9860 :	66	BE FF	66	BE	FF	66	BE	F5
9868 :	FF	66 BE	FF	66	BE	FF	66	73
9870 :	BE	FF 30	46	66	BE	FF	66	2C
9B78 :	BE	FF 66	BE	FF	80	FF	00	AB
9880 :	00	00 00	00	4D	4D	4D	5F	B4
9888 :	5F	5F 5F	5F	5F	5F	5F	5F	88
9890 :	69	69 71	71	71	71	71	71	84
9898 :	7B	7B 80	80	80	89	89	89	8E
98A0 :	92	92 92	99	99	99	Al	Al	83
98A8 :	Al	AD AD	AD	BD	BD	BD	D2	A7
98B0 :	D2	D2 D9	D9	D9	D9	D9	El	34
9BB8 :	El	El E9	E9	E9	F3	F3	00	4F
98C0 :	00	4D 4D	4D	5F	5F	5F	69	A5
9BC8 :	69	69 69	69	69	69	69	69	C8
98D0 :	71	71 7B	7B	7B	7B	7B	7B	C1
98D8 :	80	80 89	B9	89	92	92	92	C8
98E0 ;	99	99 99	Al	Al	Al	AD	AD	lA
98E8 :	AD	BD BD	BD	D2	D2	D2	D9	5E
98F0 :	D9	D9 El	El	El	El	El	E9	F3
98F8 :	E9	E9 F3	F3	F3	FF	FF	00	90
9900 :	00	01 FF	31	00	02	FF	00	B7
Listing 3. Maschinenprogramm 2. Wird vom Hauptprogramm nachgeladen. Zur Eingabe bitte den MSE (Seite 18) verwenden.
PROGRAMM : HAPPYS.MPG.3 033E 03FI
033E :	00	00	00	38	00	00 3A	00	2E
0346 :	00	3A	00	00	3A	00 00	3A	7C
034E :	00	00	3A	E0	00	3A EE	00	87
0356 :	3A	EE	38	3A	AE	0E 3A	AA	F6
035E :	0E	BA	AA	03	AA	AA 03	AA	36
0366 :	AA	00	EA	AA	00	3A A8	00	95
036E :	3A	A8	00	FA	AB	00 FE	AD	6E
0376 :	00	D7	F5	00	D5	55 00	D5	93
037E :	55	00	00	00	00	00 00	00	D4
0386 :	00	00	00	00	00	00 00	00	87
038E :	00	00	00	00	00	00 00	00	8F
0396 :	10	00	00	38	00	00 7C	00	9F
039E :	00	10	00	00	10	00 00	10	C8
03A6 :	00	00	10	00	00	10 00	00	2B
03AE :	10	00	00	10	00	00 FE	00	BC
03B6 :	10	FE	08	30	FE	0C 7F	FF	9C
03BE :	FE	00	^0	FE	0C	10 FE	08	F6
03C6 :	00	FE	00	00	10	00 00	10	67
03CE :	00	00	10	00	00	10 00	00	53
03D6 :	10	00	00	10	00	00 10	00	29
03DE :	00	7C	00	00	38	00 00	10	C0
03E6 :	00	00	00	00	00	00 00	00	E7
03EE :	00	00	00	00	00	00 00	00	EF
03F6 :	00	00	00	00	00	00 00	00	F7
03FE :	FF	00	20	10	12	0F 07	12	El
Listing 4. Maschinenprogramm 3. Wird vom Hauptprogramm nachgeladen. Zur Eingabe bitte den MSE (Seite 18) verwenden.
100	REM H	n-+ DEMO-SOUNDS +++	<255>
110	FOR j	[=1 TO 6	<083>
120	: READ NA*		<177>
130	: OPEN l,8,2,NA*+",S,W"		<061>
140	: FDR T=1 TO 37		<090>
150		READ S	<239>
160		PRINT#1,CHR*(S);	<122>
170	: NEXT T		<235>
180	: CLOSE 1		<180>
190	NEXT	I	<018>
200	END		<202>
210	DATA	"HSY. ORGEL	"	<134>
220	DATA	32,28,,4,,107,1,1,,32,24,,4,	<030>
230	DATA	107,1,1,,32,31,,4,,107,1, 1 , , 1	<057>
240	DATA	168,,5,1,87,,1,14,25	<145>
250	DATA	"HSY.BRANDUNG.	"	<202>
260	DATA	128,28,,4,220,255,1,1,,128,24	<151>
270	DATA	,4,220,255,1,1,,128,31,,4,220	<053>
280	DATA	255,1,1,,1,168,,15,5,87,80,1	<226>
290	DATA	10,25	<105>
300	DATA	"HSY. FLOETE	"	<081 >
310	DATA	16,43,, , 1 1,23, , ,,16,43,16,8	<051>
320	DATA	11,240,,,,16,43,,,11,133,,,,	<070>
330	DATA	,,,30,,,1,,	<234>
340	DATA	"HSY. GLOCKEN	"	< 225 >
350	DATA	20,31,,,10,108,,,,20,16,,,10	<001>
360	DATA	108,,,,16,39,,,10,108,,,,,,,	<113>
370	DATA	, , , 1 , ,	<184>
380	DATA	"HSY.BASS	"	<193>
390	DATA	34,19,,,12,250,1,,,32,31,16,8	<250>
400	DATA	12,250,1,,,32,7,,,10,56,1,,,1	<073>
410	DATA	64,1,14,4,155,,2,1,	<131>
420	DATA	"HSY.METALLIC. . . . "	<103>
430	DATA	20,43,,,10,56,,,,20,12,,, 10	<063>
440	DATA	56,,,,20,43,,,10,56,,,,,207,2,	<220>
450	DATA	2,130,,1,,	<154>
© 64'er
Listing 5. Demosounds zu »Happy-synth«. Nach Starten mit »RUN« werden die Sounds automatisch auf Diskette gespeichert. Zur Eingabe bitte den Checksummer (auf Seite 16) verwenden.
56
MaddOchnik-Buchveriag
werden Sie ein Profi
mit dem Commodore 64
9ronk S«»#«n»
Pr#ar<i^umes-en hi
iin lehr« vnd Übungsbuch mit nusgewähHen ROM- und RAM«Reutinen für die Bntwkkiung een eigenen Asn»nblerpr#gnimmen.
Alle Beispiel« für die 40er- und 80er-Serien verwendbur«
F. Kassera/W. Kassera
C64 - Programmieren in Maschinensprache
August 1985, 327 Seiten inklusive Beispieldiskette
In diesem Buch finden Sie über 100 Beispiele zur Assembler-Programmierung mit viel Kommentar und Hintergrundinformationen: Das Schreiben von Maschinenprogrammen • Rechnen und Texten mit vorhandenen Routinen • Bedienung von Drucker und Floppy • wie man BASIC- und Maschinenprogramme verknüpft • Erstellen von eigenen Befehlen in Modulform. Wenn Sie als Commodore-Profi ernsthaft in ASSEMBLER programmieren wollen, haben Sie mit diesem Buch das richtige Nachschlagewerk!
Best.-Nr. MT 830, ISBN 3-89090-168-9 (sFr. 47,80/öS 405,60)
DM 52,
Commodore 64 Listings, Band 2: Dateiverwaltung • Schule * Hobby
Oktober 1984,179 Seiten
Ein Buch mit Programmen für die ganze Familie • DATAVE — Eine Dateiverwaltung • mathematische Funktionen • Konjugation und Deklination in Latein • Regressionsanalyse • Bundesligata-
belle. Teilweise Vorkenntnisse erforderlich.
Best.-Nr. MT 766, ISBN 3-89090-071-2
DM 24,80 (sFr. 23,-/0S 193,40)
Mehr als 32 BASIC-Programme für den Commodore 64. Februar 1984,279 Seiten ProgrammespeziellfürdenCommodore64 • umfassendepraktischeAnwendungen ■ jedeMen-ge Lehr- und Lernhilfen • super Spiele • für Basic-Neulinge und Experten.
Best.-Nr. MT 613 (Buch), ISBN 3-922120-66-0	DM 49,— (sFr. 45,10/öS 382,20)
Best.-Nr. MT 614 (Beispiele auf Diskette)	DM 48,— * (sFr. 48,-/oS 432,—)
* inkl. MwSt. Unverbindliche Preisempfehlung

(sFr. 45,10/öS 382,20)
DM 49,-
Best.*Nr. MT 710 (Beispiele auf Diskette)
(sFr. 29,90/öS 269,10)
Unverbindliche Preisempfehlung
>Mm f»rtis«»g
DM 29,90 * inkl. MwSt.
W«90^A$CAL, »6VÄ»& miSAM, M8I$K*80 ~
HAP
H. Ponnath
C64 — Wunderland der Grafik
Juli 1985, 236 Seiten inkl. Beispieldiskette Dieses Buch zeigt eine Vielzahl sehr interessanter Lösungen, um die grafischen Möglichkeiten des Commodore 64 optimal zu nutzen. Als Krönung enthält es ein zuschaltbares Assemblerprogramm, das umfangreiche grafische und einige neue BASIC-Befehle anbietet.
Best.-Nr. MT 756
ISBN3-89090-130-1
(sFr.45,10/0S382,20) UM 43,"
K. Schramm
Die Floppy 1541 April 1985, 434 Seiten
Für alle Programmierer, die mehr über ihre VC 1541-Floppystation erfahren wollen. Der Vorgang des Formatierens • das Schreiben von Files auf Diskette • die Funktionsweise von schnellen Kopier- und Ladeprogrammen • viele fertige Programme.
Best.-Nr. MT 806, ISBN 3-89090-098^
Das
Profihandbuch
H. L. Schneider/W. Eberl
Das C64-Profihandbuch
Jull 1985, 410 Seiten
Ein Buch, das alle wichtigen Informationen für professionelle Anwendungen mit dem C64 enthält. Mit allgemeinen Algorithmen, die auch auf andere Rechner übertragbar sind, und vielen Utilities, getrennt nach BASIC- und Maschinenprogrammen. Besonders nützlich: erweiterte PEEK- und POKE-Funktionen.
Best.-Nr. MT 749
ISBN 3-89090-110-7	nM
(sFr. 47,80/öS 405,60)	UM Ut,“
Dr. W.-J. Becker/M. Folprecht
Programmieren unter CPWI mit dem C64
Juni 1985, 290 Seiten
Wenn Sie wissen wollen, wie das Betriebssystem CP/M 2.2 auf dem C64 implementiert ist, außerdem einiges über Turbo-Pascal, Nevada-Fortran, MBasic-80 erfahren wollen, dann ist dieses Buch genau richtig für Sie! Mit Schaltplänen zur eigenen Fertigung des CP/M-Moduls. Für eingefleischte C64-Profis.
Best.-Nr. 751
ISBN 3-89090-091-7
(sFr. 47,80/öS 405,60) UM üA,—
Markt &Technik-Fachbücher erhalten Sie bei Ihrem Buchhändler.
Fragen Sie dort nach unserem Gesamtkatalog mit über 200 neuen Computerbüchern.

wtrs
MSX Basic. April 1985, 236 Seiten
Alles über den neuen Heimcomputerstandard MSX: zusätzlich zum »normalen« BASIC können mit insgesamt mehr als 150 Befehlen und Funktionen Grafiken erstellt, Töne erzeugt, Melodien komponiert und ganze Spielhandlungen programmiert werden • 32 Sprites garantieren abwechslungsreiche Action-Spiele • die Hardware des MSX-Systems • nützliche Hinweise zur Dateibehandlung • das MSX-BASIC anhand der Entwicklung eines Spielszenarios mühelos lernen • drei vollständige Spiele: Der eisige Planet, Autorennen und Bilder entwerfen • mit ausführlicher Befehlsübersicht • für Anfänger!
Best.-Nr. MT 805, ISBN 3-89090-107-7	DM 44,- (sFr. 40,50/öS 343,20)
Best.-Nr. MT 825 (Beispiele auf Kassette)	DM 19,90* (sFr. 19,90/öS 179,10)
* inkl. MwSt. Unverbindliche Preisempfehlung
Bestellkarten bitte an Ihren Buchhändler oder an einen unserer Depot-Händler. Adressenverzeichnis am Ende des Heftes. Beim Markt&Technik Verlag eingehende Bestellungen werden von den Depot-Händlern ausgeliefert.
BASIC-Programmierbuch. 1984,506 Seiten
Ein BASIC-Lehrbuch, das ebensoviel Spaß macht wie BASIC selbst. Locker und unterhaltsam geschrieben, mit vielen Zeichnungen und Grafiken bestückt, sagt der Text selbst dem Einsteiger alles, was für das erfolgreiche Programmieren in BASIC erforderlich ist.
Best.-Nr. MT 658, ISBN 3-922120-92-X
DM 78,— (sFr. 71,80/öS 608,40)
Markt&TeChnik Verlag AG Hans-Pinsel-Straße2,8013HaarbeiMünchen Schweiz: Markt&TechnikVertriebs AG, Kollerstraße 3, CH-6300 Zug, ® 0 42/22 3155 Österreich: RudolfLechner & Sohn, Heizwerkstraße 10, A-1232 Wien ® 02 22/67 75 26
Die angegebenen Preise sind Ladenpreise.
Grafik
C 64
HI-EDDI: ein fantastisches Zeichen- und Malprogramm
HI-EDDI ist ein High-Resolutior>Grafik-Editor, der vieles bietet, was man bei teuren, kommerziellen Programmen vergeblich sucht. Sehen Sie sich die Bilder an und Sie bekommen einen Eindruck von seinen Fähigkeiten.
Hier eine Aufstellung der herausragenden Eigenschaften: ■ Wahlweise als »Schwarzweiß«-Zeichenprogramm oder als farbiges Malprogramm verwendbar, in jedem Fall mit der vollen Auflösung von 320 x 200 Bildpunkten.
■	7 (in Worten: sieben) Schwarzweiß-Bildschirme oder 6 farbige stehen zur Verfügung.
■	Integrierter, leistungsfähiger Sprite-Editor (mit Sprite spiegeln, drehen...) und die Fähigkeit, Sprites aus dem Grafikbild herauszukopieren oder einzupflanzen. Damit ist zum Beispiel Ausschnittvergrößerung (Zoom) ebenso wie das Erstellen von »Construction Sets« möglich.
■	Mit einer Zeichentrickfilm-Funktion sind fast flimmerfreie Bewegungsabläufe mit bis zu 24 Bildern pro Sekunde möglich. ■ Befehlseingabe wahlweise über Tastatur oder eine selbst zu gestaltende Menütafel (ä la Koalapainter).
■	Zusammenhängender Ausdruck mehrerer Bilder möglich, das ergibt Superbilder mit einer Breite von minimal 640 Punkten und unbegrenzter Länge (Bild 2).
■	Ferner sind alle »Standardbefehle« wie Draw, Line, Rectangle, Circle, Paint, Move und Text vorhanden.
Natürlich ist klar, daß sowas nur in Maschinensprache geht, und die ist mit rund 4 700 DATAs nicht gerade kurz. Gemessen an den Möglichkeiten des Programms ist es allerdings auch nicht viel. Die Bilder auf diesen Seiten lassen die Vielfältigkeit von HI-EDDI nur ahnen. Dabei lassen sich nicht nur mit HI-EDDI erzeugte Bilder laden und bearbeiten, sondern auch Grafikbilder anderer Programme, wie von Koala oder Paint Magic, zum Beispiel die der Dia-Show.
Nach dem Start meldet sich HI-EDDI mit der Frage »Betriebsart«. Wird hier 0 eingegeben (oder einfach RETURN), wird HI-EDDIals»Schwarzweiß«-Programm betrieben, bei 128 dagegen als farbiges Malprogramm. Weitere mögliche Eingaben werden später behandelt, ebenso die Befehlseingabe mittels Menütafel. Zunächst werden alle Befehle, die im folgenden zusammengestellt sind, durch Tastendruck eingegeben. D Draw — »Freihändig« zeichnen
lm Draw-Modus kann mit dem kreuzförmigen Cursor (der wird mit einem Joystick in Port 2 gesteuert) »freihändig« gezeichnet werden. Bei gedrücktem Feuerknopf werden die überfahrenen Punkte gesetzt. Um Punkte zu löschen, muß zusätzlich die SHIFTTaste (oder SHIFT-LOCK zum Feststellen) gedrückt werden.
oder Schaltungen
zeichnen:
Das Construction-Set...
Bild 1. In dieser Hardcopy wurden zwei Bilder untereinander ausgedruckt. Dies geschieht nahtlos. Es können zwei Bilder nebeneinader und unbegrenzt viele untereinander gesetzt werden. Siehe dazu auch Bild 2.
L Line — Linien ziehen
Mit dem ersten Knopfdruck am Joystick wird der Anfangspunkt einer Linie festgelegt, mit dem zweiten der Endpunkt, mit dem dritten wieder ein Anfangspunkt etc.. Derjeweilige Anfangspunkt wird auf F7 gespeichert (siehe Funktionstasten), damit lassen sich Strahlen besonders einfach zeichnen. SHIFT wie bei D.
R Rectangle — Rechtecke zeichnen
Wie L — auch bezüglich SHIFT und F7 —, jedoch wird zwischen den zwei markierten Punkten ein Rechteck gezeichnet. C Circle — Kreise zeichnen
Der erste Knopfdruck ergibt den Mittelpunkt (auf F7 gespeichert, damit ist einfaches Zeichnen konzentrischer Kreise möglich), der zweite einen beliebigen Randpunkt, von dem aus HI-EDDI im Uhrzeigersinn einen Kreis zieht. Wird beim Anstoßen an den Rand abgebrochen.
Möchte man einen Ausschnitt eines Kreises, der nicht ganz auf den Bildschirm paßt, zeichnen, so muß der zweite Knopfdruck einen Punkt am Bildschirmrand markieren, von dem aus der sichtbare Kreisausschnitt im Uhrzeigersinn gezeichnet werden kann. Allerdings darf der Radius maximal 256 Punkte betragen.
P Paint — Ausmalen begrenzter Flächen
Cursor mitten auf die auszumalende Fläche setzen und Knopf drücken. Sollte durch ein Loch in der Umrandung der ganze Bildschirm vollzulaufen drohen, so kann der Vorgang durch nochmaligen Knopfdruck abgebrochen werden (dazu ist allerdings eine gute Reaktion nötig, denn HI-EDDI füllt Flächen um einiges schneller als Simons Basic). Zum Löschen von Flächen: Bildschirm mit »I« invertieren, entstandenes »Loch« vollaufen lassen, zurückinvertieren.
58
C 64
Grafik
M Move — Verschieben von Bildschirmbereichen
Mit den ersten beiden Knopfdrücken werden zwei diagonale Ecken des zu transportierenden Bereiches gesetzt (nach dem zweiten Knopfdruck erscheint eine farbliche Markierung dieses Bereiches), der dritte Knopfdruck gibt die linke, obere Ecke des Zielbereiches an. Der Zielbereich muß noch ganz auf den Bildschirm passen (sonst wird der Knopfdruck nicht akzeptiert), er darfjedoch den Quellbereich überlappen oder in einem anderen Bildschirm liegen. Die Auflösung des Move-Befehls entspricht der des normalen Textbildschirmes, es kann also nur im 40 x 25-Raster verschoben werden.
Soll ein Bereich mehrmals kopiert werden, so muß er nicht jedesmal neu markiert werden: Ein Druck auf die Pfeil-nach-oben-Taste holt die letzte Markierung wieder auf den Bildschirm, es kann danach sofort der Zielbereich bestimmt werden (funktioniert nur, solange zwischenzeitlich kein Modus-wechsel erfolgte).
Hat man sich beim Markieren vertan, so löscht ein Druck auf die Pfeil-nach-links-Taste die Markierung wieder (gilt auch für L, R, C).
T Text — Buchstaben und Grafiksymbole einfügen
Es erscheint ein 8 x 8-Pixel großer Rahmen, der sich fast so benimmt, wie der Blinkcursor im Textbildschirm: Drucken von Buchstaben und Grafikzeichen, Cursorsteuerung mittels Cursortasten, Löschen mittels DEL (rückwärts) und INST (vorwärts, um für Text Platz zu schaffen), Reverse on/off und Umschaltung der beiden Zeichensätze mit C = SHIFT (es können alle 512 Zeichen der beiden Zeichensätze gleichzeitig dargestellt werden!).
Daneben bleibt die Cursorsteuerung mittels Joystick erhalten, ebenso alle anderen Befehle, die jedoch nur durch gleichzeitiges Drücken der CTRL-Taste eingegeben werden können. Durch Anwahl eines anderen Modus, zum Beispiel CTRL D für Draw, wird der Textmodus verlassen und es ist wieder »Ein-Hand-Eingabe« der Befehle möglich.
G Get Sprite — Sprite aus Bildschirm kopieren
In diesem und den folgenden drei Modi erscheint ein spritegroßer Rahmen als Cursor. Auf Knopfdruck wird der Bildschirmausschnitt, auf dem der Rahmen sitzt, in das Sprite hineinkopiert, anschließend geht HI-EDDI automatisch in den Append-Modus, das Sprite kann an anderer Stelle wieder eingepflanzt oder im Sprite-Editor bearbeitet werden.
A Append — Sprite in Bildschirm einfügen
Auf Knopfdruck wird der Spriteinhalt in den Bildschirm eingefügt, ohne jedoch den Bildschirmausschnitt vorher zu löschen (Oder-Verknüpfung). Bei gleichzeitiger Bewegung wird das Sprite zum »programmierbaren Pinsel«.
S Stamp — Sprite auf Bildschirm kleben
Wie A, jedoch wird vor dem Einfügen der Untergrund gelöscht, das Sprite wird wie eine Briefmarke auf den Bildschirm geklebt.
E Erase — Löschen
Der Rahmen wird zum Radiergummi, der alles löscht, was er überfährt.
F Foreground-Colourmode — Vordergrund einfärben B Background-Colourmode — Hintergrund einfärben
Diese beiden Modus-Befehle sind nur wirksam, wenn HI-EDDI als farbiges Malprogramm betrieben wird. Doch dazu ist vorweg einiges zum Konzept zu sagen:
lm Gegensatz zu den meisten käuflichen Programmen, die im Multicolour-Modus arbeiten (mehrere Farben, aber nur halbe Auflösung), ist HI-EDDI konsequent als Zeichenprogramm mit maximaler Auflösung konzipiert. Die Farbfähigkeiten sind nur ein »Nebenprodukt« und deshalb nicht so ausgeprägt: Pro 8 x 8-Punkte-Feld (entsprechend einer Position im Textbildschirm) stehen nur zwei Farben — je eine für Vorder- und Hintergrund — zur Verfügung. Bei insgesamt 1 000 Feldern und 16 Farben kann das allerdings auch recht bunt werden. Außerdem ist es durch die Trennung von Zeichnen und Einfärben
möglich, bestehende »Schwarzweiß-Bilder« leicht nachträglich zu colorieren.
Nun zu den Befehlen F und B: Sie schalten einerseits die Rahmenfarbe (und die Farbe des Sprite-Inhalts bei A und S) weiter, andererseits wählen sie den Fore- beziehungsweise Back-Mode an, in dem auf Knopfdruck die gesetzten Pixel (=Vordergrund) beziehungsweise gelöschten Pixel (= Hintergrund) des 8 x 8-Feldes, auf dem sich der Cursor befindet, mitder Rahmenfarbe eingefärbt werden. Beispiel: Um den Vordergrund gelb anzumalen, muß die Taste F so oft gedrückt werden, bis der Rahmen gelb ist. Dann kann mit dem Cursor gepinselt werden.
Hat man ein Feld zuviel angepinselt, so kann durch gleichzeitiges Drücken der SHIFTTaste (wie bei D, L, R, C) die gerade gemalte Farbe gelöscht werden. Genauer gesagt: Es erscheint wieder die Farbe, die beim letzten Bildschirmwechsel dort war. Als Bildschirmwechsel gelten:
1.	Bildschirmspeicherwechsel (1 bis 7)
2.	Ausschalten des High-Resolution-Bildschirmes (Sprite-Edi-tor, Befehle H, V, SHIFT W, Disk- und Druckerbefehle).
3.	Move-Befehl, auch wenn nur innerhalb eines Bildes »gemo-vet« wurde.
Die Pfeil-nach-links-Taste (Korrekturtaste) hat die gleiche Wirkung wie SHIFT + Knopfdruck, jedoch für den ganzen Bildschirm: Es werden alle Farbveränderungen seit dem letzten Bildschirmwechsel rückgängig gemacht.
Direkte Befehle
Alle bisher beschriebenen Befehle haben eins gemeinsam: Sie dienen zur Anwahl eines Modus, sie haben also eine »Nachwirkung«, vor allem, was die Funktion des Feuerknopfes anbelangt. Die nun folgenden Befehle ändern den gerade eingestellten Modus nicht, sie haben nur eine unmittelbare Wirkung.
1 bis 7 beziehungsweise 1 bis 6: Bildschirmspeicher-An-wahl
HI-EDDI hat im Schwarzweiß-Betrieb sieben und im Farbbetrieb sechs Bildschirmspeicher, die durch Eingabe ihrer Nummer auf den Bildschirm geholt werden.
Wozu so viele? Beispiele: Abspeichern von verschiedenen Zwischenstadien der bearbeiteten Werke, bei denen man wieder ansetzen kann, wenn man was vermurkst hat. Oder Erstellen von »Construction Sets«: Aus einer Anzahl zum Beispiel von Schaltsymbolen kann man mittels der Sprite-Befehle im Nu Schaltpläne aufbauen. Für die Befehle Print und Walk sind sieben Speicher eigentlich zu wenig, aber im C 64 haben eben nicht mehr Platz!
I Invertieren
Die Pixel des Bildschirmes werden invertiert. In Zusammenhang mitden Befehlen Und, Or, Exor, Append, Stamp, Get, Erase, Paint und Print ergibt das eine Vielzahl von Möglichkeiten. Un Und-Verknüpfung
Der aktuelle (= sichtbare) Bildschirm und der Bildschirm Nummer n werden Und-verknüpft, das Ergebnis im aktuellen Bildschirm abgelegt.
On Oder-Verknüpfung
Wie U, jedoch Oder-Verknüpfung. Eignet sich zum Beispiel zum Duplizieren von Bildern. Da die Befehle I, U, 0, X keinen Einfluß auf die Farbinformation eines Bildes haben, wird sie bei Farb-Betrieb nicht dupliziert. Soll dies geschehen, so muß mit dem Move-Befehl dupliziert werden.
Xn Exor^Exclusiv-Oder-)Verknüpfung
Zweimalige Exor-Verknüpfung mit demselben Bild bewirkt, daß dieses wieder aus dem sichtbaren Bild »herausgefieselt« wird.
F, B (Fore, Back) — Rahmenfarbe weiterschalten SHIFT F Total Foreground — Vordergrund-Farbe SHIFT B Total Background — Hintergrund-Farbe
59
Grafik
C 64
Bild 2. Dieser verkleinerte Schaltplan wurde aus insgesamt sechs verschiedenen Bildern zusammengesetzt. Je zwei nebeneinander und drei untereinander. Auch ein reverser Ausdruck ist mit einem Tastendruck möglich. Die Symbole aus dem Construction-Set können einzeln in jedes beliebige Bild hineinkopiert werden.
Die Befehle F und B wurden bereits bei den Modusbefehlen behandelt. Im Schwarzweiß-Betrieb schalten diese Befehle nur die Rahmenfarbe weiter, den aktuellen Modus verändern sie nicht.
SHIFT F und SHIFT B sind dagegen in beiden Betriebsarten (farbig und schwarzweiß) gleich: Sie färben den gesamten Vorder- oder Hintergrund mit der aktuellen Rahmenfarbe ein. Sollte man auf diese Art im Farb-Betrieb versehentlich eine mühsam erstellte Colorierung löschen: Pfeil-nach-links-Taste drücken, und sie ist wieder da.
SHIFT CLR Bildschirm löschen
Die Farbinformation wird nicht gelöscht und kann somit isoliert werden.
+ Schnelle Cursorgeschwindigkeit (beschleunigend)
— Langsame Cursorgeschwindigkeit
HI-EDDI besitzt einen beschleunigenden Cursor: Er ist langsam genug, um durch Antippen des Joysticks pixelweise zu rangieren, bei größeren Entfernungen wird er jedoch — ohne lästiges Umschalten — schneller. Da jedoch die Beschleunigung manchmal unerwünscht ist, läßt sie sich durch Drücken der Minus-Taste abschalten.
F1 bis F8: Tabulatoren
Die vier Funktionstasten dienen als Speicher für vier Cursorpositionen: Durch gleichzeitiges Drücken der SHIFTTaste und einer Funktionstaste wird die momentane Cursorposition gespeichert, durch Drücken einer Funktionstaste allein springt der Cursor wieder genau an die gespeicherte Stelle. F7 wird von den Befehlen L, R und C automatisch belegt.
60
C 64
Grafik
H — Horizontale Schrittweite V — Vertikale Schrittweite F1 bis F8: Schrittweiten speichern
Noch eine Speicherfunktion haben die Funktionstasten: Normalerweise bewegt sich der Cursor in 1-Pixel-Schritten bei der Joysticksteuerung, beziehungsweise in 8-Pixel-Schritten bei Steuerung mittels Cursortasten. Diese Schrittweiten sind jedoch — getrennt für horizontale und vertikale Bewegung — frei programmierbar, vier Schrittweitenpaare können auf den Funktionstasten gespeichert werden. Das Anwählen einer Schrittweite erfolgt durch gleichzeitiges Drücken der C = (Commodore-)Taste und einer Funktionstaste (gilt nur für die Cursortastensteuerung, der Joystick holt seine Schrittweite immer aus F1), das Programmieren durch die Befehle H und V, wonach die aktuelle (angewählte) Schrittweite angezeigt wird und geändert werden kann.
Im Einschaltzustand sind die Tasten folgendermaßen belegt: F1: H = 1, V = 1, das ist die normale Joysticksteuerung. Durch Vergrößerung auf 2 oder 3 lassen sich im Draw-Modus punktierte Linien zeichnen.
F3 (Diese Taste ist im Einschaltzustand angewählt): H = 8, V = 8, für Textmodus. Vergrößerung ergibt eine gedehnte Schrift oder einen größeren Zeilenabstand.
F5: H = 24, V = 21, = Spritemaße, zurflächendeckenden Bearbeitung mittels Sprite-Editor.
F7: H = 160, V = 96, zur Einteilung des Bildschirmes in Viertelbilder für Walk-Befehl.
Weitere Anwendungsmöglichkeiten sind: Maßstäbe, Gitterraster, exakt symmetrische Zeichnungen etc...
Space: Sprite-Editor
Durch Drücken der Leertaste kommt man in den Sprite-Editor. Das Setzen und Löschen von Punkten geht dort genauso wie im Draw-Modus. Die Befehle des Grafik-Editors sind im Sprite-Editor nicht zugänglich, dafür stehen die folgenden zur Verfügung:
M Mirror — Das Sprite wird zur Senkrechten gespiegelt.
T Turn — Drehung um 180 Grad. M und T ergeben eine Spiegelung zur Waagrechten.
R Rotate — Das Sprite wird um 90 Grad im Uhrzeigersinn gedreht. Da esjedoch 24 Punkte breit, aber nur 21 hoch ist, gehen die rechten drei Spalten verloren. Außerdem ist zweimal R nicht dasselbe wie T.
G Grid — Zum besseren Abzählen von Punkten wird ein Gitter eingeblendet, bei nochmaliger Eingabe von G wird es wieder ausgeblendet.
SHIFT CLR	Sprite löschen
Space	Sprite-Editor verlassen
W Walk	Bildfolge ablaufen lassen
SHIFT W	Bildsequenz programmieren
Jetzt lernen die Bilder laufen! Mit W werden die Bildschirmspeicher in schneller, programmierbarer Folge zyklisch durchgeschaltet. Da jedoch sechs Bilder für einen Bewegungsablauf recht wenig sind (Speicher 7 wird als »Leinwand« benutzt, sein Inhalt geht verloren) und außerdem die Bildfolge-Geschwindigkeit bei der Verschiebung von jedesmal 8 KByte nicht gerade hoch ist (maximal 7 Bilder/s), können die sechs Bildschirme in 24 Viertelbilder (mitje 160 x 96 Punkten, die unterste Zeile bleibt frei) zerlegt werden, die bei Maximalgeschwindigkeit in einer Sekunde »durchgerasselt« werden.
Bei der Erstellung solcher Viertelbilder ist die programmierbare Schrittweite (160/96) sowie der Move-Befehl besonders nützlich. Die Programmierung der Bildfolge geschieht durch einen Sequenz-String, der aus den Zahlen 1 bis 6 zum Aufruf der großen Bilder oder aus den Buchstaben A bis X zum Aufruf der Viertelbilder bestehen kann. Der Bildschirmspeicher 1 enthält die Viertelbilder A (links oben), B (rechts oben), C (links unten) und D (rechts unten). Das geht so weiter bis zum Speicher 6, der die Viertelbilder U, V, W, X enthält. Beispiel: Zum sequentiellen Durchschalten aller Viertelbilder besteht der Se-
quenzstring aus den Buchstaben A bis X in alphabetischer Reihenfolge. Zahlen und Buchstaben dürfen mehrfach und sogar gemischt vorkommen.
Mit SHIFT W gelangt man in den Sequenzstring-Editor, mit W wird die Bewegung gestartet. Während des Laufes kann die Geschwindigkeit mit der Plus- und Minus-Taste geregelt werden, bei gedrückter SHIFTTaste läuft der Film rückwärts. Durch Druck auf den Feuerknopf wird die Vorführung beendet.
Bei Farb-Betrieb wird Bildschirm 6 als Leinwand verwendet, es stehen nur noch 5 große oder 20 kleine Bilder zur Verfügung.
Z Zeichensatz
HI-EDDI kann auch als Zeichensatz-Editor verwendet werden: Mittels Z wird der gerade angewählte Zeichensatz in die ersten sieben Zeilen des Grafikbildschirmes kopiert. Dort kann er mittels Get, Sprite-Editor und Stamp modifiziert, anschließend auf Diskette gespeichert und von anderen Programmen, zum Beispiel Textverarbeitungsprogramme, verwendet werden.
C= L LOAD (C = bedeutet Commodore-Taste)
C= S SAVE
C= D Directory anzeigen
C= C Commando an Disk oder (wenn nur RETURN) Fehlerkanal lesen
Bei LOAD und SAVE hat man die Wahl zwischen (schwarzweißem) Grafikbild, Farbbild, Zeichensatz und Sprite. LOAD und SAVE beziehen sich immer auf den aktuellen (= sichtbaren) Bildschirmspeicher (beziehungsweise Sprite). Bei SAVE Zeichensatz muß dieser in den ersten sieben Zeilen des sichtbaren Bildschirmes stehen. Bei LOAD Sprite sollte man wirklich nur ein Sprite und nichts längeres laden, sonst gibt’s einen netten Absturz. Es können auch Diashow-Bilder und Files anderer Grafikprogramme gelesen werden.
C= P Print — Ausdrucken
Die Druckerroutine HI-PRINT wird bei Bedarf in Overlay-technik nachgeladen, nach Beendigung des Druckvorganges wird wieder HI-EXE geladen.
Die vorliegende Druckerroutine bietet folgende Möglichkeiten:
1.	Ausdruck eines Bildes, groß oder klein.
2.	Zwei Bilder nahtlos nebeneinander, was natürlich nur in klein geht.
Superhardcopy
Vor und nach dem Ausdruck werden keine zusätzlichen Zeilenvorschübe ausgegeben, aufeinanderfolgende Ausdrucke hängen somit nahtlos aneinander (Bild 1). So läßt sich zum Beispiel mit sechs Bildern eine Superhardcopy mit 640 x 600 Punkten erstellen (Bild 2), lädt man zwischendurch weitere Bilder von Diskette nach, kann man meterlange Bilder ausdrucken.
Leider ist Drucker nicht gleich Drucker! Die vorliegende Druckerroutine (Listing 1) läßtsich nurfür Epson-Drucker und kompatible mit Interface verwenden. Deshalb möchte ich im folgenden Kapitel Hinweise zur Erstellung einer Druckerroutine für andere Konfigurationen geben.
Die Speicherbelegung von HI-EDDI:
$57-$60 und $F9-$FE:Temporäre Speicherzellen	
$2C0-$2FE:	Residenter Datenbereich (Sprite-Inhalt)
$340-$3FE:	Temporärer Datenbereich (Kreuz-, großes und kleines Rahmen-Sprite
$801-$CFF:	Basic-Speicher
$D00-$1F4C:	Maschinenprogramm
$1F80-$1FFF:	Residenter Datenbereich (Betriebszustände etc.)
$2000, $4000, $6000 etc.:	Grafikspeicher

61
Grafik
C 64
Die Druckerroutine wird in denselben Bereich wie HI-EXE geladen, also ab $D00, nach Beendigung des Druckvorganges wird wieder HI-EXE geladen (Listing 1 und 2).
Die vorliegende Druckerroutine enthält auch ein Software-Interface, das den User-Port zur Centronics-Schnittstelle umfunktioniert. Dazu muß ein Kabel mit folgender Pinbelegung verwendet werden:
Pin am User-Port	Pin am Centronics-Stecker
M	(PA2)	1	(Strobe)
C	(PB0)	2	(DATA 1)
D	(PB1)	3	(DATA 2)
E	(PB2)	4	(DATA 3)
F	(PB3)	5	(DATA 4)
H	(PB4)	6	(DATA 5)
J	(PB5)	7	(DATA 6)
K	(PB6)	8	(DATA 7)
L	(PB7)	9	(DATA 8)
B	(FLAG2)	10 oder 11	(ACKNLG oder BUSY)
A	(GND)	16	
Will man eine Routine für andere Drucker schreiben, so darf diese den gesamten Speicherbereich von $D00 bis $1F7F belegen, lediglich die residenten Speicherbereiche und der Basic-Speichersind tabu. Die Information darüber, wowelcher Bildschirm im Speicher liegt, steht in den 7 Bytes von $1F96 bis $1F9C: In $1F96 steht die Nummer des Bildes, das ab $2 000 in Speicher liegt (das ist das sichtbare Bild!), in Zelle $1F97 steht die Nummer des Bildes ab $4 000 und so weiter. Beispiel: Soll Bild Nummer 2 ausgedruckt werden, so sucht man in der Tabelle nach der 2. Steht sie zum Beispiel in Zelle $1F9A, so liegt Bild 2 im Bereich ab $A000 (unter dem Basic-ROM). Im Farb-Betrieb steht in Zelle $1F97 eine 0, weil im Bereich $4 000 bis $6 000 dann die Farbinformationen für die sechs Bilder liegen und dieser Bereich für Grafikbilder somit gesperrt sein muß.
Für den nicht Maschinensprache-erfahrenen Leser sind dies sicherlich alles spanische Dörfer, aber vielleicht sind einige »Maschinen-Profis« so nett und schicken Lösungen für andere Drucker ein.
HI-EDDI als Menüprogramm
Wem die Eingabe der Befehle über die Tastatur nicht gefällt, der kann HI-EDDI zu einem Menüprogramm nach dem Vorbild des Koala Painter umfunktionieren, bei dem die Befehle über eine bunte, illustrierte Menütafel eingegeben werden. Ehrlich gesagt: Ich finde die Eingabe über Menütafel alles andere als benutzerfreundlich: Menü holen, Cursor auf das gewünschte Feld bugsieren und dann Knopf drücken ist eine wesentlich umständlichere Prozedur als ein einfacher Tastendruck. Dafür macht das Entwerfen und Realisieren einer Menütafel so viel Spaß, daß ich mich entschlossen habe, diese Möglichkeit vorzusehen.
Doch zunächst zurück zu dem Bytewert, der bei Programmstart auf die Frage »Betriebsart« eingegeben werden muß. Er setzt sich wie folgt zusammen:
Bit 7: =0 : Schwarzweiß-Betrieb
=	1 : Farb-Betrieb
Bit 6 : =0 : nur Tastatureingabe
=	1 : Menü-Eingabe
Bit 5-1 : keine Funktion
Bit 0 : =0 : Beim Start werden alle Bildschirmspeicher gelöscht
=	1 : Es wird nichts gelöscht, im Speicher befindliche Bilder bleiben erhalten
Für Farbe und Menü zum Beispiel muß 192 eingegeben werden. Ich finde die Menü-Eingabe nur in Farbe sinnvoll, ein Schwarzweiß-Menü sieht recht langweilig aus. Ist das Bit 6 gesetzt, also die Menü-Betriebsart angewählt, so muß sich auf der Diskette unter dem Namen »MENUE« die Menütafel befinden, die beim Start automatisch nachgeladen wird. Das Erstellen einer solchen Menütafel soll nun erklärt werden:
Die Menütafel wird in 20 x 12, also insgesamt 240 Felder von je 16 x 16 Punkten eingeteilt. 20 x 16 = 320, die Breite des Bildschirms, aber 12 x 16 = 192 gibt nicht ganz die Höhe des Bildschirmes: Die letzte Zeile (acht Punkte) bleibt, wie bei Walk, frei. In dieser Zeile werden die Steuerbytes untergebracht, für jedes der 240 Felder 2 Bytes. Wird im Menü-Modus der Cursor auf eines der Felder gefahren und der Feuerknopf gedrückt, dann holt sich HI-EDDI aus der letzten Zeile die diesem Feld zugeordneten Steuerbytes und entnimmt aus ihnen, welcher Befehl ausgeführt werden soll. Die Zuordnung von Feldern zu Steuerbytes geht zeilenweise, der Reihe nach: Die ersten beiden Steuerbytes (Adresse $3E00 und $3E01, wenn die Menütafel angewählt ist) gehören zum ersten Feld links oben, die nächsten beiden Bytes zu dem daneben und so weiter. Die Steuerbytes zum letzten Feld haben die Adressen $3FDE und $3FDF, das liegt bereits im unsichtbaren Teil des Bildschirmspeichers. Die nicht gerade ansehnlichen Steuerbytes im sichtbaren Teil können durch gleiche Farben für Vorder- und Hintergrund versteckt werden.
Somit ist klar, wie man vorgehen muß: Zunächst ist ein Menü-Bild zu zeichnen, bei dessen Einteilung nur die 20 x 12-Feld-Rasterung zu berücksichtigen ist. Wie man die Befehle anordnet, wieviele Felder man für einen Befehl zusammenhängt und welche Befehle man überhaupt ins Menü aufnimmt, bleibtjedem selbst überlassen. Denn keineswegs alle Befehle sind »menüfähig«: Die Korrekturtaste (Pfeil nach rechts) wirkt nur bis zum letzten Bildschirmwechsel zurück. Da jedoch das Anwählen der Menütafel ein Bildschirmwechsel ist, verliert die Korrekturtaste dabei ihre Wirkung. Dasselbe gilt für die Pfeil-nach-oben-Taste: Die Anwahl der Menütafel gilt als Modus-wechsel! Aus demselben Grund muß beim MOVEn über zwei Seiten die Seitennummer über die Tastatur eingegeben werden, da bei einem Moduswechsel die Markierung eines Quellbereiches gelöscht wird.
Aus dem Textmodus kommt man nicht direkt ins Menü (SPACE wird als zu druckendes Zeichen interpretiert). Es muß daher zuerst ein anderer Modus über die Tastatur angewählt werden (zum Beispiel CTRL D für Draw), bevor das Menü wieder zugänglich ist.
Dafür bietet die Menütafel auch einige Vorteile: Die Farbenwahl erfolgt nicht mehr durch umständliches Fortschalten, sondern durch Direktanwahl der Farben. Und die Befehle U, 0, X, die normalerweise zwei Eingaben erfordern, werden jetzt mit einer Eingabe »erschlagen«.
Hat man nun ein Menübild gemalt (und abgespeichert!), so folgt der zweite Teil, das Erstellen der Steuerbytes, am besten in Form eines DATA-Laders (siehe Listing 4). Von den zwei Steuerbytes pro Feld enthält das zweite den Tastaturcode des jeweiligen Befehls. Die Tastaturcodes sind im 64’er, Ausgabe 5/84, Seite 105 zusammengestellt, sie lassen sich auch mit dem folgenden »Programm« ermitteln: 10 PRINT PEEK(203):GOT010
Beim ersten Steuerbyte muß man zwischen verschiedenen Befehlskategorien unterscheiden:
1.	»Normale« Befehle: Bit 0 : SHIFT-Bit, muß gesetzt sein, wenn für den entsprechenden Befehl die SHIFTTaste gedrückt werden muß. Bit 1 : C=-Bit, muß bei gedrückter Commodore-Taste gesetzt sein. Die Bits 2 bis 7 müssen 0 sein. Beispiel: Sprite-Editor einschalten ergibt die Bytes 1 (SHIFT, im Menü-Betrieb dient Space zur Anwahl der Menütafel, der Sprite-Editor ist nur mehr über SHIFT-Space erreichbar) und 60 (Tastaturcode Space).
C 64
Grafik
2.	Befehle U, 0, X: Tastaturcode der entsprechenden Nummerntaste. Beispiel: X 5 ergibtdie Steuerbytes 16 (Tastaturcode »5« und 23 (Tastaturcode »X«),
3.	Farbbefehle: Bit 0 : SHIFT-Bit. Bit 2 bis 5: Nummer der Farbe, wie im Commodore-Handbuch angegeben. Die Bits 1 und 6 müssen 0 sein, das Bit 7 ist 1. Beispiel: Total Foreground, Blau ergibt: 128 (Bit 7) + 4 x 6 (blau) + 1 (SHIFT) = 153 und 21 (»F«).
4.	»Leerer« Befehl ohne Verlassen der Menütafel (zum Beispiel für Überschrift): 1. Byte = 64, 2. Byte = 0
5.	»Leerer« Befehl mit Verlassen des Menüs: 1. Byte = 0, 2. Byte = 64.
Die 5 Byte im Anschluß an die 480 Steuerbytes müssen die Kennung »CBM80« enthalten. Das ist eigentlich die ROM-Kennung, ich habe sie hier als Menütafel-Kennung mißbraucht, um versehentliche Menü-Zugriffe auf ein normales Bild zu vermeiden. Vorsicht: Fehler in den Steuerbytes können zum Programmabsturz führen!
Nun braucht man nur noch Menübild und Steuerbytes zu verknubbeln: Dazu HI-EDDI (Listing 3) laden, Starten (Betriebsart 128), Menübild laden und Programm mit STOP/RE-STORE unterbrechen. Steuerbyte-DATA-Lader laden und starten. Der Lader muß, wie im Beispiel (Listing 4) zu sehen,mit
den Befehlen POKE56, 32:CLR beginnen, um das im Speicher befindliche Menübild zu schützen! Dann HI-EDDI laden, starten (Betriebsart 129, damitdiejetzt bereitsfertige Menütafel im Speicher nicht gelöscht wird) und die nun sichtbare Menütafel unter dem Namen »MENUE« speichern.
Wie wird der »Menü-HI-EDDI« nun bedient? Beim Start muß auf die Frage Betriebsart 192 (oder 193) eingegeben werden. Auf der Menütafel fährt man den Cursor auf den gewünschten Befehl und drückt den Feuerknopf. Daraufhin wird das Menü verlassen, auf den aktuellen Bildschirm zurückgeschaltet (im Einschaltzustand ist dasjetzt 2, da in Speicher 1 die Menütafel steckt) und der Befehl ausgeführt. Das Menü wird durch Drücken der Space-Taste auf den Bildschirm geholt. Die Tastatureingabe bleibt neben dem Menü voll erhalten. Wie schon erwähnt, belegt das Menü den Speicher 1. Dieser Speicher kann natürlich auch direkt angewählt werden, allerdings befindet man sich dann nicht im Menü-Modus, sondern die Menütafel wird wie ein ganz normales Bild behandelt!
Zum Abschluß noch ein Tip: HI-EDDI läßt sich mit STOP/RE-STORE unterbrechen (nicht während einer Befehlsausführung!), ein Warmstart ist mit GOTO150 möglich, ein Kaltstart ohne Nachladen von HI-EXE, aber mit Betriebsart-Eingabe mit RUN100. (Hans Haberl/ah)
10	^EM********************************	<060>	350	REM DIE FOLGENDEN DATAS MUESSEN AN	<058>
20	^EM*	*	<069>	360	REM DEN DRUCKER ANGEPASST WERDEN!!	<039>
30 REM*	HI-EDDI	*		<137>	370	REM (DIE ANGEGEBENEN WERTE SIND	<151>
40 REM*	VON HANS HABERL	*		<158>	380	REM FUER EINEN EPSON RX-80 MIT	<246>
50 REM*	*		<099>	390	REM DATA BECKER INTERFACE)	<086>
60 REM* DATA-LADER ZUR ERZEUGUNG *		<170>	400	:	<122>
70 REM*DER DRUCKERROUTINE "HI-PRINT",*		<043>	410	REM 0=SER. BUS, l=USERPORT	<143>
80 I	^EM* WIRD AUF DISKETTE ABGELEGT *	<222>	420	DATA 0	<053>
90 I	^EM********************************	<140>	430	REM GERAETEADRESSE	<076>
100		<076>	440	DATA 4	<105>
110	REM CHECKSUMMEN, NICHT VERTIPPEN !!	<083>	450	REM SEKUNDAERADRESSE (DIREKTMODUS)	<254>
120	DATA-205,164,-457,322,689,-834,-49,290		460	DATA 1	<101>
	,—87,17	<239>	470	REM DIE LAENGE DER FOLGENDEN DATA-	<247>
130		<106>	480	REM ZEILEN DARF NICHT VERAENDERT	<162>
140	REM M-CODE PROGRAMM	<012>	490	REM WERDEN, GGF. MIT 255 AUFFUELLEN	<136>
150	DATA 0,13,133,91,173,105,14,240,34,120		500	REM (MIND. EIN 255 MUSS IN JEDER	<077>
	,169,255,141,3,221,173,2,221,9,4	<206>	510	REM ZEILE BLEIBEN, IST ENDEKENNZ.)	<175>
160	DATA 141,2,221,173,0,221,9,4,141,0,221		520	REM CARRIAGE RETURN LINE FEED	<156>
	,169,16,141,13,221,173,13,221,88,-1	<145>	530	DATA 13,10,255	<214>
170	DATA 76,68,13,32,204,255,169,4,174,106		540	REM ZEILENABSTAND FUER GRAFIK	<158>
	,14,172,107,14,32,186,255,169,0	<230>	550	DATA 27,51,23,255,255	<255>
180	DATA 32,189,255,32,192,255,162,4,32,20		560	REM CRT-GRAFIK (640 PUNKTE/ZEILE)	<097>
	1,255,169,4,133,94,160,3,32,34,14,-1	<117>	570	REM (OHNE BYTE-ANZAHLEN!)	<150>
190	DATA 169,128,133,95,169,2,133,96,165,9		580	DATA 27,42,4,255,255	<150>
	1,41,192,208,4,70,95,70,96,165,91	<242>	590	REM NORMALER ZEILENABSTAND	<235>
200	DATA 41,7,162,0,32,48,14,165,91,48,3,7		600	DATA 27,50,255,255	<084>
	4,74,74,41,7,162,2,32,48,14,169,-1	<055>	610	DATA-2sREM DATA-ENDE	<115>
210	DATA 25,133,92,165,95,48,10,160,20,169		620		<088>
	,32,32,71,14,136,208,250,160,8,32	<210>	630	REM CHECKSUMMENPRUEFUNG	<215>
220	DATA 34,14,165,95,32,71,14,165,96,32,7		640	V=l:FOR 1=0 TO 9:READ S(I):NEXT	<079>
	1,14,169,40,133,93,120,169,52,133,-1	<024>	650	FOR B=0 TO 9	<156>
'230	DATA 1,160,7,177,87,153,125,14,136,16,		660	READ A:IF A>=0 THEN S=S+A*V:V=-V:GOTO	
	248,169,55,133,1,88,165,87,24,105	<139>		660	<183>
240	DATA 8,133,87,144,2,230,88,160,8,162,0		670	IF S<>S(B)THEN PRINT"DATA-FEHLER IN ZE	
	,62,125,14,8,42,232,40,36,91,48,-1	<112>		ILE"150+20*B"ODER"160+20*B:END	<223>
250	DATA 6,224,8,208,241,240,8,42,228,94,2		680	S=0:NEXT:PRINT"DATAS OK”	<004>
	08,234,32,71,14,32,71,14,136,208	<176>	690		<158>
260	DATA 223,198,93,208,186,165,95,16,38,1		700	REM FILE-ABLAGE	<080>
	62,1,180,87,181,89,149,87,148,89,-1	<143>	710	RESTORE:FOR 1=0 TO 9:READ AsNEXT	<007>
270	DATA 202,16,245,165,94,73,12,133,94,20		720	OPEN 2,8,2,"HI-PRINT,P,W"	<027>
	1,4,240,15,165,91,48,3,76,151,13	<171>	730	READ A:IF A>=0 THEN PRINT#2,CHR$(A);	<226>
280	DATA 160,0,32,34,14,76,122,13,198,92,2		740	IF A>-2 THEN 730	<108>
	08,244,160,0,32,34,14,160,13,32,-1	<184>	750	CLOSE 2:END	<184>
290	DATA 34,14,32,204,255,169,4,32,195,255 ,96,185,108,14,201,255,240,6,32	<067>			
300	DATA 71,14,200,208,243,96,160,6,217,15		© 64'er		
	0,31,240,3,136,208,248,169,0,149,-1	<073>			
310	DATA 87,24,105,32,136,16,251,149,88,96 ,174,105,14,208,3,76,210,255,72	<035>			
320 330	DATA 141,1,221,173,0,221,41,251,141,0, 221,9,4,141,0,221,173,13,221,41,-1 DATA 16,240,249,104,96,-1	<158> <178>	Listing 1. HI-PRINT ist eine ausgezeichnete Druckerroutine für den FX-80 und kompatible Drucker.		
340		<062>	Bitte beachten Sie die Eingabehinweise auf Seite 16.		

63
Grafik
C 64
programm
hi-exe
0d00 lf4c
0d00 :	4c	11	lb	4c	cl le 4c 36	d0
0d08 :	lf	20	74	lc	20 24 0d ad	8b
0dl0 :	83	lf	20	d3	lc 20 67 12	2a
0dl8 :	20	dl	13	ee	28 d0 ee 29	db
0d20 :	d0	4c	0c	0d	a5 cb cd 80	ac
0d28 :	lf	f0	28	8d	80 lf c9 40	24
0d30 :	f0	21	a8	ad	8d 02 8d 81	b3
0d38 :	lf	aa	29	04	d0 0a ad 84	94
0d40 :	lf	c9	01	d0	03 4c 12 10	99
0d48 :	98	a2	2a	dd	6e 0d f0 04	93
0d50 :	ca	10	f8	60	8a ae 84 lf	db
0d58 :	e0	0c	d0	05	48 20 0d 11	ef
0d60 :	68	0a	aa	bd	9a 0d 48 bd	de
0d68 :	99	0d	48	8a	4a 60 33 38	d0
0d70 :	3b	08	0b	10	13 18 ld lf	19
0d78 :	lc	15	04	05	06 03 12 16	ae
0d80 :	2a	11	14	29	24 09 0e la	54
0d88 :	0d	0a	21	26	17 le 0c 20	7a
0d90 :	23	02	07	00	3c 39 36 28	2d
0d98 :	2b	54	0e	63	0e 63 0e 63	d8
0da0 :	0e	63	0e	63	0e 63 0e 63	4b
0da8 :	0e	f7	0d	f7	0d ed 0e ed	48
0db0 :	0e	ba	0f	ba	0f ba 0f ba	af
0db8 :	0f	ee	0d	06	0e ee 0d 06	db
0dc0 :	0e	ee	0d	ee	0d 06 0e 23	e6
0dc8 :	11	06	0e	06	0e ee 0d 06	b9
0dd0 :	0e	3d	0e	bf	0e c5 0e b9	b3
0dd8 :	0e	b2	10	00	10 04 10 bc	le
0de0 :	12	3a	13	fa	12 e2 10 73	93
0de8 :	lc	f4	18	f6	0f fa 0f aa	be
0df0 :	ad	81	lf	29	02 f0 0f 8a	44
0df8 :	29	0f	8d	80	lf 20 47 lc	65
0e00 :	20	el	lc	68	68 60 8a 29	2b
0e08 :	0f	8d	84	lf	aa bd 24 0e	28
0el0 :	8d	f9	07	bd	31 0e 8d 15	f7
0el8 :	d0	a9	00	8d	aa lf 8d a9	9c
0e20 :	lf	4c	5f	13	0d 0e 0d 0d	2f
0e28 :	0d	0d	0d	0d	0f 0f 0f 0f	65
0e30 :	0d	02	02	02	02 02 02 02	3b
0e38 :	02	02	02	03	03 02 a2 20	27
0e4.0 =	86	58	a0	00	84 57 bl 57	93
0e48 :	49	ff	91	57	c8 d0 f7 e6	al
0e50 :	58	ca	d0	f2	60 ad 81 lf	57
0e58 :	29	01	f0	f8	a9 51 8d a9	0c
0e60 :	lf	ad	96	lf	20 cc 0e 48	11
0e68 :	86	fc	78	a9	34 85 01 ad	8e
0e70 :	a9	lf	d0	29	bl 57 aa bl	e6
0e78 :	59	91	57	8a	91 59 c8 d0	6a
0e80 :	f3	e6	58	e6	5a c6 fc d0	4b
0e88 :	eb	68	20	80	0f a8 ae 96	de
0e90 :	lf	b9	96	lf	8d 96 lf 8a	34
0e98 :	99	96	lf	d0	17 8d a2 0e	e3
0ea0 :	bl	59	31	57	91 57 c8 d0	ce
0ea8 :	f7	e6	58	e6	5a ca d0 f0	26
0eb0	:	8e a9 lf	68 a9	37 85	01	54
0eb8	:	58 60 a9	31 8d	a9 lf	60	34
0ec0	:	a9 11 8d	a9 lf	60 a9	51	c9
0ec8	:	8d a9 lf	60 a0	06 d9	96	cd
0ed0	:	lf f0 03	88 d0	f8 98	48	01
0ed8	:	18 a9 00	69 20	88 10	fb	71
0ee0	:	85 5a a2	20 86	58 a0	00	ed
0ee8	:	84 57 84	59 68	60 29	01	94
0ef0	:	85 fd ad	89 lf	29 fe	05	52
0ef8	:	fd 8d 89	lf aa	ad 81	lf	5e
0f00	:	29 01 d0	0f ee	20 d0	ee	dl
0f08	:	27 d0 8a	10 05	a9 07	20	36
0fl0	:	07 0e 60	ad f9	07 48	a2	2a
0fl8	:	04 86 58	a0 00	84 57	18	3b
0f20	:	20 5f la	c8 d0	f9 e6	58	b9
0f28	:	ca d0 f4	f0 3e	ad f9	07	fd
0f30 : 48 ad 881f a2 04 86 58 6a 0f38	:	a0 00 84	57 91	57 c8	d0	7d
0f40	:	fb e6 58	ca d0	f6 f0	23	ec
0f48	:	ae 89 lf	10 e0	a9 40	85	ec
0f50	:	58 a2 04	86 5a	d0 0d	ae	89
0f58	:	89 lf 10	ld a9	40 85	5a	80
0f60	:	a2 04 86	58 ad	f9 07	48	08
0f68	:	20 c9 10	68 8d	f9 07	a9	96
0f70	:	0b 8d f8	07 a9	0d 8d	fa	90
0f78	:	07 ae 00	04 8e	88 lf	60	cl
0f80	:	48 ad 84	lf c9	06 d0	0a	c8
0f88	:	ad aa lf	c9 02	d0 03	20	7e
0f90	:	48 0f ad	89 lf	10 18	ad	2b
0f98	:	96 lf 20	bl 0f	20 5e	0f	86
0fa0	:	68 48 a8	b9 96	lf 20	bl	d4
0fa8	:	0f 20 4f	0f 20	57 0f	68	47
0fb0	:	60 a8 a9	40 18	69 04	88	c5
0fb8	:	d0 fb 60	29 03	aa ad	81	02
0fc0	:	lf 29 03	c9 01	f0 19	29	bc
0fc8	:	02 d0 28	bd 9d	lf 8d	85	08
0fd0	:	lf bd al	lf 8d	86 lf	bd	lf
0fd8	:	a5 lf 8d	87 lf	4c 5f	13	59
0fe0	:	ad 85 lf	9d 9d	lf ad	86	62
0fe8	:	lf 9d al	lf ad	87 lf	9d	fl
0ff0	:	a5 lf 60	8e 8a	lf 60	a9	85
0ff8	:	06 d0 02	a9 0c	8d 94	lf	da
1000	:	60 a2 80	d0 02	a2 00	ad	7c
1008 :	81	lf	29	04	f0	03	8e	95	70
1010 :	lf	60	e0	03	f0	fb	8a	0a	25
1018 :	aa	bd	79	eb	85	57	bd	7a	7c
1020 :	eb	85	58	bl	57	aa	29	7f	89
1028 :	c9	20	b0	06	ac	80	lf	4c	d2
1030 :	48	0d	8a	29	e0	c9	60	d0	46
1038 :	04	a9	40	d0	09	8a	10	04	68
1040 i	09	40	d0	02	29	bf	29	7f	12
1048 :	85	fd	8a	29	lf	05	fd	0d	c0
1050 :	95	lf	a2	00	86	58	0a	26	bd
1058 :	58	0a	26	58	0a	26	58	85	88
1060 :	57	ad	18	d0	29	02	0a	0a	8d
1068 :	09	d0	05	58	85	58	78	a9	76
1070 :	33	85	01	a0	07	bl	57	99	49
1078 :	ba	lf	88	10	f8	a9	37	85	ab
1080 :	01	58	20	11	15	a2	00	20	7e
1088 :	be	14	a9	08	85	5f	a0	00	92
1090 :	3e	ba	lf	a9	00	90	02	a5	00
1098 :	5e	11	57	91	57	20	06	15	40
10a0 :	c6	5f	d0	ec	e6	5b	e8	e0	96
10a8 :	08	d0	dc	a9	00	8d	81	lf	35
10b0 :	4c	bd	12	ad	18	d0	29	02	c6
10b8 :	0a	0a	09	d0	85	58	a9	20	26
10c0 :	85	5a	a2	08	78	a9	33	85	c9
10c8 :	01	a0	00	84	57	84	59	bl	0c
10d0 :	57	91	59	c8	d0	f9	e6	58	88
10d8 :	e6	5a	ca	d0	f2	a9	37	85	lc
10e0 :	01	58	60	ad	89	lf	49	40	12
10e8	: 29	40	0d	81	lf	f0	03	4c	c3
10f0	: 27	ld	a0	03	b9	84	lf	99	9e
10f8	: af	lf	88	10	f7	ad	96	lf	e0
1100	: 8d	ae	lf	a9	01	20	64	0e	a0
1108	: a9	0c	4c	07	0e	ad	ae	lf	f3
1110	: 20	64	0e	a0	03	b9	af	lf	f5
1118	: 99	84	lf	88	10	f7	ad	84	4d
1120	: lf	4c	07	0e	ad	81	lf	29	9f
1128	: 01	f0	03	4c	f8	0d	ad	15	c5
1130	: d0	48	a2	00	8e	15	d0	Be	bf
1138	: a9	lf	86	fc	e8	86	fd	ad	c8
1140	: 89	lf	2a	2a	29	01	49	07	f7
1148	: 20	64	0e	a0	04	bl	2d	99	e8
1150	: 59	00	88	d0	f8	c6	5b	10	39
1158	: 01	60	a4	fc	bl	5c	ae	8d	26
1160	: 02	f0	0a	c6	fc	10	10	a6	14
1168	: 5b	86	fc	d0	0a	e6	fc	c4	b5
1170	: 5b	90	04	a2	00	86	fc	c9	24
1178	: 40	b0	2c	29	07	8d	ae	lf	16
1180	: 20	cc	0e	78	a9	34	85	01	ed
1188	: bl	59	91	57	cB	d0	f9	e6	fe
1190	: 58	e6	5a	ca	d0	f2	ad	89	ba
1198	: lf	10	09	ad	ae	lf	20	bl	7f
lla0	: 0f	20	4f	0f	4c	3d	12	38	dd
lla8	: e9	01	48	4a	4a	29	07	18	a7
llb0	: 69	01	8d	ae	lf	20	cc	0e	15
llb8	: 68	48	4a	90	04	a2	a0	86	ce
llc0	: 59	4a	90	06	a5	5a	09	0f	93
llc8	: 85	5a	a9	27	85	58	a9	d0	2d
lld0	: 85	57	78	a9	34	85	01	a2	0d
lld8	: 0c	a0	a0	88	bl	59	91	57	48
lle0	: 98	d0	f8	a5	57	18	69	40	2f
lle8	: 85	57	a5	58	69	01	85	58	f3
llf0	: a5	59	18	69	40	85	59	a5	56
llf8	: 5a	69	01	85	5a	ca	d0	d9	eb
1200	: 68	aa	ad	89	lf	10	36	ad	01
1208	: ae	lf	20	bl	0f	85	58	a9	56
1210	: 00	85	57	8a	4a	90	04	a2	78
1218	: 14	86	57	4a	90	0d	a5	57	45
1220	: 18	69	e0	85	57	a5	58	69	ac
1228	: 01	85	58	a9	fa	85	59	a9	cc
1230	: 04	85	5a	a2	0b	a0	13	8c	fd
1238	: c5	lf	20	lf	la	a9	37	85	50
1240	: 01	58	a5	fd	20	d3	lc	a5	f3
1248	: cb	c9	2b	d0	03	38	26	fd	63
1250	: c9	28	d0	02	46	fd	ad	00	ad
1258	: dc	29	10	f0	03	4c	5a	11	09
1260 :	68	8d	15	d0	4c	e8	lc	20	ab
1268 :	a2	12	29	0f	d0	06	a9	28	74
1270 :	8d	83	lf	60	48	29	03	f0	4e
1278 :	0a	29	01	Bd	81	lf	a2	00	a4
1280 :	20	3e	13	68	29	0c	f0	0c	60
1288 :	4a	4a	29	01	8d	81	lf	a2	08
1290 :	00	20	c0	12	ae	83	lf	ec	70
1298 :	94	lf	90	05	ca	ca	8e	83	c5
12a0 :	lf	60	78	ae	02	dc	a0	00	6d
12a8 :	8c	02	dc	ad	00	dc	cd	00	40
12b0 :	dc	d0	f8	8e	02	dc	58	49	ff
12b8 :	ff	8d	82	lf	60	ae	8a	lf	e6
12c0 :	ac	86	lf	ad	81	lf	29	01	e5
12c8 :	d0	la	18	98	7d	8b	lf	90	90
12d0 :	24	ee	87	lf	ae	87	lf	e0	96
12d8 :	02	90	la	a9	01	8d	87	lf	b7
12e0 :	a9	f0	b0	11	38	98	fd	8b	a7
12e8 :	lf	b0	0a	ce	87	lf	10	05	77
12f0 :	a9	00	Bd	87	lf	8d	86	lf	a4
12f8 :	4c	5f	13	ad	84	lf	c9	01	d9
1300 :	d0	38	ad	81	lf	29	01	49	5a
1308 :	01	8d	81	lf	f0	03	20	bd	37
1310 :	12	20	11	15	a2	00	20	be	41
1318 :	14	a9	08	85	5f	a0	00	a5	fa
1320 :	5e	49	ff	31	57	91	57	20	e8
1328 :	06	15	c6	5f	d0	fl	e6	5b	45
1330 :	e8	e0	08	d0	el	ad	81	lf	74
1338 ;	f0	83	60	ae	8a	lf	ac	85	37
1340 :	lf	ad	81	lf	29	01	d0	0b	6e
1348 :	18	98	7d	8f	lf	90	0d	a9	fc
1350 :	ff	b0	09	38	98	fd	8f	lf	e7
1358 :	b0	02	a9	00	8d	85	lf	20	35
1360 :	bb	13	bd	c5	13	cd	85	lf	cl
1368 ;	90	03	8d	85	lf	bd	c6	13	af
1370 :	cd	85	lf	b0	03	8d	85	lf	cf
1378 :	ad	87	lf	d0	0d	bd	c7	13	cf
1380 :	cd	86	lf	90	10	8d	86	lf	30
1388 :	b0	0b	bd	c8	13	cd	86	lf	3e
1390 s	b0	03	8d	86	lf	ad	85	lf	aa
1398 :	8d	01	d0	8d	03	d0	ad	86	06
13a0 :	lf	8d	00	d0	8d	02	d0	ad	27
13a8 :	87	lf	0a	0d	87	lf	85	fd	67
13b0 :	ad	10	d0	29	fc	05	fd	8d	ca
13b8 :	10	d0	60	ad	f9	07	38	e9	8b
13c0 :	0d	0a	0a	aa	60	28	ef	0e	cd
13c8 :	4d	2b	eb	11	49	32	e5	18	b6
13d0 :	40	ad	82	lf	29	10	f0	10	62
13d8 :	20	11	15	ad	84	lf	0a	aa	3b
13e0 :	bd	ea	13	48	bd	e9	13	48	eB
13e8 :	60	02	14	e7	13	68	15	0d	2e
13f0 :	16	55	16	9b	17	74	18	42	a4
13f8 :	la	18	14	86	14	42	14	45	22
1400 :	14	95	la	20	be	14	ac	8d	c4
1408 :	02	f0	09	a0	00	49	ff	31	85
1410 :	57	91	57	60	11	57	91	57	d2
1418 :	60	a5	5b	48	a2	00	20	be	53
1420 :	14	a9	18	85	5f	a0	00	a5	06
1428 :	5e	49	ff	31	57	91	57	20	f0
1430 5	06	15	c6	5f	d0	fl	e6	5b	4d
1438 :	e8	e8	eB	e0	3f	d0	df	68	b5
1440 :	85	5b	60	20	19	14	a2	00	4c
1448 :	20	be	14	a9	18	85	5f	a0	6e
1450 :	00	bd	c2	02	8d	bc	lf	bd	d6
1458 s	cl	02	8d	bb	lf	bd	c0	02	dc
1460 :	8d	ba	lf	2e	bc	lf	2e	bb	cd
1468 :	lf	2e	ba	lf	a9	00	90	02	12
1470 :	a5	5e	11	57	91	57	20	06	d4
1478 :	15	c6	5f	d0	e6	e6	5b	e8	c7
1480 s	e8	e8	e0	3f	d0	c2	60	a9	f4
1488 :	03	8d	15	d0	a2	00	20	be	d9
1490 :	14	a9	18	85	5f	a0	00	18	5b
1498 :	bl	57	25	5e	f0	01	38	3e	7e
14a0 :	c2	02	3e	cl	02	3e	c0	02	44
14a8 :	20	06	15	c6	5f	d0	e8	e6	d7
14b0 :	5b	e8	e8	e8	e0	3f	d0	d6	cf
14b8 :	a9	0b	8d	84	lf	60	a9	01	78
14c0 :	85	58	a5	5b	29	f8	85	57	65
14c8 :	0a	26	58	0a	26	58	18	65	8d
14d0 :	57	90	02	e6	58	0a	26	58	ec
14d8 =	0a	26	58	0a	26	58	85	57	37
14e0 :	a5	5b	29	07	85	60	a5	5c	09
14e8 s	29	f8	18	65	60	65	57	85	da
14f0 :	57	a5	5d	65	58	85	58	a5	7c
14f8 :	5c	29	07	a8	a9	00	38	6a	10
1500 :	88	10	fc	85	5e	60	46	5e	3f
1508 :	90	06	66	5e	98	69	08	a8	47
1510 :	60	20	bb	13	ad	85	lf	38	c6
1518 :	fd	c5	13	85	5b	ad	86	lf	e9
1520 :	38	fd	c7	13	85	5c	ad	87	ac
1528 :	lf	e9	00	85	5d	60	20	e8	18
1530 :	lc	ad	aa	lf	49	01	8d	aa	da
1538 :	lf	f0	2d	a2	02	b5	5b	9d	e5
1540 :	ab	lf	ca	10	f8	a2	03	20	20
1548 :	e0	0f	ad	02	d0	8d	04	d0	87
1550 :	ad	03	d0	Bd	05	d0	ad	10	12
1558 :	d0	6a	08	2a	28	2a	8d	10	cf
1560 :	d0	a9	06	8d	15	d0	68	68	82
1568 :	60	20	2e	15	20	03	14	a5	bc
1570 ;	5b	48	a5	5c	48	a5	5d	48	9c
1578 :	ad	ac	lf	38	e5	5c	48	ad	08
1580 :	ad	lf	e5	5d	8d	bd	lf	b0	86
1588 :	0b	68	49	ff	69	01	48	a9	2d
1590 :	00	ed	bd	lf	8d	bb	lf	8d	28
1598 :	bf	lf	68	8d	ba	lf	8d	be	0b
15a0 :	lf	ad	ab	lf	18	e5	5b	90	a4
15a8 :	04	49	ff	69	fe	8d	bc	lf	0b
15b0 :	6e	bd	lf	38	ed	ba	lf	aa	52
15b8 :	a9	ff	ed	bb	lf	85	fc	b0	c7
15c0 :	06	0a	0a	2a	20	74	17	ad	fl
15c8 :	be	lf	6d	bc	lf	8d	be	lf	a0
15d0 :	ad	bf	lf	e9	00	4c	f5	15	c6
15d8 :	ad	bd	lf	b0	e4	0a	2a	0a	9d
15e0 :	49	02	20	5c	17	18	ad	be	24
15e8 s	lf	6d	ba	lf	8d	be	lf	ad	f7
15f0 :	bf	lf	6d	bb	lf	8d	bf	lf	ad
15f8 s	08	20	03	14	28	e8	d0	d8	12
1600 :	e6	fc	d0	d4	68	85	5d	68	2c
Listing 2. HI-EXE Maschinenroutine für HI-EDDI. Bitte beachten Sie die Eingabehinweise auf Seite 18.
64
C 64
Grafik
1608 1610
1618 1620
1628 1630
1638 1640
1648 1650
1658 1660
1668 1670
1678 1680
1688 1690
1698 16a0 16a8 16b0 16b8
16c0 16c8 16d0 16d8 16e0
16e8 16f0 16f8
1700 1708
1710 1718 1720
1728
1730 1738
1740 1748 1750
1758 1760
1768 1770
1778 1780
1788 1790 1798 17a0 17a8 17b0 17b8 17c0 17c8
17d0 17d8 17e0 17e8 17f0
17f8 1800 1808 1810 1818
1820 1828 1830
1838 1840
1848 1850
1858 1860
1868 1870
1878 1880
1888 1890
1898 18a0 18a8 18b0 18b8
18c0 18c8 18d0 18d8 18e0 18e8
18*0 18f8 1900
1908 1910
1918 1920
85 5c 68 85 5b 15 ad ab lf 48 ab lf 20 6c 15 lf a5 5c 48 a5 ac lf 85 5c ad 5d 20 6c 15 68 85 5c a5 5b 48 85 5b 20 6c 15 a5 5c 8d ac lf ad lf 20 6c 15 15 a2 02 b5 5b ca 10 f8 a9 00 20 03 14 20 b8 20 5a 17 08 a9 16 28 2a 0a 45 17 20 72 17 08 ea 16 28 2a 45 17 38 ad bc lf ad bd lf ed bf 20 5a 17 4c a9 17 90 0c a2 02 c2 lf d0 b4 ca 38 a5 5c ed ac 5d ed ad lf 08 98 b0 04 49 ff cl lf 38 ad ab 08 26 fd 28 b0 69 01 8d c0 lf ff 60 48 20 b8 lf a2 00 20 36 lf a2 02 20 36 18 a5 57 65 59 a5 58 65 5a 9d f0 23 38 bd ba lf 48 bd bb lf b0 0c a8 68 49 48 98 49 ff 69 lf 68 9d ba lf a9 08 85 fc a9 16 57 36 58 98 0b 68 48 18 75 90 02 f6 58 c6 68 60 a5 f9 29 a5 5b f0 36 c6 a5 5b c9 c7 f0 38 60 a5 f9 29 a5 5c 05 5d f0 d0 02 c6 5d c6 a5 5d f0 06 a5 f0 08 e6 5c d0 38 60 18 60 20 01 20 74 17 a9 a5 5b 8d ab lf lf ba e0 14 90 48 a5 fe 48 a5 5d 48 a5 5b 85 lf 85 fe 20 72 20 23 18 90 41 ad ab lf 48 20 05 20 bl 17 90 fe 68 85 fd a5 85 f9 20 72 17 90 05 20 bl 17 f9 49 01 85 f9 ad 00 dc 29 10 bd lf 9a 4c e8 5d 68 85 5c 68 85 fd 60 a5 fd fe 8d ab lf 20 00 31 57 d0 36 0d c6 5b 20 be 31 57 f0 fl e6 aa 20 be 14 a0 d0 0e a5 5e 11 e6 5b a5 5b c9 c6 5b a5 5b 8d 5b 38 60 e6 5b c5 5b b0 b8 60 ad aa lf c9 03 00 8d aa lf 0a 46 5d 6a 4a 4a a5 5b 4a 4a 4a ee aa lf 8a f0 d0 6a a2 00 bd fd ba lf b0 10 a8 bd ba lf 9d 9d ba lf 90 e7 e8 e0 02 d0 df a2 00 20 fa 19 8d c3 lf ae c4 lf a9 bf 91 57 a5 57 18 69 28 02 e6 58 ca 10 lf 8d ae lf 60 c9 03 d0 f8 ce ae lf 20 64 0e ce aa lf 60 ad 6d c4 lf 8d c0 b0 ee ad bf lf lf 8d cl lf c9
60 20 2e lc a5 5b 8d 05 68 8d ab 0b 5d 48 ad f4 ad lf 85 20 85 5d 68 54 ad ab lf 9f 68 85 5b 6a a5 5d 8d c4 60 20 2e 54 9d c2 lf el 20 ea 16 7e 16 85 f9 59 02 20 ea 85 f9 20 5c cc a9 04 20 45 f9 20 74 5a ed be lf 61 lf b0 06 6d 16 20 72 ed b5 5b dd 56 10 f6 60 96 lf a8 a5 49 26 fd 28 5d 69 01 8d 4d lf e5 5b e7 04 49 ff c8 a5 fd 49 ef 16 ad c0 a2 17 ad cl bb 17 68 aa 00 9d ba lf 19 bb lf 8a c7 lf ed ba 29 ed bb lf dl ff 69 01 4a 00 9d bb 93 60 48 a8 a9 00 95 57 86 0a a8 90 38 57 95 57 b4 fc d0 e8 13 02 f0 08 0f 5b 38 60 9f 2c e6 5b e9 01 f0 10 ff lc a5 5c 78 5c 38 60 a0 5c c9 3f bc 02 e6 5d 3d e8 lc a9 20 00 85 f9 56 ba 8e bd 51 6c a5 fd e6 5c 48 a5 45 fd ad ab 6c 17 90 46 lc a5 5b 48 d9 23 18 90 c8 f6 68 85 b2 f9 49 01 8d 20 23 18 f7 90 f6 a5 66 20 72 17 27 d0 bc ae e9 lc 68 85 a9 85 fe 68 16 85 5b a5 35 be 14 a0 45 a5 5b f0 99 14 a0 00 92 5b a5 5b 2e 00 31 57 b2 57 91 57 ld c8 d0 e9 bb ab lf 86 68 ad ab lf e4 20 e8 lc 09 d0 05 a9 99 aa a5 5c lb 9d bb lf lf 9d ba lf 79 56 c9 02 el bc lf 38 fd bd bc lf 00 bc lf 98 37 9d c4 lf 49 20 57 0f 2d 8c c2 lf 11 lf ac c5 60 88 10 f9 dc 85 57 90 91 e8 ad 96 f9 ad aa lf c2 aa lf ad b0 4c c5 18 5d be lf 18 7d lf c9 19 b7 18 6d c5 97 28 b0 e0 bc
1928 : 20 48 0f a2 04 20 fa 19 e4 1930 : a5 57 38 ed c2 lf a5 58 b9 1938 : ed c3 lf a9 00 2a 2a 85 09 1940 : f9 69 04 aa 20 fa 19 84 8b 1948 : 59 85 5a a6 f9 20 fa 19 8e 1950 : a0 03 06 57 26 58 06 59 ce 1958 : 26 5a 88 d0 f5 ad ae lf ad 1960 : a0 06 d9 96 lf f0 03 88 e3 1968 : d0 f8 a5 58 18 88 30 04 b7 1970 : 69 20 90 f9 85 58 a9 00 0e 1978 : a0 08 a6 f9 f0 04 a9 ff db 1980 : a0 f8 84 5c 85 5d ad c4 cc 1988 : lf 85 fb 78 a9 34 85 01 cc 1990 : a2 ff a0 07 bl 57 91 59 0a 1998 : 88 10 f9 a0 02 b9 57 00 06 19a0 : 18 65 5c 99 57 00 b9 58 c2 19a8 : 00 65 5d 99 58 00 88 88 9e 19b0 : f0 eb e8 ec c5 lf 90 da bb 19b8 : e0 27 d0 df c6 fb 10 d0 8a 19c0 : a9 37 85 01 58 ad 89 lf de 19c8 ; 10 2f a2 04 20 fa 19 84 e0 19d0 : 59 85 5a ad ae lf cd 96 80 19d8 : lf f0 05 20 bl 0f f0 02 10 19e0 : a9 40 18 6d c3 lf 38 e9 47 19e8 : 04 85 58 ad c2 lf 85 57 64 19f0 s ae c4 lf 20 lf la 20 57 be 19f8 : 0f 60 a9 00 85 58 bd ba 29 la00 : lf 0a 0a 18 7d ba lf 0a e8 la08 : 0a 26 58 0a 26 587d bb 0f lal0 : lf 90 02 e6 58 85 57 a8 35 lal8 : a5 58 09 04 85 58 60 ac a2 la20 : c5 lf bl 57 91 59 88 10 f2 la28 : f9 a5 57 18 69 28 85 57 69 la30 : 90 02 e6 58 a5 59 18 69 de la38 : 28 85 59 90 02 e6 5a ca e2 la40 : 10 dd 60 20 be 14 a0 03 70 la48 : 46 58 66 57 88 d0 f9 a5 81 la50 : 58 49 44 85 5a a5 57 85 4a la58 : 59 a0 00 ad 8d 02 4a ad 25 la60 : 89 lf 29 01 d0 15 b0 06 68 la68 : ad 20 d0 4c 70 la bl 59 34 la70 : 29 0f 85 fd bl 57 29 f0 9e la78 : 4c 91 la b0 0a ad 20 d0 5a la80 : 0a 0a 0a 0a 4c 89 la bl 30 la88 : 59 29 f0 85 fd bl 57 29 80 la90 : 0f 05 fd 91 57 60 20 e8 9e la98 : lc a0 04 b9 10 fd d9 e0 57 laa0 : 3f d0 53 88 10 f5 a9 3e 01 laa8 : 85 58 a5 5b c9 c0 90 02 17 lab0 : a9 bf 29 f0 85 fd 4a 4a a7 lab8 : 65 fd 85 fd a5 5d 4a a5 f7 lac0 : 5c 6a 4a 4a 4a 18 65 fd 24 lac8 : 0a 90 02 e6 58 85 57 a0 c8 lad0 : 01 bl 57 aa 88 bl 57 29 9b lad8 : 40 d0 lb bl 57 30 18 c9 68 lae0 : 04 b0 08 8d 81 lf 8a a8 7d lae8 : 4c 48 0d 48 8a a8 20 48 a4 laf0 : 0d 68 a8 4c 48 0d 60 a8 a5 laf8 : 29 01 8d 81 lf 08 98 4a 5f lb00 : 4a a8 28 d0 01 88 8c 20 89 lb08 : d0 8c 27 d0 8a a8 4c 48 b2 lbl0 : 0d 48 29 01 d0 lf a9 20 99 lbl8 : 85 58 a2 e0 78 a9 34 85 3f lb20 : 01 a9 00 85 57 a8 91 57 56 lb28 : c8 d0 fb e6 58 ca d0 f6 41 lb30 : a9 37 85 01 58 a2 00 8e ae lb38 : 17 d0 8e ld d0 8e lc d0 92 lb40 : 8e lb d0 20 c8 lc a9 04 b0 lb48 : 8d 20 d0 a0 25 b9 91 lb ca lb50 ; 99 84 lf 88 10 f7 68 8d 82 lb58 : 89 lf 10 23 a9 00 8d 97 d9 lb60 : lf ad 89 lf 29 01 d0 17 a8 lb68 : a9 40 85 58 ad 88 lf a2 7f lb70 : lc a0 00 84 57 91 57 c8 5e lb78 : d0 fb e6 58 ca d0 f6 ad 75 lb80 : 89 lf 29 40 f0 08 20 f2 al lbB8 : 10 a9 02 8d ae lf 4c 74 9d lb90 : lc 00 8c ae 00 f6 00 01 5f lb98 : 01 08 18 a0 01 08 15 60 ld lba0 : 20 06 00 01 07 02 03 04 78 lba8 : 05 06 8c 8c 8c 8c ae ae aa lbb0 : ae ae 00 00 00 00 a9 93 83 lbb8 : 20 d2 ff a9 01 8d 15 d0 e9 lbc0 .- 8d 10 d0 a9 10 8d 00 d0 ce lbc8 : a9 88 8d 01 d0 a9 04 85 ae lbd0 : 58 a9 d8 85 5a a2 00 86 ab lbd8 : 57 86 59 a9 19 85 fb a0 ed lbe0 : 00 bd c0 02 Bd ba lf bd d6 lbe8 : cl 02 8d bb lf bd c2 02 74 lbf0 : 8d bc lf a9 06 91 59 c0 ac lbf8 : 18 b0 lc a5 fb c9 05 90 67 lc00 : 16 ad 93 lf 49 80 91 57 43 lc08 : 2e bc lf 2e bb lf 2e ba 05 lcl0 : lf 90 04 a9 04 91 59 c8 71 lcl8 : c0 28 d0 d7 e8 e8 e8 a5 e0 lc20 : 57 18 69 28 85 57 85 59 bf lc28 : 90 04 e6 58 e6 5a c6 fb d3 lc30 : d0 ad a9 06 8d 27 d0 a5 a3 lc38 : 5b 8d ba lf a5 5c 8d bb d7 lc40 : lf a2 00 20 fa 19 60 20 ef
lc48 : 57 0f ad 18 d0 29 f7 8d e6 lc50 : 18 d0 ad 11 d0 29 df 8d 4f lc58 : 11 d0 20 cc ff a9 93 20 4f lc60 : d2 ff a9 0f 8d 21 d0 a9 f7 lc68 : 06 8d 86 02 a9 00 85 c6 55 lc70 : 8d 15 d0 60 20 el lc a2 8f lc78 : 00 a0 00 b9 f0 lc 85 57 b4 lc80 : f0 27 c9 ff d0 04 e8 c8 d8 lc8B : d0 fl b9 fl lc 9d 40 03 b3 lc90 : e8 b9 f2 lc 9d 40 03 e8 4f lc98 : b9 f3 lc 9d 40 03 e8 c6 53 lca0 : 57 d0 e7 c8 c8 c8 c8 d0 0a lca8 : d2 ad 18 d0 09 08 8d 18 a8 lcb0 : d0 ad 11 d0 09 20 8d 11 9f lcb8 : d0 20 48 0f ad 20 d0 8d c7 lcc0 : 27 d0 ad 84 lf 4c 07 0e d8 lcc8 : a9 00 a0 3f 99 c0 02 88 3a lcd0 : 10 fa 60 aa f0 0a a0 00 ad lcd8 : ea ea 88 d0 fb ca d0 f8 bf lce0 : 60 a5 cb c9 40 d0 fa 60 76 lce8 : 20 a2 12 29 10 d0 f9 60 33 lcf0 : 08 00 20 00 02 00 00 00 21 lcf8 : 01 ff 07 f8 02 00 00 00 fa ld00 : 08 00 20 00 ff 06 00 00 41 ld08 : 00 01 03 ff 00 08 02 01 94 ldl0 : 00 01 03 ff 00 05 00 00 7a ldl8 : 00 ff 01 ff ff ff 13 c0 26 ld20 : 00 03 01 ff ff ff 00 20 22 ld28 : el lc a9 20 8d 93 lf a9 cb ld30 : 00 85 5b 85 5c 8d 83 lf f9 ld38 : 20 47 lc 20 b6 lb 20 55 76 ld40 ; ld 20 2e le 20 7d le a9 76 ld48 : 30 20 d3 lc a5 cb c9 3c 59 ld50 : d0 ec 4c 74 lc a5 cb cd f2 ld58 : 80 lf d0 01 60 8d 80 lf 6f ld60 : c9 24 d0 25 a0 3c b9 c0 68 ld68 : 02 20 0a le 99 bc lf b9 30 ld70 : c2 02 20 0a le 99 ba lf 55 ld78 : b9 cl 02 20 0a le 99 bb 06 ld80 : lf 88 88 88 10 e0 4c 19 82 ld88 : le c9 16 d0 14 a0 00 a2 b6 ld90 : 3e b9 c0 02 20 0a le 9d 21 ld98 : ba lf c8 ca 10 f3 4c 19 71 lda0 : le c9 11 d0 44 a9 02 85 a6 lda8 : fb a4 fb 84 fd be 28 le 37 ldb0 : b9 2b le 85 fa a9 03 85 4b ldb8 : fc a9 08 85 fe a4 fa 8a 52 ldc0 : 48 a9 00 3e c0 02 6a e8 3c ldc8 : e8 e8 88 d0 f6 a4 fd 99 20 ldd0 : ba lf c8 c8 c8 84 fd 68 de ldd8 : aa c6 fe d0 e0 e8 c6 fc 29 lde0 : d0 d7 c6 fb 10 c3 4c 19 4f lde8 : le c9 la d0 0b ad 93 lf 36 ldf0 : 49 6f 8d 93 lf 4c b6 lb 2c ldf8 : c9 33 d0 0d ad 8d 02 29 d2 le00 : 01 f0 06 20 c8 lc 4c b6 0b le08 : lb 60 85 fe 84 fd a0 08 5f lel0 : 26 fe 6a 88 d0 fa a4 fd d4 lel8 : 60 a0 3e b9 ba lf 99 c0 lc le20 : 02 88 10 f7 20 b6 lb 60 4e le28 : 27 0f 00 08 08 05 20 a2 46 le30 : 12 a0 00 29 0f f0 35 4a 99 le38 : a6 5b f0 04 90 02 c6 5b 33 le40 : 4a 90 06 e0 14 b0 02 e6 0d le48 : 5b 4a a6 5c f0 04 90 02 73 le50 : c6 5c 4a 90 06 e0 17 b0 0e le5B : 02 e6 5c ad 93 lf 49 80 f2 le60 : 91 57 20 37 lc ad 93 lf 48 le68 : a0 00 91 57 ad 83 lf 49 5e le70 ; 01 8d B3 lf f0 06 bl 57 bl le78 : 49 80 91 57 60 ad 82 lf 0c le80 : 29 10 f0 3c 20 f7 14 a5 d2 le88 : 5c 4a 4a 4a a0 03 18 65 33 le90 : 5b 88 d0 fb a8 a5 5e ae 71 le98 : 8d 02 d0 0b 19 c0 02 99 8f lea0 : c0 02 a9 04 4c bl le 49 aa lea8 : ff 39 c0 02 99 c0 02 a9 af leb0 : 06 a8 a5 58 aa 49 dc 85 f2 leb8 : 58 98 a0 00 91 57 86 58 23 lec0 : 60 a0 03 d9 22 lf f0 03 51 lec8 : 88 d0 f8 c8 98 0a 0a aa 67 led0 : a0 03 ca bd 26 lf 99 b6 8b led8 : lf 88 10 f6 ad 80 lf 4a 0e lee0 : 4a 4a 8d b4 lf a9 04 ae f6 lee8 : b3 lf ac b4 lf 20 ba ff ca lef0 : a0 02 bl 2d 48 c8 bl 2d 8f lef8 : aa c8 bl 2d a8 68 20 bd e2 lf00 : ff ae b6 lf 86 57 ac b7 2d lf08 : lf 84 58 ad b4 lf d0 06 c9 lfl0 : a9 00 20 d5 ff 60 a9 57 d4 lfl8 : ae b8 lf ac b9 lf 20 d8 46 lf20 : ff 60 47 46 53 5a 00 20 32 lf28 : 00 40 00 20 00 44 c0 02 76 lf30 : ff 02 00 20 00 28 a2 03 06 lf38 : 20 c6 ff 20 cf ff 20 d2 e2 lf40 : ff d0 f8 a9 0d 20 d2 ff 38 lf48 : 20 cc ff 60 00 00 00 00 da
Listing 2. HI-EXE (Schluß)
65
Grafik
C 64
1 REM	ZEILEN WEGLASSEN !!	<101>
2 :	<234>
3 REM	*********************************	<134>
4 REM	*	*	<053>
5 REM *	HI-EDDI	*	<H2>
6 REM	*	*	<055>
7 REM	*	VON; HANS HABERL	*	<161>
8 REM *	BAHNHOFSTR. 3	* <146>
9 REM *	8018 GRAFING	* <238>
10 REM*	TEL. 08092/7152	*	<135>
11 REM*	*	<060>
12 REM*********************************	<143>
13 :	<245>
50 IF	A<2	THEN	A=A+2:L0AD"HI-EXE",8,l	<107>
60 IF	A=3	THEN	150	<027>
70 IF	A=4	THEN	650	<200>
100 INPUT"BETRIEBSART";C;POKE 780,C:POKE 5
6,13:CLR:W$="123456":SYS 3328	<159 >
110 IF PEEK(8073)AND 64 THEN A=3;L0AD"MENU
E",8,1	<087>
150 SYS 3337:A=PEEK(8064)	<H9>
160 ON A+1 GOSUB 200,250,300,290,400,600,2
90,290,500,510,300:GOTO	150	<254>
200 OPEN 3,8,0,"$0":GET#3,C$,C$	<154>
210 GET#3,C$,C$,L$,H$:IF C$=""THEN CLOSE 3
:WAIT 198,l:RETURN	<094>
220 PRINT 256*ASC(H$+CHR$(0))+ASC ( L$+CHR$( 0));:SYS 3334:G0T0 210	<018>
250 PRINT"<CLR,DOWN>SEQUENZs":PRINT"<DOWN, 2SPACE }"W$:INPUT"{HOME,3D0WN >" ; W$:IF L EN(W$)<2 THEN 250	<062>
290 RETURN	<094>
300 POKE 8115,8:PRINT"{CLR,D0WN)G=GRAFIKBI LD":IF PEEK(8073)>127 THEN PRINT"F=FAR BBILD"	<036>
310 PRINT"S=SPRITE":PRINT"Z=ZEICHENSATZ":P
RINT"<DOWN,SPACE}—>";	< 017 >
320 GET C$:IF C$<>"G"AND C$<>"F"AND C$<>"S "AND C$<>"Z"THEN 320	<240>
330 PRINT C$:POKE 780,ASC(C$):H$=W$:INPUT" {DOWNJFILENAME";W$:SYS 3331:W$=H$:H$=" "	<046>
340 OPEN l,8,15,H$:INPUT#l,A,H$:PRINT A;H$
:IF A>0 THEN WAIT 198,1	<073>
350 CLOSE l:RETURN	<223>
400 POKE 631,34:P0KE 198,l:H$="":INPUT"{CL
R,DOWNJ";H$:GOTO 340	<207>
500 A=8075:GOTO 520	<053>
510 A—8079	<140>
520 D=PEEK(8074):C=PEEK(A+D):PRINT"{CLR,DO
WN JF"2*D+1:PRINT"SCHRITTWEITE:"C,	<055>
530 INPUT C:IF C<1 OR 0160	THEN	530	<066>
540 POKE A+D,C:RETURN	<189>
600 INPUT"{CLR,DOWN>NUMMER l.BILD";D:C=(D
AND 7)	<087>
610 INPUT"<DOWN>NUMMER 2.BILD (0=NUR 1 BIL
D)";D:C=C+8*(D AND 7);IF D>0 THEN C=C+ 64	<067>
620 IF D=0 THEN PRINT"<DOWN>GROSS";:GOSUB 800:IF C$="J"THEN C=C+128	<075>
630 PRINT"<DOWN>DRUCKEN";;GOSUB 800:IF C$=
"N"THEN 660	<104>
640 IF A=5 THEN A=4:L0AD"HI-PRINT",8,l	<144>
650 POKE 780,C:SYS 3328:PRINT"{D0WN>N0CHMA
L";:GOSUB 800:IF C$="J"THEN 600	<150>
660 IF A=5 THEN RETURN	<209>
670 A=l:GOTO 50	<194>
800 PRINT" ? (J/N)";	<205>
810 GET C$:IF C$<>"J"AND C$<>"N"THEN	810	<210>
820 PRINT C$:RETURN	<230>
© G4'er
Listing 3: HI-EDDI Steuerprogramm. Bitte beachten Sie die
Eingabehinweise auf Seite 16.
10 REM*********************************
20 REM*	*
30 REM*	HI-EDDI	*
40 REM*	VON HANS HABERL	*
50 REM*	*
60 REM* DATA'S FUER DIE STEUERZEILE *
70 REM* DER BEISPIEL-MENUETAFEL *
80 REM*********************************
90 REM JE ZWEI AUFEINANDERFOLGENDE DATA-ZE ILEN
100 REM ERGEBEN EINE ZEILE IN DER MENUETAF EL (=20 FELDER)
110 DATA 64,0,64,0,64,0,64,0,64,0,64,0,64, 0,64,0,64,0,64,0
120 DATA 64,0,64,0,64,0,64,0,64,0,64,0,64, 0,64,0,64,0,64,0
130 DATA 0,18,0,18,0,18,0,20,0,20,0,20,0,2 2,0,22,0,22
140 DATA 0,13,0,13,0,13,0,10,0,10,0,10,0,5
6,56,23,56,38,56,30,1,51
150 DATA 0,18,0,18,0,18,0,20,0,20,0,20,0,2 2,0,22,0,22
160 DATA 0,13,0,13,0,13,0,10,0,10,0,10,0,5
9,59,23,59,38,59,30,1,51
170 DATA 0,42,0,42,0,42,0,41,0,41,0,41,0,9 ,0,9,0,9
180 DATA 0,26,0,26,0,26,0,14,0,14,0,14,0,8 ,8,23,8,38,8,30,1,51
190 DATA 0,42,0,42,0,42,0,41,0,41,0,41,0,9 ,0,9,0,9
200 DATA 0,26,0,26,0,26,0,14,0,14,0,14,0,1
1,11,23,11,38,11,30,0,33
210 DATA 0,17,0,17,0,17,0,36,0,36,0,36,1,9 ,1,9,1,9
220 DATA 1,60,1,60,1,60,1,60,1,60,1,60,0,1
6,16,23,16,38,16,30,0,33
230 DATA 0,17,0,17,0,17,0,36,0,36,0,36,1,9 ,l,9,l,9
<141>
<069>
<137>
<158>
<099>
<199>
<145>
<211>
<254>
<079>
<215>
<225>
<097>
<172>
<117>
<234>
<143>
<058>
<163>
<246>
<063>
<070>
<083>
240 DATA 1,60,1,60,1,60,1,60,1,60,1,60,0,1
9,19,23,19,38,19,30,0,33	<132>
250 DATA 128,21,132,21,136,21,140,21,144,2
1,148,21,152,21,156,21,160,21	<082>
260 DATA 164,21,168,21,172,21,176,21,180,2
1,184,21,188,21,0,4,0,5,0,6,0,3	<097>
270 DATA 128,28,132,28,136,28,140,28,144,2
8,148,28,152,28,156,28,160,28	<111>
280 DATA 164,28,168,28,172,28,176,28,180,2
8,184,28,188,28,1,4,1,5,1,6,1,3	<137>
290 DATA 129,21,133,21,137,21,141,21,145,2
1,149,21,153,21,157,21,161,21	<155>
300 DATA 165,21,169,21,173,21,177,21,181,2 1,185,21,189,21,2,4,2,5,2,6,2,3	<140>
310 DATA 129,28,133,28,137,28,141,28,145,2
8,149,28,153,28,157,28,161,28	<182>
320 DATA 165,28,169,28,173,28,177,28,181,2 8,185,28,189,28,0,29,0,29,0,31,0,31	<088>
330 DATA 2,18,2,18,2,18,2,18,2,42,2,42,2,4
2,2,42,2,13,2,13,2,13,2,13	<192>
340 DATA 2,20,2,20,2,20,2,20,2,41,2,41,2,4
1,2,41	<211>
350 REM KENNUNG "CBM80" ,ALS MENUEKENNUNG MISSBRAUCHT	<072>
360 DATA 195,194,205,56,48	<044>
370 :	<092>
380 POKE 56,32:CLR:REM IM SPEICHER BEFINDL ICHE MENUETAFEL SCHUETZEN	<226>
390 FOR 1=15872 TO 15872+484;READ A:POKE I ,A:S=S+A:NEXT I	<028>
400 IF S<>18329 THEN PRINT"DATA-FEHLER!" <099>
© 64>r
Listing 4: Ein Beispiel für den Aufbau einer Steuertafel für ein selbsterstelltes Menü. Bitte beachten Sie die Eingabehinweise auf Seite 16.
66
C 64
Grafik
Vier Pseudo-VICs mit 32 Sprites
Sie wollen mit 32 Sprites und vier Bildschirmbereichen gleichzeitig arbeiten? Nichts leichter als das. Mit Provic 64 können simultan hochauflösende Grafik, Text oder veränderte Zeichensätze dargestellt werden.
Wir(Jiirgen, 21, Physikstudent, undStefan, 18, Schüler) haben uns Mitte 1983 einen Commodore 64 angeschafft Schon nach kurzer Zeit stellte sich der übliche Frust über die schlechte Dokumentation und die schwierige Informationsbeschaffung ein, besonders wenn es um die speziellen Grafikfähigkeiten dieses Computers geht. So saßen wir oft stundenlang vor dem Bildschirm, der nur undefinierbare Zeichen zeigte, weil wir bei dem Versuch, die Geheimnisse des C 64 zu enträtseln, in irgendeinen unbekannten Darstellungsmodus geraten waren.
Dabei entdeckten wir, daß der C 64 nicht nur acht, sondern auch 16, 24, 32 oder noch mehr Sprites gleichzeitig zeigen kann. Zusätzlich ergibt sich die Möglichkeit, mehrere Bildschirmmodi zu mischen.
Nun haben wir uns entschlossen, den Kunstgriff, der dies ermöglicht, anderen C 64-Fans nicht vorzuenthalten. Also entwickelten wir ein Programm in Maschinensprache und dazu ein kleines Demonstrationsprogramm in Basic.
Zum Programm
Durch Aufruf der Initialisierungsroutine wird der Interruptmechanismus des C 64 verändert. Nicht mehr der Timer der CIA 1, sondern der VIC 6567 löstjetzt den Interrupt aus, und zwar synchron zum Takt des Bildschirmsignals. Außerdem werden vier sogenannte Pseudo-VICs eingerichtet. Alle PO-KEs, von Spritebewegung über Bildschirmfarbe bis zur Grafikkonfiguration, müssen ab jetzt in diese Pseudo-VICs erfolgen. Jeder dieser Pseudo-VICs ist für einen der vier Bildschirmbereiche zuständig:
Der Bildschirm wird in vier waagerechte Bereiche aufgeteilt, deren Grenzlinien fast beliebig nach oben oder unten verschoben werden können. Jeder einzelne Bereich kann acht Sprites darstellen und eine eigene Farb- und Grafikkonfiguration aufweisen. So können zum Beispiel Normalschrift, HiRes-Grafik, Multicolor-Grafik und eventuell ein selbstdefinierter Zeichensatz gleichzeitig auf dem Bildschirm gezeigt werden.
Provic 64 kann selbstverständlich wieder abgeschaltet werden (bei Kassetten- oder Diskettenoperationen nötig).
Für Maschinensprachefreaks nun eine kurze Funktionsbeschreibung der Interruptroutine:
Bei Aufruf der Einschaltroutine (SYS 52544) wird der IRQ-Vektor auf die Hauptroutine des Provic 64 gestellt und der bisherige Interrupt durch den Timer A der CIA 1 verboten, während der Raster-IRQ des VIC 6567 erlaubt wird.
Sobald der Bildschirmstrahl die eingestellte Rasterzeile erreicht, wird ein Interrupt ausgelöst und der Prozessor bearbeitet die Hauptroutine des Provic 64. In dieser wird zunächst anhand eines Zählers ($ CFFF) festgestellt, welcher Bildschirmbereich an der Reihe ist. Dann wird die Rasterzeile, die das Ende dieses Bildschirms kennzeichnet, eingestellt.
Anschließend werden, falls ein entsprechendes Flag gesetzt ist, die Sprite- und andere Bildschirmparameter in den VIC 6567 übertragen. Nach dem Weiterzählen des IR-Zählers ($ CFFF) wird entweder der Interrupt beendet, oder zur IRQ-Routine des Betriebssystems gesprungen (nach jedem vierten Interrupt). So werden in der Sekunde 200 Interrupts (vier pro Fersehbild) ausgelöst und 50 mal in der Sekunde (einmal pro Bild) die normale IRQ-Routine abgearbeitet. Dadurch zählt die interne Uhr Tl in 50stel Sekunden und Tl$ wird unbrauchbar.
Beim Aufruf der Ausschaltroutine wird der Raster-IRQ des VIC 6567 unterbunden, der Interrupt des Timers A in CIA 1 erlaubt und der IRQ-Vektor auf die IRQ-Routine des Betriebssystems eingestellt.
Handhabung der PseudoVICs
lm Grunde istjeder der vier Pseudo-VICs wie der echte VIC zu behandeln. Ausnahmen sind hier nur die Register 30 (Sprite-Sprite-Kollision) und 31 (Sprite-Hintergrund-Kollision), die sich auf den jeweils vorausgegangenen Bildschirmbereich beziehen. Die Register 19 und 20 (Lightpenkoordinaten), sowie 25 und 26 (IRQ-Flags und -maske) werden nicht behandelt, da diese Funktionen nur direkt über den VIC 6567 sinnvoll gehandhabt werden können. Außerdem hatjeder Pseudo-VIC noch zusätzliche Register für zwei Flags (REG 47 und REG 57), acht Sprite-Pointer (REG 48 bis REG 55),
So werden die Fähigkeiten von »Provic 64« demonstriert

67
Grafik
C 64
Die vier Basisadressen der PVICs sind:		REG 25 und 26:	nicht verwendet (siehe oben)
PVIC 1	52992 ($ CF00)	= REG 0	REG 27:	Sprite-Priorität vor Hintergrund
PVIC 2	53056 ($ CF40)	= REG 0	REG 28:	Flags für Multicolor-Sprites
PVIC 3	53120 ($ CF80)	= REG 0	REG 29:	Sprite vergrößern in X-Richtung
PVIC 4	53184 ($ CFC0) = REG 0	REG 30:	Sprite-Sprite-Kollision
Da die Pseudo-VICs praktisch gleichberechtigt sind, hier die Registerbeschreibung eines Pseudo-VICs:		REG 31:	Sprite-Hintergrund-Kollision Achtung: Geben die Kollisionen des vorangegangenen Bildschirmbereichs an: Findet im Bereich
REG 0:	X-Koordinate des Sprite 0		von PVIC 3 eine Kollision statt, wird dies im PVIC
REG 1:	Y-Koordinate des Sprite 0		4 registriert. Kollisionen im Bereich von PVIC 4
	Beachte: Die Y-Koordinaten sollten im Bereich		werden im PVIC 1 registriert. Dieses Register
	des zugehörigen Bildschirmbereichs liegen,		muß gelöscht werden, um neue Kollisionen anzei-
	sonst ist der Sprite nicht zu sehen. Näheres sie-		gen zu können!
	he unten.	REG 32:	Rahmenfarbe
REG 2 bis 15:	Wie REG 0 und 1, aber für Sprites 1 — 7	REG 33 bis 36:	Hintergrundfarben 0 bis 3
REG 16:	MSB (höchstes Bit) der X-Koordinaten	REG 37 und 38:	Multicolor-Sprite-Farben 0 und 1
REG 17:	Bits 0 bis 2: Y-Abstand der Zeichen vom oberen	REG 39 bis 46:	Farben für Sprites 0 bis 7
REG 17:	Bildrand in Rasterzeilen (Softscrolling!)	REG 47:	Flag für Spritebehandlung; nur wenn der Inhalt
	Bit 3: Umschaltung 24/25-Zeilendarstellung		dieses Registers nicht Null ist, werden die Regi-
	Bit 4: Bild an/aus: es hat keinen Sinn, das Bild		ster, die etwas mit Sprites zu tun haben, vom
	teilweise ausschalten zu wollen, da der VIC die-		PVIC in den VIC 6567 übertragen. Das sind REG
	ses Bit nur einmal pro Fernsehbild prüft (also ent-		0 bis REG 16, REG 21, REG 23, REG 27 bis
	weder das ganze Bild an oder aus)		REG 31, REG 37 bis 46 sowie REG 48 bis 55.
	Bit 5: HiRes-Grafik-Modus an		Ist der Inhalt Null, gelten für die Sprites die Werte
	Bit 6: Hintergrundmehrfarb-Modus an		des vorherigen PVICs, während die Kollisionen
	Bit 7: Nummer der Interrupt-Rasterzeile Bit 8; es		erst im nächsten PVIC, in dem REG 47 ungleich
	hat wenig Sinn, dieses Bit zu setzen, da so nur		Null ist, angezeigt werden.
	Rasterzeilen angesprochen werden, die unterhalb	REG 48 bis 55:	Sprite-Pointer für Sprites 0 bis 7; Die Pointer auf
	des Bildschirms liegen. Ist in irgendeinem		die Bitmuster der Sprites werden nicht mehr in
	Pseudo-VIC die 9-Bit-Zahl für die Rasterzeile grö-		die Speicherzellen 2040 bis 2047 geschrieben,
	ßer als 311, so wird überhaupt kein IRQ mehr		sondern in diese Register des PVICs.
REG 18:	ausgelöst.	REG 56:	In diesem Register muß das Highbyte der Video-
	Nummer der Rasterzeile Bits 0 — 7; hier ist an-		RAM-Anfangsadresse plus 3 stehen; normaler-
	zugeben, wann der nächste Interrupt ausgelöst		weise also 4 + 3 = 7 (da der Bildschirm nach
	werden soll, das heißt wo der Bildschirmbereich		dem Einschalten des Computers bei 1024 be-
	dieses PVICs zu Ende sein soll. Dabei sollte fol-		ginnt, 1024 = $ 0400). Bei Verlegung des
	gende Reihenfolge eingehalten werden: REG 18:		Video-RAMs ist also der Inhalt dieses Registers
	PVIC 1 < PVIC 2 < PVIC 3 <PVIC 4 (Zykli-		zu korrigieren.
REG 19 und 20:	sche Vertauschungen möglich!)	REG 57:	Flag für Bildschirmparameter-Behandlung; nur
	nicht verwendet (siehe oben)		wenn der Inhalt dieses Registers nicht Null ist,
REG 21:	Sprite enable (einschalten)		werden die REG 17, 22, 24, sowie 32 bis 36
REG 22:	Bits 0 bis 2: Softscrolling in X-Richtung		und REG 58 in den VIC 6567 übertragen.
	Bit 3: Umschaltungen 38/40-Spaltendarstellung	REG 58:	Bits 0 und 1: Adreßbist 14 und 15 des VIC
	Bit 4: Multicolor-Modus ein		6557; werden nach CIA 2 REG 0 Bits 0 und 1
REG 23:	Bit 5 bis 7: unbenutzt		übertragen. Mit diesen Bits kann Video-RAM,
	Sprite vergrößern in Y-Richtung		Charaktergenerator, Grafik-Bitmap in 16-KByte-
REG 24:	Bits 1 bis 3: Adresse Zeichengenerator (Bits 11		Schritten verschoben werden. Da die Bits low-
	bis 13)		aktiv sind, sind sie beim Einschalten gesetzt (also
	Bits 4 bis 7: Adresse Video-RAM (Bits 10 bis 13)		REG 58 = 3). Bits 2 bis 7: unbenutzt, immer 0.
Videomatrix-Anfangsadresse Highbyte (REG 56) und die CIA 2, REG 0, Bits 0 und 1 (REG 58) (Adreßbits 14 und 15 des VIC 6567).
Übergang eines Sprites zwischen zwei Bildschirmbereichen:
Soll ein Sprite zwischen zwei Bildschirmbereichen wechseln, muß in beiden Bereichen derselbe Sprite (also zum Beispiel beidesmal Sprite 4) die gleiche Position besitzen, und zwar so lange, wie der Sprite die Trennlinie zwischen den Bereichen überdeckt. Wird dies nicht beachtet, werden die entsprechenden Sprites zerschnitten und verschoben.
Aktivieren von Provic 64: Von Basic aus mit SYS 52544 und von Maschinensprache aus mit JSR $CD40.
Ausschalten von Provic 64: Von Basic aus mit SYS 52970 und von Maschinensprache aus mit JSR $CEEA.
Eingabe von Provic 64:
Die Eingabe des Listing 1 erfolgt mit dem MSE, das Speichern ebenfalls.
Laden von Provic 64:
lm Programm am besten mit der Zeile IF PEEK (52544) > < 120THENLOAD”PROVIC64”,Gerätenummer, 1 die am Anfag des Basic-Programms stehen sollte.
Das Demonstrationsprogramm (Listing 2) zeigt einige der Vorzüge von Provic 64. Bis der Bildschirmaufbau fertig ist, müssen Sie eine Weile warten. Es ist nur als Anregung gedacht, deshalb verzichten wir hier auf eine nähere Beschreibung.
Bei Kassetten- und Disketten- sowie Drucker-Zugriffen muß Provic vorher abgeschaltet werden. Sonst beginnt der Bildschirm wild zu flackern und Provic stürzt vielleicht ab.
Provic 64 ist nicht nur für Basic-Programmierer, sondern vor allem auch für Maschinensprache-Freaks gedacht, da erst durch schnelle Maschinenprogramme die Möglichkeiten von Provic 64 voll ausgeschöpft werden können.
(Jürgen und Stefan Haas/bs)
68
C 64
Grafik
Da die Pseudo-VICs praktisch gleichberechtigt sind, hier die Registerbeschreibung eines Pseudo-VICs:
Belegter Adreßraum:
$CD40
$CD58
$CEEA
Einschaltroutine Interruptroutine Ausschaltroutine
$CFOO	Pseudo-VIC	1
$CF40	Pseudo-VIC	2
$CF80	Pseudo-VIC	3
$CFCO	Pseudo-VIC	4
$CFFF	Interruptzähler
Provic 64 einschalten: in Basic: SYS 52544
in Maschinensprache: JSR $CD40
Provic 64 ausschalten: in Basic: SYS 52970
in Maschinensprache JSR $CEEA
Benutzte RAM-Adressen:
in der Zero-Page:	187 ($BB)
188 ($BC)
Rechenzeitzuwachs bei aktiviertem Provic 64:
alle Spriteflags (REG 47) und Bildschirmparameterflags (REG 57) gelöscht: + 2,5% für jedes gesetzte Spriteflag (REG 47): zirka + 2,4% fürjedes gesetzte Bildschirmflag (REG 57): zirka + 0,5% alle Sprite- und Bildschirmflags gesetzt: zirka + 15,0%
Falls der C 64 abstürzt, rettet Run-Stop/Restore!
Die Zeitvariable Tl zählt bei aktiviertem Provic 64 in 5Ostel Sekunden (statt 60stel);
Tl$ wird somit unbrauchbar.
Zeiger für Interruptaussprung von PVIC 3 bis PVIC 4: $CEE5
Zeiger für Interruptaussprung von PVIC 1: $CEE8
Tabellarische Übersicht zu Provic 64
programm : provic 64 cd40 dOOO
cd40		78	a9	58	a2	cd	8d	14	03	97
cd48		8e	15	03	a9	01	8d	Od	dc	cl
cd50		8d	la	dO	8d	ff	cf	58	60	71
cd58	■	a9	01	8d	19	dO	ac	ff	cf	la
cd60		fO	Of	88	fO	09	88	fO	03	b7
cd68		a2	cO	2c	a2	80	2c	a2	40	3e
cd70		2c	a2	00	bd	12	cf	8d	12	9f
cd78		dO	bd	2f	cf	dO	03	4c	8d	5e
cd80		ce	ad	le	dO	ld	le	cf	9d	04
cd88	a	le	cf	ad	lf	dO	ld	lf	cf	ef
cd90		9d	lf	cf	bd	15	cf	8d	15	99
cd98	£	dO	bd	17	cf	8d	17	dO	bd	57
cdaO		ld	cf	8d	ld	dO	bd	00	cf	46
cda8	*	8d	00	dO	bd	O1	cf	8d	01	e8
cdbO		dO	bd	02	cf	8d	02	dO	bd	81
cdb8	£	03	cf	8d	03	dO	bd	04	cf	11
cdcO		8d	04	dO	bd	05	cf	8d	05	4a
cdc8	■	dO	bd	06	cf	8d	06	dO	bd	ba
cddO	07	cf	8d	07	dO	bd	08	cf	be
cdd8	8d	08	dO	bd	09	cf	8d	09	ac
cde0	dO	bd	Oa	cf	8d	Oa	dO	bd	f3
cde8	Ob	cf	8d	Ob	dO	bd	Oc	cf	6a
cdfO	8d	Oc	dO	b£	Od	cf	8d	Od	Of
cdf8	dO	bd	Oe	cf	8d	Oe	dO	bd	2c
ce00	Of	cf	8d	Of	dO	bd	10	cf	17
ceO8	8d	10	dO	bd	lb	cf	8d	lb	26
cel0	dO	bd	lc	cf	8d	lc	dO	bd	38
cel8	25	cf	8d	25	dO	bd	26	cf	60
ce20	8d	26	dO	bd	27	cf	8d	27	22
ce28	dO	bd	28	cf	8d	28	dO	bd	b4
ce30	29	cf	8d	29	dO	bd	2a	cf	Od
ce38	8d	2a	dO	bd	2b	cf	8d	2b	84
ce40	dO	bd	2c	cf	8d	2c	dO	bd	ed
ce48	2d	cf	8d	2d	dO	bd	2e	cf	b9
ce50	8d	2e	dO	bd	38	cf	85	bc	72
ce58	a9	f8	85	bb	aO	00	bd	30	b7
ce60	cf	91	bb	c8	bd	31	cf	91	c7
ce68	bb	c8	bd	32	cf	91	bb	c8	47
ce70	bd	33	cf	91	bb	c8	bd	34	4e
ce78	cf	91	bb	c8	bd	35	cf	91	00
ce80	bb	c8	bd	36	cf	91	bb	c8	df
ce88	bd	37	cf	91	bb	bd	39	cf	35
ce90	fO	43	bd	3a	cf	29	03	9d	66
ce98	3a	cf	ad	OO	dd	29	fc	ld	7b
cea0	3a	cf	8d	00	dd	bd	11	cf	d5
cea8	8d	11	dO	bd	16	cf	8d	16	ec
cebO	dO	bd	18	cf	8d	18	dO	bd	b7
ceb8	20	cf	8d	20	dO	bd	21	cf	46
cec0	8d	21	dO	bd	22	cf	8d	22	e5
cec8	dO	bd	23	cf	8d	23	dO	bd	ea
ced0	24	cf	8d	24	dO	eO	cO	dO	7c
ced8	05	a9	ff	8d	ff	cf	ee	ff	9d
cee0	cf	8a	fO	03	4c	81	ea	4c	a6
cee8	31	ea	78	a9	31	a2	ea	8d	dl
cefO	14	03	8e	15	03	a9	81	8d	6b
cef8	Od	dc	a9	00	4c	50	cd	ea	32
cfOO	00	00	00	00	00	00	00	00	01
cfO8	00	00	00	00	OO	00	00	00	09
cflO	00	lb	5f	00	00	00	c8	00	99
cfl8	15	79	fO	00	00	00	OO	00	26
cf20	Oe	06	01	02	03	04	00	01	04
cf28	02	03	04	05	06	07	08	00	06
cf30	00	OO	00	00	00	00	00	00	31
cf38	07	01	03	00	00	00	00	00	81
cf40	00	00	00	00	00	00	00	00	41
cf48	00	00	00	00	00	00	00	00	49
cf50	00	lb	91	00	00	00	c8	00	65
cf58	15	79	fO	00	00	00	00	00	66
cf60	Oe	06	01	02	03	04	00	01	44
cf68	02	03	04	05	06	07	08	00	46
cf70	00	OO	00	00	00	00	00	00	71
cf78	07	01	03	00	00	00	00	00	cl
cf80	00	00	00	00	00	00	00	00	81
cf88	00	00	00	00	00	00	00	00	89
cf90	00	lb	c3	00	OO	00	c8	00	32
cf98	15	79	fO	00	00	00	00	00	a6
Listing 1. Das Listing »Provic 64«. Bitte beachten Sie die Eingabehinweise auf Seite 18.

69
Grafik
C 64
cfaO	a	Oe	06	01	02	03	04	00	01	84
cfa8	a	02	03	04	05	06	07	08	00	86
c+bO	*	00	00	00	00	00	00	00	00	bl
cfb8	*	07	01	03	00	00	00	00	00	01
cfcO	a	00	00	00	00	00	00	00	00	cl
cfc8	■	00	00	00	00	00	00	00	00	c9
cfdO	a	00	lb	f5	00	00	00	c8	00	fe
cfd8	■	15	79	fO	00	00	00	00	00	e6
cfeO	«	Oe	06	01	02	03	04	00	01	c4
cfe8	•	02	03	04	05	06	07	08	00	c6
cffO	M	00	00	00	00	00	00	00	00	fl
cff8	a	07	01	03	00	00	00	00	00	41
Listing 1. Provic 64 (Schluß)
6 REM DIESES KURZE DEMO-PROGRAMM SOLL	<075>
8 REM EIN PAAR DARSTELLUNGSFORMEN	<251>
10 REM ZEIGEN, WIE SIE MIT	PRDVIC-64	<024>
12 REM RELATIV EINFACH ERREICHBAR	SIND. <110>
14 REM	1984 BY GEBR. HAAS	<046>
1? REM	<081>
20 REM LADEN DER PR0VIC-64	ROUTINE	<069>
21 REM	<083>
30 IF PEEK(52544)=120 THEN	100	<014>
40 PRINT"<2D0WN,SPACE>AUF WELCHEM DATENTRA
EGER IST PR0VIC-64"	<056>
50 PRINT"<DOWN,SPACE>VERFUEGBAR ( FLOPPY =
8 / DATASETTE =1 )"	<241>
60 INPUT" ";A$:A=VAL(A$)	<073>
70 IF A<>1 AND A<>8 THEN 40	<077>
80 LOAD"PROVlC 64",A,1	<130>
99 REM	<161>
100 REM PSEUDO-VIC'S INITIALISIEREN	<145>
101 REM	<163>
110 P1=52992 s P2=53056sP3=53120:P4=53184:RE
M BASISADRESSEN DER PSEUDO-VIC'S	<206>
120 POKE Pl+21,255:P0KE Pl+24,22:P0KE Pl+4
7,l:P0KE Pl+27,255:P0KE P2+21,255	<172?>
130 POKE P2+17,59:P0KE P2+24,24:P0KE P2+32
,7:P0KE P2+47,l:P0KE P2+27,255	<071>
140 POKE P3+21,255:P0KE P3+32,9:P0KE P3+47
,l:POKE P3+27,255:P0KE	P4+32,5	<132>
150 POKE P4+21,255:P0KE P4+24,22:POKE P4+4
7,l:PDKE P4+18,230:POKE	P4+27,255	<217>
199 REM	<005>
200 REM SPRITE-DATEN UEBERTRAGEN	<034>
201 REM	<007>
210 RESTORE	<004>
220 FOR A=0 TO 126	<124>
230 READ WERT	<113>
240 POKE 832+A,WERT	<152>
250 NEXT A	<014>
299 REM	<107>
300 REM BILSCHIRM AUFBAUEN	<127>
301 REM	<109>
310 PRINT"<CLR,WHITE,DOWN,RVSON,7RIGHT}£{S HIFT-SPACE >i{SHIFT-SPACE)fl{SHIFT-SPACE >V{SH I FT-SPACE>KSH I FT-SPACE }£{3SH I FT-SPACE >6{SHIFT-SPACE >4 <3SHIFT-SPACE>3<S
HIFT-SPACE}£{SHIFT-SPACE>fl<SHIFT-SPACE >r	<192>
320 PRINT"<2D0WN,SPACE>^M DIESEM ^REICH:
.GXO.5.5y KLEIN-5CHRI FT <DOWN } ":	<044 >
330 FOR A=0 TO 7:PRINT"<BLUE>RRRRRRRRRRRRR
RRRRRRRRRRRRRRRRRRRRRRRRRRR{WHITE >”;:N
EXT A	<178>
335 FOR A=0 TO 14:P0KE 1289+A,34:NEXT A <248>
340 PRINT"<6SPACE>t DORT OBEN: HIRES-GRAFI		
	K-MODUS t"	<024>
350	PRINT"<DOWN,13SPACE)HIER: GROSS-SCHRIF T/GRAFIK"	<093>
360	PR I NT " <DOWN , SPACE } QXEXTY,UIJ^*TLKJ^	
	2LC^^W7frGZXcvB''	<037>
370	PRINT"<5D0WN,6SPACE>t 2DRT OBEN: LAUFS	
	CHRIFT t<3UP>":PRINT TAB(6);	<055>
390	SYS 52544:REM PR0VIC-64 ACTIVIEREN	<080>
399	REM	<207>
400	REM HIRES-GRAFIK ZEICHNEN	<201>
401	REM	<209>
410	FOR A=10110 TO 12360:POKE A,0:NEXT A	<212>
420	FOR A=0 TO 8*^TEP.0B	<248>
430	X=3+A/.08:Y=77-11*SIN(A)-9*C0S(A/.7)	<121>
440	AV=8192+320*INT(Y/8)+(Y AND 7)+8*INT(X /8)	<172>
450	POKE AV,PEEK(AV) OR 2f(7-(X AND 7))	<072>
460	NEXT A	<226>
470	LA$="*** VON äAASIäPFT ***<2SPACE>EUER	
	DAS 64'ER 0AGAZIN{3SPACE?"	<128>
480	LA$=LA$+"*** <3SPACE>E<SHIFT-SPACE}£{SH IFT-SPACE Jfi{SHIFT-SPACE>V{SHIFT-SPACE} KSHIFT-SPACE}£{3SHIFT-SPACE}6 4<3SPAC E>"	<187>
490	LA$=LA$+LEFT$(LA$,25):R=53266	<066>
499	REM	<051>
500	REM DEMONSTRATINS-SCHLEIFE	<141>
501	REM	<053>
510	REM SPRITES SETZEN	<013>
511	REM	<063>
520	FOR A=0 TO 7	<017>
530	POKE Pl+2*A,30+24*A+7*RND(l):POKE Pl+2 *A+1,60+6*RND(1)	<158>
540	POKE Pl+39+A,RND(l)*16:P0KE Pl+48+A,13 .5+RND(1)	<110>
550	POKE P2+2*A,30+24*A+7*RND(1):POKE P2+2 *A+1,110+6*RND<1)	<011>
560	POKE P2+39+A,RND(l)*16:P0KE P2+48+A,13 .5+RND(1)	<178>
570	POKE P3+2*A,30+24*A+7*RND(1):POKE P3+2 *A+1,160+6*RND(1)	<135>
580	POKE P3+39+A,RND(l)*16:P0KE P3+48+A,13 .5+RND(1)	<246>
590	POKE P4+2*A,30+24*A+7*RND<l):POKE P4+2 *A+1,207+6*RND(1)	<059>
600	POKE P4+39+A,RND(l)*16:P0KE P4+48+A,13 .5+RND(1)	<058>
610	NEXT A	<122>
619	REM	<173>
620	REM LAUFSCHRIFT SETZEN	<097>
621	REM	<175>
625	FOR LP=1 TO LEN(LA$)-25	<195>
630	LZ=LZ-l:IF LZ>0 THEN POKE P4+22,LZ OR 8:F0R A=0 TO 9:NEXT A:GOTO 630	<110>
640	PRINT TAB(6);:WAIT 53265,128:WAIT 5326 6,64:P0KE 53206,15:PRINT LF$:PRINT"<2U P>"	<193>
660	LZ=7:LF$=MID$(LA$,LP,25)	<244>
670	NEXT LP	<019>
680	GET A$:IF A^=""THEN 500	<173>
690	SYS 52970:REM PR0VIC-64 DESAKTIVIEREN	<194>
999	REM	<043>
1000 REM SPRITE-DATEN		<203>
1001	REM	<045>
1002	! DATA 0,0,0,0,126,0,1,255,128,7,255,22 4,15,255,240,15,253,240,31,255,248	<077>
1003	: DATA 31,255,248,63,255,252,63,255,252 ,63,243,252,63,252,0,63,255,252,63	<031>
1004	DATA 255,252,31,255,248,31,255,248,15 ,255,240,15,255,240,7,255,224,1,255	<199>
1005	i DATA 128,0,126,0,0,0,0,0,0,126,0,1,25 5,128,7,255,224,15,255,240,15,251	<154>
1006	DATA 240,31,255,248,31,255,248,63,255 ,240,63,255,0,63,240,0,63,252,0,63	<003>
1007	DATA 255,0,63,255,224,31,255,248,31,2 55,248,15,255,240,15,255,240,7,255	<050>
1008	DATA 224,1,255,128,0,126,0	<079>
© G4zer
Listing 2. Ein Demonstrations-Programm zu »Provic 64«. Bitte beachten Sie die Eingabehinweise auf Seite 16.
70
C 64
Grafik
TUrtle-Grafik: Die schnelle Schildkröte
Turtle-Grafik ist eine Spracherweiterung, die es in sich hat. Vollständig in Maschinensprache geschrieben, stellt sie einige Befehle zur Verfügung, mit denen Sie komfortabel sehr schnell Bilder erzeugen können.
WennSie dieses Programm (Listing 1) abtippen, werden Sie keinen Ärger mit den vielen DATAs bekommen. Haben Sie einen falschen Wert eingegeben, weist Sie die eingebaute Prüfsummenroutine auf die fehlerhafte Zeile hin und listet sie am Bildschirm. Bitte halten Sie sich daher an die Zeilennumerierung. Nach der Eingabe sollten Sie das Programm speichern und erst dann starten. Wenn alles ok ist, empfehle ich Ihnen, das Demoprogramm (Listing 2) einzugeben. Es vermittelt Ihnen einen sehrguten Eindruckvon den Fähigkeiten derGrafik-erweiterung. Doch nun zur Turtle-Grafik selbst.
Wird das Programm gestartet, meldet es sich mit: TURTLE GRAPHICS BY PETER MENKE 38911 BASIC BYTES FREE
Nun sind alle Funktionen und Befehle des Programms fest in Basic eingebettet und bleiben bis zum Ausschalten erhalten.
Das Programm unterstützt die Programmierung zweier voneinander völlig unabhängiger Bildschirme:
1.	Den normalen Textbildschirm
2.	Den Grafikbildschirm, auf dem die hochauflösende Grafik erscheint.
Zwischen den beiden Bildschirmen können Sie mit der Funktionstaste F1 hin- und herschalten. Der neue Befehl HIRES1 schaltet den Grafik-Bildschirm ein (HIRES 0 = ausschalten).
Im folgenden die Befehle im einzelnen:
HIRES1 hi, ra
hi=Hintergrundfarbe (0-15), ra=Randfarbe (0-15)
Die Angaben für Hintergrund und/oder Randfarbe sind nicht unbedingt notwendig, die alten Farben werden dann beibehalten.
CLEAR
Dieser Befehl löscht den gesamten Grafikbildschirm.
REVERS
Dieser Befehl invertiert den gesamten Grafikbildschirm.
COLOR pu, hi, ra
Die Farben der hochauflösenden Grafik werden neu definiert (pu=Punktfarbe). Wie beim HIRES-Befehl können auch hier die Angaben für hi und/oder ra entfallen.
GSAVE »Name«, Gerätenummer Speichert eine erzeugte Grafik ab.
GLOAD »Name«, Gerätenummer
Lädt eine vorher gespeicherte Grafik in den Computer.
Wenn Sie den Grafikbildschirm einschalten, sehen Sie in der Mitte des Bildschirms einen blinkenden Punkt: den Grafikcursor (oder »Turtle«, zu deutsch »Schildkröte«).
Durch Bewegen dieses Grafikcursors können Sie Linien auf dem Bildschirm zeichnen.
DEG wi
Bestimmt die Bewegungsrichtung der Turtle. Acht Richtungen sind möglich (»wi« kann Werte zwischen 0 und 7 annehmen).
2
3	1
4	*	0
5	7
6
MOVEx
Move bewegt die Schildkröte um x Punkte.
Der HIRES-Befehl positioniert den Grafikcursor automatisch auf die Bildschirmmitte. Der eingestellte Winkel ist 0. Außerdem wird Modus 0 eingeschaltet (siehe MODE).
LTURN x (x max.=255)
Dreht den Grafikcursor um x Einheiten nach links.
RTURN x (x max.=255)
Dreht den Grafikcursor um x Einheiten nach rechts.
PLOT x<or, ycor
Setzt den Grafikcursor auf eine bestimmte Bildschirmposition. Die obere linke Ecke des Bildschirms hat die Koordinaten 0,0; die rechte untere 319,199.
MODE m (m max 4)
Bei den Befehlen MOVE und PLOT kennt das Programm 4 Modi.
0 = Punkt setzen
1	= Punkt löschen
2	= Punkt invertieren
3	= nichts verändern
Normalerweise ist Modus 0 eingeschaltet. Mit dem MODE-Befehl läßt sich dies ändern.
Gleichzeitige Darstellung von Text und Grafik
Das Programm teilt den Bildschirm in einen Text- und in einen Grafikteil.
Betätigt man bei eingeschaltetem Grafikbildschirm die F3-Taste, so wird im unteren Teil des Bildschirms der untere Teil des normalen Textbildschirms eingeblendet.
Bei nochmaligem Betätigen dieser Taste wird das >Textfen-ster« wieder ausgeblendet.
WINDOW 1
Schaltet Textfenster ein.
WINDOW 0
Schaltet Textfenster aus.
Mit der Taste F5 wird der Cursor (der normale) in die obere linke Ecke des Textfensters gebracht. Dies entspricht der HOME-Taste für den gesamten Bildschirm. Die F5-Taste läßt sich ebenso programmieren wie die HOME-Taste, das heißt mit PRINT ”(F5)” (auf dem Bildschirm erscheint ein reverses Grafikzeichen) läßt sich der Cursor in die obere linke Ecke des Textfensters bringen.
JOYSTICK ve
(ve=Verzogerung. Mit ve=0 malt man am schnellsten, mit ve=255 am langsamsten.)
Dieser Befehl erlaubt das Zeichnen von Bildern mit dem Joystick (Port 2). Mit dem Joystick kann der Grafikcursor bewegt werden. Druckt man gleichzeitig den Feuerknopf, wird entsprechend dem eingestellten Modus ein Punkt gesetzt, ge-löschtetc. Nun können beliebige Bildergezeichnetwerden, so lange, bis mit der F7-Taste mit der Programmabarbeitung fortgefahren wird.

71
Grafik
C 64
LPEN
Dieser Befehl erlaubt das Zeichnen von Bildern mit dem Light-pen (Port 1). Im Prinzip gilt das gleiche wie beim JOYSTICK-Befehl, nur daß hier statt des Feuerknopfes die CTRL-Taste beziehungsweise der Knopf am Lightpen benutzt wird. Man verläßt den Lightpenmodus mit F7.
Alle Befehle können unabhängig vom Einschaltzustand des Grafikbildschirms angewendet werden. Sie lassen sich auch wie normale Basic-Befehle abkürzen.
Die Funktionen und Anwendungen des Programms und seiner Befehle sind sehr gut in dem Programm >>TURTLE DEMO« demonstriert (Listing 2).
Das Programm beginnt mit Titel und Autorenanschrift. Das GOSUB in Zeile 260 dient nur zur Suche von Syntax-Fehlern in den DATA-Zeilen. Im Programmteil »Variable«abZeilennummer 290 wird der Variablen AN die Startadresse des Maschinenprogramms zugewiesen, der Variable ZI die Endadresse. In NA$ steht der Programmname. Die eigentliche Einleseroutine (ab Zeile 350) funktioniert folgendermaßen: Es werden in einer Schleife die ersten 16 Zahlen aus einerjeden DATA-Zeile gelesen und in den Speicher gePOKEt. Gleichzeitig wird aus den gelesenen Daten eine Prüfsumme gebildet. Diese Summe wird mit der letzten Zahl in der DATA-Zeile verglichen, dies ist die richtige Prüfsumme. Unterscheiden sich die beiden Zahlen, so wurde ein Tippfehler gemacht und die fehlerhafte Zeile wird vom Programm automatisch geLISTet. Außerdem wird geprüft, ob eine Zeile vergessen wurde (Zeile 517-520) und ob die Anzahl der Daten richtig ist (Zeile 530-537). Zusätzlich wird noch getestet, ob die gelesene Zahl auch zwischen 0-255 liegt (Zeile 391). Ist dies nicht der Fall, wird eine Fehlermeldung ausgegeben (Zeile 503-505). Ursache ist wahrscheinlich ein Kommafehler. Wurde kein Fehler gefunden, so fragt das Programm, ob es sich selbst abspeichern soll (davon sollte bei der ersten Benutzung des Programms unbedingt Gebrauch gemacht werden, Zeile 546-580). Danach wird das Maschinenprogramm gestartet (Zeile 590-610). Trotz der Prüfsummen ist ein Fehler in den DATAs nicht völlig ausgeschlossen. Vertauschungen werden zum Beispiel nicht bemerkt. Solche Fehler sind jedoch sehr unwahrscheinlich.
Komfortabler DATA-Lader
Diese Art der Überprüfung von DATA-Werten sollten Sie sich genau ansehen. Sie erleichtert der Redaktion und vor allem den Lesern die Eingabe und Überprüfung großerZahlenkolon-nen. Falls Sie uns Programme einschicken wollen, dann nehmen Sie sich doch auch bitte etwas Zeit und fügen eine komfortable Prüfroutine in Ihre Programme ein.
Programmierung
a)	Speicheraufteilung:
Das Video-RAM steht ab $0400. Der HiRes-Speicher wurde hinter $CC00 gelegt, das HiRes-Farb-RAM nach C800. Das Programm selbst beginnt bei $C000 und endet bei $C88B. Programmvariable liegen im Bereich vor $CC00.
b)	Die Belegung der Funktionstasten wird durch ein »Anzapfen« des Interrupt ermöglicht. Die Funktion PRINT ”(fs)” wird durch Verändern der BSOUT-Routine erreicht.
c)	Das Textfenster:
Wie Sie wissen, wird das Bild auf dem Fernseher (Monitor) durch einen Elektronenstrahl erzeugt, der den Bildschirm zeilenweise von oben nach unten abfährt. Der VIC bietet nun die Möglichkeit bei einer bestimmten Zeilenposition einen Interrupt auszulösen. Diese Fähigkeit des VIC wird ausgenutzt. In
der dann ausgeführten Interruptroutine wird zwischen HiRes-und Textmodus hin- und hergeschaltet, so daß der Bildschirm in ein Text- und ein Grafikfenster eingeteilt wird.
d)	Die neuen Befehle:
Es gibt zahlreiche Möglichkeiten, neue Basic-Befehle zu implementieren. Anzapfen der
1.	CHRGET-Routine (DOS 5.1)
2.	Eingabe-Warteschleife (Toolkits)
3.	Interpreterschleife (beschrieben im 64 Intern)
Die genannten Möglichkeiten haben jedoch alle große Nachteile: Sie sind alle entweder zu langsam (1. und 3.), die Befehle lassen sich nur im Direktmodus anwenden (2.) oder sie können nicht abgekürzt werden. Deshalb wurden die Befehle mit sehr komplexen Routinen voll als Tokens integriert. Aus diesem Grund wurde die Interpreterschleife, die Routine zur Umwandlung in Interpretercode und die Routine zur Rückumwandlung in Klartext verändert. Die Vorteile dieser Arbeitsweise sind, daß sich die neuen Befehle wie normale Basic-Befehle anwenden lassen und daß nur minimale Geschwindigkeitsverluste bei der Ausführung von Basic-Pro-grammen in Kauf genommen werden müssen. Ähnliche Methoden verwenden übrigens auch professionelle Basic-Erwei-terungen, wie zum Beispiel Simons Basic.
Einige Befehle definiert
Ein solches »Anzapfen« von Betriebssystem- und Basic-Routinen wird beim C64 durch zahlreiche Sprungvektoren ermöglicht, die verändert werden können. Dies ist leider nicht bei allen Computern so gut möglich. Die hier benutzten Vektoren sind:
Name:	Adresse in dezimal:
Interrupt-Vektor	: 788/789
NMI-Vektor	: 792/793
BRK-Vektor	: 790/791
Bsout-Vektor	: 806/807
Vektor für Umwandlung in Interpretercode	: 772/773
Vektor für Umwandlung in Klartext	: 774/775
Vektor für Basic-Befehl ausführen	: 776/777
(Interpreterschleife)	
Das Wissen über die Programmierung des Programms ist für dessen Anwendung nicht nötig. Doch nun viel Spaß mit Turtle-Grafik. (Peter Menke/ah)
Benutzte Variable:
AN	= Anfangsadresse des Maschinenprogramms
ZI	= Endadresse des Maschinenprogramms
NA$	= Programmname beim Abspeichern
GE	= Geräteadresse beim Abspeichern
X	= eingelesener DATA-Wert
S	= Speicherstelle, in die X gePOKEt wird
Z	= aktuelle DATA-Zeilennummer
PR	= errechnete Prüfsumme
I	= Variable der FOR/NEXT-Einleseschleife
C 64
Grafik
20 PRINT”<CLR,2DOWN,4SPACE>5S5BSS55H5SS3TgS	<031>	539 PRINT"{2D0WN>KEINEN FEHLER GEFUNDEN !<	
		DOWNl”	<239>
30 PR I NT ” <4SPACE I ^BB^^BBB^BBBBBBBBBB		540 PRINT"ABSPEICHERN (J/N) ?"	<187>
	<124>	550 GET A$:IF A$="N" THEN 590	<119>
40 PRINT"{4SPACEJS5<27SPACEJ55	<095>	560 IF A$<>"J" THEN 550	<207>
50 PRINT"{4SPACE>55<27SPACE}??	<105>	570 INPUT"GERAETEADRESSE (l=DATASETTE/8=DI	
60 PRINT"{4SPACEJ^{5SPACEJTURTLE GRAPHICS		SK)";GE	<233>
{7SPACE)51 70 PRINT''{4SPACE>55<5SPACE)SS6&&&E^fi&fi^	<098>	580 SAVE NA$+”(C)PM",GE 590 PRINT"<DOWN>ZUM START EINE BELIEBIGE<1	<062>
<7SPACE>^	<213>	6SPACE>TASTE DRUECKEN	<064>
100 PR I NT " <4SPACEl^<27SPACE}^	<155>	600 GET A$:IF A$="" THEN 600	<125>
110 PRINT"{4SPACE>5g{3SPACEJENTWICKELT 8.1		610 SYS AN	<206>
984 V0N<3SPACE>55	<090>	630 :	<098>
120 PRINT"{4SPACEJ^{27SPACE}^	<175>	640 :	<108>
130 PRINT"{4SPACE)^g{27SPACE>5g 140 PRINT"<4SPACE>5B<3SPACE>P E T E R<2SPA	<185>	650 : 1000 DATA 120,032,063,193,088,032,163,193,	<118>
CE>M E N K E{4SPACE>^	<011>	032,223,193,169,028,133,254,169,2085	<212>
150 PRINT"<4SPACE>^<27SPACE>^S	<205>	1010 DATA 192,133,255,032,097,192,032,068,	
160 PRINT"<4SPACE>^<8SPACE>GRIFTWEG 4{9SP ACE)K	<202>	166,076,116,164,147,017,017,017,1721 1020 DATA 029,029,084,085,082,084,076,069,	<190>
170 PRINT"{4SPACE>S8{4SPACE)2212 BRUNSBUET TEL {6SPACE>S1	<120>	032,071,082,065,080,072,073,067,1080 1030 DATA 083,190,190,029,029,066,089,032,	<078>
190 PRINT"{4SPACE>SK27SPACE>55	<245>	080,069,084,069,082,032,077,069,1270	<017>
200 PRINT"<4SPACE>S5<27SPACE>M	<255>	1040 DATA 078,075,069,190,190,029,029,051,	
210 PRINT" {4SPACE)TOS5Mmm5WSTOm	<048>	056,057,049,049,032,066,065,083,1168 1050 DATA 073,067,032,066,089,084,069,083,	<168>
220 PRINT"{4SPACEJ5m5msmm55TO5m	<058>	032,070,082,069,069,017,017,190,1109 1060 DATA 191,160,000,177,254,201,191,240,	<134>
230 PRINT"{2D0WN,9SPACE)BITTE TASTE DRUECK EN"	<074>	012,201,190,208,002,169,013,032,2241 1070 DATA 210,255,200,208,238,096,173,025,	<230>
240 GET A$:IF A$=""THEN 240	<146>	208,141,025,208,016,029,173,018,2223	<050>
250 PRINT"{CLR}"	<238>	1080 DATA 208,201,250,176,011,032,204,193,	
260 GOSUB 1000	<218>	169,250,141,018,208,076,188,254,2579	<238>
270 s	<248>	1090 DATA 032,185,193,169,217,141,018,208,	
280 :	<002>	076,188,254,173,013,220,088,165,2340	<009>
290 REM **VARIABLE**	<241>	1100 DATA 204,208,033,169,032,044,017,208,	
300 AN=49152	<213>	240,026,206,252,203,208,021,169,2240	<231>
301 ZI=51360	<046>	1110 DATA 007,141,252,203,173,241,203,072,	
310 NA$="TURTLE GR."	<122>	169,002,141,241,203,032,118,195,2393	<017>
320 :	<042>	1120 DATA 104,141,241,203,165,212,208,030,	
330 :	<052>	165,216,208,026,165,203,205,255,2747	<224>
340 :	<062>	1130 DATA 203,240,019,141,255,203,201,064,	
350 REM **** EINLESEROUTINE ****	<080>	240,012,201,004,240,011,201,005,2240	<185>
360 S=AN:Z=1000	<060>	1140 DATA 240,029,201,006,240,048,076,049,	
370 FOR 1=1 TO 16sREAD X	<096>	234,173,017,208,041,032,240,009,1843	<177>
390 IF X=-100 THEN 530	<107>	1150 DATA 032,204,193,032,017,194,076,230,	
391 IF X<0 OR X>255 THEN 503	<105>	192,032,185,193,076,230,192,173,2251	<254>
400 GOSUB 515sPOKE S,X	<143>	1160 DATA 017,208,041,032,240,246,173,026,	
410 S=S+l:PR=PR+X:NEXT	<224>	208,041,001,240,006,032,017,194,1722	<007>
440 :	<162>	1170 DATA 076,230,192,032,254,193,162,021,	
460 READ X:IF PR=X THEN PR=0:Z=Z+10sGOTO 3 70	<110>	160,000,024,032,240,255,076,230,2177 1180 DATA 192,072,138,072,152,072,169,127,	<056>
470 PRINT"<2D0WN>PRUEFSUMMENFEHLER IN ZEIL E"Z	<155>	141,013,221,172,013,221,048,012,1835 1190 DATA 032,163,253,032,024,229,032,063,	<193>
475 PRINT"{DOWNJPRUEFSUMME DER ZEILE"Z":"P R:PRINT	<160>	193,108,002,160,076,114,254,032,1767 1200 DATA 204,193,169,004,141,136,002,169,	<149>
480 PRINT"RICHTIGE PRUEFSUMME:"X:PRINTsPRI NT	<112>	118,141,020,003,169,192,141,021,1823 1210 DATA 003,169,033,141,024,003,169,193,	<018>
490 PRINT"<DOWN >LIST"Z-10"-”Z"<2UP}";:POKE 631,13:P0KE 198,1	<110>	141,025,003,169,048,141,022,003,1287 1220 DATA 169,193,141,023,003,169,011,141,	<029>
500 END	<248>	254,203,169,001,141,253,203,141,2215	<123>
501 :	<223>	1230 DATA 252,203,169,000,141,026,208,169,	
502 :	<224>	134,141,004,003,169,196,141,005,1961	<029>
503 PRINT'*DATENFEHLER IN ZEILE*'Z	<234>	1240 DATA 003,169,043,141,008,003,169,197,	
504 PRINT”ES WURDE VERSUCHT”X"ZU POKEN."	<031>	141,009,003,169,084,141,006,003,1289	<090>
505 GOTO 490	<091>	1250 DATA 169,197,141,007,003,169,103,141,	
510 :	<232>	038,003,169,199,141,039,003,032,1554	<170>
511 :	<233>	1260 DATA 249,195,096,162,032,160,000,169,	
512 s 515 PRINT”<HOME,2D0WN,2SPACEIZEILE:"Z” SPE	<236>	224,133,255,132,254,152,145,254,2612 1270 DATA 136,208,251,230,255,202,208,246,	<155>
ICHERSTELLE:”S 516 PRINT"<D0WN,2SPACE>EINGELESENER WERTs<	<219>	096,169,056,141,024,208,169,148,2747 1280 DATA 141,000,221,173,017,208,009,032,	<203>
4SPACE,4LEFT>"X 517 IF Z>=PEEK(63)+256*PEEK(64) THEN RETUR	<121>	141,017,208,096,169,021,141,024,1618 1290 DATA 208,169,151,141,000,221,173,017,	<170>
N	<051>	208,041,223,141,017,208,096,169,2183	<170>
518 PRINT"{3D0WN>DATA-ZEILE FEHLT!!"	<166>	1300 DATA 204,133,255,160,000,132,254,162,	
519 PRINT"ODER ZEILENNUMMERN DER DATA-ZEIL EN NICHT"	<191>	004,173,253,203,010,010,010,010,1973 1310 DATA 013,254,203,145,254,136,208,251,	<232>
520 PRINT"IN ZEHNER ABSTAENDEN":END	<101>	230,255,202,208,246,096,169,217,3087	<129>
521 :	<245>	1320 DATA 141,018,208,173,017,208,041,127,	
522 :	<246>	141,017,208,169,001,141,026,208,1844	<006>
523 :	<247>	1330 DATA 096,169,000,141,026,208,096,166,	
530 IF S=ZI THEN 539 531 PRINT"<3D0WNlDATENANZAHL IST FALSCH":P	<248>	122,202,232,142,242,203,162,255,2462 1340 DATA 142,251,203,142,250,203,238,250,	<221>
RINT:PRINT"DAS WAERE RICHTIG s";ZI-AN	<078>	203,174,250,203,189,127,194,240,3259	<094>
532 PRINT:PRINT"IHRE DATENANZAHL :";S-AN 537 END	<083> <031>	Listing 1. Turtle-Grafik. Beachten Sie bitte die Eingabehinweise auf Seite 16.	
Grafik
C 64
1350 DATA 033,016,243,238,251,203,172,242, 203,136,200,185,000,002,141,249,2514	<170>
1360 DATA 203,232,189,127,194,056,237,249, 203,240,239,201,128,240,019,076,2833 <114> 1370 DATA 038,194,174,242,203,189,000,002, 240,007,201,058,240,188,232,208,2416 <078> 1380 DATA 244,096,174,242,203,173,251,203, 024,105,208,157,000,002,232,200,2514 <184> 1390 DATA 185,000,002,157,000,002,240,218, 232,200,208,244,076,082,194,200,2240 <137> 1400 DATA 072,073,082,069,211,077,079,086, 197,067,076,069,065,210,087,073,1593 <153> 1410 DATA 078,068,079,215,080,076,079,212, 077,079,068,197,068,069,199,082,1726	<190>
1420 DATA 069,086,069,082,211,076,084,085, 082,206,082,084,085,082,206,067,1656	< 095>
1430 DATA 079,076,079,210,071,076,079,065, 196,071,083,065,086,197,074,079,1586 <050>
1440 DATA 089,083,084,073,067,203,076,080, 069,206,072,069,076,208,000,239,1694	< 040>
1450 DATA 194,205,197,095,195,084,199,073, 196,118,196,147,197,163,197,128,2584	<191>
1460 DATA 198,144,198,165,198,036,199,223, 198,161,199,059,200,053,199,032,2462 <222>
1470 DATA 158,183,224,000,240,054,032,121, 000,240,040,032,253,174,032,158,1941	<180 >
1480 DATA 183,224,016,144,003,076,106,195, 142,254,203,032,223,193,032,121,2147	<124>
1490 DATA 000,240,016,032,253,174,032,158, 183,224,016,144,003,076,106,195,1852 <221>
1500 DATA 142,032,208,032,185,193,032,249, 195,076,174,167,032,121,000,240,2078 <153>
1510 DATA 037,032,253,174,032,158,183,224, 016,144,003,076,106,195,142,033,1808	<159>
1520 DATA 208,032,121,000,240,016,032,253, 174,032,158,183,224,016,144,003,1836	<025>
1530 DATA 076,106,195,142,032,208,032,017, 194,032,204,193,076,174,167,208,2056 <019>
1540 DATA 012,032,163,193,032,223,193,076, 174,167,162,014,044,162,011,032,1690 <149>
1550 DATA 204,193,076,055,164,096,173,241, 203,201,003,240,248,174,246,203,2720	< 239 >
1560 DATA 138,074,074,041,254,168,185,015, 196,141,244,203,185,016,196,141,2271	<047>
1570 DATA 245,203,138,041,007,024,109,244, 203,141,244,203,173,247,203,041,2466	<079>
1580 DATA 248,141,243,203,173,244,203,133, 252,024,169,224,109,245,203,133,2947 <000>
1590 DATA 253,024,165,252,109,243,203,133, 252,165,253,109,248,203,133,253,2998	<152>
1600 DATA 173,247,203,041,007,073,007,170, 189,065,196,160,000,120,162,052,1865	<096>
1610 DATA 134,001,174,241,203,240,008,224, 001,240,014,224,002,240,019,017,1982 <250>
1620 DATA 252,145,252,169,055,133,001,088, 096,073,255,049,252,145,252,076,2293	<232 >
1630 DATA 227,195,081,252,145,252,076,227, 195,169,000,141,248,203,141,241,2793	<116>
1640 DATA 203,141,240,203,169,160,141,247, 203,169,100,141,246,203,096,000,2662	<004>
1650 DATA 000,064,001,128,002,192,003,000, 005,064,006,128,007,192,008,000,800	<025 >
1660 DATA 010,064,011,128,012,192,013,000, 015,064,016,128,017,192,018,000,880	<035>
1670 DATA 020,064,021,128,022,192,023,000, 025,064,026,128,027,192,028,000,960	<149>
1680 DATA 030,001,002,004,008,016,032,064, 128,032,235,183,224,200,176,035,1370 <090>
1690 DATA 165,021,201,001,144,008,208,027, 165,020,201,064,176,021,120,142,1684	<135>
1700 DATA 246,203,165,020,141,247,203,165, 021,141,248,203,088,032,118,195,2436 <219>
1710 DATA 076,174,167,076,106,195,032,158, 183,224,004,144,003,076,106,195,1919 <007>
1720 DATA 142,241,203,076,174,167,032,023, 194,166,122,160,004,132,015,189,2040 <095>
1730 DATA 000,002,141,249,203,041,240,201, 208,208,006,173,249,203,076,232,2432	<117>
1740 DATA 196,173,249,203,016,007,201,255, 240,062,232,208,226,201,032,240,2741	<242>
1750 DATA 055,133,008,201,034,240,086,036, 015,112,045,201,063,208,004,169,1610 <248>
1760 DATA 153,208,037,201,048,144,004,201, 060,144,029,132,113,160,000,132,1766 <022>
1770 DATA 011,136,134,122,202,200,232,189, 000,002,056,249,158,160,240,245,2336 <244>
1780 DATA 201,128,208,048,005,011,164,113,
232,200,153,251,001,185,251,001,2152	<186>
1790 DATA 240,054,056,233,058,240,004,201, 073,208,002,133,015,056,233,085,1891	<108>
1800 DATA 208,141,133,008,189,000,002,240,
223,197,008,240,219,200,153,251,2412 <110> 1810 DATA 001,232,208,240,166,122,230,011,
200,185,157,160,016,250,185,158,2521	<046>
1820 DATA 160,208,180,189,000,002,016,190,
076,009,166,032,115,000,041,240,1624 <101> 1830 DATA 201,208,240,009,032,121,000,032,
237,167,076,174,167,032,121,000,1817 <081> 1840 DATA 041,015,010,168,185,208,194,133,
167,185,207,194,133,166,032,115,2153 <053> 1850 DATA 000,108,166,000,016,052,201,255, 240,048,036,015,048,044,141,249,1619 <026> 1860 DATA 203,041,240,201,208,208,038,173,
249,203,041,015,170,232,132,073,2427	< 064 >
1870 DATA 160,255,200,185,127,194,016,250,
202,208,247,200,185,127,194,048,2798	< 010 >
1880 DATA 006,032,071,171,076,123,197,076,
239,166,076,243,166,173,249,203,2267	<161>
1890 DATA 076,036,167,032,158,183,224,008, 144,003,076,106,195,142,240,203,1993 <203> 1900 DATA 076,174,167,208,037,162,032,169,
224,133,255,160,000,132,254,120,2303 <232> 1910 DATA 169,052,133,001,177,254,073,255,
145,254,136,208,247,230,255,202,2791	<027>
1920 DATA 208,242,169,055,133,001,088,076,
174,167,076,109,195,032,138,173,2036 <190> 1930 DATA 032,247,183,166,020,240,008,032,
236,197,198,020,076,211,197,166,2229	<240>
1940 DATA 021,240,006,198,021,198,020,208,
234,076,174,167,173,240,203,240,2419 <185> 1950 DATA 029,201,002,240,034,201,004,240, 039,201,006,240,044,201,001,240,1923 <018> 1960 DATA 010,201,003,240,015,201,005,240, 020,208,027,032,047,198,032,093,1572 <186> 1970 DATA 198,076,118,195,032,067,198,032, 047,198,076,118,195,032,056,198,1836 <019> 1980 DATA 032,067,198,076,118,195,032,093, 198,032,056,198,076,118,195,173,1857	<233>
1990 DATA 246,203,240,067,206,246,203,096, 173,246,203,201,199,176,056,238,2999	<144>
2000 DATA 246,203,096,173,248,203,208,009,
173,247,203,240,042,206,247,203,2947	< 094 >
2010 DATA 096,173,247,203,208,003,206,248, 203,206,247,203,096,173,248,203,2963 <013> 2020 DATA 208,009,238,247,203,208,003,238, 248,203,096,174,247,203,232,224,2981	<068>
2030 DATA 064,176,004,142,247,203,096,173,
237,203,208,003,076,106,195,096,2229 <144> 2040 DATA 032,158,183,138,024,109,240,203,
041,007,141,240,203,076,174,167,2136 <006> 2050 DATA 032,158,183,142,249,203,173,240,
203,056,237,249,203,041,007,141,2517 <189> 2060 DATA 240,203,076,174,167,032,158,183,
224,016,176,048,142,253,203,032,2327	< 201>
2070 DATA 223,193,032,121,000,240,034,032,
253,174,032,158,183,224,016,176,2091	<028>
2080 DATA 027,142,254,203,032,223,193,032, 121,000,240,013,032,253,174,032,1971	<090>
2090 DATA 158,183,224,016,176,006,142,032, 208,076,174,167,076,106,195,120,2059 <213> 2100 DATA 169,052,133,001,162,032,160,000, 132,254,132,166,169,224,133,255,2174 <096> 2110 DATA 169,160,133,167,177,254,145,166,
136,208,249,230,255,230,167,202,3048 <222> 2120 DATA 208,242,169,055,133,001,088,032,
212,225,162,000,160,192,134,254,2267 <185> 2130 DATA 169,160,133,255,169,054,133,001,
169,254,032,216,255,169,055,133,2357 <028> 2140 DATA 001,076,174,167,032,212,225,169, 000,133,185,162,000,160,224,032,1952 <069> 2150 DATA 213,255,076,174,167,208,026,160,
000,185,128,194,240,016,016,007,2065 <040> 2160 DATA 041,127,032,210,255,169,013,032,
210,255,200,076,057,199,076,174,2126 <187> 2170 DATA 167,076,109,195,032,158,183,224, 000,240,006,032,254,193,076,174,2119 <033> 2180 DATA 167,032,017,194,076,174,167,072,
165,154,201,003,208,008,104,201,1943 <209> 2190 DATA 135,240,006,076,022,231,076,213,
241,142,249,203,166,212,208,027,2447 <072> 2200 DATA 166,216,208,023,152,072,169,021,
133,214,169,000,133,211,032,108,2027	<011>
2210 DATA 229,104,168,174,249,203,169,135,
Listing 1. Turtle-Grafik (Fortsetzung)
74
C 64
Grafik
	024,088,096,174,249,203,076,022,2363	<034>
2220	DATA 231,032,158,183,232,142,239,203, 169,001,141,237,203,165,203,201,2740	<254>
2230	DATA 003,208,008,169,000,141,237,203, 076,174,167,169,000,141,238,203,2137	<055>
2240	DATA 173,000,220,041,001,208,009,032, 047,198,032,034,200,238,238,203,1874	<076>
2250	DATA 173,000,220,041,002,208,009,032, 056,198,032,034,200,238,238,203,1884	<135>
2260	DATA 173,000,220,041,004,208,009,032, 067,198,032,034,200,238,238,203,1897	<225>
2270	DATA 173,000,220,041,008,208,009,032, 093,198,032,034,200,238,238,203,1927	<075>
2280	DATA 173,238,203,208,168,032,011,200, 076,173,199,173,241,203,072,169,2539	<214>
2290	DATA 002,141,241,203,032,118,195,032, 047,200,032,118,195,104,141,241,2042	<236>
2300	DATA 203,096,173,000,220,041,016,208, 226,032,118,195,076,047,200,172,2023	<028>
2310	DATA 239,203,162,100,202,208,253,136, 208,248,096,240,003,076,109,195,2678	<096>
2320	DATA 165,203,201,003,208,003,076,174, 167,173,020,208,056,233,050,144,2084	<087>
2330	DATA 239,201,200,176,235,141,246,203, 173,019,208,056,233,035,144,224,2733	<233>
2340	DATA 010,141,247,203,144,007,201,064, 176,214,169,001,044,169,000,141,1931	<006>
2350	DATA 248,203,173,141,002,041,004,240, 012,032,118,195,032,093,198,032,1764	<040>
2360	DATA 118,195,076,064,200,173,241,203, 072,169,002,141,241,203,032,118,2248	<140>
2370	DATA 195,032,118,195,104,141,241,203, 076,064,200,255,255,255,255,249,2838	<071>
63000 DATA -100:RETURN © 64^er Listing 1. Turtle-Grafik (Schluß)		<076>
Listing 2. Demo-Programm zur Turtle-Grafik
0 REM T U R T L E D E M 0
1 REM BY PETER MENKE
2 :
3 HIRES l,0,0:COLOR15:CLEAR
4 :
10 REM ROBOTER-KOPF
20 PLOT 120,160
30 DEG 2:MOVE 10
40 DEG 0:MOVE 30
50 DEG 2sMOVE 10
55 DEG 4:M0VE 40
60 DEG 2sM0VE 100
65 DEG 0:MOVE 100
70 DEG 6;M0VE 100
90 DEG 4sM0VE 40
100 DEG 6sM0VE 10
110 DEG 0:MOVE 30
120 DEG 6sM0VE 10
121 :
122 REM LINKES OHR
130 PLOT 110,105
140 DEG 4:M0VE 15
150 DEG 2sM0VE 30
160 DEG 0:MOVE 15
161 s
162 REM RECHTES OHR
170 PLOT 210,105
180 DEG 0:MOVE 15
190 DEG 2sMOVE 30
200 DEG 4:M0VE 15
201 :
202 REM MUND
210 PLOT 130,120
220 DEG 6:MOVE 10
230 DEG 0:MOVE 60
240 DEG 2:M0VE 10
241 s
242 REM NASE
250 PLOT 152,100
260 DEG 0:MOVE 16
270 DEG 3sM0VE 8
280 DEG 4zM0VE 1
290 DEG 5sM0VE 8
291 s
292 REM LINKES AUGE
293 PLOT 130,60sDEG 0
295 F0RT=lT04
300 MOVE 15
310 RTURN2
320 NEXT
330 :
340 REM RECHTES AUGE
350 PLOT 190,60:DEG 6
360 F0RT=lT04
370 MOVE 15
380 RTURN 2
390 NEXT
400 :
410 WINDOW l:PRINT"UB	T U R T L
E D E M 0"
420 PRINT".«	BY PETER MENKE"
430 FORI=0TO4000:NEXT
440 WINDOW 0
450 :
460 :
461 REM SPIRALE
470 HIRES l,2,2:C0L0R 0:CLEAR:PLOT 160,1 00
480 F0RI=lT066
490 LTURN 1
500 MOVE I
510 NEXT
511 FORI=lTO1000:NEXT
520 :
530 :
540 REMVIERECK—SPIRALEN
541 CLEAR:COLOR1
550 HIRES l,2,2:FORI=lTO200STEP2
560 RTURN 2sM0VE I:NEXT
561 PLOT 160,100
570 F0RI=lT0195STEP2
580 LTURN 2:M0VE I:NEXT
590 PLOT 160,100
600 F0RI=lT0195
610 RTURN 2sM0VE I:NEXT
620 :
630 :
640 REM MUSTER
641 HIRESl,5,5:CLEAR:COLOR0
650 F0RI=lT045
660 FORX=0TO7
670 RTURNX
671 MOVE I
680 NEXTX
700 NEXT
710 s
720 HIRESl,5,5
730 FORI=lTO45
740 FORX=0TO7
750 LTURNX
761 MOVEI
780 NEXTX
790 NEXT
800 FORI=lTO2000sNEXT
810 :
820 :
Listing 2. Demo-Programm zur Turtle-Grafik (Fortsetzung)
Grafik
C 64
830 REM PYRAMIDEN	1150 MOVE I
840 HIRESl,6,6sCLEARsC0L0R15	1160 FORX=lTO10
850 F0RI=lT033	1170 RTURN X:MOVE XsNEXTX,I,Y
860 FORX=0TO7	1181 :
870 DEG X	1182 :
871 MOVE I	1183 REM JOYSTICK ZEICHNEN
880 NEXTX	1184 HIRES l,10,10sCOLOR0:CLEAR
900 NEXT	1185 WINDOW1
910 : 930 F0RI=lT033	1186 PRINT"C3I	JOYSTICK-ZEICHNEN (PORT 2) H
940 FORX=0TO7	1187 PRINT“	WEITER MIT F7"
950 DEG 7-X	1188 J0YSTICK5
961 MOVE I	1189 :
980 NEXTX	1190 :
990 NEXT	1191 REM LIGHTPEN ZEICHNEN
991 F0RI=lT08:REVERS	1192 HIRES l,l,lsCOLOR0sCLEAR
992 FORX=lTO500:NEXT	1193 WINDOW1
993 NEXT 1000 :	1194 PRINTMI	LIGHTPEN-ZEICHNEN (PORT 1) "
1010 :	1195 PRINT”	WEITER MIT F7"
1011 REM INVERSES MUSTER	1196 LPEN
1020 HIRES7,7sC0L0R 0:CLEAR	1197 :
1030 F0RY=lT04:HIRES l:MODE 2	1198 :
1040 FORI=lTO100	1200 REM ZUFALL
1050 MOVE I	1210 HIRES l:CLEAR;COLOR 1,9,9
1060 F0RX=lT07	1^220 WINDOW 1
1070 LTURN X:MOVEX:NEXTX,I,Y	1230 PRINT”12«ZUFALLSMUSTER
1080 s	1240 PRINT"SCHLUSS MIT RUN/STOP-TASTE
1090 : 1111 REM STRICH-MUSTER	1250 DEG RND(l)*8;M0VE l:GOTO1250
1120 HIRESl,8,8:C0L0R 0:CLEAR 1130 F0RY=lT04:HIRES l:M0DE2	READY.
1140 F0RI=lT045	Listing 2. Demo-Programm zur Turtle-Grafik (Schluß)
HI-EDDI Druckerroutinen
Jetzt kommen auch Besitzer von Commodore-Druckern in den Genuß, HI-EDDI-Bilder ausgeben zu können.
Welcher64'er-Leserkenntihnnicht-den HI-EDDI, dasfan-tastische Zeichen- und Malprogramm. Jeder der einen Epson oder dazu kompatiblen Drucker besitzt, kommt sogar in den Genuß der ausgezeichneten Hardcopy-Funktion. Jetztfolgen Anpassungen für Drucker anderer Hersteller, für die Commo-dore-DruCker MPS 801/802/803 und kompatible.
HI-EDDI für MPS 802 und kompatible
Ich begann nach Überwindung meiner Abneigung gegen stundenlanges Tastenklopfen HI-EDDI abzutippen. Nach den ersten Tests dieses fantastischen Zeichen- und Malprogramms, bereute ich es aber nicht mehr mich dieser Tortur unterzogen zu haben. Doch mußte ich als Besitzer eines MPS-802-Druckers feststellen, was ist HI-EDDI ohne Superhardcopy?
Die Antwort darauf veranlaßte mich dazu, die Anregung in der Funktionsbeschreibung aufzugreifen und eine Lösung für einen anderen Drucker zu suchen. Gesagt — getan, hier ist mein Lösungsvorschlag für den Commodore MPS-802 (Listing 1).
Die Druckerroutine hat dieselben Eigenschaften wie die von Hans Haberl geschriebene Routine für Epson-Drucker. Daher kann auf eine Funktionsbeschreibung verzichtet werden. Ich hoffe, daß der Ausdruckvon HI-EDDI-Grafikbildern mit diesem Programm auf allen Versionen des Commodore 1526/MPS-802 Druckers funktioniert. Bei meinerAusführung (REV 07C) konnte ich bis jetzt keine Fehler feststellen.
(Franz llletschko/ah)
HI-EDDI für MPS 801/803 und kompatible
Eine Lösung für den Commodore MPS 801/803 schickte uns Florian Kulzer (Listing 2). Auch hier braucht am HI-EDDI selbst nichts verändert zu werden. Die Hardcopy wird mit den Tasten »Commodore« und »P« gestartet.
Allerdings ist mit diesem Programm das Nebeneinanderdrucken zweier Bilder nicht möglich. Ausgegeben wird immer eine Hardcopy des aktuellen Bildschirms. Daher können die Fragen nach Nummer und Format der Hardcopy beliebig beantwortet werden. (Florian Kulzer/ah)
76
C 64
Grafik
programm : hi-print 0d00 0f9c
0d00 : 85 5b 0d08 : 20 08 0dl0 : 06 20 0dl8 : ff a9 0d20 : 20 c9 0d28 : a9 69 0d30 : 0e a5 0d38 : 0e a5 0d40 : 13 0e 0d48 : 29 c0 0d50 : 4a 29 0d58 : a9 00 0d60 : 03 20 0d68 : 29 a2 0d70 : bd 3e 0d78 : 08 d0 0d80 : a2 64 0d88 : a9 fe 0d90 : d2 ff 0d98 : 5e 90 0da0 : f0 3f 0da8 : c9 28 0db0 : f0 18 0db8 : 86 5e 0dc0 : 86 5f 0dc8 : d0 92 0dd0 : 0d 20 0dd8 : 3c 03 0de0 : 0d a9 0de8 : 20 c9 0df0 : a2 64 0df8 : d2 ff 0e00 : cc ff 0e08 : 20 ba 0el0 : 4c c0 0el8 : f0 03 0e20 : 5c 8d 0e28 : 10 fb 0e30 : 85 01 0e38 : e8 e0 0e40 : 60 a0 0e48 : 90 0a 0e50 : 9d 3e 0e58 : ee 46 0e60 : a9 37 0e68 : 8a dd 0e70 : 08 d0 0e78 : 3d 03 0e80 : d2 ff 0e88 : 29 07 0e90 : 5f a9 0e98 : 59 85 0ea0 : 4a e8 0ea8 : 8d 3d 0eb0 : f0 11 0eb8 : 0a 0a 0ec0 : 08 d0 0ec8 : 0e a2 0ed0 : 03 e8 0ed8 : 0f f0 0ee0 : a2 00 0ee8 : bd 46 0ef0 : 04 d0 0ef8 : a2 64 0f00 : a9 fe
a9 64 a2 04 0e a9 6a a2 08 0e a2 6a 14 20 d2 ff ff a9 8d 20 a2 04 a0 05 5b 0a 90 03 5b 29 07^2 a9 14 85 fb f0 10 a5 5b 07 a2 00 20 85 fb a9 00 2d 0e 20 66 69 20 c9 ff 03 20 d2 ff f5 a9 0d 20 20 c9 ff 20 20 d2 ff a9 18 a5 5e 69 02 e6 5f 20 ee 3d 03 ad d0 b5 a5 5b a5 5e a6 5c a5 5f a6 5d a5 fb 49 28 a2 64 20 c9 d2 ff ee 3c c9 19 f0 03 69 20 c3 ff ff a9 24 20 20 c9 ff a9 a9 6a 20 c3 a9 64 20 c3 ff a9 00 20 ff a0 06 d9 88 d0 f8 a9 3c 03 18 69 95 5d 60 78 a2 00 8a 9d 08 d0 f8 a9 00 bl 5e a2 48 bd 3e 03 03 68 e8 e0 60 c8 c0 08 85 01 58 60 3e 03 d0 05 f6 60 18 a5 aa f0 08 a9 ca d0 fa 60 a2 00 20 13 00 85 5e 85 5a a9 c0 95 e0 04 d0 f7 03 20 2d 0e a2 00 bd 3e 0a 9d 3e 03 fl 20 62 0f 00 bd 4a 03 e0 04 d0 f5 2f a2 69 20 bd 46 03 20 03 20 d2 ff ef a9 0d 20 20 c9 ff 20 20 d2 ff a9
a0 00 f7 04 a0 f2 20 c9 7c a2 64 75 d2 ff 7f 20 08 72 4c 86 88 02 20 e3 a5 5b cd 4a 4a 02 13 0e ae 8d 3d 2d 0e f0 d0 a2 00 68 e8 e0 a4 d2 ff b8 74 0e 84 8d 20 d6 08 85 79 el ff la 3d 03 2c 29 c0 cb 85 5c fe 85 5d e9 85 fb c2 ff a9 ba 03 ad da 4c 5c 3c a2 6a bc d2 ff b0 8d 20 c9 ff 20 e2 ff 60 a4 bd ff b2 96 lf 98 00 95 ce 20 88 11 a9 34 20 3e 03 73 80 85 96 00 0a 36 05 60 78 08 d0 32 d0 e3 f2 a2 00 39 e8 e0 6b fb 6d 23 20 20 8e a5 5b le 0e 85 bb fb 85 82 fc 4a cl a9 00 8a a5 5a 27 03 0a bf e8 e0 5f 4c d6 2e 9d 46 9f 20 8d 58 c9 ff 3e d2 ff 37 e8 e0 20 d2 ff aa 74 0e fc 8d 20 4e
0f08	:	d2	ff	20	el	ff	d0	03	4c	49 0fl0	:	el	0d	ee	3d	03	a5	59	49	30 0fl8	s	08	85	59	d0	ac	18	a5	5e	32 0f20	:	69	08	85	5e	90	02	e6	5f	2e 0f28	:	ad	3d	03	c9	50	f0	03	4c	9f 0f30	:	ab	0e	a2	64	20	c9	ff	a9	bb 0f38	:	0d	20	d2	ff	a5	5a	49	19	8e 0f40	:	85	5a	a5	5e	a6	5c	85	5c	44 0f48	:	86	5e	a5	5f	a6	5d	85	5d	79 0f50	:	86	5f	ee	3c	03	ad	3c	03	5e 0f58	:	c9	32	f0	03	4c	a6	0e	4c	a2 0f60	:	el	0d	a9	00	aa	a8	9d	46	25 0f68	:	03	e8	e0	08	d0	f8	aa	b9	0b 0f70	:	3e	03	0a	90	0b	48	18	b9	8b 0f78	:	46	03	75	fc	99	46	03	68	e5 0f80	:	e8	e0	04	d0	ed	a2	00	c8	79 0f88	:	c0	08	d0	e3	60	a2	00	8a	2d 0f90	:	dd	46	03	d0	05	e8	e0	04	8e 0f98	:	d0	f6	60	00	ff	ff	ff	ff	fb Listing 1. HI-EDDI und MPS 802. Bitte beachten Sie die Eingabehinweise auf Seite 18.
programm : hi-print	0d00 0e22 0d00 :	a9	7f	a2	04	a0	00	20	ba	92 0d08 :	ff	20	c0	ff	a2	7f	86	67	56 0dl0 :	20	c9	ff	a9	ff	85	61	a9	4f 0dl8 :	07	85	fd	a9	lc	85	97	a9	36 0d20 :	00	8d	12	0e	a9	28	8d	14	67 0d28 :	0e	a2	04	bd	b6	0d	20	d2	3a 0d30 :	ff	ca	10	f7	a9	00	85	63	0f 0d38 :	85	64	ad	12	0e	85	65	a9	93 0d40 :	00	85	fe	a5	63	a6	64	a4	bd 0d48 :	65	20	bb	0d	a0	00	bl	ac	78 0d50 :	a6	fe	9d	16	0e	e6	65	e8	lf 0d58 :	86	fe	e4	fd	d0	e5	a9	00	39 0d60 :	a0	07	a6	fd	le	16	0e	2a	0c 0d68 :	ca	10	f9	25	61	09	80	20	fe 0d70 ;	d2	ff	88	10	ed	a5	63	18	30 0d78 :	69	08	85	63	90	02	e6	64	31 0d80 :	ce	14	0e	d0	b5	a9	0d	20	13 0d88 :	d2	ff	ad	12	0e	18	69	07	5d 0d90 :	8d	12	0e	c6	97	f0	03	4c	28 0d98 :	24	0d	a9	04	c5	fd	f0	0c	56 0da0 :	85	fd	a9	01	85	97	a9	0f	88 0da8 :	85	61	d0	eb	a9	0f	20	d2	c9 0db0 :	ff	a9	7f	4c	cc	ff	50	00	fb 0db8 :	10	lb	08	85	14	86	15	98	04 0dc0 :	4a	4a	4a	aa	bd	f4	0d	85	da 0dc8 :	ad	8a	29	03	aa	bd	0e	0e	52 0dd0 :	85	ac	98	29	07	18	65	ac	17 0dd8 :	85	ac	a5	14	29	f8	85	63	d6 0de0 :	a9	20	05	ad	85	ad	18	a5	02 0de8 :	ac	65	63	85	ac	a5	ad	65	4a 0df0 :	15	85	ad	60	00	01	02	03	55 0df8 :	05	06	07	08	0a	0b	0c	0d	07 0e00 :	0f	10	11	12	14	15	16	17	0e 0e08 :	19	la	lb	lc	le	lf	00	40	d4 0el0 :	80	c0	al	00	11	00	00	00	6a 0el8 :	00	80	00	00	00	00	00	ff	58 0e20 :	00	ff	02	c8	cc	00	02	90	af Listing 2. HI-EDDI und MPS 801. Bitte beachten Sie die Eingabehinweise auf Seite 18.
Hi-EDDI auf Star SG-10
Betrifft: Anpassung der Original-Druckerroutine HI-PRINT von Al-EDDI an den SG-10 von Star.
Folgende Änderungen müssen an der Druckerroutine vorgenommen werden:
460 DATA 4: REM Direktkanal
550 DATA 27,51,15,255,255: REM Zeilenabstand 15/144 Inch
580 DATA 27,103,4,255,255: REM Grafikmodus 4
In dieser Betriebsart werden Kreise in Y-Richtung etwas gedehnt. Wer auf den Ausdruck zweier Bilder nebeneinander und auf Großbilder verzichtet, sollte folgende Werte eingeben (Zeile 460 muß natürlich trotzdem geändert werden):
550 DATA 27,51,16,255,255: REM Zeilenabstand 16/144 Inch
580 DATA 27,103,5,255,255: REM Grafikmodus 5
Dafür werden Kreise auch als Kreise dargestellt. Wenn man breiteres Papier als A4 verwendet, kann man auch zwei Bilder nebeneinander und Großbilder drucken. Der Drucker muß auf Star-Betriebsart eingestellt sein (siehe Handbuch). Der User-Port kann weiterhin als Parallelschnittstelle verwendetwerden.
(Kurt Reiter/tr)
Ergänzen Sie jetzt lhrejE
■Sammlung!
S<haffen Sie si<h ein interessantes Na<hs<hlaqewerk und glei<hzeitig ein wertvolles Archiv!
Kennen Sie alle Ausgaben von 64’er? Suchen Sie einen ganz bestimmten Testbericht? Oder haben Sie einen Teil eines interessanten Kurses versäumt? Suchen Sie nach einer speziellen Anwendung?
Damit Sie jetzt fehlende Hefte mit »Ihrem« Artikel nachbestellen können, finden Sie auf diesen Seiten eine Zusammenstellung aller wesentlichen Artikel von Ausgabe 4/84 bis Ausgabe 3/85.
Und so kommen Sie schnell an die noch lieferbaren Ausgaben: Prüfen Sie, welche Ausgabe in Ihrer Sammlung noch fehlt, oder welches Thema Sie interessiert. Tragen Sie die Nummer dieser Ausgabe und das Erscheinungsjahr (z.B. 2/85) auf dem Bestellabschnitt der hier eingehefteten Bestell-Zahlkarte ein. Die ausgefüllte Zahlkarte einfach heraustrennen und Rechnungsbetrag beim nächsten Postamt einzahlen. Ihre Bestellung wird nach Zahlungseingang umgehend zur Auslieferung gebracht.
Stichwort	Titel	-	Seite	Ausgabe
	AktueU		
Computer	Die neuen — 264 und 364 (von der CES in Las Vegas) Heiße Messe in der Wüste: CES (PC 128, PC 10,	9	4/84
DFÜ	Commodore LCD)	8	3/85
	Datex-P und ausländische Netzwerke	59	10/84
	Informationen zur Datenfernübertragung	8	11/84
	Interessant bis brisant — die elektronischen Briefkästen	10	12/84
	Internationaler Chaos Communiction Congress	15	3/85
	Kreatives Chaos (Interview mit dem CCC)	12	10/84
	MCI Mail: die schnelle Post	8	2/85
Floppy	Neues 1451-Laufwerk	14	3/85
	SFD 1002	8	9/84
Messen	Commodore Fachaustellung in Frankfurt	10	11/84
	Consumer Electronics Show in Chicago	10	8/84
	Die Neuigkeiten von der Hannover Messe ’84	8	6/84
Musik	Musikneuigkeiten aus den USA — MIDI	44	9/84
Raub-	Der Sumpf	12	6/84
kopierer	Listings zum Abtippen		
	Anwendung		
Abtippen	Checksummer (C 64 und VC 20)	72	1/85
	Checksummer (C 64 und VC 20)	65	2/85
	MSE — Abtippen sicher und leicht gemacht	68	2/85
	MSE — Abtippen sicher und leicht gemacht	78	3/85
	Neuer Checksummer 64 — blitzschnell und kürzer	68	3/85
DFU	Mailboxprogramm für den C 64	114	9/84
	Terminalprogramm für den C 64	24	7/'84
Datei	Adreß- und Telefonregister	64	5/84
	Relative Programm-Datei ^C 20)	69	5/84
EPROM	Datenbrennerei: Wie programmiere ich EPROMs?	162	9/84
Familie	Familienplanung mit dem VC 20 (AdM)	52	2/85
Finanzen	Abgerechnet wird mit dem C 64 (AdM)	68	8/84
	Menügesteuerte Finanzmathematik (AdM)	68	10/84
Floppy	Der Softwarekatalog für Ihre Programme	72	7/84
	Drucker/Floppy ein- oder ausgeschaltet?	77	8/84
	Hypra-Load: Schnelles Laden von Diskette (LdM)	67	10/84
Kalender	Elekronisches Notizbuch 07C 20)	50	4/84
Lehrer	Lehrerkalender (AdM)	64	6/84
Lern-	Russische Vokabeln (nur auf Disk)	76	7/84
programme Maske	Bildschirmasken schnell erstellt	78	9/84
Mathematik	Mathematical-Basic: Das Super-Basic für den VC 20 (LdM)	50	12/84
Monitor	Ohne gutes Werkzeug geht es nicht: SMON (Teil 1)	60	11/84
	Ohne gutes Werkzeug geht es nicht: SMON (Teil 2)	61	12/84
	Ohne gutes Werkzeug geht es nicht: SMON (Teil 3)	69	1/85
	Ohne gutes Werkzeug geht es nicht: SMON (Teil 4)	72	2/85
Morsen	Kurz - lang - kurz: kein Problem	72	6/84
Musik	Die Musik macht der C 64: Elektronikorgel (AdM)	70	9/84
	Musik, Musik, Musik: Synthesizer (AdM)	51	12/84
Schach	Schachmeister (AdM)	50	11/84
Sport	Computer und Sport — Auswertung von DMM-Ereignissen	56	4/84
	Der C 64 als HandbaUtrainer (AdM)	52	1/85
	Gut Ziel mit dem C 64 (AdM)	52	3/85
	Ohne Organistaion kein Tor: Ligatab (LdM)	50	3/85
Strubs	Das erste Strubs-Listing fVC 20)	85	7/84
Super 8	VC 20 steuert Super 8-Kamera	70	2/85
Textverar-	Ouicktext — Textverarbeitung zum Abtippen	60	6/84
beitung User-Port	Analoger Meßwert rein — analoger SteUwert raus	78	8/84
	Blumen gießen mit dem C 64 (AdM)	82	7/84
	Kopplung über den User-Port 0/C 20)	73	8/84
Video	Video-Vorspann mit dem VC 20	80	10/84
Vokabeln	Supervoc	69	6/84
Zeichensatz	Deutscher Zeichensatz für den VC 20	79	9/84
	Grafik		
Algorithmus	Ein schneller Drawline-Algorithmus	65	4/84
Auflösung	Supergrafik II <VC 20)	73	11/84
	Supergrafik ohne Erweiterungsmodul	81	5/84
Axiometrie	Von allen Seiten betrachtet (SB)	69	12/84
Befehls-	Screen Change	94	9/84
erweiterung Diagramme	Grafische Darstellung statt Zahlenfriedhof(SB)	82	6/84
Elektro-	Elektrotechnisches Zeichnen mit dem VC 20	71	3/85
technik Funktionen	Grafik leicht gemacht	70	11/84
	Kudiplo erfüllt Schülerträume (Kurvendiskussion auf dem VC 20)	80	8/84
Stichwort	Titel	Seite	Ausgabe
	Kurvendiskussion in Hires-Grafik mit Hardcopy	116	7/84
Grafik	Bewegte Grafik und Text mischen	66	12/84
Hardcopy	1520-Hardcopy mit dem VC 20	87	9/84
	Der VC 1525/MPS 802 als Grafikdrucker	83	10/84
	Die mehrfarbige Hardcopy mit dem 1520-Plotter	84	10/84
	Ein eigentlich unmögliches Programm (1526)	74	5/84
	Hardcopy Epson FX-80	88	10/84
	Hardcopy Gemini-10X	85	10/84
	Hardcopy MPS 801/VC 1515	82	10/84
	Hardcopy für den Sieger (FX-80 mit Görlitz-Interface)	83	8/84
	Hardcopy mit dem VC 1520	108	7/84
Joystick	3D-Grafik mit dem Joystick 0/C 20)	78	5/84
KoalaPad	Get Koala Pic	66	11/84
Schnitt-	Olympia compact 2: ein Centronics-Interface	86	10/84
stellen Sprites	Der Super-Sprite-Editor	89	9/84
	Pseudo-Sprites auf dem VC 20	76	11/84
	Sprites ohne Esoterik	74	11/84
	Sprites schneller bewegen	70	4/84
	Vier Pseudo-VICs mit 32 Sprites	76	1/85
Trickfilm	Der VC 20 als Laterna Magica	68	11/84
	Movemaster 0/C 20)	78	6/84
Turtle-Grafik	Turtle-Grafik — Die schnelle Schildkröte (LdM)	48	11/84
Zeichnen	HI-EDDI: Ein fantastisches Zeichen und Malprogramm (LDM)	50	1/85
	Spiel		
Abenteuer	Castle of Doom — Adventure (LdM)	66	8/84
	Das Grab des Pharao (LdM)	51	2/85
Action	Apocalypse now	106	10/84
	Croussaider 0/C 20)	124	7/84
	Ghost Manor 0ZC 20)	104	6/84
	Q + Bert0/C20)	78	2/85
	O-Bernd (LdM)	142	7/84
	Schatzsucher (LdM)	90	5/84
Arcade	Invaders	74	4/84
	Space Invader (nur auf Disk)	81	7/84
Denkspiel	3D-Vier gewinnt — Spielen in der dritten Dimension	96	12/84
	Mastermind als Vierzeiler	81	12/84
	Rätsel — ein Knobelprogramm 0/C 20)	122	7/84
Generator	Spring Vogel, spring (LdM)	68	9/84
Geschick-	In den Untergrund mit dem VC 20 (LdM)	120	6/84
lichkeit Pacman	Pac-Boy — die Herausforderung	89	8/84
	Schmatzer 0/C 20)	76	5/84
Reaktion	Escape 0/C 20)	86	8/84
Simulation	Fahrsimulator	82	5/84
	Hot Wheels	98	6/84
	Rennfahrer ohne Sturzhelm 0/C 20)	86	4/84
Spielhalle	Crown No 1 (nur auf Disk)	80	7/84
Strategie	Schiebung 0/C 20)	77	9/84
Taktik	Epedemic 0/C 20)	112	10/84
	Gehirntraining mit Supermemory	81	2/85
	Kämpfe wie im alten Rom — Caesar	78	4/84
Wettbewerb	Notlandung	156	2/85
	Tips & Tricks		
Absturz	Die Ebenen des Absturzes	92	11/84
Auto	Automatische Zeilennumerierung	84	12/84
Autoboot	Autoboot beim C 64	86	3/85
Autostart	Autostart für den VC 20	98	8/84
	Autostart in Theorie und Praxis	138	7/84
	Der Trick mit dem Autostart	117	6/84
Basic	Basic-Programme stutzen 0/C 20)	85	5/84
	Basic-ZeiIen genau betrachtet	87	2/85
Basic-	PRINT AT und RESTORE N 0/C 20)	101	8/84
Erweiterung	Stringy: C 64-Erweiterung	86	12/84
Buchstaben	Große Buchstaben	89	1/85
Datasette	Fast Tape — die schneHe Kassette 0/C 20)	80	12/84
	Musik aus der Datasette	84	12/84
Direktmodus	Programmierter Direktmodus	82	12/84
Disassembler	Logic Disassembler 0/C 20)	108	6/84
Erweiterung	Betriebssystem-Erweiterung für den VC 20	88	11/84
FRE	Veränderungen am 64-Basic	119	6/84
Floppy	22 Read Error — Theorie und Praxis	41	3/85
	Auf das "1" kommt es an	92	12/84
	Disk Copy	92	4/84
	Diskette intern (Disk-Dump)	95	10/84
	Disketten-Organisation 0/C 20)	97	10/84
	Diskettenzauberei	88	5/84
	Floppy-Lister	82	3/85
Stichwort Titel
Seite Ausgabe
	Hypra-Load mal vier	82	1/85
	Kopieren mit Komfort: Super Copy	102	10/84
	Kopierprogramm für relative Files	132	7/84
	Maschinenprogramme auf Diskette speichern	91	2/85
	View BAM	99	8/84
Funktionen	Kudiplo auf für den C 64 (Kurvendiskussion)	91	10/84
Generator	Dem Springvogel auf die Sprünge geholfen	82	11/84
Grafik	Tips und Erweiterungen zu Hi-Eddi und Simons	88	3/85
	Basic		
	Vom Bildschirm auf Kassette/Diskette	135	7/84
Hex-Data	Hex-DATA-Automat	81	11/84
Interrupt	Unterbrechen Sie mich bitte!	84	11/84
Joystick	Cursorsteuerung leicht gemacht (mit Joystick)	86	2/85
	Joystick-Abfrage in Theorie und Praxis	83	11/84
Listing	Der große Überblick: formatiertes Listing	90	10/84
	Fehlersuche leicht gemacht: LIST-STOP	97	9/84
	Programmiertes LISTing: LIST X-Y	100	10/84
Listschutz	List- und Löschschutz leicht gemacht	85	12/84
Maschinen-	Maschinenprogramme auf Tastendruck	80	12/84
sprache	DATA-Wandler	102	9/84
Merge	Kleben per Software — Merge	94	4/84
Module	Steckmodule auf Kassette 0/C 20)	107	6/84
Monitor	Besseres Monitorbild beim C 64	90	2/85
Opcodes	Hex-ereien: undefinierte Opcodes beim 6502	84	3/85
POKEs	Durch POKEs zum Erfolg — Die Spiele-Trickkiste	83	3/85
	POKE mal wieder: diverse POKEs	91	10/84
Parameter	Parameterübergabe an Programme in Maschinen-	88	1/85
	sprache		
Reset	Reset für den VC 20	116	6/84
	Resetschalter am C 64	34	8/84
Restore	Restore für Unterprogramme	90	1/85
Retten	Erste Hilfe 0/C 20)	88	4/84
	Erste Hilfe für den C 64: RENEW	102	9/84
SYS	Mehr über SYS	131	7/84
Schnitt-	Die RS232-Schnittstelle am VC 20	100	9/84
stellen	Komfortables Treiberprogramm für Centronics-	110	7/84
	Drucker		
	Verbindungsfreundlich 0/C 20)	91	3/85
Scrollen	Als die Bilder laufen lemten ... (Scrollen)	88	2/85
Simons	Befehlserweiterung für Simons Basic	90	11/84
Basic	Haben Sie den Bogen raus? (ARC bei Simons Basic)	98	9/84
	Simons Basic: Befehle die nicht im Handbuch stehen	103	9/84
Speicher	RAM-Floppy	92	2/85
Synthetische	Die Suche nach den Synthetischen	104	9/84
	Synthetische Steuerzeichen	114	6/84
	Synthetische Steuerzeichen (Teil 2)	136	7/84
Tastatur	User-Port-Tastatur (Zehnertastatur)	93	10/84
Tips & Tricks	Diverse	89	10/84
	Diverse Tips & Tricks für den C 64	86	5/84
	Lösung von Dallas Quest	90	1/85
	Tips & Tricks für den C 64	108	4/84
	Tips & Tricks für den VC 20	118	6/84
Trace	Trace und Single Step für Maschinenprogramme	76	12/84
Transfer	Adressenvergleich VC 20-C 64	52	7/84
	Der C 64 als PET	87	1/85
	Die Software-Vielfalt der CBMs für den C 64 nutzen	102	8/84
	Von den Kleinen auf die Großen (C 64 - CBM)	96	8/84
User-Port	User-Port-Display	97	8/84
	User-Port-Tastatur (Zehnertastatur)	93	10/84
Hardware-Test
80-Zeichen-	Mehr Übersicht am Bildschirm 0/C 20)	20	10/84
karten Computer	C 16: Der Nachfolger?	20	6/84
	Ein Wolf im Schafspelz — der 264 (Plus/4)	14	5/84
	Generationswechsel — Test C 16	6	1/85
	Plus und Minus beim Plus/4	14	2/85
	SX 64 im Test	27	4/84
Drucker	Adcomp X100 — farbig plotten und drucken	22	10/84
	Brother HR-5C: fast nicht zu hören	24	10/84
	Commodore-Drucker unter 1000 Mark	20	4/84
	Der Petal MA20 — kleiner Name, großer Drucker	24	11/84
	Die farbig druckende Kreissäge GP-700A	24	5/84
	Drucksympathie (BMC BX100)	26	11/84
	Ein Drucker für alle Fälle: Epson FX-80	23	10/84
	Ein Star der es in sich hat (delta-10)	25	10/84
	Ein starkes Stück (Itoh 8510)	22	11/84
	Olympia electronic compact 2: Schreibmaschine für	28	10/84
	den C 64 Roland DXY-101 — ein Flachbettplotter im	27	10/84
	DIN-A3-Format Seikoshas Größter: Test GP-550A	26	10/84
EPROM	EPROM-Brenner: Vergleichstest	36	8/84
Erweiterun-	KFC-Super — ein Super-Toolkit?	20	5/84
gen Expansions	Expansions über alle Grenzen hinaus	34	4/84
Floppy	Floppy mit Nachbrenner (Speeddos, Turboaccess,	26	12/84
	Computing) MSD-Super-Disk-Drive	14	11/84
Grafik	Grafiktabletts: KoalaPad und SuperSketch	34	11/84
Interface	Das macht den Kleinen größer (64-KByte-Karten)	112	9/84
	0/C 20) Digitalisierte Bilder mit dem C 64	24	1/85
	Speichertuning für VC 20: MR 64	26	1/85
Joystick	Joystick-Vielfalt (20 Joysticks im Test)	34	12/84
Monitore	Die Scharfmacher (Cable, Taxan, BMC)	20	12/84
	Monitor kontra Fernseher (Taxan, 1701, Zenith, Sharp,	16	11/84
Schnitt-	Panasonic) Card/Print + G — Das Allround-Interface (Centronics)	20	3/85
stellen	Centronics-Schnittstellen: Vergleichstest	12	7/84
	Das Interface mit Weitblick 0A/W-92OOO/G: Centronics)	18	3/85
	Hardware-Interface ganz weich: EC-64	23	1/85
	Print 64 — das universelle Interface (Centronics)	24	12/84
Sprachaus-	Die Stimme des Meisters: Voice Master	19	2/85
gabe	Sprachausgabe mit dem SDP 120	22	8/84
Hardware
Bauanleitung	16-KByte-Erweiterung umschaltbar 0/C 20)	20	2/85
	Commodore im neuen Kleid	30	8/84
	Das 30-Mark-Interface (RS232)	29	3/85
	Ihr Akustikkoppler wird zum Modem: Automodem	114	9/84
	Joystick im Selbstbau	33	3/85
	Resetschalter am C 64	34	8/84
	Richtig verbunden — Video/Audio-Kabel für den C64	22	2/85
DFÜ	Akustikkoppler und Modems: Marktübersicht	28	8/84
Datasette	Rund um die Datasette	30	6/84
Drucker	MPS 801 — Ein Erfahrungsbericht	20	8/84
	Marktübersicht: Drucker (Teil 1)	29	10/84
	Marktübersicht: Drucker (Teil 2)	21	11/84
EPROM	Nichts ist ewig (ROM-Change, verbessertes Betriebs-sytem)	30	12/84
Expansion	Expansions — Marktübersicht	18	7/84
Grundlagen	Der serielle Bus des VC 20 und C 64	28	5/84
Monitor	Richtig verbunden — Video/Audio-Kabel für den C64	22	2/85
	Marktübersicht: Schwarzweiß- und Farbmonitore	19	11/84-
Musik	MIDI — Glanz und Elend eines Interfaces	46	9/84
Reparatur	Geheimnissen auf der Spur: 1541 reparieren	24	8/84
Schnitt-	Centronics-Schnittstelle für Epson FX-80 (mit Kabel)	34	6/84
stellen	Erst ein IEC-Bus öffnet Tür und Tor (Marktübersicht und Test)	24	3/85
	Gute Connections (RS232-, Centronics-Marktübersicht)	21	3/85
	Kopplung zwischen zwei VC 20	24	6/84
Stichwort Titel
Seite Ansgabe
Stichwort Titel
Seite Ausgabe
Kurse
Assembler	Assembler ist keine Alchimie (Teil 1)	138	9/84
	Assembler ist keine Alchimie (Teil 2)	150	10/84
	Assembler ist keine Alchimie (Teil 3)	121	11/84
	Assembler ist keine Alchimie (Teil 4)	134	12/84
	Assembler ist keine Alchimie (Teil 5)	142	1/85
	Assembler ist keine Alchimie (Teil 6)	134	2/85
	Assembler ist keine Alchimie (Teil 7)	124	3/85
Codes	Alle Tasten-, Zeichen- und Steuercodes (Teil 1)	114	4/84
	Alle Tasten-, Zeichen- und Steuercodes (Teil 2)	104	5/84
	Alle Tasten-, Zeichen- und Steuercodes (Teil 3)	146	7/84
	Alle Tasten-, Zeichen- und Steuercodes (Teil 4)	151	8/84
Comal	Comal — Eine Einführung (Teil 1)	44	11/84
	Comal — Eine Einführung (Teil 2)	145	12/84
	Comal — Eine Einführung (Teil 3)	130	2/85
Eff. Prog.	Finden mit System — Eine neuartige Suchmethode (Teil 3)	148	3/85
	Müllabfuhr im Computer: Die Garbagge Collection (Teil 1)	122	1/85
	Stringprogrammierung in Maschinensprache (Teil 2)	147	2/85
Floppy	In die Geheimnisse der Floppy eingetaucht (Teil 1)	153	10/84
	In die Geheimnisse der Floppy eingetaucht (Teil 2)	117	11/84
	In die Geheimnisse der Floppy eingetaucht (Teil 3)	139	12/84
	In die Geheimnisse der Floppy eingetaucht (Teil 4)	148	1/85
	In die Geheimnisse der Floppy eingetaucht (Teil 5)	130	3/85
Grafik	Hires 3 (Teil 1)	123	2/85
	Hires 3 (Teil 2)	136	3/85
	Reise durch die Wunderwelt der Grafik (Teil 1)	119	4/84
	Reise durch die Wunderwelt der Grafik (Teil 2)	109	5/84
	Reise durch die Wunderwelt der Grafik (Teil 3)	132	6/84
	Reise durch die Wunderwelt der Grafik (Teil 4)	162	7/84
	Reise durch die Wunderwelt der Grafik (Teil 5)	142	8/84
	Reise durch die Wunderwelt der Grafik (Teil 6)	144	9/84
	Reise durch die Wunderwelt der Grafik (Teil 7)	146	10/84
Grundlagen	Geschwindigkeit durch Maschinencode — so arbeiten Compiler	39	2/85
Musik	Dem Klang auf der Spur (Teil 1)	131	12/84
	Dem Klang auf der Spur (Teil 2)	136	1/85
	Dem Klang auf der Spur (Teil 3)	152	2/85
Precompiler	Strubs — ein Precompiler für Basic-Programme (Teil 1)	110	4/84
	Strubs — ein Precompiler für Basic-Programme (Teil 2)	116	5/84
	Strubs — ein Precompiler für Basic-Programme (Teil 3)	128	6/84
	Strubs — ein Precompiler für Basic-Programme (Teil 4)	154	7/84
Speicher	Memory Map mit Wandervorschlägen (Teil 1)	133	11/84
	Memory Map mit Wandervorschlägen (Teil 2)	132	12/84
	Memory Map mit Wandervorschlägen (Teil 3)	127	1/85
	Memory Map mit Wandervorschlägen (Teil 4)	150	2/85
	Memory Map mit Wandervorschlägen (Teil 5)	144	3/85
VC20	Der gläserne VC 20 (Teil 1)	155	9/84
	Der gläserne VC 20 fTeil 2)	157	10/84
	Der gläserne VC 20 (Teil 3)	126	11/84
	Der gläserne VC 20 (Teil 4)	130	1/85
	Der gläserne VC 20 (Teü 5)	141	2/85
	Der gläseme VC 20 (Teil 6)	155	3/85
	Wie Super ist die Supergrafik? (Supefgrafik 64)	30	11/84
Lern-	Melodienschreiber und Musik-Synhthesizer	43	12/84
programme	Nachhilfe auf Knopfdruck (Mathematik)	26	2/85
	SoftLearning — die weiche Welle des Lernens	40	1/85
	Vokabeltraining mit dem Computer	39	3/85
	Was bringt die Lern-Software?	42	12/84
Mathematik	Nachhilfe auf Knopfdruck (Mathematik)	26	2/85
Musik	Gute Noten für gute Noten: Extendend Synthesizer System	24	9/84
	Melodienschreiber und Musik-Synthesizer	43	12/84
	Music-Composer — Komponieren leicht gemacht	42	9/84
	Musicalc — oder was wirklich im C 64 steckt	29	9/84
	Synthimat — Das Piano für den Aktenkoffer	38	9/84
Programm-	Basic Bär — Ein Programmgenerator	65	7/84
generator Sprachen	Die Turbo-Pascal-Story	40	12/84
	Forth ohne Floppy (C 64 und VC 20)	50	10/8.4
	HES 64 Forth — komfortabler als Basic	66	7/84
	Oxford-Pascal für den Commodore	39	12/84
	Pascal — leistungsfähiger und eleganter als Basic (Teil 2)	44	8/84
	Sechs Pascal-Versionen im Vergleich	50	8/84
Tabellenkal-	Multiplan: Viel zu schade, um nur damit zu	32	11/84
kulation	kalkulieren Calc Result — Dreidimensionale Kalkulation	21	9/84
	VizaStar — Ein Stem wird geboren	38	11/84
Textverarbei-	Bliztext — schnell wie der Blitz?	54	6/84
tung	Homeword — Textverarbeitung zu Hause	36	3/85
	SM-Text 64 — die professionelle Textverarbeitung	48	6/84
	Textomat — Büroanwendung zum kleinen Preis	34	9/84
	Totl-Text — Flexibilität ist Trumpf	38	3/85
	Vizawrite 64 — Der C 64 wird zum PC	43	10/84
	Wordpro 3 plus — Von den Großen auf den Kleinen	52	6/84
Vokabeln	Vokabeltraining mit dem Computer	39	3/85
Software
Audi die bisher erschienen Sonderhefte können Sie jetzt direkt bestellen:
TIPS&TRICKS
(1. Programm-Sonderheft)
Eine wahre Fundgrube an Ideen und Programmen für Computer-Profis und alle, die es werden wollen.
BESTELLCODE: Tips&Tips
Spiele-Test			
Abenteuer	Abenteuer selbst gemacht — Adventure Creator	43	11/84
	Die Lösung von Hobbit	49	2/85
	Exodus — Ultima III	42	11/84
	Gordon Saga	48	2/85
	Gruds in Space	137	8/84
	House of Usher	37	10/84
	Lösung von Dallas Quest	90	1/85
	Lösung von Enchanter	44	3/85
	Lösung von The Blade of Blackpool	34	10/84
	The Quest	47	1/85
Action	Dino Eggs	57	6/84
	Flip and Flop	48	4/84
	Impossible Mission	46	2/85
	Loderunner	68	7/84
	QX 9, Catastrophes	48	12/84
	Raingame	62	5/84
	Save New York und Survivor	46	4/84
	Tom + Zaga	48	1/85
	Wizard	49	12/84
	Zaxxon	68	7/84
Arcade	AE — ein Action-Spiel	56	6/84
	Fire Galaxy fVC 20)	37	10/84
	Schnellboot — Rettung aus der grünen Hölle	109	9/84
Flipper	David’s Midnight Magic	60	5/84
	Night Mission	61	5/84
	Slamball — der ellenlange Flipper	105	9/84
Grundlagen	Fantasy-Spiele	106	9/84
Simulation	Flight II — fast wie richtiges Fliegen	69	7/84
Sport	One on One	136	8/84
	Spiel des Jahres: International Soccer	46	12/84
	Summer Games — Los Angeles läßt grüßen	138	8/84
Taktik	Taktik- und Strategiespiele	46	3/85
Adressen-	Adressenvergleich VC 20-C 64	52	7/84
vergleich			
Basic	Debugging — Fehlersuche in Basic-Programmen	46	7/84
	Fehlersuche in Basic-Programmen (Teil 2)	67	9/84
CP/M	CP/M-Software vom Apple auf den C 64	36	7/84
Compiler	Geschwindigkeit durch Maschinencode — so arbeiten Compiler	39	2/85
DFÜ	Begriffe aus der DFÜ	27	7/84
	Datex-P und ausländische Netzwerke	59	10/84
	Electronic Mail — die neue Form der Postbeförderung	22	7/84
	Mailboxprogramm für den C 64	114	9/84
	Terminalprogramm für den C 64	24	7/84
	Wie bedient man eine Mailbox?	28	7/84
EPROM	Datenbrennerei: Wie programmiere ich EPROMs?	162	9/84
Floppy	22 Read Error — Theorie und Praxis	41	3/85
Grafik	Neues vom Video-Chip beim VC 20	56	8/84
Grundlagen	Daten im (relativen) Direktzugriff	58	7/84
	Datenkreislauf: Die sequentielle Datenspeicherung	63	8/84
	Die index-sequentielle Datei	54	9/84
	Flußdiagramme	20	9/84
	So macht man Basic-Programme schneller (Teil 2)	44	12/84
	Strukturiertes Programmieren (Teil 1)	33	5/84
	Strukturiertes Programmieren (Teil 2)	37	6/84
	Tips für den Umgang mit Sinnbildern (Flußdiagrammen)	14	9/84
	Tips für sauberes Programmieren	38	4/84
Musik	Hard und Soft: eine kleine Marktübersicht	58	9/84
	Klangsynthese und Synthesizertechnik	62	9/84
	Markübersicht der Musikprogramme	27	9/84
Sprachen	Basic ist out — Es lebe Forth	43	1/85
	Forth — die etwas andere Programmiersprache	33	7/84
	Pascal — leistungsfähiger und eleganter als Basic	40	7/84
	Pascal — leistungsfähiger und eleganter als Basic	44	8/84
	Was ist Comal?	41	8/84
Textverarbeitung	Textverarbeitungsprogramme — Marktübersicht	47	6/84
	Von der Schreibmaschine zum Textsystem (Auswahlhilfe)	34	3/85
Tips	DOS 5.1 (Teü 1)	40	5/84
	DOS 5.1 (Teil 2)	16	9/84
Wettbewerbe
Einzeiler
Kreuzworträtsel Sprites Unterprogramm
Die Top 10 (Einzeiler)
Einzeiler-Wettbewerb: Die nächsten 14
Kreuzworträtsel selber machen
Das schönste Sprite — Auflösung
Formatierte Eingabe
Exsort — Sortieren mit Komfort
Sieger mit Maske — Maskenerstellungsprogramm
So machen’s andere
Amateurfunk	Funkende Computer	132	4/84
Datenbank	Klein aber oho — der VC 20	136	4/84
Finanzen	Geregelter Zahlungsverkehr	164	9/84
Fotografie	Der VC 20 als Fotolehrling	138	6/84
	Mode-Fotos mit Bits und Bytes	144	11/84
Landwirt-	Der Computer im Kuhstall	156	8/84
schaft			
Lichttelefon	Mit vier Baud über den Balkon	166	10/84
Medizin	Computer bringen den Kreislauf in Schwung	170	7/84
Orientierung	Welche Hausnummer hat der Kölner Dom?	128	5/84
Platzproblem	Wohin mit dem Heimcomputer?	136	5/84
Software-Test
Assembler	Assembler im Test (AS-64, MAE, T.EX.AS., ASSI/M)	34	1/85
	Assembler im Test: Mastercode, Profimat, Profisoft, Maschine 64	30	2/85
	Assembler? Assembler!	32	1/85
Basic-	Exbasic Level II — eine tolle Sache	42	6/84
Erweiterung	GBasic	28	1/85
	Simons Basic (Teil 1)	40	4/84
	Simons Basic (Teil 2)	42	5/84
Büro	Magic Desk — Bildschirm statt Schreibtisch	62	7/84
CP/M	Erste Erfahrungen mit dem CP/M-Modul	18	4/84
Compiler	Basic-Programme auf Trab gebracht: Austro-Speed, BASS, Exbasic, Petspeed	34	2/85
DFÜ	Teleterm — Die Verbindung zum Modem	20	7/84
	Terminal 64 — Schwer auf Draht	24	2/85
Datenbank	Daten gut im Griff (Datamat, Multidata, Datenmanager)	52	5/84
	ISM 64 — ohne Fleiß kein Pjeis	117	8/84
	ISM 64 — professionelle Datenverwaltung	59	5/84
	Maindat 64	56	5/84
	Superbase 64	46	5/84
Finanzen	Lohnsteuerjahresausgleich leicht gemacht	46	10/84
Floppy	Ex-DOS und Disk Doctor	48	10/84
	Quickcopy — das schnelle Kopierprogramm	28	9/84
Grafik	Elektronische Aquarelle: Paint Magic	114	8/84
	Grafik hoch zwei — das Extended Graphic System	37	11/84
	Grafiktabletts: KoalaPad und SuperSketch	34	11/84
	Graphics-Basic (HES)	38	12/84
158
157
151
174
156
154
172
Alle Beiträge sind in der Regel für den C 64, sofern nicht anders gekennzeichnet (VC 20).
Folgende Abkürzungen wurden verwendet: LDM = Listings des Monats, AdM = Anwendung des Monats, SB = Simons Basic.
Neu: die 64'er-Sammelbox!
Füralle Leser, die »64’er« regelmäßig kaufen, sammeln oder im Abonnement beziehen, gibt es jetzt ein interessantes Service-An-gebot: die 64’er-Sammelbox!
Mit dieser Sammelbox bringen Sie nicht nur Ordnung in Ihre wertvollen Hefte, sondern schaffen sich gleichzeitig ein interessantes und attraktives Nachschlagewerk.
Übrigens: Die Sammelbox ist nicht nur ein praktisches Aufbewahrungsmittel: Sie
eignet sich auch hervorragend als Geschenk für Freunde und Bekannte zu vielen Anlässen.
11/84
1/85
12/84
7/84
1/85
11/84
10/84

ABENTEUERSPIELE
(2. Programm-Sonderheft) Auf mehr als 100 Seiten viele interessante Adventures, die Sie lange Zeit fesseln werden. Mit abgeschlossenem Kurs zur Programmierung eigener Abenteuerspiele und zahlreichen Lösungen professioneller Adventures.
BESTELLCODE: Abenteuerspiele
SPIELE
(3. Programm-Sonderheft) Heiße Listings für alle Spiele-Fans: Sportspiele, Schießspiele, Denkspiele, Spielegeneratoren, Abenteuerspiele, Brettspiele, Taktikspiele, Geschicklichkeitsspiele und eine Marktübersicht aUer in Deutschland erhältlichen professioneUen Spiele bringen alles, was das Herz der Spiele-Fans höher schlagen läßt.
BESTELLCODE: Spiele
GRAFIK&DRUCKER
(4. Programm-Sonderheft) Randvoll mit Informationen: Rund 28 Listings der Spitzenklasse. Darunter Top-Listings zur räumlichen Darstellung von Körpern aus beliebigen Betrachtungsrichtungen.
Weiters: Prüfsummenlistings, Drucker-Anwen-dung, Basic-Erweiterung, Hardcopy-Routinen, Zeichengenerator, Grundlagen, Tips & Tricks.
BESTELLCODE: Grafik & Drucker
Grafik
C 64
HI-EDDI und Simons Basic
Kleine Programme ermöglichen es, mit Simons Basic erstellte Bilder in HI-EDDI zu laden.
Simons Basic bietet leider keine Möglichkeit, High-Resolution-Bilder auf Diskette zu speichern und zu laden. Dies ist jedoch Voraussetzung, um Bilder, die mit Simons Basic erstellt wurden, auch in HI-EDDI und andere Programme zu laden.
Ich habe deshalb das Programm »Screensave« (Listing1) geschrieben, das die Simons-Basic-Befehle »SCRSV« und »SCRLD« um die Fähigkeit, Hires-Bilder zu laden und zu speichern, erweitert. Leider funktioniert das nicht für die Modul-Version, da direkt das Simons Basic modifiziert wird. Dafür wird kein Speicherplatz außerhalb des Simons Basic gebraucht. Außerdem ist die modifizierte Version abspeicherbar, nach ihrem Laden stehen die erweiterten Befehle sofort zur Verfügung, ohne ein weiteres Programm nachladen zu müssen.
Hinweise zum Eintippen:
■	Simons Basic starten
■	»Screensave« eintippen, sicherheitshalber abspeichern und starten
■	Nachdem alle DATA-Fehler beseitigt wurden, stehen die erweiterten Befehle »SCRSV« und »SCRLD« zur Verfügung: Die Syntax ist dieselbe wie bisher, mit der Sekundäradresse wird jetzt der Bildschirm gewählt:
Sekundäradresse = 2: Low-Resolution-Bildschirm, Sekundäradresse = 3: High-Resolution-Bildschirm
Das Aufzeichnungsformat des Low-Resolution-Bildschirmes ist leider nicht kompatibel mit dem der alten Befehle. Das des High-Resolution-Bildschirmes ist dasselbe wie bei HI-EDDI, Diashow und anderen Grafikprogrammen. Dazu muß das Bild aber unbedingt als PGM-File, also zum Beispiel mit: SCRSV1,8,3,”NAME,P,W”
1 REM****** SCREENSAVE ******	<192>
10 DATA 32,3,178,166,184,32,201,255,152,32 ,210,255,165,252,32,210,255,169	<217>
20 DATA 210,133,248,162,32,36,250,48,2,162 ,4,36,250,48,12,177,253,32,0,178	<165.>
30 DATA 145,253,177,251,56,176,14,120,169, 52,133,1,177,251,72,169,54,133	<104>
40 DATA 1,88,104,32,0,178,145,251,200,208, 29,230,252,230,254,202,208,22,240	<075 >
50 DATA 26,234,32,3,178,166,184,32,198,255 ,32,207,255,32,207,255,169,207	<176>
60 DATA 208,180,234,169,195,36,144,240,183 ,32,204,255,165,184,32,195,255	< 077 >
70 DATA 76,42,130,108,248,0,32,219,131,32, 35,129,160,0,132,251,132,253,165	<107>
80 DATA 185,106,106,133,250,48,8,169,216,1
33,254,169,4,208,2,169,224,133	<220>
90 DATA 252,169,255,133,249,96,234	<215>
100 S=0:FOR 1=45455 TO 45608:READ A:S=S+A: POKE I,A:NEXT	I	<253>
110 IF S<>22096 THEN PRINT*'FEHLER IN DATA S":END	<061>
120 PRINT"OK"	<212>
© 64zer
Listing 1. Screensave: Erweiterung für Simons Basic
abgespeichert werden, da HI-EDDI keine SEQ-Files laden kann.
ZumAbspeichern des »neuen« Simons Basic dient das Programm »Saver« (Listing 2). Dieses Programm speichert nicht nur das komplette Simons Basic, das übrigens auch noch andere Modifikationen, zum Beispiel die aus 64’er Ausgabe 11/84, enthalten kann, sondern auch die Funktionstastenbelegung mit ab. Nach dem Laden der mit »Saver« erstellten Simons-Basic-Version stehen somit nicht nur die neuen Befehle, sondern auch die individuelle Funktionstastenbelegung sofort zur Verfügung.
Hinweise zum Eintippen:
■	Funktionstasten nach eigenen Wünschen belegen
■	»Saver« eintippen, abspeichern, eine Diskette mit mindestens 66 freien Blocks einlegen und Programm starten. Nun fragt der »Saver« nach dem Namen, unter dem er die neue Version ablegen soll. Diese neue Version ist um einen Block länger als die alte (66 statt 65), da die Funktionstastenbelegung hinzugekommen ist.
Tips zu HI-EDDI
Die Anleitung in den REM-Zeilen des Programms»HI-PRINT.DATA« ist zugegebenermaßen etwas dürftig ausgefallen, so daß eine ausführlichere Erklärung dringend nötig ist:
Wie schon in der Bedienungsanleitung erwähnt, beschränkt sich die Anpaßbarkeit dieses Programms auf 8-Nadel-Drucker mit »vernünftiger« Einzelnadelansteuerung, wie zum Beispiel Drucker von Epson oder Mannesmann (im Gegensatz zum 1526/MPS 802). Mit dem Datum in Zeile 420 wird zwischen dem seriellen Bus (also Hardware-Interface) oder dem User-Port gewählt. Im ersten Fall muß mit den Daten in Zeile 440 (Primäradresse) und 460 (Sekundäradresse) das Interface auf Direktmodus gestellt werden. Hardwareinterfaces bieten in der Regel verschiedene Betriebsmodi (zum Beispiel Emulation eines Commodore-Druckers, spezielle List- oder Grafikmodi und eben den Direktmodus oder Linearmodus), die meist über die Sekundäradresse angewählt werden. »HI-PRINT« braucht den Direktmodus, in dem sich das Interface wie ein einfaches Kabel verhält und die Byte vom Computer unverändert an den Drucker übergibt. Für das Data-Becker-Interface muß zum Beispiel die Sekundäradresse 1 eingegeben werden, für das Görlitz-Interface 4 oder 12 (ohne beziehungsweise mit Auto-Linefeed). Beim Anschluß an den User-Port sind die Daten in Zeile 440 und 460 zwar nicht relevant, man darf sie jedoch nicht weglassen, da sonst die nachfolgenden DATAs verschoben würden.
Aus dem gleichen Grund dürfen auch die Längen der folgenden DATA-Zeilen nicht verändert werden, sie müssen nach Bedarf mit 255 aufgefüllt werden. Außerdem muß jede dieser Zeilen mit mindestens einem 255 enden, da diese Zahl als Ende-Kennzeichen einer Sequenz dient.
Die Zeile 530 legt die Sequenz für einen Carriage-Return Linefeed fest, sie ist 13,255,255 für Drucker mit Auto-Linefeed und 13,10,255 für Drucker ohne Auto-Linefeed.
Zeile 550 stellt den Drucker auf den für Grafik passenden Zeilenvorschub ein. Für den Epson RX-80 ist dies zum Beispiel ESC »3« 23 oder in Zahlen 27,51,23, aufgefüllt mit 255 auf die erforderliche Länge.
In Zeile 580 wird der Grafikmodus (Bit-Image-Mode) für 640 Punkte/Zeile angesteuert. Beispiele:
In Zeile 600 wird wieder der normale Zeilenabstand eingestellt (ESC »2«) und die -2 in Zeile 610 signalisiert für den DATA-Lader das Ende der DATAs.
Bei Schwarzweiß-Bildern, wie die der Diashow, Supergrafik oder natürlich des erweiterten Simons Basic geht’s problemlos. Bei Grafikprogrammen, die im Multicolour-Modus arbeiten, treten zwei Schwierigkeiten auf:
80
C 64
Grafik
1.	Da HI-EDDI im High-Resolution-Modus arbeitet, sehen Multicolour-Bilder recht ungewöhnlich aus. Dabei kommt es vor allem auch auf die Farborganisation des betreffenden Programmes an: Die des Koalapainter ist so chaotisch, daß dessen Bilder im »HI-EDDI« fast unbrauchbar sind (Ein und dieselbe Farbe erhält verschiedene Multicolour-Codes). Paint-Ma-gic-Bilder sind dagegen sofort »druckreif«.
2.	Für Multicolour-Bilder gibt es kein einheitliches Format für die Speicherung auf Diskette, so daß viele Bilder nicht direkt von »HI-EDDI« geladen werden können.
Laden von Bildern
Für den Koalapainter tritt die 2. Schwierigkeit nicht auf, seine Bilder lassen sich sofort laden. Den Filenamen gibt man dabei in der Form »?PIC...« ein, um das Steuerzeichen am Anfang auszutricksen. Dajedoch Koala-Bilder länger sind als die vom »HI-EDDI«, werden Farbinformationen nicht nur des geladenen, sondern noch eines weiteren Bildes überschrieben. Nach dem Laden eines Koala-Bildes herrscht somit buntes Chaos im Computer, das erst durch Neu-Einfärben beseitigt werden muß.
Etwas komplizierter wird’s bei Paint Magic, dessen Bilder sich nicht direkt laden lassen, da sie in Form eines Basic-Laders abgespeichert werden. Man muß erst ein Bild mit »LOAD”.”8« laden, dann mit RUN starten, anschließend »HI-EDDI« laden und in Betriebsart 1 starten. Die 1 ist nötig, damit »HI-EDDI« das im Speicher befindliche Bild nicht löscht. Außerdem darf »HI-EDDI« nicht im Farbbetrieb gestartet werden, da das Paint-Magic-Bild im Speicherbereich $4000-$6000 liegt, wo »HI-EDDI« sonst seine Farbinformationen ablegen würde. Nach dem Start ist das Bild in Speicher Nummer 7 zu finden.
Lädt man übrigens im Schwarzweiß-Betrieb ein Farbbild (36 Blocks), dann wird auch hier durch die Farbinformation ein Teil eines anderen Bildes überschrieben, was sich durch »Gerümpel« in den ersten paar Zeilen dieses Bildes bemerkbar macht.
Bilder in Basic verwenden
Will man »HI-EDDI«-Bilder in normalen Basic-Programmen (oder mit der Simons Basic Modulversion) laden, dann tut’s das Listing »Pic-Lader (Listing 3), das natürlich in eigene Programme eingebaut werden kann. Das Bild wird unter das Betriebssystem-ROM gelegt, der Farbspeicher ab $C000 (=49152, wie bei Simons Basic). Damit wird kein Basic-Speicherplatz belegt. Allerdings dürfen nur Schwarzweiß-Bilder (33 Blocks) geladen werden, bei Farbbildern gibt’s einen Absturz.
Auch am Programm selbst sind mir noch vier Kleinigkeiten aufgefallen:
1.	Bei einem STOP/RESTORE schreibt das Betriebssystem ein paar Bytes in den RAM-Bereich über $E000. Diese sind dann in einem der Bilder am unteren Rand als »Gerümpel« zu sehen.
2.	Beim Befehl »Paint« kann es bei extrem verwinkelten Flächen vorkommen, daß Teile übersehen werden (Grund dafür ist der begrenzte Stack des 6510). Diese müssen eben extra aufgefüllt werden.
3.	Der Sequenzstring sollte nicht länger als zirka 40 Zeichen werden, sonst könnte es bei LOAD oder SAVE zu einem OUT OF MEMORY ERROR kommen. Sollte das passieren, so muß Hi-Eddi mit GOTO 150 gestartet und der Sequenzstring verkürzt werden.
4.	Bei gewaltigem »Herumwürgen« am Joystick kann es vorkommen, daß der Computer meint, es wurde eine Taste gedrückt. Ergebnis ist dann eine Befehlsausführung, die man gar nicht wollte. Allerdings passiert das äußerst selten, vielleicht liegt’s auch nur an meinem mickrigen Joystick. Wenn ansonsten mal ein Befehl nicht das tut, was er sollte, dann liegt es meistens an einer eingerasteten SHIFT-LOCK-Taste. Bei Befehlen, die die SHIFTTaste nicht benutzen, fällt es gar nicht auf. Will man jedoch zum Beispiel den Fore-Modus anwählen und färbt statt dessen das ganze Bild ein, dann war’s SHIFT-LOCK!
(Hans Haberl/ah)
1 REM****** SAVER ******	<081>
10 DATA 198,1,169,96,141,123,129,162,2,32,
201,255,162,97,160,0,185,159,127	<015>
20 DATA 32,210,255,200,202,208,246,169,0,1
33,253,169,128,133,254,162,64,160	<045>
30 DATA 0,177,253,32,210,255,200,208,248,2
30,254,202,208,243,185,77,198,32	< 008 >
40 DATA 210,255,200,208,247,32,204,255,230
,1,96,1,8,13,8,191,7,158,40,50	<137>
50 DATA 48,54,51,41,0,0,0,120,169,96,133,2
52,169,8,133,253,169,0,133,254	<045>
60 DATA 169,128,133,255,162,64,32,69,8,32,
10,128,169,169,141,123,129,169	<251>
70 DATA 96,133,252,169,72,133,253,169,77,1
33,254,169,198,133,255, 162, 1,32	<251'>
80 DATA 69,8,76,123,129,160,0,177,252,145,
254,136,208,249,230,253,230,255	<009 >
90 DATA 202,208,242,96,0,0,0,0,0,0,0,0,0,0 <207>
100 POKE 56,112:CLR	<079>
110 FOR 1=32605 TO 32767sREAD A:S=S+A	<000>
120 POKE I,A:NEXT I	<034>
130 IF S<>21569 THEN PRINT"FEHLER IN DATAS
":GOTO 200	<034>
140 INPUT"NAME DER NEUEN VERSION";N$	<254>
150 OPEN 15,8,15:0PEN 2,8,2,N$+",P,W"	<075>
160 GOSUB 170:SYS 32605:CLOSE 2:G0SUB 170:
CLOSE 15:G0T0 200	<197>
170 INPUT#15,A,B$,C,D:PRINT A;B$;C;D	<103>
180 IF A>0 THEN CLOSE 2:CL0SE 15:G0T0 200	<156>
190 RETURN	<248>
200 POKE 56,128:CLR:END	<019>
30 REM* LADEN VON HI-EDDI-BILDERN *	<222>
100 INPUT"FILENAME";N$	<042 >
110 POKE 781,8:REM GERAETEADRESSE	<091>
120 POKE 782,0:REM SEKUNDAERADRESSE	<225>
130 SYS 65466:REM FILEPARAMETER SETZEN <203>
140 POKE 780,LEN(N$)	<181>
150 POKE 781,192:P0KE 782,2:REM POINTER A
UF FILENAMEN	<063>
160 FOR 1=1 TO LEN(N$):POKE 703+I,ASC(MID$
(N$,I)):NEXT:REM FILENAME	<239>
170 SYS 65469:REM NAMENSPARAMETER	SETZEN <018>
180 POKE 780,0:REM LOAD-FLAG	<112>
190 POKE 781,0:POKE 782,224:REM ADRESSE=$
E000	<220>
200 SYS 65493:REM LOAD	<083>
210 REM GRAFIK EINSCHALTEN	<002>
220 Ml=PEEK(56576):P0KE 56576,M1 AND 252:R
EM VIC-ADRESSBEREICH AB $C000	<212>
230 M2=PEEK(53272):P0KE 53272,8:REM VIDEO
RAM- UND GRAFIK-ADRESSEN	<070>
240 M3=PEEK(53265):P0KE 53265,M3 OR 32:REM
HIRES EINSCHALTEN	<024>
250 F=16*7+6:REM 16*V0RDERGRUNDFARBE+HINT
ERGRUNDFARBE	<037 >
260 FOR 1=49152 TO 50152:POKE I,F:NEXT	<138>
270 POKE 198,0:WAIT 198,l:REM AUF TASTE W
ARTEN	<030>
280 POKE 56576,Ml:P0KE 53272,M2:P0KE 53265
,M3:REM WIEDER NORMALZUSTAND	<030>
© 64'er
© Mzer
Listing 2. So kann Simons Basic erweitert werden
Listing 3. HI-EDDI-Bilder in eigenen Programmen verwenden
81
Grafik
C 64
Hardcopy von HI-EDDI auf dem Plotter VC 1520
Mit diesem Programm ist es möglich, Hardcopies von HI-EDDI mit dem Prin-ter-Plotter VC 1520 zu erstellen.
Geben Sie zuerst »Copy 1520« (Listing 1) mit dem MSE ein und speichern Sie es ab. Jetzt muß noch das HI-EDDI Steuerprogramm geändert werden. Bei dem Steuerprogramm (Listing 2) sind die Zeilen 600 bis 750 zu ändern.
Die Hardcopy kann jetzt von HI-EDDI per Tastendruck oder Menü nachgeladen werden. Es ist möglich, mehrere Bilder (nahtlos) untereinander oder übereinander (Overlay) zu drucken.	(Stephan Paetzold/ah)
50 IF A<2 THEN	A=A+2:L0AD"HI-EXE",8,l	<107>
60 IF A=3 THEN	150	<027>
70 IF A=4 THEN	650	<200>
100 INPUT"<CLR>BETRIEBSART";C:POKE 780,C:P
OKE 56,13:CLR:W$="123456":SYS	3328	<254>
110 IF PEEK(8073)AND 64 THEN A=3:L0AD”MENU
E",8,1	<087>
150 SYS 3337:A=PEEK(8064)	<119>
160 ON A+1 GOSUB 200,250,300,290,400,600,2
90,290,500,510,300sGOTO 150	<254>
200 OPEN 3,8,0,"$0":GET#3,C$,C$	<154>
210 GET#3,C$,C$,L$,H$:IF C$=""THEN CLOSE 3
:WAIT 198,l:RETURN	<094>
220 PRINT 256*ASC(H$+CHR$(0))+ASC(L$+CHR$(
	0));:SYS 3334=G0T0 210	<018>
250	PRINT"£CLR,DOWN JSEQUENZ:":PRINT"{DOWN, 2SPACE}"W$:INPUT"<HOME,3D0WN}";W$:IF L EN(W$)<2 THEN 250	<062>
290	RETURN	<094>
300	POKE 8115,8:PRINT”{CLR,DOWN JG=GRAFIKBI LD":IF PEEK(8073)>127 THEN PRINT”F=FAR BBILD"	<036>
310	PRINT"S=SPRITE":PRINT"Z=ZEICHENSATZ”s P RINT"<DOWN,SPACE>—>";	<017>
320	GET C$:IF C$<>"G"AND C$<>"F"AND C$O”S "AND C$<>"Z"THEN 320	<240>
330	PRINT C$:POKE 780,ASC(CT)sH$=W$:INPUT" <DOWN>FILENAME";W$:SYS 3331:W$=H$:H$="	
		<046>
340	OPEN l,8,15,H$:INPUT#l,A,H$:PRINT A;H$ :IF A>0JHEN WAIT 198,1	<073>
350	CLOSE l:RETURN	<223>
400	POKE 631,34;P0KE 198,l:H$="":INPUT"{CL R,DOWN>";H$:GOTO 340	<207>
500	A=8075:GOTO 520	<053>
510	A=8079	<140>
520	D=PEEK(8074):C=PEEK(A+D):PRINT"<CLR,DO WN>F"2*D+lsPRINT"SCHRITTWEITE s"C,	<055>
530	INPUT CsIF C<1 OR 0160 THEN 530	<066>
540	POKE A+D,CsRETURN	<189>
600	IF A=5 THEN A=4:L0AD"C0PY 1520",8,1	<045>
650	INPUT"<CLR>BILDNUMMER";D:C=(D AND 7)	<212>
660	INPUT"FARBE (0-3)";B$:POKE 1000,0:POKE	
	1001,VAL(B$)	<099>
670	FOR 1=0 TO 6	<103>
680	IF PEEK(8086+I)=D THEN LET Z=(I+l)*819 2	<162>
690	NEXT I	<010>
700	X=INT(Z/256):P0KE 3399,X:P0KE 3392,Z-X *256	<025>
710	POKE 780,C:SYS 3328	<028>
720	PRINT"OVERLAY";:GOSUB 800:IF C$="J MTHE N 630	<159>
730	PRINT"NAHTLOS";:GOSUB 800:IF C$="N"THE N LET A=l:GOTO 50	<161>
740	OPEN l,6,l:PRINT#l,"M",0,-180:CLOSE 1	<106>
750	OPEN 1,6,0:PRINT#1," ":CLOSE l:GOTO 65 0	<077>
800	PRINT” ? (J/N)";	<205>
810	GET C$:IF C$<>"J"AND C$O”N”THEN 810	<210>
820	PRINT C$:RETURN	<230>
© 64'er
Listing 2. »Steuerprogramm HI-EDDI«.
Bitte beachten Sie die Eingabehinweise auf Seite 16.
programm : copy 1520	0d00 103b
0d00 : a2 00 8e 0e dc 78 86 b7 23 0d08 : e8 86 b8 86 b9 a2 06 86 08 0dl0 : ba 20 c0 ff a2 02 86 b8 d0 0dl8 : 86 b9 a2 00 86 b7 a2 06 e0 0d20 : 86 ba 20 c0 ff a2 00 8e 56 0d28 : 40 03 8e 41 03 8e 43 03 6d 0d30 : 8e 46 03 8e 47 03 8e 48 cb 0d38 : 03 8e 49 03 8e 4c 03 a2 d2 0d40 : 00 86 f7 8e 94 0e a2 e0 59 0d48 : 86 f8 8e 98 0e a2 01 8e 18 0d50 : 4b 03 a2 d0 Be a3 0d 8e 37 0d58 : d7 0d a2 02 20 c9 ff ad 4a 0d60 : e9 03 18 69 30 20 d2 ff 4d 0d68 : a9 0d 20 d2 ff 20 cc ff 2e 0d70 : a9 34 85 01 a0 00 bl f7 76 0d78 : a2 37 86 01 48 18 a5 f7 43 0d80 : 69 08 90 02 e6 f8 85 f7 8e 0d88 : ad e8 03 f0 38 68 a2 00 da 0d90 : 8e 4a 03 0a 2e 4a 03 0a 9b 0d98 : 2e 4a 03 48 aa ae 4a 03 04 0da0 : ec 4b 03 d0 03 20 00 0f 5c 0da8 : ee 49 03 ee 41 03 d0 03 4f 0db0 : ee 40 03 ee 41 03 d0 03 d2 0db8 : ee 40 03 ad 49 03 c9 04 19 0dc0 : d0 cb 4c ee 0d 68 a2 00 05 0dc8 : 8e 4a 03 18 0a 2e 4a 03 80 0dd0 : 48 ad 4a 03 cd 4b 03 d0 c7 0dd8 : 03 20 00 0f ee 49 03 ee f0 0de0 : 41 03 d0 03 ee 40 03 ad 90 0de8 : 49 03 c9 08 d0 d7 a2 00 7d 0df0 : 8e 49 03 68 ee 48 03 ad 89 0df8 : 48 03 c9 28 b0 03 4c 70 6e 0e00 : 0d ad 4c 03 f0 03 20 00 ff 0e08 : 0f ee 43 03 ad 4e 03 8d 34
0el0 : 41 03 ad 4d 03 8d 40 03 8b 0el8 : 20 00 0f a2 00 8e 48 03 ec 0e20 : 8e 40 03 8e 41 03 8e 4c 60 0e28 : 03 a9 d0 8d a3 0d 8d d7 6e 0e30 = 0d c6 f8 a5 f7 38 e9 3f fa 0e38 : b0 02 c6 f8 85 f7 ee 47 lc 0e40 : 03 ad 47 03 c9 08 f0 03 f3 0e48 : 4c 70 0d a2 00 8e 47 03 fc 0e50 : e6 f8 a5 f7 18 69 38 90 e9 0e58 : 02 e6 f8 85 f7 ee 46 03 d2 0e60 : ad 46 03 c9 19 f0 03 4c e8 0e68 ; 70 0d 20 cc ff ad e8 03 17 0e70 : d0 03 4c f6 0e ee 4b 03 3f 0e78 : ad 4b 03 c9 04 f0 77 a2 b0 0e80 : 00 8e 46 03 8e 43 03 8e e6 0e88 : 40 03 8e 41 03 8e 4d 03 f5 0e90 : 8e 4e 03 a2 00 86 f7 a2 b4 0e98 : e0 86 f8 a2 01 20 c9 ff 86 0ea0 : a2 00 8a 48 bd e7 0e 20 82 0ea8 : d2 ff 68 aa e8 e0 09 d0 45 0eb0 : fl a2 01 20 c9 ff a2 00 5e 0eb8 : 8a 48 bd f0 0e 20 d2 ff 21 0ec0 : 68 aa e8 e0 06 d0 f1 a2 c7 0ec8 : 02 20 c9 ff ad 4b 03 38 fe 0ed0 : e9 01 a8 b9 e9 03 18 69 85 0ed8 : 30 20 d2 ff a9 0d 20 d2 f6 0ee0 : ff 20 cc ff 4c 70 0d 4d 39 0ee8 : 2c 30 2c 2d 32 30 31 0d 61 0ef0 : 4d 2c 30 2c 30 0d 20 2f 2f 0ef8 : f3 a9 01 8d 0e dc 58 60 9c 0f00 : ad 40 03 48 ad 41 03 48 19 0f08 s ad 43 03 48 a2 00 8e 43 0c 0fl0 : 03 8e 44 03 8e 45 03 c9 7f 0fl8 : 64 90 08 e9 64 ee 43 03 d4 0f20 : 4c 17 0f c9 0a 90 08 e9 0e 0f28 : 0a ee 44 03 4c 23 0f c9 c9 0f30 : 01 90 08 e9 01 ee 45 03 5b
0f38 : 4c 2f 0f ad 41 03 ae 40 fd 0f40 : 03 f0 11 a2 02 8e 40 03 f0 0f48 : a2 05 8e 41 03 e8 Be 42 6f 0f50 : 03 4c 5f 0f a2 00 8e 40 18 0f58 : 03 8e 41 03 8e 42 03 c9 ee 0f60 = 64 90 08 ee 40 03 e9 64 79 0f68 ; 4c 5f 0f c9 0a 90 08 ee 84 0f70 : 41 03 e9 0a 4c 6b 0f c9 de 0f78 : 01 90 08 ee 42 03 e9 01 87 0f80 : 4c 77 0f ad 41 03 18 69 61 0f88 : 08 8d 41 03 ad 42 03 c9 94 0f90 : 0a 90 08 e9 0a 8d 42 03 3e 0f98 : ee 41 03 ad 41 03 c9 0a 05 0fa0 : 90 0b e9 0a 8d 41 03 ee 3e 0fa8 : 40 03 4c 9b 0f a2 01 20 3b 0fb0 : c9 ff ad 4c 03 f0 08 a9 99 0fb8 : 44 20 d2 ff 4c c4 0f a9 3b 0fc0 : 4d 20 d2 ff a9 2c 20 d2 f4 0fc8 : ff ad 40 03 18 69 30 20 dc 0fd0 : d2 ff ad 41 03 18 69 30 2c 0fd8 : 20 d2 ff ad 42 03 18 69 86 0fe0 : 30 20 d2 ff a9 2c 20 d2 f7 0fe8 : ff a9 2d 20 d2 ff ad 43 76 0ff0 : 03 18 69 30 20 d2 ff ad 54 0ff8 : 44 03 18 69 30 20 d2 ff 40 1000 : ad 45 03 18 69 30 20 d2 52 1008 : ff a9 0d 20 d2 ff 68 8d 0d 1010 : 43 03 68 8d 41 03 68 8d 8a 1018 : 40 03 ad a3 0d 49 20 8d 70 1020 : a3 0d 8d d7 0d ad 4c 03 le 1028 : 49 01 8d 4c 03 ad 41 03 87 1030 : 8d 4e 03 ad 40 03 8d 4d 48 1038 : 03 60 34 ff ff ff ff ff 78
Listing 1. »Copy 1520«. Bitte beach-ten Sie bei der Eingabe den MSE.
82

C 64
Grafik
HI-EDDI mit Itoh 8510
Besitzern des Itoh 8510 bietet dieses Programm die Möglichkeit, von HI-EDDI Hardcopies zu erzeugen.
Mit HI-EDDI lassen sich mit minimaler Hardware-Ausrüstung (C 64, Diskettenlaufwerk 1541, Joystick) sehr komfortable Grafiken erzeugen. Doch was nützt die schönste Grafik auf dem Bildschirm, wenn man sie nicht ausdrucken kann?
Die Druckroutine HI-PRINT arbeitet leider nur mit Epson-Druckern zusammen. Da der Itoh 8510ein verbreiteter und guter Drucker ist, wurden für ihn die im folgenden beschriebenen Programme erstellt. Er wird über eine Centronics-Schnittstelle via User-Port am C 64 angeschlossen.
Zusätzlich wurden einige Features eingebaut, die die Epson-Hardcopy-Routine nicht besitzt. So wäre die Vorgabe von Leer-spalten vom linken Rand aus (falls noch Platz ist) eine nützliche Sache. Um zwei Grafiken in der Horizontalen aneinander zu setzen, wurde dazu die volle Bildschirmbreite in 40 Spalten zu je 8 (40 x 8 = 320) Punkten (wie im Textmodus) organisiert. Umjetztzwei Grafiken nebeneinander zu plazieren, kann dazu die Startspalte (wird mitgedruckt) der links stehenden Grafik (Grafik Nr. 1) und die Endspalte (wird nicht mitgedruckt) der rechts stehenden Grafik (Grafik Nr. 2) vorgewählt werden.
Die Ausdruckbreite wird dazu in drei Sektoren von links nach rechts aufgeteilt.
0. Sektor: Abstand (SPC) in Punkten vom linken Papierrand.
1.	Sektor: Grafik Nr. 1 (Bild-Nr.; Startspalte)
Bild-Nr. = 0 = > kein Bild, Startspalte = 40
Bild wird rechtsbündig gedruckt
0 < = Startspalte < = 39
Startspalte = 0 = > volle Hardcopy von Grafik Nr. 1
2.	Sektor: Grafik Nr. 2 (Bild-Nr.; Endspalte)
Bild-Nr. = 0 = > kein Bild, Endspalte = 0
Bild wird linksbündig gedruckt
1	<= Endspalte < = 40
Endspalte = 40 = > volle Hardcopy von Grafik Nr. 2
Insgesamt kann folgende Formel für die Aufteilung der drei Sektoren angegeben werden:
SPC + (40-Startspalte)*8+Endspalte*8< = 640
lm Steuerprogramm werden nacheinander die Bild-Nr. von Sektor 1, dann (falls Bild-Nr. < > 0) die Startspalte von Grafik-Nr. 1, dann die Bild-Nr. von Sektor 2 und (falls Bild-Nr. < > 0) die Endspalte von Grafik-Nr. 2, und schließlich die Anzahl der Leerspalten vor Grafik-Nr. 1 abgefragt.
Die Maximalwerte werden stets durch das Steuerprogramm vorgegeben, so daß in vielen Fällen ein einfaches RETURN genügt.
Um die Druckroutine »HI-P(ITOH8510)«fürden ltho 8510 in das Steuerprogramm HI-EDDI einzubinden, mußte dieses auf die Bedürfnisse der Druckroutine angepaßt werden und heißt nun »HI-E(IT0H8510)«.
Dazu wurden (aus Speicherplatzgründen) alle Zeilen neu numeriert und die Textausgabepassagen verkürzt. In den Programmzeilen 24 und folgende befindet sich das Drucksteuerprogramm.
Es wird hierbei dringend davor gewarnt, das neue Steuerprogramm HI-E(ITOH8510) zu erweitern oder zu ändern, da sonst das Steuerprogramm (inklusive Variablen) nicht mehr in den verfügbaren Basic-Speicherplatz paßt. Dies gilt auch für den eingebauten Parametercheck, da in der Druckroutine selber keine Plausibilitätsprüfung mehr vorgenommen wird.
Für die Initialisierung des Druckers und die Ausgabe der Hardcopy sollte sich der Drucker im SELECT-Modus befinden, da sonst das Programm hängenbleibt (Acknowledge-Signal wird erwartet).
Falls aus irgendeinem Grunde (Drucker beziehungsweise Kabel defekt, falsch oder gar nicht angeschlossen) dieser Fall eintritt, kann mit RUN/STOP-RESTORE die Druckroutine beendet werden. HI-EDDI kann dann wieder mit RUN gestartet werden. (Das RUN ist notwendig, um HI-EXE nachzuladen, da aus Speicherplatzgründen nach der Anwahl des Drucksteuerprogramms immer die Druckroutine über HI-EXE nachgeladen wird.)
Der Drucker sollte mittels der DIP-Schalter auf CR = CR und 8-Bit-Data eingestellt sein. Da am Anfang kein Zeilenvorschub ausgegeben wird, sollte man dafür sorgen, daß der Druckkopf sich auf einer freien Zeile befindet. Außerdem sollte das Papier zentriert werden, da sich der Ausdruck über die volle Papierbreite erstrecken kann.
Die Anpassung des Itoh 8510A an HI-EDDI besteht im wesentlichen aus zwei Schritten:
1	IF	A<2	THEN	A=A+2:L0AD"HI-EXE",8,l
2	IF	A=3	THEN	6
3	IF	A=4	THEN	25
4 INPUT"B-ART";C=POKE 780,C:POKE 56,13:CLR :W$="123456":SYS 3328
5 IF PEEK(8073)AND 64 THEN A=3:L0AD"MENUE" ,8,1
6 SYS 3337:A=PEEK(8064):ON A+1 GOSUB 7,10, 12,11,18,24,11,11,19,20,12:GOTO 6
7 OPEN 3,8,0,"$0":GET#3,C$,C$
8 GET#3,C$,C$,L$,H$:IF C^=""THEN CLOSE 3:W AIT 198,l:RETURN
9 PRINT 256*ASC(H$+CHR$(0))+ASC(L$+CHR$(0) );:SYS 3334:G0T0 8
10	PRINT"<CLR,DOWN}SEO.:":PRINT"<DOWN,2SPA CE}"Wt:INPUT"{HOME,3D0WN >";WT:IF LEN(W$ )<2 THEN 10
11	RETURN
12 POKE 8115,8:PRINT"{CLR,D0WN,RVS0N)G{RV0 FF>-BILD":IF PEEK(8073)>127 THEN PRINT" <RVSON>F <RVOFF}-BILD"
13 PRINT"<RVSON>S{RVOFF>PRITE":PRINT"{RVSO N>Z<RVOFF>-SATZ":PRINT"{DOWN)->";
14 GET C$:IF C$<>"G"AND C$<>"F"AND C$<>"S" AND C$<>"Z"THEN 14
15 PRINT C$:POKE 780,ASC(C$):H$=W$:INPUT"{ DOWN>F-NAME";W$:SYS 3331:W$=H$:H$=""
16 OPEN l,8,15,H$:INPUT#l,A,H$:PRINT A;H$: IF A>0 THEN WAIT 198,1
17	CLOSE l:RETURN
18 POKE 631,34:P0KE 198,l:H$="":INPUT"{CLR ,DOWN)";Ht:GOTO 16
19 A=8075:GOTO 21
20 A=8079
21 D=PEEK(8074):C=PEEK(A+D):PRINT"{CLR,DOW N>F"2*D+1:PRINT"S-WEITE:"C,
22 INPUT C:IF C<1 OR 0160 THEN 22
23 POKE A+D,C:RETURN
24 A=4:L0AD"HI-P(ITOH8510)",8,1
25 INPUT"<CLR,DOWN}S1:B-NR.(0=KB)";C:POKE 3415,C AND 7:IF C=0 THEN D=40:GOTO 27
26 INPUT"SSP.(<=39;0=VOLL)<2SPACE>0<3LEFT> ";D:IF D<0 OR D>39 THEN 26
27 POKE 3388,D:C=40+D:IF 040 THEN C=40
28 INPUT"{DOWNIS2:B-NR.(0=KB)";D:POKE 3435 ,D AND 7:IF D=0 THEN 33
29 PRINT''ESP.(>0;< = -;C;"{LEFT}) ";C;:INPUT "{5LEFTI";D;IF D<1 OR D>C THEN 29
30 POKE 3451,D:C=640-(40-PEEK(3388)+D)*8
31 PRINT"{DOWNISPC( = >0;< = ";C;"<LEFT}) <2SPA CE>";C;:INPUT"{6LEFT)";D:IF D<0 OR D>C THEN 31
32 C=INT(D/256):POKE 3383,C:INPUT"{DOWN)DR UCK <2SPACE>J <3LEFT}";C$:IF C$<>"J"THEN 34
33 POKE 3381,D-C*256:SYS 3328:INPUT"<D0WN> N0CHMAL{2SPACE>J{3LEFT)";C$:IF C$="J"TH EN 25
34 A=i:G0T0 i Listing1.>>HI-E(ITOH8510)<<
<058>
<207>
<035>
<117>
<238>
<059>
<217>
<148>
<156>
<096>
<069>
<152>
<208>
<093>
<213>
<003>
<144>
<210>
<059>
<160>
<165>
<125>
<180>
<215>
<236>
<222>
<119>
<041>
<191>
<024>
<194>
<106>
<058>
<016>
© 64"er
83
Grafik
C 64
10 REM #### PROGRAMM ZUR ERZEUGUNG #####	<190>
20 REM ## VON HI-P(ITOH8510) AUF DISK ## <124> 30 REM AUTOR: F.ZIESCHE' AM: 13. 2.85 ## <068> 40 RESTORE:PS=0:REM DATA'S UEBERPRUEFEN <136 > 50 PRINT"<CLR,DOWN,SPACE>DATA-ZEILEN WERDE
N UEBERPRUFT !"	<100>
60 READ BY : IF BY < 0 THEN 80	<145>
70 PS = PS + BY : GOTO 60	<016>
80 IF PS+BY <> 0 THEN PRINT"FEHLER IN DATA
-ZEILEN !":LIST 160-	<036>
90 INPUT '* (DOWN, SPACE>DI SKETTE EINGELEGT £38
PACEJJA{4LEFT>";IN$:IF IN$<>"JA"THEN 90 <159> 100 RESTORE : OPEN 3,8,3,"HI-P(ITOH8510),P
,W"	<061>
110 PRINT#3,CHR$(0);CHR$(13);:REM STARTADR
ESSE	<115>
120 READ	BY	:	IF	BY	<	0	THEN	140	<233>
130 PRINT#3,CHR$(BY);	:	GOTO	120	<044>
140 CLOSE 3 : PRINT"{DOWN,SPACE>PROGRAMM W URDE ERZEUGT !"	<107>
150 END	<152>
160 REM DATA-ZEILEN	FUER	HI-P(ITOH8510)	<018>
170 DATA 165,1,72,169,55,133,1,173,87,13,3
2,186,13,141,170,14,173,107,13,32	<217>
180 DATA 186,13,141,223,14,169,0,141,164,1
4,141,217,14,141,174,13,32,248,13	<145>
190 DATA 32,212,13,169,27,32,111,14,169,70 ,32,111,14,169,0,160,0,32,47,14	<162>
200 DATA 169,0,141,148,14,169,0,141,201,14
,169,27,32,111,14,169,83,32,111	<055>
210 DATA 14,169,0,160,0,32,47,14,169,0,240
,16,32,135,14,32,241,14,238,148	<007>
220 DATA 14,173,148,14,201,40,144,240,169,
0,240,16,32,188,14,32,241,14,238	<092>
230 DATA 201,14,173,201,14,201,0,144,240,2
4,173,164, 14, 105,64,141,164,.14,173	<187>
240 DATA 170,14,105,1,141,170,14,24,173,21
7,14,105,64,141,217,14,173,223,14	<185>
250 DATA 105,1,141,223,14,169,13,32,111,14
,169,10,32,111,14,238,174,13,169	<197>
260 DATA 0,201,25,176,3,76,42,13,104,133,1
,96,162,7,221,149,31,240,4,202,208	<247>
270 DATA 248,232,138,10,10,10,10,10,96,0,0
,0,0,0,0,0,0,24,173,123,13,105,40	<020>
280 DATA 56,237,60,13,133,251,169,0,133,25
2,160,3,6,251,38,252,136,208,249	<132>
290 DATA 165,251,164,252,141,80,13,140,82,
13,96,169,255,141,3,221,173,2,221	<055>
300 DATA 9,4,141,2,221,173,0,221,9,4,141,0 ,221,162,0,189,27,14,32,111,14,232	<033>
310 DATA 224,20,144,245,96,127,27,93,27,78
,27,84,49,54,27,102,27,76,48,48	<183>
320 DATA 48,27,48,27,62,133,99,132,98,56,1
62,144,32,73,188,32,221,189,162	<085>
330 DATA 1,189,0,1,240,6,232,224,6,144,246 ,202,202,142,81,14,56,169,4,233	<181>
340 DATA 0,240,9,168,169,48,32,111,14,136, 208,248,172,81,14,240,12,162,1,189	<114>
350 DATA 0,1,32,111,14,232,136,208,246,96, 141,1,221,173,0,221,41,251,141,0	<177>
360 DATA 221,9,4,141,0,221,173,13,221,41,1
6,240,249,96,120,165,1,72,41,248	<033>
370 DATA 133,1,169,0,133,252,169,0,133,251
,160,3,6,251,38,252,136,208,249	<080>
380 DATA 24,165,251,105,0,133,251,165,252, 105,0,133,252,177,251,153,204,13	<176>
390 DATA 200,192,8,144,246,104,133,1,88,96
,120,165,1,72,41,248,133,1,169,0	<202>
400 DATA 133,252,169,0,133,251,160,3,6,251
,38,252,136,208,249,24,165,251,105	<237>
410 DATA 0,133,251,165,252,105,0,133,252,1
77,251,153,204,13,200,192,8,144	<236>
420 DATA 246,104,133,1,88,96,160,128,140,4
,15,169,0,141,8,15,140,10,15,162	<203>
430 DATA 7,189,204,13,41,0,240,7,169,0,9,0
,141,8,15,78,10,15,202,16,236,173	<206>
440 DATA 8,15,32,111,14,78,4,15,144,215,96 <148> 450 DATA -57076 :REM PRUEFSUMME	<184>
© 64'er
Listing 2. »HI-P(ITOH8510).L« Bitte beachten Sie die Eingabehinweise auf Seite 16.
1.	HI-P(ITOH8510).L (Listing 2) abtippen und starten. Dieses ist ein Ladeprogramm, das die Druckroutine HI-P(ITOH 8510) auf Diskette ablegt. Es wird (nach erfolgreichem Test) zum Arbeiten mit HI-EDDI nicht mehr benötigt.
2.	HI-E(ITOH8510) (Listing 1.) abtippen und speichern. Es ist das angepaßte Steuerprogramm und ersetzt das alte HI-EDDI.
So, das war’s eigentlich. HI-EDDI mit Itoh 8510A ist nun lauffähig. Mir bleibt nur noch, viel Erfolg mit HI-EDDI zu wünschen.
(Frank Ziesche/ah)
HI-EDDI mit der Datasette
Die Anpassung von HI-EDDI an die Datasette war doch nicht ganz so einfach wie zuerst gedacht. Hier sind die notwendigen Informationen.
Die folgenden Listingshinweise beziehen sich auf Seite 58ff. a) Am Listing 3 (HI-EDDI) folgende Änderungen vornehmen: In Zeile 50, 110 und 640 LOAD”.. ”,8,1 durch LOAD”.. ”,1 ersetzen.
160 ON A+1 GOSUB 290,250,300,290,290,600,290,290,500, 510,300:GOTO150
300 POKE8115,1:PRINT...
330 PRINTC$:POKE 780,ASC(C$):H$=W$:W$=" ”
340 INPUT"[Cursor DownJFILENAME";W$:SYS 3331:W$ = H$:H$=" ”
350 RETURN
Folgende Zeilen weglassen: 200-220, 400
b)	Das so modifizierte Listing 3 als erstes auf die Programmkassette aufnehmen.
c)	Folgende Befehle im Direktmodus eingeben: NEW:POKE8192,0:POKE43,1:POKE44,32:NEW
d)	Programmkassette einlegen (nach Listing 3) und Listing 2 starten. Wenn keine Fehler mehr drin sind, erzeugt der Lader auf der Kassette das Maschinenprogramm HI-EXE.
e)	HI-EDDI ist jetzt bereits lauffähig: Programmkassette zurückspulen, Computer kaltstarten, Listing 3 laden und starten. Das Maschinenprogramm wird nun geladen.
f)	Die HI-EDDI-Befehle LOAD und SAVE funktionieren ebenfalls, somit kann auch schon das Menü erstellt werden. Die fertige Menütafel (mit Listing 4 verbunden) sollte an dritter Stelle auf die Programmkassette aufgenommen werden.
g)	Hier die erforderlichen Änderungen am Listing 1: Zunächst wieder die POKEs wie unter c) eingeben und dann Listing 1 laden und folgende Änderungen vornehmen:
720 FOR l=3326 TO 3708
730 READA:IFA<0THEN730
740 POKEI,A:NEXT
750 POKE43,0:POKE44,13:POKE45,125:POKE46,14
760 SAVE”HI-PRINT”,1,1
770 END
h)	Programmkassette einlegen (an 4. Stelle) und Listing 1 starten. Auf der Kassette wird nun das Maschinenprogramm Hl-PRINT erzeugt.
Wenn nun im Programmlauf vor einem Druckvorgang diese Druckroutine geladen wurde, muß die Kassette zurückgespult werden, so daß das Maschinenprogramm HI-EXE nach Beendigung des Druckvorganges wieder geladen werden kann.
(Hans Haberl/ah)
84
C 64
Grafik
^ickfilm mit dem C 64
In die vierte Dimension, die bewegte dreidimensionale Grafik, dringen Sie mit diesem Programm vor. Sie können so mit einfachsten Mitteln Trickfilme mit verblüffenden Eigenschaften erstellen.
Die Unterschiede gegenüber anderen Trickfilmgeneratoren: — Es muß nur ein Bild eingegeben werden, alle anderen Bilder berechnet der Computer aus diesem Bild.
— Auch komplizierte Bewegungsabläufe können mühelos erzeugt werden (zum Beispiel: um einen Körper um die Z- und X-Achse zu drehen, dabei heranzuholen und nach links zu bewegen, bis er den Bildschirm verläßt, braucht man nur eine DATA-Zeile!).
— Es können sehr viele (bis zu 255) und große Bilder gespeichert werden, da nur die Linienkoordinaten gespeichert werden.
— Es werden keine Basic-Erweiterungen benötigt.
Der »3D-Movie-Maker« muß in zwei Teilen eingegeben werden: zuerst das Maschinenprogramm (Listing 1), dann der Basic-Teil. Wenn das Maschinenprogramm eingegeben und mit SYS 49152 gestartet wurde, so speichert es sich, falls kein Prüfsummenfehler auftrat, selbstals>TRICK.OBJ«ab. Man braucht sich nun nicht mehr darum zu kümmern. Bei dem Ba-sic-Teil (Listing 2), der nun eingegeben werden kann, dürfen alle REM-Zeilen ersatzlos wegfallen. Beim Start des Basic-Teils wird automatisch der Maschinenteil, der sich auf Diskette befinden sollte, nachgeladen.
Bedienung — Eingabe des Körpers
Vor der Benutzung des Programmes, müssen die Punkte Verbindungs- und Bewegüngsvorschrift des Körpers in den DATA-Zeilen ab 8000 festgelegt werden. Dies ist notwendig, damit bei Änderungen oder einem erneuten Start nicht alles wieder neu eingegeben werden muß. Die DATA-Zeilen, die das Listing momentan enthält, erzeugen den auf dem Bildschirm herumfliegenden Schriftzug »64’er«. Die Punkte werden mitX-, Y- und Z-Koordinaten eingegeben. Als Endmarke dient hier dreimal die 1000. Bei der Verbindungsvorschrift wirdjeweils der Anfangs- und Endpunkt angegeben zum Beispiel: Von Punkt 1 nach Punkt2 = DATA 1,2. Hierdientzweimaldie 1000 als Endmarkierung.
Beispiel: Man will ein Kreuz erzeugen.
Punkte: DATA 0,10,0,10,0,0,-10,0,0
DATA—10, 0,0, 1000,1000,1000 Verbindungsvorschrift: DATA 1,3,2,4,1000,1000
Bei der Bewegungsvorschrift ist es allerdings etwas komplizierter. Hier müssen zweimal drei Verschiebungsarten, drei Drehungsarten und die Dauer des Vorgangs angegeben werden. Zuerst kommt die erste Verschiebung in X-, Y- und Z-Richtung, dann die Drehung um die drei Achsen, nun die zweite Verschiebung und zum Schluß die Dauer des Ganzen. Diese Reihenfolge hat folgenden Sinn:
Wird zuerst verschoben und dann gedreht, dreht sich die Figur um den Bildschirmmittelpunkt. Bei umgekehrter Reihenfolge dreht sich die Figur an beliebiger Stelle um ihren eigenen Mittelpunkt. Hier ein Beispiel einer DATA-Zeile:
DATA 0,0,0,5,0,0, 0,5,0, 10
Die Figur bewegt sich 10 Bilder lang um jeweils 5 Stellen
nach oben und dreht sich dabei um jeweils fünf Grad um die X-Achse. Einen Zoomeffekt erreicht man durch Verschieben in der Z-Achse, so kann man zum Beispiel mit DATA 0,0,0,0,0,0,0,0,1,50 eine Figur langsam vergrößern. Hier bildet einmal die 1000 die Schlußmarkierung. Um die vielen verschiedenen Möglichkeiten der Bewegung zu entdecken, lohnt es sich, die verschiedenen Kombinationen auszuprobieren (und dabei mit einfachen Bewegungen anzufangen).
Bedienung — Ablauf des Programms
Der »3D-Movie-Maker« stellt vier Menüpunkte zur Wahl:
1	. Erzeugen einer Grafik
Hierbei berechnet der Computer die Anzahl der Bilder und fragt diese noch einmal ab. Sollen alle Bilder gezeichnet werden, braucht nur RETURN eingegeben werden. Nun wird der Speicherbedarf berechnet; reicht der vorhandene Speicher von 23 KByte aus, so beginnt der Rechenvorgang. Dabei wird die Anzahl der fertigen Bilder angezeigt. Ist der Rechenvorgang beendet (bei 150 Bildern mit je 10 Punkten zirka eine halbe Stunde) kehrt das Programm ins Menü zurück. Durch das Drücken der Leertaste kann man sich während der Berechnungen den Film ansehen und dann durch nochmaliges Betätigen fortfahren.
2	./3. Laden/ Speichern
Da däs Erstellen eines Films recht lange dauert, kann man fertige Filme speichern und laden. Das Programm hängt an den Filenamen automatisch ein »GRA« an, so daß die Dateien im Directory sofort erkennbar sind. Tritt ein Disk-Error beim Laden oder Speichern auf, landet man wieder in der »INPUT FILENAME«-Zeile. Hier noch ein Hinweis zur LOAD-Routine: Da das Einlesen von 23 KByte mit einer GET-Schleife nicht einwandfrei funktionierte und 15 Minuten dauerte, verwendet die jetzige Version die LOAD-Routine des Betriebssystems. 4. Abspielen
Beim Aufruf dieser Funktion wird man zuerst nach der Anzahl der Durchläufe (maximal 255) und nach der Anzahl der Bilder je Lauf gefragt. Beim letzteren braucht man nur RETURN eingeben, um alle Bilder ablaufen zu lassen.
Der Algorithmus
Das eigentliche Kernstück des Programms ist ein Algorithmus, der die Punkte um einen Winkel dreht, die X-, Y- und Z-Koordinaten in Bildschirmkoordinaten umrechnet und dann die außerhalb liegenden Teile der Linien wegstreicht. Beim Drehen (hier um die Z-Achse) werden erst X- und Y-Koordi-naten in Radius und Winkel (im Bogenmaß) umgerechnet; bezogen auf den Koordinatenursprung (siehe Bild 1). Nun wird der Winkel, um den gedreht werden soll, addiert und die neuen Koordinaten werden aus dem neuen Winkel und dem Radius errechnet (siehe Bild 2).
Beim Umrechnen in Bildschirmkoordinaten wird einfach die Z-Koordinate auf die X- und Y-Koordinate so aufgerechnet, daß Punkte, die weiter vorne liegen, vom Mittelpunkt wegrücken. Außerdem wird der Koordinatenursprung in die Bildschirmmitte verlegt. Durch dieses Verfahren wird die Figur mit einem Fluchtpunkt in der Mitte des Bildschirms dargestellt. Das nun folgende Wegstreichen der außerhalb liegenden Linien und Li-
a = atn (f) Radius = X2 + Y2
Bild 1. Angabe der Winkel in Bogenmaß

X = cosa • Radius Y = sina • Radius
Bild 2. Berechnung der neuen Koordinaten
85
Grafik
C 64
nienstücke, geschieht mit Hilfe einer Geradengleichung. Falls nur Teile der Geraden außerhalb des Bildschirms liegen, wird der äußerste Wert für X beziehungsweise Y angenommen und die fehlende Koordinate errechnet.
Beschreibung der Maschinenroutine
Die Zeichenroutine des »3D-Movie-Makers« übernimmt die Verwaltung der Grafik und ist, zum Erreichen eines Trickfilmeffekts, ganz auf Geschwindigkeit ausgelegt. Aus diesem Grund erhielt sie die folgenden Merkmale:
— Sie ist in Assembler geschrieben.
— Sie berechnet keine Punkte, sondern zeichnet nur.
— Die Koordinaten werden nicht geprüft, das heißt: das Basic-Programm darf keine »unmöglichen« Koordinaten übermitteln. — Der Bildschirm wird nur so weit gelöscht, wie es nötig ist. — Die Zeropage-Addressierung wird in breitem Umfang benutzt.
— Der IRQ wird abgestellt.
Das wichtigste Mittel zur Erzeugung eines flüssigen Bilderablaufs und die Grundidee der Routine ist jedoch das »verdeckte Zeichnen«. Dafür werden zwei Bitmaps benötigt (bei unserem Programm ab $A000 und $E000). Während nun eine der beiden zu sehen ist, wird auf der anderen gezeichnet. Nun wird das neue Bild sichtbar gemacht und das alte, welches nicht mehr zu sehen ist, wird gelöscht. Dieser Vorgang wiederholt sich, bis alle Bilder abgearbeitet sind. Hier noch ei-
ne Anmerkung: die Line-Routine haben wir mit einigen Änderungen dem Artikel »Ein schneller Drawline-Algorithmus« aus dem 64’er, 4/84 entnommen. Die Funktion läßtsich am besten dort nachvollziehen. (Armin und Dirk Biernaczyk/tr)
Felder:	
X(l), Y(l), Z(l)	: Originalkoordinaten der Figur aus den DATA-
	Zeilen
X1(l), Y1(l), Z(l)	: Koordinaten beim Rechnen und für das POKEN
P1(1), P2(l)	: Verbindungsvorschriften aus den DATA-Zeilen
Normale Variablen:	
PO	: Speicherpointer für fertige Daten
Q-1	: Zähler für fertige Bilder
A2	: Anzahl der Linien pro Bild
A1	: Anzahl der Punkte pro Bild
AN	: Anzahl der Bilder
P1, P2, P3, P4,	: Variablen zur Berechnung des zu löschenden
PB, PA	Bildschirmbereichs
WX, WY, WZ, XA,	: Variablen für die Drehbewegungen und Ver-
YA, ZA, XB, YB,	schieben (werden bei jedem Bild auf W1, ...
ZB	aufaddiert)
W1, W2, W3, X1,	: Momentane Lage des Körpers
Y1, Z1, X2, Y2,	
Z2	Variablenliste
100 REM 		<087>	1085	GOSUB 3040 :REM BEWEGEN	<092>
105 REM — 3D-M0VIE-MAKER	<194>	1090	GOSUB 2040 sREM BERECHNEN	<083>
110 REM — EIN PROGRAMM VONs	<046>	1095	GET TA$sIF TA$=" “THEN IF Q>1 THEN	SY
115 REM — DIRK & ARMIN BIERNACZYK —	<115>		S 49152,Q-1,A2,1	<039>
120 REM — AN DER PAPENBURG 41	<029>	1100	NEXT	<094>
125 REM — 4630 BOCHUM 6	<208>	1110	Q=Q-1	<014>
130 REM — TEL.; //////	<147>	1120	RETURN	<162>
135 REM 		<122>	1130	:	<090>
140 REM (C) 1985 BY ARMIN & DIRK	<153>	1135	s	<095>
145 REM	BIERNACZYK	<134>	2000	REM		<125>
150 :	<126?*	2010	REM 	 BERECHNEN 		<159>
1 ADI RFM			9ÜI9OI	DCM		
	<017>			< 145?
170 REM 	 HAUPTMENUE 		<121>	2030		<228>
180 REM 		<037>	2040	REM 	 VERSCHIEBEN1 		<175>
190 s	<166>	2050		<250>
191 IF A=0 THEN A=lsL0AD"TRICK.0BJ",8,l	<151>	2060	FOR 1=1 TO Al	<183>
192 :	<168>	2070	Xl(I)=X<I)+XlsYl(I)=Y(I)+Yl	<171>
195 POKE 56,50sCLRsREM SPEICHER HERAB.	<154>	2080	Z1(I)=Z(I)+Z1	<209>
200 PRINT CHR$(147)	<229>	2090	NEXT	<068>
210 PRINT SPC(10)"*# 3D-M0VIE-MAKER **"	<180>	2100		<044>
220 PRINT;PRINT:PRINTsPRINT	<015>	2110	REM 	 DREHEN 		<196>
230 PRINT SPC(9)"1 - GRAFIK ERSTELLEN“	<194>	2120		<064>
235 PRINT	<081>	2130	IF W1=0 THEN 2250	<125>
240 PRINT SPC(9)"2 - GRAFIK ABSPIELEN“	<219>	2140	FOR 1=1 TO Al	<007>
245 PRINT	<091>	2150	XD=Xl(I)sYD=Yl(I)	<194>
250 PRINT SPC(9)"3 - GRAFIK LADEN“	<115>	2160	IF XD=0 THEN XD=lE-20	<137>
255 PRINT	<101>	2165	IF YD=0 THEN YD=lE-20	<151>
260 PRINT SPC(9)"4 - GRAFIK ABSPEICHERN"	<129>	2170	R=SQR(XD*XD+YD*YD)	<156>
262 PRINT	<110?*	2180	W=ATN(YD/XD)	<214>
264 PRINT SPC(9>"5 - ENDE“	<041>	2190	IF XD>0 AND YD<0 THEN W=W+t*2:G0T0	22
265 s	<243?*		10	<204>
270 GET W$sIF W$<"l"OR W$>"5"THEN 270	<160?*	2200	IF XD<0 THEN W=W+1	<158>
280 W=VAL(W$)	<125>	2210	W=W+W1	<219>
285 IF W=5 THEN END	<001>	2220	Y1(I)=SIN(W)*RsXl(I)=COS(W)*R	<236>
290 ON W GOSUB 1040,5040,6040,7040	<235>	2230	NEXT	<208>
300 GOTO 200	<238>	2240		<184>
310 :	<032>	2250	IF W2=0 THEN 2370	<015>
315 :	<037>	2260	FOR 1=1 TO Al	<127>
320 s	<042?*	2270	ZD=Zl(I)sYD=Yl(I)	<130>
1000 REM 		<141>	2280	IF ZD=0 THEN ZD=lE-20	<019>
1010 REM 	 ERSTELLEN 		<030>	2285	IF YD=0 THEN YD=lE-20	<015>
1020 REM 		<161>	2290	R=SQR(ZD*ZD+YD*YD)	<152?*
1030 s	<246>	2300	W=ATN(YD/ZD)	<082>
1040 GOSUB 4540 :REM VARIABLEN	<022>	2310	IF ZD>0 AND YD<0 THEN W=W+i*2;G0T0	23
1050 GOSUB 4040 :REM EINLESEN	<139?*		30	<216>
1060 PRINT ChR$(147)"FERTIGE BILDERs "	<131>	2320	IF ZD<0 THEN W=W+1	<040>
1061 IF AN*(A2*6+2)<23000 THEN 1080	<089>	2330	W=W+W2	<214>
1062 PRINT"ZU WENIG SPEICHERPLATZ“	<143>	2340	Yl(I)=SIN(W)*R;Zl(I)=COS(W)*R	<103>
1063 POKE 198,0sWAIT 198,l:RETURN	<190>			
1070 s	<030>			
1080 FOR Q=1 TO AN sREM ANZAHL DER BILDER	<125>	Listing 2. »3D-Movie-Maker«		
C 64
Grafik
2350	NEXT	<074>	2870	P1=P2;P2=PA:P3=P4:P4=PB	<144>
2360	■	<050>	2872	PRINT CHR$(19)SPC(16)Q	<186>
2370	IF W3=0 THEN 2510	<133>	2880	RETURN	<144>
2380	FOR 1=1 TO Al	<249>	2890	■	<072>
2390	ZD=Zl(I)sXD=Xl(I)	<180>	2900		<082>
2400	IF ZD=0 THEN ZD=lE-20	<141>	3000	REM		<080>
2405	IF XD=0 THEN XD=lE-20	<128>	3010	REM 	 BEWEGEN 		<186>
2410	R=SQR(ZD*ZD+XD*XD)	<130?>	3020	DCM		<100> <212>
2420	W=ATN(XD/ZD)	<140>	3030		
2430	IF ZD>0 AND XD<0 THEN W=W+i*2sG0T0 24		3040	IF E=0 THEN 3100	<082>
	50	<210>	3050	Wl=Wl+WZ:W2=W2+WX;W3=W3+WY	<027>
2440	IF ZD<0 THEN W=W+1	<160>	3060	Xl=Xl+XA:Yl=Yl+YA:Zl=Zl+ZA	<125>
2450	W=W+W3	<206>	3070	X2=X2+XB;Y2=Y2+YB:Z2=Z2+ZB	<143>
2460	XI (I)=SIN(W)*R:Z1(I)=COS(W)*R	<219>	3080	E=E-lsRETURN	< 138>
2470	NEXT	<194>	3090	:	<018>
2480		<170>	3100	READ XA,YA,ZA,WX,WY,WZ,XB,YB,ZB,E	<203>
2490	REM 	 UMRECHNEN 		<076>	3110	WX=WX*t/180 5WY=WY*1/180	<254>
2500		<190>	3120	WZ=WZ*t/180sYA=-YA: YB=-YB	<044>
2510	FOR 1=1 TO Al	<123>	3130	GOTO 3050	<198>
2530	XI(I)=(X1(I)+X2)*1.01f(Zl(I)+Z2)	<215>	3140		<068>
2540	Y1 (I)=(Y1(I)+Y2)*1.01t(Zl(I)+Z2)	<103>	3150		<078>
2560	NEXT	<030>	4000	REM		<244>
2565	REM 1.01 KANN LEICHT GEAENDERT	<109>	4010	REM 	 EINLESEN 		< 155>
2567	REM WERDEN	<178>	4020	REM		<008>
2580		<016>	4030		<196>
2590	PA=0:PB=199	<043>	4040	1=0	<163>
2600	P0=P0-2	<006>	4050	I = I + 1	<223>
2601	REM		<048>	4060	READ X(I),Y(I),Z(I)	<224>
2602	REM 	 UBERGETRETENE LINIEN 		<122>	4070	Y(I)=-Y(I)	<251>
2603	REM 	 BERECHNEN UND POKEN 		<032>	4080	IF X(I)<1000 THEN 4050	<116>
2604	REM		<051>	4090	A1=I-1	<124>
2610	FOR 1=1 TO A2	<226>	4100	1=0	<225>
2620	X07.=X1 (Pl(I) ):Y17.=Y1 (Pl(I))	<199>	4110	I = I + 1	<029>
2630	X27.=X1 (P2(I) ) sY2X=Yl (P2(I) )	<232>	4120	READ Pl(I),P2(I)	<100>
2640	XlX=0sX3X=0sME=0	<087>	4130	IF Pl(I)<1000 THEN 4110	<115>
2641	IF X07.> 159 AND X27.> 159 THEN 2760	<013>	4140	A2=I-1	< 184>
2642	IF X0%<-159 AND X27.<-159 THEN 2760	<041>	4150		<062>
2643	IF Y17.<- 99 AND Y27.<- 99 THEN 2760	<177>	4155	AN=0	<003>
2644	IF Y17.>	99 AND Y27.>	99 THEN 2760	<186>	4157	READ A:IF A=1000 THEN 4180	<172>
2650	IF Y17.=Y27.THEN 2711	<005>	4160	FOR 1=1 TO 9:READ A:NEXT	<013>
2655	IF X27.=X0XTHEN 2690	<065>	4170	AN=AN+A;GOTO 4157	<030>
2660	M=(Y2Z-YlZ)/(X2%-X0Z)	<177>	4180	RESTORE	< 166>
2670	B=-M*X07.+Y17.	<127>	4190	READ A,A,A	<059>
2680	GOTO 2720	<008>	4200	IF A<1000 THEN 4190	<182?^
2690	IF Y17.>99 OR Y17.<-99 THEN Y17.=99*SGN(		4210	READ A,A	<164>
	YlZ)	<171>	4220	IF A<1000 THEN 4210	<082>
2700	IF Y27.>99 OR Y27.<-99 THEN Y27.=99*SGN(		4230		<142>
	Y27.)	<229>	4240	PRINT CHRI(147)"BILDERZAHL<2SPACE>"AN	<102>
2710	GOTO 2760	<166>	4250	PRINT CHR*(i9)SPC(ll)5:INPUT I	<252>
2711	IF X07.>159 OR X07.<-159 THEN X0%=159*S		4260	IF I>255 OR I>AN THEN 4240	<040>
	GN(X07.)	<155>	4270	AN=I	<153>
2712	IF X27.>159 OR X27.<-159 THEN X27.=159*S		4280	RETURN	<018>
	GN(X27.)	<029>	4290		<202>
2713	GOTO 2760	<169>	4300		<212?^
2720	IF X07.>159 OR X07.<-159 THEN X0Z=159*S		4500	REM		<085>
	GN(X07.)sY17.=M*X07.+B	<150>	4510	REM 	 VARIABLEN 		<042>
2730	IF X27.>159 OR X27.<-159 THEN X27.= 159*S		4520	REM		< 105>
	GN ( X27.) : Y27.=M*X27.+B	<057>	4530		<188>
2740	IF Y17.>99 OR Y17.<-99 THEN Y17.=99*SGN(		4533	REM NACH BEDARF DIMENSIONIEREN	<188>
	Y17.):X07.= (Y17.-B)/M	<122>	4536		< 194>
2750	IF Y27.>99 OR Y27.<-99 THEN Y2Z=99*SGN(		4540	DIM X(50),Y(50),Z(50)	<164>
	Y27.) ; X27.= (Y27.-B) /M	<248>	4560	DIM Xl(50),Yl(50),Zl(50)	<010>
2760	IF Y17.>99 OR Y17.<-99 THEN X17.=255:X0%		4570	DIM Pl(50),P2(50)	<048>
	=0sY17.=0sY27.=0: X27.=0;GOTO 2810	<058>	4580	P0=35839:P1=32:P2=32;P3=0:P4=0	<246>
2770	IF X07.>159 OR X07.<-159 THEN X17.=255:X		4590	RETURN	<074>
	07.=0: Y17.=0: Y27.=0: X27.=0: GOTO 2810	<028>	4600	2	<002>
2780	;	<216>	4605		<007>
2790	X07.=X07.+ 160: X27.=X27.+ 160	<212>	5000	REM		<077>
2791	Y17.=Y 1Z+100: Y27.=Y27.+100	<178>	5010	REM 	 ABSPIELEN 		<165>
2793	IF Y17.?>PA THEN PA=Y17.	<079>	5020	REM		<097>
2794	IF Y27.>PA THEN PA=Y27.	<160>	5030		<180>
2795	IF Y17.<PB THEN PB=Y17.	<218>	5040	IF Q>0 AND A2>0 THEN 5090	<139>
2796	IF. Y27.<PB THEN PB=Y27.	<043>	5050	PRINT CHR$<147);PRINT;PRINT:PRINT	<238>
2799	IF X07.>255 THEN X07.=X07.-256;X17.= 1	<247>	5060	PRINT SPC<5)"ES GIBT KEINE GRAFIK"	<094>
2800	IF X27.>255 THEN X27.=X27.-256:X37.= 1	<060>	5070	POKE 198,0:WAIT 198,l:P0KE 198,0	<091>
2805	■	<241>	5080	RETURN	<056>
2810	POKE PO,X07.;POKE PO-l,X17.	<039>	5090	INPUT"<CLR)WIEVILE DURCHLAUEFE";DU	<209>
2820	POKE P0-2,Y17.:P0KE P0-3,X27.	<031>	5091	IF DU>255 DR DU<1 THEN 5090	<161>
2830	POKE P0-4,X3%;P0KE P0-5,Y27.	<179>	5092	PRINT"<H0ME,2D0WN>WIEVIELE BILDER<5SP	
2840	P0=P0-6	<252>		ACE>"Q	<097>
2850	NEXT	<066>	5093	PRINT"<UP>"SPC(19);:INPUT I	<233>
2860	•	<042>	5094	IF I>Q OR I<1 THEN 5092	<171>
2862	IF PA<PB THEN PA=199sPB=0	<088>	5100		<250>
2863	PA=40*((PA OR 7)+l)/256+l	<027>			
2864	PB=40*(PB AND 248)/256	<219>			
2866	POKE P0+6*A2+2,INT(Pl)-INT<P3)	<168>	Listing 2. Das Basic-Programm zum >>3D-Movie-Maker<<.		
2868	POKE P0+6*A2+l,P3	<198>	Verwenden Sie zur Eingabe bitte den Checksummer.		
87
Grafik
C 64
5105 5110	SYS 49152,I,A2,DUsRETURN	<131> <004>	7185 8000	REM		<049> <025>
6000	REM		<153>	8010	REM 	 DATAS FUER PUNKTE 		<255>
6010	REM	LADEN		<096>	8020	REM		<045?^
6020	REM		<173>	8030		<132>
6030	;	<164>	8040	DATA -20, 10,0	<049>
6040	PRINT CHR*(147)sPRINTsPRINT:PRINT:PRI		8050	DATA -30, 10,0	<075>
	NT	<138>	8060	DATA -30,-10,0	<205>
6050	INPUT"<3SPACE >FILENAME: ”;NA*	<205>	8070	DATA -20,-10,0	<199>
6055	IF NA*="M"THEN RETURN	<109>	8080	DATA -20,	0,0	<029>
6060	OPEN 2,8,2,NA*+".GRA,S,R"	<146>	8090	DATA -30,	0,0	<055>
6070	OPEN l,8,15:INPUT#l,FE*	<136>	8100	DATA -15, 10,0	<253>
6080	IF FE*="00"THEN 6090	<007>	8110	DATA -15,	0,0	<203>
6082	CLOSE l;CLOSE 2:G0T0 6040	<180>	8120	DATA - 5, 10,0	<053>
6090	GET#2,Q*,A2*	<060>	8130	DATA - 5,	0,0	<161>
6100	Q=ASC(Q*);A2=ASC(A2*>	<177>	8140	DATA - 5,-10,0	<132>
6110	AD=35839-Q*(A2*6+2)	<039>	8150	DATA 10, 10,0	<035>
6140	CLOSE 2sCL0SE 1	<064>	8160	DATA 5,	5,0	<096>
6150	AH=INT(AD/256)sAL=AD-AH*256	<100>	8170	DATA 15,-10,0	<194?^
6160	A*=NA*+".GRA,S"	<190	8180	DATA 5,-10,0	<064>
6170	FOR 1=51000 TD 51000+LEN(A*)-1	<155?^	8190	DATA 5,	0,0	<222>
6180	POKE I,ASC(MID*(A*,I-50999,1))	<128>	8200	DATA 15,	0,0	<103>
6190	NEXT	<104>	8210	DATA 15, -5,0	<128>
6200	POKE 183,LEN(A*)	<167>	8220	DATA 5, -5,0	<243>
6210	POKE 187,56sP0KE 188,199	<208>	8230	DATA 20,-10,0	<205>
6220	POKE 185,0sPOKE 186,8sP0KE 147,0	<250>	8240	DATA 20,	0,0	<107>
6570	POKE 195,AL:P0KE 196,AH	<154?^	8250	DATA 20, -5,0	<132>
6580	SYS 62648	<035>	8260	DATA 30,	0,0	<131>
6590	RETURN	<042>	8900	DATA 1000,1000,1000	<216>
6600		<226>	8910	:	<250>
6610		<236>	9000	REM		<203>
6620		<246>	9010	REM 	 VERBINDUNGSVOSCHRIFT 		<134>
7000	REM		<164>	9020	REM		< 223 >
7010	REM 	 ABSPEICHERN 		<245>	9030	:	<116>
7020	REM		<184>	9040	DATA 1, 2,	2, 3,	3, 4,	4, 5	<055>
7030	:	<148>	9050	DATA 5, 6,	7, 8,	8,10,	9,11	<122?^
7040	IF Q>0 AND A2>0 THEN 7090	<139>	9060	DATA 12,13, 14,15, 15,16, 16,17	<021>
7050	PRINT CHR*(147)sPRINT:PRINT;PRINT	<206>	9070	DATA 17,18, 18,19, 20,21, 22,23	<243>
7060	PRINT SPC(5)"ES GIBT KEINE GRAFIK"	<062>	9450	DATA 1000,1000	<198?>
7070	POKE 198,0:WAIT 198,lsP0KE 198,0	<059>	9460	:	<036>
7080	RETURN	<024>	9500	REM		<211>
7090	PRINT CHR*(147);PRINT:PRINT:PRINT	<246>	9510	REM 	 BEWEGUNGSVOSCHRIFT 		<187>
7100	INPUT"<4SPACE>FILENAME: ";NA*	<239>	9520	REM		<231>
7105	IF NA*="M"THEN RETURN	<143>	9530	:	< 108>
7110	OPEN 2,8,2,NA*+".GRA,S,W"	<084>	9531	REM XA,YA,ZA,WX,WY,WZ,XB,YB,ZB,E	<060>
7120	OPEN l,8,15;INPUT#l,FE*	<170>	9550	DATA 0,0,	1 ,0,0,0 ,0,0,	0 ,30	<043>
7130	IF FE$="00"THEN 7140	<024>	9560	DATA 0,0,	0 ,0,5,0 ,0,0,	0 ,108	<185>
7135	CLOSE lsCLOSE 2sG0T0 7090	<003>	9570	DATA 0,0,-30 ,0,0,0 ,0,0,-30 ,1	<233>
7140	PRINT#2,CHR*(Q);CHR*(A2);	<185>	9580	DATA 0,0,	0 ,5,0,5 ,0,0,.81 ,36	<178>
7150	FOR I=35839-Q*(A2*6+2)T0 35839	<228?^	9620	DATA 1000	< 138?^
7160 7170 7175	PRINT#2,CHR*(PEEK(I));:NEXT CLOSE 2sCL0SE l;RETURN	<135> <251> <039>	© 64'er		
7180	s	<044>	Listing 2. »3D-Movie-Maker« (Schluß)		
programm : trick.obj cOOO c2a4
c000 : 20 36 cO 20 a4 cO 20 98 71 cOOB : cO 20 e6 cO c6 4f dO f3 bc cOlO : 20 7f cO c6 52 dO ec a9 ab c018 : 37 85 01 58 a9 00 85 c6 9b c020 : a5 c6 fO fc c6 c6 a9 lb 83 c028 : 8d 11 dO a9 15 8d 18 dO 67 c030 s a9 03 8d 00 dd 60 20 fd lc c038 s ae 20 9e b7 86 4e 20 fd ec c040 : ae 20 9e b7 86 50 20 fd 04 cO48 s ae 20 9e b7 86 52 a9 3b bd c050 : 8d 11 dO a9 38 8d 18 dO cl c058 : a9 00 8d 00 dd 20 c2 cO dO c060 ; 78 a9 35 85 01 a2 Ob bd 78 c068 : 8c cO 95 aO ca 10 f8 a2 24 c070 ; 20 a9 00 a8 20 aO 00 a9 d4 c078 : aO 85 fc a9 00 85 53 a9 lc c080 : 8b 85 8e a9 fa 85 8d a5 04 cOB8 s 4e 85 4f 60 99 00 eO c8 27 c090 : dO fa e6 a2 ca dO f5 60 b7 c098 : a5 50 85 51 20 70 cl c6 Ob c0a0 : 51 dO f9 60 aO 05 bl Bd f8 cOa8 = aa 88 bl 8d 05 fc 85 a2 48 cObO : 38 a5 Bd e9 02 85 8d bO 3f cOb8 s 02 c6 8e a9 00 a8 20 aO fd cOcO : 00 60 a9 10 aO cc 84 8c f8 cOcB s aO 00 84 8b 20 d9 cO aO 10 cOdO : 8c 84 8c aO 00 20 d9 cO bf cOd8 s 60 a2 04 91 8b cB dO fb f7
c0e0 : e6 8c ca dO f6 60 a5 53 89 cOe8 : dO Oc e6 53 a9 eO 85 fc 94 cOfO : a5 53 8d 00 dd 60 c6 53 45 cOf8 : a9 aO 4c ee cO 8a 4a 4a 00 clOO s 29 fe a8 b9 36 cl 85 fd 8d clO8 : b9 37 cl 85 fe 8a 29 07 75 cllO : 18 65 fd 85 fd a5 14 29 ba cll8 : f8 65 fd 85 fd a5 fe 65 c7 cl20 ; fc 65 15 85 fe a5 14 29 85 cl28 : 07 49 07 aa bd 68 cl aO 52 cl30 s 00 11 fd 91 fd 60 00 00 4d cl38 s 40 01 80 02 cO 03 00 05 87 cl40 : 40 06 80 07 cO 08 00 Oa e5 cl48 : 40 Ob 80 Oc cO Od 00 Of 42 cl50 : 40 10 80 11 cO 12 00 14 9f cl58 : 40 15 80 16 cO 17 00 19 fd cl60 s 40 la 80 lb cO lc 00 le 5a cl68 : 01 02 04 08 10 20 40 80 71 cl70 : 20 71 c2 aO 01 84 62 84 d4 cl78 : 5f 84 5d 88 84 5e 84 61 92 cl80 : 84 60 88 a5 59 c5 15 90 44 cl88 : 08 dO 18 a5 58 c5 14 bO 18 cl9O : 12 38 a5 14 e5 58 85 5b 98 cl98 : a5 15 e5 59 85 5c 84 62 7e claO s 4c bO cl 38 a5 58 e5 14 99 cla8 : 85 5b a5 59 e5 15 85 5c 45 clbO : a5 ff c5 57 bO Oc 38 a5 49 clb8 s 57 e5 ff 85 5a 84 5f 4c 92 clcO : c6 cl e5 57 85 5a a5 5c 46 clc8 : dO 19 a5 5b c5 5a bO 13 12 cldO : a6 5a 85 5a 86 5b a5 62 ef
cld8 :	85	60	a5	5f	85	61	c8	84	72
cleO :	62	84	5f	a5	5c	4a	85	59	f2
cle8 s	a5	5b	6a	85	58	4c	5c	c2	65
clfO :	a5	62	30	Ob	18	65	14	85	3c
clf8 :	14	90	Od	e6	15	dO	09	18	al
c200 s	65	14	85	14	bO	02	c6	15	b4
c208 s	18	a5	57	65	61	85	57	18	45
c210 :	a5	58	65	5a	85	58	a5	59	ea
c21B :	69	00	85	59	e6	5d	dO	02	ae
c220 :	e6	5e	a5	59	c5	5c	90	34	b4
c228 s	dO	06	a5	5b	c5	58	bO	2c	Oa
c230 :	38	a5	58	e5	5b	85	58	a5	9c
c238 s	59	e5	5c	85	59	a5	60	30	fO
c240 :	Ob	18	65	14	85	14	90	Od	89
c248 :	e6	15	dO	09	18	65	14	85	16
c250 :	14	bO	02	c6	15	18	a5	57	6d
c258 :	65	5f	85	57	a6	57	20	fd	5b
c260 s	cO	a5	5e	c5	5c	90	07	a5	f5
c268 :	5b	c5	5d	bO	01	60	4c	fO	39
c270 :	cl	aO	05	bl	8d	85	14	88	5f
c278 :	bl	8d	10	05	68	68	4c	97	bf
c280 5	c2	85	15	88	bl	8d	85	57	a7
c288 :	88	bl	8d	85	58	88	bl	8d	a8
c290 :	85	59	88	bl	8d	85	ff	38	90
c298 :	a5	8d	e9	06	85	8d	bO	02	ca
c2a0 :	c6	Be	60	20	Of	c9	Oe	dO	e3
Listing 1. Die Maschinenroutine zu »3D-Movie-Maker«.
Bitte mit dem MSE eingeben.
88

C 64
Hilfsprogramm
Verbotene Variablen
Hatten Sie schon Probleme mit dem SYNTAX ERROR in anscheinend korrekten Basic-Zeilen? Wahrscheinlich lag es an verbotenen Variablen, die hier näher erklärt werden. Außerdem zeigen wir Ihnen, wie Sie Basic-Pro-gramme strukturieren können.
Wer jemals versucht hat, fremde Basic-Programme zu verstehen und dem Gedankengang des Autors zu folgen, der hat sich bestimmt des öfteren darüber geärgert, daß Basic leider allzuoft in einem Spaghetticode ausartet. Sogar der Autor eines Programms findet sich, wenn er nicht ’zig REM-Zeilen eingearbeitet hat, nach einigen Monaten nicht mehr mit dem eigenen Programm zurecht. Das sind dann die Momente, wo man in Richtung Pascal oder all den anderen strukturierten Programmiersprachen schielt.
Der vorliegende Artikel wendet sich an alle, die nach einer Möglichkeit suchen, mit dem vorhandenen (zugegebenermaßen mageren) Basic des C 64 trotzdem ihre Listings etwas übersichtlicher zu gestalten und ihnen eine Struktur zu verleihen.
Übersichtliche Listings
Einige Basic-Programmierer benutzen zur Strukturierung ihrer Programme entweder REMs oder einfach nur den Doppelpunkt. Damit können einzelne Programmteile beim Listing optisch voneinander getrennt werden. Eine bessere Lesbarkeit wird erzielt. Eine andere Möglichkeit zur Strukturierung bieten die Grafikzeichen des C 64.
Nun, werden Sie sich fragen, was denn so besonderes daran sei, Grafikzeichen in Programmen zu verwenden. Man sieht sie doch alle Tage in Listings. Der Witz dieser Lösung zur optischen Aufbereitung von Listings ist, daß die verwendeten Grafikzeichen unsichtbar bleiben, aber die Lesbarkeit der Programme sichtbar unterstützen.
Um diesen scheinbaren Widerspruch aufzulösen, ist es notwendig, sich ein wenig mit der Art und Weise zu beschäftigen, wie der Basic-Interpreter Programmzeilen im Basic-Speicher ab $0801 (dezimal 2049) ablegt.
Schauen Sie sich dazu einmal das kleine Beispielprogramm an.
10 FORI = 0TO20
20 PRINT’TEST”
30 NEXT
Mit einem Monitor erhalten Sie den folgenden Speicherauszug:
0800	00	10	08	0A	00	81	20	49
0808	B2	31	20	A4	20	32	30	00
0810	1C	08	14	00	99	22	54	45
0818	53	54	22	00	22	08	1E	00
0820	82	00	00	00				
Da das Beispielprogramm klein ist, wird noch keine Strukturierung sinnvoll. Stellen Sie sich aber vor, es wäre ein Programm mit 50 und mehr Zeilen, mit einer Menge von GOTOs, GOSUBs und FOR-NEXT-Schleifen. In diesem Fall wird ein herkömmliches Listing von Zeile 2u Zeile unübersichtlicher.
Eine einfache, aber recht wirkungsvolle Möglichkeit, ein Listing »durchsichtig« zu machen, ist das Einrücken der Programmzeilen innerhalb einer Schleife. Das Einrücken geschieht meist durch die Voreinstellung eines oder mehrerer Doppelpunkte am Anfang einer Zeile in Verbindung mit einer Reihe von Leerzeichen.
Es geht aber auch anders. Geben Sie dazu die Zeile 20 neu ein:
20 [SHIFT-J] [4*Leertaste] PRINT’TEST”
Wenn Sie nun das kleine Programm listen, ist etwas Erstaunliches passiert:
10 FOR 1 = 1 TO 20
20 PRINT”TEST”
30 NEXT
Das bei der Eingabe sichtbare Grafikzeichen ist unsichtbar geworden, der PRINT-Befehl aber ist wie bei der Eingabe um vier Leerzeichen (plus ein erzwungenes Leerzeichen nach der Zeilennummer) nach rechts gerückt worden. Wenn Sie das gleiche durch Eingabe von vier Leerschritten unmittelbar nach der Zeilennummer versucht hätten, so wäre der Versuch fehl-geschlagen.
Der Interpreter ignoriert nämlich alle Leerzeichen, die der Programmierer nach der Zeilennummer eingibt; vielmehr wirft er diese alle weg, bis er auf die erste Basic-Aweisung oder einem Doppelpunkt in der betreffenden Zeile trifft. Andererseits besteht er auf genau einem Leerzeichen unmittelbar nach der Zeilennummer, das er eventuell selbst einfügt.
Aber was ist durch das Grafikzeichen im Speicher passiert? Einen Speicherauszug liefert das folgende Bild:
0800	00	10	08	0A	00	81	20	49
0808	B2	31	20	A4	20	32	30	00
0810	20	08	14	00	20	20	20	20
0818	99	22	54	45	53	54	22	00
0820	26	08	1E	00	82	00	00	00
Die interessantesten Speicherstellen beginnen ab $0810, wo sich gegenüber unserem vorangehenden Beispiel etwas geänderthat. Wirsehen in $0810 und $0811 den Zeiger (hier 20 08 = $0820) auf den Anfang der nächsten Basic-Zeile. Diefolgenden Hex-Zeichen 14 00 ergeben in Low-/High-Byte-Darstellung die Zeilennummer 20. Dann folgen die vier eingefügten Leerzeichen ($20) und erst danach das Token 99 (interne Abkürzung des Interpreters) für den PRINT-Befehl. Die folgenden Zeichen sind dann, jeweils um vier Speicherstellen verschoben, mit den Zeichen aus dem vorangehenden Beispiel identisch.
Wenn Sie nun spaßeshalber den Cursor nochmals auf die Zeile 20 des Programmes fahren und die RETURN-Taste drücken, schaut die Zeile 20 nach erneutem Listen wieder so aus, wie ohne Benutzung des »Grafikzeichen-Tricks«. Das geschieht, weil der C 64 einen bildschirmorientierten Editor besitzt, der in letzterem Fall nicht unterscheidet, ob die Zeile 20 neu eingetippt oder »vom Bildschirm übernommen« wird.
Mit dem Eingeben eines Grafikzeichens unmittelbar nach der Zeilennummer übertölpeln Sie den Interpreter, der diese Art von Zeichen an dieser Stelle nicht erwartet hätte. Vor lauter Staunen »vergißt« er dann die eingegebenen Leerzeichen zu ignorieren, wie es sonst seine Art ist.

89
Hilfsprogramm
C 64
Verwendung von »verbotenen« Variablen
Hand aufs Herz! Ist es Ihnen nicht auch schon einmal passiert, daß Sie ein Programm geschrieben haben und der Lesbarkeit halber leicht merkbare und selbsterklärende Variablen-namen verwendeten. Beim ersten Testlauf stieg der C 64 dann mit der Fehlermeldung SYNTAX ERROR aus und Sie in die Fehlersuche ein.
Meist dauert es dann ein wenig, bis man den Fehler erkennt und beispielsweise einen Variablennamen wie SCHIFF als den Übeltäter entlarvt. SCHIFF ist ein verbotener Name für eine Variable, da der Name eine Basic-Anweisung (IF) enthält. Stößt der Interpreter auf einen solchen Namen, so ist er irritiert, meldet einen Fehler und beendet einfach seine Arbeit.
Schauen Sie sich anhand eines kleinen Beispiels einmal die Arbeitsweise des Interpreters an.
10 SCHIFF$=”TITANIC”
20 PRINT SCHIFF$
Wenn Sie das Programm starten, so geht das Programm ebenso unterwie das besagte Schiff. Ein Monitorlisting schafft Klarheit:
0800	00	16	08	0A	00	53	43	48
0808	8B	46	24	B2	22	54	49	54
0810	41	4E	49	43	22	00	23	08
0818	14	00	99	20	53	43	48	8B
0820	46	24	00	00	00			
Genauer die Speicherzelle $0808 (beziehungsweise $081F). Der C 64 übernimmt eine Programmzeile erst in seinen Programmspeicher, nachdem man die RETURN-Taste gedrückt hat. Dann wird vom Betriebssystem die eingegebene Zeile Zeichen für Zeichen vom Bildschirm übernommen. Der Interpreter hatalso beim Eingeben des oben angeführten Programms die Zeichenfolge SCHIFF$ ASCII-Zeichen für Zeichen in die Zellen ab $0805 eingeschrieben, bis er auf die für ihn bekannte Zeichenfolge IF traf. Folgerichtig schrieb er für IF das Token $8B ein und übernahm den Rest der Zeile wie gewohnt. Beim Abarbeiten des Programms versucht der Interpreter, die im Programmspeicher vorgefundenen Zeichen wieder seriell zu lesen und die einzelnen Befehle abzuarbeiten.
Dies mißlingt aber bereits in der ersten Zeile, weil er die Folge (ASCII)SCH(BASIC)IF(ASCII)F$ nicht zu interpretieren vermag. Weil der lnterpeter in diesen Fällen so unnachgiebig ist, sind also alle Variablennamen verboten, die Basic-Wörter enthalten (zum Beispiel OR oder TAN).
Beispiele für verbotene Namen sind also: TANNE, LAND$, ORT$, START, um nur einige zu nennen. Wie man an der kleinen Aufzählung erkennt, muß man ziemlich aufpassen, um nicht wieder vom »SYNTAX-TERROR« erwischt zu werden.
Die Lesbarkeit von Programmen leidet schon ein wenig unter dieser Einschränkung, da man sehr oft auf unverständlichere und weniger selbsterklärende Variablennamen ausweichen muß. Mit Hilfe eines kleinen Tricks läßt sich der Interpreter aber so »über’s Ohr hauen«, daß er verbotene Variablennamen akzeptiert und dem Programmierer quasi freie Auswahl für seine Variablennamen gibt.
Wer aufmerksam den ersten Teil dieses Artikels gelesen hat, kann sich vielleicht schon denken, wie dieser Trick funktioniert. Richtig, es werden wieder die Grafikzeichen an den entsprechenden Stellen eingesetzt, um den lnterpretervon unseren Absichten zu überzeugen.
Geben Sie also ein:
10 SCHI[SHIFT-J]F$=”TITANIC”
20 PRINT SCHI[SHIFT-JjFF$
Ein RUN bestätigt, daß unser Schiff soeben auf den Namen TITANIC getauft wurde und die SYNTAX-ERROR-Meldung des C 64 ausbleibt. Der Monitor zeigt, was mit dem Programm, das sich beim Listen äußerlich in nichts vom vorstehenden Beispiel unterscheidet, geschehen ist.
0800	00	17	08	0A	00	53	43	48
0808	49	46	46	24	B2	22	54	49
0810	54	41	4E	49	43	22	00	25
0818	08	14	00	99	20	53	43	48
0820	49	46	46	24	00	00	00	
Ein Blick auf die Speicherstellen ab $0808 und $0820 zeigt, daß der Interpreter sich überlisten ließ und SCHIFF$ als sieben ASCII-Zeichen gespeichert hat. So kann er das Programm auch ausführen, weil er nicht mehr durch das Basic-Token IF verwirrt wird.
Das Drücken der RETURN-Taste bewirkt, daß der Interpreter jedes einzelne Zeichen der aktuellen Programmzeile übernimmt und auf Zeichenfolgen achtet, die ihm als Basic-Anweisungen oder -Funktionen bekannt sind. Letztere würde er als Token abspeichern. Nachdem er die Zeichenfolge SCH gelesen hat, hat er bereits eine Menge Arbeit hinter sich gebracht.
Die Folge SC kennt er nicht, wohl aber die Folge CH. Als nächste Zeichen könnten R und $ dann CHR$ ergeben, was als Token $C7 abgespeichert würde. Aber da er ein I als nächstes Zeichen liest, sagt er sich, vergessen wir die vorangehende Zeichenfolge und legen diese als ASCII-Code im Speicher ab. Bei I allerdings hat der Interpreter wieder seine Ohren gespitzt, denn dies könnte der Anfang von IF (Token $8B) oder auch INPUT (Token $85), INPUT# (Token $84) oder INT (Token $B5) sein.
Der Trick besteht darin, an geeigneter Stelle innerhalb des verbotenen Variablennamens ein Grafikzeichen einzugeben, um die Zeichenfolge so aufzutrennen, daß der Interpreter kein Basic-Wort (Token) erkennen kann.
Bei der Benutzung dieses Tricks ist streng zu beachten, daß jeder Variablenname genau gleich eingegeben wird, damit die Abspeicherung überall gleich ist, wenn ein- und dieselbe Variable mehrmals in einem Programm benutzt wird. Natürlich gilt trotz Benutzung des Tricks mit dem Grafikzeichen weiterhin, daß der C 64 nur die ersten beiden Zeichen eines Variablennamens auswertet. Deshalb ist die Benutzung von TONNE und TORTE im gleichen Programm trotz Eingabe mit unserem Trick nicht eindeutig und kann zu Problemen führen. Weiterhin ist bei zeitkritischen Programmen die Verwendung einstelliger Variablennamen günstiger. Wie weit allerdings die Verwendung von verbotenen Variablen sinnvoll ist, bleibt Ihnen überlassen. War nun das »GOTO« ein Befehl oder eine Variable? Eine Frage, die sich häufiger stellen wird, beim sorglosen Umgang mit verbotenen Variablen. Denkbar ist auch, mit den »verbotenen Variablen« ein Listing nahezu unlesbar zu gestalten (IF GOTO=1 THEN GOTO THEN, etc.), obwohl es optisch wunderbar strukturiert aussieht. Zum Schluß noch eine Bitte der Redaktion. Schicken Sie uns keine derart manipulierten Listings. Es kennt schließlich nichtjeder den Trick mit den Grafikzeichen.
(Dipl.-Ing. Raimund Trierscheid/hm)
90

Wortschatz-Trainer Englisch
Best.-Nr. MD 235A (Commodore 64)
Best.-Nr. MK 238F (Sharp MZ-700/800)
Wortschatz-Trainer Spanisch
Best.-Nr. MD 233A (Commodore 64)
Wortschatz-Trainer Italienisch
Best.-Nr. MD 234A (Commodore 64)
Wortschatz-Trainer
Unregelmäßige Verben Latein
Best.-Nr. MD 237A (Commodore 64)
Mit den neuen Sprachentrainer-Programmen lernen Sie schnell und mühelos Ihre Vokabeln! In Latein, Englisch, Französisch, Spanisch oder Italienisch!
Ein Programm enthält den Grund- und Aufbau-Wortschatz mit 2000 und mehr Vokabeln derjeweiligen Sprache. Spezielle Vokabeln können Sie selbst hinzufügen. Durch ständiges Abfragen kontrollieren Sie laufend Ihren Lernerfolg, denn der gespei-cherteWortschatz reduziert sich von selbst auf die Vokabeln, die Ihnen noch Schwierigkeiten bereiten.
Wortschatz-Trainer:
der sichere Weg
•	zum Abitur
•	in die Kollegstufe
•	für das Volkshochschul-
Zertifikat
Peter Lehmberg, der erfahrene Co-Autoi des Lehrbuchs »Italienisch für Sie« (über 1 Million verkaufte Exemplare) gibt sein fundiertes Wissen an Sie weiter!
Wortschatz-Trainer Französisch
Best.-Nr. MD 236A (Commodore 64)
Wortschatz-Trainer Roma I
Best.-Nr. MD 215A (Commodore 64)
Best.-Nr. MK 231F (Sharp MZ-700/800)
Wortschatz-Trainer Roma II
Best.-Nr. MD 216A (Commodore 64)
Best.-Nr. MK 232F (Sharp MZ-700/800)
Jedes Programm kostet: DM 59,—* (Sfr. 54,50 / öS 531,— )
* lnkl. MwSt.
Unverbindliche Preisempfehlung
MD = Diskette MK = Kassette A = Commodore 64
F = Sharp MZ-700/800
Mari&Oechnik
Verlag AktiengeseUschaft
Unternehmensbereich Buchverlag
Hans-Pinsel-Straße 2, 8013 Haar bei München
Schweiz: Markt&TechnikVer1riebs AG, Kollerstraße 3, CH-6300 Zug, 3? 0 42/22 31 55
Österreich: Rudolf Lechner & Sohn, Heizwerkstraße 10, A-1232 Wien, 3 02 22/67 75 26
Happy Software erhalten Sie beim Buchhändler.
Bestellkarten bitte an Ihren Buchhändler oder an eine unserer Depotbuchhandlungen. Adressenverzeichnis am Ende des Heftes.
Beim Markt&Technik-Verlag eingehende Bestellungen werden von den Depot-Händlern ausgeliefert.
Hilfsprogramm
C 64
Exsort — Sortieren mit Komfort
Mit Exsort werden sowohl numerische als auch alphanumerische Felder auf-oder und absteigend sehr schnell sortiert. Ein weiterer Clou: Ein zweites Feld kann abhängig vom ersten Feld mitsortiert werden.
Jeder Programmierer ärgert sich irgendwann einmal über das langsame Basic, das vor allem beim Suchen und Sortieren stört. Gute Sortierroutinen, in Assembler geschrieben, kann nichtjeder entwickeln. Viele Sort-Programme sind aber auch sehr einseitig: Entweder sortieren sie nur aufsteigend oder lediglich alphanumerische Felder. Exsort kann beides und noch mehr.
Vorteile:
■	Zirka zehnmal so schnell wie die schnellste Basic-Version.
■	Die Befehle können in jedem Basic-Programm angewendet werden.
■	Unterprogramme in Basic, die oft nur ein bestimmtes Feld in einer Richtung sortieren können, entfallen.
■	Die Erweiterung belegt keinen Basic-Speicher.
■	Beim Sortieren von Strings kommt es nicht zu einer zeitraubenden Garbage-Collection, da die Descriptoren vertauscht werden.
■	Ein zweites Feld, das Informationen über das erste Feld enthält, kann mitsortiert werden.
■	Das zu sortierende Feld kann numerisch oder alphanumerisch sein.
Nachteile:
—	Es kann nicht mit Exbasic oder Simons Basic zusammen genutzt werden.
—	Es kann nicht compiliert werden.
Sortierbefehle
1.	Befehl »so«
Syntax: so, (feldname), (anfangsindex), (endindex), (sortie-rungsrichtung)
Dieser Befehl sortiert ein beliebiges eindimensionales Feld innerhalb von zwei Grenzen mit einer vom Benutzer gewählten Sortierungsrichtung.
Beispiel 1:
Das Feld heißt ax$, alphanumerisch aufsteigend sortieren (von Index 100 bis Index 5000).
Befehl: so,ax$,100,5000,1 (1=aufsteigend)
Beispiel 2:
Das Feld heißtqe%, numerisch absteigend sortieren (von Index 0 bis zu dem Index, der in der Variable »en« enthalten ist). Befehl: so,qe%,0,en,0 (O=absteigend)
Option: Manchmal ist es notwendig, daß Daten, die in einem zweiten Feld vorhanden sind, entsprechend dem ersten Feld sortiert werden.
Syntax: so,(feldname 1), (anfangsindex), (endindex), (sor-tierungsrichtung), (feldname2)
Beispiel: Das Feld fe$ soll alphanumerisch aufsteigend von Index 0 bis Index 10 sortiert werden. Die Daten in dem Realfeld »nr« sollen entsprechend dem ersten Feld sortiert werden.
Befehl: so,fe$,0,10,1,nr
2.	Befehl: »se«
Syntax: se,(feldname),(anfangsindex),(endindex),(element)
Dieser Befehl durchsucht ein beliebiges eindimensionales Feld innerhalb von zwei Grenzen nach einem Element.
Beispiel: Es soll die Zahl -12 in dem Feld rt% von Index 0 bis Index 100 gesucht werden.
Befehl: se,rt%,0,100, - 12
Wenn das Element gefunden wird, enthält die Variable »in« den jeweiligen Index. Wird das Element nicht gefunden, so enthält »in« den Wert —1.
Fehlermeldungen:
■	type mismatch: Sie versuchten, einen String in einem numerischen Feld zu suchen (oder umgekehrt).
■	wrong index: Beim Suchen war der Anfangsindex größer als der Endindex.
■	bad subscript: Index außerhalb des zulässigen Bereiches. ■ only one dimension array: Sie können nur eindimensionale Felder durchsuchen oder sortieren.
■	array not found: Das Feld war nicht durch einen DIM-Befehl dimensioniert worden.
■	wrong array name: Geben Sie bitte nur die ersten beiden Buchstaben des Feldnamen ein (plus % oder $ wenn nötig). Es wird dann sicher funktionieren.
■	wrong sorting direction error: Sie haben einen anderen Wert als 0 oder 1 als Sortierungsrichtung angegeben.
Zu den Programmen:
Listing 1
Das Programm »Exsort« geben Sie bitte mit dem MSE ein.
Beachten Sie dazu die Eingabegehinweise auf Seite 18.
Listing 2
Das Programm »Exsort demo« lädt das Absolutprogramm »Exsort« nach und startet es. Danach folgt eine Demonstration der beiden Befehle.
Um »Exsort« zu laden, muß Zeile 0 des Basic-Programms lauten:
0 if k=0 then k=1 : load”exsort.”,8,1 (für Diskette)
0 if k=0 then k=1 : load”exsort.”,1,1 (für Kassette)
In Zeile 1 muß stehen:
1 sys 49400
Da die Erweiterung'nur einmal geladen und gestartet werden muß, kann sie bei späteren Starts des Programms übersprungen werden.	(Marcus Rickert/gk)
0 IF K=0 THEN K=l:L0AD"EXS0RT7",8,l:REM LA		175 PRINT"<DOWN>fiNFUELLEN DES fELDES ZA'	
DEN VON EXSORT	<095>	MIT ZUFALLS-{4SPACE)ZAHLEN"	<101>
1 SYS 49400:REM STARTEN VON EXSORT	<051>	180 DIM ZA(A)	<157>
100 REM *********************** 110 REM *** EXSORT DEMO ***	<241> <073>	190 REM *** DAS FELD ZA WIRD MIT ZUFALLSZA HLEN BELEGT ***	<109>
120 REM ***********************	<005>	200 FOR S=1 TO A	<130>
130 REM	<192>	210 :ZA(S)=RND(l)*10000-5000	<020>
140 REM ******************	<183>	220 NEXT S	<128>
150 REM * l.BEFEHL: "SO" *	<090>	230 IT=TI:REM ZEIT SPEICHERN	<224>
160 REM ******************	<203>	240 PRINT"<DOWN>SJ3RTIERBEGINN"	<046>
165 PRINT"<CLR>^STER ^FEHL: 'SO'"	<110>	250 REM	<056>
170 INPUT"{DOWN>ZAHL DER ZU SORTIERENDEN £ LEMENTE";A	<227>	260 REM *** AUFRUF DES BEFEHLS "SO" *** 270 SO,ZA,1,A,1	<125> <076>
92

C 640
Hilfsprogramm
280	REM 80	= BEFEHL	<018>	750	PRINT IN,sGOTO 630	<185>
290	REM ZA = FELDNAME	<181>	760	PRINT:PRINT"<DOWN>ZEIT:"(TI-IT)/60"SEC	
300	REM 1	= ANFANGSINDEX	<162>		ii	<041?^ <236>
310	REM A	= ENDINDEX	<085>	770	PRINT"<DOWN>BITTE ^STE DRUECKEN"	
320 330	REM 1	= SORTIERUNGSRICHTUNG(AUF STEIGEND) REM	<098> <138>	780 790 800	GET T$:IF T$=""THEN 780 REM REM ****************************	<119> <090> <249>
340 350	IT=TI-IT PRINT"{D0WN>5DRTIERENDE"	<234> <221>	810 820	REM * l.BEFEHL 'SO' MIT OPTION * REM ****************************	<050> <049>
355	FOR S=1 TO 1000sNEXT S	<202>	830	REM	<130>
360	REM *** AUSGABE DER SORTIERTEN ELEMENT		835	PRINT"{CLR)^STER ^FEHL MIT OPTION"	<147>
	E ***	<068>	840	DATA NULL,ZWEI,VIER,SECHS,ACHT,ZEHN,EI	
370	FOR S=1 TO A	<046>		NS,DREI,FUENF,SIEBEN,NEUN	<044>
380	:PRINT S,TAB(6)ZA(S)	<108>	850	DATA 0,2,4,6,8,10,1,3,5,7,9	<209>
390	NEXT S	<044>	860	CLR:DIM NR(10),NR$(10)	<148>
400	PRINT"<DOWN>ZEIT:"IT/60"SEC"	<188>	870	REM ** EINLESEN IN FELD NR$ **	<118>
410	PRINT"{DOWN)BITTE ^STE DRUECKEN"	<128?>	880	FOR S=0 TO 10	<056>
420	GET T$:IF T$=""THEN 420	<041>	890	:READ X$:NR$(S)=X$	<070>
430	REM	<238>	900	NEXT S	<046>
440	REM ******************	<229>	910	REM ** EINLESEN IN FELD NR **	<074>
450	REM * 2.BEFEHL: "SE" *	<147>	920	FOR S=0 TO 10	<096?^
460	REM ******************	<249>	930	sREAD X:NR(S)=X	<224>
470	REM	<022>	940	NEXT S	<086>
480	CLRsDIM FE$(10000)	<214>	950	REM ** AUSGABE FELD VOR SORTIERUNG **	<017>
485	PRINT"<CLR>ZWEITER ^FEHL 'SE'"	<222>	960	PRINT"{DOWN)^DEX NR$ VORHER NR * NR$	
490	REM ** IN 50 BELIEBIGE ELEMENTE **	<162>		NACHHER NR"	<023>
500	REM ** DES FELDES FE$ WIRD DAS **	<137>	970	FOR S=0 TO 10	<146>
510	REM ** WORT "HALLO" GESCHRIEBEN »*	<253>	980	:PRINT S;TAB(6)NR$(S)TAB(16)NR<S)	<16B>
520	REM	<074>	990	NEXT S	<136>
525	PRINT"{DOWN)^I 50 BELIEBIGE S_EMENTE V		1000	REM ** AUFRUF DES BEFEHL "SO" MIT OPT	
	ON FE$ WIRD<3SPACE>'HALL0' GESCHRIEBEN			ION **	<037>
		<128>	1010	SO,NRT,0,10,0,NR	<081>
530	FOR S=1 TO 50	<250>	1020	REM SO = BEFEHL	<250>
540	:FE$(RND(1)*10000)="HALLO"	<158>	1030	REM NR$ = FELDNAME 1	<223>
550	NEXT S	<206>	1040	REM 0	= ANFANGSINDEX	<132>
560	PRINT"<DOWN>^I FOLGENDEM ELEMENTEN STE		1050	REM 10	= ENDINDEX	<155?^
570	HT 'HALLO *:"	<155>	1060	REM 0	= SORTIERUNGSRICHUTNG(ABST	
	REM	<124>		EIGEND)	<251>
580	REM ** AUSDRUCKEN JEDES INDEXES **	<184>	1070	REM NR = FELDNAME 2	<004>
590	REM ** IN DEM "HALLO" STEHT	♦*	<081>	1080	REM	<126>
600	REM	<154>	1090	PRINT"{D0WN)5DRTIEREN VON NR$ ABSTEIG	
610	IN=-1:IT=TI	<247>		END"	<238>
620	REM ** AUFRUF DES BEFEHLS "SE" ♦♦	<200>	1095	PRINT"<DOWN>NR WIRD ENTSPRECHEND MITS	
630	SE,FE$,IN+1,10000,"HALLO"	<234>		ORTIERT"	<077>
640	REM SE	= BEFEHL	<220>	1097	PRINT"<DOWN>BITTE J#STE DRUECKEN"	<053>
650	REM FE$	= FELDNAME	<182>	1098	GET T$:IF T^=""THEN 1098	<177>
660	REM IN+1	= ANFANGSINDEX	<068>	1100	REM ** AUSGABE FELD NACH SORTIERUNG *	
670	REM 10000	= ENDINDEX	<032>		«	<020>
680	REM "HALLO" = ELEMENT	<232>	1110	PRINT"<HOME,3D0WN)";	<140>
690	REM ** BEI RUECKKEHR AUS "SE" **	<016>	1120	FOR S=0 TO 10	<042>
700	REM ** ENTHAELT "IN" DEN INDEX **	<046>	1130	:PRINT TAB(22)NR$(S)TAB(33)NR(S)	<234>
710	REM ** ODER (WENN DAS ELEMENT **	<013>	1140	NEXT S	<032>
720	REM ** NICHT GEFUNDEN WURDE) **	<179?^	1150	PRINT"<6D0WN>"	<183?^
730	REM ** DEN WERT -1	**	<114>			
740	IF IN=-1 OR IN=10000 THEN 760	<120>	© 64'	er	
Listing 1. »Exsort.demo«. (Schluß) Bitte beachten Sie die Hinweise zum Abtippen auf Seite 16.					
programm			: exsort-					cOf8 c6ac			clc8		a2	10	aO	12	20	2a	c5	8e	64
					—						cldO		14	cO	8c	15	cO	a2	14	aO	bd
cOf8		a9	03	8d	08	03	a9	cl	8d	27	cld8		f6	20	9a	c4	fO	db	30	d9	80
clOO		09	03	60	aO	01	bl	7a	c9	d2	cle0		ad	10	cO	8d	Oc	cO	ad	11	17
clO8		53	fO	03	4c	e4	a7	c8	bl	30	cle8		cO	8d	Od	cO	ad	12	cO	8d	54
cllO		7a	c9	45	dO	03	4c	da	c5	64	clfO	■	Oe	cO	ad	13	cO	8d	Of	cO	62
cll8		c9	4f	dO	ef	20	73	00	20	99	clf8		20	ef	c3	aO	06	ae	08	cO	8c
cl20		73	00	20	73	00	20	fd	ae	60	c200	■	e8	8a	a2	Oc	20	01	c5	20	b9
cl28		20	ec	c4	20	24	c3	4c	58	36	c2O8		2f	c4	fO	17	48	ad	04	cO	3c
cl30		cl	20	fd	ae	20	8a	ad	20	a4	c210		dO	06	68	10	Oe	4c	lb	c2	35
cl38		f7	b7	a5	14	8d	00	cO	a5	le	c218		68	30	08	a2	Oc	20	e3	c4	ca
cl40		15	8d	01	cO	20	fd	ae	20	61	c220		4c	fb	cl	aO	06	ae	08	cO	66
cl48		8a	ad	20	f7	b7	a5	14	8d	c4	c228		e8	8a	a2	Oe	20	01	c5	20	21
cl50		02	cO	a5	15	8d	03	cO	60	73	c230		2f	c4	fO	17	48	ad	04	cO	64
cl58		20	31	cl	20	fd	ae	20	9e	98	c238	■	dO	06	68	30	Oe	4c	43	c2	01
cl60		b7	8e	04	cO	eO	02	90	07	e6	c240		68	10	08	a2	Oe	20	dl	c4	b9
cl68		a2	78	aO	c5	4c	fa	c4	20	17	c248		4c	23	c2	a2	Oc	aO	Oe	20	69
cl70		c7	c3	8e	06	cO	8c	07	cO	8b	c250		9a	c4	fO	02	10	67	aO	06	94
cl78		8d	08	cO	aO	OO	bl	7a	fO	a7	c258		ae	08	cO	e8	8a	a2	Oc	20	86
cl80		04	c9	3a	dO	08	a9	00	8d	fa	c260		01	c5	86	fb	84	fc	aO	06	24
cl88		Ob	cO	4c	a2	cl	20	fd	ae	cd	c268	-	ae	08	cO	e8	8a	a2	Oe	20	9e
cl90		20	ec	c4	20	24	c3	20	c7	cc	c270		01	c5	86	fd	84	fe	ac	08	b8
cl98		c3	8e	09	cO	8c	Oa	cO	8d	34	c278		cO	20	69	c5	ad	Ob	cO	fO	73
claO		Ob	cO	a9	00	8d	05	cO	aO	bb	c280		26	aO	09	ae	Ob	cO	e8	8a	7e
cla8		00	20	3c	c5	aO	02	20	3c	93	c288		a2	Oc	20	01	c5	86	fb	84	e2
clbO		c5	a9	00	8d	f6	cO	8d	f7	97	c290		fc	aO	09	ae	Ob	cO	e8	8a	64
clb8		cO	aO	12	20	50	c5	90	03	cc	c298		a2	Oe	20	01	c5	86	fd	84	fb
clcO		4c	ae	a7	aO	10	20	50	c5	30	c2a0		fe	ac	Ob	cO	20	69	c5	a2	79
c2a8 : 0c 20 e3 c4 a2 Oe 20 dl 14 c2b0 : c4 a2 Oe aO Oc 20 9a c4 13 c2b8 : 30 03 4c fb cl a2 Oe aO a7 c2c0 : 10 20 2a c5 8e 14 cO 8c c9 c2c8 : 15 cO a2 12 aO Oc 20 2a 67 c2d0 : c5 8e 16 cO 8c 17 cO a2 44 c2d8 : 14 aO 16 20 9a c4 10 22 la c2e0 : a2 Oc aO 12 20 9a c4 10 fd c2e8 : Oa aO Oc 20 3c c5 aO 12 e2 c2f0 s 20 3c c5 ad Oe cO 8d 12 97 c2f8 : cO ad Of cO 8d 13 cO 4c 78 c300 : c8 cl a2 10 aO Oe 20 9a 84 c308 : c4 10 Oa aO 10 20 3c c5 e9 c310 : aO Oe 20 3c c5 ad Oc cO c2 c318 : 8d 10 cO ad Od cO 8d 11 c2 c320 : cO 4c c8 cl a9 04 8d 14 8a c328 s cO a2 00 86 03 86 04 20 bf c330 : 73 00 fO 3+ c9 3a fO 3b 70 c338 ; c9 24 fO 14 c9 25 fO 18 8c c340 : c9 2c fO 2f 15 03 95 03 07 c348 : eO 02 fO 20 e8 4c 2f c3 9f c350 : a9 02 8d 14 cO 4c 63 c3 64 c358 : a9 01 8d 14 cO a5 03 09 bf c360 ; 80 85 03 a5 04 09 80 85 ae c368 ; 04 4c 2f c3 a2 9e aO c5 04 c370 ; 4c fa c4 a5 2f 85 fb a5 79 c37B : 30 85 fc 4c a4 c3 aO 00 le
Listing 2. »Exsort.«

Hilfsprogramm
C 64
c380 : bl fb c5 03 dO Oa c8 bl ©4 c388 s fb c5 04 dO 03 4c b7 c3 7a c390 : aO 02 18 a5 fb 71 fb aa 7d c398 : 08 c8 28 a5 fc 71 fb 85 19 c3a0 : fc 8a 85 fb a5 fb c5 31 76 c3a8 : dO d4 a5 fc c5 32 dO ce ba c3b0 5 a2 8f aO c5 4c fa c4 aO ec c3b8 : 04 bl fb c9 01 dO 01 60 28 c3c0 s a2 b9 aO c5 4c fa c4 18 ff c3c8 s aO 06 bl fb ed 02 cO 08 59 c3d0 s 88 bl fb 28 ed 03 cO bO 90 c3d8 s 07 a2 00 a9 12 4c 3b a4 lf c3e0 s 18 a5 fb 69 07 aa a5 fc 4d c3e8 : 69 00 a8 ad 14 cO 60 18 2a c3f0 ; ad 10 cO 6d 12 cO aa ad bO c3f8 5 11 cO 6d 13 cO 4a 8d 15 e6 c400 s cO 8a 6a 8d 14 cO ae 08 64 c408 ! cO e8 8a aO 06 a2 14 20 f9 c410 : 01 c5 86 28 84 29 ad 08 f3 c418 : cO c9 04 dO 04 8a 4c a2 e3 c420 = bb ae 08 cO 8a a8 bl 28 51 c428 s 95 61 ca 88 10 f8 60 86 89 c430 ; 28 84 29 ad 08 cO c9 02 4c c438 s fO 09 c9 01 fO 41 8a 20 c3 c440 s 5b bc 60 aO 01 bl 28 85 6f c448 s 03 c8 bl 28 85 04 aO 00 lc c450 s 4c 62 c4 bl 03 dl 62 fO 5f c458 s 08 bO 03 a9 01 60 a9 ff 68 c460 s 60 c8 98 aO 00 dl 28 fO 70 c468 s 08 c5 61 fO 04 a8 4c 53 27 c470 s c4 bl 28 c5 61 fO 05 bO e3 c478 s e5 4c 5b c4 a9 00 60 a5 5a c480 s 61 8d 15 cO a5 62 8d 14 dl c488 s cO aO 00 bl 28 8d 17 cO 9b
c490 s c8 bl 28 8d 16 cO a2 14 07 c498 s aO 16 bd 00 cO d9 00 cO Of c4a0 s dO Ob bd 01 cO d9 01 cO e6 c4a8 s dO 03 4c 7c c4 bd 01 cO 5c c4b0 s 30 17 b9 01 cO 30 a4 38 8b c4b8 s bd 00 cO f9 00 cO bd 01 e4 c4c0 s cO f9 01 cO 90 98 4c 5b 8b c4c8 s c4 b9 01 cO 10 90 4c b7 e7 c4d0 s c4 38 bd 00 cO e9 01 9d ba c4d8 s 00 cO bd 01 cO e9 00 9d 5e c4e0 s 01 cO 60 fe 00 cO dO 03 89 c4e8 s fe 01 cO 60 a5 7a 38 e9 86 c4f0 s 01 85 7a a5 7b e9 00 85 19 c4f8 s 7b 60 86 22 84 23 4c 47 aa c500 s a4 85 28 bd 00 cO 85 71 28 c508 s bd 01 cO 85 72 a9 00 85 a6 c510 s 29 98 48 20 57 b3 86 28 19 c518 s 84 29 68 a8 18 a5 28 79 a2 c520 s 00 cO aa a5 29 79 01 cO c3 c528 s a8 60 38 b9 00 cO fd 00 44 c530 s cO 48 b9 01 cO fd 01 cO 24 c538 s a8 68 aa 60 ae 05 cO b9 54 c540 s 00 cO 9d 19 cO b9 01 cO 8a c548 s 9d 88 cO e8 8e 05 cO 60 4b c550 s ae 05 cO ca 10 02 38 60 bd c558 s bd 19 cO 99 00 cO bd 88 13 c560 s cO 99 01 cO 8e 05 cO 18 89 c568 s 60 bl fb aa bl fd 91 fb 3e c570 s 8a 91 fd 88 10 f3 60 ff 75 c578 s 57 52 4f 4e 47 20 53 4f f7 c580 s 52 54 49 4e 47 20 44 49 32 c588 s 52 45 43 54 49 4f ce 41 a5 c590 s 52 52 41 59 20 4e 4f 54 el c598 s 20 46 4f 55 4e c4 57 52 67
c5a0 s 4f 4e 47 20 41 52 52 41 5f c5a8 s 59 20 4e 41 4d c5 57 52 d2 c5b0 s 4f 4e 47 20 49 4e 44 45 9f c5b8 s d8 4f 4e 4c 59 20 4f 4e c5 c5c0 s 45 20 44 49 4d 45 4e 53 2e c5c8 s 49 4f 4e 20 41 52 52 41 c3 c5d0 s d9 00 ff 00 ff 00 ff 20 e9 c5d8 s ff 00 20 73 00 20 73 00 ld c5e0 s 20 73 00 20 fd ae 20 ec 6e c5e8 s c4 20 24 c3 20 31 cl 20 11 c5f0 s c7 c3 8e 06 cO 8c 07 cO Ob c5f8 s 8d 08 cO 20 fd ae 20 9e dO c600 s ad a2 02 aO 00 20 9a c4 88 c60B s 10 07 a2 ae aO c5 4c fa 7a c610 s c4 ad 08 cO c9 02 fO 14 5e c618 s 20 8d ad ad 08 cO c9 04 d6 c620 s fO 17 20 aa bl 85 61 84 cf c628 s 62 4c 39 c6 20 a3 b6 85 dc c630 s 61 a5 22 85 62 a5 23 85 88 c638 s 63 ae 08 cO e8 8a aO 06 7e c640 s a2 00 20 01 c5 8e 09 cO 81 c648 s 8c Oa cO ae 09 cO ac Oa 3d c650 s cO 20 2f c4 fO 2a a2 00 70 c658 s aO 02 20 9a c4 fO la a2 d6 c660 s 00 20 e3 c4 38 ad 09 cO 98 c668 s 6d 08 cO 8d 09 cO ad Oa lc c670 : cO 69 00 8d Oa cO 4c 4b 05 c678 s c6 a9 ff aO ff 4c 86 c6 31 c680 s ad 01 cO ac 00 cO 20 91 ld c688 s b3 a9 00 85 Od 85 Oe a9 49 c690 s 49 85 45 a9 4e 85 46 20 8d c698 s e7 bO a6 47 a4 48 20 d4 21 c6a0 s bb 4c ae a7 ff 00 ff ff 22 c6a8 s c9 20 fO Od ff 00 ff OO 5f
Listing 2. »Exsort.«. Bitte beachten Sie bei der Eingabe den MSE auf Seite 18.
Hypra-Load
Kaffeepause! Dieses Wort kommt wohl jedem Commodore 64-Besitzer in den Sinn, der ein längeres Programm laden möchte. Es geht aber fünfmal schneller. Alles, was Sie benötigen ist das Programm »Hypra-Load« oder das neue Betriebssystem »Hypra-Perfekt«.
DasdieFloppy1541 nichtgeradedieschnellsteist, istwohl allgemein bekannt. Zumindest ein Vorgang läßt sich mit relativ geringem Aufwand stark beschleunigen: das Laden von Programmen.
Das Funktionsprinzip von Hypra-Load siehtfolgendermaßen aus. Im Computer wie auch im Floppy-Laufwerk werden neue Laderoutinen installiert, die neue Busroutinen enthalten. Mit diesen neuen Busroutinen wird die Datenübertragung um den Faktor 8 bis 10 beschleunigt, so daß die Ladegeschwindigkeit auf das softwaremäßig erreichbare Maximum gebracht wird.
Eine Software-Lösung hat allerdings zwei entscheidende Nachteile: Einerseits muß vor dem schnellen Laden die neue LOAD-Routine in den Speicher gebracht werden, andererseits funktionieren manche Originalprogramme mit Kopierschutz nicht mehr. Diese Nachteile wurden bei den beiden hier vorgestellten Versionen so gut wie möglich umgangen.
»Hypra-Load 2.1« ist eine besonders komfortable Hypra-Load-Version mit integriertem Auto-Starter und Auto-Lader. Sie wurde von den Autoren des original »Hypra-Load« (aus der 64’er, Ausgabe 10/85) völlig neu geschrieben. Dies dürfte wohl die beste Lösung für diejenigen sein, die sich kein neues Betriebssystem in ein EPROM brennen wollen oder können.
»Hypra-Perfekt« ist ein solches Betriebssystem. Neben den schnellen Lade-Routinen sind hier auch eine Funktionstastenbelegung und einige andere Extras eingebaut.
Hypra-Load
Um Hypra-Load beim späteren Betrieb möglichst komfortabel zu halten, ist die Eintipparbeit etwas komplizierter. Sie benötigen als allererstes eine leere Diskette, die Sie am besten formatieren. Nun tippen Sie das Listing 1 mit dem MSE ab und speichern es auf genau dieser leeren Diskette. Sie sollten keinesfalls probieren, auf eine Diskette zu speichern, auf der schon Programme stehen, weil diese beim nächsten Schritt unrettbar verloren gehen!
Nun tippen Sie das kurze Listing 2 ab. Legen Sie die Diskette, auf der sich das gespeicherte MSE-Listing befindet, ein und starten Sie das Basic-Programm. Nach wenigen Sekunden meldet sich der Computer mit READY. Nun ist Ihre Hypra-Load-Version fertig. Um sie auf andere Disketten zu überspielen, können Sie jedes beliebige Kopierprogramm für Einzelfiles verwenden. Die Disketten, auf die Hypra-Load dann kopiert werden soll, dürfen ruhig schon Programme enthalten, es müssen aber insgesamt fünf Blöcke auf der Diskette frei sein, damit noch Platz für Hypra-Load ist.
Wie arbeitet man nun mit Hypra-Load? Es gibt zwei Betriebsarten: In der normalen Betriebsart lädt man Hypra-Load mit LOAD":* ",8,1. Daraus folgt, daß es das erste Programm auf der Diskette sein muß! Hypra-Load installiert sich dann vollautomatisch, ohne daß RUN eingetippt werden muß, und meldet sich mit den Namen der Autoren. Ab sofort wird von Diskette fünfmal schneller geladen. Zusätzlich sind als Standardwerte für den LOAD-Befehl »,8,1« schon fest vorgegeben. »LOAD-"name"« lädt also immer von Diskette.
Bei einem Reset schaltet sich Hypra-Load ab, ebenso wenn wichtige Speicherbereiche überschrieben werden und somit ein Systemabsturz provoziert wird.
94

C 64
Hilfsprogramm
Viel interessanter und komfortabler, Hypra-Load zu nutzen, ist allerdings die zweite Methode. Wenn Hypra-Load sich zusammen mit anderen Programmen auf einer Diskette befindet, genügt der Befehl »LOAD" t *name ",8,1« um mehrere Vorgänge gleichzeitig in Gang zu setzen: Hypra-Load wird geladen und gestartet, danach wird vollautomatisch das Programm mit dem Namen »name« schnell nachgeladen und ebenfalls gestartet. Voraussetzung dabei ist, daß die Hypra-Load-Version auf der Diskette genau mit dem im MSE-Listing angegebenen Namen (»tHypra-Load«) gespeichert ist.
Einige Anmerkungen zum Auto-Lader: Nach der Installation von Hypra-Load wird überprüft, ob der aktuelle Filename mit einem " t " (Pfeil nach oben) beginnt. Dann werden die ersten beiden Buchstaben vom Filenamen abgetrennt und das gewünschte Programm nachgeladen. Nach dem Laden desaktiviert sich Hypra-Load sofort und startet das^ geladene Programm durch Simulation des RUN-Befehls. Mehrteilige Programme laufen also ab dem zweiten Teil in der normalen Ladegeschwindigkeit ab. Für die meisten Anwendungsfälle ist diese Lösung allerdings vollkommen befriedigend.
Diese Hypra-Load-Version läuft unserer Erfahrung nach sowohl auf C 64- wie auch SX 64-Computern und dem C 128 im 64-er Modus. Als Laufwerke sind die 1541 und die 1571 von Commodore verwendbar.
Der Bildschirm bleibt während des Ladevorgangs ausgeschaltet, da sonst der VIC-Chip die schnellen Bus-Routinen aus dem Takt bringen würde. Das Blinken der roten LaufwerksLED ist völlig normal, es zeigtjeweils einen übertragenen Programmblock an. Damit läßt sich optisch die Arbeit von Hypra-Load verfolgen.
Weitere, am seriellen Bus angeschlossene, Geräte dürften die Übertragung nicht stören. Solange Hypra-Load aktiviert ist, führen Kassetten-Zugriffe zum System-Absturz!
Soll Hypra-Load abgeschaltet werden, genügt die Befehlsfolge »POKE 1,55«.
Der VERIFY-Befehl funktioniert nicht bei aktiviertem Hypra-Load.
Für diejenigen, die sich für die Programmierung des Autostarts von Hypra-Load interessieren: Er wurde durch Verbiegen des Stop-Vektors realisiert. (Karsten Schramm/bs)
Hypra-Perfekt
Unsere zweite Hypra-Load-Version ist eine Betriebssystem-Version. Das Original-Betriebssystem des Commodore 64 wird durch ein modifiziertes Betriebssystem ersetzt, welches die schnellen Lade-Routinen sowie eine Funktionstastenbelegung enthält.
Somit muß das Kernal-ROM ausgetauscht werden. Als neuer Programmträger dient ein 2764-EPROM, dessen Inhalt mit dem nachfolgend abgedruckten Programm (Listing 3) erzeugt wird. Wie das von statten geht, läßt sich mit wenigen Worten erklären. Das Betriebssystem (Kernal) des Commodore 64 befindet sich im Speicherbereich von $E000 bis $FFFF und hat somit die Länge von 8 KByte. Das gesamte Kernal als MSE-Listing abzudrucken würden den Rahmen des Sonderheftes sprengen. Dies wäre auch gar nicht notwendig, daja nur Teile des Betriebssystems geändert werden. Deswegen haben wir die Form des, dank des MSEs etwas altmodischen, aber hier angebrachten DATA-Laders gewählt.
Das abgedruckte Programm kopiert zunächst das Kernal in den Speicherbereich von $6000 bis $7FFF. Wer einen anderen Speicherbereich verwenden möchte, muß die Leseschleife in Zeile 30 on den Offset-Wert in Zeile 15 (OF) verändern.
Nach dem Kopieren befindet sich ein originalgetreues Abbild des Kernals im RAM. Der nächste Schritt, der automatisch vom Programm durchgeführt wird, ist die Veränderung der einzelnen Speicherstellen. Ist dieser Vorgang beendet, steht unser neues Kernal von $6000 bis $7FFF im Speicher und soll-
te sofort mit einem Monitor abgespeichert werden. Danach kann man es dann auf ein 2764-EPROM brennen.
Bis hierhin war alles relativ einfach, jetzt aber kommt die schwierigste Hürde auf dem Weg zum neuen Betriebssystem. Ein Adaptersockel muß gebaut werden, denn leider sind die Pin-Belegungen des Original-Kernals und des 2764-EPROMS nicht identisch. Wer sich diese Arbeit nicht machen möchte, der kann diesen Adaptersockel im 64’er-Hardware-service demnächst auch kaufen. Sollten Sie schon eine Kernal-Umschaltplatine besitzen, wie wir sie ebenfalls anbieten werden, entfällt der Bastelaufwand für Sie ebenfalls.
Wer sich nun den Sockel selber bauen will, oder muß, der besorge sich einen 24poligen und einen 28poligen Sockel. Das Bild 1 zeigt, welche Pins der Sockel miteinander verbunden werden müssen. Nach der Fertigstellung sieht das Ganze wie ein Doppeldecker-Bus mit überhängendem Dach aus. Im oberen Stockwerk dieses Busses nimmt nun der 2764 mit dem neuen Betriebssystem seinen Platz ein. Die 24 Pins des unteren Fahrwerks finden im Steckplatz U4 des Computers ihre Heimat. Das überhängende Dach zeigt, zusammen mit der Kerbe des EPROMs, in Richtung des User-Ports.
Sollte sich der Computer nach dem Einschalten mit geändertem Farbbild, aber sonst gewohnter Anzeige melden, haben Sie es geschafft. Ihnen steht nun eine recht leistungsfähige Hypra-Load-Version zur Verfügung. Neben dem Schnell-lade-System wurden noch die Funktionstasten belegt. Die Belegung können Sie Bild 2 entnehmen. Das Laden eines Direc-torys zerstört nicht mehr das aktuelle Programm im Speicher.
Um die Kompatibilität zu fertigen Softwareprodukten möglichst groß zu halten, wurde auch hier eine Abschaltautomatik installiert. Sollte schnelles Laden nicht mehr möglich sein, wird auf langsames Laden umgestellt. Wenn diese Automatik versagt, kann das schnelle Laden auch von Hand abgeschaltet werden. Die Speicherstelle 2 ist zum Steuerregister umfunktioniert worden. Die einzelnen Funktionen von Hypra-Perfekt lassen sich folgendermaßen schalten:
POKE 2,0: Grundzustand von Hypra-Perfekt, alles eingeschaltet
28poliger Sockel	24poliger Sockel
1,28,27,26	24
2	21
3	1
4	2
5	3
6	4
7	5
8	6
9	7
10	8
11	9
12	10
13	11
14,20	12
15	13
16	14
17	15
18	16
19	17
20,14	18
21	19
22	20
23	18
24	22
25	23
1,28,27,26	24
Pin 1 eines jeden Sockels ist links von der Kerbe, Pin 24 beziehungsweise 28 ist rechts davon.	
Bild 1. Das Verbindungsschema für den Adaptersockel	
95
Hilfsprogramm
C 64
POKE 2,32: Funktionstasten abschalten
POKE 2,64: Directory wieder normal laden
POKE 2,128: Schnelles Laden abschalten.
Natürlich sind auch Kombinationen möglich, so zum Beispiel »POKE 2,32+64+128« schaltet alle Funktionen ab.
Besitzer eines Hypra-Perfekt-Kernals müssen, sofern Sie keine Umschaltplatine besitzen, leider auf die Kassetten-Routinen verzichten. Die RS232-Schnittstelle ist aber voll erhalten geblieben.
Wer seine individuelle Farbkombination beim Einschalten haben möchte, braucht nur in den Zeilen 50 bis 70 die Farbwerte zu ändern.
Und viel Spaß mit »Hypra-Perfekt«.
(Ernst Schöberl/aw/bs)
F1 = LOAD”$”,8 ohne Programmverlust
F2 = LOAD
F3 = LIST
F4 = SAVE
F5 = RUN
F6 = SYS64738
F7 = OPEN1,8,15,
F8 = CLOSE1
SHIFT & RUN/STOP lädt und startet das erste Programm von der Diskette
Bild 2. Die Belegung der Funktionstasten
PROGRAMM s tHYPRA-LOAD 1000 14BC
1000	s A9		08	85	AF	A9	00	85	AE	13
1008	8	A9	6A	8D	2C	03	A9	0B	8D	94
1010		2D	03	A9	ED	8D	28	03	A9	60
1018	8	F6	8D	29	03	60	86	AE	00	75
1020		00	00	00	4C	48	B2	00	31	26
1028		EA	66	FE	47	FE	4A	F3	91	23
1030		F2	0E	F2	50	F2	33	F3	57	37
1038	8	Fl	CA	Fl	ED	02	A9	BB	A2	6A
1040	*	EE	85	A7	86	A8	A9	00	A2	C9
1048	8	03	85	A9	86	AA	A9	08	20	Al
1050	8	0C	ED	A9	6F	20	B9	ED	A9	86
1058	8	4D	20	DD	ED	A9	2D	20	DD	2B
1060		ED	A9	57	20	DD	ED	A0	00	CB
1068		A5	A9	20	DD	ED	A5	AA	20	9D
1070		DD	ED	A9	lD	20	DD	ED	Bl	5E
1078	8	A7	20	DD	ED	C8	C0	lD	90	BC
1080	■	F6	20	FE	ED	18	A5	A7	69	24
1088		lD	85	A7	90	03	E6	AB	18	9E
1090	8	A5	A9	69	lD	85	A9	90	02	F4
1098	8	E6	AA	A5	A9	C9	D0	D0	AD	34
10A0	8	A9	08	20	0C	ED	A9	6F	20	01
10A8	■	B9	ED	A9	4D	20	DD	ED	A9	68
10B0		2D	20	DD	ED	A9	45	20	DD	23
10B8		ED	A9	01	20	DD	ED	A9	04	BA
10C0		20	DD	ED	20	FB	ED	20	B3	65
10C8	8	EE	20	B3	EE	78	A9	0B	8D	AD
10D0		11	D0	A9	00	85	BB	A9	FE	8F
10D8		B5	BC	20	39	F8	C9	FF	F0	AA
10E0	8	61	20	39	F8	85	B7	20	39	C8
10E8		FB	A8	A5	B7	D0	03	88	B4	E5
10F0		BC	A5	BB	D0	0A	C6	BC	C6	DF
10F8	■	BC	20	39	F8	20	39	F8	A0	23
1100	■	00	20	39	F8	91	AE	C8	C4	B9
1108	-	BC	D0	F6	18	A5	BC	65	AE	20
1110		85	AE	90	02	E6	AF	E6	BB	50
1118		A5	B7	D0	BA	C6	BB	D0	04	BA
1120		E6	BC	E6	BC	A5	BC	C9	FE	lB
1128	8	F0	08	20	39	F8	E6	BC	18	35
1130		90	F2	A9	00	2C	A9	lD	85	33
1138		90	4C	85	F8	A5	90	C9	01	77
1140		48	08	98	A6	AE	A4	AF	4C	EF
1148		61	00	A9	23	8D	00	DD	2C	21
1150		00	DD	50	FB	A9	03	8D	00	BB
1158		DD	A2	07	CA	D0	FD	AD	00	55
1160		DD	2A	2A	66	B0	6A	66	B0	03
1168		EA	EA	AD	00	DD	2A	2A	66	D7
1170		B0	6A	66	B0	EA	EA	AD	00	C2
1178		DD	2A	2A	66	B0	6A	66	B0	lB
1180	■	EA	EA	AD	00	DD	2A	2A	66	EF
1188 : B0 6A 66 B0 A5 B0 49 FF 22 1190 : A2 03 8E 00 DD 60 68 A8 2B 1198 : 68 AA 48 98 48 E0 E0 90 AB 11A0 : 0D A9 00 A8 59 00 A0 C8 41 11A8 : D0 FA C9 80 D0 10 A9 00 AC 11B0 : A8 59 BB EE C8 D0 FA C9 64 11B8 : 70 D0 03 A0 35 2C A0 37 0B 11C0 : A9 85 8D 61 00 A9 01 8D 28 11C8 : 62 00 A9 28 8D 63 00 A9 El 11D0 : 68 8D 64 00 A9 60 8D 65 B7 11D8 : 00 A9 lB 8D 11 D0 4C 2B 44 11E0 3 F8 A5 00 29 06 C9 02 F0 69 11E8 : 03 4C 9E FD EA A9 05 85 94 11F0 : 09 A2 5A 86 4B A2 00 A9 CF 11F8 : 52 85 24 20 56 F5 50 FE 6E 1208 : C6 4B D0 EF A9 0A 4C 69 95 1210 s F9 50 FE B8 AD 01 lC 95 86 1218 5 25 E8 E0 07 D0 F3 20 97 27 1220 s F4 A5 16 45 17 45 18 45 9C 1228 s 19 45 lA F0 07 C6 09 D0 F5 1230 : C0 4C lE F4 A5 18 C5 06 7B 1238 : F0 03 4C 0B F4 85 22 A9 76 1240 s 06 85 31 4C EB 03 A5 12 70 1248 : A6 13 85 16 86 17 A5 06 60 1250 s 85 18 A5 07 85 19 A9 00 F3 1258 s 45 16 45 17 45 18 45 19 39 1260 : 85 lA 20 34 F9 A2 5A 20 DF 1268 : 56 F5 A0 00 50 FE B8 AD lC 1270 : 01 lC D9 24 00 F0 06 CA AF 1278 s D0 ED 4C 51 F5 C8 C0 08 35 1280 s D0 EA 20 56 F5 50 FE B8 E7 1288 s AD 01 lC 91 30 C8 D0 F5 68 1290 : A0 BA 50 FE B8 AD 01 lC B6 1298 : 99 00 01 C8 D0 F4 20 E0 82 12A0 s F8 A5 38 C5 47 F0 03 4C D2 12A8 s F6 F4 20 E9 F5 C5 3A F0 B6 12B0 s 03 4C 02 F5 A0 00 A9 55 74 12B8 s 20 74 04 B9 00 06 20 74 E4 12C0 s 04 C8 D0 F7 AD 00 lC 49 39 12C8 8 08 8D 00 lC AD 00 06 D0 AF 12D0 s 03 4C 9E FD C5 18 D0 F9 B5 12D8 s 85 06 AD 01 06 85 07 4C 2D 12E0 s 65 03 78 A9 08 8D 00 18 37 12E8 s A5 18 8D 00 06 85 06 A5 ED 12F0 s 19 8D 01 06 85 07 A9 04 10 12F8 s 85 78 A9 E2 20 6B 04 C9 81 1300 s 02 90 33 A0 00 84 78 A4 7B 1308 s 78 B9 DB FE F0 12 58 20 75 1310 s 76 D6 78 A9 E2 20 6B 04 29 1318 s C9 02 90 lA E6 78 D0 E7 8F 1320 8 A9 C0 20 6B 04 A9 E2 20 F8
1328 s 6B 04 C9 02 90 08 A9 FF 38 1330 ; 20 74 04 4C 22 EB AD 00 4D 1338 s 06 F0 F8 C5 18 F0 C4 AD 25 1340 s 00 06 85 06 AD 01 06 85 6B 1348 s 07 4C 15 04 85 00 58 A5 40 1350 s 00 30 FC 78 60 85 77 A2 0C 1358 s 01 8A 2C 00 18 F0 FB A9 F6 1360 s 00 8D 00 18 8A 2C 00 18 64 1368 s D0 FB A2 00 8A 66 77 2A ED 1370 s 2A 66 77 2A 2A 8D 00 18 30 1378 s 8A 66 77 2A 2A 66 77 2A 61 1380 s 2A 8D 00 18 8A 66 77 2A 82 1388 s 2A 66 77 2A 2A 8D 00 18 48 1390 s BA 66 77 2A 2A 66 77 2A 79 1398 s 2A 8D 00 18 A2 02 CA D0 93 13A0 s FD A9 08 8D 00 18 60 A0 A9 13A8 s 00 84 61 A9 A0 85 62 Bl 9B 13B0 s 61 91 61 E6 61 D0 F8 E6 5D 13B8 s 62 F0 0C A5 62 C9 C0 D0 63 13C0 : EE A9 E0 85 62 D0 E8 A9 0F 13C8 s E5 8D D6 FD A9 4C 8D F9 10 13D0 s F4 A9 2C 8D FA F4 A9 F7 43 13D8 s 8D FB F4 A2 00 BD 00 08 F2 13E0 s 9D 2C F7 E8 D0 F7 BD 00 72 13E8 s 09 9D 2C F8 EB E0 A4 D0 B4 13F0 s F5 A2 00 BD A4 09 9D BB 6F 13F8 3 EE E8 D0 F7 BD A4 0A 9D F2 1400 s BB EF E8 E0 C6 D0 F5 A9 27 1408 s 08 8D DA El A9 01 8D DC 5C 1410 s El A9 35 85 01 A0 00 Bl 3C 1418 s BB C9 5E F0 59 20 53 E4 lB 1420 s 20 BF E3 18 20 15 FD A9 12 1428 8 ,F7 A0 0B 20 lE AB 20 44 7F 1430 s A6 4C 9D E3 0D 48 59 50 F9 1438 s 52 41 2D 4C 4F 41 44 20 50 1440 : 56 32 2E 31 20 28 43 29 04 1448 s 20 31 39 38 35 20 54 52 Al 1450 s 49 42 41 52 0D 42 4F 52 lA 1458 8 49 53 20 53 43 48 4E 45 F8 1460 s 49 44 45 52 2B 4B 41 52 lE 1468 s 53 54 45 4E 20 53 43 48 3B 1470 s 52 41 4D 4D 0D 00 18 A9 E4 1478 s 02 65 BB 85 BB 90 02 E6 E2 1480 s BC C6 B7 C6 B7 EA A2 00 C3 1488 s BD 59 0C 9D C0 02 E8 E0 2A 1490 s 25 D0 F5 4C C0 02 20 53 67 1498 s E4 20 BF E3 18 20 15 FD CB 14A0 s 20 44 A6 20 D5 FF A9 37 02 14A8 s 85 01 A5 AE 85 2D A5 AF A5 14B0 s 85 2E 20 63 A6 20 8E A6 B4 14B8 s 4C AE A7 00 00 00 00 00 45
Listing 1. »Hypra-Load 2.1«. Bitte beachten Sie die Hinweise im Text und die Eingabehinweise auf Seite 18.
10 OPEN 1,8,15
20 OPEN 2,8,2,"#"
30 PRINT#1,"U1 2 0 17 0"
40 PRINT#l,"B-P 2 2"
50 PRINT#2,CHR$(237);CHR$(2)
60 PRINT#l,"U2 2 0 17 0"
70 CLOSE 2,1
READY.
Listing 2. Hilfsprogramm zur Erstellung von »Hypra-Load 2.1«. Bitte beachten Sie die Hinweise im Text!
10 POKE 56,96sP0KE 55,0:CLR	<236>
15 0F=32768	<220>
20 PRINT"{CLR,3D0WN>K0PIEREN DER ROM-DATEN	
NACH $6000":PRINT	<209>
30 FOR 1=6*4096 TO 8*4096-l:POKE I,PEEK(I+	
OF)-.NEXT I	<028>
40 REM EINSCHALTFARBEN SETZEN	<160>
50 POKE 58677-0F,5: REM ZEICHEN GRUEN	<172>
60 POKE 60633-DF,0s REM RAHMEN SCHWARZ	<248>
70 POKE 60634-OF,0s REM HINTERGR. SCHWARZ	<216>
80 PRINT"LESEN DER DATA-ZEILEN"aPRINTsPRIN	
Listing 3. Programm zur Erstellung von	
»Hypra-Perfekt«	
96

C 64
Hilfsprogramme
T 100 T=0	<184> <077>	8147	DATA 234,234,173,0,221,42,42,102,176, 106,102,176,165,176,73,255,96,234	<200>
110 T=T+l:READ A:IF A=0 THEN 240	<071>	8148	DATA 96,234,234,234,234,234,234,234,2	
120 READ Bs REM ANZAHL DER BYTES	<099>		34,234,234,234,234,234,234,234,169	<128>
130 READ Pl: REM PRUEFSUMME	<231>	8149	DATA 3,141,0,221,32,251,237,138,162,2	
140 P2=0:PRINT"BLOCK ";T5"{2SPACE}";	<018>		55,234,234,234,202,208,252,170,96	<180>
150 FOR I=A-OF TO A-OF-l+B	<039>	8150	DATA 234,234,234,234,234,120,169,1,13	
160 READ D:POKE I,D:P2=P2+D	<193>		3,167,160,255,32,29,248,192,255,208	<063>
170 NEXT I	<254>	8151	DATA 3,76,228,240,32,39,248,133,169,3	
180 IF P2<>P1 THEN 210	<101>		2,39,248,133,168,165,167,240,30,32	<193>
190 PRINT"<3SPACE >OK”	<026>	8152	DATA 39,248,32,39,248,169,252,234,234	
200 GOTO 110	<144>		,164,169,208,30,198,168,198,168,198	<015>
210 PRINT"PRUEFSUMME FALSCH: ";P2;" STATT		8153	DATA 168,169,254,24,229,168,133,170,7	
";Pl:PRINT	<179>		6,229,248,165,169,208,8,198,168,169	<224>
220 GET A$;IF A$=""THEN 220	<253>	8154	DATA 0,76,205,248,44,169,254,133,168,	
230 GOTO 110	<174>		160,0,32,39,248,145,174,230,174,208	<206>
240 PRINT:PRINT"FERTIG!*':END	<1B0>	8155	DATA 2,230,175,198,168,208,241,162,0,	
8000 REM *** BLOCK 1: $EB3F-$EB41 ***	<201>		134,167,165,169,208,159,198,170	<203>
8001 DATA 60223,3,359	<001>	8160	REM *** BLOCK 11: $F900-tF9FF ***	<043>
8002 DATA 76,32,251	<001>	8161	DATA 63744,256,30043	<025>
8005 REM *** BLOCK 2: tFB20-IFB6B ***	<253>	8162	DATA 240,6,32,39,248,76,254,248,169,1	
8006 DATA 64288,73,10154	<240>		6,13,17,208,141,17,208,165,171,141	<115>
8007 DATA 232,134,198,201,133,144,4,201,14		8163	DATA 0,221,169,64,133,144,24,96,255,1	
1,144,3,76,66,235,157,119,2,72,152	<171>		65,0,41,6,201,2,240,3,76,158,253	<204>
8008 DATA 72,160,0,169,32,37,2,208,13,185,		8164	DATA 234,169,5,133,9,162,90,134,75,16	
162,251,221,119,2,240,11,200,192	<145>		2,0,169,82,133,36,32,86,245,80,254	<177>
8009 DATA 224,208,243,104,168,104,76,66,23		8165	DATA 184,173,1,28,197,36,240,9,198,75	
5,200,185,162,251,201,133,144,4,201	<254>		,208,239,169,10,76,105,249,80,254	<121>
8010 DATA 141,144,238,236,137,2,176,233,15		8166	DATA 184,173,1,28,149,37.232,224,7,20	
7,119,2,232,134,198,76,79,251	<015>		8,243,32,151,244,165,22,69,23,69	<247>
8015 REM *** BLOCK 3: $FBA0-$FBDF ***	<169>	8167	DATA 24,69,25,69,26,240,7,198,9,208,1	
8016 DATA 64416,64,5759	<104>		92,76,30,244,165,24,197,6,240,3,76	<007>
8017 DATA 252,255,133,76,207,34,36,34,44,5		8168	DATA 11,244,133,34,169,6,133,49,76,92	
6,13,137,76,79,65,68,134,76,73,83	<087>		,4,165,18,166,19,133,22,134,23,165	<139>
8018 DATA 84,13,138,83,65,86,69,135,82,85,		8169	DATA 6,133,24,165,7,133,25,169,0,69,2	
78,13,139,83,121,54,52,55,51,56,13	<062>		2,69,23,69,24,69,25,133,26,32,52	<242>
8019 DATA 136,79,208,49,44,56,44,49,53,44,		8170	DATA 249,162,90,32,86,245,160,0,80,25	
34,140,67,76,79,83,69,49,13,136,255	<004>		4,184,173,1,28,217,36,0,240,6,202	<162>
8020 DATA 255,255	<237>	8171	DATA 208,237,76,81,245,200,192,8,208,	
8100 REM *** BLOCK 4: $E5EF-$E5F5 ***	<180>		234,32,86,245,80,254,184,173,1,28	<035>
8101 DATA 58862,8,1523	<004>	8172	DATA 145,48,200,208,245,160,186,80,25	
8102 DATA 32,235,240,134,198,189,255,240	<244>		4,184,173,1,28,153,0,1,200,208,244	<092>
8105 REM *** BLOCK 5: $F0D9-$F0EA ***	<154>	8173	DATA 32,224,248,165,56,197,71,240,3,7	
8106 DATA 61657,45,5377	<082>		6,246,244,32,233,245,197,58,240,3	<015>
8107 DATA 76,207,34,58,42,34,44,56,44,49,5		8174	DATA 76,2,245,160,0,169,85,32,232,3,1	
8,88,32,8,249,76,40,245,162,0,189	<055>		85,0,6,32,232,3,200,208,247,240	<142>
8108 DATA 216,240,32,210,255,232,224,12,20		8180	REM *** BLOCK 12: $FA0B-tFAFF ***	<089>
8,245,162,6,120,96,234,255,255,255	<123>	8181	DATA 64000,256,29911	<249>
8109 DATA 13,82,85,78,58,13	<062>	8182	DATA 111,234,234,234,133,119,162,1,13	
8110 REM *** BLOCK 6: $F4AD-$F4B7 ***	<118>		8,44,0,24,240,251,169,0,141,0,24	<108>
8111 DATA 62637,11,1586	<145>	8183	DATA 138,44,0,24,208,251,162,0,138,10	
8112 DATA 201,4,176,7,169,8,133,186,234,23			2,119,42,42,102,119,42,42,141,0,24	<137>
4,234	<159>	8184	DATA 138,102,119,42,42,102,119,42,42,	
8115 REM *** BLOCK 7: $F4F9-$F500 ***	<139>		141,0,24,138,102,119,42,42,102,119	<068>
8116 DATA 62713,8,820	<213>	8185	DATA 42,42,141,0,24,138,102,119,42,42	
8117 DATA 165,2,48,4,76,44,247,234	<2^3/		,102,119,42,42,141,0,24,162,2,202	<025>
8120 REM **# BLOCK 8: $F5EF-$F5F9 ***	<058>	8186	DATA 208,253,169,8,141,0,24,96,234,16	
8121 DATA 62959,11,1586	<126>		9,8,141,0,24,96,234,234,234,234,234	<010>
8122 DATA 201,4,176,7,169,8,133,186,234,23		8187	DATA 234,234,234,234,234,234,234,234,	
4,234	<169>		234,234,234,234,234,234,173,0,28	<075>
8125 REM *** BLOCK 9: $F72C-$F7FF ***	<246>	8188	DATA 9,8,141,0,28,173,0,6,208,3,76,15	
8126 DATA 63276,212,31985	<179>		8,253,197,24,208,249,133,6,173,1	<003>
8127 DATA 160,0,177,187,201,36,208,63,76,2		8189	DATA 6,133,7,76,101,3,234,234,234,234	
24,251,255,255,255,255,255,255,255	<208>		,234,234,234,234,234,234,234,234	<169>
8128 DATA 255,165,186,32,12,237,169,111,32		8190	DATA 234,234,96,96,133,0,88,165,0,48,	
,185,237,169,77,32,221,237,169,45	<032>		252,120,96,120,169,8,141,0,24,234	<153>
8129 DATA 32,221,237,169,69,32,221,237,169		8191	DATA 165,24,141,0,6,133,6,165,25,141,	
,69,32,221,237,169,193,32,221,237	<060>		1,6,133,7,169,4,133,120,169,226,32	<201>
8130 DATA 32,254,237,32,239,237,76,21,249,		8192	DATA 130,4,201,2,144,51,160,0,132,120	
255,255,255,255,255,255,255,255,169	<112>		,164,120,185,219,254,240,18,88,32	<212>
8131 DATA 28,162,249,133,167,134,168,169,0		8193	DATA 118,214,120,169,226,32,130,4,201	
,162,3,133,169,134,170,165,186,32	<069>		,2,144,26,230,120,208,231,169,192	<013>
8132 DATA 12,237,169,111,32,185,237,169,77		8194	DATA 32,130,4,169,226,32,130,4,201,2,	
,32,221,237,169,45,32,221,237,169	<060>		144,8,169,255,32,232,3,76,34,235	<144>
8133 DATA 87,32,221,237,160,0,165,169,32,2		8195	DATA 173,0,6,240	<091>
21,237,165,170,32,221,237,169,30	<068>	8200	REM *** BLOCK 13: $FB00-$FB1F ***	<121>
8134 DATA 32,221,237,177,167,32,221,237,20		8201	DATA 64256,32,4506	<195>
0,192,30,144,246,32,254,237,24,165	<096>	8202	DATA 248,197,24,240,196,173,0,6,133,6	
8135 DATA 167,105,30,133,167,144,3,230,168			,173,1,6,133,7,76,160,4,234,234,234	<111>
,24,165,169,166,170,105,30,133,169	<164>	8203	DATA 234,160,0,185,25,244,153,255,255	
8136 DATA 144,2,230,170,224,5,144,173,201,			,255,255	<166>
0,144,169,165,186,32,12,237,169,111	<175>	8210	REM *** BLOCK 14: $FBE0-$FC3F ♦**	<064>
8137 DATA 32,185,237,169,77,32,221,237,169		8211	DATA 64480,96,12568	<079>
,45,32,221,237,169,69,32,221,237	<112>	8212	DATA 165,2,41,64,240,3,76,1,245,169,1	
8138 DATA 169,139,32,221,237,169,4,32,221,			3,32,210,255,234,169,0,133,144,160	<203>
237,173,0,221	<058>	8213	DATA 2,132,169,32,19,238,133,170,32,2	
8140 REM *#* BLOCK 10: $F800-$F8FF ***	<198>		25,255,208,3,76,51,246,164,144,208	<195>
8141 DATA 63488,256,38681	<173>	8214	DATA 47,32,19,238,164,144,208,40,164,	
8142 DATA 133,171,169,239,45,17,208,141,17			169,136,208,225,166,170,32,205,189	<242>
,208,32,128,248,32,152,248,32,63	<167>	8215	DATA 169,32,32,210,255,32,19,238,166,	
8143 DATA 247,8,72,166,174,164,175,104,40,			144,208,18,170,240,6,32,210,255,76	<245>
88,96,32,39,248,201,255,240,248,160	<139>	8216	DATA 30,252,169,13,32,210,255,160,2,2	
8144 DATA 0,96,169,39,141,0,221,44,0,221,8			08,190,32,66,246,166,45,164,46,96	<067>
0,251,169,3,141,0,221,162,7,202,208	<083>	8217	DATA 255	<228>
8145 DATA 253,234,173,0,221,42,42,102,176,		9000	DATA 0	<253>
106,102,176,234,234,173,0,221,42	<227>	9010	REM **** ENDE ****	<199>
8146 DATA 42,102,176,106,102,176,234,234,1				
73,0,221,42,42,102,176,106,102,176	<143>	I	0 ever	Listing 3. (Schluß)		

97
Hilfsprogramm C 64/VC 20
Strubs — ein Precompiler für Basic-Programme
Bei Strubs, das steht für »strukturiertes Basic«, handelt es sich um einen sogenannten Precompiler, ein Programm, welches Programmtexte mit gewissen zusätzlichen Befehlen in normale, auf jedem Commodore 64 oder VC 20 ablauffähige Programme übersetzt.
Das Programm Strubs wurde ursprünglich zu einer Zeit entwickelt, als Begriffe wie Forth oder Pascal noch Fremdworte für den C 64 waren. Der Zweck war, die Entwicklung von Programmen übersichtlicher, effizienter und bequemer zu gestalten.
Strubs bietet neue Basicbefehle
Auf der einen Seite ermöglicht es Strubs, auf sanftem Weg, das heißt im Rahmen des gewohnten Basic (aber ohne auf unübersichtliche Klimmzüge innerhalb des Commodore Basic angewiesen zu sein), also ohne gleich eine neue Programmiersprache lernen zu müssen, mit der Technik strukturierter Programmierung vertraut zu werden. Auf der anderen Seite ermöglicht es Strubs, sich mit der Arbeit mit Compilern vertraut zu machen.
Schließlich bietet die Form des Precompilers noch erhebliche Geschwindigkeitsvorteile gegenüber vergleichbaren Interpretererweiterungen. Um diese letzten beiden Punkte zu verstehen, ist es angebracht, auf die unterschiedlichen Arbeitsweisen von Interpretern und Compilern einzugehen.
Bekanntlich versteht der eigentliche Computer, das heißt hier der Microprozessor, nur die sogenannte Maschinensprache. Dadieseaberextrem problemfern und unübersichtlich ist, hat man verschiedene höhere Programmiersprachen erfunden, um dem Programmiererseine Arbeitzu erleichtern. Damit aber ein in einer solchen Sprache geschriebenes Programm vom Computer verarbeitet werden kann, muß zunächst eine Übertragung wiederum von Programmen vorgenommen und zwar von Compilern oder von Interpretern. Diese beiden Programmarten unterscheiden sich grundlegend in ihrer Arbeitsweise.
Ein Interpreter besteht im wesentlichen aus einer Reihe von in Maschinensprache geschriebenen Unterprogrammen, ei-nerTabelle, welche die erlaubten Befehle und die Adresse des zu jedem Befehl gehörenden Unterprogramms enthält, und schließlich der Variablenverwaltung sowie der sogenannten Interpreterschleife.
Diese Schleife geht den Programmtext Schritt für Schritt durch. Zu jedem Befehl sucht sie in der Tabelle die zugehörige Unterprogrammadresse, ruft dieses Unterprogramm auf, holt den nächsten Befehl und so weiter, bis das Programmende erreicht ist. Man sieht also, daß ein großer Teil der Arbeit eines Interpreters im Suchen besteht: Suchen in der Befehlstabelle, Suchen in der Variablentabelle und nicht zuletzt Suchen nach Sprungzielen im zu interpretierenden Programm.
Diese ewige Sucherei führt nun dazu, daß Programme nur relativ langsam abgearbeitet werden. Eine Interpretererweiterung (wie etwa Simons Basic) stellt nun einfach zusätzliche Befehlsroutinen zur Verfügung und erweitert die Befehlstabelle um die neuen Befehle und Adressen. Durch diese Erweiterung der Befehlstabellen wird jetzt aber leider auch der Zeitaufwand für das Suchen größer, so daß die Programme noch langsamer als bisher schon ablaufen. Simons Basic demonstriert dies sehr anschaulich. Ein Beispiel für eine Interpretererweiterung werden wir weiter unten besprechen.
Nehmen wir zur Illustration der Arbeitsweise eines Interpreters eine Programmzeile wie die folgende:
FOR I = 0 TO 999: PRINT I: NEXT
Der Interpreter muß hier 1000mal die Befehlstabellen nach dem Befehl PRINT und 1000mal die Variablentabelle nach der Variablen I durchsuchen.
Compiler kontra Interpreter
Völlig anders arbeitet der Compiler: Er übersetzt ein Programm, das in einer Sprache geschrieben ist, welche nur der Programmierer versteht (dieses Programm nennt man Quellprogramm), in ein äquivalentes Programm (das Objektprogramm), das (meist nur noch) die Maschine versteht. Diese beiden Begriffe — Quellprogramm und Objektprogramm — sollten wir uns gut merken; sie werden noch öfter auftauchen.
Der größte Teil der Sucharbeit kann nun ein für allemal bei der Übersetzung vom Compiler geleistet werden. Die benötigten Adressen der Befehlsroutinen, der Variablen und der Sprungziele sind für immer fest in das Objektprogramm eingebaut. Dadurch können compilierte Programme oft bis zu zehn-oder mehrmal schneller sein als entsprechende Interpreterprogramme.
Diesem beträchtlichen Gewinn an Geschwindigkeit steht allerdings ein nicht minder bedeutender Verlust an Bequemlichkeit gegenüber. Zum einen erfordert selbst die geringste Programmänderung eine vollständige Neuübersetzung des Programms. Dies allein kann bei umfangreichen Programmen erhebliche Zeit beanspruchen, zumal häufig auch noch diverse Zwischenschritte erforderlich sind, auf die wir hier nicht näher eingehen wollen. Zum anderen stellt das von einem einfachen Compiler erzeugte Objektprogramm für den Programmierer meist einen großen schwarzen Kasten dar, in den hineinzusehen ihm verwehrt bleibt. Er kann das Programm in der Regel nicht einfach unterbrechen, um sich bestimmte Variablenwer-te anzusehen oder Variablen bestimmte Testwerte zuweisen, um damit dann einen kritischen Programmteil ausführen zu lassen, mal eben eine Zeile ändern und was der Annehmlichkeiten beim Programmtest mit einem Interpreter mehr sind. Bessere Compiler bieten zwar eine Reihe von Optionen und Hilfsprogrammen für die Fehlersuche und das Programmtesten an, jedoch bleibtauch hier, verglichen miteinem Interpreter, diese Arbeit reichlich unbequem. Ideal ist es sicherlich, äquivalente Interpreter und Compiler zur Verfügung zu haben. Auch gewisse Mischformen wie zum Beispiel bei der Sprache Forth sind hier interessant.
Strubs — eine Mischung von Interpreter und Compiler
Um nun aber auf das Programm Strubs zurückzukommen: Auch hier haben wir es in gewisser Hinsicht mit einer Mischform zu tun. Das selbst nicht lauffähige Quellprogramm, wel-
98
C 64/VC 20
Hilfsprogramm
ches der Programmierer unter Benutzung der neuen Befehle erstellt, wird von Strubs nicht in Maschinensprache übersetzt, sondern in ein normales Basic-Programm, das dann wie bisher interpretiertwir. Dabei werden Programmteile, die keine Erweiterungen enthalten, mehr oder weniger unverändert übernommen. Dieses von Strubs erzeugte Objektprogramm kann nun wie jedes andere Basic-Programm — auch mit Hilfe von Toolkits — gelistet, ausgetestet und sogar geändert werden. Schließlich istes dann noch möglich, dieses Objektprogramm mit Hilfe eines Basic-Compilers, wie zum Beispiel dem Austro Compiler, weiter zu übersetzen. Besonders hilfreich ist es, daß einander entsprechende Programmzeilen im Quellprogramm und im Objektprogramm gleiche Zeilennummern besitzen, so daß der Programmierer sich ohne Schwierigkeiten im Objektraum zurechfinden kann. Gegenüber der Methode, den Basic-Inter-preter zu erweitern, bietet dieses Verfahren Geschwindigkeitsvorteile: Diese ergeben sich einerseits aus der Tatsache, daß alle Kommentare und Leerzeichen gelöscht werden können, andererseits wird wie beim Compiler ein Teil der Sucharbeit während der Übersetzung erledigt. Dadurch werden zum Teil erst neue Anweisungen ermöglicht, deren Realisierung im Rahmen einer Interpretererweiterung zu aufwendig wäre.
Schon durch die Suche nach Sprungzielen wirkt der Basic-lnterpreter langsam genug: Bei jedem Sprung wird das Programm von Anfang an durchsucht, bis die entsprechende Zei-lennummmer gefunden ist. Deshalb empfiehlt es sich auch, häufig aufgerufene Unterprogramme möglichst an den Programmanfang zu setzen, da sie dann schneller gefunden werden.
Wer sucht, der findet: aber wann?
Daß sich die Suchzeit überhaupt in Grenzen hält, liegt nun daran, daß der Programmtext selbst nicht durchsucht werden muß. Vielmehr braucht der Interpreter nur entlang der Kette aus Zeilennummern und Zeigern zur nächsten Zeile zu suchen, bis die gewünschte Zeilennummer gefunden ist (Bild 1). Sollte nun der Interpreter aber bei nicht erfüllter Bedingung in einer IF-Anweisung das zugehörige ELSE suchen, bei nicht erfüllter Eingangsbedingung einer FOR-Schleife das zugehörige NEXT oder zu einem WHILE das ENDWHILE, dann müßte der gesamte Programmtext selbst durchsucht werden.
Interpreter durchlaufen jede Schleife mindestens einmal
Deshalb arbeiten die Basic-Interpreter im allgemeinen so, daß solche Blöcke — wie die FOR-Schleife — mindestens einmal durchlaufen werden. Deshalb muß bei solchen Interpre-
tern — sofern sie überhaupt ein ELSE kennen — dieses in der gleichen Programmzeile wie das dazugehörige IF stehen. Deshalb kenntzum Beispiel Simons Basic die REPEAT-UNTIL-Anweisung, die immer mindestens einmal durchlaufen wird, nicht aber die WHILE-Anweisung. Ein Precompiler aber kann bei der Übersetzung den Abschlußbefehlen eines Blockes — wie ELSE oder ENDWHILE — ihre Zeilennummern zuordnen, so daß beim Programmlauf nicht mehr der Programmtext selbst, sondern nur die Kette der Zeilennummern durchsucht werden muß.
Vorübersetzung nicht nur beim Precompiler
Die Methode der Vorübersetzung zur Erhöhung der Laufgeschwindigkeit benutzt im übrigen auch der Basic-Interpreter des Commodore 64. Und zwar findet sich die Übersetzungsfunktion im Editor: Sofort bei der Eingabe einer Zeile werden die Basic-Befehle, die aus mehreren Zeichen bestehen, in nur 1 BytelangeZeichen, diesogenanntenTOKEN, übersetzt. Eine Liste dieser Token findet sich zum Beispiel im Programmierhandbuch zum VC 20. Diese Vorübersetzung bringt zwar einen schönen Gewinn an Geschwindigkeit, hat allerdings den Nachteil, daß Programmtexte nicht mehr mit komfortableren Editor- beziehungsweise Textprogrammen erstellt werden können. Für uns istjedoch vor allen Dingen wichtig, daß diese Token berücksichtigt werden müssen, falls der Befehlsvorrat von Strubs erweitert werden soll, oder falls Programme für Interpretererweiterungen wie Simons Basic bearbeitet werden sollen. Aber auf diesen Punkt werden wir ausführlicher eingehen.
Wenn wir mit Strubs arbeiten, haben wir es — wie bei jedem Compiler — mit (mindestens) drei Programmen zu tun: Dem Übersetzungsprogramm, dem Quellcode (Quellprogramm) und dem lauffähigen Objektprogramm. Diese Programme müssen sich nun irgendwie den zur Verfügung stehenden Speicherplatz teilen. Daß das Übersetzungsprogramm, um arbeiten zu können, im Hauptspeicher stehen muß, verstehtsich von selbst.
Eine Möglichkeit wäre nun, daß das Übersetzungsprogamm das Quellprogramm von der Diskette einliest, und gleichzeitig das erzeugte Objektprogramm auf Diskette schreibt. Der Compiler zu Simons Basic arbeitet zum Beispiel nach dieser Methode. Da ein Compiler jedoch einen Programmtext in der Regel mindestens zweimal durchliest—man spricht in diesem Fall von 2-Pass-Compilern —, ist es günstiger, wenn das Quellprogramm sich ebenfalls im Hauptspeicher befindet. Diesen Weg gehen zum Beispiel Pascal 64 und Strubs. Um nun den zur Verfügung stehenden Platz aufzuteilen, benutzt zum Beispiel Pascal 64 eine sehr einfache und wirksame Methode:
normaler Zustand:
bei Strubs:
Programmtextbereich
Programmtextbereich
EDIT-BEREICH
Variablenbereich
STRUBS Programm
zu bearbeitendes Programm
Variablenbereich
Bild 1. Struktur eines Basic-Programms und dessen Lage im Arbeitsspeicher
Hilfsprogramm
C 64/VC 20
Der Compiler ist selbst in Basic geschrieben und enthält eine unsichtbare Zeile mit der Zeilennummer 0, die ihrerseits einen Sprung zum Übersetzungsprogramm enthält Ein Pascalprogramm wird nun einfach mit den Zeilennummern zwischen 1 und 9999 in das Compilerprogramm eingefügt.
Dieses Verfahren hat allerdings den Nachteil, daß Programme immer nur zusammen mit dem Compiler abgespeichert und editiert werden können. Insbesondere ist es damit nicht möglich, Quellprogramme aus fertigen Bausteinen (Modulen) zusammenzusetzen.
Strubs geht andere Wege
Aus diesem Grund wurde für Strubs ein anderer Weg gewählt: Entsprechend Bild 1 wurde der Speicher des Commodore 64 in drei Bereiche aufgeteilt. Am Anfang des Arbeitsspeichers steht das Programm Strubs (Pointer in Zelle 43/44). Der Edit-Bereich für Quellprogramme beginnt bei (Wert der Variablen EA). Daran anschließend befindetsich der (gemeinsame) Variablenbereich (Pointer in Zelle 45/46). Um nun vom Edit-Bereich aus bequem in den anderen Speicherbereich umschalten zu können, benutzt Strubs selbst eine kleine Interpretererweiterung, die, wie versprochen, kurz vorgestellt werden soll.
Die Eingabe von »I« bewirkt nun dasselbe wie die Befehlsfolge »POKE 44,8: RUN«. Das entsprechende Assemblerlisting findet sich in Bild 2. Das kleine Programm »Erweiterung« holt zunächst den nächsten Befehl. Dann muß für die Routine »Befehl ausführen« der Status gerettet werden, da die CHARGET-Routine damit wichtige Informationen übermittelt, (dies ist wichtig und wurde in dem unten erwähnten Buch übersehen). Nachdem verglichen wurde, ob ein neuer Befehl vorliegt, wird dann entsprechend zum normalen Programmverlauf oder zur Erweiterungsroutine verzweigt. Für eigene Versuche mit Interpretererweiterungen können an dieser Stelle beliebige Maschinenprogramme (gegebenenfalls mit weiteren Decodierungen) gesetzt werden. Nur sollte zum Abschluß — anders als hier, wo ein Basic-Befehl aufgerufen wird — ein Sprung zur Interpreterroutine $A7E4 erfolgen, wo dann der nächste Befehl bearbeitet wird. Um nun die Erweiterung in den Basic-lnterpreter einzubinden, benötigen wir dann nur noch eine kurze Initialisierungsroutine, die den Zeiger in $0308 auf den Anfang der Erweiterung setzt.
Wer selbst solche Erweiterungen entwickeln möchte, findet weitere Informationen und viele Anregungen in dem Buch »64 Intern« von Data Becker. Für weitergehend Interessierte empfiehlt sich die gut verständliche Einführung »Compilerbau« von N. Wirth, Teubner, Stuttgart 1981.
Erweiterung:			
02C0	207300	JSR0073	; Charget, nächstes Zeichen holen
02C3	08	PHP	; Status retten
02C4	C921	CMP #21	; »1«, neuer Befehl?
02C6	F004	BEO 02CC	
02C8	28	PLP	; nein, dann Status wiederherstellen
02C9	4CE7A7	JMP A7E7	; und normalen Befehl ausführen
02CC	28	PLP	
02CD	A908	LDA #08	; Erweiterungsroutine:
02CF	852C	STA2C	; entspncht Poke 44,8: RUN
02Dl	Ä98A	LDA #8A	; RUN-TOKEN
02D3	4CE7A7	IMP A7E7	; Befehl ausfuhren
INIT:			
02EE	A9C0	LDA #C0	; Erweiterung, Low Byte
02F0	8D0803	STA 0308	
02F3	Ä902	LDA #02	; Erweiterung, High Byte
02F5	8D0903	STA 0309	
02F8	60	RTS	
Bild 2. Interpreter€rweiterung			
Anschließend wollen wir nun das Programm Strubs vorstellen. Am Anfang der Programmentwicklung standen folgende Vorstellungen, die durch das Programm erfüllt werden sollten: 1. Unabhängigkeit von Zeilennummern
2.	Unterstützung strukturierter Programmierung
3.	Unterstützung modularer Programmentwicklung
4.	Erweiterung der Dokumentationsfähigkeitdes Programmtestes. Dabei sollte das Programm
5.	einfache Handhabung gewährleisten und
6.	effiziente Fehlersuche ermöglichen.
Die Unabhängigkeit von Zeilennummern wird erreicht durch die Verwendung beliebig langer Labels oder relativer Sprünge anstelle von Zeilennummern.
Strubs stellt sich vor
Die wichtigsten Kontrollstrukturen höherer Programmiersprachen werden von Strubs zur Verfügung gestellt: IF — THEN — Fl
IF — THEN — ELSE — Fl
WHILE — EWHILE
REPEAT - UNTIL
LOOP - EXIT (beliebig oft) - ELOOP
CASEOF — OF (beliebig oft) — ELSE (optional) — ECASE
Durch die Unabhängigkeitvon Zeilennummern und eine EX-TERN-Deklaration wird das Anlegen einer Modulbibliothek — sowohl auf Quellprogramm- als auch auf Objektprogrammebene — unterstützt.
Mit Strubs werden Sie ein vielseitiges Werkzeug in Händen halten
Der Dokumentationsfähigkeit des Programmtestes dienen neben den bereits erwähnten Marken und Kontrollstrukturen ein Tabulator und Kommentare an beliebiger Stelle auch innerhalb eines Variablennamens (zum Beispiel A’US’GABE’% = AG%).
Programmtests können wie gewohnt mit dem normalen Basic-Editor geschrieben werden.
Schließlich werden wir zur Illustration der Erweiterung des Befehlssatzes von Strubs noch eine MAKRO-Funktion implementieren. Von besonderer Bedeutung ist, daß das Programm von Anfang an unter dem Aspekt möglichst einfacher Erweiter-barkeit konzipiert wurde. Damit konnte das Programm im Bootstrapping-Verfahren entwickelt werden, so daß es jetzt selbst sowohl als Quellprogramm wie auch als Objektprogramm vorliegt. Wem es Spaß macht, der mag Strubs einfach auch als ein generelles Übersetzungsprogramm zur Aufbereitung von Programmtexten auffassen und seine gegenwärtigen Funktionen als Beispiel möglicher Implementationen.
Die Befehlsstruktur
Gehören Sie auch zu denjenigen, die sich manchmal ein Programm aus einer Zeitschrift vornehmen, um zu analysieren, wie es arbeitet oder um eventuell Teile des Programms für eigene Programmprojekte zu verwenden? Dann erinnern Sie sich bestimmt an Programme, bei denen Sie sich verzweifelt von Sprung zu Sprung bewegen und nach nicht allzu langer Zeit vollkommen den Überblick verlieren. Oder vielleicht kennen Sie folgende Situation: Sie schreiben ein Programm und erinnern sich angesichts eines bestimmten Problems, daß Sie ein ganz ähnliches Problem schon einmal in einem anderen Programm gelöst haben. Aber sobald Sie sich den alten Programmtext vornehmen, um den entsprechenden Programmteil in ihr neues Programm zu übernehmen, müssen Sie ent-
100
C 64/VC 20
Hilfsprogramm
täuscht feststellen, daß diese spezielle Problemlösung so sehr in das Programmgeflecht verwoben ist, daß es Ihnen weitaus einfacher scheint, den entsprechenden Programmteil vollkommen neu zu entwickeln.
Die Ursache für solche Erscheinungen liegt zum Teil darin, daß viele Basic-Programme mehr oder weniger aus der Sicht des Computer der »Basic-Maschine« — direkt am Computer nach dem Verfahren von Versuch und Irrtum entwickelt werden. Das kann in Einzelfällen sogar soweit führen, daß man zum Schluß zwar sieht, daß das Programm läuft, aber selbst nicht so recht weiß, warum eigentlich, und wie es funktioniert Der Hauptgrund für solche Unübersichtlichkeit aber liegt in der Verwendung zahlreicher wilder Sprünge und ausgefallener Programmier-Tricks. (Daß die Verwendung von GOTO-Anweisungen den mathematischen Beweis für die Korrektheit von Programmen praktisch unmöglich macht, ist für den Informatiker interessant, braucht uns hier aber nicht zu interessieren.)
Den entgegengesetzten Weg geht die strukturierte Programmierung. Sie bedeutet vor allem sorgfältige Planung und den Verzicht auf GOTOs und unübersichtliche Programmiertricks. Hier steht die systematische Analyse des Problems im Vordergrund. Die eigentliche Codierung, das heißt die Formulierung des Programmtextes in einer bestimmten Programmiersprache, spielt nur eine untergeordnete Rolle.
In der Problemanalyse geht es darum, ein gegebenes Problem in relativ selbständige Teilprobleme zu zerlegen und deren Beziehungen zueinander festzulegen. Den Aufbau des Programms Strubs mit den jeweiligen Zeilennummern können Sie Bild 3 entnehmen. Das komplette Objektprogramm ist ebenfalls abgedruckt (siehe Listing 1).
Entsprechend setzt sich das strukturierte Programm aus einer Reihe möglichst selbständiger Programmeinheiten zusammen. Dieses Vorgehen spiegelt sich im Konzept der Blöcke und Module.
Ein Block ist eine Anweisung oder eine Folge von Anweisungen mit genau einem Eingang und genau einem Ausgang. Das heißt man darf weder in einen solchen Block hineinspringen, noch aus diesem Block herausspringen. Solche Blöcke können entweder aneinandergereiht oder beliebig tief ineinandergeschachtelt werden; sie dürfen sich aber nicht überschneiden. In letzterer Hinsicht verhält es sich mit diesen Blöcken also genauso, wie bei den bekannten FOR-Schleifen in Basic.
Ein strukturiertes Programm besteht nun ausschließlich aus einer geordneten Hierarchie solcher Blöcke. Der kleinste mögliche Block besteht aus einer einzelnen Anweisung, wie zum Beispiel PRINT ”Text”. Der größte, umfassendste Block besteht aus dem Programm selbst
Da ist zunächst einmal die einfache IF-Anweisung, die schon von Basic her bekannt ist. Dieses normale Basic-IF kann natürlich, wie alle Basic-Befehle, weiterhin benutzt werden. Zusätzlich bietet Strubs aber eine erweiterte Form, bei welcher der THEN-Teil nicht auf den Rest einer Programmzeile begrenzt ist, sondern beliebig viele Zeilen umfassen kann, die durch den Befehl ’!FI’ — einfach ein umgedrehtes IF — abgeschlossen werden. Ein Beispiel:
10 ! IF X=Y THEN
20 : PRINT ”X und Y”
30 : PRINT ” SIND GLEICH”
99 !FI
Ist die Bedingung hinter IF erfüllt, so werden die Zeilen zwischen der IF- und der Fl-Anweisung ausgeführt, ansonsten wird das Programm sofort hinter der Fl-Zeile fortgesetzt.
Daneben existiert selbstverständlich auch die vollständige Form
10 !IF X=Y THEN
20:	PRINT ’’GLEICH’
50 !ELSE
60 : PRINT ’’UNGLEICH”
99 !FI
Ist die Bedingung erfüllt, dann wird der Block zwischen IF und ELSE ausgeführt, sonst der Block zwischen ELSE und Fl.
Für den Fall, daß mehr als nur zwei Fälle zu unterscheiden sind, bietet Strubs die CASE-Anweisung:
10 !CASEOFX<OTHEN
15 :	PRINT ’’KLEINER ALS 0”
40 ! OF X=0 THEN
45 :	PRINT ’’GLEICH 0”
60 ! OF X>O AND Y <OTHEN
65 : PRINT ”X>0 UNDY<”
80 ! ELSE
85 : PRINT ’’KEINER DER FÄLLE TRIFFT ZU”
99 ! ECASE
Mit dieser Struktur können beliebig viele Fälle unterschieden werden, wobei jedes OF mit einer beliebigen Bedingung verbunden werden kann. Es sollte aber darauf geachtet werden, daß sich die Bedingungen gegenseitig ausschließen (sonst wird das erste Auftreten einer erfüllten Bedingung gewählt). Nach der Bearbeitung des entsprechenden Falles wird das Programm immer hinter ECASE fortgesetzt. Die Möglichkeit, daß keiner der Fälle zutrifft, kann mit Hilfe der ELSE-Anweisung behandelt werden. Ist dies nicht erforderlich, kann der ELSE-Teil auch entfallen.
Damit kommen wir nun zu den Schleifen. Die FOR-Schleife kann wie bisher benutzt werden. Die WHILE-Schleife wird durchlaufen, solange die Bedingung erfüllt ist. Anschließend wird das Programm hinter EWHILE fortgesetzt. Da die Bedingung am Anfang der Schleife abgefragt wird, kann es vorkommen, daß die Schleife auch überhaupt nicht durchlaufen wird.
Bild 3. Aufbau von Strubs

101
Hilfsprogramm
C 64/VC 20
510 z *&**#**#*###>>:$^^^
520 '* GESCHACHTELTE LÜOP-BLOECKE *
530 '>.**>:*$**:*#4>:$#$^^^
540 '
620 !LOOP 'Ll .
630	PRINT"AEUSSERE LOOPl”
640	••	IF X=1 THEN !EXIT 'LOOPl
650	:	!LOOP 'L2
660 :	PRINT "INNERE L00P2"
670 :	IF »0 THEN !EXIT 'L00P2
630 !ELO0P ' L2
65S ' HIER WIRB PROGR. NACH EXIT L00F2 FORTGESETZT
700	•	X=X+1
710	:	!IF X=2 THEN
720 :	PRINT "LOOP 1 VERLRSSEN:":!EXIT "LOOPl
730	:	!FI
740	:	X=XH
750 !ELOOP 'Ll
760 PRINT"HIER WIRD PROGRAMM NACH EXIT LOOP 1 FORTGESETZT"
770 '
RERD?.	Bild 4. Geschachtelte Loop-Schleife
Ein Beispiel:
10 ! WHILE X<5 !D0
20 : PRINT ’’IMMER NOCH KLEINER ALS 5”
30 : X = X + 1
99 !EWHILE
Von der WHILE-Schleife unterscheidet sich die REPEAT-Schleife in zwei Punkten: Erstens wird die Schleife durchlaufen, bis die Bedingung erfüllt ist, also solange sie nicht erfüllt ist. Zweitens wird die Bedingung erst am Ende der Schleife abgefragt, so daß die Schleife immer mindestens einmal durchlaufen wird. In diesem wie im nächsten Beispiel bezieht sich die Zeile 30 auf den Fall, daß X beim Eintritt in die Schleife größer als 5 ist:
10 I REPEAT
20 : PRINT ”X KLEINER ALS 5”
30 : PRINT ’’VIELLEICHT ABER AUCH NICHT”
40 : X = X+1
99 ! UNTIL X > = 5
Eine weniger weit verbreitete, aber sehr mächtige Schleifenstruktur stellt die LOOP-Schleife dar (sie befindet sich zum Beispiel in der Programmiersprache ADA):
10 I LOOP
30 : PRINT ’’EVENTUELL GROESSER ALS 5”
40:	IFX>=5THEN!EXIT
50 : PRINT ’’KLEINER ALS 5”
60:	X = X+1
99 !ELOOP
Es handelt sich dabei um eine Endlosschleife, welche mit Hilfe des Befehls EXIT verlassen werden kann. Diese Schleife bietet im wesentlichen zwei Vorteile: Zum einen muß die Bedingung nicht entweder am Anfang oder am Ende der Schleife stehen, sondern kann an jeder beliebigen Stelle innerhalb des Blockes abgefragt werden. Darüber hinaus ist das Beenden der Schleife nicht nur von einer Bedingung abhängig, sondern die LOOP-Schleife kann beliebig viele EXIT-Anweisungen enthalten (dadurch wird nicht die oben erwähnte Förderung nach nur einem Ausgang verletzt, da das Programm in allen Fällen hinter dem ELOOP fortgesetzt wird). Damit eignet sich diese Konstruktion insbesondere gut für die Behandlung von Ausnahmen wie zum Beispiel von Eingabebefehlen etc. (eine Angelegenheit, die zum Beispiel in Pascal recht umständlich sein kann, falls man auf GOTOs verzichten will oder muß).
In Bild 4 (das Zeichen ’ kennzeichnet Kommentare) sehen Sie ein Beispiel für geschachtelte LOOP-Schleifen. Die Ausführung einer EXIT-Anweisung bewirkt die Fortsetzung des Programms bei der ersten Zeile hinter derjenigen Schleife,
welche diese EXIT-Anweisung am nächsten umschließt. Im Beispiel enthält die äußere Schleife zwei EXIT-Anweisungen — eine davon vor, die andere hinter der inneren Schleife. Die innere Schleife enthält eine EXIT-Anweisung. Grafisch lassen sich blockstrukturierte Programme am besten durch Strukto-gramme — anstelle der verbreiteten Flußdiagramme — darstellen. Das Struktogramm für die LOOP-Schleifen finden Sie in Bild 5. Über die Diagramme der anderen Strukturen und den Umgang mit Struktogrammen können Sie sich an anderer Stelle in dieser Zeitschrift oder in den unten aufgeführten Büchern informieren. Kommen wir nun zu den Modulen. Dabei handelt es sich um besondere Blöcke, die ein bestimmtes Teilproblem — beispielsweise das Zeichnen einer Linie in einem Grafikprogramm — unter möglichst weitgehender Unabhängigkeit vom restlichen Programmtext bearbeiten. Stellen Sie sich vor, Sie finden in einer Zeitschrift ein Pascal-Programm zur Einstellung von Grafiken. Dieses Programm benutzte zum Beispiel die Anweisung PLOT (X,Y) zum Zeichnen eines Punktes mit den Koordinaten X und Y. Ihr Freund möge eine Sprache wie Super-Pascal besitzen, die diese Anweisung standardmäßig enthält. Er tippt das Programm ein, es läuft — fertig. Sie selbst besitzen aber nur ein mageres Mini-Pascal, das diesen Befehl nicht kennt. Nun, mit Pascal ist das kein Problem: Sie schreiben sich eine Procedur PLOT (X,Y), fügen diese in das Programm ein — fertig. An dem Programmtext selbst brauchen Sie nicht die geringste Änderung vorzunehmen. Ja, brauchen ihn nicht einmal näher anzusehen. Woran liegt das?
Vom Problem her — dem Erstellen einer Grafik — ist das Zeichnen eines Punktes das Zeichnen eines Punktes. Das einzige, was interessiert, ist, daß dazu zwei Koordinaten erforderlich sind. Dieser Tatsache trägt die Sprache Pascal dadurch Rechnung, daß sie keinen Unterschied macht zwischen dem Aufruf von vorgegebenen Standardanweisungen und selbstdefinierten Prozeduren.
Wenn Sie in einem Basic-Programm irgendwo eine Zeile PRINT ”TEXT”stehen haben, erwarten Sie selbstverständlich, daß dadurch nicht 50 Zeilen weiter der Wert der Variablen A verändert wird. Entsprechend sorgt nun Pascal dafür, daß eine selbstdefinierte Prozedur genausowenig Auswirkungen auf andere Programmteile hat wie der Aufruf einer Standard-Anweisung. Die interne Arbeitsweise einer solchen Prozedur wird vor der Programmumgebung genauso versteckt, wie dies bei der internen Arbeitsweise von im Sprachumfang enthaltenen Anweisungen der Fall ist. Entsprechend nennt man dieses Konzeptauch »Information Hiding«. Programmiersprachen wie ADA, MODULA oder SIMULA bieten in dieser Hinsicht noch sehr viel weitergehende Möglichkeiten als Pascal.
Schnittstellen:
Der Datenaustausch mit der Umgebung eines Moduls erfolgt über genau definierte Schnittstellen. Bei einer solchen Schnittstelle handelt es sich um eine Menge derjenigen Annahmen, die die Programmumgebung über ein Modul macht -das heißt welche Daten es als Eingabe erwartet, welche Daten es daraufhin wieder ausgibt und welche anderen Module es seinerseits benötigt.
Modulbibliothek:
Die relative Eigenständigkeit solcher Module sorgt nun nicht nur für einfache Änderbarkeit und Erweiterbarkeit, sondern ermöglicht auch das Anlegen einer sogenannten Modulbibliothek. Eine solche Bibliothek enthält eine Reihe von Programmbausteinen, dieje nach Bedarf in zu entwickelnde Programme eingefügt werden können. Dabei kann es sich um Sortierroutinen, Grafik-Routinen, mathematische und statistische Routinen und so weiter handeln. Aber auch die Entwicklung von Spielenläßt sich auf diese Weise vereinfachen: Man kann Bibliotheken fertiger Sprites, von eigenen Zeichensätzen oder von diversen Soundroutinen anlegen.
Das wichtigste Hilfsmittel zur Unterstützung modularer Programmentwicklung stellen sicherlich die lokalen Variablen dar.
102
C 64/VC 20
Hilfsprogramm
Leider gibt es solche nicht in Basic und auch Strubs kann keine lokalen Variablen bieten. So ist es auch weiterhin erforderlich, beim Einsetzen oder Ändern eines Moduls darauf zu achten, ob und an welchen Stellen Variablen des Moduls in anderen Programmteilen benutzt werden, und gegebenenfalls Umbenennungen vorzunehmen. Der zweite große Nachteil von Basic — die leidigen Zeilennummern — braucht uns dagegen nur noch wenig zu beschäftigen. Strubs bietet alle Möglichkeiten, die erforderlich sind, um ein Programm vollkommen unabhängig von Zeilennummern zu schreiben. Als erstes sind da natürlich die oben besprochenen Kontrollstrukturen zu nennen.
Darüber hinaus können bei allen Sprüngen Zeilennummern durch Label (Marken) ersetzt werden. Solche Label werden durch das Zeichen »£« gekennzeichnet und abgeschlossen durch ein Leerzeichen, Doppelpunkt, Komma oder Zeilenende. Die dürfen zwar reservierte Basic-Worte enthalten, dann können sich aber wegen der vorhin schon erwähnten Token bei der Ausgabe der Markentabelle seltsame Effekte ergeben. Die Label werden definiert, indem sie an den Anfang einer Zeile gesetzt werden und können beliebig lang sein:
10 fiX-AUSGEBEN:
20 : PRINT ”X:”;X
30 RETURN
200 X=1:GOSUB EX-AUSGEBEN
210 X=2:GOSUB EX-AUSGEBEN
Schließlich bietet Strubs noch die Möglichkeit relativer Sprünge. Diese dienen vor allem dazu, kurze Schleifen innerhalb einer einzigen Zeile zu konstruieren, ohne dafür extra ein Label zu definieren:
90 NC=NC+1:C=PEEK(NC):IFC>0THEN Z$+CHR$(C): GOTO £THIS
Der Befehl GOTO £THIS bewirkt einen Sprung an den Anfang derjenigen Zeile, in der dieser Befehl steht.
Da bei der Arbeit mit Strubs Quellprogramme in der Regel weit umfangreicher als die Objektprogramme sind, bietet Strubs die EXTERN-DEKLARATION, die es ermöglicht, Module und Programmteile getrennt zu übersetzen und erst auf der Objektprogrammebene zusammenzufügen. Hierbei müssen die einzelnen Programmteile allerdings verschiedene Zeilennummern belegen. In der Extern-Deklaration wird ein Name vereinbart, unter dem ein Programm ein externes Modul ansprechen kann. Diesen Namen wird die Einsprungadresse (bei Maschinenprogrammen) beziehungsweise die Zeilennummer bei Basic-Routinen zugewiesen:
20 REMVEREINBARUNG:
30 I EXT £MAPRO:740,£PLOT 50000
90 REM AUFRUF:
99 SYS EMAPRO: X=13:Y=90:GQSUB £PLOT
Kommen wir zur Dokumentation: Vom Hobby-Programmierer kann kein Mensch erwarten, daß er Berge von Dokumentationsmaterial anlegt, die den Umfang des Programmtextes um ein Vielfaches übersteigen. Deshalb ist es gerade hier wichtig, Programme weitgehend selbstdokumentierend zu schreiben. Im Gegensatz zu höheren Programmiersprachen mit ihren zahlreichen Deklarationspflichten istder Basic-Programmierer nahezu ausschließlich auf Kommentare angewiesen. Da Strubs Kommentare bei der Übersetzung eliminiert, stehlen
diese weder Speicherplatz noch Laufzeit. Der Programmierer kann also ohne Bedenken einen exzessiven Gebrauch von Kommentaren machen.
Kommentare werden gekennzeichnet durch das Zeichen » ’ «. Steht dieses Zeichen direkt am Zeilenanfang, so wird die ganze Zeile gelöscht. Sonst wird der Programmtext bis zum zweiten » ’ « oder bis zum Zeilenende überlesen. Außer innerhalb von Befehls- und Markennamen können Kommentare an jeder beliebigen Programmstelle eingefügt werden. Kommentare, die in das Objektprogramm übernommen werden sollen, können wie bisher mit REM in den Programmtext eingefügt werden. Beispiel:
10 ’ DIESE ZEILE WIRD VOLLSTÄNDIG GELÖSCHT
20 A a’US äG aABE a’$=”ENTSPRICHT AG$” ’KOMMENTAR
Die Lesbarkeit von strukturierten Programmen wird verbessert durch das Einrücken von Zeilen entsprechend der Blockstruktur. Hierzu dient der Tabulator (Bild 4): Ein Doppelpunkt am Zeilenanfang gefolgt von Leerzeichen.
Wenn Sie Quellprogramme schreiben, achten Sie vor allem auf folgendes: Jeder der neuen Befehle muß durch ein Ausrufezeichen gekennzeichnet werden, zum Beispiel !REPEAT, und benötigt — außer !DO — eine eigene Programmzeile. Folgende Konstruktion ist also zum Beispiel nicht erlaubt:
40 !REPEATX=X+1 !UNTILX>5
Marken beginnen grundsätzlich mit einem Pfund-Zeichen £.
ZE: Zeilenende
ZNR: Zeilennummer
TRENNZEICHEN: »,«, »:«, » «, ZE
U: Bknk QLeerzeichen), kann außer innerhalb von Marken- und Befehls-Namen beUebig stehen NAME:
beliebige Zeichenfolge ohne Trennzeichen
BefeMs- und Markennamen müssen durch ein Trennzeichen abgeschlossen werden
TAB:
ff-/CASEOF-/OF-ZEmE:
ZFOLGE ßeüenfolge):
WHILE-ZEILE:
BEDINGUNG
BlOCK
BASIC-ZEILE
W-BLOCK
| lF-ZEILE
ZFOLGE
QF-ZEILE
ZFOLGE
CASEOF-BLOCK:
| CASEOF-ZEILE~y
J~ ELSE-ZEILE	^ ZFOLGE ^
beUebige Folge von Basic-Zeilen und/oder in sich abgeschlossenen Blöcken
ECASE-ZEILE
Bild 5.
Struktogramm der Loop^chleife
WHILE-/REPEAT-/LOOP-BLOCK:
WHILE-/REPEAT-/LOOP-ZElLE
EWHILE-/UNTIL-/ELOOP.ZEILE
Bei LOOP-Blöcken sollte die Zeilenfolge wenigstens eine EXIT-Anweisung enthalten
Die EXTERN-DEKLARATION:
Bild 6. Syntaxdiagramme der Befehle
^J1
103
Hilfsprogramm
C 64/VC 20
Um die Korrektheit von Konstruktionen zu überprüfen, können Sie die Syntax-Diagramme in Bild 6 benutzen. Wenn sich ein Weg entlang der Linien finden läßt, der der Konstruktion entspricht, dann ist diese in Ordnung. Sie können sich aber auch an den verschiedenen Beispielen im Rahmen dieses Artikels orientieren.
Das beste Beispiel für ein Quellprogramm erhalten Sie, wenn Sie die Programmdiskette mit dem Programm Strubs bestellen. Diese Diskette enthält neben dem lauffähigen Objektprogramm auch das ausführlich dokumentierte Quellprogramm von Strubs, dessen Abdruck aus Platzgründen nicht möglich ist.
Programmentwicklung mit Strubs
Bei der Blockschachtelung ist darauf zu achten, daß sich verschiedene Blöcke nicht überschneiden dürfen und daß jeder Block korrekt abgeschlossen wird. Hierbei kann man sich immer das Beispiel der FOR-NEXT-Schleifen in Basic vor Augen halten. Vollkommen unmöglich ist beispielsweise folgende Konstruktion:
10 !REPEAT
20 : !WHILE ... !DO
30 !UNTIL ...
40 : !EWHILE
Nun wird es aber allmählich Zeit, mit der Praxis zu beginnen. Laden Sie das Programm Strubs in Ihren Computer und starten es mit »RUN«. Nun erscheint ein Menü. Geben Sie hier »E« ein, um in den Editbereich zu gelangen (siehe dazu die erste Folge). Der Computer meldet sich mit »READY«, das heißt also, Sie befinden sich jetzt im Direktmodus. Hier können Sie nun (fast) so arbeiten, als sei Strubs gar nicht vorhanden. Geben Sie zunächst »NEW« ein. Jetzt können Sie das kleine Programm aus Bild 7 eintippen und wie sonst gewohnt mit »SAVE ”RENUMBER.QP”,8« abspeichern.
Mit diesem »QP« hat es folgende Bewandtnis: Bei Compilern ist es allgemein üblich, die verschiedenen Files, die zu den einzelnen Phasen der Übersetzung gehören, einheitlich zu kennzeichnen, der Austro-Compiler, arbeitet zum Beispiel mit den Files »name«, »p/name«, »z/name« und »c/name«. Um Quellprogramme und Objektprogramme auseinanderhalten zu können, sollten Sie sich entsprechend von Anfang an daran gewöhnen, dem Programm immer ein »QP« für Quellprogramm beziehungsweise ein »OP« für Objektprogramm hinzuzufügen. Nun kann das Programm übersetzt werden. Geben Sie ein »IRETURN« und es erscheint das Menü von Strubs. Die Übersetzung wird mit »U« gewählt. Strubs fragt nun nach dem
Namen für das Objektprogramm. Geben Sie ein: RENUM-BER.OP. Da das übersetzte Programm direkt auf Diskette geschrieben wird, achten Sie darauf, daß die Floppy eingeschaltet ist. Nun erscheint auf dem Schirm die Meldung »1. Lauf«, gefolgt von der Ausgabe der Blockstruktur. Nach Beendigung des 2. Laufs sollte die Meldung »0 FEHLER« erscheinen. Ist dies der Fall, dann können Sie mit »E« wieder in den Edit-Be-reich gelangen. Hier steht immer noch das Quellprogramm. Um sich das übersetzte Programm anzusehen, laden Sie es mit »LOAD ”RENUMBER.OP”,8«. Es sollte mit dem Listing in Bild 8 übereinstimmen. Aber starten Sie das Programm nicht.
Jetzt übersetzen Sie einmal genauso verschiedene kleine Testprogramme—testen Sie doch einmal die LOOP, REPEAT-, und WHILE-Befehle — und sehen sich die Ergebnisse an. Dabei werden Sie feststellen, daß einige Bedingungen im Objektprogramm in negierter Form erscheinen. Daß Basic keine bool-schen Variablen kennt, hat eine wichtige Konsequenz: Beim Test, ob eine Variable ungleich 0 ist, darf man nicht — wie dies normalerweise häufig in Basic formuliert wird — beispielsweise schreiben
IF A THEN ...,
sondern muß bei jeder Bedingung die vollständige Form IFA<>OTHEN ...
verwenden. Dies liegt daran, daß die Bedingung NOT(A) außer für —1 immer erfüllt ist.
Zweitens kann man sehen, daß in den Objektprogrammen manchmal neue Zeilen auftauchen, die das Quellprogramm nicht enthielt. Strubs generiert solche Zeilen als Sprungziele. Damit immer Platz für solche Zeilen ist, sollte der Abstand der Zeilennummern im Quellprogramm immer mindestens 2 betragen.
Ist bisher alles wie oben beschrieben verlaufen, dann können Sie sich freuen. Sind irgendwelche Fehler aufgetreten, dann vergleichen Sie noch einmal genau das Testprogramm mit dem Listing in Bild 7 und hoffen Sie, daß der Fehler hier liegt. Wenn Sie keine Abweichungen feststellen, dann haben Sie Pech — Sie haben das Programm Strubs falsch eingetippt.
Wie steht es aber mit Fehlern im Quellprogramm? Syntax-Fehler können sich auf drei verschiedene Arten bemerkbar machen: Vorallem Fehler, die nichtmitden neuen Befehlen zusammenhängen, führen wie gewohnt beim Lauf des Objektprogramms zu den bekannten Fehlermeldungen. Fehler in bezug auf die neuen Befehle quittiert Strubs mit Abbruch der Übersetzung, falls eine Fortsetzung nicht sinnvoll erscheint, oder mit Eintragung in eine Fehlerliste und gleichzeitiger Kennzeichnung der fehlerhaften Zeile im Objektprogramm. Die Fehlerliste kann man sich mit »F« ansehen.
Ein Abbruch der Übersetzung mit entsprechender Fehlermeldung am Bildschirm erfolgt vor allem bei Verstößen gegen die Blockstruktur (und bei Speicherplatzproblemen wie Stack-
Bild 7. Das Quellprogramm des
54990 '»*«#* RENUMBER ***************	RENUMBER-Befehls
5500Q ffiEWBER: PRINTE	»« RENUHäER ******"
55010 ZR=40*256+1: INPUT"Ma STflRTNR.";ZN: INPUT " SCHRITTWEITE"i SU
55029 !LOOP
55030 • IFPEEK<ZR+1>0THEN !EXIT 'FERTIO
55040 : HZ=ZN/256=P0KE ZR+2,ZN-HZ*256:P0KE ZR+3,H2:ZR=PEEK<ZR>+256*PEEK<ZR+1>
55050 : ZN=ZN+SW	______________________________________________
550S0 !ELOOP
55070 RETURN
RERDV.
Bild 8. Das von Strubs erzeugte Objektprogramm. Wie es in Strubs einzufügen ist, steht auf Seite 107.
55000 PRIHT"1	***** RENUMBER ******"
55010 ZR=40*256+l:INPUT"MS STRRTNR.";ZN:INPUT" SCHRITTWEITE'';SW
55020
55030 IFPEEK(Zfi+1)=0THEH55061
55040 HZ=ZN/256•P0KEZA+2,ZN-HZ*256•P0KEZR+3,HZ = ZR=PEEK(ZR)+256*PEEK(ZR+1)
55050 ZN=ZN+SW
55060 GOTO55020
55061 :
55070 RETURN
RERBV.
104

Bestellungen aus Österreich bitte direkt an: Bücherzentrum Meidling, Schönbrunnerstr. 261, 1120 Wien.
SERVlCt
Bestellungen aus anderen Ländern bitte per Auslandspostanweisung! Achtung: Nicht die eingeheftete Zahlkarte verwenden.
Bestellungen aus der Schweiz bitte direkt an: Markt&Technik Vertriebs AG, Kollerstr. 3, CH-6300 Zug, Tel.: 042/2231 55.
Microcomput-ique Erhard Schiller Fasangasse 21 1030 Wien
Programme aus früheren Ausgaben
Sonderheft: Grafik
Bestell-Nr. L685 S4 A DM 29,90*
Ausgabe 9/85
Bestell-Nr. L 6 8509 A DM 29,90*
Ausgabe 8/85
Bestell-Nr. L 6 8508 A DM 29,90*
Sonderheft: Tips&Tricks
(2. ü. Auflage)
Floppy-Utilhies
CB 023	DM 29,90*
Hilfsprogramme
CB 024	DM 29,90*
Sonderheft: Spiele
Beide Disketten in einem Paket!
Verwenden Sie nur diese Bestell-Nr.:
L 6 85S3 A	DM 34,90*
Ausgabe 7/85	
Bestell-Nr. L 6 8507 A	DM 29,90*
Commodore 64	
Haushaltsbuch (AdM)	S. 57
Terminalprogramm	S. 152
Centron	S. 80
Editor	S. 151
Ein-/Ausgaberoutine	S 77
Fenster (C 16)	S 84
File-Compactor	S. 82
Hypra-Assembler (LdM)	S. 66
lEEE-Basic	S. 46
Logik	S. 144
Merkzettel	S. 83
Bedeutung der Abkürzungen
*LdM	= Listing des Monats
*AdM	= Anwendung des Monats
»SB	= Simons Basic
»GV	= Grundversion
lGV>	= alle Speicherversionen können
Paint Magic
Modulator	S.	46
REM-Killer	S.	75
Sound Editor	S.	136
Startgenerator	S.	74
Ausgabe 6/85		
Bestell-Nr. L 6 8506A	DM 29,90*	
Commodore 64		
MSE	S.	54
HI-EDDI/MPS 801	S.	69
Prost	S.	76
E-Routine 64	s.	148
GCR-HEX	s.	117
HEX-GCR	s.	118
Samurai	S. 72	
Scroll-Machine (LdM)	S.	61
Crossreferenz	S.	155
Heapsort	S.	126
C 16		
F-Plotter	S.	68
Ausgabe 5/85
Bestell-Nr. L 6 8505 A	DM 29,90*
Commodore 64 Checksum. Schnell	S. 54
MSE Lader	S. 55
MPS 802	S. 31
Format-System	S. 147
VIC	S. 175
6510 I	S. 71
Sternenhimmel (AdM)	S. 57
verwendet werden (einschließlich GV)
*	3K	= 3-KByte-Speichererweiterung
wird benötigt
*	8K> = Speichererweiterung größer als 8 KByte wird benötigt
*	UPB = Unterprogrammbibliothek
• elf gespeicherte<Traun>biWer Bildschirmen
(Speichern, Loschen, La
MaAÄdmik
Verlag Aktiengesellschaft
Unternehmensbereich Buchverlag
Sonderheft: Abenteuerspiele
Bestell-Nr.: L685 S2 DM 34,90*
Assemblerkurs	S.	144	Grab des Pharao (LdM)	S.	56
Direktory-Sorter	S.	77	Basic-Lader	S.	91
Trick.OBJ	S.	65	RAM-Floppy	S.	92
3D-Movie-Maker (LdM)	S.	65	Notlandung	s.	156
Modulator (Heft 4)	S.	155	Hires-3	s.	123
VC 20			Benchmark-Test	s.	37
Checksummer	S.	54	Format.Stringkur	s.	148
Minigrafik	S.	69	Verseh. Test.USR	s.	140
Longscreen	S.	83	Cursorsteuerung	s.	86
C 16			Rolling-Data	s.	88
Help&Trace	S.	84	Super-Memory	s.	81
Ausgabe 4/85			VC 20 Checksummer VC 20	s.	65
Bestell-Nr. L 6 8504A	DM 29,90*		Familienplanung (AdM)	s.	53
Commodore 64			Super 8-Steuerung	s.	70
Checksum. Schnell	S.	54	Q+Bert (3K)	s.	78
MSE Lader	S.	58	Joypaint	s.	143
S-MON Teil 5	S.	67	Bitmapping	s.	145
Window 64	s.	88	Multicolor-Demo	s.	146
XBASIC	s.	59			
ASS. Kurs Teil 8	s.	138	Ausgabe 1/85		
Hypra-Perfect	s.	76	Bestell-Nr. L 6 8501A	DM 29,90«	
11 neue Einzeiler	s.	153	Commodore 64		
Print-List	s.	79	Checksummer 64	S.	72
Netzgrafik	s.	71	Handballtrainer (AdM)	s.	53
ROT-DEMO	s.	73	SMON (Teil 3)	s.	69
X.Y-DEMO 1 u. 2	s.	73	Hi-Eddi (LdM)	s.	57
Ostereier	s.	51	Hypra-Load mal vier	s.	82
Befehlserweiterung	s.	23	Tips und Tricks	s.	87
VC 20			Provic 64	s.	76
Checksummer	s.	56	Eingabe (UPB)	s.	156
Supergrafik III	s.	73	VC20		
Prg. Schutz	s.	83	Checksummer VC 20	s.	72
Ausgabe 3/85			Ausgabe 12/84		
Bestell-Nr. L 6 8503A	DM 29.90*		Bestell-Nr. CB 022	DM 29,90*	
Commodore 64			Commodore 64		
Checksu. Schnell	S.	70	Synthesizer (AdM)	S.	51
MSE Lader	s.	79	SMON (2. Teil)	S.	60
Hires-3/Teil 2	s.	136	3D-Vier gewinnt	s.	96
lntellisearch$C	s.	153	Trace	s.	76
Son of Destroyer	s.	42	Stringy	s.	88
Ligatab (LdM)	s.	63	Lader	s.	92
Fl. Basicloader	s.	82	Auto	s.	84
Floppylister E.Zeichnen 1 und 2	s. s.	82 72	Listschutz Simons Axo (SB)	s. s.	85 64
Meisterschütze (AdM)	s.	53	Kreuzworträtsel S. 1 50		
Saver	s.	89	VC 20		
Screensave	s.	88			
Pic-Loader	s.	90	Mathematikal Basic (8K)	>) s.	
VC 20			(LdM)		55
Checksummer	s.	70	Fast Tape	s.	80
IRQ-Clock Autostart	s. s.	156 159	Ausgabe 11/84		
			Bestell-Nr. CB 020	DM 29,90*	
Ausgabe 2/85 Bestell-Nr. L 6 8502A	DM 29,90*		Ausgabe 10/84		
Commodore 64			Bestell-Nr. CB 019	DM 29,90*	
Checksummer 64 MSE	S. s.	65 68	Ausgabe 9/84		
SMON (Teil 4)	s.	72	Bestell-Nr. CB 014	DM 29,90*	
* Alle Preise inklusive Mehrwertsteuer.
Achtung!
Bitte verwenden Sie für Ihre Bestellung nurdie eingeheftete Postscheck-Zahlkarte zur Überweisung des Rechnungsbetrags.
bei: Markt & Technik Vertrieb 64'er Hans-Pinsel-Str. 2, 8013 Haar
den USA Wr Bwen Commodore 64
^ Deutsches Auswahimenü auf Diskette
★ Deutsches
MM	inkL MwSt.
*	unverbindliche
MkU	Mi	Preisempfehlung
2	*	(Sfr. 54,501öS
QM VW | BestelFNr- MO 230 A

Hilfsprogramm
C 64/VC 20
Overflow oder Listen voll). Bei Fehlern mit den Blöcken — zum Beispiel vor einem ELSE fehlt das IF oder zu einem WHILE fehlt das EWHILE etc. — gibt es ein Problem, das nicht nur bei Strubs, sondern generell bei allem Compilern auftaucht: Der Fehler wird nicht an der Stelle seines Auftretens bemerkt, sondern erst viel später. Die Zeilennummer bei einer Fehlermeldung wie »BLOCKSCHACHTELUNG: ANFANG FEHLT«, sagt also nichts weiter aus, als daß der Fehler erst hier bemerkt wurde. Um bei der Suche nach dem Fehler zu helfen, gibt Strubs aber während der Übersetzung ein Schema der Blockstruktur aus, mit dessen Hilfe sich solche Fehler leicht lokalisieren lassen. Bei Meldungen wie »zu viele Marken«, »zu viele WHILE/ REPEAT« etc. empfiehlt es sich, das Programm in kleinere Teile zu zerlegen, diese getrennt zu übersetzen und anschließend wieder zusammenzufügen.
Wie man dazu vorgeht, behandeln wir weiter unten. Die entsprechenden Listen sind allerdings so großzügig dimensioniert, daß dieser Fall sehr selten eintreten wird.
Sollte während der Übersetzung aus irgendeinem Grund ein unkontrollierter Programmabbruch erfolgen (zum Beispiel OUT OF MEMORY ERROR), dann empfiehlt es sich mit »GOTO 5000« dafür zu sorgen, daß offene Disk-Files ordnungsgemäß geschlossen werden.
Die Beseitigung von Fehlern, die Strubs bei der Übersetzung entdeckt, gestaltet sich relativ einfach: Notieren Sie sich die Zeilennummern zu jedem Fehler und schalten in den Editbereich (mit »E«), Dort kann das Quellprogramm geändert werden, dann wird mit»!« und Wahl von »U« neu übersetzt. Da das Quellprogramm so lange im Edit-Bereich bleibt, bis es durch »NEW« oder Laden eines anderen Programms gelöscht wird, kann dieser Vorgang so lange wiederholt werden, bis der letzte Fehler beseitigt ist. Sobald die Übersetzung mit der Meldung »0 Fehler« beendet wird, geht es ans Testen des Objektprogramms.
Hierzu wird Strubs durch Eingabe von »S« verlassen. Dadurch wird ein Kaltstart ausgeführt, der die Interpretererweiterung abschaltet und den Speicher säubert. Nun ladenSie das Objektprogramm unter dem Namen, den Sie bei der Übersetzung angegeben haben, und starten es mit RUN. Dieses Programm wird nun wie jedes normale Basic-Programm ausgetestet. Dazu können selbstverständlich auch Toolkits mit TRACE- und DUMP-Funktionen verwendet werden. Da die Zeilennummern denen des Quellprogramms entsprechen, empfiehlt es sich, ein Listing des Quellprogramms zur Hand zu haben. Fehler in der Programmlogik lassen sich damit leichter finden und beheben.
Die Bequemlichkeit, die Strubs dadurch bietet, daß Programmänderungen und Verbesserungen im Objektprogramm selbst vorgenommen und sofort ausgetestet werden können, erfordert auf der anderen Seite allerdings eine gewisse Disziplin, damit die Verbindung zum Quellprogramm nicht verloren geht. Jede vorgenommene Änderung sollte sorgfältig notiert und nicht zu viele Änderungen auf einmal vorgenommen werden. Dann wird wieder das Programm Strubs und das Quellprogramm (in den Editierbereich) geladen. Verbessern Sie das Quellprogramm entsprechend Ihren Notizen und übersetzen es erneut. Dieser Vorgang wird so lange wiederholt, bis das Ergebnis zufriedenstellend ist.
Dieser soeben beschriebene Ablauf kann allerdings in den meisten Fällen vereinfacht werden: Bis auf zwei Ausnahmen können Objektprogramme auch direkt im Editbereich getestet werden. Damitentfälltdie Notwendigkeit, Strubsfürjede Übersetzung neu zu laden. Nach der Übersetzung wird mit »E« der Editbereich gewählt, dort das Objektprogramm geladen und getestet. Anschließend wird wieder das Quellprogramm in den Editbereich geladen, verbessert und mit»!« und »U« neu übersetzt und so weiter.
Bei Programmen, die nicht im Editbereich getestet werden können, handelt es sich erstens um Programme, die an ei-
ner festgelegten Stelle im Speicher stehen müssen. Strubs selbst ist solch ein Programm. Es muß unbedingt am normalen Basic-Anfang stehen. Solche Programme sind allerdings ziemlich selten. Häufiger dagegen findet sich der zweite Fall: Programme, die den Speicherbereich von 700 bis 800 verändern. Hier steht die in Fblge 1 erwähnte Interpreter-Erweiterung von Strubs. Dadurch sind vor allem Programme betroffen, die in diesem Bereich Sprites oder Maschinenprogramme benutzen.
Kommen wir noch einmal auf das Schreiben und Editieren von Quellprogrammen zurück. Bisher haben wir nur davon gesprochen, daß die Programmtexte im Editbereich editiert wurden. Diese Methode hat insbesondere bei der Entwicklung umfangreicher Programme einen Nachteil: Da Strubs selbst mit einer Interpreter-Erweiterung arbeitet, kann man nicht gleichzeitig andere Interpreter-Erweiterungen — zum Beispiel Toolkits oder das DOS — benutzen. Möchte man auf Befehle wie MERGE, AUTO, FIND etc. nichtverzichten, dann kann man die Quellprogramme vollkommen unabhängig von Strubs entwickeln und erst anschließend das fertige Quellprogramm in den Editbereich laden.
Es zeigt sich, daß die meisten Beschränkungen bei der Arbeit mit Strubs ihren einzigen Grund in der kleinen Interpreter-Erweiterung haben. Wie bereits in der ersten Folge erwähnt, besteht der einzige Sinn dieser Erweiterung darin, das Starten von Strubs vom Editbereich aus dadurch bequemer zu gestalten, daß die Befehlsfolge POKE 44,8: RUN
durch Eingabe von »I« abgekürzt werden kann. Wenn Sie bereit sind, diese Befehlsfolge jedesmal von Hand einzugeben, können Sie auf die Erweiterung verzichten, indem Sie im Programm die Zeilen 45600 bis 45680 einfach weglassen. Damit fallen dann die oben erwähnten Beschränkungen weg, das heißt die unter Fall 2 erwähnten Programme können im Editbereich getestet werden und Strubs kann zusammen mit einer Programmierhilfe benutzt werden. Aber editieren Sie keine Quellprogramme unter Simons Basic. Dazu sind weitere Anpassungen erforderlich, auf die wir später näher eingehen. Insbesondere wenn ein Programm aus fertigen Modulen zusammengesetzt werden soll, sind solche Programmierhilfen erforderlich.
Dieser Vorgang verläuft auf der Quellprogramm-Ebene aufgrund der Unabhängigkeit von Zeilennummern relativ einfach. Die einzelnen Programmteile werden in beliebiger Reihenfolge zusammengesetzt. Dazu kann ein Toolkit oder auch das kleine MERGE-Programm aus dem 64’er, Ausgabe 4/84 benutzt werden. Dabei können ruhig gleiche Zeilennummern auftreten und auch die Reihenfolge der Zeilennummern ist beliebig. Anschließend wird der fertige Programmtext mit Hilfe einer RENUMBER-Routine vernünftig durchnumeriert. Da Basic keine lokalen Variablen kennt, ist allerdings vor dem Zusammensetzen auf die Variablennamen zu achten. Um unerwünschte Seiteneffekte zu vermeiden, sind eventuell einige Umbenennungen vorzunehmen. Etwas aufwendiger gestaltet sich der Prozeß, wenn verschiedene Programmteile erst auf der Objekt-Ebene zusammengesetzt werden sollen. Hierbei ist darauf zu achten, daß sich die Bereiche der Zeilennummern nicht überschneiden. Weisen Sie jedem Programmteil einen bestimmten Zeilennummernbereich zu und verlegen diesen Teil gegebenenfalls mit RENUMBER in diesen Bereich. Anschließend werden nun in jedem Programmteil alle externen Routinen, die dieserTeil aufruft, mit Hilfe der EXTERN-Deklara-tion vereinbart (das sind die Routinen, die erst nach der Übersetzung angefügt werden). Das oben für die Variablennamen Gesagte gilt hier entsprechend. Jetzt können die einzelnen Teile getrennt übersetzt und anschließend in der richtigen Reihenfolge verknüpft werden.
Falls Sie keine Erweiterung besitzen, dann können Sie Strubs um eine RENUMBER-Routine erweitern: Fügen Sie die
106
C 64/VC 20
Hilfsprogramm
Zeilen aus Bild 8 in das Objektprogramm von Strubs ein — und, falls Sie das Quellprogramm besitzen, dort entsprechend die Zeilen aus Bild 7. Um nun diese Routine anzubinden, müssen nur noch zwei Zeilen in das Menü eingefügt werden:
40110 PRINT "(CDOWN] [REVON] R {REVOFF]ENUMBER" und
40210 IF L$=”R” THEN GOSUB 55000: GOTO 40050 beziehungsweise für das Quellprogramm:
40210 IF Z$=”R” THEN GOSUB ERENUMBER: GOTO EMENUE
Diese Routine kann dann mit »R« aufgerufen werden, um ein Programm, das sich im Editbereich befindet, umzunumerieren. Das Programm Strubs arbeitet nicht mit der Datasette, sondern es benötigt eine Floppy. Damit der für Strubs unterhalb des Edit-Bereichs reservierte Platz nicht überschritten wird, ist darauf zu achten, daß beim Eintippen des Programms keine Blanks eingefügt werden.
Der Editbereich beginnt bei 40*256+1. Vor dem 1. Start von Strubs läßt sich mit PEEK(46) feststellen, ob Strubs diese Grenze nicht überschreitet (der Wert muß kleiner als 40 sein, im Originalprogramm liegt er bei 34).
Da Strubs den Zeiger für »Variablen-Anfang« heraufsetzt, sollte es immer von dem 1. Start abgespeichert werden (auch bei Veränderungen). Sollte man dies einmal vergessen, kann man durch »POKE 46,39:CLR<< vor dem Abspeichern Strubs in die richtigen Grenzen verweisen. Die notwendigen Änderungen für VC 20 (mit 16 KByte) sind dem Bild 9 zu entnehmen. Hier beginnt der Editbereich bei 46*256+1.
Zusätzliche Funktionen
Die strukturierte Programmierung bietet vor allem Vorteile in bezug auf Wartung, Änderungen und Erweiterbarkeit von Programmen. Dies gilt auch für das Programm Strubs. Um in den Genuß dieser Vorteile zu gelangen, ist allerdings der Zugang zum Quellprogramm erforderlich. Wenn Sie sich das Objektprogramm ansehen, werden Sie feststellen, daß es auch nicht viel aussagekräftiger als ein unkommentiertes Assemblerlisting ist. Wenn Sie an der Entwicklung eigener Programmerweiterungen interessiert sind, sollten Sie sich deshalb beim Verlag das Quellprogramm besorgen. Da ich hier davon ausgehen muß, daß die meisten Leser das Quellprogramm nicht besitzen, lohnt es sich gar nicht erst, systematisch die einzelnen Programmteile vorzustellen.
Statt dessen wollen wir nur die für Programmerweiterungen wichtigsten Programmelemente vorstellen und anhand einiger exemplarischer Erweiterungen, die auch ohne sich weitere Gedanken zu machen, einfach eingetippt werden können, aufzeigen, wie man Erweiterungen implementieren kann und was dabei zu beachten ist. Aus dem gleichen Grund geben wir nur
die Änderungen an, die im Objektprogramm vorzunehmen sind. Eine Anpassung an das Quellprogramm dürfte keine Probleme bereiten.
Achten Sie bei allen Programmänderungen darauf, daß das geänderte Programm abgespeichert wird, bevor es zum ersten Mal gestartet wird, da das Programm den Zeiger auf das Programmende verstellt. Sollte das Programm durch Erweiterungen so lang werden, daß es in den Editbereich hineinreicht, kann der Anfang des Editbereichs in Schritten zu 256 Byte nach oben verschoben werden, um Platz zu schaffen. Dazu ist in den Zeilen 70 bis 80 die Zahl 40 überall, wo sie auftaucht, durch eine größere Zahl (jeweils 4 fürjedes Kilobyte) zu ersetzen.
Die wichtigsten Programmelemente
Eine grobe Übersicht über den Aufbau des Programms haben wir bereits gegeben. Bevor wir uns nun mit einzelnen Erweiterungen beschäftigen, wollen wir zunächst einmal die wichtigsten Programmelemente vorstellen, die man für Änderungen und Erweiterungen des Programms benötigt. Wie bereits erwähnt, liest Strubs das Quellprogramm zweimal vom Anfang bis zum Ende durch. Um Zeit zu sparen, wird im 1. Lauf nurjeweils der Anfang einer Zeile untersucht. Deshalb müssen alle Befehle, die bereits im 1. Lauf zu behandeln sind, auch am Anfang einer Zeile stehen, während Befehle, die nur im 2. Lauf behandelt werden, überall stehen können. Ein Beispiel:
Die Definition von Marken muß am Zeilenanfang erfolgen, während der Aufruf von Marken an jeder Stelle erfolgen kann. Die Aufgabe des 1. Laufs besteht darin, verschiedene Tabellen anzulegen, mit deren Hilfe dann im 2. Lauf das endgültige Objektprogramm erzeugt wird.
Jede dieser Tabellen besteht aus einem oder mehreren Ar-ray(s), einer Variablen, deren zweiter Buchstabe ein »M« für »Maximal« ist und die Dimension, das heißt die maximale Zahl von Einträgen festlegt, und aus einer Variablen, deren zweiter Buchstabe ein »P« für »Pointer« ist und die auf den jeweils nächsten freien Listenplatz zeigt. Bei Speicherplatzproblemen brauchen nurdie Werte der Dimensionsvariablen im lnit-Teil geändert zu werden. Möchte man zum Beispiel mehr als 99 Marken (die jetzige Maximalzahl) benutzen, dann schreibt man in Zeile 45060 zum Beispiel »MM=150:...«.
Die Tabellen werden in den Zeilen 45050 bis 45200 definiert (Bild 10). Die Dimension des Stacks bestimmt die mögliche Schachtelungstiefe. Dazu kommen die Tabellen der neuen Befehle (Zeile 45260 bis 45274) und der Fehlermeldungen (Zeile 45480 bis 45514).
Dem schrittweisen Lesen des Quellprogramms dienen die Variablen C und NC. Die Variable C enthält den Code des jeweils zuletzt gelesenen Zeichens, wobei der Wert 0 ein Zeilen-
40950 PR i NT" □".;" #m#^mmm*"
40052 PRINT " $ — STRUBS — *"
40053 PRINT ” $ PRECOMPILER #”
40055 PRINT " £ BITTE WREHLEN $"
40058 PRINT " $^##$^##^*"
40060 PRINT"*KKraESHT"
Bild 9. Diese Änderungen sind für die Anpassung von Strubs an den VC 20 (mit mindestens 16 KByte Erweiterung) erforderlich.
45608 I=0=RERDW
45610 POKE704+I,U:I=I+1:RERDW■IFU<256THEN45610
45620 BRTfi32.. 115,0,8,201,33,240,4,40..76,231,199
45630 DRTA169,18,133,44,169,133,76,231,199,999
15 'M ------STRUBS.4.QP----- M
45050 ■' M MARKEN-TRBELLE:
45060 £INIT: MM ■- Rx' =99:51M MR# < MM >, MRZ CMM > : MP=S
4536? •■’
45128 z
45138 z ^ LODP-TRBElLE:
45131 ' *LO(..,0)=2HR.LOOP
45132 ' *LOC.,l)«ZHR. ZUGEHOERIGES ELOOP
45135 L' OOP' M z RXz = 148 ■ 0 T M LP ■' np ■' ;< f l f4.1 ".>:! z fW z P' n INTEP z =0
45133 '
45140 z ^ IF-TRBELLE'
45145 IM'AX/=270:BIM I''(W.TP=0
45149 '■
45193 '
45133 z ## STpCK:
451 PO SM z AX' =60: DIM S z TRCKz X (SM ) : SPz TR z »0
45230 z
FOB'<	Bild 10. Tabellen

107
Hilfsprogramm
C 64/VC 20
ende markiert. Die Variable NC enthält die Adresse des nächsten zu lesenden Zeichens.
Im 2. Lauf wird zeilenweise das Objektprogramm erzeugt, wobei die jeweils aktuelle Zeile in der Variablen Z$ aufgebaut wird. Dabei enthalten die beiden ersten Zeichen von Z$ Low-und Highbyte der Zeilennummer (so wie sie später im Speicher steht), und das letzte Zeichen der fertigen Zeile besteht aus dem Zeichen CHR$(0).
Die relevanten Zeichencodes, auf die Strubs reagiert, werden in den Zeilen 45240 bis 45254 definiert (Bild 11). Die Variable ZA enthält die Adresse des Anfangs der Zeile, die gerade bearbeitet wird. In EA steht die Startadresse des Editbereichs.
Damit kommen wir zu den für Erweiterungen wichtigen Modulen von Strubs. Die Prozedur »NEXTCHAR« sucht ab Adresse NC das nächste relevante Zeichen des Quellprogrammtextes und liefert dessen Code in der Variablen C. Dabei werden Leerzeichen (Zeile 250) und Kommentare (Zeile 280-295) überlesen. Strings werden direkt in die Ausgabezeile Z$ übertragen (Zeile 350). Der Zeiger NC wird auf das nächste zu lesende Zeichen gesetzt. Die Prozedur »HOLNAME« (Zeile 750-830) liest ab aktueller Adresse NC einen Namen (zum Beispiel Befehl, Label), und zwar bis eines der Trennzeichen »:«,»,«, Blank oder Zeilenende erscheint. Der Name wird in der Variablen T$ ausgegeben, C enthält das erste relevante Zeichen hinter dem Namen (das ist außer beim Blank das Trennzeichen), und NC zeigt auf das nächste Zeichen.
Die Prozedur »SCHREIBZEILE« (Zeile 550-580) generiert auf der Diskette aus den nacheinander eingegebenen Zeilen Z$ das zusammenhängende Objektprogramm und gibt die Nummer der aktuellen Zeile auf dem Bildschirm aus. Die Variable AA (Linkadresse) darf außerhalb dieser Routine nicht verändert werden!
Die Prozedur »ERROR« (Zeile 8050 bis 8099) erwartet als Eingabe einen Fehlercode ER. Dabei handelt es sich um den Index der Fehlermeldung in derTabelle der Fehlermeldungen. Die Zeilennummer und die Fehlermeldung werden auf dem Bildschirm ausgegeben und zugleich in eine Fehlertabelle eingetragen, die man sich nach der Übersetzung auf Bildschirm oder Drucker ausgeben lassen kann. Zusätzlich wird die Fehlermeldung in die Ausgabezeile Z$ geschrieben, so daß sie auch im Objektprogramm erscheint. Die Übersetzung wird mit der folgenden Zeile fortgesetzt.
Die Prozedur »ABBRUCH« (Zeile 50000 bis 50030) sorgt für einen kontrollierten Abbruch der Übersetzung. Sie erwartet ebenfalls als Eingabe den Fehlercode ER und gibt die entsprechende Fehlermeldung aus. Danach wird die Tabelle der bisher bemerkten Fehler ausgegeben, offene Files ordnungsgemäß geschlossen und Strubs neu gestartet.
Die Prozedur »WARTEN« (Zeile 49550 bis 49570) fordert den Benutzer auf, eine Taste zu drücken und wartet auf den Tastendruck.
Die Prozedur »INIT« (Zeile 45050 bis 45999) enthält die Definition der Variablen und Tabellen sowie die Interpretererweiterung.
Im »MENÜ« (Zeile 40050 bis 40495) können die verschiedenen Funktionen angewählt werden.
Die Prozeduren »BEFEHLE IM 1. LAUF« (Zeile 1550-2497) und »BEFEHLE IM 2. LAUF« (Zeile 2550-3640) werden von
Strubs aufgerufen, sobald im Quellprogramm das Erkennungszeichen »!«für Befehle (Code in der Variablen BE) entdeckt wird. Sie holen den Namen des Befehls, suchen diesen in der Befehlstabelle und rufen entsprechend dem Index (+1) des Befehls in dieser Tabelle ein Unterprogramm auf. Falls der Befehl nicht in der Tabelle gefunden wird, wird eine entsprechende Fehlermeldung ausgegeben. Im 1. Lauf kommt noch die Ausgabe der Blockstruktur hinzu. Hierzu dient die Variable In (für Indentmodus). IN=0 bedeutet, auf der gleichen Schachtelungsebene zu bleiben.
Damit haben wir nun das notwendige Wissen zusammen, um an dem Programm Strubs einige Änderungen und Erweiterungen vorzunehmen.
Andere Anwendungen
Bei den Programmtexten, die Strubs übersetzt, handelt es sich zwar um erweiterte Basic-Programme, aber nichtsdestoweniger um Basic-Programme. Deshalb ist es relativ einfach, Strubs auch zur Bearbeitung ganz normaler Basic-Programme einzusetzen. Zwei sinnvolle Möglichkeiten wollen wir im folgenden vorstellen.
1.	Ein SPEED-UP-Programm, um normale Basic-Programme schneller zu machen.
2.	Ein Programm, das besser lesbare Listings erstellt.
Dabei ist zu beachten, daß die Änderungen, die wir dazu vornehmen, nicht wie die Makro-Funktion eine Erweiterung des eigentlichen Programmes Strubs und seiner Funktion darstellen, sondern daß wir zwei völlig neue Programme mit völlig neuen Aufgaben erhalten. Deshalb sollten auch die erhaltenen Programme unter neuen Namen, beispielsweise »SPEED-UP« und »LISTER«, abgespeichert werden. Das Arbeiten mit diesen Programmen unterscheidet sich nicht von der Arbeit mit dem »normalen« Strubs-Programm.
Schnellere Basic-Programme
Zunächst wollen wir Strubs so ändern, daß es normale Ba-sic-Programme in Programme übersetzt, die keine Leerzeichen und Kommentare mehr enthalten und dadurch schneller ablaufen. Wie Sie sich erinnern werden, benutzt Strubs für Kommentare, die gelöscht werden sollen, ein eigenes Zeichen » ’ «. Kommentare, die mit REM gekennzeichnet werden, bleiben im Objektprogramm erhalten. Da Strubs bereits alle Blanks entfernt (außer in Strings), brauchen wir nur noch dafür zu sorgen, daß Strubs auf das REM-Token reagiert wie bisher auf das Kommentarzeichen »’«. Die relevanten Zeichencodes, auf die Strubs reagiert, werden in den Zeilen 45250 bis 45254 definiert (Bild 11). Wir brauchen nur in Zeile 45250 das KO=ASC(»'«) durch KO=143 (143 istdas REM-Token) ersetzen, und schon ist das Speed-Up-Programm fertig. Genauso können Sie die Erkennungszeichen für Label und die neuen Befehle ändern. Dies ist, um Konflikte zu vermeiden, für den Fall sinnvoll, daß Sie mit Strubs Programme für Interpretererweiterungen übersetzen, die ihrerseits »I« oder das Pfundzeichen als Erkennungszeichen für ihre neuen Befehle benutzen.
45240 ' *# RELEVRNTE 2EICHEHC0BE3 **
45250 DP*RSC(" ■") '• K0'MMENTRRz «RSC (" ■'") : LRz BELz »RSC (" £") = NU^CHRt (0): BL «RSC (" " '•
45253 BEzFEHL'«RSC("!")•TEzXT("")z=34:0'0'TzO-CODE'$=CHR$(137)
45254 Iz Fz C z OBE' $=CHE$ C133 ) • TH z EN-CODEz-167 • HOz T' $sCHR$ (5.63 > ■ K z 0MzMz R-CODEz *44
Bild 11. Relevante Zeichencodes
108
C 64/VC 20
Hilfsprogramm
Haben Sie in Ihren Listings häufig Grafik- und Steuerzeichen? Dann können Sie sich viel Ärger ersparen, wenn Sie das Listing vorher mit dem Programm »LISTER« aufbereiten. »LISTER« übersetzt Basic-Programme in Programmtexte, in denen die schwer entzifferbaren Steuer- und Grafikzeichen innerhalb von Strings durch lesbare Worte »(CDOWN«) oder »(HOME)« ersetzt sind (Bild 12).
Listing
Dazu ändern wir eine Zeile innerhalb der Prozedur »NEXT-CHAR«. In Zeile 350 werden gelesene Zeichen mit dem ASCII-Code C innerhalb von Strings direkt in die Ausgabezeile Z$ übertragen. Wenn wir nun in Zeile 350 Z$=Z$+CHR$(C) durch Z$=Z$+C$(C) ersetzen, dann können wir ein Array C$(255) definieren, das in jedem ASCII-Wert den String enthält, der dafür im Objektprogramm erscheinen soll. Die Definition dieses Arrays gehört in das Modul »INITIALISIERUNG«: 45300 DIM C$(255):FOR l=0 TO 255:C$(I)=CHR$(I): NEXT
Damit haben wir zugleich unser Array mit den normalen Werten vorbesetzt. Jetzt bleiben nur noch 45310C$(17)=”(CDOWN)”:C$(19)=”(HOME)”
45312 C$(28)=”(ROT)”:C$(31)=”(BLAU)” ... etc.
Hier können Sie nun jedem Zeichen ein beliebiges Wort zuordnen: Den ASCII-Code der einzelnen Zeichen finden Sie im C-64 Handbuch auf Seite 135 oder Sie können ihn einfach durch Eingabe von
PRINT ASC(”X”)
feststellen, wobei »X« für das interessierende Zeichen steht. Bei sehr vielen Zeichen innerhalb eines Strings kann es allerdings vorkommen, daß die Zeilen zu lang werden. Deshalb sollten die Worte möglichst kurz gewählt werden.
Makros
An einem etwas umfangreicheren Beispiel wollen wir nun zeigen, wie man neue Strubs-Befehle implementiert und wie man die Prozeduren von Strubs benutzen kann. Dies soll am Beispiel einer Makro-Funktion demonstriert werden.
Makros, vor allem von Assemblern her bekannt, stellen so etwas wie Abkürzungen für kurze Programmausschnitte dar. Dadurch verringert sich die Tipparbeit und vor allem werden die Quellprogramme übersichtlicher.
In der Makro-Definition wird ein Makro-Name definiert und diesem ein Programmstück zugeordnet. Überall, wo nun im Quellprogramm ein Makro aufgerufen wird, erscheint im Objektprogramm an dieser Stelle das entsprechende Programmstück. Ein einmal definiertes Makro kann wie ein Label beliebig oft aufgerufen werden.
Für die Definition eines Makros wollen wir den Befehl »IDMAKRO« und für den Aufruf eines Makros den Befehl »!M« wählen. Ein Beispiel mag die Wirkungsweise der neuen Befehle demonstrieren:
10 !DMAKRO:NAME SYS 833:X=PEEK (878)
200 PRINT X:!M,NAME:PRINT X
Die Definitionszeile 10wird gelöscht, dasie nurfürdie Übersetzung notwendige Informationen enthält. Die Zeile 200 mit dem Makro-Aufruf sieht im Objektprogramm folgendermaßen aus:
200 PRINTX:SYS833:X=PEEK(878):PRINTX
Einige Beispiele für Makros und deren korrekte Benutzung sowie das sich ergebende Objektprogramm zeigt Bild 13. Vor allem ist darauf zu achten, daß Makronamen wie alle Befehlsund Labelnamen mit einem der Trennzeichen abgeschlossen werden müssen. Insbesondere darf bei der Makrodefinition und beim Aufruf mit nachfolgenden Parametern (Spritemakros in Zeile 120 und 130) nicht das Blank hinter dem Makronamen vergessen werden! Jede Makrodefinition benötigt eine eigene Zeile. Eine Übergabe von Parametern an ein Makro ist nicht möglich. Achten Sie bei der Arbeit mit Makros darauf, daß die entstehenden Zeilen des Objektprogramms nicht zu lang werden. Zeilen, die länger als 80 Zeichen sind, lassen sich nicht mehr editieren. Zeilen, die länger als 256 Zeichen werden, führen zum unkontrollierten Abbruch der Übersetzung mit »String too long error«. In diesem Fall kann man mit »GOTO 50000« die Nummer der verantwortlichen Zeile erfahren und offene Files schließen.
Um die Übersetzung zu ermöglichen, muß im 1. Lauf eine Tabelle der Makronamen und der zugehörigen Programmausschnitte angelegt werden. Im 2. Lauf werden dann alle Aufrufe durch den zugehörigen Text ersetzt. Die Verteilung auf zwei Läufe bietet den Vorteil, daß ein Makro (ebenso wie Label) auch schon vor der Definition aufgerufen werden kann.
Zur Implementation sind folgende Schritte erforderlich: Zunächst muß dem Übersetzungsprogramm mitgeteilt werden, daß es zwei neue Befehle gibt. Dann müssen wir die notwendige Tabelle definieren und auch entsprechende Fehlermeldungen vorsehen. Diese Erweiterungen gehören in den INITTeil.
Schließlich muß noch dafür gesorgt werden, daß Strubs weiß, wie es im 1. und 2. Lauf auf die neuen Befehle zu reagieren hat. Die Befehlstabelle wird in Zeile 45265 definiert. Hier erhöhen wir die Zahl der Befehle um 2 und fügen dann noch eine DATA-Zeile mit den beiden neuen Befehlsnamen ein: 45265 BM=15:...
45275 DATA DMAKRO,M
Wählt man Befehlsnamen, die reservierte Basic-Worte enthalten, dann müssen die Tokens berücksichtigt werden (wie dies für IF in der Zeile 45271 geschieht). Für einen Befehl »DEFMAKRO« wäre zum Beispiel BE$(14)=CHR$(150)+ ’’MAKRO” zu setzen (150=DEF-Token).
Für die Tabelle wählen wir ein Array NA$(NM,1), da der Name M bereits für die Markentabelle vergeben ist. Die Dimension (..,0) soll die Namen und die Dimension (..,1) den zugehörigen Text aufnehmen.
45155 NM=40:DIM NA$(NM,1):NP=0
Damit können 41 Makros definiert werden. Indem wir die Zahl der Fehlermeldungen von 9 auf 11 erhöhen, erhalten wir die beiden neuen Fehlercodes 10 und 11 für »zu viele Makros« und »undefiniertes Makro«.
45480 EM=11:DIM...
45500 FOR l=0 TO EM:READ ...
45515 DATA ”ZU VIELE MAKROS”, ’’UNDEFINIERTES MAKRO”
is REM «^ LisTER-DEMo mm.m$im$
30 PR I NT" »niOfSTliil^W
20 REM WIRD ZU:
30 PR I NT" <CDXCRXClXCL3<R0NXR0FXH0>TEST<DELX INSXWHTXREDXPRNXB'.' IXDLKXP
URXYELXCVN>"
RFAIlY.	Bild 12. Beispiellister
109
Hilfsprogramm
C 64/VC 20
10 REM m*$ MAKROS BEISPIELE mm**
20 !£MAKRO:STOPAN POKE 7^3.^9
30 !PMAKRO-STOPAUS POKE 708.-52
40 !WKRCHREABJT'T J8=PFEK(5A32^
50 ’ ^AKRO • WARTF POKE 198 • 8: NP IT 198 - 1
60 !BMAKRO:CLOSEALL SYS 65511
70 !WKR0:SPRIW0S POKE 53248+2*
80 üiMAKRO’SPRITE^POS POKE 53248+2*
90 !DMAKRO:SPRITEAH POKE 53269.-PEEK(53269) OR 2*
96 z ******** AUFRUFE• ************
100 !M.STOPAUS:!M,CLOSEALL•’M-STOPAN
110 !N.<REROT^PRINT JS
128 !^3PRITEAN 5NNUWE
130 ’ M, SPRITEXPOS 5.- 240 ’ M, SPRITEYPOS 5,170
140 !M,FEHLER
^ADr.
10 REM*****MAKROSBEI SP I ELE********.
108 P0KE788.- 52• SVS65511: P0KE788■ 49
11© JS-PEEK(56320)•PRINW
128 P0KE53269. PEEK (53269) 0R215: POKE 198,0: NA IT198.-1
130 R0KE53248+2*5 .• 240: P0KE53249+2*5 .■ 170
140 ***** ERRJ.WINIERTES MAKRO********
EERDYL
Bild 13. Beispiele Makros
0 ##****.#.*# SPEED-UP *****************
45250 DP=RSC(":"): K0=U3 '• LR=RSC( "£"): NU$*CHR$(9> = BL=ASC(" ")
REfW.
0 ****** LISTER *********************
350 Z$^+C$(C):HC<+l'CsPEEK(NC):IF C RND CC>TE THEN 350
45300 DIM C$(255):F0R 1=0 TO 255:C$(D=CHR$(I)'NEXT
45310 C$ C17)=” <CD>" ■ C£ (23)=" <CR>" ■ C$ < 145)=" <CU> ” '• C$ (157 )=" <CL>"
45312 C$ (13) =" <RON>": Ct(146) =" <ROF>" • Ct (19 )=" <H0>": Ct (147) s" <nLR>"
45314 Ct (20)=" <DEL>" ■ Ct (143)=" <I NS>"
45316 Ct (5)=" <WHT>": Ct (23)=" <RFTi>": Ct (30)=" <GRN>"- Ct (31)=" <BUJ>"
45313 Ct C144)=" <BLK> ”: Ct (156)=" <PUR>": Ct (153)=" <VEL>": Ct (153)=" <CW>"
RERr<
0 ********** MRKROS ******************
1571 IF I>14 THEN CH 1-14 GOSUB 2356.2330
2350 IF NP>NM THEN ER=10:GOTO 50000
2355 Zt=""■GOSUB 750•NRt(NP•0)=T$
2360 ZtsZ$^CHPt<crGCSUB 25@-IF CO0 THEN 2360
2370 NRt ( NP,. 1) =Zt: NP=NP+1 '■ I N=0
2375 RETURN
2330 IN=0:RFTURN
2571 IF I>14 THEN ON 1-14 GOSUB 3700.-3750
37^ Zt=""•C=0:RETURN
3”50 GOSUB 750
3755 FOR 1=0 TO NP:IF NRt(I..0)OTt THEN NEXT
3760 IF I>=NF THEN ER=11: GOTO S05G
3765 Zt»7t+HRt( T., 1): RETURN
45155 NM=40: D T M NRt ( NM.. 1) : NP=0
45265 BM=15:DIM BEt(BM>
45275 DRTR W<RO..M
45430 EM» 11 : DIM FRX ( 30.. 1 ) : FF=3 : t T N FRt < EM )
45500 FOR 1=0 TO FM:RFRp ER$(D:HFXT
45515 DRT$ «ZU VIELE MRKRCS"."UHTFFTNIERTES MAKRO“
Bild 14. Die besprochenen Erweiterungen auf einen Blick
Nun müssen wir in die beiden Module »BEFEHLE IM 1. LAUF« beziehungsweise »BEFEHLE IM 2. LAUF«jeweils zwei Routinen für die neuen Befehle einfügen. Da die beiden Verteilerzeilen bereits voll sind, legen wir zwei neue Verteilerzeilen an, die dann aber auch gleich für zehn weiter, neue Befehle Platz bieten:
1571 IF l>14 THEN ON 1-14 GOSUB 2350,2380 für den 1. Lauf und
2571 IF l>14 THEN ON 1-14 GOSUB 3700,3750 für den 2. Lauf.
Die Routine für »IDMAKRO« im 1. Lauf soll prüfen, ob noch Platz in unserer Makro-Tabelle ist und, falls nicht, mit entsprechendem Fehlercode die Abbruch-Routine anspringen: 2350 IF NP>NM THEN ER=10:GOTO 50000
CROSS REFERENCE MAP	STRUBS.4.0P	PRGE
RR	568*	565	570	5120*	5130					
ABO	555	1125	1574	1685	2100	2268	5052	5920	61.00	6550
6655	8058	8060 454:		10 58008							
B«	1565*	1575	1577	1579	1581	2685*	2693	48060*	48070	49060*
49078	49568*									
BE	3470	45253*								
BE$O	1550	45641	45265	45270#	45271*					
BL	258	295	795	820	45258*					
BM	1565	45641	2565	45265#	45270					
	260*	265	280#	290#	295	350*	795#	800	820	2420
2425	2478	2598	3810	3036* 3400* 3478	3495* 3^10	41?								*0	
4188	4115	4138	4360	4388	5588* 5585	8898#									
C«	8098*									
BI	1178	1605	2100	2268	2640	2693	3030	3098	3490	3638
6100	8068 45220* 48148 49140									
BP	795	5585	45258*							
E	5090#	5895								
E«	5090#	5095								
ER	80#	5852	5120	5555	6558	8958				
EM	8860	45480#								
EP	5180	8068*	45400#	49058	49110	49120				
ER	1168*	1565#	1600*	1685*	1640#	2018*	2040#	2180#	2160*	2275*
2410* 2425# 2565* 5143* 6050* 8050	8060	«080 50008
ER«O	8850	8880	45480	45500* 49140	50008			
ERXO	8060*	45480	49140					
Ft	5070*	5080						
CT«	2640	2685	3090	45253#				
H	1125#	1170#	1180	2260# 2300	2425* 2647*	2648	3100*	3130
3190*	3200 48055* 48102* 481			50 49055# 4910	*2* 49150			
HX	565*	570						
T	1140#	1160	1170	1550	1565	1569# 1570	2275*	2290	2300
45641	2565	2570 45270* 45500* 45600# 45610* 45650# 48120# 48140
48150 49120# 49140 49158 1X0	2100* 2380* 3830	3090 45145
ICt	3010	3680 45254# 45271
IM	45145*
IN	1575	1577	1579	1581	1615#	1660*	1688*	2825#	2052# 2107*
2240* 2320* 2485* 3628*
IP	2010*	2850*	3038	3036#	3890	3140#	6568#	45145*
KM	795	45254*
KO	265	288	6585	45250#
L	2647*	2648	3188*	3130	3198*	3288
LR	4180	4368	45250#
LM	1605	45135*
LOXO	1605#	2648	2693	3498 3638	45135
LP	1605*	2595#	6568*	45135*
MRtO	1148	6180*	45068	48140
MRXO	1170	6100*	45868	48140
MM	2418	6058	45068#
MP	1140	1160	2410	2460#	6850 6108* 45060* ^8850	4P128
NC	250*	260	280#	298*	358#	370*	795	880*	828# 4080*
4115* 5580* NOt	3810	3680 45254*
NU«	2648	3098	4115	8898	45258*
SXO	2050*	2108	2275	2595#	2648	2693	3498	3638	45190
SM	1608	2018	2160	45190*
SP	1680	1685#	16^0*	2018*	2040	2850	2100	2160#	2275	2595#
2638# 2648	2693	3490	3628* 3630	5143	65<8# 45-90*
T$	758*	808* 1120	1140.	1550 45641.	6100
TR	1575	1577*	1579	1581#	5136*
TF	358 45253*
TH	3038	3480	3630	45254#
W	45600*	45610#	45650#
X	45410
Z«	350*	550	560	570	1180* 2598# 2640# 2648# 2685	2693#
3010*	3830*	3098*	3138#-	3200*	3488*	3478*	3480#	3490* 3600*
3610*	3630#	4060#	41@8*	4115*	4380#	5096#	5099	8080# 40168#
48170 40180 40195 Z1	6558# 6655# 6668
ZR	555	1125	1574	1605	2186	2260	2647	3180	3198	4068
4080	5555* 5570	5588	5928# 6188	6550* 6585	6655# 8850
8860 58008
Bild 15. Variablenliste
Jetzt können wir mit Hilfe der Prozedur »HOLNAME« den Makro-Namen lesen und in unserer Tabelle speichern: 2355 Z$=””:GOSUB750:NA$(NP,0)=T$
Nun übertragen wir den Rest der Definitionszeile mit Hilfe von »NEXTCHAR« nach Z$ (dadurch werden auch Strings mit übertragen. Als Ausgabezeile dient Z$ ja erst im 2. Lauf). 2360 Z$=Z$+CHR$(C):GOSUB 250:IF C<>0 THEN 2360
Nun brauchen wir nur noch den Text in die Tabelle aufzunehmen, den Zeiger zu erhöhen und den Indentmodus angeben. 2370 NA$(NR1)=Z$:NP=NP+1:IN=0
2375 RETURN
Der Aufruf eines Makros interessiert im 1. Lauf nicht, also: 2380 IN=O:RETURN
lm 2. Lauf soll die Definitionszeile gelöscht werden. Dazu löschen wir den Ausgabestring und weisen C den Code für Zeilenende zu:
3700 Z$=””:C=O:RETURN
Beim Aufruf eines Makros mit »!M« holen wir zunächst den Namen des Makros mit »HOLNAME« und suchen ihn in der Tabelle:
110
C 64/VC 20
Hilfsprogramm
3750 GOSUB 750
3755 FOR 1=0 TO NP: IF NA$(I,O)<>T$ THEN NEXT
Falls der Name nicht gefunden wird, erfolgt ein Sprung zur Error-Routine mit dem Code für »undefiniertes Makro«: 3760 IF l>NPTHEN ER=11: GOTO 8050
Nun ist nur noch das definierte Programmstück in die Ausgabezeile zu übertragen:
3760 Z$=Z$ + NA$(I,1):RETURN
Dadurch, daß diese Makro-Erweiterung Zeile für Zeile besprochen wurde, um zu zeigen, wie man die von Strubs vorgegebenen Prozeduren benutzen kann, ist vielleicht der Eindruck entstanden, eine solche Erweiterung sei relativ kompliziert. Wenn Sie sich aber das Ganze noch einmal genauer ansehen, können Sie feststellen, daß für die Implementation neuer Befehle im Prinzip nur drei Schritte erforderlich sind:
1.	Eintrag der neuen Befehlsnamen in die Befehlstabelle
2.	Einfügen der entsprechenden Routinen
3.	Eintrag der Adressen dieser Routinen in die beiden Verteilerzeilen
Die ganze Arbeit des Suchens und Decodierens übernimmt Strubs automatisch.
Wie neue Funktionen (beispielsweise die Ausgabe der Makro-Tabelle) in das Menü aufgenommen werden können, haben Sie bereits in der letzten Folge am Beispiel der RENUMBER-Funktion gesehen.
Eine Zusammenstellung der oben besprochenen Erweiterungen finden Sie in Bild 14.
Strubs und Interpretererweiterungen
Wollen Sie mit Strubs Programme für Interpretererweiterungen bearbeiten, dann sind einige weitere Dinge zu beachten. Entfernen Sie zunächst die Interpretererweiterung von Strubs.
Falls die Erweiterung, die Sie benutzen wollen, nicht in den Editor eingreift, sondern ihre neuen Befehle durch besondere Zeichen (meistens »!«) gekennzeichnet werden, dann ändern Sie wie bereits oben beschrieben die entsprechenden Erkennungszeichen, die Strubs benutzt.
Bei Erweiterungen wie Simons Basic, die in den Editor eingreifen und die neuen Befehle wie der Basic-Interpreter durch eigene Tokens darstellen, ist es am einfachsten, den Strubs-Befehlen, deren Namen solche Befehle enthalten, neue Namen zu geben. Im Fall von Simons Basic sind davon beispielsweise Strubs-Befehle wie »IREPEAT«, »lUNTIL« oder »iELSE« etc. betroffen.
Dazu sind nur die Namen in den DATA-Zeilen 45272 bis 45274 zu ändern. Sie können die betroffenen Strubs-Befehle aber auch wie oben am Beispiel von »DEFMAKRO« beschrieben aus den Tokens zusammensetzen. Dabei ist aber zu berücksichtigen, daß die Token von Simons Basic aus zwei Zeichen und nicht wie die normalen Token aus nur einem Zeichen bestehen.
Eine Liste dervon Strubs benutzten Variablen bietet Bild 15. Dabei kennzeichnet das Zeichen »*« Zeilennummern, in denen eine Wertzuweisung an die Variable erfolgt.
Um sich an die Arbeitsweise von Strubs zu gewöhnen, können Sie das Quellprogramm »Menü« (Listing 2) eingeben. »Menü« faßt immer zehn Programme auf einer Bildschirmseite zusammen, die man mit den Cursor-Tasten durchblättern kann. Bei Programmen, die größer sind als »Menü«, muß in der ersten Zeile der Pointer auf das Basic-Ende korrigiert werden (sieheZeile 1 von »Menü«, Listing 3). Hängtman bei Programmen, die von »Menü« geladen werden sollen, an das Programmende LOAD”Menü.obj” ,8 dann wird bei Programmende »Menü« automatisch geladen und gestartet.
(MatthiasTörk/og)
5 REM STRUBS4/4.9.83 51 PRINT"€CLR >";TAB(10);”***************** 52 PRINT TAB(10);"* —STRUBS.4 — *"	<221> <189?-<154>
55 PRINT TAB(10);"*{3SPACE >M.TOERK <5SPACE} *•'	<165>
57 PRINT TABC10);"* 4352 HERTEN<3SPACE>*"	<079>
58 PRINT TAB(10);"*****************11	<181>
70 IF NOT(PEEK(46)<40 OR<PEEK(46)=40 AND P EEK(45)<3))THEN 75	<103>
73 POKE 46,40:POKE 45,3:P0KE 40*256,0:CLR	<062>
80 EA=40*256+1	<051> <094>
100 60SUB 45060	<057>
140 GOTO 40050	<193>
250 IF PEEK(NC)=BL THEN NC=NC+l:GOTO 250	<032>
260 C=PEEK(NC)	<054>
265 IF COKO THEN 320	<147>
280 NC=NC+l:C=PEEK(NC):IF C AND COKO THEN 280 290 IF C THEN NC=NC+l:C=PEEK(NC)	<222> <017>
295 IF C=BL THEN 250	<038>
320 IF C<>TE THEN NC=NC+l:RETURN	<124>
350 Z$=Z$+CHR$(C):NC=NC+l:C=PEEK(NC):IF C AND C<>TE THEN 350 370 NC=NC+1	<164> <017>
390 RETURN	<194>
550 IF LEN(Z$)<4 THEN RETURN	<013>
555 PRINT FN AD<ZA+2)	<060>
560 AA=AA+LEN(Zt)+2	<075>
565 H7.=AA/256	<112>
570 PRINT#l,CHR$(AA-256*H7.);CHR$(H7.) ;Z$;	<206>
580 RETURN	<130>
750 T$=""	<091>
790 :	<004>
795 C=PEEK(NC):IF C=DP OR C=KM OR C=BL OR C=0 THEN 811 800 NC=NC+1:T$=T$+CHR$(C)	<200> <126>
810 GOTO 790	<168>
811 :	<025>
820 NC=NC+l:IF C=BL THEN GOSUB 250	<050>
830 RETURN	<126>
1050 GOSUB 750	<106>
1120 IF NOT(T$="THIS")THEN 1131	<252>
1125 H=FN AD(ZA+2)	<115>
1130 GOTO 1175	<103>
1131 :	<090
1140 FOR 1=0 TO MP:IF MA$(I)OTSTHEN NEXT	<060>
1160 IF I>MP THEN ER=2sG0T0 8050:	<110>
1170 H=MA7.(I)+DI	<164>
1175 :	<135>
1180 Z$=Z$+MID$(STR$(H),2)	<102>
1190 RETURN	<232>
1550 GOSUB 750	<098>
1560 FOR 1=0 TO BM:IF T$<>BE$(I)THEN NEXT	<098>
1565 IF I>BM THEN ER=0:GOTO 8050	<237>
1567 B$=BE$(I):IF 1=3 THEN B*="IF"	<189>
1569 I = I + 1	<028>
1570 ON I GOSUB 1600,1680,1640,2010,2040,2 100,2160,2210,2260,2400,1710,1740,181 0,1860 1574 PRINT FN AD(ZA+2);	<187> <242>
1575 IF IN=0 THEN PRINT TAB(TA);B$:RETURN	<241>
1577 IF IN=1 THEN PRINT TAB(TA);B$:TA=TA+1 :RETURN 1579 IF IN=2 THEN PRINT TAB(TA-l);B$:RETUR N 1581 IF IN=3 THEN TA=TA-l:PRINT TAB(TA);B$ :RETURN 1586 RETURN	<094> <048> <235> <120>
1600 IF SP>SM THEN ER=3:G0T0 50000	<031>
1605 IF LP>LM THEN ER=5:G0TD 50000	<075>
1610 S7.(SP)=LP:SP=SP+l:LOZ(LP,0)=FN AD(ZA+ 2)-DI:LP=LP+l 1615 IN=l:RETURN	<122> <024>
1640 SP=SP-l:IF SP<0 THEN ER=l:GOTO 50000	<077>
1650 LO7.(S7.(SP),l)=FN AD(ZA+2)-DI	<173>
1660 IN=3:RETURN	<133>
1680 IN=0:RETURN	<057?>
1710 GOSUB 1600:RETURN	<153>
1740 GOSUB 1640:RETURN	<055>
1810 GOSUB 1600:RETURN	<255>
1860 GOSUB 1640:RETURN	<177>
2010 IF SP>SM THEN ER=3:G0T0 50000	<187>
2011 IF IP>IM THEN ER=4sG0T0 50000	<250>
Listing 1. Das Objektprogramm Strubs. Bitte beachten Sie die Eingabehinweise auf Seite 16.	

111
Hilfsprogramm
C 64/VC 20
2020	S7.(SP)=IP2 IP=IP+l2SP=SP+l	<119>	3400	Z*="":C=0;RETURN	<033>
2025	IN=l:RETURN	<180>	3450	GOSUB 2590	<225>
2040	IF SP<1 THEN ER=l:GOTO 50000	<045>	3460	Z*=Z*+IC*+NO*+"("	<213>
2041	IF IP>IM THEN ER=4:G0T0 50000	<024>	3470	IF C<>BE AND C THEN Z*=Z*+CHR*(C)2GOS	
2044	I7.(S7.(SP-l))=FN AD(ZA+2)+l-DI	<052>		UB 2502GOTO 3470	<039>
2050	87. (SP-1) =IP: IP=IP+1	<167>	3480	Z*=Z*+”) "+CHR* (TH)	<068>
2052	IN=2sRETURN	<240	3490	Z*=Z*+MID* (STR* (LO7. (S7.(SP-1) , 1) +DI + 1)	
2100	IF SP<1 THEN ER=l:80T0 50000	<107>		,2)	<139>
2105	SP=SP-lsIX(S%(SP))=FN AD(ZA+2)-DI	<214>	3495	C=02RETURN	<080>
2107	IN=3;RETURN	<072>	3550	GOSUB 2630sRETURN	<063>
2160	IF SP>SM THEN ER=3:G0T0 50000	<083>	3580	GOSUB 25902RETURN	<014>
2165	87. (SP) =-1: SP=SP+1	<042>	3600	Z*=Z*+IC*+NO*+"("	<099>
2170	GOSUB 2010	<134>	3610	IF C THEN Z*=Z*+CHR*(C)2GOSUB 250sGOT	
2180	IN=l2RETURN	<081>		0 3610	<018>
2210	GOSUB 2040	<014>	3620	SP=SP-l:IN=3	<090>
2230	GOSUB 2010	<194>	3630	Z*=Z*+" ) ”+CHR* (TH) +MID* (STR* (LO7. (S7. (S	
2240	IN=2sRETURN	<173>		P),0)+DI),2)	<253>
2260	H=FN AD(ZA+2)-DI	<020>	3640	RETURN	<142>
2270		<214>	4060	Z*=CHR*(PEEK(ZA+2))+CHR*(PEEK(ZA+3))	<029>
2275	IF SP<1 THEN ER=lsGOTO 50000	<026>	4080	NC=ZA+42GOSUB 250	<068>
2280	SP=SP-12l=S7.(SP)	<210>	4090	IF C=DP THEN GOSUB 250	<064>
2290	IF I<0 THEN 2311	<022>	4100	IF NOT(C=LA)THEN 4110	<106>
2300	IX(I>=H	<240>	4105	GOSUB 750 2 IF C=DP THEN GOSUB 250	<128>
2310	GOTO 2270	<228>	4108	IF C=0 THEN Z*=Z*+":"	<091>
2311		<001>	4110	2	<022>
2320	IN=3sRETURN	<031>	4115	NC=NC-12lF C=0 THEN Z*=Z*+NU*	<064>
2400		<090>	4130	2 IF C=0 THEN 4397	<038>
2410	IF MP>MM THEN ER=6:GOTO 50000	<206>	4132	GOSUB 250	<100>
2415	IF C AND COLA THEN GOSUB 250sGOTO 24		4150	IF NOT(C=BE)THEN 4359	<125>
	15	<082>	4155	GOSUB 2550	<039>
2420	IF C THEN GOSUB 750	<144>	4358	GOTO 4378	<022>
2423	IF C THEN GOSUB 250	<082>	4359	s	<017>
2425	IF C<48 OR 057 THEN ER=9sG0T0 8050	<133>	4360	IF C=LA THEN GOSUB 1050	<164>
2430	MA*(MP)=T*aH=C	<138>	4378	2	<036>
2440	GOSUB 750	<226>	4380	Z*=Z*+CHR*(C)	<009>
2450	MAX(MP)=VAL(CHR*(H)+T$>-DI	<129>	4396	GOTO 4130	<154>
2460	MP=MP+1	<211>	4397	2	<055>
2470	IF C=0 THEN 2481	<155>	4398	RETURN	<138>
2480	GOTO 2400	<206>	5050	PRINT”{CLR,3SPACE)***** UEBERSETZEN<4	
2481		<171>		SPACE>**** <3D0WN)”	<252>
2485	IN=0sRETURN	<100>	5052	IF NOT(FN AD(EA)<EA+5 OR FN AD(EA)>EA	
2550	GOSUB 750	<080>		+83)THEN 5054	<110>
2560	FOR 1=0 TO BM:IF T*<>BE*(I)THEN NEXT	<082>	5053	PRINT"KEIN PROGRAMM VORHANDEN"aGOSUB	
2565	IF I>BM THEN ER=0sGOTO 8050	<221>		495502RETURN	<004>
2568	I = I + 1	<011>	5054		<204>
2570	ON I GOSUB 2590,2685,2630,3010,3090,3		5058	PRINT”BITTE DISK EINLEGEN<SPACE,2D0WN	
	190,3260,3310,3360,3400,3450,3550,358			,SPACE>"	< 196>
	0,3600	<003>	5060	PRINT"NAME FUER OBJEKT-PROGRAMM”	<187>
2575	RETURN	<093>	5065	POKE 198,12P0KE 631,34	<107>
2590	IF C=0 THEN Z*=Z*+"2"	<097>	5070	INPUT F*	<126>
2595	S7. (SP) =LPsSP=SP+l; LP=LP+1	<116>	5080	OPEN l,8,l,F*+",P,W"2OPEN 15,8,15	<160>
2597	RETURN	<115>	5090	INPUT#15,E,E*2lF E=0 THEN 5101	<028>
2630	SP=SP-1	<216>	5095	PRINT”DISK ERR2";E;E*	<113?^
2640	Z*=Z*+GT*+MID* (STR* (LO7. (S7. (SP) ,0) +DI)		5096	INPUT"NEUER VERSUCH";Z*	<082>
	,2)+NU*	<178>	5098	CLOSE lsCLOSE 15	<184>
2642	GOSUB 550	<158>	5099	IF Z*O”J"THEN RETURN	<230>
2647	L=PEEK(ZA+2)+l:H=PEEK(ZA+3) s IF L?>255		5100	GOTO 5060	<182>
	THEN L=0:H=H+1	<148>	5101		<250
2648	Z$=CHR$(L)+CHR$(H)+"!"	<009>	5120	AA=EA	<090>
2650	RETURN	<168>	5130	PRINT#l,CHR*(AA AND 256);CHR*(AA/256)	
2685	B*=""2IF RIGHT*(Z*,l)<>CHR*(167)THEN				<012>
	B*=GT*	<013>	5135	PRINT”l.LAUF”	<162>
2693	Z*=Z*+B*+M ID* (STR* ( LO7. (S7. (SP-1) , 1) +DI		5136	TA=7	<164>
	+1),2)	<004>	5140	GOSUB 5555	<097>
2695	RETURN	<213>	5143	IF SP>0 THEN PRINT SP;sER=8sGOTO 5000	
3010	Z*=Z*+IC*+NO*+"("+CHR*(C)	<073>		0	<090>
3020	GOSUB 250:IF C<>TH AND C THEN Z*=Z*+C		5145	PRINT'*2.LAUF"	<188>
	HR*(C);GOTO 3020	<003>	5150	GOSUB 6550	<050>
3030	Z*=Z*+'*) *'+CHR*(TH) +MID*(STR* (17. (IP) +D		5160	PRINT#1,CHR*(0);CHR*(0);	<012>
	I) ,2)	<004>	5180	CLOSE 12PRINT"<DOWN>**”;EP;” ERRORS *	
3036	IP=IP+1:C=02 RETURN	<138>		*"2GOSUB 49550	<086?^
3090	Z*=Z*+GT*+MID*(STR* (17. ( IP) +DI) ,2) +NU*	<233>	5190	RETURN	<168>
3100	GOSUB 550	<108>	5555	ZA=EA	<115>
3120	L=PEEK(ZA+2)+1:H=PEEK(ZA+3)2IF L >255		5570	IF NOT(ZA<>0)THEN 5931	<037>
	THEN L=0:H=H+1	<113>	5580	NC=ZA+42C=PEEK(NC)2NC=NC+l	<077>
3130	Z*=CHR*(L)+CHR*(H)+"2"	<239>	5585	IF C=DP THEN GOSUB 250	<035>
3140	IP=IP+l:RETURN	<159>	5590	IF C=LA THEN GOSUB 60502lF C=DP THEN	
3190	L=PEEK(ZA+2)2H=PEEK(ZA+3)	<141>		GOSUB 250	<137>
3200	Z*=CHR* (L)+CHR* (H)+” 2 "	<053>	5620	IF C=BE THEN GOSUB 1550	<108>
3210	RETURN	<220>	5920	ZA=FN AD(ZA)	<140>
3260	GOSUB 30102RETURN	<131>	5930	GOTO 5570	<108>
3310	GOSUB 3090	<011>	5931		<065>
3320	Z*=LEFT*(Z*,LEN(Z*)-1)	<172>	5935	RETURN	<151>
3330	GOSUB 3010	<032>	6050	IF MP>MMTHEN ER=6sG0T0 50000	<034>
3340	RETURN	<096>	6070	GOSUB 750	<044>
3360	GOSUB 3190	<022>	6100	MA* (MP) =T* 2 MA7. (MP) =FN AD (ZA+2) -D12 MP=	
3370	RETURN	<126>		MP+1	<058>
112

C 64/VC 20
Hilfsprogramm
6120 RETURN	<080>
6550 ZA=EA:Zl=FN AD(ZA)	<148>
6560 LP=0:SP=0:IP=0	<149>
6580 :	<206>
6585 IF N0T(PEEK(ZA+4)<>K0)THEN 6650	<098>
6590 GOSUB 4060	<156>
6600 GOSUB 550	<050>
6650 :	<020>
6655 ZA=Zl:Zl=FN ADCZ1)	<140>
6660 IF NOT(Zl=0)THEN 6580	<084>
6680 RETURN	<134>
8050 PRINT"ERROR IN";FN AD(ZA+2),ER$(ER)	<224>
8060 IF EP<EM THEN ERX<EP,0>=FN AD(ZA+2)-D I: ER7. (EP , 1) =ER: EP=EP+1	<227?^
8080 Z$=LEFT$(Z$,2)+"***** ERR:"+ER$(ER)+" ********"	<174>
8090 C*=NU*:C=0	<108>
8099 RETURN	<027>
8860 PRINT"<CLR,5D0WN >"	<057>
8870 PRINT TAB(9);"*********************"	<091>
8880 PRINT TAB(9);"** ZURUECK MIT:<4SPACE> **"	<143>
8882 PRINT TAB(9);"** ' ! ' CRETURN3<2SPAC E>**"	<180>
8940 PRINT TAB(9);"*********************"	<161>
8950 POKE 44,EA/256:P0KE EA-1,0:CLR:END	<080>
8990 END	<102>
40050 PRINT"{CLR>";TAB(10);"************** ***"	<053>
40052 PRINT TAB(10);"* — STRUBS<2SPACE>— *"	<171>
40053 PRINT TAB(10);"* <2SPACE>PRECOMPILER < 2SPACE>*"	<222>
40055 PRINT TAB(10);"* BITTE WAEHLEN *"	<205>
40058 PRINT TAB(10);"*****************”	<046>
40060 PRINT"<3D0WN,RVS0N>E<RV0FF>DIT"	<250>
40070 PRINT"<DOWN,RVSON>U<RVOFF>EBERSETZEN	<031>
40080 PRINT "{DOWN,RVSON >M <RVOFF >ARKEN-TABE LLE AUSGEBEN"	<174 >
40090 PRINT"<DOWN,RVSON}F<RVOFF>EHLER-TABE
LLE AUSGEBEN"	<043>
40100 PR I NT " {DOWN, RVSON>S {RVOFF >CHLUSS "	< 153 ?^
40160 GET Z$;IF Z*=""THEN 40160	<101>
40170 IF Z*="E"THEN 8860	<096>
40180 IF Z$="U"THEN GOSUB 5050:GOTD 40050 <164> 40190 IF Z*="S"THEN SYS 64738	<173>
40195 IF Z*="M"THEN GOSUB 48050sGOTO 40050 <141> 40200 IF Z$="F"THEN GOSUB 49050:GOTO 40050 <031> 404<>5 GOTO 40050	<16 0
45060 MM=99:DIM MA*(MM),MA7.(MM):MP=0	<204>
45135 LM=140:DIM LO7.(LM,l):LP=0	<088>
45145 IM=270:DIM I7.(IM):IP=0	<107>
45190 SM=60:DIM S7.(SM):SP=0	<060>
45220 DI=32766	<186 >
45250 DP=ASC(":"):KO=ASC("'"):LA=ASC("f"):
NU*=CHR*(0):BL=ASC<" ")	<109>
45253 BE=ASC("!"):TE=34 s GT$=CHR*(137)	<067 >
45254 IC*=CHR*(139):TH=167 s NO*=CHR*(168):K
M=44	<098>
45265 BM=13:DIM BE*(BM)	<208>
45270 FOR 1=0 TO BM:READ BE*(I):NEXT	<032>
45271 BE$(3)=IC$	<132>
45272 DATA LOOP,EXIT,ELOOP,IF,ELSE,FI	<044>
45273 DATA CASEOF,OF,ECASE,EXT	<133>
45274 DATA WHILE,EWHILE,REPEAT,UNTIL	<085>
45410 DEF FN AD(X)=PEEK(X)+256*PEEK(X+1)	<198>
45480 EM=40sDIM ERXCEM,l)sEP=0sDIM ER*(40) <180> 45500 FOR 1=0 TO 9:READ ER*(I):NEXT	<193>
45510 DATA"FALSCHER BEFEHL","BLOCKSCHACHTE
LUNG: ANFANG FEHLT"	<007>
45511 DATA"UNDEFINIERTE MARKE","STACK VOLL ”	<017>
45512 DATA"ZU VIELE IF/ELSE/CASE/OF","ZU V
IELE LOOP/WHILE/REPEAT“	<163>
45513 DATA"ZU VIELE MARKEN",,"BLOCK NICHT
GESCHLOSSEN"	< 230 >
45514 DATA"EXTERN	DECLARATION"	<113>
45600 I=0:READ W	<247>
45610 POKE 704+I,W:I=I+l:READ W:IF W<256 T
HEN 45610	<154?^
45620 DATA 32,115,0,8,201,33,240,4,40,76,2 31,167	<139>
45630 DATA 169,8,133,44,169,138,76,231,167 ,999	<127>
45650 FOR 1=0 TO 10:READ W;POKE 750+I,W	<241>
45660 NEXT	<203>
45670	SYS 750	<087>
45680 45999	DATA 169,192,141,8,3,169,2,141,9,3,9 6 RETURN	<098> <080>
48050	IF MP=0 THEN RETURN	<137>
48055	H=0	<231>
48057 48060 48070	PRINT"<CLR,DOWN,6SPACE}** MARKENTABE LLE AUSGEBEN **" INPUT"<2D0WN,SPACE>AUF DRUCKER (J/N) ": B$ IF NOT(B*="J")THEN 48091	<134> <050> <036>
48075	PRINT" DRUCKER AN7":G0SUB 49550	<176>
48080	OPEN 1,4	<150>
48090	GOTO 48104	<231>
48091	:	<058>
48100	OPEN 1,3	<138>
48102	H=-1	<243>
48104	:	<071>
48120	FOR 1=0 TO MP-1	<042>
48140	PRINT#l,MAX(I)+DI,MA$(I)	<147>
48150 48180	IF I-INT(I/10)*10=0 THEN IF I AND H THEN GOSUB 49550 NEXT	<097> <183>
48185	CLOSE l:GOSUB 49550	<025>
48190	RETURN	<241>
49050	IF EP=0 THEN RETURN	<057>
49055	H=0	<215>
49057 49060 49070	PRINT"<CLR,D0WN,6SPACE>** FEHLERTABE LLE AUSGEBEN **" INPUT"<2D0WN,SPACE>AUF DRUCKER (J/N) "; B* IF NOT(B$="J")THEN 49091	<216> <034> <084>
49075 49080	PRINT"<DOWN,SPACE>DRUCKER AN7<2D0WN? ":GOSUB 49550 OPEN 1,4	<094> <134>
49090	GOTO 49104	<231>
49091	:	<042>
49100	OPEN 1,3	<122>
49102	H=-1	<227>
49104		<055>
49110	PRINT#1,EP;" ERRORS"	<005>
49120	FOR 1=0 TO EP-1	<022>
49140	PRINT#1 ,ER7. (I ,0) +DI; ER* (ER7. (I , 1) )	<158>
49150 49180	IF I-INT(I/10)*10=0 THEN IF I AND H THEN GOSUB 49550 NEXT	<079> <167>
49185	CLOSE 1	<173>
49191	GOSUB 49550	<029>
49190	RETURN	<225>
49550	PRINT"-><2LEFT>";	<238>
49560	GET B*:IF B*=""THEN 49560	<223>
49570	RETURN	<095>
50000 50008 50010	PRINT"<DOWN>* FEHLER BEHEBEN, DANN N EU VERSUCHEN *" PRINT:PRINT ER*(ER);" IN ";FN AD(ZA+ 2) PRINT#1,CHR*(0);CHR*(0);	<165> <026> <157>
50020	CLOSE 1	<246>
50030	GOSUB 49550	<106>
50040	GOSUB 49050	° G4"er	<212>
50050	RUN	<051>
Listing 1. Das Objektprogramm Strubs (Schluß)
0	======== DIE ZEILE 1 RICHTET DIE POINTER AUF DOS BASIC-ENDE AUS. =======
1 POKE 45,PEEK(174) : POKE 46, PEEK(175) : CLR : GOTO fiHPTPRG
2 '........... AB	ZEILE 10 STEHEN DIE MENUEDATEN...................
5 REM"DATAZEILEN.£NTHALTEN_<PROGRAMMNAME>,_<LADENAME>
98 DATA "ENDE..........................",	"..............."
100 DATA ®,@ 200 '
1000 tMENUE
1030 :
1040 :
1050 :
1060 :
1070 :
1080 '
1090 :
1100 :
1110 :
1120 :
1130 :
1140 :
1150 :
1160 :
1170 :
1180 :
1190 :
1200 :
1230 :
1240 :
1250 :
1260 :
1270 :
1280 :
1290 :
1300 :
1310 :
!IF AN/10-INT(AN/10)
!ELSE
MD
M'ASKEN'D'URCHLAEUFE'
INT(AN/10)
HAUPTSCHLEIFE...... M'ASKENZAEHLER' = 0 !LOOP GOSUB £MASKE TASTENZAEHLER' !LDQP
0 THEN
AN/10-1
Listing 2. »Menue«, das erste Strubs-Listing
GOSUB tPFEIL : GOSUB £TASTE !CASEOF TA'STE' = 0 THEN !EXIT !OF TA'STE' = -1 THEN
T = T-1 : IF T < 1 THEN !EXIT
!OF TA'STE' =	1 THEN
T = T+1 : IF T > 10 OR T+M*10 > AN THEN !EXIT
!ECASE
1 ELOOP
!CASEOF TA'STE' =	0 THEN
!EXIT
!OF TA'STE' = -1 THEN M = M-1 : IF M < 0 THEN M = 0
!OF TA'STE' =	1 THEN
M = M+1 : IF M > MD THEN M = MD !ECASE

113
Hilfsprogramm
C 64/VC 20
1320 :	!ELOOP
1325 '........HAUPTSCHLEIFE ENDE ..
1330 GOTO +LADEN
1340 '
1500 tMASKE
1510 :	GOSOB +ZEILE1
1520 :	I = M*10+1 ' M IST MASKENSEITENZAEHLER
1530 :	!WHILE I <= M*10+10 AND I <= AN'ZAHL' !DO
1540 :	PRINT : PRINT TAB(5) P'RG'N'AME'#(I)
1550 :	I = 1+1
1560 :	!EWHILE
1570 :	GOSUB tHELP
1580 RETURN
1590 '
1700 ।ZEILE1
1710 : PRINT CHR#(147)TAB(12)"PR0GRAMMAUSWAHL"
1720 : PRINT	TAB(12)"==============="
1730 RETURN
1740 '
1800 tHELP
1810 :	Z = 24 : S =	2 : GOSUB +CRSRPO.
1820 :	PRINT	RO$"F1	=> OBEN"RF#" ";
1823 :	PRINT	RO#"F3	=> UNTEN"RF$" ";
1826 :	PRINT	RO$"RETURN => LOAD"RF#;
1830 RETURN
1840 '
1900 tCRSRPO.
1910 :	PRINT CHR$(19) LEFT#(CD#,Z-1) LEFT#(CR#,S-1);
1920 RETURN
1930 2000 tPFEIL
2005 '	Q IST DER VEKTOR ZUM LOESCHEN ODER SETZEN DES PFEILS
2010 '
2020	:	Z = T*2+2 :	S	= 2 :	GOSUB tCRSRPO.
2030	:	IF Q = 1 THEN	tLBLl
2040	:	PRINT "==>"	:	GOTO tLBL2
2050	: tLBLl PRINT "	"	:	Q = 0
2060 : tLBL2
2070 RETURN
2072 '
2200 tTASTE
2210 :	!LOOP
2220 :	GET TA'STE'# : IF TA'STE'# = "" THEN tTHIS
2230 :	'CASEOF TA'STE'$ = CHR#(133) THEN Fl—TASTE GEDR.
2240 :	Q = 1 : GOSUB <PFEIL
2250 :	TA-STE' = -1 : 'EXIT
2260 :	!OF	TASTE# = CHR#< 13) THEN RETURN GEDR.
2270 :	TA'STE' =	0 : 'EXIT
2280 :	!OF	TA'STE'# = CHR$(134) THEN 'F3-TASTE GEDR.
2290 :	Q = 1 : GOSUB tPFEIL
2300 :	TA'STE' = 1 : !EXIT
2310 :	!ECASE
2320 :	!ELODP
2330 RETURN
2332 '
2400 tLADEN
2410 :	NU'MMER' = M'ASKENZAEHLER' * 10 + T'ASTENZAEHLER
2420 :	Z'EILE' = T*2+2 : S'PALTE' = 6 : GOSUB +CRSRPO.
2430 :	PRINT RO# P'RG'N'AME'#(NU) RF#
2440 :	IF LEFT#(P'RG'N'AME'#(NU),4) = "ENDE" THEN tSCHLUSS
2450 '	(NOCH ZU IMPLEMENTIERENDE FUNKTION: LADEN VON MPGS)
2460 '
2470 :	LOAD L'ADE'N'AME'#(NU),8
2490 'ENDE
2495 ' 2700 tSCHLUSS
2710 :	PRINT	CHR#(147);
2720 :	PRINT	LEFT#(CD#,10)	TAB(5);
2730 :	PRINT	RO#	"	F5	=>	MENUE
2740 :	PRINT	TAB(5) RO#	"	F7	=>	ANDERE DISK"
2750 :	PRINT TAB(5) RO# "RETURN => ENDE
2760 :	!LOOP
2770 :	GET TA'STE'# : IF TA'STE'# = "" THEN tTHIS
2780 :	!CASEOF TA'STE'# = CHR#(135) THEN 'F5-TASTE GEDR.
2790 :	RUN10000
2800 :	!OF	TA'STE'# = CHR#(136) THEN 'F7-TASTE GEDR.
2810 :	PRINT : PRINT TAB(5) "BITTE ANDERE DISK EINLEGEN
2820 :	PRINT TAB(5) "DANN BEL. TASTE DRUECKEN!"
2830 :	GET TA'STE'# : IF TA'STE'# = "" THEN tTHIS
2840 :	0PEN15,8,15,"I"	:	CL0SE15
2850 :	LOAD "MENUE",8
2860 :	'OF TA'STE'# = CHR#( 13) THEN RETURN GEDR.
2870 :	PRINT CHR#(147)
2880 s	PRINT "BITTE DISKETTE	DEM LAUFWERK ENTNEHMEN,"
2890 :	PRINT "DANN LAUFWERK UND RECHNER ABSCHALTEN."
2900 :	PRINT : PRINT "BY, BY!"
2910 :	END
2920 s	!ECASE
2930 :	!ELOOP
2940 ' 10000 tHPTPRG 10010 '	******** HAUPTPROGRAMM ***********
10012 REM "  .MENUE VERS I ON VOM 01.05.84 10014 REM "..._GERD_________SOMBETZK I 
10016 REM"________FUHRMANNSTR____47
10018 REM " 4600_DORTMUND_________13 10020 REM " ________________________TEL. : _0231 / 213656
10022 ' 10030 :	GOSUB tINIT
10040 :	GOTO tMENUE
10050 ' 10060	**********************************
10070 ' 10100 tINIT 10130 :	GOSUB tANZAHL : IF AN'ZAHL'	=	0	THEN	tSCHLUSS
10140 :	DIM P'RG'N'AME'#(AN'ZAHL'),	L'ADE'N'AME'#(AN'ZAHL')
10150 :	RESTORE
10160 :	FOR I = 1 TD AN'ZAHL
10170 :	READ P'RG'N'AME'#(I), L'ADE'N'AME'#(I)
10180 :	NEXT
10190 ' 10200 '-----------GLOBALVAR IABLENDEFINITI ON----------------
10210 ' 10220 :	CD# = "51" CURSOR DOWN' : RO# = "3" 'RVS ON
10230 :	CR# = "M" 'CURSOR RIGHT' : RF# = "«" 'RVS OFF
10235 ' 10240 :	FOR I = 1 TO 7
10250 :	CD# = CD#+CD# : CR# = CR#+CR#
10260 :	NEXT
10290 RETURN 10295 ' 10300 4ANZAHL 10310 :	RESTORE : AN'ZAHL' = -1
10320 :	!REPEAT
10330 :	READ P'RG'N'AME'#, L'ADE'N'AME'#
10340 :	AN'ZAHL' = AN'ZAHL' + 1
10350 :	!UNTIL P'RG'N'AME'# = "t'"
10360 RETURN 10370 ' READY.
Listing 2. Quellcodeprogramm »Menue« (Schluß)
1 P0KE45,PEEK(174):P0KE46,PEEK(175):CLR s GOTO10000 5 REM " DATAZEI LEN_ENTHALTEN._< PROGRAMMNAME >, _<LADENAME > 98 DATA"ENDE......................... ",".............
100 DATA®,® 1000 : 1030 IFNOT(AN/10-INT(AN/10)=0)THEN1051 1040 MD=AN/10-1 1050 GOTD1070 1051 : 1060 MD=INT(AN/10) 1070 ;
1090 M=0 1100 :
1110 GOSUB1500 1120 T=1 1130 :
1140 GOSUB2000 sGOSUB2200 1150 IFNOT(TA=0)THEN1171 1160 G0T01241 1170 GOTO1230 1171 IFN0T(TA=-l)THEN1191 1180 T=T-l:IFT<lTHEN1241 1190 GOTO1230 1191 IFNOT(TA=l)THEN1230 1200 T=T+1:IFT >10ORT+M*10 >ANTHEN1241 1230 : 1240 GOTO1130 1241 : 1250 IFNOT(TA=0)THEN1271 1260 G0T01321 1270 GOTO1310 1271 IFN0T(TA=-l)THEN1291
1280 M=M-1:IFM< 0THENM=0 1290 GOTO1310 1291 IFNOT(TA=l)THEN1310 1300 M=M+1 s IFM ?^MDTHENM=MD 1310 : 1320 GOTO1100 1321 : 1330 GOTO2400 1500 :
1510 GOSUB1700 1520 I=M*10+1 1530 IFNOT(I<=M*10+10ANDI< =AN)THEN1561 1540 PRINT:PRINTTAB(5)PN$(I) 1550 I=I+1 1560 GOTO1530 1561 : 1570 GOSUB1800 1580 RETURN 1700 :
1710 PRINTCHR$(147)TAB(12)"PROGRAMMAUSWAHL" 1720 PRINTTAB(12)"===============" 1730 RETURN 1800 :
1810 Z=24 sS=2:GOSUB1900 1820 PRINTRO$"F1 => OBEN"RF^" "; 1823 PRINTR0$"F3 => UNTEN"RF^" "; 1826 PRINTRO$"RETURN => LOAD"RF$; 1830 RETURN 1900 :
1910 PRINTCHR$(19)LEFT$(CD$,Z-1)LEFT$(CR$,S-1); 1920 RETURN 2000 : 2020 Z=T*2+2 s S=2 s GOSUB1900 2030 IFQ=lTHEN2050 2040 PRINT"== >"s GOTO2060 2050 PRINT" ":Q=0 2060 : 2070 RETURN 2200 : 2210 s 2220 GETTA$ sIFTA$=""THEN2220 2230 IFNOT(TA$=CHR$(133))THEN2261 2240 Q=l:GOSUB2000 2250 TA=-lsG0T02321 2260 GOTO2310 2261 IFNOT(TA$=CHR$(13))THEN2281 2270 TA=0sGOTO2321 2280 GOTO2310 2281 IFNOT(TA$=CHR$(134))THEN2310 2290 Q=lsGOSUB2000 2300 TA=lsG0T02321 2310 : 2320 GOTO2210	. . . M
2321 :	Listing 3. Das
2400 ^ETURN	Objektprogramm	»Menue«
2410 NU=M*10+T
2420 Z=T*2+2:S=6 s GOSUB1900 2430 PRINTRO$PN$(NU)RF$
2440 IFLEFT*(PN*(NU),4)="ENDE"THEN2700 2470 L0ADLN$(NU),8 2700 :
2710 PRINTCHR$(147);
2720 PRINTLEFT$(CD$,10)TAB(5);
C 64/VC 20
Hilfsprogramm
2730 PRINTRO$" F5 = ?^ MENUE
2740 PRINTTAB(5)RO$" F7 => ANDERE DISK"
2750 PRINTTAB(5)RDI"RETURN => ENDE
2760 :
2770 GETTA$:IFTA$=""THEN2770
2780 IFNOT(TA$=CHR$(135))THEN2801
2790 RUN10000
2800 GOTO2920 2801 IFNOT(TA$=CHR$(136))THEN2861
2810 PRINT:PRINTTA8<5)"BITTE ANDERE DISK EINLEGEN,"
2820 PRINTTAB(5)"DANN BEL. TASTE DRUECKEN!"
2830 GETTA$:IFTA$=""THEN2830
2840 0PEN15,8,15,"I":CL0SE15
2850 L0AD"MENUE",8
2860 GOTO2920 2861 IFNOT(TA$=CHR$(13))THEN2920
2870 PRINTCHR$(147)
2880 PRINT"BITTE DISKETTE DEM LAUFWERK ENTNEHMEN,"
2890 PRINT"DANN LAUFWERK UND RECHNER ABSCHALTEN. "
2900 PRINTsPRINT"BY, BY!"
2910 END
2920 : 2930 GOTO2760 2931 : 10000 :
10012 REM"-----MENUE___VERS ION VOM 01.05. 84 
10014 REM"_________GERD____SOMBETZKI
10016 REM"_________FUHRMANNSTR____47
10018 REM"---------4600_DORTMUND 13
10020 REM "--------TEL. s _0231 /213656
10030 GOSUB10100
10040 GOTO1000
10100 s
10130 GOSUB10300:IFAN=0THEN2700
10140 DIMPN$(AN),LN$(AN)
10150 RESTORE
10160 FORI=lTOAN
10170 READPN$(I),LN$(I)
10180 NEXT
10220 CDt= " W" s RO$= " Ei"
10230 CR$="H":RF$="S"
10240 F0RI=lT07 10250 CD$=CD$+CD$:CR$=CR$+CR$
10260 NEXT
10290 RETURN
10300 :
10310 RESTORE:AN=-1
10320 s
10330 READPN$,LNi
10340 AN=AN+1
10350 IFNOT(PN$="@")THEN10320
10360 RETURN
READY. Listing 3. Das Objektprogramm »Menue«, so wie wie es von Strubs generiert wurde (Schluß)
Wie spät ist es bitte?
Haben Sie auch schon beim Programmieren jedes Zeitgefühl verloren und vielleicht einen Termin verpaßt? Mit diesem Uhr-Programm dürfte das nicht mehr passieren. Zusätzlich zur ständigen Zeitanzeige kann noch eine Alarmfunktion aufgerufen werden.
Mit »Piep Piep Piep« erinnert Sie dieses Programm daran, daß es schon wieder nach Mitternacht ist. Es ist vielleicht besser, die neueste Version zu speichern und ins Bett zu gehen. Aber genug der Vorrede, gehen wir »in medias res«.
Das Programm CIA-Uhr wird bei jedem Interrupt des C 64 einmal abgearbeitet, also 60mal pro Sekunde. Dabei wird die Echtzeituhr des C 64 abgefragt, die Alarmzeit überprüft und die Uhrzeit auf den Bildschirm gedruckt. Im Gegensatz zu Tl oder Tl$ hat die Echtzeituhr eine große Ganggenauigkeit. Die Variable Tl wird nämlich nur bei jedem Interrupt hochgezählt. Ein Interrupt muß aber nichtjede 60stel Sekunde stattfinden. Beispielsweise werden beim Speichern oder Laden von Programmen wesentlich weniger Interrupts pro Sekunde vom Computer ausgelöst als im READY-Modus.
Das Programm muß mit dem MSE eingegeben werden. Nach dem Laden mit LOAD”UHR”,8,1 (1,1) muß NEW eingegeben werden, damit kein OUT OF MEMORY ERROR auftritt. Gestellt wird die Uhr durch SYS 49152,”Uhrzeit”,”Alarmzeit”. Die Zeiten müssen 6stellig angegeben werden. Die Alarmzeit kann auch weggelassen werden.
Bei RUN/STOP-RESTORE verschwindet die Anzeige vom Bildschirm, während die Uhr intern aber weiterläuft. Mit SYS 49152 wird die Anzeige wieder aktiviert. Das Maschinenprogramm kann auch in andere Speicherbereiche verschoben werden. Man sollte dazu wissen, daß in den Bereichen $C0A3 bis $C0A6 und $C137 bis $C14D Tabellen stehen.
(Jörg Dorchain/hm)
programm			; uhr				c000 c230				c0b0 : c0b8 : c0c0 :	: a9 : 18 ; 60	f4 d4 6c	8d 60 37	06 a9 cl	d4 09 a9	a9 8d 14	0f 43 8d	8d cl 00	e9 15 ce	cl70 : cl78 : cl80 :	48 e9 05	b2 30 d0	a0 90 fl	ff ec a0	c8 99 ff	bl 45 c8	14 cl bl	38 c0 14	14 87 b3
c000	: 78		a9	36	8d	14	03	a9	c0	0e																				
c008		8d	15	03	58	ad	0f	dc	29	05	c0c8 :	: d4	a9	la	8d	01	d4	a9	21	49	cl88 :	c9	3a	b0	dc	c0	05	d0	f5	99
c010		7f	8d	0f	dc	a9	85	8d	0d	cc	c0d0 :	: 8d	04	d4	a0	14	4c	10	cl	10	cl90 :	a0	ff	a2	00	c8	b9	45	cl	cb
c018		dc	ad	0e	dc	09	80	8d	0e	dl	c0d8 :	: a9	20	8d	04	d4	a0	0a	4c	88	cl98 :	0a	0a	0a	0a	8d	44	cl	c8	ff
c020		dc	4c	eb	cl	ad	0d	dc	29	5e	c0e0 :	: 10	cl	a9	cf	8d	00	d4	a9	b5	cla0 :	b9	45	cl	0d	44	cl	9d	4b	6d
c02B		04	f0	03	20	bb	c0	ad	43	68	c0e8 :	i 22	8d	01	d4	a9	21	8d	04	8e	cla8 :	cl	e8	e0	03	d0	e6	a2	00	45
c030		cl	f0	03	20	cl	c0	a0	00	d3	c0f0 :	: d4	a0	14	4c	10	cl	a9	20	99	clb0 :	a0	0b	f8	bd	4b	cl	f0	b0	b3
c038		ad	0b	dc	ae	08	dc	29	10	a4	c0f8 :	: 8d	04	d4	a0	0a	4c	10	cl	97	clb8 :	c9	24	d0	03	a9	00	18	b0	84
c040		18	4a	4a	4a	4a	20	9b	c0	ef	cl00 :	: a0	00	8c	41	cl	a9	c4	8d	83	clc0 :	a7	c9	12	90	04	e9	12	09	cc
c048		ad	0b	dc	ae	08	dc	29	0f	b2	cl08 :	।	cl	a9	c0	8d	38	cl	60	05	clc8 :	80	99	00	dc	e8	88	bd	4b	11
c050		a2	00	20	9b	c0	bd	a3	C0	78	cll0 :	i 8c	42	cl	a9	ld	8d	37	cl	01	cld0 :	cl	c9	60	b0	93	99	00	dc	64
c05S		20	9b	c0	e8	ad	0a	dc	29	84	cll8 :	a9	cl	8d	38	cl	ce	42	cl	2b	cld8 :	e8	88	bd	4b	cl	c9	60	b0	2a
c060		f0	4a	4a	4a	4a	20	9b	c0	e7	cl20 :	i d0	14	ac	41	cl	b9	39	cl	a0	cle0 :	87	99	00	dc	d8	a9	00	8d	c5
c068		ad	0a	dc	29	0f	20	9b	c0	58	cl28 :	: 8d	37	cl	c8	b9	39	cl	8d	62	cle8 :	08	dc	60	20	4e	cl	20	0c	06
c070		bd	a3	c0	20	9b	c0	e8	ad	f2	cl30 :	i 38	cl	c8	8c	41	cl	60	c4	3a	clf0 :	c2	ad	0f	dc	09	80	8d	0f	dl
c078		09	dc	29	f0	4a	4a	4a	4a	0c	cl38 :	: c0	d8	c0	e2	c0	f3	c0	00	9f	clf8 :	dc	20	51	cl	20	0c	c2	78	c^
c080		20	9b	c0	ad	09	dc	29	0f	8e	cl40 :	I cl	00	00	00	10	00	00	00	03	c200 :	a9	24	8d	14	03	a9	c0	8d	3d
c088		20	9b	c0	bd	a3	c0	20	9b	56	cl48 =	00	00	00	00	00	00	20	a6	16	c208 :	15	03	58	60	a0	ff	c8	b9	62
c090		c0	eS	ad	08	dc	20	9b	c0	ef	cl50 :	I C0	20	06	e2	20	fd	ae	20	eb	c210 :	45	cl	f0	fa	c0	09	d0	03	6f
c098		4c	31	ea	18	69	b0	99	le	f9	cl58 :	9e	ad	20	8f	ad	20	a3	b6	9f	c218 :	4c	0b	e2	a0	ff	a9	00	c8	95
c0a0		04	c8	60	0a	fe	0b	a9	20	91	cl60 :	86	14	84	15	c9	06	f0	0a	59	c220 :	99	45	cl	c0	08	d0	f8	60	90
c0a8		8d	04	d4	a9	07	8d	05	d4	3c	cl68 :	a9	00	aa	a8	18	d8	b8	4c	95	c228 :	a9	00	8d	43	cl	4c	a6	c0	38
Listing zur CIA-Uhr. Es muß mit dem MSE (siehe Seite 18) eingegeben werden.
Hilfsprogramm
C 64
Tiny-Forth-Compiler zum Abtippen
Die Programmiersprache Forth ist zur Zeit in aller Munde. Hier haben Sie die Möglichkeit, Forth einmal praktisch zu erleben.
Forth ist eine derjüngsten Programmiersprachen. Sie wurde 1969 von Charles Moore am National Radio Astronomy Observatory in den USA entwickelt. Der Name der Sprache lautete eigentlich Fourth (das Vierte), aber der IBM-Computer, auf dem Forth entwickelt wurde, ließ nur fünf Buchstaben als Namensangabe zu, so entstand »Forth«.
Forth ist eine der schnellsten Programmiersprachen, die es gibt. Vor allem auf Heimcomputern wird es deshalb gerne eingesetzt. Dazu kommt, daß Forth nicht viel Speicherplatz beansprucht. Die Sprache besteht nicht nur aus einem Compiler, sondern auch aus einem Interpreter; beide arbeiten Hand in Hand.
Die wohl auffälligste Eigenart von Fbrth ist die Art und Weise, in der Forth rechnet. Es ist die sogenannte »UPN« (Umgekehrte Polnische Notation), auch Postfix-Notation genannt. Sie ist es unter anderem, die Forth die Geschwindigkeit verleiht (10 bis 20 mal so schnell wie Basic). Doch was bedeutet UPN?
Ein Beispiel: Sie wollen das Ergebnis von 8 + 5 auf dem Bildschirm ausgeben. In Basic sähe das dann so aus: »PRINT 8 + 5«. In Fbrth schreibt sich das etwas anders: »5 8 + .«. Scheinbar verwirrend, aber nur auf den ersten Blick. Denn das Prinzip ist einfach. Im Mittelpunkt von Fbrth steht der Stack (Stapel). Man stelle sich einen Stapel Papier vor, auf den man Blätter obenauf legen kann und auch nur von oben wieder nehmen kann. Das bedeutet, das Blatt, welches Sie zuletzt draufgelegt haben, wird als erstes wieder heruntergenommen. Man nennt dieses System auch »UFO« (Last In — First Out). Doch wie kann man damit rechnen? Kommen wir wieder zu unserem Beispiel zurück. Der Computer legt als erstes die Zahl 5 auf den Stack. Der TOS (Top of Stack) hat jetzt den Wert 5. Dann folgt die »8« nach dem gleichen Verfahren. Darauf addiert der Computer die zwei obersten Zahlen und legt das Ergebnis auf den Stack, dafür ist »+« verantwortlich. Jetzt haben wir zwar das Ergebnis auf dem Stack, können es aber nicht sehen. Für die Ausgabe von 16 Bitzahlen ist der Befehl».« zuständig. Damit wird immer der jeweilige Wert des TOS ausgegeben.
Diese Art des Rechnens mittels UPN mag für Menschen sehr gewöhnungsbedürftig sein, für den Computer ist sie ideal. Doch Forth besitzt neben seiner Geschwindigkeit auch noch weitere Vorteile:
— In Forth können Sie Ihre eigenen Befehle definieren. Es gibt dann in der Benutzung keinen Unterschied mehr zwischen den vordefinierten und Ihren eigenen Befehlen.
— Förth besteht nicht nur aus einem Compiler, sondern auch aus einem Interpreter. Dies gibt Ihnen die Möglichkeit, selbstentwickelte Befehle sofort zu testen.
— Eine sehr hohe Geschwindigkeit beim Compilieren (1 Pass-Compiler)
— Strukturierte Programmierung ohne GOTO
Sie sehen also, Forth ist eine Sprache, mit der zu beschäftigen sich lohnt.
Die folgende Anleitung zur Handhabung des Förth-Compi-lers kann natürlich kein Lehrbuch ersetzen. Falls Sie mit Förth noch keinerlei Erfahrungen haben, finden Sie im Anhang eine Übersicht über Forth-Literatur. Doch nun zur Beschreibung unseres Tiny-Forth-Compilers.
Die folgenden Befehle haben so gut wie alle einen Einfluß auf den Stack. Deshalb wird eine verkürzte Schreibweise verwendet, um das Verhalten der einzelnen Befehle darzustellen: »(Stack vorher - - - Stack nachher) «.
Die verwendeten Symbole haben folgende Bedeutung: n = 16-Bit-Zahl, b = 8-Bit-Zahl, c = ASCII, addr = Adresse, f = Flag (0/1).
Die einzelnen Befehle des Tiny-Förth-Compilers sind in Tabelle 1 noch einmal übersichtlich dargestellt. Im folgenden werden die Befehle genauer beschrieben:
Arithmetikbefehle
Addition »+« (n2 n1 — n3)
Der Additionsbefehl holt die ersten beiden Argumente (n1 ,n2) vom Stack, addiert sie miteinander und legt das Ergebnis (n3) in den TOS (Top of Stack).
Subtraktion »-« (n2 n1 — n3)
Der Subtraktionsbefehl holt, wie bei der Addition, die ersten zwei Argumente (n1,n2) vom Stack, das Ergebnis (n3) wird wieder im TOS abgelegt.
Multiplikation »*« (n2 n1 — n3)
Die Multiplikation verhält sich analog zur Addition und Subtraktion.
Division »/« (n2 n1 — n3)
Analog zu Multiplikation.
Modulo »MOD« (n2 n1 - - - n3)
Ähnlich einer Division, es wird aber nicht das Ergebnis der Division, sondern der Divisionsrest auf den Stack gelegt. Vergleichsbefehle
Gleich »=« (n2 n1 — f1)
Es werden die zwei obersten Werte auf Gleichheit geprüft. Größer »<« (n2 n1 - - - f1)
Es wird geprüft, ob n2 größer als n1 ist.
Kleiner »>« (n2 n1 - - - f1)
Es wird geprüft, ob n2 kleiner als n1 ist.
Logische Verknüpfungen
AND (n2 n1 - - - n3)
Zwischen den Werten n1 und n2 wird eine logische UND-Operation ausgeführt.
OR = (n2 n1 - - - n3)
Es wird ein logisches ODER ausgeführt.
XOR (n2 n1 - - - n3)
Es wird ein logisches exklusives ODER ausgeführt.
NOT (f1 - - - f2)
Das oben liegende Flag wird invertiert.
Stackoperatoren
DROP (n2 n1 - - - n2)
Der oberste Wert wird vom Stack entfernt.
DUP (n1 - - - n1 n1)
Der oberste Wert auf dem Stack wird dupliziert.
SWAP (n2 n1 - - - n1 n2)
Die obersten beiden Werte werden vertauscht.
OVER (n2 n1 - - - n2 n1 n2)
Kopiert den zweiten Wert zum neuen TOS.
PICK (n1 n - - - n1 n2)
Pick holt den n-ten Wert in den TOS.
ROT (n3 n2 n1 - - - n2 n1 n3)
Rot läßt die ersten drei Elemente des Stack gegen den Uhrzeigersinn rotieren.
@ (addr - - - n1)
Holt eine 16-Bit-Zahl aus der Adresse addr.
! (n1 addr - - -)
Speichert eine 16-Bit-Zahl in der Adresse addr.
c@ (addr - - - b1)
116

C 64
Hilfsprogramm
Holt eine 8-Bit-Zahl aus der Adresse addr.
c! (b1 addr - - -)
Speichert eine 8-Bit-Zahl in der Adresse addr.
Kontrollstrukturen
BEGIN — UNTIL (f - - -)
Der Programmteil zwischen BEGIN und UNTILwird so lange ausgeführt, bis der TOS bei UNTIL ungleich Null ist.
BEGIN — WHILE — REPEAT (f - - -)
Der Programmteil zwischen BEGIN und REPEAT wird so lange ausgeführt, wie der TOS bei WHILE ungleich Null ist.
IF — ENDIF (f - - -)
Der Programmteil zwischen IF und ENDIF wird nur dann ausgeführt, wenn der TOS bei IF ungleich Null ist.
IF — ELSE —ENDIF (f - - -)
Bei erfüllter Bedingung wird der Programmteil zwischen IF und ELSE ausgeführt, bei nichterfüllter Bedingung der zwischen ELSE und ENDIF.
Schleifen
DO (n2 n1 - - -)
DO legt die Argumente n1 (Endwert), n2 (Startwert) auf den Returnstack und leitet eine Schleife ein.
LOOP (- - -)
LOOP erhöht den Schleifen-Zähler um 1, ist der Endwert nicht erreicht, wird wieder zu dem auf DO folgenden Befehl gesprungen.
I (- - - n)
Der Befehl I legt den Wert des Schleifenzählers auf den TOS. +LOOP (n - - -)
+LOOP erhöht den Schleifenzähler um n, weiter wie LOOP.
Ein-/Ausgabeoperatoren
KEY (- - - c)
Holt den ASCII-Wert, der gerade gedrückten Taste in den TOS, ist keine Taste gedrückt, so wird eine 0 in den TOS gelegt.
GET (- - - c)
Wartet, bis eine Taste gedrückt wird und legt dann ihren ASCII-Wert in den TOS.
EXPECT (addr n - - -)
Erwartet eine Eingabe, die mit Return abgeschlossen wird, und legt sie bei addr mit einer maximalen Länge n im Speicher ab. Als Abschlußzeichen wird eine 13 in den Speicher gesetzt. EMIT (c - - -)
EMIT gibt den auf dem TOS liegenden ASCII-Wert auf dem Bildschirm aus.
TYPE (addr n - - -)
TYPE gibt n Zeichen, welche ab addr im Speicher stehen, auf dem Bildschirm aus.
CR (- - -)
CR bewirkt einen Zeilenvorschub.
CLS (- - -)
Löscht den Bildschirm.
.’’TEXT’ (- - -)
Gibt den Text zwischen ».”« und »”« aus (funktioniert nur in compilierter Form).
Definitionsbefehle
n CONSTANT (Name) (n - - -)
CONSTANT definiert eine Konstante mit dem Wert n und dem Namen (Name). Wird (Name) im Programm aufgerufen, so wird n auf den TOS gelegt.
n VARIABLE (Name) (n - - -)
VARIABLE definiert eine Variable mit dem Wert n und dem Namen (Name). Wird (Name) im Programm aufgerufen, so wird die Adresse der Varible auf den Stack gelegt. Ein Wert wird mit @ (lies: Fetch) auf den TOS geholt und mit! (lies: Store) an eine Variable übergeben.
n MEMORY (Name) (n - - -)
MEMORY definiert einen Speicherbereich mit dem Namen (Name) und der Länge n. Wird (Name) im Programm aufgeru-
fen, so wird die Adresse des Speicherbereichs übergeben. In Adresse-2 ist die Länge zu finden und kann mit @ ausgelesen werden. MEMORY ist kein Standardwort!
: (Name)...; (—)
Der Doppelpunkt definiert ein neues Forth-Wort mit dem Namen (Name). Die Definition muß mit »;« abgeschlossen werden.
Systembefehle
BASIC: Kehrt zum Basic zurück.
RESET: Kehrt zum Ausgangszustand zurück.
LIST n: Listet Screen n auf dem Drucker oder dem Bildschirm. CLEAR n: Löscht SCREEN n auf der Diskette.
LOAD n: Compiliert Screen n in das Vocabulary.
FORGET (Name): Löscht das Wort (Name) aus dem Vocabulary.
VLIST: Listet das Vocabulary.
SAVE-SYSTEM (Name): Speichert den Objektcode und Vocabulary-Einträge aller selbstdefinierten Befehle auf Diskette.
LOAD-SYSTEM (Name): Lädt den Objektcode und die Vocabulary-Einträge wieder. Das System muß vorher mit RESET wieder in den Ausgangszustand gebracht werden und in Zeile 380 muß die Variable VOC denselben Wert wie beim Speichern haben, da sonst die Sprungadressen im Objektcode nicht stimmen.
EDIT n: Ruft den Bildschirmeditor auf, n ist die Nummer des Screens.
Spezialbefehle
CALL (addr - - -)
Ruft ein Maschinenprogramm mit der Adresse addr auf. Es können, wie bei SYS in Basic, in den Speicherzellen 780 das A-, 781 das X-, 782 das Y-Register mit übergeben werden. R) (- - - n)
Bringt das oberste Element des Return-Stacks auf den Stack.
) R (n - - -)
Bringt das oberste Element des Stacks auf den Return-Stack.
;S (- - -)
Dieser Befehl sorgt für den vorzeitigen Abbruch des aktuellen Befehls.
Das Programm
Das Programm (Listing 1) wurde mit Absicht sehr flexibel gehalten. Nach oder während des Abtippens können Sie einige Dinge nach Ihrem eigenen Ermessen ändern. So zum Beispiel die Startadresse des Objektcodes in Zeile 380; die Variable VOC enthält den Startwert. Allerdings sollten Sie nicht unter VOC=5 * 4096 gehen, da sonst eine Kollision mit dem String-Bereich möglich ist. Dies macht sich durch eine »OUT OF ME-MORY<<-Meldung oder durch einen Systemabsturz bemerkbar. Das Programm kann nur mit 16-Bit-Zahlen arbeiten und umfaßt nicht den gesamten Forth-Standard. Das Programm bestehtaus einem Compiler, der in den Zeilen 1540 bis 2610, und einem Interpreter, der in den Zeilen 700 bis 1530 steht. Der Interpreter ist nicht in der Lage, alle Befehle auszuführen. Um Ihnen zu helfen, welche Befehle interpretierbar sind und welche nicht, sind nur die interpretierbaren im Vocabulary aufgeführt. Andere Befehle wie VARIABLE, MEMORY etc., kurzum alle Definitionsbefehle, dürfen nicht im Compilermodus angewendet werden.
Programmieren in Forth
Nach dem Starten des Programms wird zuerst das Maschinenprogramm »VOCABULARY« (Listing 2) in den Bereich 49152 bis 50160 geladen. Nach etwa einer Sekunde er-

117
Hilfsprogramm
C 64
scheint ein blinkender Cursor; jetzt können Sie Ihre Eingaben machen. Sie befinden sich im Interpretermodus, das heißt alle eingegebenen Befehle werden sofort ausgeführt. Daß dies im Interpretermodus so langsam geht, liegt nur daran, daß der Interpreter in Basic geschrieben ist; compilierte Befehle laufen dagegen etwa 10- bis 20mal so schnell wie Basic (sie werden vollkommen in Maschinensprache übersetzt). Vielleicht geben Sie mal das folgende Beispiel ein: »8 5 + .« (RETURN). Sie müßten jetzt 13 auf dem Bildschirm erhalten; wenn nicht, dann müssen Sie irgendwo im Programm einen Fehler gemacht haben. Sie können auch Kommentare einfügen, sie werden mit einer»(« begonnen und mit»)« abgeschlossen. Jeder Befehl wird durch ein Leerzeichen (oder Return) vom anderen getrennt.
Doch wie definiert man einen neuen Befehl? Diese Frage wird Ihnen sicher schon lange auf den Lippen brennen. Doch auch hier macht es Ihnen Forth sehr einfach. Um die Definition eines neuen Befehls einzuleiten wird »:« benutzt, gefolgt von dem Namen des neuen Befehls (bitte vergessen Sie nicht das Leerzeichen hinterjedem Befehl.) Dannfolgen die Befehle, die in das Wort compiliert werden sollen. Ein »;« beendet die Definition. Danach ist der Befehl wie jeder andere Befehl benutzbar. Auf Fehler reagiert der Compiler, indem er die Compilation abbricht. Danach sollte man den Befehl mit FORGET löschen, da sonst das Programm abstürzt, wenn Sie den Befehl aufrufen.
Der Editor
Nun ist es ziemlich zeitaufwendig, wenn man bei jedem Fehler den Befehl neu eingeben muß, deshalb bietet Forth einen zweiten Editor. Es ist ein Bildschirmeditor, welcher mit dem Systembefehl »EDIT n« aufgerufen wird, n bezeichnet hier die Nummer des Screens, der editiert werden soll. Ein Screen ist einfach eine Bildschirmseite, auf der der zu compilierende Sourcecode steht.
Geben Sie einmal »EDIT 1« ein. Das System versucht nun, Screen 1 von der Diskette zu laden. Ist der Screen nicht auf Diskette vorhanden, so wird trotzdem in den Editor gesprungen, nur daß der Screen leer ist. Nachdem sich das System im Editor befindet, sehen Sie links die Zeilennummern von 0 bis 23 mit folgendem Doppelpunkt (dieser Doppelpunkt hat keine Bedeutung). Sie können nun mit dem Cursor hinter den Doppelpunkt fahren und eine Zeile eingeben. Jede Zeile muß mit RETURN abgeschlossen werden. Eine Zeile darf nicht länger als 35 Zeichen sein. Geben Sie doch einmal das vorherige Beispiel ein. Die Nummer am Anfang jeder Zeile entspricht in etwa einer Zeilennummer in Basic.
Um nun den Editor zu verlassen, gibt es zwei Möglichkeiten, einmal mit »e«, damit der Screen n abgespeichert wird und mit »s«, so wird der Editor ohne Änderung des Screens verlassen. Die Buchstaben müssen in der ersten Spalte einer Zeile stehen, also dort, wo die Zeilennummer steht. Es gibt noch mehr dieser Editorbefehle (siehe Tabelle 4). Zum Einfügen von Zeilen benützen Sie »I Zeile Anzahl«, mit »D Zeile Anzahl« löschen Sie Zeilen. Mit »L« listen Sie den Screen noch einmal, das ist dann von Nutzen, wenn Sie versehentlich die CLR-Taste betätigt haben. Mit »N Nummer« ändern Sie die Nummer eines Screens. Das Compilieren eines Screens geschieht mit LOAD n. Soll der nächste Screen (n+1) auch noch compiliert werden, so muß in der letzten Zeile des Screens n der Befehl »- > « vorhanden sein. Experimentieren Sie doch mal ein bißchen mit dem Editor.
In den Listings 3 bis 7 finden Sie einige selbstdefinierte Befehle. Die Befehle J und LEAVE in Listing 4 möchte ich näher erklären. J gibt den Schleifenwert der zweitinnersten Schleife aus. Die Befehle R > und > R manipulieren den Returnstack (der Returnstack funktioniert genauso wie der normale Stack).
Hier werden Werte für Schleifen zwischengespeichert und zwar im Format Endwert, Zähler. R > holt den obersten Wert des Returnstacks auf den Stack, > R tut das Gegenteil. Die 704 ist nur Zwischenspeicher. LEAVE schließt eine Schleife vorzeitig ab, indem Endwert und Zähler gleichgesetzt werden.
Viel Spaß beim Programmieren in Forth.
(Alexander Schindowski/ev)
1) Rechenoperationen:
1.1) + 1-2)-1.3) * 1.4)/ 1.5) MOD	(n2 n1 - - - n3) (n2 n1 - - - n3) (n2 n1 - - - n3) (n2 n1 - - - n3) (n2 n1 - - - n3)
2)	Vergleichsoperatoren: 2.1)	=	(n2 n1 - - - f)
2.2) >	(n2 n1 - - - f)
2.3)<	(n2 n1 - - - f)
3) Logische Verknüpfungen:	
3.1) AND	(n2 n1 - - - n3)
3.2) OR	(n2 n1 — n3)
3.3) NOT	(f1 - - - f2)
3.4) XOR	(n2 n1 - - - n3)
4) Stackoperatoren: 4.0) DROP	(n1 - - -)
4.1) DUP	(n1 - - - n1 n1)
4.2) SWAP	(n2 n1 - - - n1 n2)
4.3) OVER	(n2 n1 - - - n2 n1 n2)
4.4) PICK	(n1 n — n1 n2)
4.5) ROT	(n3 n2 n1 — n2 n1 n3)
4.6) @	(addr- - - n1)
4.7) !	(n1 addr —)
4.8) c@	(addr-- - b1)
4.9) c!	(b1 addr - - -)
5)	Kontrollstrukturen: 5.1)	BEGIN - UNTIL	(f - - -)
5.2) BEGIN — WHILE -	- REPRAT (f - - -)
5.3) IF — ENDIF	(f - - -)
5.4) IF — ELSE - ENDIF	(f - - -)	
6)	Definitionsworte: 6.1)	VARIABLE	(n - - -)
6.2) CONSTANT	(n - - -)
6.3) MEMORY	(n - - -)
6.4) : ... ; 7) Ein-/Ausgabe: 7.1) EXPECT	(addr n —)
7.2) TYPE	(addr n —)
7.3) KEY	(■ - - C)
7.4) GET	(■ - - C)
7.5) EMIT	(C - - -)
7.6)	(---)
7.7) •	(n - - -)
7.8) CR	(---)
7.9) CLS	(---)
8) Schleifen: 8.1) DO	(n2 n1 - ■ -)
8.2) LOOP	(-■■)
8.3) +LOOP	(n - - -)
8.4) I	(■ - - n)
9)	Sonstige Befehle: 9.1)	call	(addr —)
9.2) >R	(n - - ■)
9.3) R>	(■ - - n)
9.4) DEPTH	(- - - n)
Tabelle 1. Der Befehlssatz des TinyFbrth-Compilers
118
M&T Forth64
Jetzt neu!
Die moderne Programmiersprache Forth jetzt als vollständige Implementierung für den Commodore64 (auf Diskette).
Eine 100seitige Anleitung, wie man diese erweiterbare, strukturierte und schnelle Sprache bestens in den Griff bekommt.
Leistungsbeschreibung von M&T Forth 64:
•	vollständiges Grundvokabular des FIG-FORTH-Standards
•	Zusatzbefehle für Sound, Grafik und Peripheriebedienung
•	mit Forth-Assembler für die Programmierung in Maschinensprache
•	mit Editor zum Erfassen der Quelltexte auf Screens
•	mit Monitor, der Sie in die Geheimnisse von Forth einführt und
•	280 Befehlsworten
Minimale Hardwareanforderungen:
•	Commodore64
•	Diskettenlaufwerk 1541
DM 98,— *
Sfr. 90,20/öS 764,40
*	inkl. MwSt.
unverbindliche Preisempfehlung
Best.-Nr. MD 242 A
ISBN 3-89090-1204
M&T-Programme:
Ihre ganz persönlichen Problemlösungen
Ate Ergänzung empfehlen wir Ihnen unsere Bücher über Forth:
R M. Chirlion
Der Einstieg in Forth
November 1984, 337 Seiten
Editieren von Programmen • Fehlersuche und -korrektur ■ Diskettenoperationen • Zahlentypen • Grundlagen des strukturierten Programmierens • der FORTH-Standard • FORTH-79und Erweiterungen • mitausführ-lichem Glossar • FORTH—die Sprache für alle, die mehr aus ihrem Computer rausholen wollen!
Best.-Nr. MT 786 ISBN: 3-89090-085-2 (Sfr. 53,40/öS 452,40)
DM 58,-
Die angegebenen Preise sind Ladenpreise.
K. Knecht
Einführung in Forth
Februar 1984, 218 Seiten
Ausführliche Informationen über die MMS Forth-Version der Computersprache Forth • syntaktische Grundlagen • zahlreiche Programmierbeispiele - der richtige Einstieg in das Programmieren mit Forth.
Best.-Nr. MT 635 ISBN: 3-922120-73-3 (Sfr. 53,40/öS 452,40)
DM 58,-
Markt&Technik-Produkte erhalten Sie bei Ihrem Buchhändler.
Bestellkarten bitte an Ihren Buchhändler oder an eine unserer Depotbuchhandlungen. Adressenverzeichnis am Ende des Heftes! Beim Markt & Technik-Verlag eingehende Bestellungen werden von den Depot-Händlern ausgeliefert.
MartÄhnik
Verlag AktiengeseUschaft
Unternehmensbereich Buchverlag
Hans-Pinsel-Straße 2, 8013 Haar bei München Schweiz: Markt&TechnikVertriebs AG, Kollerstraße 3, CH-6300 Zug, ® 0 42/22 31 55 Österreich: Rudolf Lechner & Sohn, Heizwerkstraße 10, A-1232 Wien, ® 02 22/67 75 26
Hilfsprogramm
C 64
programm : vocabulary	c006 c3ea
c006 : a9 93 4c d2 ff 20 3f c0 66 c00e : 85 62 86 63 a2 90 a5 62 dc c016 : 30 09 a9 20 20 d2 ff 38 42 c01e : 4c d4 bd a9 2d 20 d2 ff 98 c026 : 18 4c d4 bd 85 fe 86 fd b7 c02e : a6 02 a5 fe 9d 00 cf e8 09 c036 : a5 fd 9d 00 cf e8 86 02 a4 c03e : 60 a6 02 ca bd 00 cf 85 fl c046 : fd ca bd 00 cf 85 fe 86 4a c04e : 02 a5 fe a6 fd 60 4c 3f 4a c056 : c0 20 3f c0 20 2a c0 4c fd c05e : 2e c0 20 3f c0 8d 00 c0 d6 c066 : 8e 01 c0 20 3f c0 8d 02 dd c06e : c0 8e 03 c0 ad 00 c0 ae 89 c076 : 01 c0 20 2a c0 ad 02 c0 28 c07e : ae 03 c0 4c 2a c0 c6 02 2f c086 : c6 02 20 3f c0 e6 02 e6 56 c08e : 02 e6 02 e6 02 4c 2a c0 0d c096 : a6 fc ca bd 00 ce 85 fd ad c09e : ca bd 00 ce 85 fe 86 fc 85 c0a6 : a5 fe a6 fd 60 85 fe 86 6f c0ae : fd a6 fc a5 fe 9d 00 ce 6d c0b6 : eB a5 fd 9d 00 ce e8 86 cb c0be : fc 60 38 ad 00 c0 ed 02 70 c0c6 : c0 8d 04 c0 ad 01 c0 ed 28 c0ce : 03 c0 8d 05 c0 60 18 ad 00 c0d6 : 00 c0 6d 02 c0 8d 04 c0 dc c0de : ad 01 c0 6d 03 c0 Bd 05 60 c0e6 : c0 60 a9 0d 4c d2 ff 20 7e c0ee : 3f c0 8e 00 c0 8d 01 c0 2f c0f6 : 20 3f c0 8e 02 c0 8d 03 la c0fe : c0 4c c0 c0 20 ed c0 ad fc cl06 : 04 c0 0d 05 c0 f0 06 a9 4d cl0e : 00 aa 4c 2a c0 a9 00 a2 5a cll6 : 01 4c 2a c0 20 ed c0 30 b5 clle : 06 a9 00 aa 4c 2a c0 a9 bb cl26 : 00 a2 01 4c 2a c0 20 60 2b cl2e : c0 4c la cl 20 3f c0 05 dc cl36 : fd f0 06 a9 00 aa 4c 2a 3d cl3e : c0 a9 00 a2 01 4c 2a c0 c4 cl46 : 20 3f c0 8e 00 c0 8d 01 46 cl4e : c0 20 3f c0 8e 02 c0 8d ld cl56 : 03 c0 60 20 46 cl ad 00 ff cl5e : c0 2d 02 c0 85 fd ad 01 4e cl66 : c0 2d 03 c0 85 fe 4c 2e 74 cl6e : c0 20 46 cl ad 00 c0 0d 00 cl76 : 02 c0 85 fd ad 01 c0 0d f9 cl7e : 03 c0 85 fe 4c 2e c0 20 9c cl86 : 46 cl ad 00 c0 4d 02 c0 18 cl8e : 85 fd ad 01 c0 4d 03 c0 al cl96 : 85 fe 4c 2e c0 20 46 cl ld cl9e i 20 d4 c0 ae 04 c0 ad 05 35 cla6 : c0 4c 2a c0 20 60 c0 20 77 clae : 46 cl 20 c0 c0 ae 04 c0 08 clb6 : ad 05 c0 4c 2a c0 20 46 55 clbe : cl a0 00 8c 04 c0 8c 05 e3 clc‘6 : c0 a0 10 0e 04 c0 2e 05 a5 clce : c0 2e 02 c0 2e 03 c0 90 5d cld6 : ld 18 ad 04 c0 6d 00 c0 e4 clde : 8d 04 c0 ad 05 c0 6d 01 61 cle6 : c0 8d 05 c0 90 08 ee 02 cf clee : c0 d0 03 ee 03 c0 88 d0 af
ad 05 c0 4c d7 cl a0 10 a9 0e
8d 05 c0 2e 46 c0 2e 04 c0 6b ad 04 c0 ed d8 05 c0 ed 01 ef 05 c0 8e 04 fa 2e 02 c0 2e 34 00 c2 ae 02 8a 4c 2a c0 20	07
c0 ad 05 c0 e2 96 c0 4c 2a d8 4c ab c0 20	74
c2 4c 57 c2 83 fc e6 fc 60	78
57 c0 20 51 8a 20 ed c0 30 4d 20 54 c0 38 dc fc 20 9b cl 38 60 a9 00 a2 a6 4c 6e c2 20 cd e6 02 a5 fe 4a c2 20 57 c0 58 7a c2 20 3f 6e 02 38 60 18 2a 8a 4c d2 ff 6d ff f0 04 e0 da 00 a9 00 4c ee c2 20 57 c0 4d 06 20 54 c0 53 86 fd 85 fe c7 f0 06 20 d2 20 60 20 3f c0 f2 c0 a0 00 bl e4 c8 c4 f7 d0 fc c0 86 f9 20 8d 85 f8 a2 00	00
ff 91 f7 c9 c0 c8 c4 f9 d0 86 4a aa a9 00 9a 3f c0 86 f7 cf c0 a0 01 91	68
f7 60 20 3f 58 f8 20 3f c0 0f f7 60 20 3f 4d f8 a0 00 bl 08 f7 4c 2a c0 27 f7 85 f8 a0 ff a9 00 4c 2a c2 ad 0c 03 ae db 03 6c fd 00 8d 02 8c 00 c0 19 20 3f c0 ac lf 4c 2a c0 20 b9 c0 8d 01 c0 e7 02 c0 8d 03 d2 8e 04 c0 8d 95 c0 ad 03 c0 16 00 c0 ad 01 c0 ae 04 c0 ad aa c0 20 fd ae f6 01 85 b9 a9 8c
00 00 00 00	82
clf6 : d2 ae 04 c0 clfe : 2a c0 20 46
c206 : 00 8d 04 c0 c20e : 02 c0 2e 03 c216 : 2e 05 c0 38 c21e : 00 c0 aa ad c226 : c0 90 06 8d c22e : c0 88 d0 db c236 : 03 c0 60 20 c23e : c0 ad 03 c0 c246 : 00 c2 ae 04 c24e : 4c 2a c0 20 c256 : c0 20 3f c0 c25e : 60 c0 20 57 c266 : 20 51 c2 e6 c26e : 20 51 c2 20 c276 : c2 20 60 c0 c27e : 08 20 54 c0 c286 : 60 e6 fc e6 c28e : 20 57 c2 18 c296 : 01 20 2a c0 c29e : 3f c0 e6 02 c2a6 : 10 c6 20 51 c2ae : 20 51 c2 4c c2b6 : c0 05 fd f0 c2be : 60 20 3f c0 c2c6 : 20 87 ea e0 c2ce : 0d b0 02 a2 c2d6 : 2a c0 20 c6 c2de : 20 b4 c2 b0 c2e6 ; 4c d8 c2 60 c2ee : a0 00 bl fd c2f6 : ff c8 d0 f6 c2fe : 86 f7 20 3f c306 : fd 20 d2 ff c30e : f6 60 20 3f c316 : 3f c0 86 f7 c31e : a0 00 20 cf c326 : 0d f0 06 e8 c32e : fl 60 a5 02 c336 : 4c 2a c0 20 c33e : 85 f8 20 3f c346 : f7 8a 88 91 c34e : c0 86 f7 85 c356 : a0 00 8a 91 c35e : c0 B6 f7 85 c366 : f7 aa c8 bl c36e : 20 3f c0 86 c376 = 00 bl f7 aa c37e : c0 20 3f c0 c386 : 0d 03 ac 0e c38e : 20 3f c0 a4 c396 : 8a 0a 85 02 c39e : 00 c0 84 02 c3a6 : 3f c0 8e 00 c3ae : 20 3f c0 8e c3b6 : c0 20 3f c0 c3be : 05 c0 ae 02 c3c6 : 20 2a c0 ae c3ce : c0 20 2a c0 c3d6 : 05 c0 4c 2a c3de : 20 d4 el a9 c3e6 : 00 4c d5 ff
0: ( *** Zusatz—Befehle 0 *** ) 1:
2:
3:	( Processor-Register )
4:
5:	780 constant a-reg
6:	781 constant x—reg
7:	782 constant y—reg
8:	(---------------------  )
9:
10:	( Die folgenden Befehle ) 11:
12:	( sollen zeigen,dass es )
13:
14:	( mit dem recht beschei- ) 15:
16:	( denen Grundvokabular )
17:
18:	( moeglich ist,doch ein ) 19:
20:	( sinnvolles,zweckmaess- )
21:
22:	( iges zu erstellen. )
Listing 3. Zusatz-Befehle, Screen 0
0:( *** zusatz-befehle 1 ***) 1:
3:	(	2. Schleifenindex )
4:
5:	: j
6:	r > r >	r >
7:	dup 704 ‘
8:	>r >r	>r
9:	704 !ä
10:	;
14:	( Verlasse Schleife )
15:
16:	: leave
17:	r> r>
18:	drop dup
19:	>r >r
20:	;
21 :
Listing 2. Maschinenspracheteil von Fbrth (Bitte beachten Sie die Eingabehinweise auf Seite 18)
Listing 4. Zusatz-Befehle, Screen 1
0:	( *** Zusatz—Befehle 2 *** )
1	:
3:	( open (addr 1 log nr sec —) ) 4:
5:	: open
6:	185 c! 186	c!	184 c!
7:	183 c! 187	!
8:	65472 call
9:	;
10:
11:
12:
X3: ( close (log —) )
14:
15:	: close
16:	cr 65484 call
17:	a-reg c!
18:	65475 call
19:	;
20:
21:
23: —>
Listing 5. Zusatz-Befehle, Screen 2
0: ( *** Zusatz-Befehele 3 *** ) 1:
3:	( Ausgabe auf File (log —) )
4:
5:	: out
6:	x-reg c ‘
7:	65481 call
8:	;
9:
10:
11 :
12:	( Eingabe von File (log —) )
13:
14:	: in
15:	x-reg c!
16:	65478 call
17:	;
18:
19:
20:
21:
22:
23: —>
Listing 6. Zusatz-Befehle, Screen 3
0-	( *** Zusatz—Befehle 4 *** )
1:
2:
3: ( Ausgabe auf Drucker )
4:
Listing 7. Zusatz-Befehle, Screen 4
120

C 64
Hilfsprogramm
A,X,I,Z Lauf- und Hilfsvariablen VOC	Vocabulary-Zeiger BE	Beginn des Vocabulary SP	Zeiger für Compilerstack AN	Anzahl der Vocabulary-Einträge ZE$	Eingabezeile BE$	Einzelner Befehl COMP	Flag für Compilation AD	Adressen-Zwischenspeicher OK	Zahlenumwandlung geglückt? A$	Hilfsvariable WO$(X)	Wörterverzeichnis AD(X)	Startadressen-Verzeichnis BLOCK	Flag für Compilation von Diskette Z1	Zeilenzähler XX	Umgewandelte Zahl X	Top of Stack (TOS) Tabelle 2. Variablenübersicht zum Tiny-Forth-Compiler		330 :	<052> 340 IF A=0 THEN A=l;L0AD"V0CABULARY",8,l <086> 350 DEF FN H(X)=(INT(X/256))	<191> 360 DEF FN L(X)=(X-256*FN H(X))	<030> 370 POKE 53272,23:PRINT"<CLR,LIG.BLUE>";CH R$(8);	<131> 380 VOC=6*4096:BE=VOC:SP=0:Zl=0	<155> 390 POKE 55,FN L(BE):POKE 56,FN H(BE)	<236> 395 DIM ST(20),SC$(24),WO$(100),AD(100)	<114> 400 PRINT TAB(14);"FDRTH-COMPILER"	<018> 410 PRINT TAB(17);"FUER DEN"	<115> 420 PRINT TAB(15);"&0MM0D0RE-64"	<086> 430 PRINT"	 	";	<156> 440 PRINT"{5SPACE}.yDN fiLEXANDER äCHINDOWSK I 1985<8D0WN}"	<092> 450 DATA	38	<238> 460 DATA	"+",49563	<028> 470 DATA	"CLS",49158,"DEPTH",49968	<242> 480 DATA	"@",50012,"DROP",49236	<176> 490 DATA	"EMIT",49855,"EXPECT",49936	<206> 500 DATA	"=",49410,"I",49766	<250> 510 DATA	"KEY",49880	<164> 520 DATA	"+L00P",49821,"M0D",49733	<091>
		
BASIC	Zurück zu Basic RESET	Zurück in Ausgangsstellung VLIST	Listet das Vocabulary FORGET	Lösche ein Wort FLOPPY	Gibt einen Befehl an die	Floppy SAVE-SYSTEM	Speichert das Vocabulary ab LOAD-SYSTEM Lädt das Vocabulary LIST n	Listet eine Screen LOAD n	Compiliert eine Screen CLEAR n	Löscht eine Screen EDIT n	Ruft den Editor auf Tabelle 3. Forth^ystembefehie		530 DATA	"N0T",49458,"0VER",49284	<027> 540 DATA	".",49163,"-",49578	<147> 550 DATA	"SWAP",49248,"7R",49751	<128> 560 DATA	"AND",49497,"CR",49384	<086 > 570 DATA	"/",49721,"D0",49757,'"!",49977	<084> 580 DATA	"DUP",49239,"X0R",49541	<015> 590 DATA	"GET",49862,">",49434	<131> 600 DATA	"<",49452,"L00P",49811	<134> 610 DATA	"*",49596,"0R",49519	<164> 620 DATA	"C@",50030,"C!",49996	<225> 630 DATA	"R>",49745,"TYPE",49915	<188> 640 DATA	"PICK",50062,"CALL",50047,"ROT",5 0085	<056> 650 READ	AN	<154> 660 FOR 1=1	TO	AN	<080> 670 READ	WO$(I),AD(I)	<061>
		680 NEXT I:POKE 2,0:POKE 252,0	<134> 690 GOSUB 3830	<122> 693 :	<161> 695 REM **************************	<227> 700 REM *** BEFEHLS-AUSWERTUNG ***	<130> 705 REM **************************	<237> 708 :	<176> 710 GOSUB 2630	<102> 715 :	<183> 720 IF BE$=":" THEN 1540	<051> 725 :	<193> 730 FOR I=AN TO 1 STEP -1	<033> 740 IF BE$=WO$(I) THEN 760	<118> 750 NEXT I:GOTO 770	<178> 760 SYS AD(I):GOTO 700	<092> 765 :	<233> 770 GOSUB 3030	<076> 780 IF OK=0 THEN 830	<001> 790 POKE 781,FN L(XX)	<010> 800 POKE 780,FN H(XX)	<102> 810 SYS 49194	<108> 820 GOTO 700	<034> 825 :	<039>
E	Beendet das Editieren und speichert die Screens ab S	Beendet das Editieren L	Listet die Screens I (z,a)	Fügt Zeile(n) ein D (z,a)	Löscht Zeile(n) N (x)	Ändert die Screen-Nummer Tabelle 4. Befehle des Forth-Editors		
lnfo: Literatur zu Fbrth: — Paul M. Chirlien, Der Einstieg in Forth, Markt & Technik 1985, 338 Seiten, 58 Mark. — E. Floegel, Forth-Handbuch, Ing. W. Hofacker Verlag 1983, 192 Seiten, 39 Mark. — Monadjemi, Das Trainingsbuch zu Forth, Data Becker 1985, 300 Seiten, 39 Mark. — Ronald Zech, Die Programmiersprache Forth, Franzis-Verlag 1984, 312 Seiten, 69 Mark. — Weitere Literatur mit Informationen über Forth sind zu beziehen über die deutsche Sektion der Fbrth Interest Group (FIG). Kontaktadresse: Forth Gesellschaft Deutschland (F16), Postfach 202264, 2000 Hamburg 20. Da die FIG nicht kommerziell arbeitet, bitte bei Anfragen Freiumschlag beifügen.		
100 REM ****************************	<091> 110 REM *	*	<159 > 120 REM *	FORTH-COMPILER	*	<034> 130 REM *	*	<179> 140 REM *	FUER	*	<205> 150 REM	*	*	<199> 160 REM *	C0MM0D0RE-64	*	<181> 170 REM	*	*	<219> 180 REM ****************************	<171> 190 REM	*	*	<239> 200 REM	*	ALEXANDER SCHINDOWSKI	*	<251> 210 REM	*	*	<003> 220 REM	*	6000 FRANKFURT/MAIN 50	*	<048> 230 REM	*	*	<023> 240 REM	*	RUD0LF-HILFERDING—STR.49	*	<149> 250 REM	*	*	<043> 260 REM	****************************	<253> 270 REM	*	*	<065> 280 REM	*	TELEPHON:(069)/570520	*	<252> 290 REM	*	*	<085> 300 REM	****************************	<037> 310 :	<032> 320 :	< 042 >		830 IF BE$="RESET" THEN RUN	<035> 835 s	<049> 840 IF BE$="BASIC" THEN END	<031> 845 s	<059> 850 IF BE$<>"VLIST" THEN 900	<240> 860 PRINT:FOR I=AN TO 1 STEP-1	<174> 870 PRINT WO$(I)"{2SPACE}";	<128 > 880 NEXT:PRINT	<234> 890 GOTO 700	<104> 895 :	<109> 900 IF BE^<>"FORGET" THEN 950	<147> 910 GOSUB 2630:FOR I=AN TO 1 STEP-1	<217> 920 IF BE$<>WO$(I) THEN NEXT I	<108> 930 IF I>AN THEN PRINT BE$" 1 CAN'T FIND": GOTO 700	<050> 935 :	<149> 940 VOC=AD(I):AN=I-1:GOTO 700	<163 > 950 IF BE$<>"(" THEN 980	<117> 960 IF BE$<>")" THEN GOSUB 2630:GOTO 960	<027> 970 GOTO 700	<184> 975 :	<189> Listing 1. TinyForth-Compiler. Beachten Sie bitte die Eingabehinweise auf Seite 16.

121
Hilfsprogramm
C 64
980	[F BE*<>"EDIT" THEN 1020	<027>	1590	FOR 1=1 TO ANZ	<174>
990 GOSUB 2630 :SC=VAL(BE*)		<196>	1600	IF BE*<>WO*(I) THEN NEXT I	<026>
1000	PRINT"SCREEN:";SC s GOSUB 3280	<163>	1610	AD=AD(I)	<144>
1010	IF BE*="—>"THEN ZE$="":SC=SC+l:GOTO		1615		<067>
	1000	<005>	1620	IF BE*<>"BEGIN" THEN 1640	<215>
1012	GOTO 700	<226>	1630	ST(SP)=VOC:SP=SP+1:GOTO 1570	<147>
1015	:	<229>	1635	■	<087>
1020	IF BE*<>"LOAD" THEN 1050	<066>	1640	IF BE*<>"UNTIL" THEN 1730	<091>
1030	GOSUB 2630:SC=VAL(BE*)	<238>	1650	POKE VOC,32	<192>
1040	BLOCK=l:Zl=0sGOSUB 3110sGOTO 700	<233>	1660	POKE VOC+l,180:POKE V0C+2,194	<254>
1050	IF BE*<>”—>” THEN 1070	<048>	1670	POKE V0C+3,176:P0KE V0C+4,3	<041>
1060	SC=SC+1:GOSUB 3110:COMP=1:BLOCK=1:Z1=		1680	POKE V0C+5,76	<190>
1070	0:GOTO 700	<225>	1690	SP=SP-lsAD=ST(SP):IF SP<0 THEN 65535	<250>
	■	<030>	1700	POKE V0C+6,FN L(AD)	<176>
1080	IF BE*<>"VARIABLE" THEN 1145	<137>	1710	POKE VOC+7,FN H(AD)	<042>
1085	GOSUB 2630:AN=AN+1:WO*(AN)=BE*	<243>	1720	V0C=V0C+8:G0T0 1570	<124>
1090	AD(AN)=VOC:XX=V0C+8	<237>	1725		<177>
1095	GOSUB 3470:POKE V0C,169	<027>	1730	IF BE*=";" THEN POKE V0C,96:.V0C=V0C+l	
1100	POKE VOC+l,FN H<XX)	<181>		sCOMP=0:GOTO 700	<150>
1105	POKE V0C+2,162	<127>	1735		Z 1 H7 X
1110	POKE V0C+3,FN L(XX)	<208>	1740	GOSUB 3030	\ 1 O / x <028>
1115	POKE V0C+4,32sP0KE VOC+5,42	<253>	1750	IF OK=0 THEN 1800	<085>
1120	POKE V0C+6,192:POKE VOC+7,96	< 155>			
1125	POKE V0C+8,FN L(X)	<050>	1760	POKE V0C,169:P0KE VOC+l,FN H(XX)	<082>
1130	POKE V0C+9,FN H(X)	<167>	1770	POKE V0C+2,162:P0KE V0C+3,FN L(XX)	<117>
1135	VOC=VOC+10	<237>	1780	POKE V0C+4,32:P0KE VDC+5,42	<154>
1140	GOTO 700	<100>	1790	POKE V0C+6,192:V0C=V0C+7:G0T0 1570	< 174 >
1145		<105>	1800	-	<254>
1150	IF BE*<>"MEMORY" THEN 1220	<167>	1810	IF BE*<.>"IF" THEN 1870	<083>
1155	GOSUB 2630:AN=AN+1:WO*(AN)=BE*	<057>	1820	POKE V0C,32:P0KE VOC+l,180	<125>
1160	AD(AN)=VOC	<061>	1830	POKE V0C+2,194:P0KE V0C+3,176	<146>
1165	GOSUB 3470:POKE V0C,169	<097>	1840	POKE V0C+4,3:P0KE VOC+5,76	<049>
1170	POKE VOC+l,FN H(V0C+12)	<205>	1850	ST(SP)=V0C+6:SP=SP+1	<123>
1175	POKE V0C+2,162	<197>	1860	V0C=V0C+8:G0T0 1570	<010>
1180	POKE V0C+3,FN L(V0C+12)	<232>	1870		<068>
1185	POKE V0C+4,32:P0KE VOC+5,42	<067>	1880	IF BE*<>"ENDIF" THEN 1930	<240>
1190	POKE V0C+6,192:AD=V0C+12+XX	<244>	1^90	SP=SP-1:AD=ST(SP)	<222>
1195	POKE V0C+7,96	<218>	1900	POKE AD,FN L(VOC)	<247>
1200	POKE V0C+8,FN L(AD):POKE V0C+9,FN H(A		1910	POKE AD+l,FN H(VOC)	<020>
	D)	< 111 >	1920	GOTO 1570	<130>
1205	POKE VOC+10,FN L(XX):POKE VOC+ll,FN H		1930		<128>
	(XX)	<126>	1940	IF BE*<>"ELSE" THEN 2010	<225>
1210	VOC=AD:GOTO 700	<062>	1950	AD=ST(SP-1)	<077>
1220	:	<180>	1960	ST(SP-1)=VOC+1	<023>
1230	IF BE*<>"CONSTANT" THEN 1280	<052>	1970	POKE V0C,76sV0C=V0C+3	<121>
1240	GOSUB 2630:A*=": "+BE*+" "	<025>	1980	POKE AD,FN L(VOC)	<071>
1250	GOSUB 3470	<238>	1990	POKE AD+l,FN H(VOC)	<100>
1260	ZE*=A*+STR*(X)+" ;"+ZE*	<110>	2000	GOTO 1570	<210>
1270	GOTO 700	<230>	2010	:	<208>
1280	:	<242>	2020	IF BE*='*WHILE" THEN 1820	<170>
1290	IF BE*<>"CLEAR" THEN 1350	<152>	2030		<228>
1300	GOSUB 2630:SC=VAL(BE*)	<254>	2040	IF BE*<>"REPEAT" THEN 2110	<060>
1310	FOR ZE=0 TO 24	<162>	2050	AD=ST(SP-1):A2=ST(SP-2)	<184>
1320	SC*(ZE)='*"	<063>	2060	SP=SP-1	<154>
1330	NEXT ZE:GOSUB 3220	<005>	2070	POKE V0C,76	<110>
1340	GOTO 700	<046>	2080	POKE VOC+l,FN L(A2)	<036>
1350		<056>	2090	POKE V0C+2,FN H(A2)	<230>
1360	IF BE*="SAVE-SYSTEM"THEN 3510	<219>	2100	V0C=V0C+3:G0T0 1980	<106>
1365	:	<071>	2110		<054>
1370	IF BE*="LOAD-SYSTEM"THEN 3720	<159>	2120	IF BE*< >”."+CHR*(34) THEN 2225	<144>
1380		<086>	2125	A*=”":ZE*=MID*(ZE*,2)	<022>
1390	IF BE*<>"FLOPPY" THEN 1420	<144>	2130	IF LEFT*(ZE*,l)<>CHR*(34) THEN A*=A*+	
1400	GOSUB 2630	<030>		LEFT*(ZE*,1)sZE*=MID*(ZE*,2):GOTO 213	
1410	OPEN l,8,15,BE*:CL0SE l:GOTO 700	<181>		0	<185>
1420	:	<126>	2135	ZE*=MID*(ZE*,2):A*=A*+CHR*(0)	<063>
1430	IF BE*<>"LIST" THEN 1520	<088>	2140	AD=VOC+10	<200>
1440	GOSUB 2630:SC=VAL(BE*):GOSUB 3110	<018>			
1450	INPUT"flUF 5RUCKER (Y/N)";A*:A=3:IF A*		2145	POKE V0C,169	<040>
	="Y"THEN A=4	<097>	2150	POKE VOC+l,FN H(AD)	<227>
1460	OPEN 4,A,-7*(A=4)	<220>	2155	POKE V0C+2,162	<161>
1470	FOR Z=0 TO 23	<070>	2160	POKE V0C+3,FN L(AD)	<254>
1480	PRINT#4,RIGHT*(STR*(Z),2)":"SC*(Z)	<023>	2165	POKE V0C+4,32:P0KE VOC+5,234	<165>
1490	NEXT Z:CLOSE 4	<124>	2170	POKE V0C+6,194:P0KE V0C+7,76	<173>
1500	IF A=3 THEN POKE 198,0:WAIT 198,1	<175>	2175	AD=VOC+10+LEN(A*)	<012>
1510	COMP=0:GOTO 700	<198>	2180	POKE V0C+8,FN L(AD)	<149>
1520	■	<226>	2185	POKE V0C+9,FN H(AD)	<010>
1530	PRINT BE*" 1 CAN'T FIND"sGOTO 700	<190>	2190	VOC=VOC+10	<020>
1533		<239>	2200	FOR 1=0 TO LEN(A*)-1	<150>
1535	REM *************************	<143>	2205	POKE VOC+I,ASC(MID*(A*,I+1,1))	<036>
1540	REM ***	COMPILER	***	<216>	2210	IF LEFT*(ZE*,1)='* " THEN ZE*=MID*(ZE*	
1545	REM *************************	<155>		,2):G0T0 2210	<173>
1548		<000>	2215	NEXT I	<011>
1550	GOSUB 2630:AN=AN+1:WO*(AN)=BE*	<200>	2220	VOC=ADsGOTO 1570	<190>
1560	AD(AN)=VOC:COMP=1	<206>			
1570		<022>			
1580	GOSUB 2630	<212>	Listing 1. Tiny-Forth-Compiler (Fortsetzung)		
122
93Ö?
C 64
Hilfsprogramm
2225 :	<169>	2840	NEXT Z	<010>
2230 IF BE$<>"TEXT"+CHR$(34) THEN 2320	<213>	2850	IF LEFT$(ZE$,1>=" "THEN ZE$=MID$(ZE$,	
2235 A$="":ZE$=MID$(ZE$,2)	<132>		2):G0T0 2850	<183>
2240 IF LEFT$(ZE$,l)<>CHR$(34) THEN A$	=A$+	2860	IF ZE$="" THEN 2770	<066>
LEFT$(ZE$,l):ZE$=MID$(ZE$,2):GOTO	224	2870	RETURN	<134>
0	<045>	2880	ZE$=SC$(Zl):PRINT RIGHT$(STR$(Z1) ,2) ,-	
2245 ZE$=MID$(ZE$,2) :A$=A$+CHW(0)	<173>		":";ZE$	<219>
2250 AD=VOC+10	<054>	2890	IF LEN(ZE$)<2 THEN ZE#="(<2SPACE>)"	<071>
2255 POKE V0C,169	<150>	2900	Z1=Z1+1	<164>
2260 POKE VOC+l,FN H(AD)	<081>	2910	IF Zl=24 THEN BLOCK=0	<186>
2265 POKE V0C+2,162	<015>	2920	RETURN	<184>
2270 POKE V0C+3,FN L(AD)	<108>	2980	:	<162>
2273 POKE V0C+4,32:P0KE VOC+5,42:POKE	VOC+	2990	REM **************************	<236>
6,192	<097>	3000	REM ** WANDELE ZAHL UM	**	<118>
2275 POKE V0C+7,76	<022>	3010	REM **	IN XX	**	<069>
2280 AD=VOC+10+LEN(A$)	<117>	3020	REM **************************	<010>
2285 POKE V0C+8,FN L(AD)	<254>	3030	:	<212>
2290 POKE V0C+9,FN H(AD)	<115>	3040	OK=1:X=1	<172>
2295 VOC=VOC+10	<125>	3050	IF LEFT$(BE$,1)="-" AND VAL(BE$)<0 TH	
2300 FOR 1=0 TO LEN(A$)-1	<250>		EN BE$=MID$(BE$,2):X=-l:G0T0 3080	<007>
2305 POKE VOC+I,ASC(MID$(A$,I + lJ)):NEXT	<041>		3060	IF LEFT$(BE$,1)>="0" AND LEFT$(BE$,1)	
2310 IF LEFT$(ZE$,1)=" ” THEN ZE$=MID$(ZE$			<="9" THEN 3080	<135>
,2):G0T0 2310	<083>	3070	OK=0:RETURN ’	<177>
2315 VOC=AD:GOTO 1570	<031>	3080	XX=VAL(BE$)*X	<108>
2320 :	<010>	3090	IF XX<0 THEN XX=(256*256)+XX	<059>
2330 IF BE$<>"DO" THEN 2390	<088>	3100	RETURN	<110>
2340 POKE V0C,32	<120>	3103	;	<031>
2350 POKE VOC+l,FN L(AD)	<189>	3105	REM *************************	<191>
2360 POKE V0C+2,FN H(AD)	<056>	3110	REM ***** LADE SCREEN *****	<122>
2370 V0C=V0C+3:ST(SP)=VOC	<014>	3115	REM *************************	<201>
2380 SP=SP+l:GOTO 1570	<196>	3118		<046>
2390 :	<080>	3120	OPEN 1,8,15	<240>
2400 IF BE$<>"LOOP" AND BE$<>"+LOOP" THEN		3130	OPEN 2,8,2,"SCR"+STR$ <SC)+",S,R"	<184>
2500	<222>	3140	INPUT#1,A	<225>
2410 POKE V0C,32	<190>	3150	IF A<>0 THEN CLOSE 2:CL0SE l:FOR 1=0	
2420 POKE VOC+l,FN L(AD)	<003>		TO 24:SC$(I)="":NEXT I:RETURN	<215>
2430 POKE V0C+2,FN H(AD)	<126>	3160	FOR ZE=0 TO 24:B$=""	<021>
2440 POKE V0C+3,176:P0KE V0C+4,3	<049>	3170	POKE 251,2:SYS 830	<249>
2450 SP=SP-l:AD=ST(SP)	<018>	3180	FOR 1=512 TO 600:X=PEEK(I):IF X THEN	
2460 POKE V0C+5,76	<208>		B$=B$+CHR$(X):NEXT I	<142>
2470 POKE V0C+6,AD-256*INT(AD/256)	<142>	3190	SC$(ZE)=B$	<044>
2480 POKE VOC+7,INT(AD/256)	<091>	3200	NEXT ZE	<200>
2490 V0C=V0C+8sG0T0 1570	<132>	3210	CLOSE 2:CL0SE lsRETURN	<099>
2500 :	<190>	3213		<141>
2510 IF BE$<>"(" THEN 2540	<225>	3215	REM **************************	<207>
2520 GOSUB 2630:IF BE$<>")" THEN 2520	<128>	3220	REM ***** SAVE SCREEN *****	<055>
2530 GOTO 1570	<232>	3225	REM **************************	<217>
2540 :	<230>	3228		<156>
2550 IF BE$=";S" THEN POKE VOC,96:VOC='	VOC+	3230	OPEN 1,8,2," @: SCR"+STR$(SC)+",S,W"	<013>
l:GOTO 1570	<005>	3240	FOR ZE=0 TO 24	<058>
2560 :	<252>	3250	PRINT#l,SC$(ZE)	<253>
2570 IF I>AN THEN PRINT BE$" 1 CAN'T FIND"		3260	NEXT ZE	<004>
:COMP=0:GOTO 700	<030>	3270	CLOSE l:ZE$="":PRINT"<CLR}";:RETURN	<068>
2575 :	<011>	3273		<201>
2580 POKE V0C,32	<106>	3275	REM ***********************	<112>
2590 POKE V0C+l,AD-256*INT(AD/256)	<133>	3280	REM **** EDIT A SCREEN ****	<079>
2600 POKE V0C+2,INT(AD/256)	<083>	3285	REM ***********************	<122>
2610 V0C=V0C+3:G0T0 1570	<234>	3288		<216>
2615 :	<051>	3290	GOSUB 3400	<022>
2620 REM ************************	<133>	3300	PRINT"<HOME ?";:COMP=1	<188>
2630 REM ** HOLE BEFEHL IN BE$ **	<160>	3310	GOSUB 2750	<242>
2635 REM ************************	<148>	3315	IF LEFT$(ZE$,l)="N" THEN GOSUB 2630:G	
2637 :	<073>		OSUB 2630:SC=VAL(BE$):GOSUB 3420:GOTO	
2640 IF ZE$="" THEN GOSUB 2750	<086>		3300	<046>
2650 IF LEFT$(ZE$,1)=" “THEN ZE$=MID$(	ZE$,	3320	IF LEFT$(ZE$,l)="E" THEN ZE$="":COMP=	
2):G0T0 2650	<108>		0:GOTO 3220	<152>
2660 BE$="":FOR 1=1 TO LEN(ZE$)	<059>	3321	IF LEFT$(ZE$,l)<>"I" THEN 3330	<187>
2670 IF LEFT$(ZE$,1)=" " THEN 2710	<174>	3322	GOSUB 2630sGOSUB 2630:Z=VAL(BE$):IF Z	
2680 BE$=BE$+LEFT$(ZE$,1)	<085>		<0 OR Z>23 THEN GOSUB 3420:GOTO 3300	<242>
2690 ZE$=MID$(ZE$,2)	<164>	3323	GOSUB 2630:A=VAL(BE$):IF A<0 OR A>23	
2700 NEXT I	<244>		THEN GOSUB 3420:GOTO 3300	<033>
2710 RETURN	<228>	3324	FOR I=22-A TO Z STEP-l:SC$(I+A)=SC$(I	
2720 :	<156>		):SC$(I)="":NEXT	<070>
2730 REM *************************	<068>	3325	GOSUB 3420:GOTO 3300	<213>
2740 REM *** HOLE ZEILE IN ZE$ ***	<027>	3330	IF LEFT^(ZE^,l)="S" THEN ZE$="":PRINT	
2750 REM *************************	<088>		"<CLR?";:COMP=0:RETURN	<147>
2755 :	<191>	3331	IF LEFT$(ZE$,l)<>"D" THEN 3337	<246>
2760 IF BLOCK=1 THEN 2880	<023>	3332	GOSUB 2630:GOSUB 2630:Z=VAL(BE$):IF Z	
2770 IF COMP=0 THEN PRINT"<2SPACE>0K."	<039>		<0 OR Z>23 THEN GOSUB 3420:GOTO 3300	<254>
2780 SYS 42336	<123>	3333	GOSUB 2630:A=VAL(BE$):IF A<0 OR A>23	
2790 ZE$=""	<190>		THEN GOSUB 3420sGOTO 3300	<045>
2800 FOR Z=512 TO 600	<099>	3334	FOR I=Z TO 22-A:SC$(I)=SC$(I+A):SC$(I	
2810 A=PEEK(Z)	<003>		+A)="":NEXT	<131>
2820 IF A=0 THEN 2850	<231>			
2830 ZE$=ZE$+CHR$(A)	<153>	Listing 1. Tiny-Forth-Compiler (Fortsetzung)		
3JJaj*
123
Anwendung
C 64
3335 GOSUB 3420:GOTO 3300	<225>
3337 IF LEFT$(ZE$,l)="L" THEN GOSUB 3420:	G
OTO 3300	<128>
3340 ZE=VAL(ZE$)	<004>
3350 ZE$=MID$(ZE$,3)	<078>
3360 IF ZE>9 THEN ZE$=MID$(ZE$,2)	<032>
3370 SC$(ZE)=ZE$	<141>
3380 GOSUB 2630:IF BE$="—>" THEN GOTO 322	
0	<037>
3390 GOTO 3310	<124>
3393 :	<067>
3395 REM *************************	<227>
3400 REM ***** LIST SCREEN *****	<098>
3405 REM *************************	<237>
3408 :	<082>
3410 GOSUB 3110	<128>
3420 PRINT"{CLR}";	<056>
3430 FOR ZE=0 TO 23	<248>
3440 PRINT RIGHT$(STR$(ZE),2);":";	<157>
3450 PRINT LEFT$(SC$(ZE),38)	<018>
3460 NEXT ZE:RETURN	<184>
3463 :	<137>
3465 REM ***********************	<048>
3470 REM ** HOLE WERT VOM TOS **	<047>
3475 REM ***********************	<058>
3480 AD=52992+PEEK(2)	<065>
3490 X=PEEK(AD-l)+256*PEEK(AD-2)	<138>
3500 POKE 2,PEEK(2)-2:RETURN	<243>
3503 :	<177>
3505 REM ***********************	<088>
3510 REM *** SAVE-SYSTEM ***	<056>
3515 REM ***********************	<098>
3518 :	<192>
3520 GOSUB 2630	<118>
3530 OPEN l,8,15,"S:"+BE$+".*":CL0SE 1	<206>
3540 OPEN 2,8,2,BE$+".VOC,P,W"	<175>
3550 PRINT#2,AN:PRINT#2,V0C	<063>
3560 FOR ZE=39 TO AN	<075>
3570 PRINT#2,W0$(ZE)	<202>
3580 PRINT#2,AD(ZE)	<160>
3590 NEXT ZE	<082>
3600 CLOSE 2:BE$=BE$+".C0DE"	<016>
3610 POKE 187,FN L(720):POKE 188,FN H<720) <013>	
3620 FOR 1=1 TO LEN(BE$)	<095>
3630 POKE 719+I,ASC(MID$(BE$,I,1))	<115>
3640 NEXT I:POKE 183,LEN(BE^)	<233>
3650 POKE 186,8:P0KE 185,1	<199>
3660 POKE 251,FN L(BE):POKE 252,FN H(BE)	<173>
3670 POKE 780,251	<205>
3680 POKE 781,FN L(VOC)	<225>
3690 POKE 782,FN H(VOC)	<007>
3700 SYS 216+256*255	<020>
3710 GOTO 700	<130>
3713 :	<133>
3715 REM ***************************	<012>
3720 REM ****	LOAD SYSTEM	****	<056>
3725 REM ***************************	<022>
3728 :	<148>
3730 GOSUB 2630	<074>
3740 OPEN 2,8,2,BEl+".VOC,P,R"	<217>
3750 INPUT#2,AN,V0C	<249>
3760 FOR ZE=39 TO AN	<021>
3770 INPUT#2,W0$(ZE)	<068>
3780 INPUT#2,AD(ZE)	<026>
3790 NEXT ZE:CLOSE 2	<162>
3800 SYS 50139,BE$+".CODE",8	<110>
3810 GOTO 700	<230>
3813 :	<233>
3815 REM ***************************	<112>
3820 REM ***	DATA	***	<160>
3825 REM ***************************	<122>
3828 :	<248>
3830 DATA 166,251, 32,198,255,160,	0, 32	
207,255,201, 13,240,	7,153,	0	<161>
3840 DATA 2,200, 76, 69,	3,169,	0,153,	
0,	2, 76,204,255	<248>
3850 FOR 1= 830 TO 858:READ A:POKE I,A:Z=	Z
+A:NEXT I	<157>
3860 IF Z<>3379 THEN PRINT"<RVSON>LEHLER	I
N 2ATA{RV0FFJ":END	<107>
3870 RETURN	<ns>
© 64'er
Listing 1. Tiny-ForthCompiler (Schluß)
Hypra-Save
Hypra^ave ist eine Ergänzung zu Hypra-Load. Es speichert Programme 3- bis 5mal schneller und kann mit Hypra-Load verwendet werden.
Ein großer Nachteil der Diskettenstation VC 1541 ist die durch den seriellen Bus und durch das DOS V2.6 bedingte geringe Geschwindigkeit. Inzwischen gibt es mehrere Programme, die das Laden von Diskette beschleunigen. Mit der hier vorgestellten Routine geht jetzt auch das Speichern von Programmen mit dem C 64 wesentlich rascher.
Hypra-Save ist 3- bis 5mal so schnell wie die Originalroutine. Es verträgtsich mit Hypra-Load und vielen anderen, auch professionellen, Programmen und Basic-Erweiterungen. Zur Bedienung von Hypra-Save sollten Sie folgendes beachten: Die Eingabe muß mit dem MSE erfolgen. Nach dem Laden startet man es wie gewohnt mit RUN. Danach sollte man NEW eingeben, wenn man ein eigenes Programm schreiben will.
Hypra-Save kann Files mit oder ohne Verify speichern.
Gibt man vor dem Filenamen als erstes Zeichen einen Stern ein, so wird nicht verifiziert. Feststellbar an bis zu 5mal schnelleren Speicherzeiten. Mit Verify ist Hypra-Save etwa 3mal schneller als die Original-SAVE-Routine. Wer einen »25, WRITE ERROR« bisher nur aus der Literatur kennt, der kann getrost ohne Verify arbeiten. Selbstverständlich kann man weiterhin Programme überschreiben. Dann ist der Klammeraffe mit anzugeben. So überschreibt der Befehl SAVE ”*@:name”, 8 ein File, ohne die auf Diskette geschriebenen Blöcke zu prüfen, also ohne Verify. Hat der Computer alle Daten gesendet, wird im Gegensatz zur Original-SAVE-Routine nicht gewartet, bis das Laufwerkdie Datei geschlossen hat. Dies macht sich besonders beim Überschreiben von Programmen bemerkbar. Die Floppystation arbeitet noch, während der Computer sich längst zurückgemeldet hat. Man darf die Diskette selbstverständlich nicht vor dem Erlöschen der roten LED aus dem Laufwerk nehmen.
Beim Speichern von Programmen mit dem Klammeraffen kommt die 1541 häufig ins »Schleudern«, wie Sie vielleicht aus eigener Erfahrung wissen. So kann es passieren, daß einige Programme nicht mehr geladen werden können. Löschen Sie daher ein Programm erst mit dem SCRATCH-Befehl und speichern Sie erst dann die neue Version ab.
Anstelle von RUN/STOP dient bei Hypra-Save 64 die RE-STORE-Taste zum Abbrechen. Allerdings wird die Programmdatei dann nicht geschlossen und erscheint im Directory mit einem Stern. Möchte man die nicht geschlossene Datei löschen, so geht das nicht mit dem SCRATCH-, sondern nur mit dem VALIDATE-Befehl. Übrigens blinkt die rote LED nach dem Drücken von RESTORE. Liest man dann den Fehlerkanal aus, so erhältman die Meldung »51, OVERFLOW IN RECORD«, gefolgt von Track und Sektor des letzten Blocks. Diese Fehlermeldung weist sonst auf einen Übertragungsfehler hin, der von zu vielen Geräten am seriellen Bus herrühren kann.
Sollte man eine merkwürdige Fehlernummer wie zum Bei-spiel61 oder71 erhalten, hilftmeistnureinAus-undEinschal-ten der Floppy. Nach STOP/RESTORE oder nach einem Reset ist der SAVE-Vektor zurückgesetzt. Hypra-Save läßt sich dann mit SYS 365 wieder aktivieren.
Das Programm verschiebt sich nach dem Starten. Der eine Teil von Hypra-Save liegt ab $0150 bis $0177, der andere von $D000 bis $D5FF im Speicher. Wird die SAVE-Routine aufgerufen, so wird über den geänderten SAVE-Vektor in die Initialisierungs-Routine nach $0150 gesprungen. Dort wird geprüft, ob die anzusprechende Gerätenummer größer als 3
124
C 64
Anwendung
ist. Wenn ja, blendet die Routine das RAM unter den l/O-Bausteinen ein. Dann kopiert es den Speicherbereich von $C000 bis $C5FF, der nach dem Speichern wieder zurückgeschrieben wird, nach $D600 bis $DBFF (RAM) und verschiebt die eigentlichen SAVE-Routinen von $DOOO bis $D5FF (ROM) nach $C000 bis $C5FF. Denn die l/O-Bau-steine können nicht vom darunterliegenden RAM angesprochen werden.
Durch diese Speicherbelegungstechnik wird kein normalerweise sichtbares RAM verändert und nur ein minimaler Bereich im Stack von der Hypra-Save-Routine belegt. Vom Programmteil bei $COOO wird das File zuerst wie gewohnt durch die normalen lEC-Busroutinen geöffnet. Dann testet Hypra-Save ob kein Fehler aufgetreten ist und die Daten gesendet werden können. Ist kein Fehler aufgetreten, so wird die SAVE-Routine für das Diskettenlaufwerk in das Floppy-RAM geschrieben und gestartet. Dieser Programmteil liegtvon $0146 bis $01D9 im Floppy-RAM. Er enthält hauptsächlich die Transferroutine, mit der sofort nach dem Aufrufen das Diskettenstationsprogramm übertragen, in den Bereich von $0300 bis $04A0 geschrieben und dann gestartet wird.
Der wesentlich zur Geschwindigkeitserhöhung beitragende Datentransfer beruht auf der gleichzeitigen Übertragung von je zwei Bit und auf dem erheblich eingeschränkten Handshakebetrieb, mit dem beide Geräte ihre Bereitschaft zum Transfer signalisieren.
Die hohe SAVE-Geschwindigkeit wird aber auch vom Schreibalgorithmus erzielt, der die für das eventuell durchzuführende Verify benötigte Zeit erheblich verkürzt. Hierzu ein Beispiel, um die Arbeitsweise dieses Algorithmus zu verdeutlichen:
Wenn sich der Schreib-/Lesekopf in einer halben Diskettenumdrehung über dem Header des gewünschten Blocks befindet, die zu schreibenden Daten im Puffer stehen und codiert sind, so hat die Originalroutine den Pufferinhalt nach einer halben Umdrehung geschrieben und nach einer weiteren ganzen Umdrehung verifiziert. Diese Methode benötigt 1,5 Umdrehungen pro Block, also drei für zwei Blöcke.
Hypra-Save geht anders vor. Es verwendet zwei Puffer. Nach einer halben Umdrehung wird der erste, nach einer weiteren halben der zweite Block geschrieben. Es wird dann noch eine Umdrehung gebraucht, um beide Sektoren zu verifizieren. Man benötigtalso nurzwei Rotationen fürzwei Blöcke, der Zeitgewinn beträgt etwa 0,1 Sekunden pro Block. Sind sämtliche Bytes übertragen, so stellt der Computer wie erwähnt das RAM von $C000 bis $C5FF wieder her, springt in die Digitalisierungsroutine, schaltet die ursprüngliche Speicherbelegung ein und kehrt ins aufrufende Programm zurück. Das Laufwerk schließt währenddessen das File, wofür es mehr Zeit brauchen kann, wenn beim Überschreiben das alte Programm gelöscht werden muß.
(Martin Pfost/hm)
PROGRAMM : HYPRA-SAVE 0801 0D3F
0801 s 0C 08 C1 07 9E 20 32 30 77 0809 : 36 32 00 00 00 78 A5 01 B5 0811 : 48 A9 34 85 01 A0 28 B9 15 0819 : 51 08 99 4F 01 88 D0 F7 46 0821 : A2 06 84 AC A9 D0 85 AD 0F 0829 : A9 A0 85 14 A9 08 85 15 21 0831 : Bl 14 91 AC C8 D0 F9 E6 AF 0839 : 15 E6 AD CA D0 F2 20 6D 86 0841 : 01 68 85 01 58 A2 DA BD 79 0849 : A0 07 20 D2 FF E8 D0 F7 4A 0851 : 60 A5 BA C9 04 B0 03 4C D6 0859 : ED F5 78 A6 01 A9 34 85 6D 0861 s 01 8E 9F D4 20 4F D4 AE 59 0869 5 9F D4 86 01 58 60 A9 50 04 0871 : 8D 32 03 A9 01 8D 33 03 5D 0879 : 60 0D 0D 09 0E 55 4C 54 2A 0881 : 52 41 53 41 56 45 20 36 ED 0889 : 34 20 41 4B 54 49 56 0D 8A 0891 : 49 4E 49 54 20 3A 20 53 D9 0899 : 59 53 20 33 36 35 0D BA C1 08A1 : BE A0 D4 AD 19 03 8D Al 8D 08A9 : D4 AD 18 03 8D A2 D4 A9 4F 0BB1 : 9C 8D 18 03 A9 Cl BD 19 8B 08B9 : 03 AD 9F D4 85 01 AD 00 2C 0BC1 s DD 8D lF 01 58 A9 61 85 B0 .08C9 s B9 A2 2C A0 00 Bl BB C9 03 08D1 : 2A D0 0A A2 4C C6 B7 E6 E2 08D9 : BB D0 02 E6 BC 8E A5 C3 B8 0BE1 : A9 C1 48 A9 75 48 A5 B7 52 08E9 : D0 03 4C 10 F7 20 D5 F3 10 08F1 : 20 8F F6 A5 BA 20 0C ED 04 0BF9 : A5 B9 20 B9 ED A9 00 85 Fl 0901 : 90 20 DD ED 20 DD ED 20 BF 0909 : FE ED A5 90 F0 02 18 60 B9 0911 ; A9 lA A2 C2 85 AC 86 AD FB 0919 : A9 46 A2 01 85 14 86 15 EB 0921 : A2 05 A5 BA 20 0C ED A9 74 0929 : 6F 20 B9 ED A0 FD B9 15 DF 0931 : C1 20 DD ED C8 D0 F7 A5 76 0939 : 14 20 DD ED A5 15 20 DD D2 0941 : ED A9 lE 20 DD ED A0 00 5E 0949 : Bl AC 20 DD ED C8 C0 lE 78 0951 : 90 F6 20 FE ED A5 AC 18 33 0959 : 69 lE 85 AC 90 02 E6 AD D8 0961 : A5 14 18 69 lE 85 14 90 C3 0969 : 02 E6 15 CA D0 B4 A5 BA 3C 0971 : 20 0C ED A9 6F 20 B9 ED 03 0979 : A0 FB B9 lA C1 20 DD ED 39 0981 : C8 D0 F7 20 FE ED 78 A2 3A 0989 : 00 BE 00 DD AD 11 D0 29 85 0991 : EF 8D 11 D0 BD AE C2 9D 3D 0999 : 00 C5 E8 D0 F7 AD 00 DD 79 09A1 s 30 FB 20 FE Cl A2 00 BD 63 09A9 : AE C3 9D 00 C5 E8 D0 F7 77 09B1 : 20 FE C1 20 8E FB A2 01 lA 09B9 : A5 AC 9D 01 C5 E8 A5 AD Dl
09C1 s 9D 01 C5 E8 20 Dl FC B0 53 09C9 : 38 A5 AD C9 C0 90 lD C9 11 09D1 : C6 B0 19 69 16 85 AD A9 FA 09D9 s 34 85 01 Bl AC 48 AD 9F 49 09E1 : D4 85 01 A5 AD E9 15 85 F6 09E9 : AD 68 B0 02 Bl AC 9D 01 30 09F1 ; C5 E8 20 DB FC E0 FF 90 A6 09F9 : CB 20 Dl FC B0 03 A9 FF B2 0A01 : 2C A9 00 48 8D 00 C5 8E 18 0A09 : 01 C5 20 FE Cl A2 01 68 DB 0A11 : D0 B2 18 A9 00 48 AD 11 91 0A19 : D0 09 10 8D 11 D0 AD lF B0 0A21 : 01 8D 00 DD 78 A9 34 85 55 0A29 : 01 AD A2 D4 BD 18 03 AD 45 0A31 : Al D4 8D 19 03 68 AE A0 32 0A39 : D4 9A 60 38 AD lF 01 09 63 0A41 : 10 8D lF 01 B0 CD B9 00 60 0A49 : C5 85 95 A2 00 2C 00 DD A8 0A51 : 50 FB 2C 00 DD 10 05 E8 EE 0A59 : D0 F8 F0 B6 A9 10 8D 00 0A 0A61 : DD AA 66 95 6A 66 95 6A E5 0A69 : 4A 4A 8D 00 DD 8A 66 95 33 0A71 s 6A 66 95 6A 4A 4A 8D 00 EE 0A79 : DD 8A 66 95 6A 66 95 6A ED 0A81 : 4A 4A 8D 00 DD 8A 66 95 4B 0A89 s 6A 66 95 6A 4A 4A 8D 00 06 0A91 : DD EA EA EA A9 00 8D 00 CC 0A99 : DD C8 D0 AA 60 A0 00 98 A0 0AA1 : 59 00 C5 C8 D0 FA 85 14 A8 0AA9 : 20 A7 C1 88 A5 14 4C AA A0 0AB1 : Cl 4D 2D 57 4D 2D 45 B7 12 0AB9 : 01 A0 00 84 11 A9 02 8D lC 0AC1 : 00 18 A9 04 2C 00 18 F0 BD 0AC9 : FB A9 00 BD 00 18 A2 03 9C 0AD1 : CA D0 FD A2 0A AD 00 18 15 0AD9 : 4A 6A 4A 66 85 0A 0A 66 55 0AE1 s 85 AD 00 18 4A 6A 4A 66 2E 0AE9 : 85 0A 0A 66 85 AD 00 18 B9 0AF1 : 4A 6A 4A 66 85 0A 0A 66 6D 0AF9 : 85 AD 00 18 8E 00 18 4A 36 0B01 : 6A 4A 66 85 0A 0A 66 85 70 0B09 s A5 85 91 30 45 11 85 11 F0 0B11 ; C8 D0 AA 88 60 85 31 20 34 0B19 : 46 01 Bl 30 48 20 4A 01 03 0B21 : 68 91 30 A5 11 F0 ED 4C FB 0B29 : 43 E8 78 A9 0A 8D 00 18 71 0B31 : A2 00 88 D0 FD CA D0 FA 7F 0B39 : A9 0A 85 69 A9 00 85 30 87 0B41 : A9 03 20 A2 01 A9 04 20 76 0B49 : A2 01 4C 3D 04 A5 00 A2 D9 0B51 : 01 86 00 29 02 F0 10 A6 F0 0B59 : 98 86 32 20 2E 04 20 AF A8 0B61 : 03 20 03 04 4C 69 F9 A2 F3 0B69 ; 08 20 35 03 A2 0A 20 35 94 0B71 : 03 A2 08 20 F5 03 A2 0A E2 0B79 : 20 F5 03 A5 8C 30 E8 4C 90 0B81 : 69 F9 86 32 86 98 A5 8C AC 0B89 : 10 61 B5 83 D0 5D BD 31 79 0B91 : 04 20 A2 01 C8 A6 32 A9 4C
0B99	:	80 95	83	A5	80	95	00	A5	79
0BA1	:	81 95	01	Bl	30	F0	lC	20	9F
0BA9	s	21 Fl	A6	82	F6	B5	D0	02	21
0BB1	:	F6 BB	A0	00	A5	80	91	30	B2
0BB9	:	C8 A5	81	91	30	A5	80	C5	A4
0BC1	:	22 F0	02	84	8C	A6	32	A9	87
0BC9	;	00 85	30	85	33	85	2E	85	6C
0BD1	s	36 85	0C	85	50	A9	BB	85	CA
0BD9	s	34 BD	31	04	85	2F	20	E9	DF
0BE1	:	F5 85	3A	BD	32	04	20	A3	EA
0BE9	:	F7 A6	32	B5	83	F0	52	20	C0
0BF1	s	2E 04	AD	00	lC	29	10	D0	7A
0BF9	:	03 4C	81	F5	20	10	F5	A2	El
0C01	s	09 50	FE	B8	CA	D0	FA	A9	7B
0C09	:	FF 8D	03	lC	AD	0C	lC	29	11
0C11	:	lF 09	C0	8D	0C	lC	A9	FF	DF
0C19	;	A2 05	8D	01	lC	B8	50	FE	88
0C21	:	B8 CA	D0	FA	A0	BB	Bl	0C	98
0C29	:	50 FE	B8	8D	01	lC	C8	D0	8E
0C31	:	F5 Bl	30	50	FE	B8	8D	01	03
0C39	:	lC C8	D0	F5	50	FE	4C	00	DA
0C41	:	FE 60	86	32	2C	24	04	86	58
0C49	:	98 B5	83	F0	F4	20	2E	04	CC
0C51	:	20 0A	F5	A0	BB	Bl	0C	50	22
0C59	:	FE B8	4D	01	lC	D0	19	C8	65
0C61	:	D0 F3	Bl	30	50	FE	B8	4D	18
0C69	:	01 lC	D0	0C	C8	C0	FD	D0	5A
0C71	:	Fl A6	32	A9	00	95	83	60	F3
0C79	;	4C C5	F6	BD	31	04	85	31	C9
0CB1	:	BD 32	04	85	0D	60	05	01	F3
0C89	:	06 04	58	20	19	Fl	A9	84	7C
0C91	;	D5 A7	F0	05	95	A7	20	42	B2
0C99	:	D0 A9	40	8D	F9	02	A9	01	58
0CA1	:	85 83	20	07	Dl	90	03	4C	17
0CA9	:	F8 CF	20	3E	DE	F6	B5	A9	28
0CB1	:	00 85	8B	85	8D	A9	80	85	3B
0CB9	:	8C A5	80	85	06	A9	E0	85	25
0CC1	:	00 A5	00	30	FC	F0	24	C9	15
0CC9	:	01 F0	EA	A5	18	85	06	A5	C3
0CD1	:	19 85	07	A2	00	A9	B0	20	13
0CD9	:	7D D5	20	99	D5	A9	E2	20	F3
0CE1	:	7D D5	20	99	D5	A5	8C	D0	E2
0CE9	:	CC F0	CE	4C	23	DB	A0	C0	80
0CF1	:	A2 D6	20	6A	D4	A0	D0	A2	2F
0CF9	:	C0 20	6A	D4	20	00	C0	48	94
0D01	:	A0 D6	A2	C0	20	6A	D4	68	46
0D09	:	60 AD	FA	FF	48	AD	FB	FF	E0
0D11	:	48 A9	FB	8D	FA	FF	A9	D3	DC
0D19	=	8D FB	FF	84	AD	B6	15	A0	D9
0D21	:	00 84	AC	84	14	A2	06	Bl	Fl
0D29	:	AC 91	14	CB	D0	F9	E6	AD	90
0D31	:	E6 15	CA	D0	F2	68	8D	FB	0F
0D39	:	FF 68	8D	FA	FF	60	B2	4C	95
MSE4_isting zu Hypra^ave. Beachten Sie bitte die Eingabehinweise auf Seite 18.
125
Spiel
C 64
Das Grab des Pharao
Wagen Sie den gefährlichen Weg durchs alte Ägypten.
Ziel des Grafikadventures ist es, die goldene Totenmaske des Pharaos zu finden, wozu eine Pyramide erforscht werden muß, in der zahlreiche Fallen gegen Grabräuber verborgen sind. Am Anfang des Spiels befindet sich der Abenteurer jedoch noch mitten in der Wüste und muß die Pyramide erst einmal finden.
Das Programm besteht aus 58 Bildern, die sich aus verschiedenen Komponenten (Durchgänge, Türen, Treppen und so weiter) zusammensetzen. Aufgrund der Vielzahl und Ähnlichkeit der Räume ergibt sich ein wahrer Irrgarten. Die Bilder werden, um den Effekt von hochauflösender Grafik zu simulieren, aus über 80 neudefinierten Zeichen und 33 Sprites zur Darstellung der Gegenstände aufgebaut. Die Befehlsauswertung der Eingaben folgt getrennt in zwei »INPUT« Statements: Das heißt nachjedem eingegebenen Wort muß »RETURN« gedrückt werden, wodurch sich jedoch kein Nachteil ergibt.
Das Programm verstehtfolgende 18 Verben: gehe, zerstöre, öffne, klopfe, frage, hacke, töte, krieche, werfe, schiebe, drehe, nimm, verliere, ziehe, list, save, stop.
Da großer Wert auf die Grafik gelegt wurde, wuchs die Länge des Programmes und leider auch die Unübersichtlichkeit beträchtlich an, wodurch manche Stellen möglicherweise etwas umständlich programmiert wurden. Doch ich bin sicher, daß dies der Spielfreude keinen Abbruch tun wird.
Auf der Suche nach der goldenen Totenmaske des Pharao müssen Sie hier die erste Aufgabe lösen. Eine Menge Programmzeilen sind auf dem Weg in die Wüste, in der das Grab des Pharao steht, einzutippen. Damit Sie nicht hier schon »in der Wüste der Fehlermeldungen« stehen, ist auch dieses Programm mit dem Checksummer einzugeben. Liegt diese Hürde hinter Ihnen, wird Ihnen ein freundlicher Beduine, sobald Sie Ihn gefunden haben, den richtigen Weg weisen.
(Wolfgang Rausch/rg)
Programmbeschreibung:
10 —	13 : Maschinenprogramm zur Verschiebung des Zeichengenerators 30 —	150 : Einlesen der Feider (Arrays) 164 — 41 o : Information zu den Bildern und Eingabe eines Verbs 500— 1910 :Befehlsauswertung 5000— 5910 :KommentareundEingabeeinesNomens 10000 — 10900 : Einlesen der Charakter-DATA 12000 — 12167 : Einlesen der Sprite-DATA 19000 — 20900 : Zeichnen der Bilder (Hintergrund) 21000 — 21018 : Zeichnen der Durchgänge 21030 — 21038 : Zeichnen der Türen (Sprites) 21050 - 21500 : Zeichnen der Gegenstände (hauptsächlich Sprites) 30000 — 30040 : Gegenstände, die man trägt, auflisten 34000 — 35060 : Routinen zum Einlesen und Abspeichern eines Files 39900 — 40044 : DATAs für Verben, Nomen, Spielfeld und Gegenstände 45000 — 49065 : Vorspann 50105 — 52030 : Kommentare bei Niederlage des Spielers und Routinen für bewegliche Gegenstände
Programmbeschreibung »Grab des Pharao«
0 REM *** PHARAOS GRAVE V.2 ***	<020>	ITE>"	< 089 >
1 REM	BY W.RAUSCH	< 090 >	165 POKE V+17,PEEK(V+17)0R 16	<0963
2 REM	MOERIKEWEG 73	< 000 >	170 PRINT"<UP>MOEGLICHE RICHTUNGEN :";	< 086 3
3 REM	8504 STEIN	< 134>	174 FOR 1=1 TO 6	<1473
5 A1$="(HOME,18DOWNI" 6 A2T="<HOME,21DOWN j"	< 243 3 <149>	175 IF PN(AP,I)>0 THEN ON I GOSUB 179, 181,182,184,185	180, <2453
7 A3t="<HOME,22D0WNI"	< 004 >	176 NEXT:GOTO 210	< 205 3-
8 A4$=”CHOME,23DOWN}" 9 PRINT"<CLRJ":V=53248:SI=54272:POKE V+21,	<2183	179 PRINT" W",-:RETURN 180 PRINT" O";:RETURN	<092> < 220 >
0:POKE 657,128	<228>	181 PRINT" N";:RETURN	< 205 >
10 FOR 1=832 TO 865:READ AsPOKE I,A:NEXT	< 220 >	182 PRINT" S";:RETURN	<0313
11 DATA 120,169,51,133,1,169,0,133,95 12 DATA 133,90,133,88,169,208,133,96,169,2	<094 3	184 PRINT" H";:RETURN 185 PRINT" R":RETURN	< 112 > < 1 10>
40,133,89,169,224,133,91,32,191,163	<019>	210 PRINT Al$"BESONDERHEITEN: ";:N=0	< 131 >
13 DATA 169,55,133,1,88,96	<091 >	220 FOR 1=1 TO 46	<246 3
15 SYS 832:PQKE 850,160:SYS 832:P0KE 56576 ,PEEK(56576)AND 252:P0KE 53272,8	< 225 >	222 IF N>0 AND IN(I,l)=AP AND IN(I,3)= EN PRINT"{16RIGHTI"IT$(I)	1 TH < 019 >
16 POKE 648,192 20 GOTO 10000 22 PRINT"<CLRlSCRATCH GRAB":OPEN 1,8,15,"S	<169> <240>	230 IF IN(I,l)=AP AND N=0 AND IN(I,3)= EN PRINT IT$(I):M=1 240 NEXT	1 TH < 142 3 <2503
:GRAB":CLOSE 1	< 141 3	242 IF AP=35 AND X8=1 THEN 50100	< 124 3
24 SAVE"GRAB",8:VERIFY"GRAB",8:LIST 22-24 30 DIM PN(58,6),IT$(54),IN(46,3),C0$(18>	<2133 < 108 >	245 IF AP=16 AND IN(14,1)=-1 AND IN(15 0 THEN 50800	, 1 > >
40 FOR 1=1 TO 18:READ COT(I):NEXT	<0593	246 IF AP=53 AND IN(45,1)=-1 THEN 50720	<212>	
50 FOR 1=1 TO 54:READ IT#(I):NEXT	< 196 3	247 IF AP=50 AND IN(46,1)<>-1 THEN 50207	<227>	
55 RETURN 60 FOR 1=866 TO 895:READ A:POKE I,A:NEXT:I	< 113 3	250 PRINT A3$:INPUT"K0MMAND0 ";B$ 260 FOR 1=1 TO 18	<0843 <160>
F KK=1 THEN RETURN	<175>	270 IF LEFT$(B$,4)=LEFT$(C0$(I),4)THEN	300 <0113
65 FOR 1=1 TO 58 70 READ PN(I,l),PN'I,2),PN(I,3),PN(I,4),PN (I,5),PN(I,6)	<221 3- < 231 >	280 NEXT 300 IF AP=41 AND IN(41,1)<>-1 OR AP=42 IN(41,1)<>-1 THEN GOSUB 52000	<036> AND <038>
80 NEXT	<090>	310 IF C=3 THEN 50208	<1693
90 FOR 1=1 TO 46	< 1 16>	410 IF AP=24 THEN GOTO 50204	<026>
100 READ IN(I,l),IN(I,2),IN(I,3)	<063 3	500 IF I<>1 THEN 730	<091 >
110 NEXT	< 120 3	510 GOSUB 5540	< 1963
130 RETURN	< 188>	530 GOTO 550	<0623
150 AP=1	< 1 10 3	540 GOTO 5530	<180>
155 POKE 53280,11:POKE 53281,0 160 PRINT"{CLR}":POKE V+21,0:POKE V+17,PEE	<0513	550 IF AP=2 OR AP=3 THEN X1=X1+1 560 IF Xl=2 THEN GOTO 50190	<252> < 1933
K(V+17)AND 239:G0SUB 19000 164 POKE 214,15;SYS 58640:PRINT"{REDinWi TOOTOTnTWOTiTffHWHTinTt^^	<0813	570 IF AP=10 AND IN(6,1)=-1 THEN 5530 590 IF AP=19 AND A$="R"AND IN(9,l)<>19 N GOTO 50203	<1593 THE <1163
126

C 64
Spiel
610	IF AP=31 AND A$='*S"THEN GOTO 50202	<039>	1150	GOSUB 5000	<122>
620	IF AP=48 AND A$="S"OR AP=44 AND A$="W"		1160	IF AP=5 AND X=2 AND IN(X,1)>0 THEN IN	
	THEN 50206	<025>		<2,l)=0=IN<X,2)=0:GOTO 5400	<155>
630	IF AP=35 AND IN(14,l)OAP THEN 50100	<121>	1170	GOTO 5530	<046>
640	IF AP=37 AND A$="O"AND IN(30,l)=37 THE		1180	IF I<>6 THEN 1220	<203>
	N AP=41:G0T0 5500	<178>	1182	IF IN(l,l)O-l THEN 5530	<005>
645	IF AP=37 AND IN(30,l)O37 AND A$="O"TH		1183	X2=X2+l:IF X2>5 THEN 5475	<224>
	EN 50200	<236>	1185	GOSUB 5540:GOSUB 5000	<197>
650	IF AP=50 AND A$="W"AND IN(31,l)<>0 THE		1200	IF AP=7 AND X<>4 AND IN(X,l)=AP AND I	
	N 5530	<205>		N(X,1)>0 THEN IN(X,l)=0:IN(4,3)=l:GOT	
655	IF AP=38 AND A$="N"AND IN(28,l)=0 AND			0 5500	<135>
	IN(46,1)O-1 THEN 50207	<166>	1210	GOTO 5530	<086>
660	IF A$="W"AND PN(AP,l)O0 THEN AP=PN(AP		1220	IF 107 THEN 1270	<071>
	,1):GOTO 5500	<078>	1230	GOSUB 5540:GOSUB 5000	<242>
670	IF A$="O"AND PN(AP,2)O0 THEN AP=PN(AP		1240	IF X<>15 AND X<>5 THEN 5530	<162>
	,2):G0T0 5500	<214>	1250	IF AP=16 AND IN(X,l)=AP THEN IN(X,1)=	
680	IF A$="N"AND PN(AP,3>O0 THEN AP=PN(AP			0:GOTO 5500	<048>
	,3):G0T0 5500	<225>	1255	IF AP=35 AND X=5 THEN 50100	<014>
690	IF A$="S"AND PN(AP,4)<>0 THEN AP=PN(AP		1260	GOTO 5530	<136>
	,4):G0T0 5500	<239>	1270	IF I<>8 THEN 1320	<168>
700	IF A$="H"AND PN(AP,5)O0 THEN AP=PN(AP		1280	GOSUB 5540	<206>
	,5):G0T0 5500	<245>	1285	IF AP=7 AND IN(4,l)=0 AND A$=LEFT$(IT	
710	IF A^="R"AND PN(AP,6>O0 THEN AP=PN(AP			$(ll>,5)THEN AP=8:G0T0 5500	<163>
	,6):G0T0 5500	<134>	1290	IF AP=13 AND A$=LEFT$(IT$(51),5)AND I	
720	GOTO 5530	<104>		N(ll,l)=AP THEN AP=14:G0T0 5500	<093>
730	IF I<>2 THEN 830	<132>	1300	IF AP=14 AND A^=LEFT^(IT^(51),5)THEN	
735	IF IN(l,l)O-l THEN 5530	<066>		AP=13:G0T0 5500	<237>
739	X2=X2+l:IF X2>5 THEN 5475	<032>	1310	GOTO 5530	<188>
740	GOSUB 5540	<172>	1320	IF I<>9 THEN 1360	<044>
770	IF AP=7 AND IN<3,l)=0 AND IN(4,l)=AP A		1330	GOSUB 5540:GOSUB 5000	<088>
	ND A$='*EINGA"THEN IN(4,l)=0:GOTO 5410	<037>	1335	IF XO9 AND IN(X,1)<>-1 THEN 5530	<255>
780	IF AP=13 AND A$="TUER"THEN GOTO 50211	<177>	1340	IF AP=51 AND PN(AP,5)=0 THEN PN(AP,5)	
790	IF AP=13 AND A$="WAND"AND IN(11,1)=0 T			=54:IN(X,l)=AP:G0T0 5440	<242>
	HEN IN(ll,l)=13:G0T0 5420	0	<055>	1345	IF AP=37 THEN IN(X,l)=0:GOTO 5470	<230>
800	IF AP=21 AND IN(16,l)>0 AND A$=IT$(16)		1350	GOTO 5530	<228>
	THEN IN(16,l)=0:GOTO 5500	<114>	1360	IF IO10 THEN 1410	<012>
810	IF AP=54 AND IN(40,l)>0 AND A$="AUSGA"		1370	GOSUB 5540	<040>
	THEN GOTO 49000	<080>	1375	IF AP=27 THEN 1395	<020>
820	GOTO 5530	<206>	1376	GOSUB 5000	<094>
830	IF I<>3 THEN 940	<045>	1390	IF AP=40 AND Y2=0 AND IN(X,l)=AP THEN	
840	GOSUB 5540:GOSUB 5000	<106>		Y2=1:IN(35,l)=AP:PN(40,3)=47:GOTO 54	
850	IF X<>32 AND XO40 AND X<>38 THEN GOTO			50	<069>
	5530	<128>	1395	IF AP=27 AND A$="GRABR"AND IN(46,3)=0	
860	IF X<>32 THEN 920	<010>		THEN IN(46,3)=l:G0T0 5480	<076>
870	IF AP=15 THEN PN(15,3)=16:IN(13,l)=0:G		1400	GOTO 5530	<022>
	OTO 5500	<165>	1410	IF I<>11 THEN 1460	<230>
875	IF AP=13 THEN 50211	<132>	1420	GOSUB 5540:GOSUB 5000	<178>
880	IF AP=21 AND IN(16,l)=0 THEN PN(21,3)=		1430	IF AP=10 AND X=7 AND IN(6,1>=-1 THEN	
	22:IN(17,l)=0:GOTO 5500	<225>		50206	<222>
881	IF AP=25 AND IN(43,l>=25 THEN IN(43,1)		1440	IF AP=52 AND X=37 AND IN(34,l)=AP THE	
	=0:PN(25,4)=19:IN<42,l)=0:PN(19,3)=25:			N PN(52,3)=53:IN(34,l)=0:GOTO 1680	<150>
	GOTO 5500	<165>	1450	GOTO 5530	<072>
882	IF AP=31 AND X5=1 AND IN(23,l)=AP THEN		1460	IF I<>12 THEN 1510	<117>
	IN(23,l)=0:PN(31,3)=32:GOTO 5500	<117>	1470	GOSUB 5540	<140>
890	IF AP=21 AND IN(16,l>>0 THEN 50213	<167>	1490	IF X4=1 THEN AP=54:GOTO 5500	<179>
895	IF X5=1 AND AP=31 THEN PN(AP,3)=32:IN(		1500	GOTO 5530	< 122>
	31,l>=0:GOTO 5500	<080>	1510	IF 1013 THEN 1580	<095>
900	IF AP=45 THEN PN(45,3)=50:IN(28,l)=0:G		1520	GOSUB 5540	<190>
	OTO 5500	<159>	1525	IF GE>=3 THEN 5460	<203>
905	IF AP=42 THEN PN(42,3)=40:IN(26,l)=0:G		1530	GOSUB 5000	<248>
	OTO 5500	<187>	1535	IF AP=16 AND X=14 THEN IN(X,l)=-l:IN(	
906	IF AP=47 AND PN(AP,3)=0 THEN PN(AP,3)=			15,3)=l:G0T0 5500	<121>
	52:IN(36,l)=0:GOTO 5500	<217>	1536	IF AP=10 AND X=6 THEN IN(7,3)=1	<028>
910	IF AP=38 THEN PN(38,3)=50:IN(28,l)=0:G		1540	IF IN(X,l)=AP AND IN(X,2>>0 THEN IN(X	
	OTO 5500	<059>		,l)=-l:GOTO 5500	<087>
920	IF AP=50 THEN PN(50,l)=44:IN(31,l)=0=G		1550	IF IN(X,2)=0 THEN 5530	<172>
	OTO 5500	<239>	1560	IF IN(X,l)OAP THEN PRINT A3$"{GREENJ	
925	IF AP=53 AND Y3=0 AND X=38 THEN Y3=l:G			NICHT VORHANDEN<WHITE3":GOSUB 5800:GO	
	OTO 50700	<183>		SUB 5900:GOTO 164	<141>
926	IF AP=57 AND X=40 AND Y4=0 AND IN(44,1		1570	GOTO 5530	< 194>
	)=-l THEN IN(41,l)=AP:Y4=l:G0T0 5458	< 181>	1580	IF 1014 THEN 1640	<012>
930	GOTO 5530	<060>	1590	GOSUB 5540	<006>
940	IF I<>4 THEN 1130	<091>	1600	GOSUB 5000	<064>
950	GOSUB 5540	<128>	1610	IF IN(X,1>O-1 THEN PRINT A3$"<GREENI	
955	IF AP<8 OR A$OIT$(53)THEN GOTO 5530	<201>		ICH HABE DAS NICHT{WHITE)":GOSUB 5800	
960	PRINT A2$:INPUT"<GREEN3WELCHE: W 0 N S			:GOSUB 5900:GOTO 164	<071>
	{3SPACEJ";Ct	<149>	1612	IF AP=19 AND A$="SEIL"AND IN(9,1)=-1	
970	IF AP=13 AND IN(11,1)=0 AND C^="O"THEN			THEN GOSUB 5455:G0T0 1620	<020>
	GOTO 5430	<089>	1615	IF AP=31 AND A$="DIAMA"AND IN(X,1)=-1	
980	IF APO13 OR AP=13 AND C$O"0*'THEN 110			THEN X5=l:G0SUB 5465:IN(20,2)=0:IN(2	
	0	<192>		0,3)=0:GOTO 1620	<235>
1000 GOTO 5530		<130>	1620	IN(X,l)=AP:GOTO 5500	<135>
1100 PRINT A3$"{GREEN>NICHTS PASSIERTt7SPA					
	CE,WHITE>":GOSUB 5800:GOSUB 5900:GOTO				
164 1130 IF 105 THEN 1180		<139> < 111 >	Listing »Grab des Pharao«.		
1140 GOSUB 5540		<064>	Beachten Sie bitte die Eingabehinweise auf Seite 16.		

127
Spiel
C 64
1640 IF I<>15 THEN 1700	<172> 1650 GOSUB 5540:GOSUB 5000	<154> 1655 IF X<>7 THEN 5530	<112> 1660 IF AP=10 AND IN(6,1)=-1 AND X9=0 THEN PN(AP,l)=ll:IN(8,l)=0:X9=l:GOTO 1680 <222> 1670 GOTO 5530	<038> 1680 PRINT A3$"{GREEN)DIE "IT*(32)" OEFFNE T SICH<WHITE>":GOSUB 5800:GOTO 160	<235> 1700 IF I<>16 THEN	1750	<145> 1710 GOTO 30000	<166> 1750 IF I<>17 THEN	1800	<031> 1755 GOTO 34000	<019> 1800 IF I<>18 THEN	1900	<216> 1810 POKE V+21,0:PRINT CHR*(14),"<CLR,2D0W N,3RIGHT)SIE WOLLEN AUFGEBEN (£/&) ?" <032> 1820 GET A*:IF A*="J"THEN SYS 64738	<047> 1830 IF A*="N"THEN PRINT CHR*(142):G0SUB 5 600:GOTO 160	<232> 1840 IF A*=""OR A$="	"THEN 1820	<065> 1900 PRINT A4*"UNBEKANNTES WORT":GOSUB 580 0	<047> 1910 PRINT A3$"{17SPACEJ":PRINT A4$"{24SPA CE>":GOTO 164	<230> 5000 FOR X=1 TO 46	<064> 5010 IF tEFT*(A*,5)=LEFT*(IT*(X),5)THEN RE TURN	<227> 5020 NEXT	<204> 5030 PRINT A4$;TAB(20)"{CYAN>UNBEKANNTES W ORT<WHITE>":FOR T=1	TO	1000:NEXT	<218> 5035 GOSUB 5900	<085> 5040 X=0:GOTO 164	<174> 5400 PRINT A3$"{GREEN3GEHE IN RICHTUNG DES "IT$(50)"<WHITE}":GOSUB	5800	< 231> 5401 PN(5,2)=6:G0T0 160	<220> 5410 PRINT A3*"<GREEN5DURCHGANG IN DER MAU ER<WHITE>":IN(4,l)=0:X6=l:G0SUB 5800: GOTO 5500	<196> 5420 PRINT A3*"<GREEN>EIN "IT*(51)" WIRD S ICHTBAR<WHITE>":GOSUB 5800:GOTO 160	<042> 5430 PRINT A3$"{GREENJES KLINGT HOHL<llSPA CE,WHITE>":GOSUB 5800:GOTO 160	<146> 5440 PRINT A3*"CGREEN3"IT*(9)" HAT SICH OB EN VERFANGEN<WHITE>":X4=l:G0SUB 5800: GOTO 160	<129> 5450 PRINT A3$"{GREEN>EIN "IT$(11)" WIRD S ICHTBAR<WHITEI":GOSUB 5800:GOTO 160	<068> 5455 PRINT A3*"<GREEN>"IT*(9)" HAENGT HINU NTER{WHITE)":GOSUB 5800:RETURN	<241> 5458 PRINT A3$"CGREEN3ER ENTHAELT EIM "IT* (41)"{WHITE,INSTJ":G0SUB 5800:GOTO 16 0	<106> 5460 PRINT A3*"CGREEN>SIE KOENNEN NICHT SO VIEL TRAGEN<WHITE>":GOSUB 5800:GOTO 160	<053> 5465 PRINT A3*"tGREEN>"IT*(20)" IST DAS FE HLENDE "IT*(52)" DER "IT*(6)"<WHITE>" :GOSUB 5800:RETURN	<155 > 5470 PRINT A3*"<GREEN>"IT*(9)" IST HINUNTE RGEFALLEN<WHITE>":GOSUB 5800:GOTO 160 <231> 5475 PRINT A3*"<GREEN>"RIGHT*(IT*(l),5)" I ST JETZT STUMPF<WHITE>":GOSUB 5800:GO SUB 5900:GOTO 164	<126> 5480 PRINT A3*"<GREEN>ER TRUG EINE "IT*(46 )" BEI SICH<WHITE>":GOSUB 5800:GOTO 1 60	<090> 5500 GOSUB	5900	<042> 5510 PRINT A4*"<CYAN>IN ORDNUNG<WHITE>":FO R T=1 TO 1000:NEXT:IF 1=13 THEN GE=GE +1	<032> 5520 IF 1=14 THEN	GE=GE-1	<077> 5525 GOSUB	5600:GOTO	160	<116> 5530 GOSUB	5900	<072> 5535 PRINT A4#"<CYAN>NICHT MOEGLICH<WHITE} ":FOR T=1 TO 1000:NEXT:PRINT A4*"<15S PACEJ";GOTO 164	<191> 5540 PRINT A4*;TAB(25):INPUT A*:A*=LEFT*(A *,5):RETURN	<160> 5600 POKE V+21,0:POKE V+28,0:POKE V+23,0:P OKE V+29,0:RETURN	<160> 5800 FOR T=1 TO 3000:NEXT:RETURN	<194> 5900 PRINT A3*"<39SPACE>"	<250> 5910 PRINT A4$"{38SPACE3":RETURN	<107> 10000 AD=57344	<088> 10010 READ X:IF X=-1 THEN GOTO 45000	<255> 10020 CG=AD+X*8:F0R 1=0 TO 7:READ Q:POKE C G+I,Q:NEXT:GOTO 10010	<113> 10110 DATA 28,252,243,207,63,255,255,255,2 55	<224>	10120 DATA 30,255,255,255,255,252,243,207, 63	<114> 10130 DATA 31,255,255,255,255,255,255,15,2 40	<218> 10140 DATA 33,255,255,255,255,15,240,255,2 55	<004> 10150 DATA 35,255,255,15,240,254,254,254,2 54	<030> 10160 DATA 36,0,31,227,252,254,254,254,254 <001> 10170 DATA 37,255,255,255,255,63,207,243,2 52	<113> 10180 DATA 38,63,207,243,252,255,255,255,2 55	<139> 10190 DATA 39,0,248,199,63,127,127,127,127 <028> 10200 DATA 40,255,255,240,15,255,255,255,2 55	<236> 10210 DATA 41,255,255,255,255,240,14,254,2 54	<118> 10220 DATA 42,255,255,255,255,255,255,240, 15	<032> 10230 DATA 43,254,253,251,247,239,223,191, 127	<150> 10240 DATA 44,254,254,254,254,254,254,254, 254	<238> 10250 DATA 45,127,127,127,127,127,127,127, 127	<096> 10260 DATA 46,255,255,255,255,255,255,255, 255	<102> 10270 DATA 47,0,255,255,255,255,255,255,25 5	<158> 10280 DATA 48,0,254,254,254,254,254,254,25 4	<232> 10290 DATA 49,0,127,127,127,127,127,127,12 7	<006> 10300 DATA 50,127,191,223,239,247,251,253, 254	<048> 10400 DATA 51,239,239,239,239,239,223,191, 127	<157> 10410 DATA 52,224,239,239,239,239,239,239, 239	<011> 10420 DATA 53,239,239,239,143,47,239,239,2 39	<215> 10430 DATA 54,0,239,239,239,239,239,239,23 9	<137> 10440 DATA 55,254,254,254,254,254,224,235, 239	<246> 10450 DATA 56,255,255,255,255,255,255,95,2 41	<134> 10460 DATA 57,254,254,254,254,0,254,254,25 4	<248> 10470 DATA 27,239,239,239,239,239,239,239, 224	<172> 10480 DATA 59,239,239,239,239,247,251,253, 254	<016> 10490 DATA 60,239,239,239,239,239,239,239, 15	<065> 10500 DATA 61,239,239,227,233,236,239,239, 239	<255> 10510 DATA 62,239,239,239,239,15,239,239,2 39	<197> 10520 DATA 29,15,239,239,239,239,239,239,2 39	<235> 10530 DATA 64,127,127,127,127,0,127,127,12 7	<030> 10540 DATA 65,255,255,255,255,255,15,239,2 39	<194> 10550 DATA	67,0,255,255,0,0,0,0,0	<225> 10560 DATA 68,239,239,239,239,239,239,239, 239	<144> 10570 DATA 69,254,254,254,254,254,254,240, 15	<207> 10580 DATA 70,239,239,239,239,240,239,239, 239	<164> 10590 DATA 71,254,254,254,254,254,254,254, 0	<066> 10600 DATA 72,127,127,127,127,127,127,127, 0	<160> 10610 DATA 73,15,240,255,255,255,255,255,2 55	<254> 10620 DATA 74,240,15,255,255,255,255,255,2 55	<236> 10630 DATA 75,255,170,255,170,255,170,255, 170	<210> 10640 DATA 76,85,85,85,85,85,87,95,255	<249> 10650 DATA 77,85,85,85,87,127,255,255,255	<167> 10660 DATA 78,85,85,85,85,245,255,255,255	<179> 10670 DATA 79,85,85,85,85,85,245,255,255	<105> 10680 DATA 80,85,85,85,85,85,85,245,255	<081>
128
C 64
Spiel
10685	DATA 81,63,207,243,252,254,254,254,2 54	<048>	12013 DATA 72,192,0,80,0,0,96,0,0,96,0,0,9	
			6,0	<232>
10690	DATA 82,254,254,254,254,15,240,255,2		12015 FOR 1=0 TO 62:READ QsPOKE 51008+I,Q:	
		<036>	NEXT	<169>
10695	DATA 83,127,255,15,240,255,255,255,2		12016 DATA 3,252,0,2,168,0,3,92,0,3,92,0,3	
	55	< 156 >	,92,0,3,92,0,15,255,0,15,255,0,15,25	
10700	DATA 84,252,242,206,62,254,254,254,2		5	<217>
	54	< 249 >	12017 DATA 0,15,255,208,15,255,208,15,252,	
10705	DATA 85,254,254,254,254,252,243,207,		0,14,168,0,7,252,0,7,252,0,3,252,0,3	<061>
	63	<021 >	12018 DATA 252,0,2,138,0,2,138,0,0,163,128	
10710	DATA 86,255,255,255,255,252,242,206,		, 0,0,0	<228>
	62	<051 >	12020 FOR 1=0 TO 62:READ Q:POKE 51072+1,0:	
10715	DATA 87,255,255,255,255,240,14,254,2		NEXT	<164>
	54	<243>	12021 DATA 0,0,0,127,251,254,127,251,254,1	
10720	DATA 88,254,254,254,254,254,254,240,		27,249,254,0,0,0,127,63,60,127	<206>
	15	<101 >	12022 DATA 127,190,127,127,190,62,127,190,	
10725	DATA 89,254,254,240,15,255,255,255,2		0,0,0,127,231,254,127,239,254,127,23	
	55	< 156 >	9	<245>
10730	DATA 90,126,190,222,238,246,250,252,		12023 DATA 254,127,207,252,0,0,0,57,255,15	
	254	< 204 >	8,125,255,222,125,255,222,125,255,22	
10735	DATA 91,127,127,127,127,63,207,243,2		0	<059>
	52	<004>	12024 DATA 0,0,0,255,255,255	<215>
10740	DATA 92,14,240,255,255,255,255,255,2		12026 FOR 1=0 TO 62:READ Q:POKE 51136+1,0:	
	55	< 000 >	NEXT	<179>
10745	DATA 93,96,99,105,108,110,110,110,11		12027 DATA 95,255,250,95,255,250,80,0,10,8	
	0	<049>	0,0,10,88,0,26,88,0,26,92,0,58,92,0,	
10750	DATA 94,6,198,150,54,118,118,118,118	<028>	58	<238>
10755	DATA 95,110,110,110,110,110,110,110,		12028 DATA 94,0,122,94,0,122,95,0,250,95,0	
	110	<133>	,250,95,129,250,95,126,250,94,255,12	
10760	DATA 97,118,118,118,118,118,118,118,			<231>
	118	<202>	12029 DATA 93,255,186,91,255,218,87,255,23	
10765	DATA 98,110,110,110,110,108,105,99,1		4,79,255,242,127,255,254,0,0,0	<186>
		<031>	12031 FOR 1=0 TO 62:READ Q:POKE 51200+I,Q:	
10770	DATA 99,118,118,118,118,54,150,198,2		NEXT	<155>
	40	<100>	12032 DATA 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0	
10775	DATA 100,0,0,0,0,0,15,63,127	<165>	,31,0,0,14,0,0,14,0,0,27,0,0,42,128,	
10780	DATA 101,15,31,63,127,255,255,255,25		0	<081>
		< 138 >	12033 DATA 113,192,0,106,192,0,59,128,0,21	
10785	DATA 102,240,248,252,254,255,255,255		,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,	
		<105>	0	<217>
10790	DATA 103,0,0,0,0,0,240,252,254	<153>	12034 DATA 0,0,0,0	<102>
10795	DATA 104,168,168,168,168,168,168,0,0	<018>	12036 FOR 1=0 TO 62:READ Q:POKE 51264+I,Q:	
10800	DATA 105,170,170,170,170,170,170,0,0	<055>	NEXT	<190>
10805	DATA 106,168,168,168,168,168,168,168		12038 DATA 0,0,0,0,0,0,0,0,0,1,85,128,2,17	
	, 168	<153>	0,64,2,170,0,2,175,0,2,173,0,2,174,1	
10810	DATA 107,162,162,162,162,162,162,162		92	<202>
	, 162	<138>	12039 DATA 2,175,192,2,175,0,3,253,0,3,255	
10815	DATA 108,0,0,168,168,168,168,168,168	< 167>	,0,0,255,0,0,242,0,0,242,0,0,242,0,3	<010>
10820	DATA 109,170,170,170,170,170,170,170		12040 DATA 252,0,3,252,0,0,0,0,0,0,0	<181>
	, 170	<009>	12042 FOR 1=0 TO 62:READ Q:POKE 51328+I,Q:	
10825	DATA 110,0,0,170,170,170,170,170,170	<192>	NEXT	<205>
10830	DATA 111,0,0,129,195,255,255,255,255	<228>	12043 DATA 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8	
10835	DATA 112,255,255,248,6,184,191,255,2		,0,0,16,6,0,30,57,120,31,192,112,16,	
	55	<196>	6	<033>
10840	DATA 113,0,0,1,3,15,255,255,255	<188>	12044 DATA 12,8,121,194,3,128,57,28,120,5,	
10845	DATA 114,0,0,128,192,224,255,255,255	<221>	33,135,130,24,112,28,7,14,98,0,225,1	
10850	DATA 115,0,0,0,255,255,0,0,0	<089>	40	<092>
10855	DATA 116,193,182,182,128,193,227,193		12045 DATA 0,30,48,0,1,192,0,0,0,0,0,0	<226>
	, 193	<017>	12047 FOR 1=0 TO 62:READ Q;POKE 51392+I,Q:	
10860	DATA 117,129,129,129,129,255,255,255		NEXT	<200>
	,255	<222>	12048 DATA 0,0,0,15,255,240,10,0,80,10,0,8	
10865	DATA 118,255,219,129,195,195,129,219		0,10,0,80,19,255,200,20,0,40,20,0,40	<240>
	. 255	<055>	12049 DATA 20,0,40,39,255,228,40,0,20,40,0	
10900	DATA-1	<114>	,20,40,0,20,79,255,242,80,0,10,80,0,	
12000	FOR 1=0 TO 62:READ Q:POKE 50816+I,Q:		10	<037>
	NEXT	<028>	12050 DATA 80,0,10,159,255,249,160,0,5,160	
12001	DAT A 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0		,0,5,255,255,255	<255>
	, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0		12052 FOR 1=0 TO 62:READ Q:POKE 51456+I,Q:	
		<247>	NEXT	<214>
12002	DATA 0,0,64,0,0,128,0,1,0,0,3,255,24		12053 DATA 0,0,0,0,0,0,0,0,0,0,0,0,0,56,0,	
	8,4,0,0,8,0,0,8,0,0,8,0,0,0,0,0	<185>	0,76,0,0,134,0,0,18,64,0,47,160,0,11	
12004	FOR 1=0 TO 62:READ O:POKE 50880+I,Q:		0	<073>
	NEXT	<022>	12054 DATA 160,0,191,64,0,156,64,0,56,0,0,	
12005	DAT A 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0		68,0,1,132,0,2,8,0,5,20,0,0,0,0,0,0,	
	,0,0,0,32,0,0,120,0,0,254,0,1,255,12		0	<252>
	8	<015>	12055 DATA 0,0,0,0,0,0	<116>
12006	DATA 3,255,224,7,255,248,15,255,254,		12057 FOR 1=0 TO 62:READ Q:POKE 51520+I,Q:	
	31,255,252,63,255,248,127,255,240,0,		NEXT	<190>
	0	<128>	12058 DATA 16,0,0,21,0,0,31,64,0,31,80,0,3	
12007	DATA 0,0,0,0,0,0,0,0,0,0,0,0,0	<202>	1,213,0,31,254,64,31,255,64,31,255,6	
12010	FOR 1=0 TO 62:READ Q:POKE 50944+I,Q:		4	<069>
	NEXT	<037>	12059 DATA 31,255,208,31,255,244,21,85,84,	
12011	DATA 0,0,64,0,64,128,2,33,0,1,36,128		7,255,244,1,255,244,0,127,244,0,23,2	
	,0,200,76,17,8,80,18,69,32,34,38,64,		44	<117>
	36	<014>	12060 DATA 0,5,244,0,1,244,0,0,116,0,0,20,	
12012	DATA 100,48,20,162,64,8,164,128,4,15		0,0,4,0,0,0	<096>
	3,192,5,22,40,2,20,16,5,38,0,8,169,0		12062 FOR 1=0 TO 62:READ Q:POKE 51584+I,Q:	
	,4	<047>	Listing »Grab des Pharao« (Fortsetzung)	
129
Spiel
C 64
NEXT	<223> 12063 DATA 0,0,16,0,0,80,0,1,240,0,7,208,0 ,7,208,0,95,208,1,255,208,5,255,208 <156> 12064 DATA 31,255,208,31,255,208,21,85,80, 31,255,64,31,253,0,23,212,0,31,208,0 <061> 12065 DATA 31,64,0,29,0,0,20,0,0,16,0,0,0, 0,0,0,0,0	<052> 12067 FOR 1=0 TO 62:READ Q:POKE 51648+I,Q: NEXT	<237> 12068 DATA 0,0,0,0,0,0,0,0,0,0,0,0,3,255,1 92,2,0,64,2,239,64,2,239,64,2,15,64, 2	<202> 12069 DATA 240,64,2,247,64,2,247,64,2,7,64 ,2,224,64,2,239,64,2,239,64,2,0,64,2 <135> 12070 DATA 247,64,2,247,64,2,0,64,3,255,19 2	<208> 12072 FOR 1=0 TO 62:READ Q:POKE 51712+I,Qs NEXT	<213> 12073 DATA 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 ,0,0,0,0,0,0,0,0,0,8,0,0,55,0,0,59,0 ,0	<225> 12074 DATA 213,192,0,191,128,0,204,192,0,1 91,128,0,255,192,0,183,128,0,255,192 ,0	<215> 12075 DATA	55,0,0,55,0,0,55,0	<248> 12077 FOR 1=0 TO 62:READ Q:POKE 51776+I,Q: NEXT	<246> 12078 DATA 0,0,0,0,56,0,0,124,0,0,84,0,0,1 24,0,0,40,0,0,56,0,1,255,0,2,214,128 ,2	<235> 12079 DATA 238,128,2,214,128,3,57,128,0,25 4,0,0,254,0,0,124,0,0,108,0,0,108,0, 0	<140> 12080 DATA 108,0,0,108,0,0,108,0,0,230,0	<095> 12082 FOR 1=0 TO 62:READ Q:POKE 51840+I,Q: NEXT	<222> 12083 DATA 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 ,0,0,0,0,0,0,0,0,0,0,0,0,28,0,0,62,0 ,0	<206> 12084 DATA 28,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0,0,0,0,0	<249> 12086 FOR 1=0 TO 62:READ Q:POKE 51904+I,Q: NEXT	<235> 12087 DATA 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2 25,128,0,30,3,128,0,48,112,1,204,15, 14	<092> 12088 DATA 6,0,192,0,0,51,193,192,12,14,56 9 0,48,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 0	<021> 12089 DATA 0,0,0,0,0,0	<150> 12091 FOR 1=0 TO 62:READ Q:POKE 51968+I,Q: NEXT	<012> 12092 DATA 0,0,0,0,0,0,0,0,0,0,0,0,0,21,84 ,0,74,148,1,42,100,4,169,164,18,166	<078> 12093 DATA 164,85,90,164,106,154,164,106,1 54,144,106,154,124,106,153,205,106,1 51	<002> 12094 DATA 240,85,80,60,0,0,13,0,0,0,0,0,0 ,0,0,0,0,0,0	<093> 12096 FOR 1=0 TO 62:READ Q:POKE 52032+I,Q: NEXT	<107> 12097 DATA 255,255,255,128,36,1,128,60,1,1 28,66,1,128,126,1,128,129,1,128,255, 1	<167> 12098 DATA 129,0,129,129,255,129,130,0,65, 131,255,193,132,0,33,135,255,225,136 <200> 12099 DATA 0,17,143,255,241,144,0,9,159,25 5,249,160,0,5,191,255,253,192,0,3,25 5	<061> 12100 DATA	255,255	<253> 12102 FOR 1=0 TO 62:READ Q:POKE 52096+I,Q: NEXT	<141> 12103 DATA 0,0,0,0,28,0,0,3,128,0,0,64,0,1 ,128,0,14,0,0,48,0,0,64,0,0,48,0,0,1 2	<204> 12104 DATA 0,0,3,0,0,0,128,0,1,0,0,6,0,0,2 4,0,0,96,0,0,224,0,0,192,0,0,0,0,0,0 <032> 12105 DATA 0,0,0,0	<173> 12107 FOR 1=0 TO 62:READ Q:POKE 52160+1,0: NEXT	<117> 12108 DATA 0,6,0,0,24,0,0,32,0,0,48,0,0,12 ,0,0,6,0,0,1,0,0,3,0,0,12,0,0,48,0,0 ,64	<126> 12109 DATA 0,0,96,0,0,24,0,0,6,0,0,24,0,0, 96,0,0,224,0,0,192,0,0,0,0,0,0,0,0,0 ,0	<207> 12111 FOR 1=0 TO 62:READ O:POKE 52224+1,0: NEXT	<130>	12112 DATA 0,168,42,160,170,10,0,42,2,160, 47,0,0,15,0,160,12,0,0,40,0,0,255,0, 3	<072> 12113 DATA 60,192,163,60,240,3,252,0,160,6 0,0,0,42,240,160,42,252,0,85,12,0,85 <230> 12114 DATA 12,0,65,12,160,65,12,0,65,15,16 0,65,5,0,0,0	<209> 12116 FOR 1=0 TO 62:READ O:POKE 52288+I,Q: NEXT	<163> 12117 DATA 160,0,0,128,42,0,0,170,10,0,168 ,0,0,240,10,0,240,0,0,48,10,0,235,0, 3	<131> 12118 DATA 60,192,3,60,202,15,60,192,0,60, 202,0,60,0,3,168,0,15,168,10,48,85,0 <174> 12119 DATA 48,85,10,48,65,0,112,65,10,80,6 5,0,0,0,0	<002> 12121 FOR 1=0 TO 62:READ Q:POKE 52352+I,Q: NEXT	<139> 12122 DATA 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 <079> 12123 DATA 0,0,63,255,252,127,255,254,255, 255,255,255,255,255,0,0,0,0,0,0,0,0, 0,0	<223> 12124 DATA	0,0,0,0,0	<241> 12125 FOR 1=0 TO 62:READ Q:POKE 52416+I,Q: NEXT	<152> 12126 DATA 0,0,0,3,192,0,7,192,0,7,128,0,7 ,128,0,2,128,0,7,0,0,59,128,0,47,192 ,0	<065> 12127 DATA 7,224,0,14,0,0,13,240,0,14,248, 0,7,124,0,7,190,0,5,111,0,2,139,128, 2	<215> 12128 DATA 130,192,7,129,64,31,255,252,31, 255,252	<212> 12130 FOR 1=0 TO 62:READ O:POKE 52480+I,Q: NEXT	<147> 12131 DATA 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 ,0,0,0,0,0,0,0,0,2,170,128,10,170,16 0	<227> 12132 DATA 9,221,224,11,119,96,10,170,160, 11,170,96,9,221,224,11,119,96,10,170 <126> 12133 DATA 160,8,0,32,8,0,32,8,0,32,0,0,0	<241> 12139 FOR 1=0 TO 62:READ Q:POKE 52544+1,0: NEXT	<165> 12140 DATA 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 ,0,0,0,0,0,0,0,0,0,0,0,0,8,0,1,214,0 ,2	<125> 12141 DATA 33,0,4,76,128,5,144,128,4,139,0 ,4,100,0,7,24,0,3,128,0,1,128,0,0,0, 0	<021> 12142 DATA 0,0,0	<070> 12144 FOR 1=0 TO 62:READ Q:POKE 52608+1,0: NEXT	<179> 12145 DATA 0,0,0,0,0,0,0,120,0,0,48,0,0,48 ,0,0,120,0,0,180,0,1,50,0,2,121,0,4	<153> 12146 DATA 120,128,8,252,64,8,212,64,9,182 ,64,5,122,128,3,119,0,3,183,0,3,203, 0	<047> 12147 DATA 1,222,0,0,220,0,0,120,0,0,0,0	<111> 12149 FOR 1=0 TO 62:READ O:POKE 52672+I,Q: NEXT	<174> 12150 DATA 0,0,0,0,0,0,0,255,192,0,255,192 ,0,255,192,1,128,96,1,128,96,1,128,9 6	<202> 12151 DATA 3,0,48,3,0,48,3,0,48,6,0,24,6,0 ,24,6,0,24,12,0,12,12,0,12,12,0,12,1 5	<023> 12152 DATA 255,252,13,154,236,10,205,148,1 5,255,252	<152> 12154 FOR 1=0 TO 62:READ Q:POKE 52736+I,Q: NEXT	<188> 12155 DATA 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 ,42,0,0,21,0,0,38,0,0,21,0,0,42,0,0, 21	<060> 12156 DATA 0,0,170,128,0,85,64,0,170,128,0 ,85,64,0,170,128,0,85,64,0,0,0,0,0,0 ,0	<007> 12157 DATA	0,0,0,0,0	<018> 12159 FOR 1=0 TO 62:READ Q:POKE 52800+I,Q: NEXT	<164> 12160 DATA 0,0,0,0,0,0,0,127,128,0,125,128 ,0,118,128,0,239,192,0,237,192,0,254 <218> 12161 DATA 192,1,166,224,1,223,224,1,254,2 24,3,157,112,3,127,240,3,245,240,6,2 51	<016> 12162 DATA 184,7,55,24,7,255,248,0,0,0,0,0 ,0,0,0,0,0,0,0	<118> 12164 FOR 1=0 TO 62:READ Q:POKE 52864+1,0:
130
C 64
Spiel
	NEXT	<197>
12165	DATA 0,24,0,0,90,0,0,126,0,0,126,0,0	
	,126,0,0,60,0,0,60,0,0,60,0,0,24,0,1	<238>
12166	DATA 255,128,3,110,192,3,118,192,3,1	
	10,192,1,223,128,0,126,0,0,126,0,0,1	
	02	<016>
12167	DATA 0,0,102,0,0,102,0,1,255,128,7,2	
	55,224	<067>
15000	RETURN	<070>
19000	IF AP>7 THEN 19100	<202>
19001	IF AP=7 THEN 19200	<239>
19002	IF AP=6 THEN GOSUB 19035	<238>
19003	POKE 53270,PEEK(53270)OR 16:P0KE 532	
	83,9:P0KE 53282,6	<190>
19004	PRINT TAB(10)"{BLUE)		
		<137>
19006	PRINT TAB(10)"	"	<150>
19008	PRINT TAB(10)"			<152>
19010	PRINT TAB(10)*'	<GREY 3JJUW<LIG .BLUE>. . . -CGREY 3)k02<LIG.BLUE}.	”	<094>
19012	FOR T=1 TO 10:PRINT TAB(10)"{GREY 33	
	JLOJLyjLyiyjLy^^ = NEXT	<177>
19031	GOSUB 21050:RETURN	<135>
19035	POKE V+21,PEEK(V+21)0R 128:P0KE 5017	
	5,27:P0KE V+14,145:P0KE V+15,90:POKE	
	V+46,9	<108>
19036	POKE V+23,PEEK(V+23)0R 128:P0KE 9+29	
	,PEEK(V+29)OR 128:RETURN	<020>
19100	IF AP=15 OR AP=18 OR AP=19 OR AP=20	
	OR AP=21 OR AP=29 OR AP=46 OR AP=52	
	THEN 19110	<039>
19102	GOTO 19999	<133>
19110	PRINT TAB(12)"<BROWN3&7.	T	
	£"	<084>
19111	PRINT TAB(12>"..a%	Vf.."	<036>
19112	PRINT TAB<12) ". . ,.fi/;. . . .^f, . . . ”	<147>
19113	PRINT TAB(12) “1#^, . l//0,.^(2"	<250>
19114 19115	PRINT TAB (12) " . , . , -.5-C.C.tY.J.- T . . ” PRINT TAB(12)". ,. ,..5{2SPACE>7. .-,..	<077>
		<081>
19116	PRINT TAB(12)"/70/0/5{2SPACE3T/l/l//	
		< 033 >
19117	PRINT TAB (12) “ . . , . üfW?<±. —- - “	<051>
19118	PRINT TAB(12)"..UT.+....2,&+..“	<061 >
19120	PRINT TAB(12)"tI.,+	Z-,&7."	< 112>
19121	PRINT TAB(12)".,.+	2,.."	<123>
19122	PRINT TAB(12) ". , +	Z-	. "	<029>
19123	PRINT TAB(12)".+	....2."	<147>
19124	PRINT TAB(12) " +	2"	<152>
19129	IF AP=19 THEN 20015	<205>
19130	GOSUB 21032:RETURN	<106>
19200	POKE 53270,PEEK(53270)OR 16:P0KE 532	
	S2,7:POKE 53283,9	<202>
19204	PRINT TAB(10)"<BROWN>??72R7Z27H7??7»	
19205		<203>
	PR I NT TAB (10) " 7mTi7777^77ff757TZ"	<222>
19206	PR I NT TAB (10) *•	<074>
19207	FOR T=1 TO 3:PRINT TAB (10) "Zz^YzW	
	TzzÖTTzZoT?": NEXT	<131>
19210	PRINT TAB ( 10) “ 5*55^D55*5* t3SPACE>'5*5W5'5'	
		<079>
19211	PRINT TAB(10)"57^r7n<3SPACEI777fi77	
	z77"	<055>
19212	PRINT TAB(10)"^?^{3SPACE}^?^	
	^"	<102>
19213	FOR T=1 TO 4:PRINT TAB(10)"CGREY 3U	
	JLLLLLLLLLLLLLLL^^ : NEXT	<206>
19217	IF X6=1 THEN POKE V+21,PEEK(V+21)0R	
	128:P0KE 50175,31:POKE V+14,168:P0KE	
	9+15,108	<132>
19218	POKE 9+46,9	< 196>
19219	GOSUB 21050	<238>
19220	RETURN	< 228 >
19999	POKE 53270,PEEK(53270)AND 239	<244>
20000	PRINT TAB(10)"{BROWN3&7.				
	...tf”	<247>
20001	PRINT TAB(10)"..&7.	.tf.."	<165>
20002	PRINT TAB(10)"....l///l///l//0...."	<054>
20003	PRINT TAB(10)"£#?+-		.	. ,*> (2”	<250>
20004	PRINT TAB(10)”.,..l/l///l///10.,.."	<023>
20005	PRINT TAB(10)".,..-.-...-...-,.,.."	<232>
20006	PRINT TAB(10) *'////l///l///l//0////"	<088>
20007	PRINT TAB(10)".....-. . , . . . . "	<101>
20008	PRINT TAB(10) ". . tfl/l///l///10&%. . ”	<059>
20009	PRINT TAB(10) "tT. .-.-. . .-. . .-,. ,&7."	<005 >
20010	PRINT TAB<10)".,.+////////////2,.-"	<093>
20011	PRINT TAB(10)"., +	Z.."	<212>
20012	PRINT TAB(10) ".+	2.	"	<150>
20013	PRINT TAB(10)" +	2<G	
	REY 21"	<085>
20014	IF AP=50 THEN PRINT"<BR0WN,H0ME,7D0W N,16RIGHT >T<6RIGHT} T <4RIGHT >7"	<115>
20015	IF AP=19 OR AP=32 OR AP=55 THEN 2001 7:REM TREPPE	<142>
20016	GOTO 20020	<048>
20017	POKE V+21,PEEK(V+21)0R 128:POKE 5017 5,35:P0KE V+14,160:POKE 9+15,145	<159>
20018	POKE V+29,PEEK(V+29)0R 128:P0KE V+46	
	,0:IF AP=19 THEN 19130	<254>
20020	IF AP<>33 AND AP<>56 AND AP<>58 THEN	
	20900	<037>
20021	POKE V+21,PEEK(V+21)0R 128:P0KE 5017 5,45:P0KE V+14,159:P0KE V+15,97	<027>
20022	POKE V+46,0:POKE V+23,PEEK(V+23)0R 1 28:P0KE V+29,PEEK(V+29)0R 129	<163>
20023	PRINT“{BROWN,HOME,6D0WN,17RIGHT}..-. ..{DOWN,6LEFT3.+..2.<DOWN,6LEFT3+... .2 CDOWN,6LEFT>"	<125>
20024	PRINT"CUP,17RIGHT}	<DOWN,6LEFT}	
		 <D0WN,6LEFT}"	<234>
20900	IF AP=10 THEN 21001	<182>
21000	IF PN(AP,1)=0 THEN 21005	0	<003>
21001	POKE 49363,55:P0KE 49364,56:P0KE 494 03,52=POKE 49404,48:POKE 49443,54:P0 KE 49444,48	<065>
21002	POKE 49483,68:P0KE 49484,44:P0KE 495 23,70:POKE 49524,57:P0KE 49563,53:P0 KE 49564,44	<155>
21003	POKE 49603,27:POKE 49604,71:POKE 496 43,68:P0KE 49644,46:P0KE 49683,51	<241>
21005	IF PN(AP,2)=0 THEN 21010	<248>
21006	POKE 49379,69:P0KE 49380,65:POKE 494 19,49:P0KE 49420,29:POKE 49459,49:P0 KE 49460,54	<026>
21007	POKE 49499,45:P0KE 49500,68:POKE 495 39,64:P0KE 49540,62:POKE 49579,45:P0 KE 49580,61	<231>
21008	POKE 49619,72:P0KE 49620,60:POKE 496 59,46:P0KE 49660,68:POKE 49700,59	<228>
21010	IF PN(AP,3)=0 THEN 21030	<003>
21013	POKE 49410,36:POKE 49411,67:P0KE 494 12,67:P0KE 49413,39:P0KE 49449,48:P0 KE 49450,44	<208>
21014	POKE 49451,32:P0KE 49452,32:P0KE 494 53,45:P0KE 49454,49:P0KE 49489,44:P0 KE 49490,44	<014>
21015	POKE 49491,32:P0KE 49492,32:P0KE 494 93,45:P0KE 49529,48:P0KE 49530,44:PO KE 49414,45	<006>
21016	POKE 49531,100:POKE 49532,103:POKE 4 9533,45:P0KE 49534,49:P0KE 49569,44: POKE 49570,43	<002>
21017	POKE 49571,46:P0KE 49572,46:P0KE 495 73,50:POKE 49574,45:P0KE 49610,46:PO KE 49611,46	< 183>
21018	POKE 49612,46:P0KE 49613,46:P0KE 494 09,44	<048>
21030	Z1=0:IF IN(10,l)=AP OR IN(23,l)=AP 0 R IN(26,l)=AP OR IN(28,l)=AP THEN 21 034	<230>
21031	IF IN(35,l)=AP OR IN(36,l)=AP THEN 2 1034	<252>
21032	IF IN(13,l)=AP OR IN(17,l)=AP OR IN( 34,l)=AP OR IN(42,l)=AP THEN Zl=l:GO TO 21036	<182>
21033	GOTO 21050	<002>
21034	PRINT"<HOME,7D0WN,18RIGHT,4SPACE,DOW N,4LEFT,4SPACE,DOWN,4LEFT,4SPACE,DOW N,4LEFT,4SPACE}"	<067>
21035	POKE V+10,161:POKE V+ll,97:P0KE V+29 ,PEEK(V+29)0R 32	<175>
21036	POKE V+21,PEEK(V+21)0R 32:P0KE 50173 ,39:P0KE V+44,ll:P0KE V+23,PEEK(V+23 )OR 32	<198>
21037	IF Z1=1 THEN POKE V+10,161:POKE V+11 ,78:P0KE V+29,PEEK(V+29)0R 32	<133>
21038	IF Z1=1 THEN PRINT"<HOME,4DOWN,18RIG HT,4SPACE,DOWN,4LEFT,4SPACE,DOWN,4LE FT>";	<089>
21039	IF Z1 = 1 THEN PRINT'*<4SPACE,D0WN,4LEF T,4SPACE,DOWN,4LEFT,4SPACE}“	<063>
21050	IF IN(l,l)<>AP THEN 21060	<137>
21051	POKE V+21,PEEK(V+21)0R l:POKE 50168, 26:P0KE V+0,200:POKE V+l,120:POKE V+	
Listing	»Grab des Pharao« (Fortsetzung)	
131
Spiel
C 64
39,11	<190> 21052 POKE V+23,PEEK(V+23)0R l:POKE V+29,P EEK(V+29)0R 1	<147> 21060 IF IN(2,l)<>AP THEN 21070	<215> 21061 POKE V+21,PEEK(V+21)0R 128:P0KE 5017 5,29:P0KE V+14,150:POKE V+15,110	<076> 21062 POKE V+46,0:POKE V+37,9:P0KE V+38,1: POKE V+23,PEEK(V+23)0R 128:P0KE V+28 ,128	<139> 21063 POKE V+29,PEEK(V+29)0R 128	<112> 21070 IF IN(3,l)<>AP THEN 21080	<037> 21071 POKE V+21,PEEK(V+21)0R 64:POKE 50174 ,28:P0KE V+12,160:POKE V+13,92	<035> 21072 POKE V+45,15:P0KE V+29,PEEK(V+29)0R 64:P0KE V+23,PEEK(V+23)0R 64	<009> 21080 IF IN(4,l)OAP THEN 21090	<116> 21081 POKE V+21,PEEK(V+21)0R 128:POKE 5017 5,30:POKE V+14,168:P0KE	V+15,108	<130> 21082 POKE V+46,9	<026> 21090 IF IN(5,l)<>AP	THEN	21100	<156> 21091 IF IN(14,1)<>-1 AND IN(14,l)<>35 THE N 21095	<088> 21092 POKE V+21,PEEK(V+21)0R 128:P0KE 5017 5,53:P0KE V+46,5:P0KE V+14,195	<091> 21093 POKE V+15,130:POKE V+29,PEEK(V+29)0R 128:G0T0 21100	<049> 21095 X8=l:POKE V+21,PEEK(V+21)0R 128:P0KE 50175,46:POKE	V+46,3	<232> 21096 POKE V+14,190:POKE V+15,140:POKE V+2 9,128:G0TQ 164	<079> 21100 IF IN(6,l)<>AP	THEN GOTO	21110	<161> 21101 POKE V+21,PEEK(V+21)0R 8:P0KE 50171, 33:P0KE V+28,8:P0KE V+6,141:POKE V+7 ,103	<074> 21102 POKE V+42,llsP0KE V+37,0sPOKE V+38,1 5	<128> 21110 IF IN(7,l)<>AP	THEN 21120	<056> 21115 PRINT"<HOME,BROWN,8D0WN,15RIGHT}, ä {D OWN,2LEFT}10{DOWN,2LEFT>-,{DOWN,2LEF T}-, tDOWN,2LEFT}//"	< 202 > 21120 IF IN(9,l><>AP THEN 21130	<199> 21121 IF AP=19 OR AP=51 THEN 21130	<003> 21122 POKE V+21,PEEK(V+21)0R 2:P0KE 50169, 34:P0KE V+2,150:POKE V+3,140	<192> 21123 POKE V+29,PEEK(V+29)0R 2:P0KE V+40,0 <111> 21130 IF IN(ll,l)<>AP THEN 21140	<104> 21131 POKE V+21,PEEK(V+21)OR 64:P0KE 50174 ,37:P0KE V+12,235:P0KE V+13,122	<235> 21132 POKE V+28,64:P0KE V+37,0:POKE V+38,9 :POKE V+23,PEEK(V+23)0R 64	<233> 21140	IF IN(12,l)<>AP THEN 21150	<251> 21141 POKE V+21,PEEK(V+21)0R 64:P0KE 50174 ,38:P0KE V+12,lll:P0KE V+13,119	<152> 21142 POKE V+28,64:P0KE V+37,0:POKE V+38,9 :POKE V+23,PEEK(V+23)0R 64	<243> 21150	IF IN(14,l)<>AP THEN 21160	<014> 21151 POKE V+21,PEEK(V+21)0R 4:P0KE 50170, 32:P0KE V+4,170:POKE V+5,130	<150> 21152P0KE V+41,12:P0KE V+29,PEEK(V+29)0R 4:P0KE V+23,PEEK(V+23)0R 4	<220> 21160 IF IN(15,l)<>AP THEN 21170	<160> 21161 POKE V+21,PEEK(V+21)0R 128:P0KE 5017 5,36:POKE V+14,170:POKE V+15,143	<077> 21162 POKE V+46,0:POKE V+29,PEEK(V+29)0R 1 28	<090> 21170	IF IN(16,l)<>AP THEN 21180	<051> 21171	PRINT"{HQME,7DOWN>";TAB(24)"r	<035> 21180 IF IN(18,l)<>AP AND IN(19,l)<>AP THE N 21200:REM SPRUENGE I.D. DECKE	<145> 21181 POKE V+21,PEEK(V+21)0R 128:P0KE 5017 5,43:P0KE V+14,170:POKE V+15,56	<008> 21182 POKE V+46,0:POKE V+29,PEEK(V+29)0R 1 28	<110> 21200 IF	IN(20,l)<>AP THEN 21210	<090> 21201 IF AP=31 THEN POKE 55599,8:G0T0 2121 0	<189> 21202 POKE V+21,PEEK(V+21>0R 8:P0KE 50171, 42:P0KE V+6,180:POKE V+7,150:POKE V+ 42,8	<123> 21210 IF IN(21,l)<>AP THEN 21220	<236> 21211 POKE V+21,PEEK(V+21)0R 128:IF IN(46, 3)=0 THEN POKE V+14,150:POKE V+15,12 l:GOTO 21213	<025> 21212 POKE V+14,155:P0KE V+15,115	<117> 21213 POKE 50175,44:POKE V+46,9:P0KE V+37, 0:POKE V+38,1:POKE V+23,PEEK(V+23)OR 128	<006> 21214 POKE V+29,PEEK(V+29)0R 128:P0KE 4920	9,50:POKE 49212,50:POKE 49250,47:POK E V+28,128	<059> 21215 POKE 49251,47:P0KE 49252,47:P0KE 492 10,45	<001> 21220 IF IN(22,l)<>AP	THEN 21230	<127> 21221 POKE V+21,PEEK(V+21)0R 128:P0KE 5017 5,41	<164> 21222 POKE V+14,190:POKE V+15,105:POKE V+4 5,14:P0KE V+46,7	<207> 21223 POKE V+23,PEEK(V+23)0R 128:P0KE V+29 ,PEEK(V+29)0R 128	<197> 21230 IF IN(24,l)<>AP THEN	21240	<146> 21231 PRINT"CH0ME,12D0WN,16RIGHT,GREY lM/ l///10{DOWN,8LEFT}-.-...-,<D0WN,8LEF D"	<053> 21232 PRINT"<UP,16RIGHT,BROWN>^0W5Tffffr"	<142> 21240 IF IN(25,l)<>AP THEN 21250	<036> 21241 POKE V+21,PEEK(V+21)OR 192:P0KE 5017 4,48:P0KE 50175,49:POKE V+45,7:P0KE V+46,7:P0KE V+12,138	<151> 21242 POKE V+37,0:POKE V+38,12:P0KE V+13,9 8:P0KE V+15,98:P0KE V+28,192:P0KE V+ 23,PEEK(V+23>0R 192	<009> 21243 IF Y2=1 THEN POKE V+12,135:P0KE V+14 ,208:POKE V+29,32:POKE 50173,31:POKE V+44,9:G0T0 21247	<084> 21244 PRINT"{HOME,6DOWN,14RIGHT,BREY 11... 	<DOWN, 12LEFT>		 . ": POKE V+14,186	<244> 21245 PRINT"<14RIGHT>.					 CD0WN,12L EFT3	"	<119> 21246 POKE V+29,PEEK(V+29)0R 192=PRINT"<14 RIGHT>	":GOTO 21250	<159> 21247 PRINT"<H0ME,6D0WN,14RIGHT,GREY 1)... <6SPACE}...<DOWN,12LEFT>...<6SPACE>. .."	<215> 21248 PRINT"<14RIGHT>...<6SPACEK..{DOWN,1 2LEFT>...t6SPACE>..."	<103> 21249 PRINT"{14RIGHT]-...{6SPACE}..."	<078> 21250 IF IN(27,l)<>AP THEN 21260	<057> 21251 POKE V+21,PEEK(V+21>0R 128:P0KE 5017 5,51:P0KE V+46,12:P0KE V+14,200	<092> 21252 POKE V+15,120:POKE V+23,PEEK(V+23)0R 128:P0KE V+29,PEEK(V+29)0R 128	<042> 21260 IF IN(29,l)<>AP THEN 21270	<076> 21261 POKE V+21,PEEK(V+21)0R 192:P0KE 5017 4,52:P0KE 50175,54	<044> 21262 POKE V+12,121:P0KE V+13,105:POKE V+1 4,210sPOKE V+15,105:POKE V+28,64	<043> 21264 POKE V+45,8:P0KE V+46,15:P0KE V+37,1 l:POKE V+38,7	<093> 21265 POKE V+23,PEEK(V+23)0R 192:P0KE V+29 ,PEEK(V+29)0R 64	<136> 21270	IF IN(30,l)<>AP THEN	21280	<026> 21272 POKE V+21,PEEK(V+21>0R 24:P0KE 50171 ,50:POKE 50172,50:POKE V+6,142:P0KE V+7,140	<116> 21273 POKE V+8,172:P0KE V+9,140:POKE V+42, 8:P0KE V+43,8:P0KE V+29,PEEK(V+29>0R 24	<231> 21280 IF IN(33,l><>AP THEN 21290	<195> 21281 PRINT"CBROWN,HOME,DOWN,16RIGHT >2-... .,+<D0WN,7LEFT}//////"	<117> 21290 IF IN(37,l)<>AP THEN 21300	<117> 21291 POKE V+21,PEEK(V+21)0R 128:P0KE 5017 5,58:P0KE V+46,12:P0KE V+14,138	<152> 21292 POKE V+15,105:POKE V+23,PEEK(V+23)0R 128:P0KE V+29,PEEK(V+29)0R 128	<098> 21300	IF IN(38,l)<>AP THEN 21310	<008> 21301 POKE V+21,PEEK(V+21)0R 208:POKE V+28 ,64:P0KE 50175,55:POKE 50172,57	<252> 21302 POKE 50174,56:POKE V+12,160:POKE V+1 3,125:POKE V+14,160:POKE V+15,125:P0 KE V+46,12	<188> 21303 POKE V+9,125:P0KE	V+45,9:P0KE	V+37,0	<241> 21304 POKE V+43,12:P0KE	V+23,208:POKE	V+29 ,PEEK(V+29)OR 208	< 009 > 21305 POKE V+8,160:IF IN(45,1)=-1 OR Y3=1 THEN POKE V+8,180	<252> 21307 PRINT”<HOME,10DOWN,19RIGHT,2SPACE,DO WN,2LEFT,2SPACE,DOWN,2LEFT,2SPACE,DO WN,3LEFT,4SPACE J"	< 250 > 21310 IF IN(39,l)<>AP THEN 21320	<154> 21311 POKE V+21,PEEK(V+21)0R 128:P0KE 5017 5,30:POKE V+46,9:P0KE V+14,172	<054> 21312 POKE V+15,98:P0KE V+23,PEEK(V+23)0R 128	<067> 21314 PRINT"<H0ME,6D0WN,18RIGHT,BLACK>1..0
132
C 64
Spiel
	{D0WN,4LEFT>-..,{D0WN,4LEFT}-..,"	<169>		ORDEN,TUER NACH SUEDEN,SCHLUESSEL	< 150>
21315	PRINT"<18RIGHT}-..,<DOWN,4LEFT3-..,"	<184>	39970	DATA TOTENMASKE,GASMASKE.GIFTIGE GAS	
21318	PRINT“{HOME,14D0WN,16RIGHT,BROWN3 +1/			E,FALLTUER,SCHRITTE,SONNENAUFGANG	<101>
	///02"	<213>	39975	DAT A GEHEIMGANG,AUGE,WAND,TREPPE	<186>
21320	IF IN(40,l)<>AP THEN 21330	<105>	39985	DATA 160,0,162,0,142,32,208,142,33,2	
21321	POKE V+21,PEEK(V+21)0R 128:P0KE 5017			08,232,234,224,16,208,244,200,192,25	
	5,52:P0KE V+28,128:P0KE V+46,8:P0KE			5	<211>
	V+37,11	<079>	39990	DATA 208,237,169,0,141,32,208,141,33	
21322	POKE V+38,7:POKE V+14,160:POKE V+15,			,208,96	<003>
	110:POKE V+23,PEEK(V+23)0R 128	<071>	40000	DAT A 3,4,2,0,0,0,2,2,2,1,0,0,3,1,3,0	
21323	POKE V+29,PEEK(V+29)0R 128	<118>		,0,0,1,0,5,0,0,0,0,0,0,4,0,0	<159>
21330	IF IN(44,l)<>AP THEN 21340	<125>	40001	DAT A 5,0,7,0,0,0,0,0,0,6,0,0,9,17,15	
21331	PR I NT *' <HOME, 12D0WN, 15RI GHT , BROWN H"	<247>		, 0,0,0,10,8,0,0,0,0,0,9,0,0,0,0	<238>
21340	IF IN(45,l)<>AP THEN 21350	<015>	40002	DATA 0,10,12,0,0,0,0,13,0,11,0,0,12,	
21341	POKE V+21,PEEK(V+21)DR 32:P0KE V+28,			0,0,0,0,0,0,0,20,0,0,0,0,0,0,8,0,0	<082>
	PEEK(V+28)OR 32:POKE V+44,14:POKE V+		40003	DATA 0,0,0,15,0,0,8,0,18,0,0,0,0,0,1	
	37,0	<058>		9,17,0,0,0,0,0,18,0,58,0,0,21,14,0,0	<009>
21342	POKE V+38,7:P0KE V+29,PEEK(V+29)0R 3		40004	DATA 0,0,0,20,0,0,27,23,0,21,0,0,22,	
	2:P0KE V+10,160:POKE V+ll,122:P0KE 5			24,0,26,0,0,23,0,0,0,0,0,26,0,24,0,0	
	0173,40	<063>			<046>
21350	IF IN(46,l)<>AP THEN 21370:REM GASMA		40005	DATA 0,25,23,0,0,0	<044>
	SKE	<140>	40006	DAT A 0,22,0,28,0,0,31,0,27,29,0,0,0,	
21360	PRINT"<HOME,12DOWN,19RIGHT,BROWN3R"	< 192>		0,28,0,0,0,0,0,0,0,0,0,0,28,0,30,0,0	<098>
21370	IF IN(41,l)<>AP THEN 21500	<011>	40007	DAT A 0,0,0,31,0,33,34,38,0,36,32,0,0	
21372	IF AP=57 THEN 21500	< 030 >		,33,0,35,0,0,55,36,34,0,0,0,35,37,33	
21375	PRINT"<HOME,13DOWN,20RIGHT,BROWN>r"	<150>			<134>
21500	RETURN	<220>	40008	DATA 0,0,36,41,0,0,0,0,33,0,0,0,0,0,	
30000	POKE V+21,0:PRINT"CCLR,3DOWN,10RIGHT			0,40,46,0,0,0,39,0,0,0,0,0,37,42,0,0	
	,GREEN3SIE TRAGEN BEI SICH"	<187>			<021>
30010	FOR 1=1 TO 46	<062>	40009	DAT A 0,41,0,0,0,0,0,0,44,48,0,0,0,43	
30020	IF IN(I,1)=-1 THEN PRINT"<BLUE,DOWN,			,50,49,0,0,0,49,0,0,0,0,0,0,0,51,39	<240>
	10RIGHT,WHITE)'TT$(I)	<170>	40010	DAT A 0,0,0,0,0,40,0,0,0,49,0,43,0,0,	
30025	NEXT	<061 >		48,45,0,44,0,0,44,0,0,38,0,0,0,0,0,4	
30026	PRINT"<5D0WN,10RIGHT,GREEN,RVSON )SPA			6,0	<099>
	CE DRUECKEN<RVOFF,WHITE3"	< 2^5 >	40011	DATA 0,0,0,0,47,0,0,0,0,0,52,0,0,0,0	
30030	GET A$:IF A$<>" "THEN 30030	<133>		,0,51,0,0,0,35,0,0,0,56,0,57,0,0,55,	
30040	IF A$=" "THEN GOTO 160	<221 >		0	<025>
34000	POKE V+21,0:PRINT CHR$(14),"<CLR,3D0		40012	DATA 56,0,0,0,0,0,0,0,0,0,19,0	<192>
	WN3":INPUT"EILENAME";E$	< 199>	40025	DATA 4,1,1,5,0,1,7,0,1	<230>
34005	OPEN l,8,15,"S:"+E$:CL0SE 1	<214>	40027	DATA 7,0,0,35,0,1,10,1,1	<169>
34010	OPEN 2,8,2,E$+",W"	<007>	40029	DATA 10,0,0,10,0,1,12,1,1	<170>
34020	FOR 1=1 TO 58	<137>	40030	DATA 13,0,1,0,0,0	<070>
34030	PRINT#2,PN(I,1):PRINT#2,PN(I,2>:PRIN		40031	DATA 14,0,1,15,0,1,16,1,1,16,0,0	<209>
	T#2,PN(I,3):PRINT#2,PN(I,4)	<216>	40032	DATA 21,0,0	<034>
34035	PRINT#2,PN(I,5 >:PRINT#2,PN(I,6):NEXT	<191>	40033	DATA 21,0,1,23,0,1	<072>
34040	FOR 1=1 TO 46	<027>	40034	DATA 24,0,1,25,1,1	<169>
34050	PRINT#2,IN(I,1):PRINT#2,IN(I,2):PRIN		40035	DATA 27,1,1,31,0,1,31,0,1	<105>
	T#2,IN(I,3):NEXT	< 158>	40036	DATA 37,0,1	<143>
34060	PRIWT#2,AP:PRINT#2,X1:PRINT#2,X 2:PRI		40037	DATA 40,0,1,42,0,1,42,0,1	<221>
	NT#2,X4:PRINT#2,X5:PRINT#2,X6	<074>	40038	DATA 38,0,1,47,0,0,48	<225>
34070	PRINT#2,X9:PRINT#2,Yl:PRINT#2,Y2:PRI		40039	DATA 1,1,50,0,1,50,0,0	<039>
	NT #2,Y3:PRINT#2,Y4:PRINT#2,GE	<067>	40040	DATA 51,0,1,52,0,1,0,0,0	<240>
34080	CLOSE 2:G0T0 50300	<210>	40041	DATA 47,0,1,52,0,1,53,0,1	<091>
35000	PRINT" tCLR, 3D0WN3-" : INPUT" FILENAME" ; E		40043	DATA 54,0,1,57,0,1,0,1,1	<115>
	$:KK=1	<046>	40044	DATA 19,0,1,25,0,1,58,1,1,53,1,0,27,	
35005	OPEN 2,8,2,E$	<016>		1,0	<035>
35010	FOR 1=1 TO 58	< 1 11 >	45000	POKE 53270,PEEK(53270)OR 16:P0KE 532	
35020	INPUT#2,PN <I,1) ,PN(I,2) ,PN(I,3) ,PN(I			83,9:P0KE 53282,7	<054>
	,4),PN(I,5),PN<I,6>:NEXT	< 11 7 >	45005	POKE 53280,0:POKE 53281,9	<208>
35030	FOR 1=1 TO 46	<001>	45010	PRINT"{CLR,GREY 1,2D0WN,3RIGHT,4SPAC	
35040	INPUT#2,IN(I,1),IN(I,2>,IN(I,3):NEXT	<083>		E>P H A R A 0 S<3SPACE3G R A V E"	<176>
35050	INPUT#2,AP,X1,X2,X4,X5,X6,X9,Y1,Y2,Y		45020	PRINT"{DOWN,llSPACE)A D V E N T U R	
	3,Y4,GE	<203>		E{13SPACE,BLACK)"	<005>
35060	CLOSE 2:RETURN	<140>	45030	PRINT" <19SPACEX .	<099>
39900	DATA GEHE,ZERSTOERE,OEFFNE,KLOPFE,FR		45031	PRINT"C18SPACE}.//.	<102>
	AGE,HACKE,TOETE,KRIECHE,WERFE,SCHIEB		45032	PRINT"tl7SPACE3.////.	<114>
	E	<117>	45033	PRINT"{16SPACE}.//////.	<162>
39910	DATA DREHE,KLETTERE,NIMM,VERLIERE,ZI		45034	PRINT"{15SPACE).////////.	<098>
	EHE,LIST,SAVE,STOP	<135>	45035	PRINT"(14SPACE). //////////.	<101>
39920	DATA SPITZHACKE,BEDUINE,STRAUCH,ZUGE		45036	PRINT"{13SPACE}.////////////.	<113>
	MAUERTER EINGANG,SCHLANGE,STATUE,HEB		45037	PRINT"{12SPACE}.//////////////.	<161>
	EL	<081>	45038	PRINT"<1lSPACE}.////////////////.	<097>
39925	DATA TUER NACH WESTEN,SEIL,TUER NACH		45039	PRINT"{10SPACEI.//////////////////.	<100>
	NORDEN,DURCHGANG,DURCHGANG	<045>	45040	PRINT"{9SPACEI.////////////////////.	<112>
39930	DATA TUER NACH NORDEN,TONKRUG MIT ES		45041	PRINT"{8SPACE}./////////////////////	
	SEN,SKORPION,PFEIL,TUER NACH NORDEN	<004>		/.	<160>
39935	DATA BESCHAEDIGTE DECKE,SPRUENGE IN		45050	PRINT"{2D0WN,GREY 1,19SPACE}BY{19SPA	
	DER DECKE,DIAMANT,TOTER GRABRAEUBER	<253>		CE)"	<166>
39940	DATA STATUE,TUER NACH NORDEN,LOCH,RE		45060	PRINT"{12SPACE)W0LFGANG RAUSCH £12SPA	
	LIEF,TUER NACH NORDEN,HORUS	<163>		CE)"	<082>
39945	DATA TUER NACH NORDEN,SCHAETZE,HOLZB		45100	GOSUB 12000:GOSUB 30	<059>
	ALKEN,TUER NACH WESTEN,TUER	<130>	45110	PRINT"{CLR3",CHR$(14):POKE 53270,PEE	
39950	DATA OEFFNUNG IN DER DECKE,TUER NACH			K(53270)AND 239	<192>
	NORDEN,TUER NACH NORDEN	<082>	45112	PRINT"<WHITE,3DOWN,4RIGHT3H : ^UES	
39955	DATA TUER NACH NORDEN,OSIRISSTATUE,S			äPIEL BEGINNEN"	<114>
	ARKOPHAG,ZUGEMAUERTER AUSGANG	<134>			
39960	DATA HOLZSCHREIN,AMULETT,TUER NACH N		Listing	»Grab des Pharao« (Fortsetzung)	

133
Spiel
C 64
45113	PRINT"CDOWN,4RIGHT3fi : SLTES SPIEL F		50202	PRINT CHR$(14)"{CLR,RED,2D0WN,3SPACE	
	ORTSETZEN"	<100>		3SIE SIND IN EINE FALLGRUBE GESTUERZ	
45114	GET X$:IF X$="N"THEN DA=l:GOTO 45120	<138>		T<WHITE3":GOSUB 5600:GOTO 50300	<003>
45116	IF X$="A"THEN GOSUB 35000:GOSUB 60:G		50203	GOSUB 5600:PRINT CHR$(14)"<CLR,RED,2	
	OTO 45120	<136>		DOWN,3SPACE3DIE "IT$<54)" IST EINGES	
45118	IF X$<>"A"AND X$<>"N"THEN 45114	<174>		TUERZTCWHITE3":GOTO 50300	<209>
45120	PRINT"<CLR,RIGHT,YELLOW3ZIEL DES SpI		50204	GOSUB 5600:PRINT CHR$(14)"CRED,CLR,2	
	ELS IST ES EINE £YRAMIDE"	<118>		DOWN,3SPACE3DIE DECKE IST HERUNTERGE	
45125	PRINT"<RIGHT3ZU ERFORSCHEN UND DIE W			BROCHENCWHITE3":GOTO 50300	<114>
	ERTVOLLE"	<042>	50206	PRINT CHR$(14)"<CLR,RED,2D0WN,3SPACE	
45127	PRINT"{RIGHDIOTENMASKE DES £HARAOS			3EIN HERABFALLENDER STEIN HAT SIE ER	
	ZU FINDEN."	<077>		<5SPACE 3SCHLAGEN(WHITE 3":GOTO 50300	<211>
45130	PRINT"<DOWN,RIGHT,ORANGE 3tOLGENDE ^E		50207	PRINT CHR$(14)"{CLR,RED,2D0WN,3SPACE	
	RBEN VERSTEHT DER £OMPUTER:"	<187>		>"IT$(47)" HABEN SIE GETOETET<WHITE3	
45132	PRINT"{RIGHT,DOWN 3 GEHE,NIMM,VERLIERE			":GOTO 50300	<058>
	,OEFFNE,TOETE"	<007>	50208	FOR T=1 TO 20:SYS 866:NEXT:G0SUB 560	
45134	PRINT"<RIGHT 3ZERSTOERE,KLOPFE,FRAGE,			0:PRINT"CCLR,RED,2D0WN,3SPACE3SIE WU	
	WERFE,DREHE"	<163>		RDEN VON HINTEN GEPACKT UND "	<137>
45136	PRINT"{RIGHT 3HACKE,KRIECHE,WERFE,SCH		50209	PRINT"{3SPACE3 ERWUERGT{WHITE 3":GOTO	
	IEBE,KLETTERE"	<157>		50300	<177>
45137	PRINT”{RTGHT3LIST,SAVE,STOP	< 117 >	50210	GOSUB 5600:PRINT CHR$(14)"<CLR,RED,2	
45140	PRINT"<BLACK,DOWN,RIGHT3BACH JEDEM E			DOWN,3SPACE3DIE "IT$(5)" HAT SIE GEB	
	INGEGEBENEN .HORT MUSS"	< 150>		ISSEN<WHITE3":GOTO 50300	<131>
45142	PR I NT ” {R I GHT 3 ' M2^' GEDRUECKT WERD		50211	GOSUB 5600:PRINT CHR$(14)"<CLR,RED,2	
	EN. "	<237>		DOWN,3SPACE3EINE "IT$(48)" HAT SICH	
45144	PRINT"tRIGHT3ßLLE ÜOMEN KOENNEN AUF			UNTER IHNEN"	<103>
	5,ALLE VERBEN"	<143>	50212	PRINT"C3SPACE3 GEOEFFNET CWHITE 3":GOTO	
45146	PRINT"<RIGHT3AUF 4 gUCHSTABEN ABGEKU			50300	<201>
	ERZT WERDEN."	<188>	50213	GOSUB 5600:PRINT CHR^(14)"CCLR,RED,2	
45148	PRINT"{RIGHT3^I &ICHTUNGSANGABEN GE			DOWN,3SPACE3SIE HABEN EINEN MECHANIS	
	NUEGT EIN "	<090>		MUS "	<138>
45150	PRINT"<RIGHT3gUCHSTABE.	<245>	50214	PRINT"<3SPACE3AUSGELOEST ,WODURCH EI	
45152	PRINT"<RIGHT3Z.£.:G£££ 'figWl'{5SPA			N "IT$(16)" AUS "	<160>
	CE)H '£LLm'"	<084>	50215	PRINT"<3SPACE3DER WAND GESCHOSSEN WU	
45154	PRINT"{RIGHT3LL5T ZEIGT ALLE GEGENST			RDE<WHITE3":GOTO 50300	<099>
	AENDE, DIE"	<162>	50300	PRINT CHR$(14>"<5DOWN,3RIGHT3*tf3CH EI	
45155	PRINT"<RIGHT3MAN BEI SICH TRAEGT (MA			N 2iERSUCH7<SHIFT-SPACE3 (J/N) "	<148>
	XIMAL 3)."	<037>	50310	GET A$:IF A$<>"J"AND A$<>"N"THEN 503	
45157	PRINT"{RIGHT}äßV§ SPEICHERT DEN 5PIE			10	<103>
	LSTAND AUF"	<247>	50320	IF A$="J"THEN CLR:PRINT CHR$(142)"<C	
45158	PRINT"{RIGHTJKASSETTE AB."	<150>		LR3":RUN	<026>
45160	IF DA=1 THEN GOSUB 60	<091 >	50330	SYS 64738	<095>
45170	PRINT"CDOWN,4RIGHT,RVSON 3'5Pfl££' DRU		50700	FOR X=1 TO 20:POKE V+8,160+X:FOR T=1	
	ECKEN<RVOFF3"	<050>		TO 200:NEXT:NEXT:IN(45,3>=l:GOSUB 5	
47000	GET X$:IF X$<>" "THEN 47000	<086>		900:GOTO 164	<192>
47010	IF x$=" "THEN PRINT CHR$(142),"<CLR3		50720	TI$="000000"	<058>
	n	<244>	50725	PRINT A4$"K0MMAND0 ?"	<062>
47020	IF KK=1 THEN 155	<059>	50730	POKE 631,0:POKE 198,0	<076>
47025	GOTO 150	<040>	50731	U=PEEK(631)	<124>
49000	GOSUB 5600:PRINT" [CLR,2D0WN,9RIGHT 3S		50740	IF TI$="000002"THEN 50770	<008>
	IE SIND AUSSERHALB":GOSUB 5800	<184>	50750	IF U=71 THEN POKE 631,U:G0T0 250	<069>
49002	IF IN(45,1)<>-1 THEN 49050	<129>	50760	IF U>0 AND U<>71 THEN 50770	<060>
49005	PRINT CHR$(14),"€CLR,GREEN,3D0WN,3SP		50765	GOTO 50731	< 246 >
	ACE3ÄIE HABEN ES GESCHAFFT DIE GOLDE		50770	FOR X=1 TO 10:POKE V+13,125-X:F0R T=	
	NE"	<247>		1 TO 300:NEXT:NEXT:FOR T=1 TO 20:SYS	
49010	PRINT"{DOWN,3SPACE32»TENMASKE DES £H			866:NEXT	<161>
	ARAOS ZU FINDEN"	<054>	50780	GOSUB 5600:PRINT CHR$(14)"<CLR3":GOT	
49020	PRINT"{DOWN,3SPACE3UND HOECHSTE ^RU			0 50300	<086>
	NGEN SIND IHNEN<3SPACE3"	<204>	50800	TI^="000000":POKE 631,0	<005>
49030	PRINT"{DOWN,3SPACE3GEWISS,"	<048>	50805	PRINT A4$"K0MMAND0 ?"	< 142>
49040	PRINT"{3DOWN,RED,3SPACE3DOCH DER Ü-U		50806	POKE 631,0:POKE 198,0	<152>
	CH DES £HARAOS WIRD"	<226>	50807	U=PEEK(631>	<200>
49045	PRINT"<DOWN,3SPACE3SIE FUER IMMER VE		50808	IF U=71 OR U=84 THEN POKE 631,U:G0T0	
	RFOLGEN.<WHITE3":GOTO 50300	<104>		250	<081>
49050	PRINT"<CLR,GREEN,3DOWN,3SPACE3&IE HA		50809	IF U>0 AND U<>71 AND U<>84 THEN 5082	
	BEN ES ZWAR GESCHAFFT, DIE" .	<254>		0	<012>
49055	PRINT"€DOWN,3SPACE3£YRAMIDE LEBEND Z		50810	IF TI$="000002"THEN 50820	<042>
	U VERLASSEN, DOCH"	<019>	50815	GOTO 50807	<140>
49060	PRINT"{DOWN,3SPACE3SIE HABEN DIE GOL		50820	FOR X=1 TO 10:POKE V+15,140+X:POKE V	
	DENE JOTENMASKE"	<242>		+14,170-X/2:FOR T=1 TO 100:NEXT:NEXT	<174>
49065	PRINT"{DOWN,3SPACE3NICHT GEFUNDEN.":		50825	FOR T=1 TO 10:SYS 866:NEXT:G0SUB 560	
	GOTO 50300	<156>		0	<138>
50100	REM	<121>	50830	PRINT CHR$(14)"CCLR,RED,2DOWN,3SPACE	
50105	POKE V+14,190:POKE V+15,130	<233>		3DER "IT$(15)" HAT SIE GESTOCHEN{WHI	
50110	FOR F2=135 TO 155 STEP 2:P0KE 50175,			TE3":GOTO 50300	<011>
	46:F0R T=1 TO 100:NEXT:POKE V+15,F2	<142>	52000	PRINT A3$"CGREEN3SIE HOEREN "IT$(49)	
50120	POKE 50175,47:FOR T=1 TO 100:NEXT:NE			" HINTER SICHCWHITE3":C=C+1	<095>
	XT	<022>	52004	FOR C1=1 TO 4	< 022 >
50121	FOR T=1 TO 30:SYS 866:NEXT:G0T0 5021		52005	FOR LA=5 TO 0 STEP—.4	<018>
	0	<217>	52010	POKE SI+24,LA:P0KE SI+5,8*16+10:POKE	
50190	PRINT CHR$(14)"<CLR,RED,2D0WN,3SPACE			SI+6,15*16:P0KE SI+l,15sP0KE SI+0,0	<060>
	3SIE HABEN SICH HOFFNUNGSLOS VERIRRT		52020	POKE SI+4,129:NEXT	<065>
	<WHITE3":GOTO 50300	<022>	52025	POKE SI+4,0:POKE SI+5,0	<236>
50200	PRINT CHR$(14)"CCLR,RED,2D0WN,3SPACE		52030	FOR T=1 TO 800:NEXT:NEXT:RETURN	<103>
	3SIE HABEN DEN HALT VERLOREN UND SIN D <4SPACE3HINUNTERGEFALLEN{WHITE 3"	<050>	© 64 <	?r	
50201	GOTO 50300	<254>	Listing »Grab des Pharao« (Schluß)		
134
C 64
Spiel
Castle of Doom
Castle of Doom ist ein Adventure, das es in sich hat. Man kann nicht nur drei verschiedene Versionen auswählen, es ist zudem gar nicht einfach, bis zum Ende durchzustehen. Dazu brauchen Sie Geduld, eine gehörige Portion Phantasie und — viel Zeit.
Zunächst einige wesentliche Informationen zum Ablauf des Spiels:
Am Anfang des Spiels kann man sich für eine von drei verschiedenen Versionen entscheiden. Bei allen Versionen ist das »Spielfeld« gleich, doch das Ziel, das es zu erreichen gilt, ist jeweils ein anderes. Die Kommandos müssen jeweils aus zwei Worten bestehen, die durch Leerraum getrennt werden. Beide Worte können beliebig abgekürzt werden, doch man muß darauf achten, daß keine Mißverständnisse auftreten.
Das Programm beinhaltet eine kurze Anleitung, in der die wichtigsten Punkte der Befehlseingabe nochmals erwähnt werden. Zudem sind alle Verben, die der Computer versteht, aufgeführt. Wird dennoch ein Wort benutzt, das der Computer nicht kennt, so gibt er an, welches der eingegebenen Worte ihm unbekannt ist.
Auf dem Bildschirm sind immer zu sehen:
— eine Grafik, die den Ort zeigt, an dem man sich befindet,
— eine Liste der Gegenstände, die sich an diesem Ort befinden,
- eine Liste der Gegenstände, die man besitzt.
(Bernd Weißbecker/gk)
Zum Abschluß hier noch die wichtigsten Variablen:
V$(1...14)	ListeVerben
H$(1...21)	Liste Hauptwörter
Rl$(1...19)	mögliche Richtungen
Zl$(1...19)	Nachbarfelder
G$(1...12)	Liste Gegenstände
G(1...12)	Ort der Gegenstände
P	Position
V	Version
Z1$,Z2$	Zauberwörter
ZA	= 0,1,2 Zauberwort gesagt?
K$	Kommando
V$	Verb
H$	Hauptwort
KB$(1...9)	mögliche Kombinationen
MO	= 1 Monster besiegt
GE	= 1 Geist besiegt
MR	= 1 Monster anwesend
GS	= 1 Geistanwesend
ZB	= 1 Zauberer anwesend
GG	Anzahl Gegenstände
Variablen-Definition zu Castle of Doom
Zur Erläuterung des Programms sind hier die verschiedenen Abschnitte aufgeführt:		
1		Sprung zur Befehlsausführung
5 —	95	DATAs einlesen, Erklärung?
100 —	160	Version auswählen
165 —	176	Zauberwörter bestimmen
179 —	740	Bilder zeichnen
748 —	860	Kommando auswerten
870 —	940	Bewegen
950 —	980	Sprung zur Befehlsausführung berechnen und ausführen
999 —	5382	Befehlsausführung
6500 —	6528	Befehl »sage«
7000 —	7065	Besitz + Gegenstände anzeigen
7100-	7125	Befehl »nimm«
7200 —	7415	Befehl »wirf«
7500 —	7560	Erklärung
7600-	7720	verloren
7800 —	7880	gewonnen
8000 —	8110	DATAs
Da die Kommandoauswertung recht ungewöhnlich aus-		
geführt wird, folgt hier noch eine Beschreibung der betref-		
fenden Programmzeilen:		
755		Kommandoeingabe
760 —	785	Zerlegen in Verb/Hauptwort
795 —	810	Vergleich mit der Liste aller bekannten Wörter Zuordnung: X = Nummer des Verbs (1 - 14) Y = Nummer des Hauptworts (1 — 21)
830 —	845	Untersuchen, ob eine sinnvolle Kombination von Verb und Hauptwort vorliegt
960 —	980	Aus X und Y wird die Zeilennummer berechnet, in der die Antwort auf das eingegebene Kommando steht. Die berechnete Zeilennummer wird in ihre Ziffern zerlegt, und diese werden in den Programmspeicher hinter das GOTO in Zeile 1 gePOKEd. Anschließend wird ein GOTO 1 ausgeführt.

135
Spiel
C 64
0 GOTO 5	<207>	250 FOR J=1402 TO 1562 STEP 40:FOR K=0 TO		
1 GOTO! ! • !	<174>		3:P0KE J+K,160:POKE J+K+QQ,0:NEXT:NEXT	<093>
2 REM	<064>	255	POKE 1402,254;POKE 1405,252:GOTO 245	<083>
3 REM ZEILEN 0 UND 1 NICHT AENDERN !!!! .	<010>	260	FOR J=1552 TO 1752 STEP 40:POKE J,160:	
4 REM	<066>		POKE QQ+J,0:NEXT:POKE 1752,105:GOTO 24	
5 DIM V$(14),H$(21),RI$(19),ZI$(19),G$(12)			5	<194>
,G(12)	<251>		FOR J=1575 TO 1775 STEP 40:POKE J,160:	
6 L$="<RVSON,24SPACE}“	<092>		POKE BQ+J,0:NEXT:POKE 1775,95:G0T0 245	<110>
7 CL$="U<22SPACE>H"	<083>	270	ON P GOTO 275,740,300,315,740,325,345,	
S EF$="{39SPACE}"	<128>		740,355,375,395	<019>
10 POKE 53280,14:POKE 53281,14:P0KE 53272,		275	ON V GOTO 740,280,285	<081>
23:P=15:Q0=54272:VI=53248	<212>	280	POKE 2040,15:POKE VI+39,0:POKE VI,150:	
15 POKE VI+21,0;PRINT"{CLRJ"SPC(12)"{BLACK			POKE VI+l,140:POKE VI+29,l:P0KE VI+23,	
,8D0WN}£aäTL£{SHIFT-SPACElßEtSHIFT-SPAC			1	<134>
E)£ßOfi":REM CASTLE OF DOOM	<081>	282	POKE VI+21,lsZB=l:GDT0 740	<172>
20 PRINT"{2D0WN,WHITE,4SPACE>^IN fiPVENTURE		285	PR I NT " <HOME, 10DOWN ) " SPC (13) " FpW" : PR IN	
VON S.äEISSBECKER"	<187>		T SPC(12)"H<3SPACE>HH"	<074>
25 PRINT SPC(ll)"<2D0WN}* ^ITTE WARTEN *"	<138>	290	PRINT SPC(ll)"M<3SPACE)H H":PRINT SPC(	
30 FOR 1=1 TO 14:READ V$(I)	<037>		11) "SWE<2SPACE>TT":PRINT SPC(11) "H$$N	
35 IF I<10 THEN READ KB$(I)	<023>		W"	<022>
40 NEXT	<050>	295	PRINT SPC(ll)"SFpSii SCHATZ":FOR 1 = 1 TO	
45 FOR 1=1 TO 21:READ H$(I):NEXT	<129>		2000:NEXT:GOTO 7830	<255>
50 FOR 1=1 TO 19sREAD RI$(I),ZI$(I):NEXT	<087>	300	IF LEFT$(RI$(3),l)="N"THEN 740	<140>
55 FDR 1=1 TO 12:G$(I)=H$(I):READ G(I):NEX		305	FOR J=1402 TO 1562 STEP 40:FOR K=0 TO	
T	<249>		3	<013>
60 FOR 1=1 TO 4:READ ZX$(I),ZY$(I):NEXT	<lB7>	310	POKE J+K,160:POKE J+K+QQ,06:NEXT:NEXT:	
65 FOR 1=13 TO 15	<155>		PRINT SPC(16)"<4UP,BLACK>SPIEGEL"=G0T0	
70 FOR J=0 TO 62:READ KsPOKE 64*I+J,K:NEXT			740	<061>
:NEXT	<224>	315	PRINT"<HOME,2D0WN >"SPC(13)"¥ <RVSON,4SP	
85 PRINT"<UP,2SPACE>00ECHTEN 5IE EINE SRKL			ACE ,RVOFF>S" s PRINT SPC (14) "5f{RVSON, 2SP	
AERUNG ? (£/&)"	<198>		ACE,RVOFF>^"sPRINT SPC(15)"W"	<194>
90 GET A$:IF A$="J"THEN 7500	<101>	320	FOR 1=1 TO 10:PRINT SPC(15)"fii":NEXT:G	
95 IF A$<>"N"THEN 90	<200>		OTO 740	<192>
100 PRINT*' {CLR , BLACK> "SPC (10) " <DOWN>.C_H_5T_LE.		325	PR I NT " <HOME , BROWN , 10DOWN } " SPC (13) " WFp	
{SHIFT-SPACE]aF{SHIFT-SPACE)mfi"	<198>		F":PRINT SPC(13)"LmB"	<143>
105 PRINT"<2D0WN,CYAN,SPACE>^I DIESEM flDV		330	PRINT SPC(12)"H{4SPACEW:PRINT SPC(1	
ENTURE KOENNEN £IE ZWI-"	<167>		1) "M<4SPACE)W': PRINT SPC (10) "&<4SPAC	
110 PRINT"<DOWN,SPACE>SCHEN DREI ÄERSIONEN			E)W'	< 133>
WAEHLEN ;":PRINT"<DOWN,2SPACE>HDLLEN		335	PRINT SPC(9)"fiYYYm":PRINT SPC(9)"H<3	
£IE : "	<208>		SPACE)^" : PRINT SPC (9) "LpTpg<2SPACE)SC	
115 PRINT"{DDWN,2SPACE>1 - EINE VERZAUBERT			HLAFZIMMER"	<201>
E PRINZESSIN";PRINT SPC(6)"{DDWN>RETTE		340	GOTO 740	<126>
N"	<101>	345	IF GE=1 THEN 740	<235>
120 PRINT"<D0WN,2SPACE>2 - EINEN BOESEN ZA		350	POKE 2040,13sPOKE VI+39,l:P0KE VI,150:	
UBERER BESIEGEN”	<042>		POKE VI+l,150:POKE VI+23,lsP0KE VI+29,	
125 PRINT"<D0WN,2SPACE>3 - jEINEN SCHATZ SU				<004?^
CHEN"	<049>	351	P7KE VI+21,l:IF G(12)<>0 THEN FOR 1=1	
130 PRINT"<2D0WN,SPACE>SITTE GEBEN SIE DIE			TO 2000:NEXT:GOTO 7630	<008>
ENTSPRECHENDE"	<104>	352	GS=lsGOTO 740	<027>
135 PRINT"{DOWN,SPACE)J^NNZIFFER EIN."	<073?^	355	PRINT"<HOME,BLACK,DOWN}"SPC(11)"BURGHO	
140 POKE 198,0sWAIT 198,1	<112>		F / BRUNNEN":PRINT SPC(13)"{D0WN)&LSLä	
145 GET I$:IF ASC(I$)<49 OR ASC(I$)>51 THE			LOP^POPOP1'	<220>
N 140	<140>	360	PRINT SPC(17)"<9D0WN>^P00PG":PRINT SPC	
150 V=VAL(I$):IF V<>2 THEN 160	<243>		(16)"<RVSON,8SPACE)"	<209>
155 RI$(13)="W-0":ZI$(13)="1214":RI$(9)="W		365	PRINT SPC(16)"HT9TjuVTw":PRINT SPC(16)"	
-O-R":ZI$(9)="081018"	<175>		TT<6SPACE>W"sPRINT SPC(16) ''Y0fifi2&Y"	<128>
157 RI$(8)="N-S-O":ZI$(8)="051209"	<054>	370	GOTO 740	<156>
160 IF V=1 THEN G(7)=1	<063>	375	POKE 214,14:PRINT	<178>
165 FOR 1=1 TO 4:J(I)=l+4*RND(TI):NEXT	<221>	380	IF FA=1 THEN PRINT SPC(23)"{DOWN)Y{RVS	
170 Zl$=ZXI(J(l))+ZY$(J(2))	<122>		0N,3SPACE>^"sPRINT SPC(24)"*<RVS0N,3SP	
175 Z2T=ZX$(J(3))+ZYT(J(4))	<040>		ACE)5":G0T0 740	<098>
176 IF Zl$=Z2$THEN 165	<202>	385	PR I NT SPC (23) " PWP" s PR I NT SPC (23) "fl{3S	
177 TI$="000000"	<156>		PACE>n"	<215>
179 REM **** BILDER ZEICHNEN ****	<125>	390	PRINT SPC(16)"0UADRAT fl{3SPACE)fl":PRIN	
180 PRINT"{CLR,BLACK }";sPOKE 53272,21:POKE			T SPC<25)"WW" = G0T0 740	<179>
VI+21,0:POKE VI+23,0:POKE VI+29,0	<150>	395	PRINT" <HOME,9D0WN)"SPC (23) " pVpp"' = PRINT	
185 FOR 1 = 1 TO 20.-PRINT SPC(8)CL$:NEXT	<027>		SPC(22) "Wn<3SPACE>ri" = PRINT SPC(22) "w	
190 FOR 1=1824 TO 1863:P0KE I,99:P0KE I+QQ			ßPY£"	<054>
,0:NEXT	<075>	400	PRINT SPC(15)"J^<5SPACE>W TTH-W'sPRINT	
195 IF P>11 THEN 415	<061>		SPC(15)"^{5SPACE>W W W"	<021>
197 POKE 53280,5:POKE 53281,5	<099>	405	PRINT SPC(14)"{RVS0N)^{2SPACE)y{RV0FF)	
200 PRINT"<HOME>";:FOR 1=1 TO 4:PRINT SPC(			YYYYYflLSPB" s PRINT SPC (13) " {RVS0N)^{4SP	
8+1)"S"SPC(22-2*I)"H" :NEXT	<160>	410	ACE)?" PRINT SPC(21)"SCHRANK"sGOTO 740	<187> <244>
205 PRINT SPC (13) " <UP}ypVpVpVpWpWP*"	<076>			
210 FOR 1=1 TO 10:PRINT SPC(12)"H"SPC(14)"		415	IF P>14 THEN 445	<226>
G":NEXT	<151>	417 420	POKE 53280,8:PDKE 53281,8 PRINT"{HOME>";:FOR 1=1 TO 6:PRINT SPC(	<083>
215 PRINT SPC (13) "7YyTOYVYYYYYF<UP}"	< 231 >			
220 FOR 1=1 TO 5:PRINT SPC(13-I)"&"SPC(12+			8)"<BLUE>"L#:NEXT	<177>
2*I)"M":NEXT	<216>	425	FOR 1=55504 TD 55514 STEP 2:P0KE I,7:N	
225 FOR 1=1 TO LEN(RI$(P))STEP 2:A$=MID$(R			EXT;FOR 1=55517 TD 55527 STEP 2:P0KE I	
I$(P),1,1)	<037>		,7:NEXT	<199>
230 IF AT="N"THEN 250	<074>			
235 IF A$="W"THEN 260 240 IF A$="O"THEN 265	<219> <044>	Listing Castle of Doom. Bitte mit dem Checksummer		
245 NEXT:GOTO 270	<147>	auf Seite 16 eingeben.		
136
C 64
Spiel
430 FOR 1=1 TO ll:PRINT"{YELLOWJ"SPC(B)L$: NEXT:FOR 1=1 TO 3:PRINT"{BRDWN>"SPC(8)		660 PRINT"<HOME,BLACK,5D0WN}"SPC(9)"WOLLEN		
		665	SIE DIE GEGEN-“ PRINT SPC(9)"<D0WN>STAENDE, DIE SIE HI	<138>
L$:NEXT	<203>			
435 IF LEFT$(RI$(P),l)<>"N"THEN 740	<170>		ER":PRINT SPC<9)"<D0WN>ERHALTEN HABEN,	
440 POKE 214,ll:PRINT"{BLACK>":F0R 1=1 TO			N0CH<2SPACE>"	<183>
5:PRINT SPC(18)"{RVS0N,4SPACE>":NEXT	<016>	670	PRINT SPC(9)"<D0WN>EINMAL UMTAUSCHEN ?	
442 GOTO 740	<228?^		":PRINT SPC(9)"<DOWN,8SPACE}(J/N)"	<072>
445 POKE 53280,14:POKE 53281,14:0N P-14 GD		675	PRINT:PRINT SPC(8)CL$:PRINT;PRINT SPC(	
TO 555,450,485,500,540	<013>		8)CL$:G0SUB 860	<089>
450 PRINT“<HOME,YELLOW,6D0WN}"SPC(20)"?";P		680	GET I$:IF I$="N"THEN 710	<185?^
RINT SPC(18)"{RVS0N,3SPACE}"	<175>	685	IF I$<>"J"THEN 680	<196>
460 PRINT SPC(17)"{BR0WN>5{RVS0N,SPACE>H ?		690	FOR 1=1 TO 4:G(I)=20:NEXT:GG=GG-2	<134>
":PRINT SPC(16)"{RVS0N>^ H<3SPACE>U"	<048>	695	PRINT"<H0ME,4D0WN>"sF0R 1=1 TO 9:PRINT	
465 PRINT SPC(15)"5{RVS0N,SPACE>({6SPACE}?			SPC(8)CL$:NEXT	<170>
":PRINT SPC(14)"T<RVS0N>V<2SPACE>fi<7SP		700	PRINT“<H0ME,5D0WN>"SPC(12>"WAEHLEN SIE	
ACE)c"	<072>		! ":PRINT" <7D0WN>"	<218?^
470 PRINT SPC<13)"<RVS0N>X<5SPACE>0<7SPACE		705	GOTO 585	<189>
	<234>	710	PRINT"<H0ME,4D0WN,BLACK>"sFDR 1=1 TO 9	
475 FOR 1=1 TO 7:PRINT SPC(8)L$:NEXT	<205>		:PRINT SPC(8)CL^:NEXT	<038>
480 PRINT SPC(9)"{6UP,RVS0N>BERG"	<000>	715	PRINT"<H0ME,3D0WN>"sF0R 1=1 TO 5:PRINT	
481 IF LEN(RI$(16))=5 THEN PRINT SPC(9)"<D			SPC(13)"T'SPC(11) 'T":NEXT	<056>
OWN,RVSON>STEILER WEG NACH OBEN"	<067>	720	PR I NT SPC (13) " {CYANiaYYVYYYYVFVY^" : PR I	
482 GOTO 740	<012>		NT SPC(13)"H0yP OVE OyPN"	<026>
485 PRINT"{HOME>"SPC(9)"{4DOWN)STEILER BER		725	PRINT SPC(13)"mH<RED>Q<CYAN>H R{RED)fi{	
GHANG,":PRINT SPC(9)”<DOWN>HOEHLE"	<233>		CYAN>N R{RED)a{CYAN>W"	<112>
490 PRINT SPC(21)"{3D0WN>T":PRINT SPC(19)"		730	PRINT SPC(13)"HLjpG JLpg LTON":PRINT SPC	
3{RVS0N, 3SPACE >W<RVOFF>F"	<219>		(13) " L'p"pVP^P P P-ppppß"	< 190 >
495 FOR 1=1 TO 6sPRINT SPC(19)"<RVS0N,7SPA		740	POKE 214,18:PRINT:PRINT SPC(9)"{BLACK)	
CE>"sNEXTsGOTO 740	<195>		RICHTUNGEN :<SPACE,WHITE}"RI$(P):GOTO	
500 PRINT"{HOME)";:FOR 1=1 TO 19:PRINT SPC			750	<140>
(8)L$sNEXT	<052?^	748	REM **** KOMMANDOAUSWERTUNG ****	<127>
505 PRINT“{HOME}“SPC < 9)"<RVSON,DOWN}IM BRU		749	FOR 1=1 TO 2500;NEXT	<034>
NNEN ...”	<032>	750	ZA=0:GOSUB 7000	<194>
510 IF V<>3 THEN 740	<079>	755	GOSUB 860 sINPUT"<YELLOW,SPACE >KOMMANDO	
515 IF MO=1 THEN PRINT"{DOWN)";GOTO 530	<036>		: “; K$	<161>
520 POKE 2040,14:POKE VI+39,13:P0KE VI,200		760	IF LEFT$(K$,1)=" "THEN K$=RIGHT$(K$,LE	
:POKE VI+l,150:POKE VI+23,l:P0KE VI+29			N(K$)-1):GOTO 760	<093>
	<244>	765	IF LEN(K$)=1 THEN 870	<193?^
525 PRINT SPC(9)"<RVSON,DOWN)MONSTER":POKE		770	FOR 1=1 TO LEN(K$):IF MID$(K$,I,1)=" "	
VI+21,1:MR=1	<226>		TH^ 780	<130>
530 PRINT SPC(9)"<RVSON,DOWN >TUER<5D0WN}":		772	NEXT	<020>
FOR 1=1 TO 7;PRINT SPC(16)"{5SPACE>":N		775	GOSUB 860sPRINT"<10SPACE>UNKORREKTE EI	
EXT	<047?>		NGABE !":GOTO 749	<239>
535 IF RI$(18)="H"THEN POKE 1601,114	<170>	780	V$=LEFT$(K$,I-1):H#=RIGHT$(K$,LEN(K$)-	
537 GOTO 740	<069>		I)	<064>
540 PRINT"<HOME>";:FOR 1=1 TO 20sPRINT SPC		785	IF LEFT$(H$,1)=" "THEN H$=RIGHT$(H$,LE	
(B)L$:NEXT	<060>		N(H^)-1)sGOTO 785	<085>
545 PRINT"<HOME>"SPC(9)”<RVSON,DOWN}IN DER		790	IF V^="SAGE"THEN 6500	<143>
HOEHLE .. . "	<115>	795	FOR 1=1 TO 14:IF LEFT$(V$(I),LEN(V$))=	
550 PRINT SPC(9)"<RVS0N,D0WN>ST0CKDUNKEL H			V$THEN X=I:GOTO 805	<056>
IER ...":GOTO 740	<168>	800	NEXT:NV$=V$:GOTO 815	<090>
555 PR I NT " {HOME , RED, DOWN } " SPC (13) “ ÄWWWV		805	FOR 1=1 TO 21:IF LEFT$(H$(I),LEN(H$))=	
YM£": PRINT SPC(13)"H B A S A R ^"	<226?^		H$THEN Y=I:GOTO 825	<054>
560 PRiNT spc(i3)"L7pWpwwTp'S"	<242>	810	NEXT;NV$=H$	<171>
565 IF XX=1 THEN 655	<151>	815	GOSUB B60sPRINT"<UP,SPACE>TUT MIR LEID	
570 PRINT SPC(9)"{BLACK,DOWN>EIN{3SPACE)BE			, ABER ICH VERSTEHE"	<153>
FREUNDETER”	<221>	820	PRINT"<DOWN,SPACE}'"NV$"' NICHT.":GOTO	
575 PRINT SPC(9)"<DDWN>HAENDLER IST BEREIT			749	<229>
,":PRINT SPC(9)"<D0WN>IHNEN ZWEI DER F		825	IF X>9 THEN X=X-5	<063>
OLGEN-"	<227>	830	FOR 1=1 TO LEN(KB$(X)):IF MID$(KB$(X),	
580 PRINT SPC(9)"<D0WN>DEN GEGENSTAENDE ZU			I,1)=CHR$(Y+64)THEN 950	<129>
”;PRINT SPC(9)"<DOWN>UEBERLASSEN :"	<135>	835	NEXT:GOSUB 860	<168>
585 PRINT SPC(9)"{DOWN,RVSON}1{RVOFF,SPACE		840	PRINT"<UP,SPACE>TUT MIR LEID, ABER ICH	
>GLASKUGEL <SPACE,RVSON>2 <RVOFF,SPACE)K			VERSTEHE IHREN"	<121>
AEFIG"	<253>	845	PRINT"<DOWN,SPACE)BEFEHL NICHT.":GOTO	
590 PRINT SPC(9)”{DOWN,RVS0N>3 <RVOFF,SPACE			749	<052>
>AMULETT <3SPACE,RVS0N>4 <RVOFF,SPACE)BU		860	POKE 214,20sPRINTsFOR 1=1 TO 3sPRINT E	
CH"	<140>		F$:NEXT:PRINT"{3UP}":RETURN	<242>
595 PRINT"<4D0WN,2SPACE>BITTE ENTSPRECHEND		869	REM **** BEWEGEN ****	<008>
E NUMMERN EINGEBEN"	<095>	870	FOR 1=1 TO 6:IF K$=MID$("NSWOHR",I,l)T	
600 GET I$:IF I$=""THEN 600	<193>		HEN 880	<027>
605 IF ASC(I$)<49 OR ASC(I$)>52 THEN 600	<187?^	875	NEXT:GOTO 775	<049>
610 ON VAL(I$)GOSUB 635,640,645,650	<059>	880	IF GS=1 OR ZB=1 OR MR=1 THEN 7600	<245>
615 GET J$:IF J$=""OR J$=I$THEN 615	<068>	882	FOR 1=1 TO LEN(RI$(P))STEP 2	<172>
620 IF ASC(J$)<49 OR ASC(J$)>52 THEN 615	<236>	885	IF MID$(RI$(P),I,l)=K$THEN 900	<175>
625 DN VAL(J$)GOSUB 635,640,645,650	<106>	890	NEXT:GOSUB 860	<223>
630 XX=l:GG=GG+2:G0SUB 7000sGOTO 655	<110>	895	PRINT"{3SPACE)IN DIESE RICHTUNG GEHT E	
635 POKE 1633,49:G(l)=0:RETURN	<002>		S NICHT":GOTO 749	<165>
640 POKE 1645,50:G(2)=0:RETURN	<183>	900	SC=0:ZI=VAL(MID$(ZI$(P),1,2))	<086>
645 POKE 1713,51:G(3)=0:RETURN	<013>	905	IF P=16 AND ZI=13 THEN 925	<246>
650 POKE 1725,52:G(4)=0:RETURN	<213>	910	IF P=13 AND ZI=9 AND G(8)=0 AND V=1 TH	
655 YY=0:FOR 1=1 TO 4:IF G(I)=0 THEN YY=YY			EN 7660	<096>
+ 1	<004>	915	IF ZI=0 THEN 7680	<102>
657 NEXT:IF YY<>2 THEN 710	<007>	920	P=ZI:GOTO 180	<245>
			Listing Castle of Doom. (Fortsetzung)	

137
Spiel
C 64
925 IF G(8)=0 THEN ON V GOTO 930,7650,7670	<115>	ZK=3 THEN 7620		<217>
930 GOSUB 860:PRINT"{UP,SPACE)HINTER IHNEN		2266	P=2+INT(13*RND(TI)):G0T0 180	<166>
LOEST SICH EINE STEIN-"	<107>	2280	IF GSO1 THEN 1000	<092i>
935 PRINT"<DOWN,SPACE>LAWINE, DIE DEN WEG VERSCHUETTET. " ;RI$ (16) ="W-O" = ZI$(16) =*’		2282 2284	IF TI$<"001000"THEN 7630 GE=l:GS=0:FOR 1=832 TO 892 STEP 3sP0K	<008>
1517”	<130>		E I,0sPOKE I+l,0sPOKE I+2,0:NEXT	<090
940 FOR 1=1 TO 2500:NEXTsP=ZIsGOTO 180 949 REM *♦ SPRUNG ZUR BEF.AUSFUEHRUNG **	<221> <127>	2286	PRINT"<UP,2SPACE>DER GEIST HAT IHREN MUNDGERUCH":PRINT"<DOWN,2SPACE)NICHT	
950 IF X=4 AND Y<13 THEN 7100	<207>		VERTRAGEN !"	<179>
955 IF X=5 THEN 7200	<088>	2288	GOTO 749	<073>
960 ZN=1000+(X-1)*500+(Y-1)*20 5ZN$=STR$(ZN		2400	IF P<>10 OR FA=1 THEN 1000	<200?^
)	<106>	2402	IF VO1 THEN 999	<115>
965 FOR 1=1 TO 4;NZ=VAL<MID$(ZN$,I+1,1))	<003>	2404	IF V=1 THEN FA=l:RI$(10)="N-W-R";ZI$(	
970 POKE(2060+I),(NZ+48)	<252>		10)="070919"	<128?^
975 NEXT	<223>	2406	RI$(19)="S-H":ZI$(19)="1710"!GOTO 180	<231>
980 GOSUB 860:GOTO 1	<189>	2820	IF P<>3 OR LEN(RI$(3))=5 THEN 1000	<136>
998 REM *** BEFEHLSAUSFUEHRUNG ***	<180?^	2822	PRINT" DAS GEHT NICHT !":GOTO 749	<038>
999 PRINT"<2SPACE>0K !":GOTO 749 1000 IF Y=1 OR Y=7 OR Y=16 OR Y=19 OR Y=20	<119>	2840 2842	IF P<>11 THEN 1000 PRINT" DER SCHRANK IST ZU SCHWER !":G	<128>
THEN E$="E ":GOTO 1002	<152>		OTO 749	<253>
1001 E#=" "	<028?^	2900	IF P<>10 OR FA=1 THEN 1000	<192?>
1002 PRINT1’ HIER IST KEIN"E$H$(Y);GOTO 749	<188>	2902	GOTO 2822	<120?^
1020 IF G(Y)=0 OR G(Y)=P THEN 999	<253>	3560	IF GS=1 THEN 7630	<004>
1022 GOTO 1000	<200>	3562	IF G(4)O0 THEN PRINT" ICH HABE DAS B	
1060 GOTO 1020	<048>		UCH NICHT !":GOTO 749	<053>
1180 IF G(10)<>0 AND G(10)<>P THEN 1000	<080>	3564	IF V=3 THEN 3568	<122>
1182 IF V<>2 THEN PRINT" DER "H$(10)" LAES		3566	PRINT" ZAUBERWORT s "Zl$:GOTO 749	<020>
ST SICH NICHT OEFFNEN":GOTO 749	<060>	3568	PRINT"{UP,SPACE >ZAUBERWOERTER s "Z1$ s	
1184 IF G(9)<>21 THEN 999 1186 PRINT" IM "H$(10)" BEFINDET SICH EIN	<250>	3660	PRINT"<DOWN)"SPC(17)Z2$s GOTO 749 IF G(9)<>0 THEN PRINT" ICH HABE KEINE	<068>
"H$(9)" !!"sG(9)=PsG0T0 749 1300 IF P=18 AND RI$(18)="H"AND V=3 THEN 1	<202>	3662	N ZETTEL":GOTO 749 PRINT" ZAUBERWORTs "Z2$;F0R 1=1 TO 25	<193>
306	<143>		00:NEXT	<029>
1302 IF P=1 OR P>13 THEN 1000 1304 PRINT" HIER IST KEINE GESCHLOSSENE TU	<206>	3664	PRINT"<UP,SPACE>DER ZETTEL VERSCHWIND ET !!!"5GG=GG-l:G(9)=21:G0T0749	<137>
ER":GOTO 749 1306 IF G(11)<>0 THENPRINT" DIE TUER IST	<085>	3860 3862	IF P<>12 OR SC=0 THEN 1000 PRINT"<UP,2SPACE>TUT MIR LEID, ABER E	<155>
VERSCHLOSSEN !":GOTO 749 1308 RI$(lB)="O-H":ZI$(18)="1909":RI$(19)=	<214?^	3864	S SCHEINT" PRINT"<D0WN,2SPACE>EINE FREMDE SPRACH	<140>
"S-W":ZI$(19)="1718":GOTO 180	<240>		E ZU SEIN":GOTO 749	<120>
1340 IF P<>11 THEN 1000	<152?>	4300	IF P<12 0R(V=3 AND P=18)THEN PRINT" 0	
1342 IF V=3 OR B(10)O21 THEN 999	<118>		K...NICHTS PASSIERT !":GOTO 749	<227>
1344 IF G(11)<>0 THEN PRINT" DER SCHRANK I		4302	GOTO 1000	< 178>
ST VERSCHLOSSEN":GOTO 749	<067>	4320	IF P<>3 OR LEN(RI^(3))=5 THEN 1000	<110>
1346 PRINT"<UP,3SPACE>IM SCHRANK BEFINDET		4322	PRINT"<UP,SPACE>HINTER DEM "H^(17)	<137>
SICH" 1348 PRINT"<D0WN,3SPACE>EIN GOLDENER BALL"	<138>	4324	PRINT"<DOWN,SPACE>SCHEINT EIN HOHLRAU M ZU SEIN !":GOTO 749	<071>
:G(10)=ll;GOTO 749	<067>	4380	IF V=2 AND P=12 AND LEN(RI$(12))=3 TH	
1400 PRINT" DAS IST UNMOEGLICH !"sGOTO 749	<168>		EN 4388	<088>
1580 IF G(5)<>P THEN 1000	<120>	4382	IF P=19 AND G(8)=21 THEN 4392	<197>
1582 IF P=18 THEN PRINT" ES IST ZU DUNKEL		4384	IF P>14 AND P<18 THEN 1000	<017>
HIER !":GOTO 749	<080>	4386	PRINT" OK...NICHTS BESONDERES FESTZUS	
1584 IF G(2)=0 THEN 1590 1586 PRINT"<UP,SPACE>SIE BRAUCHEN EINEN BE	<148>	4388	TELLEN !"s GOTO 749 POKE 214,llsPRINT:PRINT SPC(18)"<YELL	<226>
HAELTER" 1588 PRINT"<DOWN,SPACE>UM DEN FROSCH ZU FA	<021>	4390	OW,RVSON)^/H":GOSUB 860 PRINT" EINE SCHRIFT ERSCHEINT...":SC=	<023>
NGEN !"5 GOTO 749 1590 IF GG=5 THEN PRINT" SIE TRAGEN SCHON	<016>	4392	1:GOTO 749 G(8)=19:PRINT" AN DER WAND HAENGT EIN	<008>
5 GEGENSTAENDE !":GOTO 749	<245>		SCHWERT !"sGOTO 749	<098>
1592 G(5)=0:GG=GG+lsPRINT" OK !";GOTO 749	<114>	4400	IF P=10 AND FA=0 THEN PRINT" KLINGT H	
1740 IF MR=1 THEN 7640	<254>		OHI	" = GOTO 749	<150>
1742 IF V=3 AND P=9 AND MO=0 THEN PRINT" V		4402	GOTO 1000	<024>
ON HIER AUS GEHT DAS NICHT !":GOTO 74		4580	IF G(5)<>0 AND G(5)<>P THEN 1000	<154>
9	<028>	4582	PRINT" DER FROSCH ENTWISCHT IHNEN !"	<114>
1744 GOTO 1000	<160>	4584	IF G(5)<>18 DR V<>1 THEN 4588	<059>
1780 IF GS<>1 THEN 1000	<100>	4586	GOTO 749	<085>
1782 PRINT"<2SPACE>DER GEIST MAG DAS NICHT		4588	IF G(5)=0 THEN GG=GG-1	<001>
!!":FOR 1=1 TO 2000:NEXT:GOTO 7630	<134>	4590	G(5)=l+INT(19*RND(l)):G0T0 749	<177>
2080 IF G(5)=P THEN PRINT" DER FROSCH LAES		4740	IF MR=0 THEN 1000	<108>
ST SICH NICHT KUESSEN":GOTO 749	<046>	4742	PRINT" GUTE IDEE, ABER DAS GEHT NICHT	
2082 IF G(5)O0 THEN 1000	<050>		•":GOTO 749	<192>
2084 IF V<>1 OR P<>6 THEN 999	<226>	4760	IF ZB=0 THEN 1000	<231>
2086 PRINT" ES KNALLT UND STINKT..."sFOR I		4762	GOSUB 4770:IF Y=0 OR G<Y)<>0 THEN 749	<040>
=1 TO 2000sNEXT:GOTO 7800	<107?^	4764	IF Y=8 AND ZA=2 THEN 7820	<203>
2240 IF MR<>1 THEN 1000	<084>	4766	GOTO 7620	<086>
2242 PRINT"<UP,SPACE>DAS MONSTER SCHLAEGT		4770	INPUT" WOMIT ";WM$	<216>
WILD UM SICH” 2244 PRINT"<DOWN,SPACE>UND SCHLEUDERT SIE	<046>	4771	FOR 1=1 TO LEN(WM$):IF MID$(WM$,I,1)= " "THEN 4773	<058>
AUS DEM BRUNNEN"sMR=0	<140	4772	NEXT:GOTO 4774	<093>
2246 FOR 1=1 TO 3000sNEXTsP=9sGOTO 180	<027>	4773	WM$=RIGHT#(WM$,LEN(WM$)-I)	<076>
2260 IF ZB<>1 THEN 1000 2262 FOR 1=0 TO 15:P0KE 53281,IsP0KE 53280	<207>	4774	FOR Y=1 TO 12:IF WM$=LEFT$(H$(Y),LEN( WM$))THEN 4776	<052>
,I:FOR J=1 TO 100sNEXT:NEXT:ZB=0 2264 POKE 53280,5;POKE 53281,5:ZK=ZK+l:IF	<117>	4775	NEXT:GOSUB 860:PRINT" ICH VERSTEHE '" WM$"' NICHT !";Y=0:RETURN	<132 > Listing Castle of Doom. (Fortsetzung)	
138

C 64
Spiel
4776	IF G(Y)<>0 THEN GOSUB 860:PRINT" ICH HABE DIESEN GEGENSTAND NICHT •"	<240>
4777	RETURN	<007>
4780	IF GS=0 THEN 1000	<116>
4782	GOSUB 4770sIF Y=0 OR G(Y)O0 THEN 749	<060>
4784	GOSUB 860:ON V GOTO 4785,4790,4794	<037>
4785	IF G(8)=0 THEN PRINT"SIE SIND GESTOL PERT, UND.--"sFOR 1=1 TO 2000sNEXT:GO TO 7630	<131>
4786	IF ZA=1 AND Y=7 THEN 4798	<205>
4788	GOTO 7630	<140>
4790	IF ZA=1 AND Y=3 THEN 4798	<193>
4792	GOTO 7630	<144>
4794	IF Y=1 THEN PRINT" DER GEIST IST TOT,	
	ABER...":FOR 1=1 TD 2000:NEXT	<239>
4796	GOTO 7630	<148>
4798	POKE VI+21,0sGS=0sGE=lsPRINT" OK...DE R GEIST IST TOT !"aGOTO 749	<000 >
5000	IF G(1)<>0 AND G(l)<>P THEN 1000	<066>
5002	PRINT" WOZU SOLLTE DAS GUT SEIN 7":G0 TO 749	<019>
5020	IF G(2)O0 AND G(2)<>P THEN 1000	<150?^
5022	PRINT"<UP,SPACE>SO GEHT MAN NICHT MIT	
	FREMDEM"	<112>
5024	PRINT"<DOWN,SPACE>EIGENTUM UM !":GOTO	
	749	<007>
5300	IF P=18 AND RI$(18)="H"AND V=3 THEN 5 306	<081>
5302	IF P=1 OR P>13 THEN 1000	<140>
5304	PRINT"WIESO, HIER IST KEINE VERSCHLOS SENE TUER":GOTO 749	<174?>
5306	PRINT" DIE TUER IST ZU STABI1	":GOT 0 749	<112>
5320	GOSUB 4770:IF Y=0 OR G(Y)<>0 THEN 749	<090>
5322	IF(V=1 AND Y=8)0R(V=3 AND ZA=2 AND Y= 8)THEN 7247	<149>
5324	GOSUB 860;PRINT" DAS GEHT NICHT !":GO TO 749	<028>
5340	IF P<>11 THEN 1000	<086>
5342	PRINT"<UP,SPACE>DER SCHRANK LAESST SI CH NICHT"	<006>
5344	PRINT"<DOWN,SPACE>MIT GEWALT OEFFNEN	
	!":GOTO 749	<034>
5380	IF P>14 AND P<18 THEN 1000	<051>
5382	PRINT"SIE KOENNEN DIE WAND NICHT ZERS TOEREN !":GOTO 749	<036>
6499	REM ♦** BEFEHL 'SAGE' *♦*	<141>
6500	GOSUB 860:IF H$=Zl$THEN ZA=lsGOTD 650 6	<086>
6502	IF H$=Z2$THEN ZA=2sG0T0 6506	<009>
6504	GOTO 7690	<015>
6506	DN V GOTO 6508,6512,6520	<064>
6508	IF ZA=1 AND G(7)=0 AND GS=1 AND G(4)= 0 THEN PRINT" DIE KEULE VIBRIERT...": GOTO 6528	<059>
6510	GOTO 6526	<157>
6512	IF ZA=1 AND P=12 AND SC=1 THEN RI$(12 )="N-W-O":ZI$(12)="080013":GOTO 415	<213>
6514	IF ZA=1 AND G(3)=0 AND GS=1 THEN POKE	
	VI+39,0:GOTO 755	<133>
6516	IF ZA=2 AND G(8)=0 AND ZB=1 AND G(4)= 0 THEN PRINT" DAS SCHWERT LEUCHTET... ":GOTO 6528	<096>
6518	GOTO 6526	<165>
6520	IF ZA=1 AND G(3)=0 AND MO=0 AND P=9 T HEN PRINT" DAS AMULETT LEUCHTET..."sG OTO 6528	<113>
6522	IF ZA<>2 OR G(4)<>0 OR P<>3 OR RI$(3) <>"W-O"THEN 6526	<095>
6524	PRINT" DER SPIEGEL LEUCHTET...":GOTO 6528	<134>
6526	PRINT" OK...ES TUT SICH NICHTS !":GDT 0 749	<085>
6528	FOR 1=1 TO 2000sNEXTsGOTO 755	<193>
6999	REM * BESITZ/GEGENSTD ANZEIGEN *	<167>
7000	PRINT"<HOME>";:FOR 1=1 TO 20sPRINT"<8 SPACE>"sNEXT	<226>
7002	PRINT"<HOME,BLACK,DOWN)SIE"sPRINT"{DO WN>BESITZEN":SP=0	<001>
7005	FOR 1=1 TO 12:IF G(I)=0 THEN GOSUB 70 50	<116>
7010	NEXT	<162:>
7020	PRINT"<HOME>";sFOR 1=1 TO 20:PRINT SP C(32)"<7SPACE>"sNEXT	<216>
7022	J=0;PRINT"<HOME,BLACK,DOWN)"SPC(32)"E S GIBT":PRINT SPC<32)"<D0WN>HIER :":S	
	P=32	<122>
7025	FOR 1=1 TO 12=IF G(I)=P THEN GOSUB 70 50sJ=J+lsIF J=6 THEN RETURN	<131>
7030	NEXTsRETURN	<111>
7050	IF 1=1 THEN PRINT SPC(SP>"<DOWN>GLAS-":PRINT SPC(SP)"KUGEL":RETURN	<043>
7055	IF 1=11 THEN PRINT SPC(SP)"{DOWN)SCHL UES";PRINT SPC(SP)"SEL"s RETURN	<035>
7060	IF 1=12 THEN PRINT SPC(SP)"<DOWN>KETT EN-":PRINT SPC(SP)"HEMD":RETURN	<081>
7065	PRINT SPC(SP)"<DOWN}"G$(I)s RETURN	<055>
7099	REM *♦* BEFEHL 'NIMM' *♦♦	<0B5>
7100	IF G(Y)=P THEN 7110	<199>
7105	GOSUB 860=PRINT"<2SPACE>DIESER GEGENS TAND IST NICHT HIER !"sGOTO 749	<197>
7110	IF GG<5 THEN 7120	<080>
7115	GOSUB 860sPRINT"<2SPACE>SIE HABEN BER EITS 5 GEGENSTAENDE !";GOTO 749	<100>
7120	IF Y=5 THEN GOSUB 860:PRINT"{4SPACE)D ER FROSCH HUEPFT IHNEN DAVON !"sGOTO 749	<252>
7125	G(Y)=0;GG=GG+1:GOSUB 860:PRINT"<3SPAC E>OK !":FOR 1=1 TO 1000:NEXT:GOTO 750	<010>
7199	REM *** BEFEHL 'WIRF' ***	<0B8>
7200	IF G(Y)<>0 THEN GOSUB 860;PRINT" ICH HABE DIESEN GEGENSTAND NICHT !":GOTO 749	<209>
7205	GOSUB 860sINPUT"<2SPACE>WOHIN ";WH$	<085>
7210	FOR 1=1 TO LEN(WH^):IF MID$(WH$,I,1)= " "THEN 7220	<070
7215	NEXT:GOTO 7225	<154>
7220	WH$=RIGHT$(WH$,LEN(WH$)-I)	<059>
7225	IF WH^="BODEN"OR WH$="WEG"OR WH^="EGA L"OR WH$="WAND"THEN 7235	<042>
7230	ON V GOTO 7240,7270,7330	<255>
7235	GOSUB 860:PRINT"{2SPACE)0K !":G(Y)=P: GG=GG-lsGOTO 749	<037?-
7240	IF Y<>8 OR WH$<>"SPIEGEL"OR P<>3 OR L EN(RIT(3))=5 THEN 7255	<189>
7245	G(Y)=3:GG=GG-1	<058>
7247	RI$(3)="N-W-O":ZI$(3)="010204"s GOSUB 860	<013>
7250	PRINT"<2SPACE>DER SPIEGEL ZERBRICHT ! ";FOR 1=1 TO 2000:NEXT:GOTO 180	<086>
7255	IF Y<>10 OR WH*<>"BRUNNEN"OR P<>9 OR G(5)<>18 THEN 7380	<235>
7260	GOSUB 860sPRINT"<UP,2SPACE>AUS DEM BR UNNEN KOMMT EIN FROSCH"	<121>
7265	PRINT"<D0WN,2SPACE>MIT DEM BALL IM MU ND.":G(10)=9:G(5)=9:GG=GG-l:GOTO 749	<041>
7270	IF Y<>3 OR WH$<>"GEIST"OR GS<>1 THEN 7290	<194>
7275	IF ZA<>1 THEN 7630	<186>
7280	POKE VI+21,0:GOSUB 860sPRINT"<4SPACE> SIE HABEN DEN GEIST BESIEGT !"	<212>
7285	GE=1:GS=0 =G(Y)=7 sGG=GG-1:GOTO 749	<042>
7290	IF Y<>6 OR P<>10 OR WH$<>"QUADRAT"OR FA=1 THEN 7305	<251>
7295	FA=1:G(6)=10sGG=GG-l:RI$(10)="N-W-R" : ZI$(10)="070919"	<198>
7300	RI$(19>="S-H":ZI$(19)="1710":GOTO 180	<043>
7305	IF Y<>4 OR P<>3 OR WH#<>"SPIEGEL"DR L EN(RI$(3))=5 THEN 7315	<022>
7310	GOTO 7245	<155>
7315	IF Y<>8 OR ZB<>1 OR WH$<>"ZAUBERER"TH EN 7380	<062>
7320	IF ZA<>2 THEN 7620	<096>
7325	POKE VI+21,0:FOR 1=1 TO 2000;NEXT:GOT 0 7820	<002>
7330	IF Y<>1 OR WH$<>"GEIST"OR GS<>1 THEN 7340	<237>
7335	GOTO 7280	<244>
7340	IF Y<>3 OR WH$<>"BRUNNEN"OR P<>9 THEN	
	7360	<034>
7345	G(3)=18:GG=GG-lsG0SUB 860:IF MO=1 THE N PRINT"<2SPACE>0K !":GOTO 749	<030>
7350	IF ZA=1 THEN PRINT" AUS DEM BRUNNEN E RTOENT EIN SCHREI...":MO=l.-GOTD 749	<163>
	Listing Castle of Doom. (Fortsetzung)	

139
Spiel
C 64
7355
7360
7365
7370
7380
7382
7385
7390
7395
7400
7405
7410
7415
7499
7500
7505
7510
7515
7520
7525
7526
7530
7535
7540
7545
7550
7555
7560
7599
7600
7605
7610
7620
7625
7630
7640
7645
7650
7655
7660
7665
7670
7675
7680
7685
7690
G(3)=9:PRINT" DAS AMULETT KOMMT ZURUE CKGEFLOGEN !":GOTO 749	<096>
IF Y<>8 OR WH$<>"SPIEGEL"OR P<>3 OR L
EN(RI$(3))=5 THEN 7380	<027>
IF ZA=2 THEN 7245	<218>
GOTO 7235	<183>
IF WH$="BRUNNEN"AND P=9 THEN G(Y)=18:
GOTO 7415	<249>
IF WH$="QUADRAT"AND P=10 AND FA=0 THE
N G(Y)=10:GOTO 7415	<249>
IF WH$="HOEHLE"AND P=17 THEN G(Y)=19;
GOTO 7415	<129>
IF WH^="GEIST"AND GS=1	THEN	7630	<064>
IF WHt="ZAUBERER"AND ZB=1	THEN	7620	<078>
IF WH$="SPIEGEL"AND P=3 AND LEN(RI$(3 ))=3 THEN 7235	<053>
GOSUB 860sPRINT" ICH VERSTEHE SIE NIC
HT..."	<000>
FOR 1=1 TO	2000=NEXTsGOTO 7205	<000>
GG=GG-1:GOSUB 860:PRINT"<2SPACE>0K •" :GOTO 749	<160>
REM *** ERKLAERUNG	***	<178>
PRINT"{CLR,DOWN,SPACE>^IE MUESSEN VER SUCHEN, EINE ßUFGABE ZU"	<052>
PRINT"{DOWN,SPACE)LOESEN, INDEM ?IE D
EM COMPUTER SAGEN,"	<085>
PRINT"<DOWN,SPACE>WAS ER TUN SOLL." <086>
PRINT" <DOWN,SPACE)ZUR{2SPACE>fjDRTBEWE
GUNG{2SPACE)GEBEN{2SPACE>5IE NUR" <177>
PRINT"{DOWN,SPACE>WUERZUNGEN EIN (N
-5-H-0-H-& = NO^ -":REM N-S-W-O-H-R
= NORD -	<106>
PRINT"<DOWN,SPACE>&UgS - RE.5T - .0_5T -
.H_O_C_H - ÄüiüXR) "	<205>
REM SUED - WEST - OST - HOCH - RUNTER <189>
PRINT"<DOWN,SPACE>flNSONSTEN MUESSEN D
IE BEFEHLE AUS ZWEI"	<006>
PRINT"<DOWN,SPACE>UDERTERN BESTEHEN (
YERB/WTWORT) "	<090>
PRINT"<D0WN,SPACE>3ER &OMPUTER VERSTE
HT DIE VERBEN :"	<096>
PRINT"<DOWN,SPACE > OEFFNE,FANGE,KUESSE ,NIMM,LIES,WIRF,"	<189>
PRINT"<DOWN,SPACEIBERUEHRE/KLOPFE,ERS
CHLAGE/TOETE,SAGE"	<185>
PRINT"<DOWN,SPACE >ZERBRECHE/ZERSTOERE {3SPACE>-{2SPACE>FERTIG ???“	<113>
POKE 198,0sWAIT 198,l:G0T0 100	<239>
REM **** VERLOREN ♦***	<067>-
IF ZB=1	THEN	7620	<111>
IF GS=1	THEN	7630	<241>
IF MR=1	THEN	7640	<026>
PRINT"<CLR,BLACK,DOWN,SPACE>DER ZAUBE
RER HAT SIE IN EINE KROETE"	<145>
PRINT"<DOWN,SPACE>VERWANDELT. "sGOTO 7
700	<006>
PRINT"<CLR,BLACK,DOWN,5SPACE >DER GEIS T HAT SIE GEBISSEN.":GOTO 7700	<208>
PRINT"<CLR,BLACK,DOWN,SPACE >DAS MONST ER HAT BESCHLOSSEN, SIE"	<231>
PRINT"{DOWN,SPACE)ZU HEIRATEN.":GOTO 7700	<030>
PRINT"{CLR,BLACK,DOWN,SPACE)SIE SIND UNTERWEGS GESTOLPERT UND"	<042>
PRINT"(DOWN,SPACEIHABEN SICH DABEI DE N KLEINEN FINGER"sPRINT"<DOWN,SPACE>V ERSTAUCHT.":GOTO 7700	<204 >
PRINT"<CLR,BLACK,DOWN,SPACE>AUS DEM T ORBOGEN HAT SICH EIN STEIN"	<110>
PRINT"<DOWN,SPACE>GELOEST UND IST IHN EN AUF DEN FUSS":PRINT"<DOWN,SPACE>GE FALLEN.":GOTO 7700	<149 >
PRINT"<CLR,BLACK,DOWN,SPACE >SIE SIND IN EINEN ERDRUTSCH GERATEN"	<184>
PRINT"{DOWN,SPACE>UND HABEN SICH IHRE
NEUE HOSE DRECKIG":PRINT"{DQWN,SPACE >GEMACHT.":GOTO 7700	<206>
PRINT"<CLR,BLACK,DOWN,SPACE>SIE SIND VOM BERG GEFALLEN UND HABEN"	<225>
PRINT"<DOWN,SPACE>DABEI IHRE BRILLE Z ERBROCHEN.":GOTO 7700	<167 >
PRINT"<CLR,BLACK,DOWN,8SPACE}SIE HABE N SICH IN EINE"	<195>
7695 PRINT"<DOWN,10SPACE>BANANE VERWANDELT •"	<135>
7700 PRINT"<DQWN,SPACE>DESHALB MUESSEN SIE
LEIDER AUFGEBEN."	<096>
7705 PRINT"<3D0WN,YELL0W,SPACE>M0ECHTEN SI E ES NOCH EINMAL PROBIEREN ?"	<06B>
7710 GET	I$:IF I$="J"THEN	RUN 5	<238>
7715 IF I$<>"N"THEN 7710	<154>
7720 END	<102>
7799 REM	**** GEWONNEN ****	<082>
7800 PRINT"{CLR,YELLOW,DOWN,BSPACE}_ UND <2SPACE}DER <2SPACE}"HT(5)" ...":FOR I
=1 TO 1500:NEXT	<112>
7805 PRINT"{UP,9SPACE} VERWANDELT <2SPAC
E>SICH ..."sFDR 1=1 TO 1500:NEXT	<074>
7810 PRINT"{UPJ... IN EINE WUNDERSCHOENE P
RINZESSIN ...":FOR 1=1 TO2000:NEXT <236> 7815 PRINT"{CLR,5D0WN)":G0T0 7840	<195>
7820 POKE VI+21,0:PRINT"<CLR,YELLOW,6DOWN, 4SPACE>SIE HABEN DEN ZAUBERER BESIEGT ! !.’ ":GOTO 7840	<104>
7830 PRINT"<CLR,YELLOW,6D0WN,4SPACE>SIE HA
BEN DEN SCHATZ GEFUNDEN •!!"	<016>
7840 PRINT SPC(13)"{2D0WN)GRATULIERE,":PRI
NT"<D0WN,5SPACE>SIE HABEN IHR ZIEL ER
REICHT !!"	<142>
7850 PRINT"<3DDWN,6SPACE>W0LLEN SIE WEITER
SPIELEN ?"	<198>
7860 GET I$:IF I$="J"THEN RUN 5	<132>
7870 IF I$<>"N"THEN	7860	<229>
7880 END	<006>
8000 DATA OEFFNE,BDJPRU,FANGE,EMO,KUESSE,E
MNOU,NIMM,ABCDEFGHIJ KLQRU	< 201>
8005 DATA WIRF,ABCDEFGHIJKL,LIES,DIS,BERUE
HRE,PQTU,TOETE,EMNO	< 006 >
8010 DATA ZERSTOERE,ABPQRT,WERFE,LESE,KLOP
FE,ERSCHLAGE,ZERBRECHE	<166 >
8015 DATA GLASKUGEL,KAEFIG,AMULETT,BUCH,FR
OSCH, HELM, KEULE, SCHWERT, ZETTEL, BALL	<092
8020 DATA SCHLUESSEL,KETTENHEMD,MONSTER,ZA
UBERER,GEIST,TUER,SPIEGEL,SCHRANK	<042 >
8025 DATA SCHRIFT,WAND,OUADRAT	<148>
8030 DATA S,03,S-O,0503,W-O,0204,W-H,0311,
N-S,0208,0,07,S-W,1006,N-0,0509	< 063 >
8035 DATA S-W-O-R,13081018,N-W,0709,R,04,W
-O,0013,N-W-O,091214,W-O,1300,O,16	<138>
8040 DATA W-O-H,151713,N-W,1916,H,09,S,17	<147>
8045 DATA 20,20,20,20,18,2,21,21,21,21,6,5 <191> 8050 DATA SILBER,BLUME,GOLD,RING,KUPFER,HO
RN,PLATIN,STERN	<026>
8054 REM SPRITE 1 - GEIST	<103>
8055 DATA 0,127,0,0,255,192,1,206,96,3,255
,240,1,255,240,1,245,248,1,255,248	< 204 >
8060 DATA 3,255,248,7,255,248,15,255,252,3
1,255,254,3,255,240,3,255,224	<173>
8065 DATA 3,255,224,7,255,224,7,255,224,7,
255,240,15,255,240, 15,255,248	<105i>
8070 DATA 31,255,252,59,187,110	<043>
8074 REM SPRITE 2 - MONSTER	<214>
8075 DATA 12,0,48,30,0,120,3,0,192,1,129,1
28,3,195,192,15,231,240,62,126,124	<031>
8080 DATA 124,60,62,248,60,31,254,126,127,
255,255,255,127,255,254,127,255,254	< 034 >
8085 DATA 63,90,252,30,165,120,31,255,248,
7,255,224,4,126,32,4,60,32	<195>
8090 DATA 31,0,248,42,129,84	<152>
8094 REM SPRITE 3 - ZAUBERER	<197>
8095 DATA 0,15,224,0,63,128,0,127,128,0,21
9,0,1,255,0,3,255,128,31,255,240	<175>
8100 DATA 127,255,252,127,255,252,111,255, 236,111,255,236,103,255,204,98,170,14 0	<252>
8105 DATA 99,255,140,71,255,196,7,199,192,
15,131,224,15,1,224,14,0,224	<202>
8110 DATA 28,0,112,60,0,120	<212>
8200 REM	<039>
8201 REM **********************	<161>
8202 REM ♦ CASTLE OF DOOM *	<007>
8203 REM * VON B. WEISSBECKER *	<102>
8204 REM * MAERZ/APRIL 1984	*	<139>
8205 REM **********************	<165>
© 64'w
Listing Castle of Doom. (Schluß)
140
C 64
Spiel
APOCALYPSE NOW
lm Universum versteckt sich die interplanetarische Spinne Plexar. Sie können eine Katastrophe abwenden, wenn Sie den Weltraum von dem schrecklichen Ungeheuer befreien.
Bevor Sie mit dem apokalyptischen Kampf gegen die interplanetarische Spinne beginnen, müssen Sie auftanken. Doch nach 30 Energieeinheiten beginnt ein feindlicher Hubschrauber auf Sie zu schießen. Ist dieses Hindernis hinter Ihnen, geht es links weiter. Im oberen Eck erscheint ein Tunnel, den Sie durchfliegen. Dabei müssen Sie eine Lasersperre überwinden oder einen Mann retten. Dieser sollte bei der Aktion möglichst weit links stehen. Haben Sie diese Hürde überwunden,
schließt sich hinter Ihnen eine Mauer. Durch diese müssen Sie sich links unten durchschießen. Auf dem nächsten Bild gilt es, eine Barrikade zu durchschießen, die aber mit Vorsicht zu genießen ist. Die nachfolgenden Panzer können Sie nurabschie-ßen, wenn Sie beide zugleich treffen.
Dann kommen Sie zu der Spinne Plexar. Achten Sie vor allem auf die Lasersperren. Wenn Sie nun die Spinne vernichtet haben, fliegen Sie zurück, aber achten Sie darauf, daß Sie möglichst hoch in den nächsten Bildschirm fliegen.
Zum guten Schluß können Sie auf dem Energielager landen und sich von den Strapazen erholen, oder Sie spielen weiter. Das hat aber nur Sinn, wenn Sie noch zwei Leben haben.
(Helmut Burgemeister/Helmut Bölcskei/tr)
Diewichtigsten Variablen:
X und Y für Hubschrauber
X1 bis X7 und Y1 bis Y7 für andere Sprites
HU = feindliche Hubschrauberzahl
LD = Plexar abgeschossen?
A = Hubschrauberstellung E = Schußvariable
1 REM ++++++++++++++++++	<066>
2 REM + APOCALYPSE NOW +	<175>
3 REM ++++++++++++++++++***###*♦	<065>
4 REM * BY HELMUT BURGEMEISTER *	<025>
5 REM * AND HELMUT BOELCSKEI *	<228>
6 REM *♦*******#*♦♦**♦#*♦♦#***♦♦	<046>
7 REM ttttttftftftttttttttttttttt	<216>
8 REM t MASCHINEN PROGRAMM	T	<008>
9 REM tttffttttttttttftttttttttff	<218>
10 PRINT"<CLR,6D0WN>BITTE WARTEN !"	<064>
20 POKE 53281,0	<198>
30 POKE 53280,0	<080>
40 FOR 1=832 TO 832+33:READ A:POKE I,A:NEX	
T	<174>
50 DATA 120,169,51,133,1,169,0,133,95,133,	
90,133,88,169,208,133,96,169,240	<104>
60 DATA 133,89,169,224,133,91,32,191,163,1	
69,55,133,1,88,96	<133>
80 SYS 832:P0KE 850,160;SYS 832	<141>
100 REM f-f-<-<-f-Ff-f-Ff-f-f-Ff-Ff-Ft-Ff-f-f-f-f-f-<-f-	<106>
101 REM *- DATEN FUER NEUE ZEICHEN «-	<110>
102 REM <-<-Ff-Ff-^^FFFf-f-Ff-^FFf-f-f-f-t-f-Ff-f-	<108>
130 POKE 56576,PEEK(56576)AND 252	<129>
135 POKE 53272,8:P0KE 648,192	<165>
140 PRINT"<CLR,6D0WN>BITTE WARTEN !"	<194>
150 FOR 1=280 TO 559:READ A:POKE 57344+I,A	
:NEXT	<095>
210 DATA 255,255,255,255,255,255,255,255	<036>
220 DATA 0,0,0,37,205,255,255,255	<030>
230 DATA 0,0,0,0,0,255,255,255	<008>
240 DATA 137,66,36,24,153,36,66,137	<065>
245 DATA 255,129,129,255,129,129,255,255	<225>
250 DATA 3,13,49,193,193,49,13,3	<101>
255 DATA 0,96,252,255,252,96,0,0	<216>
260 DATA 60,60,60,24,24,0,0,0	<185>
265 DATA 255,126,255,126,255,126,255,126	<085>
270 DATA 0,0,0,255,255,255,0,0	<126>
275 DATA 24,60,24,63,88,88,36,66	<112>
280 DATA 25,61,25,62,88,88,36,66	<233>
285 DATA 0,0,60,32,60,32,32,32	<152>
290 DATA 0,0,68,68,68,68,68,124	<030>
295 DATA 0,0,124,64,124,64,64,124	<096>
300 DATA 0,0,32,32,32,32,32,60	<007>
305 DATA 126,255,255,231,231,255,255,126	<065>
310 DATA 0,0,0,0,8,5,3,7	<085>
315 DATA 0,0,0,0,12,62,127,255	<200>
320 DATA 0,0,6,31,127,255,255,255	<031>
325 DATA 0,0,0,192,231,239,255,255	<081>
330 DATA 0,0,56,252,252,254,255,255	<079>
335 DATA 255,127,127,63,31,12,0,0	<070>
340 DATA 255,255,254,152,0,0,0,0	<175>
345 DATA 255,191,31,15,3,1,0,0	<174>
350 DATA 255,255,255,248,248,224,0,0	<255>
355 DATA 0,0,36,24,24,36,0,0	<026>
360 DATA 65,39,18,207,63,191,127,255	<079>
365 DATA 160,68,88,225,250,252,254,255	<059>
370 DATA 255,255,255,255,255,255,255,255	<198>
375 DATA 255,255,243,195,195,192,0,0	<175>
380 DATA 0,0,35,254,35,0,0,0	<042>
385 DATA 4,4,11,48,48,64,0,0	<058>
390 DATA 0,0,196,127,196,0,0,0	<205>
395 DATA 0,32,32,208,12,12,2,0	<117>
400 REM +++++++++++++++++	<033>
401 REM + SPRITES DATEN +	<047>
402 REM +++++++++++++++++	<035>
500 FOR 1=50304 TO 50304+62:READ A:POKE	I,
AzNEXT	<101>
505 FOR 1=50368 TO 50368+62sREAD AsPOKE	I,
A:NEXT	<251>
510 FOR 1=50432 TO 50432+62sREAD A:POKE	
A:NEXT	<206>
511 FOR 1=50496 TO 50496+62:READ AzPOKE	I,
A:NEXT	<097>
512 FOR 1=50560 TO 50560+62:READ A:POKE	I,
A:NEXT	<049>
513 FOR 1=50624 TO 50624+62:READ A:POKE	I,
A:NEXT	<216>
514 FOR 1=50688 TO 50688+62:READ A:POKE	
A:NEXT	<107>
515 FOR 1=50752 TO 50752+62:READ A:POKE	
A:NEXT	<057>
517 PRINT"<DOWN,3SPACE,BLUE,SPACE >APOCALYP	
SE NOW "	<151>
518 PRINT"<2D0WN,2SPACE,YELLOW>BY<SPACE,	GR
EEN>HELMUT<SPACE,CYAN>BURGEMEISTER <LIG	
.BLUE,DOWN,13LEFT,DOWNIAND HELMUT BOEL	
CSKEI<2SPACE}"	<064>
519 DATA 0,0,0	<133>
520 DATA 0,0,0,255,255,255,0,48,0,3,255,	19
3,4,32,97,8,32,55,16,42,153	<157>
525 DATA 96,34,1,128,79,131,128,66,6,128	
38,152,255,128,96,64,64,128	<132>
530 DATA 32,33,0,16,33,0,143,254,0,129,2	
,127,255,248,0,0,0,0,0,0	<191>
540 DATA 0,0,0,0,0,0,31,255,240,0,40,0,0	,1
6,0,0,104,0,0,132,0	<111>
545 DATA 1,2,0,6,249,128,4,252,128,11,254,	
64,9,252,64,4,0,128,3,3,0,0,252,0	<224>
550 DATA 1,50,0,2,1,0,4,0,128,28,0,224,0	
, 0,0,0,0	<198>
560 DATA 0,0,0,0,0,0,255,255,255,0,12,0,	13
1,255,112,135,4,32	<239>
565 DATA 252,4,16,153,68,8,128,68,6,193,	24
2,1,96,66,1,24,65,1,6,1,255,1,2,2,0	<016>
570 DATA 132,4,0,132,8,0,127,241,0,64,129,	
31,255,254,0,0,0,0,0,0	<163>
580 DATA 0,0,240,0,15,1,0,240,193,15,111	,1
03,240,240,65,3,32,145,4,42,3	<243>
Listing »APOCALYPSE NOW«.
Beachten Sie die Eingabehinweise auf Seite 16.

141
Spiel
C 64
585 DATA 8,34,134,0,47,8,16,66,144,96,82,9			:RETURN	<236>
6,128,128,128,128,129,0,143,65,0	<083>	2060	IF A=1 THEN GOSUB 3000	<040>
590 DATA 240,33,0,64,46,8,32,242,240,31,15		2070	IF A=2 THEN GOSUB 3030	<094>
,0,129,240,0,143,0,0,112,0,0	<044>	2079	IF(J AND 8)=0 AND A=3 THEN GOSUB 3400	
600 DATA 15,0,0,128,240,0,131,15,0,230,252			:RETURN	<067>
,240,156,240,15,137,4,192,192,84,32	<157>	2080	IF A=3 THEN GOSUB 3060	<056>
605 DATA 97,68,16,16,244,0,9,66,8,6,82,6,1		2090	RETURN	<116>
,1,1,0,129,1,0,130,241,0,132,15	<125>	3000	Xl=INT(X/8-4):Yl=INT(Y/8-5)	<023>
610 DATA 16,116,2,15,143,4,0,240,248,0,15,		3005	FOR E=X1 TO 0 STEP-l:GOSUB 61400	<094>
129,0,0,241,0,0,14	<107>	3006	PO=PEEK(49152+E+40*Y1):POKE 49152+E+4	
620 DATA 0,0,0,0,0,0,0,3,0,0,15,0,0,63,0,0			0*Yl,66:POKE 49152+E+40*Yl,PO	<031>
,240,0,0,192,0,0,20,0,0,20,0,0,40,0	<095>	3007	IF PEEK(49152+E-l+40*Yl)<>32 THEN S=-	
625 DATA 0,40,0,0,20,0,0,20,0,0,40,0,0,40,			lsGOTO 3100	<007>
0,0,20,0,0,95,0,0,170,0,3,255,192	<016>	3010	NEXT E:RETURN	<128>
630 DATA 13,95,112,3,255,192	<145>	3030	Xl=INT(X/8):Yl=INT(Y/8-3)	<123>
640 DATA 0,0,0,0,0,0,0,192,0,0,240,0,0,63,		3033	FOR E=Y1 TO 25 STEP l:GOSUB 61400	<171>
0,0,15,0,0,3,0,0,20,0,0,20,0,0,40,0	<084>	3040	PO=PEEK(49152+Xl+40*E):POKE 49152+X1+	
ö45 DATA 0,40,0,0,20,0,0,20,0,0,40,0,0,40,			40*E,42:POKE 49152+Xl+40*E,PO	<083>
0,0,20,0,0,95,0,0,170,0,3,255,192	<036>	3045	IF PEEK(49152+Xl+40*E+40)<>32 THEN 31	
650 DATA 13,95,112,3,255,192	<165>		10	<063>
660 DATA 128,0,1,71,255,242,36,0,4,16,255,		3050	NEXT EsRETURN	<168>
12,25,0,148,38,0,100,2,0,68,69,36,196	<027>	3060	Xl=INT(X/8+4):Yl=INT(Y/8-5)	<079>
665 DATA 69,153,68,124,126,125,68,60,68,68		3070	FOR E=X1 TO 39 STEP l:GOSUB 61400	<185>
,90,68,68,129,68,67,0,196,66,255,68,68	<202>	3075	PO=PEEK(49152+E+40*Y1)s POKE 49152+E+4	
670 DATA 20,36,40,34,20,16,65,24,47,255,22			0*Yl,68sPOKE 49152+E+40*Yl,PO	<231>
8,64,0,2,128,0,1	<234>	3077	IF PEEK(49152+E+l+40*Yl)<>32 THEN S=1	
700 REM ttftttttttttttftttttttttttftt	<087>		sGOTO 3100	<221>
701 REM f INETIALISIERUNG VARIABLEN t	<061>	3080	NEXT E:RETURN	<200>
702 REM ttfttttfttttttttttttttttftttt	<089>	3097	REM +++++++++++++++++++++++	<183>
997 GOSUB 62130:POKE 50169,22:POKE 50168,1		3098	REM + AUFPRALL VON SCHUSS +	<141>
8	<009>	3099	REM +++++++++++++++++++++++	<185>
998 V=53248:P0KE V+21,lsPOKE V+42,14	<103>	3100	POKE SI+10,3:GOSUB 60700;IF PEEK(4915	
999 X=250:Y=94sGOSUB 50000	<033>		2+E+S+40*Yl)<>51 THEN 3150	<123>
1000 X=250:Y=94:A=l:OT=l:V=53248:POKE 5016		3102	POKE 49152+E+S+40*Yl,38:FOR T=0 TO 10	
8,18:GOSUB 63000:O=PEEK(V+31):AB=AC	<140>		0:NEXT:POKE 49152+E+S+40*Y1,32sE=0	<168>
1001 POKE V+21,lsP0KE V+29,3zP0KE V+39,3:B		3103	SC=SC+6:GOSUB 61200:RETURN	<189>
= 1s PR I NT " <CLR } " : Q= 13: X2=0: Y2=90 s B2=4:		3110	POKE SI+10,3:GOSUB 60700:IF PEEK(4915	
C2=3	<024>		2+Xl+40*E+40)<>51 THEN 3170	<095>
1002 GOSUB 60100:POKE V+21,1	<039>	3111	POKE 49152+Xl+40*E+40,38	<083>
1003 H=32:EN=10sPU=.05:B9=0:HU=0	<156>	3112	FOR T=0 TO 110:NEXTsPOKE 49152+Xl+40*	
1004 POKE V+2,X2:P0KE V+3,Y2:HB=4	<048>		E+40,32:E=0:SC=SC+8:GOSUB 61200:RETUR	
1005 POKE V+28,12:P0KE V+37,2sP0KE V+38,5	<221>		N	<007>
1006 POKE 50170,23:POKE 50171,24	<022>	3150	PO=PEEK(49152+E+S+40*Y1):POKE 49152+E	
1009 POKE SI+ll,65sJS=PEEK<V+30)sO=PEEK<V+			+S+40*Yl,38	<170>
31)	<001>	3160	FOR T=0 TO 100sNEXTsPOKE 49152+E+S+40	
1010 REM HAUPTPROGRAMM	<037>		*Yl,PO:E=0	<208>
1011 J=PEEK(56320):JS=PEEK(V+30)	<076>	3165	RETURN	<175>
1020 IF(J AND 4)=0 THEN X=X-5:A=A-1	<071>	3170	PO=PEEK(49152+Xl+40*E+40):POKE 49152+	
1030 IF(J AND 8)=0 THEN X=X+5:A=A+1	<004>		Xl+40*E+40,38	<177>
1040 IF(J AND l)=0 THEN Y=Y-5	<084>	3180	FOR T=0 TO 100sNEXTsPOKE 49152+Xl+40*	
1050 IF(J AND 2)=0 THEN Y=Y+5	<094>		E+40,P0 s E=0 s RETURN	<216>
1055 IF A>3 THEN A=3	<129>	3197	REM tttttttttftttttttttttttttt	<155>
1056 IF A<1 THEN A=1	<158>	3198	REM t KOLLISION HUBSCHRAUBER t	<023>
1059 IF Y<85 THEN Y=85	<204>	3199	REM ttttttttttttttfttttttttttt	<157>
1060 ON A GOSUB 2000,2010,2020	<032>	3200	GOSUB 60200:POKE SI+18,0:POKE V+2,0sX	
1065 Y=Y+AB	<134>		2=0:Y2=INT(RND(1)*50)+90:HB=HB-1	<028>
1070 POKE V,X:POKE V+l,Y	<209>	3201	POKE V+3,Y2:O=PEEK(V+31)sJS=PEEK(V+30	
1080 IF(J AND 16)=0 THEN GOSUB 2050	<046>		)	<103>
1090 0=PEEK(V+31):IF 0=1 THEN 3200	<127>	3202	FOR T=0 TO 100:P=INT(RND(l)*15):POKE	
1098 IF X>250 THEN B=B-l:X=250:BI=0:HU=0sB			V+39,PsNEXTsP0KE V+39,3	<037>
9=0sPOKE V+21,l:IF B<1 THEN B=1	<078>	3203	IF HB<=0 THEN POKE V+21,0sPRINT"<HOME	
1099 IF X<5 THEN B=B+l:X=5:BI=0	<006>		,8D0WN,12RIGHT>G A M E<2SPACE>0 V E R	
1100 ON B GOSUB 4500,5000,5500,6000	<061>		*':GOTO 8000	<027>
1110 POKE 49152+EN+40*3,H;EN=EN-PU:H=32	<251>	3210	X=250:Y=94:POKE V,X:POKE V+l,Y:O=PEEK	
1888 IF EN>10 THEN 1010	<153>		(V+31)s GOSUB 60300 sGOTO 1009	<133>
1889 GOSUB 61000:GOSUB 60900	<230>	3300	Xl=INT(X/8-4):Yl=INT(Y/8-5)	<069>
1890 IF EN<=0 THEN EN=0:AB=4:POKE SI+7,100		3310	FOR E=X1 TO 0 STEP—lsGOSUB 61400	<145>
sGOTO 1065	<168>	3315	Yl=Yl+.5	<136>
1900 GOTO 1010	<094>	3316	IF Yl>=24 THEN Yl=24:RETURN	<172>
1997 REM ftfTttfttfttttttttttttttttfttt	<208>	3319	PO=PEEK(49152+E+40*INT(Y1))	<192>
1998 REM tBEWEGUNGSRICHTUNG VON SPRITEf	<030>	3320	POKE 49152+E+40*INT(Y1),67	<207>
1999 REM tttttTfttttttttttttttttttttttt	<210>	3321	POKE 49152+E+40*INT(Y1),P0	<117>
2000 IF(J AND 4)=0 THEN POKE 50168,21:POKE		3330	IF PEEK(49152+E-l+40*INT(Yl))<>32 THE	
SI+7,255:RETURN	<200>		N S=-l:GOTO 3100	<249>
2001 POKE 50168,18:POKE SI+7,200	<092>	3340	NEXT E:RETURN	<206>
2009 RETURN	<033>	3400	Xl=INT(X/8+4):Yl=INT(Y/8-5)	<167>
2010 POKE 50168,19	<051>	3410	FOR E=X1 TO 39 STEP l:GOSUB 61400	<017>
2019 RETURN	<043>	3415	Yl=Yl+.5	<238>
2020 IF(J AND 8)=0 THEN POKE 50168,22:POKE		3416	IF Yl>=24 THEN Yl=24:RETURN	<018>
SI+7,255:RETURN	<229>	3419	PO=PEEK(49152+E+40*INT(Y1))	<038>
2021 POKE 50168,20;POKE SI+7,200	<082>	3420	POKE 49152+E+40*INT(Y1),69	<118>
2029 RETURN	<053>	3421	POKE 49152+E+40*INT(Y1),P0	<219>
2049 REM	<050>	3430	IF PEEK(49152+E+l+40*INT(Yl))<>32 THE	
2050 REM + SCHUSS ROUTINE +	<186>		N S=lsGOTO 3100	<050>
2051 REM FFK-t-FFFFf-Fi-FFFFFF	<052>	3440	NEXT E:RETURN	<050>
2059 IF(J AND 4)=0 AND A=1 THEN GOSUB 3300		3997	REM +w^<^w^++^w^ew^^t^w-	<231>
142

C 64
Spiel
3998	REM BILD TANKEN AUFBAUEN +	<099>	5125	PRINT"£12SPACE,LIG- BLUE,2SPACE>H£2SPA	
3999	REM ++++++++++++++++++++++++	<233>		CE>fi£15SPACE,BLUE>++	<169>
4000	GOSUB 60500:X2=0:Y2=90:POKE V+2,X2:P0		5130	PRINT"£12SPACE,LIG.BLUE,SPACEIN£4SPAC	
	KE V+3,Y2	<206>		E}fi£l4SPACE,BLUE>++	<174>
4001	X=250:Y=94:BI=1	<177>	5135	PRINT"£RED}$$$$$$$$$$$$ £LIG.BLUE}# £RE	
4002	TR=49152:C=40:GOSUB 4530	<020>		D}$$$$$$£LIG.BLUE}# £RED}$$$$$$$$$$$$$	
4009	REM ttftftfTtttttTtttttttTtTtftf	<047>		<BLUE>++ £LIG.BLUE,HOME}	<009>
4010	REM t BILDSCHIRMABFRAGE TANKEN t	<123>	5297	REM ++++++++++++++++++++++++++++	<069>
4011	REM TTTTTTtTTtttTttTttttTttTtTtt	<049>	5298	REM + BILDSCHIRMABFRAGE TUNNEL +	<.091>
4500	IF BI=0 THEN 4000	<148>	5299	REM ++++++++++++++++++++++++++++	<071>
4501	IF B9=0 THEN:IF EN>30 AND HU<5 THEN B		5300	POKE TR+Q+C*17,PX	<250>
	9=l:P0KE V+21,3:G0SUB 61570:X3=20	<116>	5320	POKE TR+Q+C*17,PY:IF Y<170 THEN RETUR	
4502	ON B9 GOSUB 61300	<204>		N	<168>
4503	IF Y<=175 AND KL=0 THEN RETURN	<173>	5340	GE=INT(RND(l)*15):IF GE>10 THEN GOSUB	
4504	IF X>140 AND X<175 AND KL=0 THEN KL=1			60000	<035>
	:GOSUB 4511:IF LD=1 THEN GOTO 62000	<192>	5345	IF X<140 AND X>120 AND Y>174 AND Y<17	
4505	PU=.05:IF Y>214 AND KL=1 THEN H=160:O			8 THEN PX=32:PY=32:G0SUB 61100:GOSUB	
	T=1:AB=AC:PU=-1:GOSUB 60800	<107>		61200	<201>
4506	IF Y>218 AND KL=1 THEN Y=Y-AB-1	<229>	5350	IF TI$>"000005"THEN GOSUB 60070	<251>
4507	IF Y<=170 AND KL=1 THEN KL=0:GOSUB 45		5407	IF Y<=214 THEN POKE SI+18,0	<078>
	30:RETURN	<142>	5410	RETURN	<134>
4508	IF Y>214 AND KL=1 AND EN>=35 THEN EN=		5497	REM ttttttttttttttttttttttttTtTttt	<152>
	35:H=32:P0KE SI+18,0	<150>	5498	REM t BILDSCHIRM PANZER AUFBAUEN t	<140>
4509	IF Y<=214 AND KL=1 THEN POKE SI+18,0	<191>	5499	REM tttttttttttttttttttttttftttttt	<154>
4510	RETURN	<250>	5500	IF BI=0 THEN H=32:G0T0 5510	<005>
4511	FOR T=18 TO 23	<178>	5505	GOTO 5700	<255>
4512	FOR 1=15 TO 24	<156>	5510	GOSUB 60500	<100>
4515	POKE TR+I+40*T,32	<130>	5520	X=250:Y=94 s BI = 1:B5=-2:POKE V+5,223:PO	
4520	NEXT:NEXT	<205>		KE V+7,223:X5=50:X6=120:POKE V+21,13	<134>
4521	PRINT"<HOME,22D0WN >"	<229>	5521	POKE V+4,X5:P0KE V+6,X6:G0SUB 5800	<176>
4522	PRINT"£RED,10SPACE,WHITE>> £RED>####{B		5530	PRINT"£HOME,3D0WN,BLUE}":B6=2:Y7=20:G	
	LUE, SPACE >W^OT{SPACE, RED>#### £WHI			9=1	<006>
	TE>?	<141>	5540	PRINT"7678787878787868688878687868786	
4523	PRINT"<RED>$$$$$$$$$$##### £GREEN,2SPA			87868786"	<056>
	CE>t7<2SPACE>rT<2SPACE,RED>#####^^$		5545	PRINT”:;:;:;9:;9;9:9s;9:;9£19SPACE}"	<251>
	$$$$£HOME,LIG.BLUE}	<246>	5547	PRINT"+)£16SPACE>(+"	<228>
4529	RETURN	<013>	5550	FOR T=0 TO 2:PRINT"+)£16SPACE}(+£CYAN	
4530	PRINT"£HOME,17D0WN}"	<034>		>333333 £BLUE >":NEXT	<031>
4531	PR I NT " £ 15SPACE , WH I TE>7.7.7.7.7.7.7.7.7.7.	<134>	5555	PRINT"+)£8SPACE>+£7SPACE>(+£CYAN>3333	
4532	PR I NT " {14SPACE , WH I TE > >### £RED } /012 {WH			33333 £BLUE>7786876787"	<221>
	ITE)###?	<229>	5560	FOR T=0 TO 3:PRINT"£CYAN,SPACE>3£BLUE	
4533	PRINT” £13SPACE,WHITE>>£RED>#£GREEN> ' '			,8SPACE>+ £7SPACE >( + £CYAN >333333333 £BL	
		£RED>#£WHITE>?	< 130 >		UE>+)”:NEXT	< 138 >
4534	PRINT"£12SPACE,WHITE}> £RED >##{GREEN>'		5565	FOR T=0 TO 5:PRINT"£BLUE>+)£8SPACE,BL	
		£RED>##£WHITE>?	<220>		UE>+ £7SPACE,CYAN>333£2SPACE>333333 £BL	
4536	PRINT"£11SPACE,WHITE}> £RED>### £GREENI			UE>+)":NEXT	<030>
		£RED>###£WHITE>?	<141>	5570	FOR T=0 TO 2:PRINT"£RED,18SPACEX + £CY	
4537	PRINT"£10SPACE,WHITE}> £RED)####£GREEN			AN>333333333£RED>+)":NEXT	<089>
	}	£RED}####£WHITEJ?	<224>	5575	PRINT"£GREEN>$$$$$$$$$$$$$$$$$$$$$$$$	
4538	PRINT" £RED}m$$$m$#####£GREEN) ' ' ' '			£LIG.BLUE,HOME >"	<144>
	' ' ' ' ' ' £RED}#####tm$m$£HOME,LIG.BL		5697	REM ++++++++++++++++++++++++++++	<217>
	UE>	<169>	5698	REM + BILDSCHIRMABFRAGE PANZER +	<142>
4560	KL=0:RETURN	<135>	5699	REM ++++++++++++++++++++++++++++	<219>
4997	REM ++++++++++++++++++++++++	<215>	5700	IF X>168 THEN RETURN	<014>
4998	REM + BILD TUNNEL AUFBAUEN +	<083>	5710	IF X5>138 THEN B5=3:P0KE 50170,24	<059>
4999	REM ++++++++++++++++++++++++	<217>	5715	IF X5<30 THEN B5=-2:POKE50170,23	<200>
5000	IF BI=0 THEN H=32:G0T0 5010	<139>	5720	IF X6>138 THEN B6=2:P0KE 50171,24	<077>
5005	GOTO 5300	<199>	5730	IF X6<30 THEN B6=-3:P0KE 50171,23	<027>
5010	GOSUB 60500:TI$="000000"	<026>	5740	X5=X5-B5:X6=X6-B6	<065>
5011	X=250:Y=94:BI=1:PX=45:PY=46	<013>	5750	POKE V+4,X5:P0KE V+6,X6	<175>
5019	PRINT"£HOME,3D0WN,RED>"	<183>	5755	JS=PEEK(V+30):IF JS=5 OR JS=9 OR JS=1	
5020	PRINT"£4SPACE>>6677656756567756765667			3 THEN 3200	<202>
	878776767657	<055>	5765	ON G9 GOSUB 5820,5900	<110>
5030	FOR T=0 TO 3:PRINT"£4SPACE}()":NEXT	<066>	5770	RETURN	<240>
5035	PRINT"£4SPACE>()£8SPACE>6786876887678		5800	X7=INT<X5/8-l):Y7=21	<049>
	768676787867	<137>	5810	RETURN	<024>
5040	FOR T=0 TO 2:PRINT"£RED,4SPACE}()£27S		5811	X8=INT(X6/8-l):Y8=21	<070>
	PACE,BLUE>++":NEXT	<052>	5815	RETURN	<029>
5045	PRINT"£WHITE,SPACE> <67867887876767676		5820	Y7=Y7-1	<047>
	668787 £8SPACE,BLUE>++	<064>	5835	PO=PEEK(49152+X7+40*Y7-40)	<118>
5050	PRINT"£WHITE,SPACE> <9: £YELLOW>)))))))		5840	POKE 49152+X7+40*Y7,90	<185>
	))))))))))<WHITE>9;9s£8SPACE,BLUE>++"	<222>	5850	IF P0<>32 THEN POKE 49152+X7+40*Y7-40	
5085	PRINT"£WHITE,SPACE>(£10SPACE,PURPLE)3			,PO:POKE 49152+X7+40*Y7,32:G9=2:GOSUB	
	33 £8SPACE>3£9SPACE,BLUE>++	<003>		5811	<088>
5090	PRINT"£WHITE,SPACE >(£11SPACE,PURPLE >3		5860	POKE 49152+X7+40*Y7,32	<197>
	£9SPACE>3 £9SPACE,BLUE>++	<010>	5870	RETURN	<084>
5095	PRINT"£WHITE,SPACE>(£21SPACE,PURPLE>3		5900	Y8=Y8-1	<202>
	£9SPACE,BLUE>++	<186>	5920	PO=PEEK(49152+X8+40*Y8-40)	<250>
5096	PRINT"£WHITE,SPACE>(£9SPACE,PURPLE>33		5930	POKE 49152+X8+40*Y8,90	<026>
	333 £7SPACE,PURPLE>3 £9SPACE,BLUE>++	<078>	5940	IF P0<>32 THEN POKE 49152+X8+40*Y8-40	
5100	PRINT"£WHITE,SPACE>788 £CYAN>3333333 £W			,PO:POKE 49152+X8+40*Y8,32:G9=1:GOSUB	
	HITE>88878787878787 £8SPACE,BLUE>++	<101>		5800	<163>
5110	PRINT"£WHITE,SPACE};:9 £CYAN>3333333 £W		5950	POKE 49152+X8+40*Y8,32	<038>
	HITE>;:9:9:;9:9:;9:£8SPACE,BLUE}++	<215>	5960	RETURN	<176>
5120	PR I NT " £ 12SPACE , LIG. BLUE, 3SPACE W16S		5997	REM ttttttttttttttftftftttttttttft	<144>
	PACE,BLUE>++	<164>		Listing »APOCALYPSE NOW« (Fortsetzung)	

143
Spitzen-Software zum
WB
ui
MicroPro®
ÄASHTON-TATE
WordStar 3.0 mit MailMerge Der Best seller unter den Textverarbeitungsprogrammen Tür PCs bietet Ihnen bildschirmorientierte Formatierung, deutschen Zeichensatz und DIN-Tastatur sowie integrierte Hilfstexte. Mit MailMerge können Sie Serienbriefe mit persönlicher Anrede an eine beliebige Anzahl von Adressen schreiben und auch die Adreßaufkleber drucken.
WordStar/MailMerge für den Commodore 128 PC Bestell-Nr. MS 103 (5%"-Diskette)
Hardware-Anforderungen: Commodore 128 PC, Diskettenlaufwerk, 80-Zeichen-Monitor, beliebiger Commodore-Drucker oder ein Drucker mit Centronics-Schnittstelle.
DM 199,-* (sFr. 178,-). Ab 15.10.85: DM 299,-* (sFr. 260,-)
dBASE II, VorSiOn 2.41 dBASEII,dasmeistver-kaufte Programm unter den Datenbanksystemen, eröffnet Ihnen optimale Möglichkeiten der Daten- u. Dateihandhabung. Einfach u. schnell können Datenstrukturen definiert, benutzt und geändert werden. Der Datenzugriff erfolgt sequentiell oder nach frei wählbaren Kriterien, die integrierte Kommandosprache ermöglicht den Aufbau kompletter Anwendungen wie Finanzbuchhaltung, Lagerverwaltung, Betriebsabrechnung usw.
dBASE II für den Commodore 128 PC
Bestell-Nr. MS 303 (5‘/4"-Diskette)
Hardware-Anforderungen: Commodore 128 PC, Diskettenlaufwerk, 80-Zeichen-Monitor, beliebiger Commodore-Drucker oder ein Drucker mit Centronics-Schnittstelle.
DM 199,-* (sFr. 178,-). Ab 15.10.85: DM 299,-* (sFr. 260,-)
MULTIPLAN, Version 1.06 wenn sie die zeitraubende manuelle Verwaltung tabellarischer Aufstellungen mit Bleistift, Radiergummi und Rechenmaschine satt haben, dann ist MULTIPLAN, das System zur Bearbeitung »elektronischer Datenblätter« genau das richtige für Sie! Das benutzerfreundliche und leistungsfähige Tabellenkalkulationsprogramm kann bei allen Analyse- und Planungsberechnungen eingesetzt werden, wie z. B. Budgetplanungen, Produktkalkulationen, Personalkosten usw. Spezielle Formatierungs-, Aufbereitungs- und Druckanweisungen ermöglichen außerdem optimal aufbereitete Präsentationsunterlagen!
MULTIPLAN für den Commodore 128 PC
Bestell-Nr. MS 203 (5'/4"-Diskette)
Hardware-Anforderungen: Commodore128PC, Diskettenlaufwerk, 80-Zeichen-Monitor, beliebiger Commodore-Drucker oder ein Drucker mit Centronics-Schnittstelle.
DM 199,-* (sFr. 178,-). Ab 15.10.85: DM 249,-* (sFr. 225,-)
Dies sind die ersten drei weltbekannten Software-
Produkte für den Commodore 128 PC. Weitere folgen in Kürze!
Diese Markt&Technik-Softwareprodukte erhalten Sie in den Computer-Abteilungen der Kaufhäuser Horten, Karstadt, Kaufhof, Quelle oder bei Ihrem Computerhändler.
Wenn Sie direkt beim Verlag bestellen wollen: per Nachnahme oder gegen Vorauskasse durch Verrechnungsscheck oder mit der eingehefteten Zahlkarte.
Bestellungen im Ausland bitte an nebenstehende Adressen.
Für Auskünfte steht Ihnen Herr Barsa, Tel. 089/4613-133, gerne zur Verfügung.
ulären Markt&Technil<-Preis odore 128 PC.
MICR@SOFT
I und MULTIPLAN
Und dazu die richtige Literatur:
Ute^MMH
Förden CommodoreHSPC
Mit diesem Buch haben Sie eine wertvolle Ergänzung zum WordStar-Handbuch: Anhand vieler Beispiele steigen Sie mühelos in die Praxis der Textverarbeitung mit WordStar ein. Angefangen beim einfachen Brief bis hin zur umfangreichen Manuskripterstellung zeigi Ihnen dieses Buch auch, wie Sie mit Hilfe von MailMerge Serienbriefe an eine beliebige Anzahl von Adressen mit persönlicher Anrede senden können.
WordStar für den Commodore 128 PC
Best.-Nr. MT 780, ISBN 3-89090-181-6
£
i
2
C0
■M «
*2


dBASE
Zu einem Weltbestseller unter den Datenbanksystemen gehört auch ein klassisches Einführungs- und Nachschlagewerk! Dieses Buch von dem deutschen Erfolgsautor Dr. Peter Albrecht begleitet Sie mit nützlichen Hinweisen, die nur von einem Profi stammen können, bei Ihrer täglichen Arbeit mit dBASE II. Schon nach Beherrschung weniger Befehle ist der Einsteiger in der Lage, Dateien zu erstellen, mit Informationen zu laden und auszuwerten.
dBASE II für den Commodore 128 PC
Best.-Nr. MT 838, ISBN 3-89090-189-1
0!
MULTIPLAN
fürden
CommodoreU8PC
Dank seiner Menütechnik ist MULTIPLAN sehr schnell erlernbar. Mit diesem Buch von Dr. Peter Albrecht werden Sie Ihre Tabellenkalkulation ohne Probleme in den Griff bekommen. Als Nachschlagewerk leistet es auch dem Profi nützliche Dienste MULTIPLAN für den Commodore 128 PC Best.-Nr. MT 836, ISBN 3-89090-187-5
Jedes Buch kostet DM 49,- (sFr. 45,10).
Sie erhalten jedes WordStar-, dBASE II- und MULTIPLAN-Pro-gramm für Ihren Commodore 128 PC fertig angepaßt (Bildschirmsteuerung und Druckerinstallation). Jeweils Originalprodukte! Jedes Programmpaket enthält außerdem ein ausführliches Handbuch mit kompakter
Erhältlich bei Ihrem Buchhändler.	A
~b”
Oktober kosten:
Befehlsübersicht.
(^
DM 299,-* (sFr. 260,-)
DM 299,—* (sFr. 260,—)
DM 249,-* (sFr. 225,-)
inkl. MwSt. Unverbindliche Preisempfehlung
MarktTeduiik
Verlag Aktiengesellschaft
Hans-Pinsel-StraBe 2, 8013 Haar bei München
Schweiz: Markt&Technlk-Vertrlebs AG, Kollerstrasse 3, CH-6300 Zug, ® 042/2231 55 Österreich: Micromput-Ique Schiller, Fasangasse 21, A-1030 Wien, ® 0222/785661
Spiel
C 64
					
5998	REM t BILDSCHIRM SPINNE AUFBAUEN t	<107>	9000	BI=0:B9=0:EN=0:HU=0:PU=0:AB=0:KL=0:H=	
5999	REM ttttttttttttttttttttfttttttttt	<146>		0:PX=0:PY=0:GE=0:PO=0:G9=0	<046>
6000	IF BI=0 THEN H=32:SOTO 6020	<188>	9010	B=0:HA=0:LD=0:SC=0:AC=0:POKE V+23,0 sP	
6010	GOTO 6300	<196>		OKE V+29,0:GOTO 998	<004>
6020	GOSUB 60500;TI$="000000":V=53248:POKE		10000	REM tftttftfttttftttftfftfttf	<127>
	50172,25:POKE V+8,50:POKE V+9,157	<204>	10001	REM t ANFANGSSPRITE BEWEGEN t	<213>
6030	X=250:Y=110:BI=l:POKE V+23,16:P0KE V+		10002	REM ttttttttttttttttftttttttt	<129>
	29,19:P0KE V+21,17	<222>	50000	POKE V,XsPOKE V+l,Y	<114>
6040	POKE V,X:POKE V+l,Y:0=PEEK(V+31)	<055>	50010	Xl=INT(X/8-4):Yl=INT(Y/8-5)	<042>
6050	PRINT"<HOME,3D0WN,BLUE >"	<201>	50020	FOR E=X1 TQ 0 STEP-1	<169>
6060	PRINT "{12SPACE,WHITE>6787878678687868		50030	POKE 49152+E+40*Yl,66:POKE 49152+E+4	
	76878677867	<041>		0*Y1,32	<100>
6070	PRINT"<12SPACE,WHITE>+;9:;9:9;9;9s9;+		50040	IF PEEK(49152+E-l+40*Yl)<>32 THEN P0	
	9s;s;fi;9s;9	<006>		KE 49152+E-l+40*Yl,38:GOTO 50070	<025>
6080	FOR T=0 TO 1=PRINT"<12SPACE,BLUE>+)<1		50050	NEXT E:RETURN	<177>
	2SPACE>(+":NEXT	<139>	50070	FOR T=0 TO 100:NEXT:POKE 49152+E-l+4	
6090	FOR T=0 TO 2:PRINT"<12SPACE>+X15SPAC			0*Yl,32:X=X-3:E=0:GOTO 50000	<233>
	E)":NEXT	<006>	60000	POKE TR+Q+C*17,32:Q=Q-INT(RND(1)*3):	
6100	PRINT"<SPACE,WHITE}76768787868+	<104>		0=Q+INT(RND(l)*3)	<099>
6110	PRINT"<BLUE}(+++++++++++ <15SPACE)+) t		60010	IF O<ll THEN 0=11	<122>
	ACHTUNGt	<163>	60020	IF 0>14 THEN Q=14	<061>
6120	PRINT"(++{7SPACE)++)<13SPACE?(+)	<219>	60060	RETURN	<171>
6130	PRINT"(++<7SPACE>++<15SPACE>+)	<002>	60070	OT=OT*-1s TI$="000000"	<167>
6140	PRINT"(+ {8SPACE,CYAN>333 <BLUE,14SPACE		60075	PRINT"<HOME,20DOWN>"	<103>
	>+)	<008>	60080	IF OT=-1 THEN FOR T=0 TO 2:PRINT"<13	
6150	PRINT"(+<8SPACE,CYAN>333<BLUE,14SPACE			RIGHT,6SPACE}":NEXT:RETURN	<182>
	}+)	<020>	60085	PRINT"<LIG.BLUE,13RIGHT,2SPACE} H0<2S	
6160	PRINT"(++<7SPACE>++<15SPACE>+)	<034>		PACE>"	<064>
6170	PRINT"(++<7SPACE>++)<13SPACE>( + )	<015>	60086	PRINT"<13RIGHT,SPACE)H<2SHIFT-SPACE >	
6180	PRINT"(+++++++++++7{14SPACE,BLUE>+)	<119>		ä "	<168>
6190	PRINT"<WHITE,SPACE?::;9:;s9;9:+<14SPA		60087	PRINT"{13RIGHT >M<4SPACE>n<LIG.BLUE}"	<047>
	CE,BLUE>+)	<196>	60090	RETURN	<201>
6200	PRINT"{12SPACE>+)<4SPACE,PURPLE>+(<7S		60099	REM GERAEUSCHE	<062>
	PACE>+)	<148>	60100	SI=54272;P0KE SI+7,200sPDKE SI+8,0:P	
6210	PRINT"<12SPACE,BLUE>+)<4SPACE,PURPLE>			OKE SI+9,0:POKE SI+10,3:POKE SI+11,0	<129>
	+ ( {GREEN)7OTW<PURPLE)+)	<099>	60110	POKE SI+12,0:POKE SI+13,15*16+15:P0K	
6220	PRINT"<12SPACE,BLUE}+)<4SPACE,PURPLE >			E SI+21,0:POKE SI+22,150:POKE SI+23,	
	+ (<2SPACE,CYAN}/012 <SPACE,PURPLE}+)	<211>		243	< 185>
6230	PRINT"{GREEN>$$$$$$$$$$$$<BLUE>+ <GREE		60120	POKE SI+24,31:P0KE SI+ll,65	<044>
	N>$$m {PURPLE)+ <GREEN>$$$$$$$$ <PURPL		60130	RETURN	<241>
	E)+<GREEN>$$$$$$$$$${LIG.BLUE,HOME>"	<204>	60200	POKE SI+11,0	<080>
6297	REM ++++++++++++++++++++++++++++	<053>	60201	POKE SI+l,5:P0KE SI+4,0:POKE SI+5,11	
6298	REM + BILDSCHIRMABFRAGE SPINNE +	<093>		:POKE SI+6,0	<190>
6299	REM ++++++++++++++++++++++++++++	<055>	60202	POKE SI+4,131	<096>
6300	IF TI$>"000007"THEN GOSUB 6400	<147>	60210	RETURN	<067>
6305	IF TI$>"000010"THEN GOSUB 6420	<216>	60300	IF EN<=1 THEN EN=15:IF B>1 THEN EN=3	
6310	PU=.05sIF Y>206 AND X>180 AND X<190 T			5	<161>
	HEN GOSUB 6440	<227>	60301	PRINT"<HOME,3D0WN,10SPACE,BLUE,26SPA	
6320	IF Y<=206 THEN POKE SI+18,0	<103>		CE,LIG.BLUE>"	<214>
6325	0=PEEK(V+31):IF 0=16 THEN GOSUB 6550	<050>	60302	PRINT"<HOME,DOWN,25RIGHT >LEBEN <SPACE	
6399	RETURN	<105>		,RVSON>"HB	<120>
6400	PRINT"{H0ME,13D0WN,13RIGHT,GREEN)EEEE		60303	PRINT"<HOME,2D0WN,2RIGHT,YELLOW>ENER	
	EffmEEL<L IG. BLUE } "	<002>		GY<LIG.BLUE>":FOR T=0 TO EN:POKE 491	
6405	0=PEEK(V+31):IF 0=1 THEN 3200	<108>		52+T+40*3,160:NEXT	<178>
6410	PRINT"<HOME,13D0WN,13RIGHT,13SPACE}"	<039>	60304	PRINT"<HOME,9RIGHT,15SPACE}"	<054>
6415	RETURN	<123>	60310	X=250:Y=94:AB=AC:H=32:GOSUB 61200	<206>
6420	PRINT"<H0ME,18D0WN,13RIGHT,GREEN>ELLE		60315	IF B=4 THEN Y=110	<081>
	Em££LE£{L IG. BLUE } "	<036>	60320	RETURN	<177>
6425	0=PEEK(V+31):IF 0=1 THEN 3200	<128>	60500	PRINT"{CLR,3D0WN,10SPACE,BLUE,26SPAC	
6430	PRINT"<HOME,18D0WN,13RIGHT,13SPACE >"	<185>		E,LIG.BLUE)"	<167>
6435	TI$="000000":RETURN	<021>	60501	PRINT"{HOME,2D0WN,2RIGHT,YELLOW >ENER	
6440	IF HA=1 THEN RETURN	<225>		GY<LIG.BLUE>"	<164>
6441	PU=.05:OT=1:H=160:PU=-1:GOSUB 60800sI		60502	FOR T=0 TO EN:POKE 49152+T+40*3,160:	
	F EN>35 THEN EN=35sHA=l:H=32:PU=.05sO			NEXT:GOSUB 61200	<187>
	T=1	<136>	60550	RETURN	<153>
6450	IF Y>209 THEN Y=Y-AB-1	<202>	60700	SI=54272:P0KE SI+4,0:POKE SI+l,10:PO	
6460	RETURN	<168>		KE SI+5,12:P0KE SI+6,0:POKE SI+4,131	<070>
6550	FOR T=0 TO 180sPOKE 53280,T:POKE 5328		60710	RETURN	<059>
	l,T:GOSUB 60700sNEXT:POKE 53280,0	<104>	60720	SI=54272:P0KE SI+4,0:POKE SI+l,20:PO	
6552	POKE 53281,0sLD=l:SC=SC+1000sGOSUB 61			KE SI+5,12sP0KE SI+6,0:POKE SI+4,131	<092>
	200	<052>	60730	RETURN	<079>
6560	POKE V+21,l:RETURN	<019>	60800	SI=54272:P0KE SI+18,0sPOKE SI+19,0:P	
6697	REM ++++++++++++++++++	<158>		OKE SI+20,15*16	<053>
6698	REM + PUNKTE WERTUNG +	<009>	60810	POKE SI+14,200:POKE SI+15,39:P0KE SI	
6699	REM ++++++++++++++++++	<160>		+18,17	<133>
8000	FOR T=0 TO 1500sNEXT:PRINT"<CLR,4DOWN		60820	RETURN	<169>
	,6RIGHT>N0CH EINMAL [J] "	<048>	60900	SI=54272:P0KE SI+18,0sPOKE SI+19,0sP	
8002	PRINT"<HOME,10DOWN,10RIGHT>SCORE<RVSO			OKE SI+20,15*16+2	<182>
	N,SPACE>";SC	<176>	60910	POKE SI+14,200:POKE SI+15,59:P0KE SI	
8003	IF SC>AS THEN AS=SC	<084>		+18,17	<009>
8004	PRINT"<HOME,12D0WN,8RIGHT >HIGHSCORE <S		60920	RETURN	<013>
	PACE,RVSON>";AS	<091>	61000	OT=OT*-l:IF OT=-1 THEN PRINT"<H0ME,9	
8010	POKE 198,0:WAIT 198,l:GET A$:IF A$="J			RIGHT,15SPACE}":RETURN	<205>
	"THEN 9000	<135>	61001	PRINT"<HOME,CYAN,13RIGHT >LOW ON <SPAC	
8015	POKE 648,4:SYS 65126	<233>		E,RED}FUEL{LIG- BLUE}"	<093>
8020	PRINT"<CLR,SPACE>DANKE!!! GOOD BYE !!		61002	RETURN	<097>
	! ! ! ! ! ! !"5 END	<144>	61100	SC=SC+100:PRINT"<HOME,23RIGHT,15D0WN	
146

C 64
Spiel
	,RED>+ <DOWN,LEFT>+ <DOWN,LEFT>+ <DOWN,		62280	POKE Hl+7,L2(S2):P0KE H2+7,H2(S2):P0	
	LEFT)+{LIG.BLUE}"	<154>		KE DR,W1 OR l:POKE DR+7,W2 OR 1	<208>
61120	RETURN	<215>	62290	Cl=Cl+l:IF Cl>(Dl(Sl)*SP/2)THEN POKE	
61200	PRINT"<HOME,25RIGHT,2D0WN,RVSON,GREE			DR,W1	<053>
	N>SCORE ";SC;"<RVOFF,LIG.BLUE}"	<065>	62300	IF Cl<(Dl(Sl)*SP)THEN 62320	<032>
61210	RETURN	<051>	62310	Cl=0:Sl=Sl+l:POKE DR,W1 OR l:POKE Hl	
61297	REM +++++++++++++++++++++++++++++	<081>		,Ll(Sl):POKE H2,H1(S1)	<182>
61298	REM + FEINDHUBSCHRAUBER BEWEGEN +	<019>	62320	C2=C2+l:IF C2>(D2(S2)*SP/2)THEN POKE	
61299	REM +++++++++++++++++++++++++++++	<083>		DR+7,W2	<183>
61300	IF X>X2 THEN B2=+5:M4=22	<114>	62330	IF C2<(D2(S2)*SP)THEN 62350	<183>
61310	IF X<X2 THEN B2=-5:M4=21	<160>	62340	C2=0:S2=S2+l:POKE DR+7,W2 OR l:POKE	
61320	IF Y>Y2 THEN C2=+3	<253>		Hl+7,L2(S2):P0KE H2+7,H2(S2)	<218>
61330	IF Y<Y2 THEN C2=-3	<047>	62350	IF D1(S1)>0 THEN 62290	<211>
61335	X2=X2+B2: Y2=Y2+C2	<183>	62360	POKE V+21,0:GOTO 8000	<129>
61340	POKE V+2,X2:P0KE V+3,Y2	<097>	62370	DATA D3,2408,E3,2703,F#3,3034,G3,321	
61341	0=PEEK(V+31)	<162>			<209>
61342	JS=PEEK(V+30)	<017>	62380	DATA A3,3608,H3,4050,C#4,4547,D4,481	
61350	IF JS=3 THEN 3200	<007>		7	<052>
61351	IF 0=2 THEN 61500	<127>	62390	DATA E4,5407,F#4,6069,G4,6403,A4,721	
61352	JS=PEEK(V+30)	<027>		7	<212>
61353	IF HU>3 THEN GOSUB 61530	<193>	62400	DATA H4,8101,C#5,9094,D5,9634,E5,108	
61354	0=PEEK(V+31)	<175>		14	<019>
61355	POKE 50169,M4	<121>	62410	DATA F#5,12139,G5,12860,A5,14435	<01B>
61360	RETURN	<201>	62420	REM l.STIMME	<131>
61400	IF B=3 THEN 61430	<114>	62430	DATA D5,3,D5,1,D5,1,E5,1,D5,1,C#5,1,	
61401	IF B=4 THEN 61470	<163>		H4,4,H4,4,C#5,1,C#5,1	<153>
61402	IF HU>4 THEN RETURN	<034>	62440	DATA D5,1,E5,3,D5,1,E5,l,F#5,2,F#5,2	
61410	0=PEEK(V+31):IF 0=2 THEN 61500	<167>		,E5,1,A4,3	<139>
61420	RETURN	<005>	62450	DATA D5,3,D5,l,D5,l,E5,l,D5,l,C#5,l,	
61430	0=PEEK(V+31):IF 0=12 THEN GOSUB 6145			H4,4,H4,4,C#5,1,C#5,1	<173>
	0:POKE V+21,l:SC=SC+200:GOSUB 61200:		62460	DATA D5,1,E5,3,D5,1,E5,1,F#5,2,F#5,2	
	G9=0	<200>		,E5,1,A4,3	<159>
61440	RETURN	<027>	62470	DATA F#5,2,A5,2,G5,2,F#5,1,D5,1,E5,1	
61450	GOSUB 60720:FOR T=0 TO 100:POKE V+38			,F#5,2,E5,5	<036>
	,T:NEXT:RETURN	<240>	62480	DATA F#5,3,E5,l,D5,2,D5,l,H4,l,E5,l,	
61470	0=PEEK(V+31):IF 0=16 THEN:GOSUB 6550	<034>		F#5,2,E5,3,D5,l,E5,1	<062>
61480	RETURN	<067>	62490	DATA F#5,2,A5,2,G5,2,F#5,1,D5,1,E5,1	
61500	HU=HU+l:SC=SC+100:GOSUB 61200	<065>		,C#5,l,H4,l,A4,5	<230>
61501	GOSUB 60700	<018>	62500	DATA D5,3,C#5,1,H4,1,C#5,1,D5,2,E5,1	
61502	FOR T=0 TO 100:POKE V+40,T:NEXT:X2=0			0	<022>
	:POKE V+2,X2:Y2=INT(RND(1)*50)+90	<146>	62510	DATA F#5,2,E5,6,F#5,2,E5,2,D5,1,E5,1	
61503	POKE V+3,Y2	<041>		,F#5,2,A5,2,G5,2,F#5,l,D5,3,F#5,2,E5	
61504	IF HU>4 THEN POKE V+21,l:B9=0	<122>			<112>
61510	E=0:RETURN	<190>	62520	DATA F#5,2,E5,6,F#5,2,E5,2,D5,l,E5,1	
61530	X3=X3+1	<189>		,F#5,2,A5,2,G5,2,F#5,1,D5,1	<221>
61535	IF X3>X/8 THEN GOSUB 61570	<145>	62530	DATA E5,l,C#5,l,H4,l,A4,3,H4,l,C#5,l	<020>
61536	IF X3>39 THEN GOSUB 61570	<106>	62540	DATA D5,3,D5,l,D5,l,E5,l,D5,l,C#5,l,	
61540	POKE 49152+X3+40*INT(Y3),68	<177>		H4,4,H4,4,C#5,1,C#5,1	<009>
61545	D=PEEK(V+31):IF 0=1 THEN POKE 49152+		62550	DATA D5,1,E5,3,D5,1,E5,1,F#5,2,F#5,2	
	X3+40*INT(Y3),32:GOTO 3200	<184>		,E5,1,A4,3	<251>
61550	POKE 49152+X3+40*INT(Y3),32	<217>	62560	DATA D5,3,D5,1,D5,l,E5,l,D5,1,C#5,1,	
61560	RETURN	<147>		H4,4,H4,4,C#5,l,C#5,1	<029>
61570	X3=INT(X2/8+4):Y3=INT(Y2/8-5)	<162>	62570	DATA D5,1,E5,3,D5,1,E5,l,F#5,2,F#5,2	
61580	RETURN	<167>		,E5,1,D5,7	<052>
61997	REM +++++++++	<068>	62580	DATA,-1	<196>
61998	REM + MUSIK +	<074>	62590	REM 2.STIMME	<055>
61999	REM ^++++^+++	<070>	62600	DATA D3,4,D3,4,G3,4,H3,2,D3,2,A3,4,A	
62000	FOR 1=54272 TO 54296:P0KE I,0:NEXT:P			3,4,D3,4,A3,2,E4,1,A3,1	<169>
	OKE 54296,15:P0KE 54275,3	<170>	62610	DATA D3,4,D3,4,G3,4,H3,2,D3,2,A3,4,A	
62110	H1=54272:H2=H1+1:AD=54277:SR=AD+1:DR			3,4,D3,4,A3,2,E4,1,A3,1	<179>
	=AD-1:W1=64:W2=32	<112>	62620	DATA D3,4,D3,4,A3,4,A3,4,H3,4,G3,4,A	
62120	POKE AD,72:P0KE SR,122:P0KE AD+7,43:			3,4,A3,4	<211>
	POKE SR+7,187:G0T0 62250	<160>	62630	DATA D3,4,D3,4,A3,4,A3,4,H3,4,G3,4,A	
62130	DIM F$(18),FL(18),FH(18):F0R 1=0 TO			3,4,A3,3	<219>
	18	<079>	62640	DATA A3,1,A3,7,A3,l,A3,8,D3,4,D3,4,A	
62140	READ F$(I),F:FH(I)=INT(F/256):FL(I)=			3,4,A3,3	<109>
	F-FH(I)*256:NEXT	<236>	62650	DATA A3,1,A3,7,A3,1,A3,8,D3,4,D3,4,A	
62150	DIM Nl$(200),D1(200),N2$(200),D2(200			3,4,A3,4	<121>
	) : 1=0	<159>	62660	DATA D3,4,D3,4,G3,4,H3,2,D3,2,A3,4,A	
62160	READ Nl$(I),Dl(I):IF D1(I)>0 THEN 1=			3,4,D3,4,A3,2,E4,1,A3,1	<229>
	I+l:GOTO 62160	<141>	62670	DATA D3,4,D3,4,G3,4,H3,2,D3,2,A3,4,A	
62170	1=0	<124>		3,4,D3,4,D3,8	<144>
62180	READ N2$(I),D2(I):IF D2(I)>0 THEN 1=		62680	DATA,-1	<040>
	I+l:GOTO 62180	<205>	62997	REM +++++++++++++++	<140>
62200	DIM L1(200),H1(200),L2(200),H2(200):		62998	REM + GRAVITATION +	<016>
62210 62220 62230 62240 62245 62250 62260 62270	1=0 FOR J=0 TO 18 IF F$(J)=Nl$(I)THEN Ll(I)=FL(J)sHl(I )=FH(J) IF F$(J)=N2$(I)THEN L2(I)=FL(J):H2(I )=FH(J) NEXT:I=I+l:IF Nl$(I)<>""THEN 62210 RETURN SP=VAL("2") IF SP<1 OR SP>4 THEN 62250 Sl=0:S2=0:Cl=0:C2=0:POKE H1,L1(Sl):P OKE H2,H1(S1)	<202> <107> <121> <169> <037> <070> <248> <214> <199>	62999 REM +++++++++++++++	<142> 63000 PRINT CHR$(142):POKE V+21,0	<166> 63001 PRINT"<CLR,10DOWN,8RIGHT,RVSON>GRAVI TATI0N{2SPACE>[ 1 £	3	1"	<218> 63010 POKE 198,0:WAIT 198,l:GET A$:IF AT=" l"THEN AC=.1	<143> 63020 IF A$="2"THEN AC=.5	<087> 63030 IF A$="3"THEN AC=1	<245> 63040 IF A$<"l"OR A$>"3"THEN 63010	<155> 63050 RETURN	<113 > © M'er	Listing »APOCALYPSE NOW« (Schluß)		

147
Spiel C 64
Spring Vogel, spring
Kennen Sie Jumpman, Miner 2049 oder Mister Robot and his Factory? Dann haben Sie sich sicherlich geärgert, daß Sie nie die letzten Bilder erreicht haben. Oder Sie haben sich über die eintönigen Spielszenen geärgert. Mit dem SpringAfogel passiert so etwas nicht!
Hier können Sie sich Ihre Bilder auch selber machen.
Tatsächlich kann man Spring-Vogel fast als Spielgenerator bezeichnen. Mit Spring-Vogel gelingt es Ihnen, sich jedes beliebige Spielfeld aufzubauen. Das klingt sehr vielversprechend, und das ist es auch. Spring-Vogel ist ein Vertreter der Jump and Run-Kategorie. Damit lassen sich also keine Schießoder Abenteuerspiele erzeugen, aber innerhalb der Spring-und Laufgruppe bleibt kein Wunsch offen. Worum handelt es sich bei Spring-Vogel nun eigentlich? Zunächst die Story.
Ein heftiger Sturm hat einen Vogel — unseren Helden — mitsamt seinen Eiern aus dem Nest geweht. Durch den harten Aufprall auf die Erde hat er sich seine Flügel gebrochen. Er kann also nicht mehr richtig fliegen, sondern nur noch auf dem Boden laufen, hüpfen und springen. Die Aufgaben des Vogels (die genaue Klassifizierung bleibt Ihnen überlassen) besteht nun darin, in einem Labyrinth aus Aufzügen, Transportbändern, Seilen, Einbahnstraßen, Trampolinen, Rutschbahnen, Gummiwänden, magischen Flügeln, gemeinen Vogelfallen und mißgestimmten Monstern alle Eier wieder einzusammeln. Gelingt es dem Vogel, die Eierin einer Spielszene aufzunehmen, muß er mit der nächsten Überraschung fertig werden; es waren nicht alle. Das nächste vom Winde verwehte Bild erwartet ihn mit weiteren schwierigen Aufgaben.
Die Anzahl der Torturen für unseren leidgeprüften Helden bestimmen Sie selbst. Doch Vorsicht, unser Vogel verfügt nicht wie eine Katze über sieben, sondern »nur« über sechs Leben. Und diese sechs Leben sind schnell, durch Kontakt mit den Monstern oder Verzehren einer roten Tollkirsche, ausgehaucht.
Der Sturz über mehr als vier Etagen ist ebenfalls für den flugunfähigen Vogel lebensbedrohend. Es sei denn, er findet die von seinem Tierschützer verstreuten »magischen Flügel«. Ausgestattet mit deren zauberhaften Fähigkeiten kann er in einem ökologischen Flecken beliebig umherfliegen. Durch Betätigen des Feuerknopfes wird er wieder in seinen behinderten Zustand zurückversetzt, erlangte allerdings vorher die Fähigkeit an unzugänglichen Stellen landen zu können. Diese magischen Flügel gestatten es, Bilder so aufzubauen, daß nur der taktisch gezielte Einsatz dieser Flughilfe es ermöglicht, ein Bild vollständig abzuräumen. Dabei kann es vorkommen, daß sich der Vogel in eine völlig aussichtslose Situation manövriert, und in einer Sackgasse landet. Auch hier bietet das Programm einen Ausweg an, die Funktionstasten. Diese können jederzeit (außer während der Flugphase) benutzt werden.
Bei dem ersten Start des Programms dauert es einige Zeit (bei weiteren Starts geht es dann schneller), bis sich das Programm mit der Frage »Edit, Wahl oder Spiel?« meldet.
Mit »W« kann man eines der sechs Bilder zum Spielen auswählen, mit »S« wird ein vollständiges Spiel ab Bild 1 gewählt.
Die Funktionstasten haben folgende Bedeutung: f1: Dieses Spiel aufgeben, zurück zum Menü f2: diesen Vogel opfern und mit dem nächsten Vogel neu an der Startposition beginnen f3: mit dem nächsten Bild weitermachen f5: Pause (weiter mit SPACE)
Fürjedes Ei gibt esje nach Bild 10, 20 ... 60 Punkte. Wird ein Bild in einer bestimmten Zeit beendet, so erhält der Spieler
einen Bonus, der um so größer ist, je schneller das Bild beendet wurde.
Der Editor
Der Editor dient dazu, eigene Spiele zu entwickeln. Mit ihm können neue Bilder erstellt werden, die im Programmtext selbst die alten Bilder überschreiben. Deshalb sollte das Programm vor dem Editieren, das neue Spiel nach dem Editieren unter neuem Namen gespeichert werden. Dazu einfach das Programm mit »STOP« abbrechen. Der Editor fragt zunächst, welches Bild geändert werden soll. Dann erscheint dieses Bild mit einem Cursor. Es stehen folgende Funktionen zur Verfügung:
die vorgenommenen Änderungen endgültig in den Programmtext übernehmen
f1: Editor verlassen, ohne Änderungen zu übernehmen. Das Bild bleibt erhalten, wie es vor dem Editoraufruf war. In beiden Fällen fragt das Programm, ob das Bild ausprobiert werden soll. Aus dem Spiel gelangt man mit f1 und E jederzeit in den Editor zurück.
Die Cursorsteuerung erfolgt wie gewohnt über die Cursortasten. SHIFT CLR: Bild löschen
Die Startposition des Vogels wird durch »0« festgelegt. In jedes Bild können zwischen 0 und 7 Monster gesetzt werden, die sich horizontal auf einer Breite von acht Spalten hin und her bewegen. Das linke Ende dieser Bewegungsbahn kann mit den Tasten 1 bis 7 festgelegt werden.
Mit den Tasten A bis T können die 20 verschiedenen Bausteine, die zur Verfügung stehen, gesetzt werden. Der Vogel reagiert immer nur auf das Zeichen unter seinen Füßen. Bei Sprüngen reagiert er (außer bei Wänden) erst in der absteigenden Phase wieder auf Zeichen. Eine Übersicht über die Bausteine bietet die Tabelle 1. Dazu einige ergänzende Bemerkungen:
Die Bausteine A bis D sind durch verschiedene Bewegungsmöglichkeiten gekennzeichnet Springen ist möglich:
A: rechts, links
B: rechts, links, runter
C: rechts, links, rauf
D: alle vier Richtungen
Bei E bis H ist eine Bewegung nur in jeweils eine Richtung und kein Sprung möglich.
Bei I bis N wird der Vogel automatisch bewegt. Er selbst kann nur springen.
DerTrampolin 0 bewirkteinen zufälligen Sprung nach rechts oder links.
Bei der Gummiwand S wird der Vogel auf das letzte Zeichen, das weder Wand noch Luft war, zurückgeworfen.
Da das Problem in die Interruptroutine eingreift und seinen eigenen Programmtext verändert, sollte es auf jeden Fall vor dem ersten Start abgespeichert werden.
Um Tippfehler bei den zahlreichen DATA-Zeilen besser lokalisieren zu können, wurden diese in verschiedene Blöcke mit jeweils eigener Prüfsumme aufgeteilt.
148
C 64
Spiel
Bitte halten Sie sich beim Eintippen der sechs Bilder exakt an die vorgegebene Zeilenlänge: Jeder PRINT-Befehl muß genau 39 Zeichen lang sein. Fehlende Zeichen können zur Zerstörung des Programms führen, da der Editor diese Zeilen überschreibt
Hinweise zum Eintippen
Daß die jeweils 39 Zeichen genau mit dem Listing übereinstimmen, ist dagegen nicht so wichtig. Durch Abweichungen wird hier allenfalls die Spielbarkeit des vorgegebenen Spiels beeinflußt, ein Mangel, der jederzeit mit dem Editor behoben werden kann. Im Prinzip ist es auch möglich, auf das Abtippen der Bilder 2 bis 6 zu verzichten und an anderer Stelle einfach mit Hilfe des Bildschirmeditors fünfmal das erste Bild zu kopieren. Aufjeden Fall aber mußdieZahlderZeilen, dieZeilennum-mer und die Länge der Zeilen mit dem Listing übereinstimmen.
Um das Eintippen der Bilder zu erleichtern, wurden diese in der vorliegenden Programmversion in den Programmtext selbst gelegt. Deshalb ist die Zahl der Bilder auf sechs (diese Zahl wurde gewählt, um die Tipparbeit in erträglichen Grenzen zu halten) festgelegt. Die Anzahl der Bilder kann aber folgendermaßen erhöht werden:
Der Variablen BM in Zeile 50070 ist die gewünschte Anzahl zuzuweisen. Für jedes weitere Bild sind dem Programm entsprechend dem Schema der ersten sechs Bilder 22 PRINT-Zeilen, diejeweils 39 beliebige Zeichen ausgeben, und ein abschließendes RETURN, anzufügen. Die erste Zeilennummer eines Bildes berechnet sich nach der Formel 59900 + Bildnummer*100 +1, zum Beispiel 60601 für Bild 7.
(Matthias Törk/og)
TASTE	: BAUSTEIN
A	: BODEN
B	: LEITER UNTERES ENDE
C	: LEITER OBERES ENDE
D	: LEITER MITTELSTÜCK
E	: SEIL HOCH
F	; SEIL RUNTER
G	: EINBAHNSTRASSE RECHTS
H	: EINBAHNSTRASSE LINKS
I	:	TRANSPORTBAND RECHTS
J	: TRANSPORTBAND LINKS
K	: AUFZUG HOCH
L	: AUFZUG RUNTER
M	: RUTSCHBAHN RECHTS RUNTER
N	: RUTSCHBAHN LINKS RUNTER
O	: TRAMPOLIN
P	: LUFT, FREIER FALL
Q	; TOEDLICHE FALLE
R	: El
S	: GUMMI-WAND
T	: MAGISCHE FLÜGEL
Tabelle 1. Die verschiedenen Bausteine und ihre Bedeutung
Die wichtigsten Routinen
50000	:INITIALISIERUNG
48000	:MENUE
49000	:EDiTOR
45000	:AB BILD BI SPIELEN
1050	:EINBILDSPIELEN
46000	:BILD BI INITIALISIEREN
500	:JOYSTICK
600	:FIGUREN BEWEGEN
40000	:SPRiNGEN
11000	:EI
2000	:LUFT
12000	:TOEDLICHE FALLE
15000	:FLIEGEN
Tabelle 3. Die wichtigsten Routinen
Die wichtigsten Variablen			
XS,YS	: Spritekoordinaten des	CO()	: Farbtabelle
	Helden	JP,JS	: Joystick
XG,YG	: Koordinatengrenzen	EZ,EM	: Anzahl Eier
OX,OY	: Koordinatenoffset	SC	: Punkte
	Sprite/Zeichen	MZ	: Anzahl Leben
TG	: Zeitlimit	CP	: Cursorposition
BM	: maximale Bildzahl	BS	; Bildschirmadresse
BI	: aktuelles Bild	FR	: Adresse Farb-RAM
UP(),		KO	: Sprite-Kollisionsregister
DO (),RI (),		V	: VIC-Chip
LE ( ),DX (),		ZS	: Adresse Zeichensatz
DY()	: Bewegungstabellen	EA	: Adresse Bilder
JU()	: Sprungtabelle	SI,W1,GL,GH	: Sound
Tabelle 2. Die wichtigsten Variablen von Spring-Vogel
Spiel
C 64
1^ REM *** JUMP.80/ 8.6.84	<066>
20 POKE 53280,0:POKE 53281,0	<148>
25 PRINT"{CLR>NICHT WUNDERN UND WARTEN!!" <160> 30 GOSUB 50000:GOTO 48000	<029>
499 REM ** JOYSTICK **	<171>
500 JS=PEEK(JP):IF (JS AND 16)=0 THEN GOSU
B 40000:GOTO 600	<139>
505 IF (JS AND Q1)=D0 THEN POKE Wl,SW:IF U
P(CM) THEN YS=YS-Q8:G0T0	590	<030>
510 IF(JS AND Q2)=Q0 THEN POKE Wl,SW:IF DO
(CM) THEN YS=YS+Q8:G0T0 590	<091>
520 IF(JS AND Q4)=Q0 THEN POKE Wl,SW:IF LE
(CM) THEN XS=XS-Q4;G0T0 590	<009>
530 IF(JS AND Q8)=Q0 THEN POKE Wl,SW:IF RI
(CM) THEN XS=XS+Q4	<186>
590 POKE W1,Q0	<110>
600 IF XS<OX THEN XS=OX	<046>
620 SYS(SR) Q0,XS,YS:RETURN	<139>
1000 REM *** MAIN LOOP **	<132>
1050 IF PEEK(TA)THEN 1200	<171>
1055 IF PEEK(KO)AND Q1 THEN CM=16:POKE KO,
0:GOTO 1100	<103 >
1060 CM=USR(XS-OX) ,YS-OY:IF CM=Z8 THEN XS
=8*PEEK(49426)+0X:YS=8*PEEK(49427)+0Y <234> 1070 IF CM>Q7 THEN XS=XS+DX(CM):YS=YS+DY(C
M)	<033>
1075 IF TI<TG THEN PRINT"<HOME>",INT(TI/10
0>	<103>
1080 IF	CM<Z4 THEN GOSUB 500sGOTO 1050	<055?^
1100 ON CM-13 GOTO 3000,2000,12000,11000,1
050,15000	<155>
1200 GET B$:IF BI="{Fl)"THEN RETURN	<210>
1210 IF B$="{F3)" THEN CM=16:G0T0 1100	<123>
1215 IF B$="{F5)" THEN 11040	<061>
1217 IF B$="{F7J" THEN POKE 198,0:WAIT 198
,1	<194>
1220 GOTO 1050	<048>
2000 I=0:POKE Wl,33	<096>
2010 I=I+l:YS=YS+4:IF I>8 OR YS?>YG THEN CM
=16:P0KE Wl,0:POKE SI+l,GH:GOTO	1100	<133>
2015 POKE SI+l,40-2*I	<246>
2020 GOSUB 600:CM=USR(XS-OX) ,YS-OYsIF CM=
15	THEN 2010	<191>
2025 IF	CM=18	THEN XS=FN	X(XS)	<074>
2030 POKE Wl,0sPOKE SI+l,GH:YS=FN Y(YS):GO
TD	1050	<121>
3000 R X=2-4*INT(RND(1)*2)5 GOSUB 40100:GOSU
B 600:GOTO 1050	<123>
10999 REM ♦* GEGENSTAND POSITIV,	EI**	<074>
11000 POKE BS+40*PEEK(49427)+PEEK(49426),8
0:SC=SC+BI*10:EZ=EZ+1	<115>
11030 IF EZ<EM THEN PRINT"<HOME>*',,SCsGOTO
1050	<070?>
11035 IF TI<TG THEN SC=SC+INT((TG-TI)/10)	<088>
11040 BI=BI+l:IF BI>BM THEN RETURN	<179?^
11050 GOSUB 46000:GOTO 1050	<207>
11999 :	<035>
12000 MZ=MZ-l:IF MZ=0 THEN RETURN	<039>
12050 PRINT"<HOME}”,,SC,MID$("****** <6SPAC	
E>",7-MZ,6)	<117>
12052 POKE Wl,17	<009>
12055 FOR XS=XS TO XX STEP SGN(XX-XS):GOSU	
B 600:POKE SI+l,49+(XS AND l):NEXT	<150>
12057 FOR YS=YS TO YY STEP SGN(YY-YS):GOSU	
B 600:POKE SI+l,52+(YS AND l):NEXT	<171>
12060 XS=XX:YS=YY:POKE KO,0:POKE W1,0	<004>
12070 GOTO 1050	<232>
15000 POKE V+29,255:P0KE BS+40*PEEK(49427)	
+PEEK(49426),80s CM=3sXS=XS-10sSW=17	<142>
15050 JS=PEEK(56320)	<159>
15052 IF(JS AND 16)=0 THEN XS=XS+10:POKE V +29,254:G0SUB 600:POKE KO,0:SW=129:G	
OTO 1050	<045>
15055 IF YS<OY THEN YS=OY	<191>
15056 IF YS>YG THEN YS=YG	<088>
15057 IF XS>XG THEN XS=XG	<255>
15060 GOSUB 505:GQTO 15050	<041>
39000 :	<113>
39999 REM **** JUMP ****	<143>
40000 IF CM>3 AND CM<8 THEN RETURN	<037>
40005 RX=0:IF (JS AND 4)=0 THEN RX=-2	< 000>
40010 IF (JS AND 8)=0 THEN RX=2	<135>
40100 POKE SI+6,16*15+13:P0KE Wl,17:P0KE W	
l,16:F0R 1=0 TO 13	<132>
40120 POKE SI+l,104-JU(I):YS=YS-JU(I):XS=X	
S+RX:GOSUB 600	<221>
40130 CM=USR(XS-OX) ,YS-OYs		<007>
40140	IF CM=18 THEN XS=FN X(XS)sGOTO 40300	<233>
40150	IF I<9 THEN POKE KO,0:GOTO 40250	<012>
40235	IF CM<>15 OR (PEEK(KO)AND 1) THEN 40 300	<233>
40250	NEXT	<127>
40300	IF CM<>15 THEN YS=FN Y(YS)	<172>
40310	POKE Wl,0:POKE SI+6,16*15:POKE SI+1, GH:RETURN	<041>
44990		<005?^
45000	MZ=6:SC=0:GOSUB 46000	<034>
45100	GOSUB 1050:POKE V+21,0	<064>
45150	FOR 1=1 TO 3000:NEXT	<107>
45160	PRINT"{CLR,4DOWN,YELLOW)","<GREEN>DA S WARS!!!":PRINT"{DOWN)ERREICHTE PUN KTZAHL:<RVSON>",SC	<120
45163	IF SC>HS THEN HS=SC	< 111 >
45165	PRINT"{DOWN)HIGH SCORE:<RVSON>",,HS	<206>
45170	PRINT"<RED>		
		
	iL1b.BLUE/ :r RINT, <DOWN	
	}*# JUMP!! **"	<164>
45180	IF (PEEK(56320) AND 16)00 THEN 4518 0	<090>
45190	RETURN	<033>
46000	SYS(49155) 0:EZ=0:XX=120:YY=120	<134>
46010	POKE Wl,0:POKE SI,GL:POKE SI+l,GH:SW =129:REM SOUND	<243>
46015	A=0:IF TI<TG THEN A=INT((TG-TI)/10)	< 190>
46020	PRINT"<CLR,YELLOW,3SPACE >BONUS:",A," <4LEFT>PKT:";SC,MID$("******{6SPACE} ",7-MZ,6):PRINT	<132>
46030	FOR 1=1 TO 7:P0KE XH+I,lsPOKE XL+I,1 70:POKE TY+I,0:NEXT	<063>
46050	ON BI GOSUB 60000,60100,60200,60300, 60400,60500	<248>
46100	EM=0:FOR I=80 TO 958:C=PEEK(BS+I):IF	
	C=80 THEN NEXT:GOTO 46200	<067>
46105	IF C=82 THEN EM=EM+1	<163>
46110	IF 064 AND C<85 THEN POKE FR+I,CO(C -65):NEXT:GOTO 46200	<108>
46120	POKE FR+I,0:C=C-48:XS=(I-INT(I/40)*4 0)*8+0X:YS=INT(1/40)*8+0Y	<019>
46121	IF C<0 OR 07 THEN 46140	<244?>
46130	POKE TY+C,YS+12:P0KE XH+C,XS/256:P0K E XL+C,XS AND 255:IF C=0 THEN XX=XS: YY=YS	<247?^
46140	NEXT	<175>
46200	TIT="000000":TG=5000+2000*BI:YS=YY:X S=XX	<087>
46220	PRINT"<HOME>B";BI;"<LEFT,2SPACE>ZEIT :";"<6SPACE>":RETURN	<088>
48000	REM *** MENUE **♦	<167>
48040	POKE V+21,0:PRINT"<CLR,LIG.BLUE,DOWN >":GDSUB 60500	<144>
48041	PRINT"<5UP}","<ORANGE,RIGHT )5F1= AUF GEBEN^":PRINT,"<RIGHT>5F3:	VOGEL 5	
		<189>
48042	PRINT,"<RIGHT>5F5: <- BILD{2SPACE>&": PRINT,"<RIGHT>SF7: PAUSE{3SPACE)ä"	<093>
48043	pRiNT"<HOME,YELLow>aBaaaaaaaaaa spRi NG VOGEL flMflflflaaflafl"	<010>
48044	PRINT"<GREEN,RVSON>E<RVOFF>DIT,<SPAC E,RVSON)W<RVOFF>AHL ODER <SPACE,RVSON >S<RVOFF>PIEL";	<143>
48045	INPUT B^:IF B^="E"THEN GOSUB 49000:G OTO 48040	<213>
48050	IF B^="S" THEN BI=1: GOSUB 45000:GOT 0 48040	<041>
48060	IF B*O"W" THEN 48040	<048>
48070	INPUT"<CLR,DOWN>WELCHES BILD SPIELEN ";B#:BI=VAL(B$):IF BI<1 OR BI>BM THE N 48070	<122>
48080	GOSUB 45000:GOTO 48040	<014>
48090		<057>
48999	REM *** EDITOR ****	<021>
49000	INPUT"<CLR,3D0WN>WELCHES BILD";B$:BI =VAL(B$);IF BI<0 OR BI>BM THEN 49000	<032>
49020	PRINT"BITTE WARTEN":ZN=59900+BI*100: ZA=EA	<165>
49050	IF FN AD(ZA+2)<ZN THEN ZA=FN AD(ZA): GOTO 49050	<135>
49055	POKE 53281,1:PRINT"{CLR,DOWN}":POKE 53281,0	<001>
49060	ON BI GOSUB 60000,60100,60200,60300, 60400,60500	<210>
49069	REM FARBE SETZEN	<073>
150

C 64
Spiel
49070	FOR 1=80 TO 958	<144>	50600	SI=54272:Wl=SI+4	<241>
49071	C=PEEK(BS+I)-65:IF 0=0 AND C<20 THE		50620	POKE SI+24,15	<048>
	N POKE 55296+I,C0(C):NEXT:G0T0 49095	<208>	50625	POKE SI+5,0:POKE SI+6,15*16+0	<082>
49075	POKE 55296+I,l:NEXT	<163>	50630	GL=180:GH=18:A=0	<031>
49095	CP=80sPRINT"<HOME,LIG.BLUE>ZEICHEN: <		50710	FOR 1=13 TO 16:F0R N=0 TO 62:READ Q:	
	SPACE,RVSON >A-T{RVOFF,2SPACE >POS : <SP			A=A+Q:POKE 49152+I*64+N,Q:NEXT:NEXT	<041>
	ACE,RVSON >0-7 <RVOFF,2SPACE,RVSON>CUR		50720	IF A<>16572 THEN PRINT"DATAERROR":ST	
	S. <RVOFF,2SPACE,RVSON>CLR <RVOFF >"	<003>		OP	<041>
49096	PRINT**AENDERUNGEN UEBERNEHMEN: <SPACE		50800	DATA 0,255,0,1,255,128,1,153,128,1,1	
	, RVSON > + <RVOFF, 2SPACE>QU IT s <SPACE, RV			53,128,3,255,192,31,195,248	<075>
	SON>F1{RVOFF)"	<050>	50805	DATA 63,227,252,103,243,230,195,249,	
49100	POKE 646,PEEK(CP+55296):POKE 204,0	<220>		195,131,253,193,3,255,192	<092>
49105	GET B$:IF B$="" THEN 49105	<022>	50807	DATA 3,255,192,1,231,128,0,231,0,0,1	
49110	POKE 207,0:POKE 204,l:POKE BS+CP,PEE			02,0,0,102,0,0,102,0,1,231,128	<231>
	K(BS+CP)AND 127	<184>	50809	DATA , , , , , , ,,	<017>
49120	C=ASC(B$):IF 064 AND C<85 THEN POKE		50810	DATA 0,255,0,1,255,128,129,153,129,1	
	646,CO(C-65)sPRINT CHR$(C+32);sGOTO			93,153,131,99,255,198,63,195,252	<110>
	49140	<211>	50815	DATA 31,199,248,7,207,224,3,159,192,	
49125	IF B$>="0"AND B$<"8"THEN PRINT"<WHIT			3,191,192,3,255,192	<165>
	Ei";B$;	<126>	50817	DATA 3,255,192,1,231,128,0,231,0,0,1	
49130	IF B$="<DOWN>" OR B$="{UP)" OR B#="<			02,0,0,102,0,0,102,0,1,231,128	<241>
	RlGHT>" OR B$="<LEFT>" THEN PRINT B$	<141>	50819	DATA , , , , , , , ,	<027>
			50850	DATA 0,192,0, 1,224,0, 3,240,0, 2,20	
49140	IF PEEK(211)>38 THEN PRINT"<LEFT>";	<023>		8,0, 2,208,0,3,240,0,3,240,0	<012>
49150	CP=PEEK(211)+40*PEEK(214):IF CP >=24*		50855	DATA 3,48,0,15,112,0	< 021 >
	40 OR CP<80 THEN CP=80:PRINT"<HOME,D		50857	DATA , , , , , ,,,,,,,,,,,,,,,,,, , , , , , , , ,	
	OWN>"	<228>		v	.	< 224 >
49155	IF B$="{CLR>"THEN POKE 53281,l:PRINT		50870	DATA 0,192,0,1,224,0,3,240,0, 2,208,	
	"{CLR,DOWN>":POKE 53281,0:GOTO 49095	<189>		0, 2,208,0, 3,240,0, 3,240,0	<032>
49160	IF B$O"<-" AND B$<>"<F1>" THEN 49100	<139>	50875	DATA 3,48,0,3,188,0	<126>
49170	IF B$="{F1}" THEN RETURN	<096>	50880	DATA ,,,,,,,,,,,, , , , , , , , , , , , , , , , , , , ,	
49200	B=BS+40:PRINT"<HOME,6SPACE>**** BITT				<247>
	E WARTEN ***<8SPACE>"	<171>	51000	DIM C0(19):F0R 1=0 TO 19:READ CO(I):	
49210	FOR 1=0 TO 21:ZA=FN AD(ZA):A=ZA+6:B=			NEXT	<190>
	B+40	<231>	51010	DATA 5,5,5,2,10,8,13,13,5,5,4,4,4,4,	
49220	FOR J=0 TO 38:C=PEEK(B+J)	<016>		12,1,2,7,8,14	< 139>
49221	IF 0^=48 AND C<=55 THEN C=C-32:G0T0		52000	REM EDIT-ANFANGSADR.	<121>
	49230	<018>	52010	DEF FN AD(X)=PEEK(X)+256*PEEK(X+1)	< 194>
49229	IF C<65 OR 084 THEN C=80	<189>	52020	EA=2049	< 186>
49230	POKE A+J,C+32:NEXT J,I	<159>	52050	IF FN AD(EA+2)<59800 THEN EA=FN AD(E	
49350	INPUT"{CLR,DOWN)BILD SPIELEN (J/N)";			A):GOTO 52050	< 184>
	B$sIF B$="N" THEN RETURN	<214>	58000	REM ZEICHENSATZ NACH $E0000 (ZS), VI	
49370	GOSUB 45000sRETURN	<006>		DERRAM NACH $CC00 (BS)	<087>
49499	RETURN	<024>	58020	ZS=14*4096:ZV=53248	<172>
49999	REM	<020>	58040	IF(PEEK(53272)AND 254)=56 THEN RETUR	
50000	REM ** INIT **	<184>		N	<185>
50010	CM=0:XS=0:YS=0s JS=0:OX=14:OY=36:T=0s		58050	POKE 53272,56:P0KE 56576,148:P0KE 64	
	TG=2000	<077>		8,204:BS=204*256	<212>
50020	Q0=0:08=8:Q4=4:Q1=1:Q2=2:Q7=7:Z8=18:		58055	PRINT"<CLR,7SPACE >GEDULD”:PRINT:GOSU	
	Z4=14:JP=56320:SR=49249:TA=198	<116>		B 60400	<186>
50040	XH=49400:XL=49392=TY=49432	<042>	58060	POKE 56334,0:POKE 1,51	<244>
50042	DEF FN Y(Y)=PEEK(49427)*8+0Y	<154>	58070	FOR 1=0 TO 2047:POKE ZS+I,PEEK(ZV+I)	
50045	DEF FN X(X)=PEEK(49426)*8+0X	<173>		:NEXT	<223>
50050	V=53248:BS=256*204:XG=320+OX:YG=200+		58075	POKE l,55:P0KE 56334,1:A=0	<046>
	OY	<120>	58090	READ C:A=A+C:IF 0255 THEN 59010	<088>
50060	KO=V+30:FR=55296 s REM SPR.KOLLIS.REG		58095	H=ZS+8*(C+65):F0R 1=0 TO 7:READ C:A=	
	/ FARBRAM	<076>		A+C:POKE H+I,C:NEXT	< 167>
50070	POKE 786,193:P0KE 785,32sBM=6s REM U		58098	GOTO 58090	<117>
	SR ADR.,MAX.BILDER	<074>	58100	DATA 0,255,60,24,24,24,60,255,255	<067>
50090	DIM JU(13):FDR 1=0 TO 13:READ JU(I):		58110	DATA 1,66,66,66,66,255,24,24,255	<036>
	NEXT	<081>	58120	DATA 2,255,24,24,255,66,66,66,66	<117>
50100	DATA 5,4,3,2,l,l,0,0,-l,-l,-2,-3,-4,		58130	DATA 3,66,66,126,66,66,66,126,66	<206>
	-5	<067>	58140	DATA 4,12,24,48,0,12,24,48,0	<132>
50215	FOR I=BS+1017 TO BS+1023:POKE I,16:N		58150	DATA 5,48,24,12,0,48,24,12,0	<075>
	EXT:POKE BS+1016,14	<094>	58160	DATA 6,255,129,8,4,62,4,8,255	<207>
50220	POKE V+23,0:POKE V+29,254:P0KE V+39,		58170	DATA 7,255,129,16,32,124,32,16,255	<108>
	7	<207>	58180	DATA 8,255,56,28,14,14,28,56,255	<093?>
50230	DIM X(7),Y(7),RX(7),RY(l):FQR 1=0 TO		58190	DATA 9,255,28,56,112,112,56,28,255	<058>
	7:X(I)=100:Y(I)=100:NEXT	<127>	58200	DATA 10,66,66,90,102,102,66,66,66	<091>
50249	REM MAPRO-TABELLEN	<159?^	58210	DATA 11,66,66,102,102,90,66,66,66	<049>
50250	FOR 1=1 TO 7:P0KE V+39+I,I:P0KE 4943		58220	DATA 12,192,208,112,56,28,14,7,3	< 126>
	2+I,30*IsPOKE 49392+I,35*I:P0KE 4940		58230	DATA 13,3,7,14,28,56,112,208,192	<151>
	0+1,0	<004>	58240	DATA 14,255,62,12,48,192,48,12,62	<032>
50251	POKE 49416+I,l;P0KE 49408+I,5+RND(l)		58250	DATA 15,0,0,0,0,0,0,0,0	< 225 >
	*45:NEXT:P0KE 49401,1	<156>	58260	DATA 16,0,126,126,102,102,126,126,0	<053>
50252	POKE 49424,1:REM SB-FLAG	<091>	58270	DATA 17,24,60,60,126,126,126,60,24	<239>
50410	DIM UP(20),DO(20),RI(20),LE(20),DX(2		58280	DATA 18,0,223,223,0,0,251,251,0	<214>
	0),DY(20)	<206>	58290	DATA 19,0,102,255,153,153,56,56,0	<129>
50422	RI(0)=1:LE(0)=1:RI(l)=l:LE(l)=l:UP(l		58299	DATA 999	<019>
	)=l:RI(2)=l:LE(2)=l:D0(2)=l	<215?>	59000	REM ** MAPROS ♦*	< 199 >
50437	UP(3)=l:DO(3)=l:RI(3)=l:LE(3)=l:UP(4		59010	IF A<>14182 THEN PRINT"DATA-ERROR IN	
	)=l:D0(5)=l:RI(6)=l:LE(7)=l:DX(8)=4	<035>		58100FF":STOP	<105>
50477	DX(9)=-4:DY(10)=-8:DY(11)=8s DY(12)=8 :DX(12)=8:DY(13)=8:DX(13)=-8:DY(15)= 4	<038>		Listing »Springvogel«.	
50599	REM SOUND	<093>	Bitte beachten Sie die Eingabehinweise auf Seite 16.		

151
Spiel
C 64
59014
59016
59020
59022
59024
59026
59028
59030
59099 59100
59102
59104
59106
59108
59110
59112
59114
59116 59140
59142
59144
59146 59190
59195
59196
59200
59202
59204
59206
59208
59210
59212 59800 59999
60000 60001
60002
60003
60004
60005
60006
60007
60008
60009
60010
60011
60012
60013
A=0:FOR 1=49152 TO 49378:READ N:POKE
I,N:A=A+N:NEXT I
<085>
IF A<>27365 THEN PRINT*'DATA ERROR":S
TOP
<238>
DATA 80,70,83,32,158,183,224,8,176,3
1,189,219,192,45,21,208,141	<077>
DATA 21,208,96,32,158,183,224,16,176
,14,134,2,32,253,174,32,235	<202>
DATA 183,165,21,201,2,144,3,76,72,17
8,138,72,166,2,32,10,192	<031>
DATA 189,219,192,45,16,208,141,16,20 8,70,21,144,9,189,211,192,13	<162>
DATA 16,208,141,16,208,138,10,170,10
4,157,1,208,165,20,157,0,208	<063>
DATA 166,2,189,211,192,13,21,208,141 ,21,208,96	<241>
REM	<230>
DATA 32, 20,192,173, 16,193, 73,254, 141, 16	<092 >
DATA 193,162, 7,189,248,207, 24,109, 16,193	<080?;
DATA 157,248,207,202, 16,243,169, 7, 133, 2	<208>
DATA 166, 2,189, 0,193, 24,125, 8,19
3,157	<163>
DATA 0,193,201, 64,144, 11,189, 8,19
3, 73	<137>
DATA 254,157, 8,193,176,232,234, 24, 125,240	<096>
DATA 192,133, 20, 42, 29,248,192, 41
, 1,234	<199>
DATA 234,133, 21,189, 24,193, 32, 45
,192,198	<012>
DATA 2,208,203,173,30,208,96	<100>
DATA 253,174,32	<217>
DATA 9,185,211,192,13,29,208,141,29, 208,70,2,144,9,185,211,192	<253>
DATA 13,23,208,141,23,208,96,1,2,4,8
,16,32,64,128,254,253	<072>
DATA 251,247,239,223,191,127	<067>
REM	<067>
A=0:FOR 1=49440 TO 49505:READ N:A=A+
NsPOKE I,N;NEXT	<228>
IF A<>8224 THEN PRINT"DATA ERROR":ST
OP	<028>
DATA 32,238,183,102, 21,165, 20,106, 74, 74	<086>
DATA 133,211,201, 40,144, 4,169, 15, 176, 42	<180>
DATA 133,211,138, 74, 74, 74,133,214 , 32,108	<241>
DATA 229,164,211,177,209, 56,233, 65 ,201, 20	<204>
DATA 144, 2,169, 15,201, 15,240, 14, 201, 18	<240>
DATA240, 10,166,211,142, 18,193,166 ,214,142	<073>
DATA 19,193,168, 76,162,179	<234>
RETURN	<165>
REM BILD 1	<074>
s	<029>
PR I NT " .P-P-P-P_P-P_P-P-P-P_P_P_P_R_P_P_P_P_P_P_P_P_P_P_P_P_P_P_P_P.
■P-P-P-P-P-P.P-P-S.”	<060>
PR I NT ” ,PTPTLATJJJVLRARARAQ_RARAPAP_II_IJLT .P P P P P P R P 5*'	<003>
PR I NT " P-P_P-P_L_P-P_P_P_P_E_P-P_P-P_P-P-P_P-P-P_P_P-P_P_P_P-P_P_P P-P.P.P-P P P P 511	< J J 5 >
PR I NT ” .P_P-P_P_LP-P_P_P-P^:-P-P_P_P_P_P.P_P_P_P_P_P_P_P_P_P_P_P_P PÄLPjaaaaa"	<011>
PR I NT " P_P_P_P_L_P,P_PPP_E_P_PP_P,P_P_P_P_P_P_P_P_P_P_P_PPP_R fiflRgP.P.P.5.5.'1	<214>
PR I NT ” P-P_R_P_L-P-R_P-P_PJE-P-P_P-P-P_P_P_P_5_5_5_5_5_5_5_5_5_P_P.
.P.P.P.P.P.P.P.5.5 "	< J 3 J >
PR I NT " fW.CWMEJVlWAPAWTWMP.P PP-PP,PPX55"	< J33>
PRINT" PAP_P_FP_PAP_P_E_P_P_P_P_P_P_P2P_P_P_P_P_P_P_P_PAP .P-P.P.P.P.P.P.5.5.11	<232>
PR I NT ” PJLPJ*T-PJU<P_PJLPJ_PJJUUUUUW aaaaaaasa"	<067>
PR I NT ” P-P-P_PKP-P-P_P-Pj:_P-P-P_R.P-P_P_P_P-P_P-P-P-P-P-P-P-P,P. ££££££&££”	< 100 >
PRINT" P_P_P_P_F_PAP_P_PjE_P_PARAHAP_P_P_P_P_P_P_PAP_P_P. PPPP-P_PJQP_P"	< 184 >
PR I NT " .P-P-P_PZ-P-P_P_P_P_E-P-P-P_P-P_P_P_P_P_P-P_P_P_P-P-P-P-P-P P-P.P.P.P.PJlP-P"	< 094 >
PR I NT ” .P_P_P1 F P P P P P E P P P P P P P P P PPPPPPPPPP P-P-P-P.P-P-^.P-P"	< 1Q1 >
60014	PR I NT ” P_P_P_P_F_P-P_P_P_P_E_P_P,P_P_P_P_P_P_P_P_P_P_P_P_P_P_P R_H	< 146>
60015	PR I NT " P-P-P-P-P-P-P-P-P.P_E_P-P-P-P-P-P_P-P-R-P-P-P-P-P-P3 P.F-P	
	.P.P.P-P.P.P.P.P.D"	<238>
60016	PR I NT " .P-P-P-P-R-P-P-P.P-PXP-P-P-P-P_P_P-PJlP_P-P-P_P-P_P-P-F_P.	
	.P.P.P.P.P.P.P.P.D.11	<184>
60017	PR I NT " .P-P-P-P-G.G_G_G_G-G_E_P-P-P-P-P_P-P-R-K-R-P-P-P_P_P-P-P^-P	
	.P.P.P.P.P.P.P.P.D11	<004>
60018	PR I NT " P_P_P_P_P-P_P_P_P_P_P_P_P_P_P_P_P_P,R_K_R_P_P_P I_I P_P_F P	
	.P.P.PP.P.P.RP.D.11	<093>
60019	PR I NT " P-P-P_P-P-P-P-P-P_P_P_P-P-P-P-P_P-P,P_K-P_P-P-P_K-P_R_P-F_P	
	.PPPR.PP.RAB"	<187>
60020	PR I NT “ .P_P.P_P-P-P-P-P-P-P_R_P-P-P-P-P-P-P-P-K-P-P_P_P_K-P-P-P.P-P	
	PRR_RR_PTT_P"	<220>
60021	PR I NT ” JP0PJLLP±JLPaB2ULLL^^	
	.P-P-P-P.P-P-P-P-P."	<170>
60022	PR I NT " WWnM5A5A5A5MHMUXK.5.5.55.5	
	.5_5.5_5_5_5_5_5_5.,,	<114>
60030	RETURN	<141>
60100	:	<129>
60101	PR I NT ” .P-P_P-P-P-P-P-P_P-P-P_P-P-P_P-P_P-P-P-P-P-P-P-P_P_P_P-P-P-P	
	P-P-P-P-P-P-P-P-P."	< 144 >
60102	PR I NT " -P_P_P_P_P_R-P_P_R_P_P_P_P_P_P_P_P_P_P_P_P_P_P_P_P_P_P_P_R_P.	
	.P.P.RP.P.P.P.P.P"	<215>
60103	PR I NT " RRJUUWWARAPAPAR^	
	aaaaaaaaa"	<206>
60104	PR I NT " P-P-P_P-P-P-P-P_P_P_P-P-P-P-P_P_P-P-P-P-P_P-P_P-P_P_P.P-P-P	
	.P.P.P.PP.P,P.P.P"	< 147>
60105	PRINT" P-P-R-P-P-P-P-P-I-I_I_I_P4.P-P-P_P_P_P-P-P-P-P_P-JJJJ_P	
	P-P-P-P-P-P-R-P-P"	<186>
60106	PR I NT ” .P_P_P-P.P-P-P-P-P-P_P-P-P-RJ,J_J_JAI-I-I_I-R-P-P-P-P-P-P.	
	.P_P-P-P-P-P-P-P_P"	<198>
60107	PR I NT ” .P_P_R_I-I-I-I-P_P_P_P-P-P-P.P-P-P-P-P-P-P_P-P_P-P-P-P-P_P_P	
	J_J_J_J_J_P_R_P_P"	<119>
60108	PR I NT " .P_P-P-P-P-P-P-J-J_J-P-P-P-P-P-P_P-P-P-P-P-P_P-P_P-P-P-I-I_I	
	P-P-P-P-P.P_P-P-P"	<172>
60109	PR I NT " .P_P-R_P-P-P_P-P_P_P-J-J_j-J-P-P-P-P-P_P-P_P-P-I_I_I-I-P_P_P	
	P-P-P-P-P,P_R_P-P"	<055>
60110	PR I NT ” P-P_P-P-P-P-P-P_P_P-P-P-P-PJJJ_P-P-P-I-I-I-P-P_P-P-P_P-P.	
	■P-P-P-P-P-P-P-P-P.”	<191>
60111	PR I NT " .P-P0.P-P_P-P_P-P-P_P-P-P-P-P_P_P-P-P_P_P_P_P-P-P-P_P_P-P-P.	
	PP.P.P.P.P.P.P.P"	< 138>
60112	PR I NT " ARRARARRARJWA^	
	aaaaaaaaa”	<051>
60113	PR I NT " .D-5_P_P_P-P-P-P-P_P_P_P_P-P-P_P_P_P_P_P_P_P-P_P_P_P_P_P_P_P.	
	P-P-P-P.P-P-P_P-P"	<059>
60114	PR I NT “ ,D_5_PXPPP_P_P_P_P.P_P_P_P_P_P_P_P_P_P_P_P_P_P_P_P_P_P_P	
	P-P-P-P-P.P-P-T_P"	<069>
60115	PR I NT “ A5_PAP-P_P-P_P_P-P-P-P-P-P-P-P-P-P-P-P-P-P-P-P-P-P-P-P-P	
	P-P-P-P-P-P-P.R-P"	<151>
60116	PR I NT " A5_P_P-P5P-P-P_P-P-R-P-P_P_P-P-R-P_P-P-P.P-P-R-P-P6P-P.	
	RP-P.P.P-P-P-P-R."	<028>
60117	PR I NT ” £äflfl£E£P££aflflflaflMflflflflflflfläaßa	
	aaaa&aaaa"	<015>
60118	PR I NT " .D_P-P_PAP.P-P-PJD-P_P_P-P-P-P-P_P-P_P-P_P-P-P_P-P-P_P-P_P.	
	PP-P.PAP-P-P-P"	<079>
60119	PR I NT " .D_T_P_P-D-P_P-P-P_D_P-P-P-P-P-P-P-P.P_P_P_P.P_P-P-P-P-P-P-P	
	P-P-P-P-D.P-P-P-P"	<208>
60120	PRINT” DAPPDPP_P_P_DPPPP_R_P_P_R_PPPRP_P_R_P_P_R_P_P^	
	R-P-P-P-DP-P-P-R11	<236>
60121	PRINT" DP-P_P-D_P_P-P2DP.P_P_P,PP_P_P_P_P_P_P,P3.P_P_P_P_P_P	
	.PP.P.P.RP.P.P.P."	<132>
60122	PR I NT'' J*JUUUWWULfl^^^	
		<142>
60150	RETURN	<005>
60199	REM BILD3	<021>
60200		<230
60210	PR I NT " ^5J5JEHiLb2LPQ^	
	aaaaaaaaa"	<191>
60214	PR I NT " P-P-P-5_F_5_P.P-P-P-5_P_P-D-P-5_5_P_P-Q-P.P-P-L_P_P-P-P-P-P	
	.P.P.P.P.P.P.P.PA"	<200>
60216	PR I NT " .I_I_R_5_F_S_P_P_P_P_S_P_PAP_5_5_P_P_P_P_5_PX_P_P_P_P_P_P.	
	.P_P0P_P_P_PJAP."	<126>
60218	PR I NT ” K-P-P-5_F.5_P-P-R.P-5_P-P-D-P-5_5_P_P_P_R.5_P_L_P_P_P-P_P-P.	
	££fl£££ä££"	<056>
60220	PR I NT H .K.P.L.5.F.5.PPXP5.P^	
	P-P-P-P-PAP-P-P"	<146?;
60222	PR I NT " .K_P_L_5_F.5_P-P-R-P_5-P-PAP_5.5_P_P-P-P-P-P-L_P-P-P-P-P-P.	
	P_P.P_PAP_P.P_P"	<165>
60224	PR I NT ” K_P_L-5_F_5_P-P-P_P-5-P-P-D-P-5_5_RAP-P-P-P_L-P-P_P-P-P-P.	
	-P-P-PAP-P-P-P-P-"	<033?^
60226	PR I NT " K-P-L-5_F_5_P5 P-P-P-P-PAP-5_P-P6 P_P-P-P-L_P_P.P.P-P-P.	
	P-PAP_P-P_P-P-P"	<144>
60228	PRINT" K PL_5F5_PPU_L_P_P_a_P_5PPR_RP_P_P_L_P_P_P_P_P_P	
	PAP-P-P-P-P-P-P."	<109>
60230	PRINT" KJ_L5F5_PPP_P_L_P_PDP5_PPARKPPL_PPPPPP	
	N_P_P_PP_P_P_P_P"	<126?;
152
C 64
Spiel
					
60234	PR I NT " KP_LAFAPPPPPPPAPAPPPPPPPPPPPPPA		60407	PR I NT ” PPPAPAAAAPPPPP_EPP_J_JAC_OPP_QPPPQP.	
	.P.P.5.P,P.P.P.P.P."	<077>		PAPP_PPPPP.1'	<096>
60237	PRINT" .KPAA_FAPPPP_LPPAPAAARPPPPXPPP4HP.		60408	PR I NT " PPP-IAPPAPAPPPPAP.3PPPAPPPPPPPPP.	
	PPAPPPP_RP.1*	<034?^		PPPPARAPP”	<215>
60240	PR I NT " .KPPA-FAPPPP-LPPAPAPPPAR.nP-LPPPMPP.		60409	PR I NT ” RPPPPKPAPAARRRB_RAPPPAPPP_iXi_iP_J.	
	PPAPPPAAP.”	<117>		.J_J_JPPPP_RP."	<130>
60244	PR I NT " K_P_P_5_F_5_P.P_P_P_L_P_PJlP.5_P.P_P-P-P-K_P_L_P_P_R-P-P-P.		60410	PR I NT ” ARPPPPARPAPPPPPPPPPPJQPP2PJ_JJJP.	
	PPARARP-PP.”	<164>		PPPPPPARP"	<113>
60247	PR I NT " K_P_P5_F-5_P_P_P-P-I-I_IJlI_I_I-I_I_I-I_K_P-L_P_P-H.P-P_P.		60411	PR I NT ” AJAJPPPAPAARARRAJ_J_J_JAPPPPPPPPP.	
	.PPPPPPPP_P."	<013>		PPPP_U_IPP."	<229>
60250	PR I NT " K-P,T_5-L-5.P,P-P-P-P-P-PJLP-P-P-P-P-P-P-P-P.L-P-P-PJtP-P.		60412	PR I NT ” PPPPPPP-DP-5PPPPPPPPPPJIPPP-I-I-I-IP-P.	
	.P-PPPP-PAAP.”	<115>		P_I_Q_I_QPPPP.11	<059>
60254	PR I NT " KPPAJAPPPPPPPAPPPPPPPPP_LPPPPRP.		60413	PR I NT " P_Q-J-J-PPP-D-P-SPPPPPPPPPP-BPPPPPPPPP.	
	PPAPPP2PP."	<020>		P_K.5-S_S_5-5_CP."	< 235 >
60258	PRINT" KJJJJ-5.PPXP-P1 PAPPPPPPPPPAPPPPPA		60414	PRINT " P P P P P P PDPP P P P P P4 PPP-P-DPPP-PPPPPP	
	PPAARRPPP."	<220>		P.KAAAAA-LP.”	<033>
60260	PR I NT " P-P-P-P-P-P-P-P-R-R-R-P-P-D-P-P-P-P-P-P-P-P-P-L-P-P_P-P-P-P		60415	PR I NT " PPXI_IPP_BARAARRRRRRRABARHARRRAR	
	AP-PPP-P-PPP."	<086>		.H_K.5.5.5.5,5PP.11	<052>
60263	PR I NT " PPPPPPPPPPPPPAPPPPPPPPPAPPPPPP.		60416	PR I NT ” PP-PPP-PPAAAAAAAAAAAA-P-GPP_KPP_LPP_K.	
	PÄP.P.P.PRÄR."	<123>		PP-LPA-PAPA"	<209>
60264	PR I NT " P-P-PP-PPPPPP.PPPAPPPP-RPP.3P-LPPPPPP.		60417	PR I NT " .I_IPPPPPAAAAAAAAPPPPPJDPP_K_PP_LPP_K	
	PPRPPPPPP."	<210>		PP_LAACAPA"	<222>
60270	PRINT" RAARARARRAARAgRARARARARARARRRA		60418	PR I NT ” PPPPPPPAAAAAAAAPARHPJQPPAPP_LPP_K.	
	aaaaHßfifla”	<180		P.P.LP.PA5.LA”	<204>
60280	RETURN	<137>	60419	PR I NT ” .PPAJAPPPPPPPPAAA5AAPJLPPAPPAPPX	
60299	REM BILD4	<250>		PP.LPMARA”	<005 >
60-2*00		<075>	60420	PR I NT " PPPPPPPPPPPPP-SAPA5AP-DPP-K-PP-L-PP-K.	
60301	PR I NT " PAAARAAPPPPPPPPPPPPPPPPPPPPPPA.			PP-LPARSPA”	<194>
	5_5_P-R_J-J-J-J_J."	<l'43>	60421	PR I NT " I_iPPPPPPPPPPP.0PPAAAPJDPP-KPP_LPP_K.	
60302	PR I NT " PPPPPPP_UAUXI_RXIAIXCAIXI_I_IALA			P-P-L-PAPP-LA”	<211>
	5NJ22PJLPK"		60422	PR I NT " .R-R-R-R.R.R-R.R.R-Q-JJ-J-J-J-R-R-R-R.l-B-I-Q_Q-QQ-Q-G-Q-Q.	
60303	PR I NT " PPPPP-PPPPP-PPPP-RAAAAA.LA-EPPPPP_LA			Q-O-Q-RARR-HA"	<192>
	MPPPPPPP-K"	<009>	60480	RETURN	< 083 >
60304	PR I NT " P-P-P_I_I-I_I-P_P-P-P.JJ-J-J-5_5_P_P-P-L.5_E_P_P-P-P-P-LN.		60499	REM BILD6	<197>
	PPPPPPPAK."	<129>	60500	:	<021>
60305	PR I NT “ PPPPPPPPPPPP3PPAPPPP_LAEPP_JRAAI.		60501	PR I NT ” PPPP-PPPPPPPPPPPPPPPPPPPPPPPPPP-	
	LPPHPPflS"	<237>		PPPPPPPP-G-,,	<040>
60306	PRINT” J_JAPPPPPPPPPPPPAA_RAALAELRPPPPPP.		60502	PR I NT " .PPPPPPPPPPPPPPPPPPPPPPPPPPPPPP.	
	P-PPPPPPPP.,,	<073>		.PPP-O-J-J-JP-K.”	< 166 >
60307	PR I NT " PPPPPPPPPPPPPPPAAAAALARIPPPPP_R.		60503	PR I NT ” PPPPPPPPAHR_Q-JP-PPPPPPPPPPPPPPPP.	
	PPPPPPP-P-R”	< 050 >		PPP_QPPPP_K."	<040>
60308	PRINT” P-P_P-P_R-J_JJ-P-P-P-P-P-P-P-5_5_5_P-5_L5-E_P_R_P-P-I-I-I.		60504	PR I NT ” PPPPPPP-RPPPPPPP-J-J-JPPPPPPPPPPPP-	
	P-P-P-I-I-P-P-I-C"	<176>		PPP-QPPPP-K■,,	<240
60309	PR I NT ” .P_PF_HHAH_H_P_P_J_J,J.P_P_P_P_5_R_5_L_5_E_P_I_P_P_P_P_P		60505	PR I NT " PPPP4P_PPPPPPPPPPPPPPPPPPPPPPP_J.	
	RRARARnnA”	<110>		J-J-J-Q-Q-J-J-J-Q”	<134>
60310	PR I NT " P-PF_5_P-P-P-P-P-P-P-P_P-P-P-P_P_5_P_5_L_5.E_H_HAH.H_HH.		60506	PR I NT ” PPPPP-PP-CPPPPPPPP.PP_O_J_JPPPPPPP-RP.	
	PPPPPPPP_D."	<008>		PPPPPPPPP.*1	< 121 >
60311	PR I NT " PPFAPPPPP-FPPJ_J-J-JPA_RA.LA-EPPPPPPP.		60507	PR I NT ” PPPPPPRAAPPPPPPPPPPPPPP-J-J_J-Q_Q-JP.	
	P-P-P-P-P-P-P-P-R.”	<005 >		PPPPP-I-I-I_Q."	<220>
60312	PRINT” PAFAPPPPPPPPPPPPPAPA_LAAPP_RPPP_R		60508	PR I NT'' .FPPPPAA5AAPPPPPPPPPPPPPPPPPPPP.	
	PPPPPPPP_J."	<134>		PPPPPPPP-P."	<120
60313	PR I NT " FARAPPPPPPPP_P_P_I_IPA_RA_LA_EPPAPPJJ.		60509	PR I NT ” FPPPRAAPAARPPPPPPPPPPPPPPP-PPPP-	
	.JPP.QPP.PAP.”	<250>		PP.P-P-J-JP-P-P.”	<229?^
60314	PRINT” FPPPPP_I.I_IP_I-I-IPPPPAPAPAPPAR-HHAA		60510	PR I NT " FPPA5AP_RPAAAQ-0-0P-Q-Q-GP_Q_Q-QAQAPPPP^	
	AAAAAAP-PA”	<171>		PPPPPPP.P.P."	< 119>
60315	PR I NT " .FPPP_I_I_IPPPPPPPPPPPPPP.PPPAAAAAA		60511	PR I NT " rPA5AAPTPAAAAQ-Q-R.Q-Q-QAQ-Q-Q-Q-Q-QPPPP-	
	AAAAAAAAA"	<252>		PPPP-I-I-I_I-Q."	<195>
60316	PR I NT " ,I_I-I-I-IG_GG_G_G_G_G.G_GG_G-G_G_G-GGG_G_G_G_G_LAAA		60512	PR I NT ” P-Q-5A-SA-SAAAASA-I-I-I-I-I-I-I-I-I-^	
	AAAAAAAAA"	<040>		PPPPPAPP-K*1	<230
60317	PR I NT ” .5A5.5555.5.55.55A55.55,5.5.55.5.5.55.5.L.5.5.5.		60513	PR I NT ” APAP-RPAAAPPPAAAAAAAAAAAAAAAA-PP.	
	P-P-P-P-P-P-P-P-5.”	<167>		PPPPPQPP_K."	<203>
60318	PR I NT " 5_PPAAAAAAAAAAAAAAAAAAAAAAA_LAAA		60514	PR I NT ” I-RAP-TPAAAP-RPAAAPPPAAAAPPPAAAAP.	
	PPP-PP-PP-RA”	<044>		PPP_P_P_LPP_K"	<127>
60319	PR I NT ” 5ARAAAAAAAAAAAAAAAAAAAAAAA0A5A		60515	PR INT ” P-RAAAAAAAA-NAAAA2.RPAAAAP-R3A5AAA	
	APP-IPPPAA"	<099>		PP-PPP-EPP-K.”	<049>
60320	PR I NT ” AAPPPPPPPPPPPP_PPPPPPPPPPPPPAAA		60516	PR I NT " 5RAAAASAAAA5AAAA-TAAAAAATAAAAAA	
	I_PPP_PPPPA"	<149>		MPPPP.KPPA”	<167>
60321	PR I NT ” AAP.1 PPPP-PPPPPPP.4PPPPPP_PPPPPPP-P		60517	PR I NT " .G_RAAAAAPPPPAAAAAAAAAAAAAAAAAAA	
	PPPP5PPPA."	<215>		AP-P-PP-KP-P-Q.”	<060
60322	PR I NT ” fi2SflfiS5fiflflfiflfiflffi3ffi^^		60518	PR I NT ” .RAA5A5A.G_G-G.RAPPPPP-PPPPPPPAPP-PPA	
	ARRARRARS"	<107>		ARPPP_KPP_K_"	<092>
60380	RETURN	<237>	60519	PR I NT ” .GA5-5ASA-PPP-TARP-R-RPPPARPPASPAARA	
60399	REM BILD5	<222>		AI-I-I-I-K-PP-K.”	<240?-
60400	:	<175>	60520	PR I NT ” .KRAAAAAT_T_T_TA_I-I-I-I-Q-I-I-I-I-Q-I-IAPPP-RA	
60401	PRINT” ARARAQ_JPP1 ARAG.CAARAPPP-PAJ-J-JARA			AIPAAAAP_K*'	<097>
	P-CPPPPPPP.”	<157>	60521	PR I NT " £££1 .BPPPPPPA5AAAAAAAAAAAAAPXRA	
60402	PR I NT ” PPPPAAAPPPPPPP_DPPPPPPPPPPPPPPP			APPAAAAB.K.”	<076>
	P-K-PPPPPPP■^,	< 124 >	60522	PR I NT ” AAARARARAAASAAAAAAAAAAAAAAQAAI.	
				.lAASAARRA”	< 047 >
60403	PR I NT ” PPPPAAAPPPPPPPJDPPPPPPPPPPPPPPP.		60580	RETURN	<183>
	PAJJPPPP_P"	<091 >			
60404	PR I NT " P-PP_N-5_5_5PPPP.RPP-DPP-RPPP-PP-nPPPPPP				
	PPPPPPPPP.”	<206>	© G4<	er	
60405	PR I NT ” PP_NPAAAIJLI_I_IPP_DPPPPPPPPPPPPPPP				
	PPPPARPPP"	<010>			
60406	PRINT" PPrtP-5_55PPPPP_QPAPPPPPPPPPPPPP-RP.				
	PPAHPPPPP"	<108>	Listing »Springvogel« (Schluß)		

153
MMÄdnök-BudNafag
MariMfechnik-Buclneriag
Impressum
Depot-Händler
H.L. Schneider/W. Eberl
Das Commodore 64-Buch, Bd. 1
1984, 270 Seiten
Der Commodore 64 und seine Handhabung • Einführung in die Grafik • Balkendiagramme ■ Einführung in die Spritetechnik ■ Basic-Erweiterungen in Assembler • Ein Leitfaden für Erstanwender.
Best.-Nr. MT 591 (Buch) »■■ «n (Sfr.44,20/oS374,40) UIVI 4Ö,— Best.-Nr. MT 592 (Beispiele auf Diskette) (Sfr. 58,—ZöS 522,—)	*DM 58,-
*	inkl. MwSt. Unverbindliche Preisempfehlung
H.L. Schneider/W. Eberl
Das Commodore 64-Buch, Bd. 2
1984,.181 Seiten
Spiele nicht nur zum Abtippen ■ Programmlisting ■ Programmbeschreibung • Variablenübersicht ■ Programme nach Anleitung frei ergänzbar • das ideale Buch, um Programmieren spielend zu lernen.
Best.-Nr. MT 593 (Buch) nan OO (Sfr.35,-/oS296,40) UIVI ÜO,— Best.-Nr. MT 594 (Beispiele auf Diskette) (Sfr. 58,-/oS 522,—)	*DM 58,—
*	inkl. MwSt. Unverbindliche Preisempfehlung
H. L. Schneider/W. Eberl
Das Commodore 64-Buch, Bd. 3
1984, 206 Seiten
Alles über Sprites • Wissenswertes über Multi-Color-Grafik • Assembler/Disas-sembler • jede Menge Basic-Erweiterungen ■ Umgang mit dem Soundgenerator ■ ein Leitfaden für Fortgeschrittene.
Best.-Nr. MT 595 (Buch) nia oo (Sfr.35,-/oS296,40) UIVI OO,— Best.-Nr. MT 596 (Beispiele auf Diskette) (Sfr. 58,-/oS 522,—)	*DM 58,-
*	inkl. MwSt. Unverbindliche Preisempfehlung
H. L. Schneider/W. Eberl
Das Commodore 64-Buch, Bd. 4
1984, 261 Seiten
Einführung in Maschinenprogrammierung • Verknüpfung von Maschinenprogrammen mit Basic-Programmen • alles über Assembler/Disassembler • der Leitfaden für Systemprogrammierer.
Best.-Nr. MT 597 (Buch)nBa QQ (Sfr.35,-/oS296,40) UM üO,— Best.-Nr. MT 598 (Beispiele auf Diskette) (Sfr. 58,-/oS 522,—)	*DM 58,-
*	inkl. MwSt. Unverbindliche Preisempfehlung
H. L. Schneider/W. Eberl
Das Commodore 64-Buch, Bd. 5
Juli 1984, 322 Seiten
Ein Leitfaden durch Simon’s Basic • ausführliche Besprechung aller Befehle • viele erklärende Beispiele • mit kom-mentierterAssembler-Listing • das richtige Nachschlagewerk für den geübten Commodore 64-Benutzer.
Best.-Nr. MT 599 (Buch) n» OO (Sfr.35,-/oS296,40) UM OO,— Best.-Nr. MT 600 (Beispiele auf Diskette) (Sfr. 58, -/öS 522, —)	* DM 58,-
*	inkl. MwSt. Unverbindliche Preisempfehlung
Bestellkarten bitte an Ihren Buchhändler oder an eine unserer Depotbuchhandlungen. Adressenverzeichnis am Ende des Heftes!
Verlag Aktiengesellschaft Buchverlag
Hans-Pinsel-Straße 2, 8013 Haar
Tragen Sie Ihre Buchbestellung und die Anschrift des Depotbuchhändlers auf die Bestellkarte in diesem Heft ein. Bitte vergessen Sie den Absender nicht.
Buchhandlung Herder, Kurfürstendamm 69
1OOO Berlin 15, Tel. (030) 8835002, BTX *921782#
Computare Fachbuchhandlung, Keithstraße 18
1000 Berlin 30, Tel. (0 30) 2 13 90 21
Thalia Buchhaus, Große Bleichen 19
2000 Hamburg 36, Tel. (0 40) 3 00 50 50
Boysen + Maasch, Hermannstraße 31
2000 Hamburg 1, Tel. (040) 30050515
Electro-Data, Wilhelm-Heidsiek-Straße 1
2190 Cuxhaven, Tel. (0 47 21) 512 88
Buchhandlung Muehlau, Holtenauer Straße 116
2300 Kiel, Tel. (0431) 8 5085 ECL, Norderstraße 94-96
2390 Flensburg, Tel. (04 61) 2 81 81
Buchhandlung Weiland, Königstraße 79
2400 Lübeck, Tel. (04 51) 7 40 06-09
Buchhandlung Storm, Langenstraße 10
2800 Bremen 1, Tel. (04 21) 32 15 23
Buchhandlung Lohse-Eissing, Marktstraße 38
2940 Wilhelmshaven, Tel. (0 44 21) 4 16 8 7
Buchhandlung Schmorl u. v. Seefeld, Bahnhofstraße 13
3000 Hannover 1, Tel. (05 11) 32 76 51
Buchhandlung Graff, Neue Straße 23
3300 Braunschweig, Tel. (05 31) 4 92 71
Deuerlich'sche Buchhandlung, Weender Straße 33
34OOGottingen, Tel. (05 51) 56868
Buchhandlung an der Hochschule, Holländische Straße 22
3500 Kassel, Tel. (05 61) 8 38 07
Stern Verlag, Friedrichstraße 24-26
4000 Düsseldorf, Tel. (02 11) 37 30 33
Buchhandlung Baedeker, Kettwiger Straße 33-35
4300 Essen 1, Tel. (02 01) 22 13 81
Regensberg'sche Buchhandlung, Alter Steinweg 1
4400 Münster, Tel. (02 51) 40541-5
Buchhandlung Acker, Johannisstraße 51
4500 Osnabrück, Tel. (0541) 2 8488
Buchhandlung Lensing, Westenhellweg 86-88
4600 Dortmund, Tel. (02 31) 1 69 80
Buchhandlung Brockmeyer, Querenburger Höhe 281/Unicenter 4630 Bochum,Tel. (02 34) 7013 60
Buchhandlung Meier + Weber, Warburger Straße 98
4790 Paderborn, Tel. (0 52 51) 6 31 72
Buchhandlung Phönix GmbH, Oberntorwall 2 5
4800 Bielefeld 1, Tel. (0 5 21) 6 90 71
Buchhandlung Gonski, Neumarkt 24
5000 Köln 1, Tel. (02 21) 21 05 28
Mayer'sche Buchhandlung, Ursulinerstraße 17-19
5100 Aachen, Tel. (02 41) 4 81 42
Buchhandlung Behrendt, Am Hof 5a
5300 Bonn 1, Tel. (02 28) 65 80 21
Buchhandlung Cusanus, Schloßstraße 12
5400 Koblenz, Tel. (02 61) 3 62 39
Akad. Buchhandlung Interbook, Fleischstraße 61-65
5500 Trier, Tel. (06 51) 4 35 96
Buchhandlung W. Finke, Kipdorf 32
5600 Wuppertal 1, Tel. (02 02) 45 42 20
Buchhandlung Balogh, Sandstraße 1
5900 Siegen, Tel. (02 71) 5 52 98-9
Buchhandlung Naacher, Steinweg 3
6000 Frankfurt 1, Tel. (069) 2980 50
Buchhandlung Wellnitz, Lautenschlägerstraße 4
6100 Darmstadt, Tel. (0 61 51) 7 6 5 48
Buchhandlung Feller + Gecks, Friedrichstraße 31
6200 Wiesbaden, Tel. (0 61 21) 30 49 11
Ferber'sche UNI-Buchhandlung, Seltersweg 83
6300 Gießen, Tel. (0641) 1 2001
Sozialwissenschaftliche Fachbuchhandlung, Friedrichstraße 24
6400 Fulda, Tel. (06 61) 7 50 7 7
Gutenberg Buchhandlung, Große Bleiche 29
6500 Mainz, Tel. (061 31) 3 70 11
Buchhandlung Bock + Seip, Futterstraße 2
6600 Saarbrücken, Tel. (0681) 306 77
Buchhandlung Wilhelm Hofmann, Bismarckstraße 98
6700 Ludwigshafen, Tel. (06 21) 51 60 01
Buchhandlung Loeffler, B 1,5
6800 Mannheim 1, Tel. (06 21) 2 89 12
Buchhandlung Stehn, Bahnhofstraße 13
7000 Stuttgart 50, Tel. (07 11) 56 14 76
Buchhandlung am Markt, Kramstraße 6
7100 Heilbronn, Tel. (0 71 31) 6 86 82 PCB Micro-Computer, Oskar-Kalbfell-Platz 8 7410 Reutlingen, Tel. (071 21) 270443 UNI Buchhandlung Kellner + Moessner, Kaiserstraße 18 7500 Karlsruhe,Tel. (07 21)6914 36 Buchhandlung Roth, Hauptstraße 45 7600 Offenburg, Tel. (07 81) 2 20 97 Rombach Center, Bertholdstraße 10 7800 Freiburg, Tel. (07 61) 4 90 91 Fachbuchhandlung Hofmann, Hirschstraße 4 7900 Ulm, Tel. (07 31) 6 09 49 Schauties Elektronik, Bachstraße 52 7980 Ravensburg, Tel. (07 51) 2 61 38 Buchhandlung Hugendubel, Marienplatz 8000 München 2, Tel. (0 89) 23 89-1 Computerbücher am Obelisk, Barerstraße 32-34 8000 München 2, Tel. (0 89) 28 23 83 Pele's Computerbücher, Schillerstraße 17 8000 München 2, Tel. (0 89) 55 52 29 Universitätsbuchhandlung Lachner, Theresienstraße 43 8000 München 2, Tel. (089) 52 1340 Buchhandlung Schönhuber, Theresienstraße 6 8070 Ingolstadt, Tel. (08 41) 3 31 46/47 Computerstudio Gertrud Friedrich, Ludwigstraße 3 8220 Traunstein, Tel. (08 61) 1 47 67 Buchhandlung Pustet, KL Exerzierplatz 4 8390 Passau, Tel. (08 51) 5 69 45 Buchhandlung Pustet, Gesandtenstraße 6 8400 Regensburg, Tel. (09 41)5 30 61 Buchhandlung Dr. Büttner, Adlerstraße 10-12 8500 Nürnberg, Tel. (0911) 23 2318 STS Computer Vertrieb, Werner-Siemens-Straße 19 8580 Bayreuth, Tel. (09 21) 6 23 20 Computer-Center-Burger, LeimitzerStraße 11-13 8670 Hof, Tel. (0 92 81) 4 00 7 5 Sortiments- u. Bahnhofsbuchh. J. Strykowski, Bahnhofplatz 4 8700 Würzburg, Tel. (09 31) 5 43 89 Buchhandlung Pustet, Grottenau 4 8900 Augsburg, Tel. (08 21) 3 54 37 Kemptener Fachsortiment, Salzstraße 30 8960 Kempten, Tel. (08 31) 1 4413
Belgien:
Eicher Micro & Personal Computer, Hünningen 56-58
B-4780 St.Vhh, Tel. (080) 22 73 93
Luxemburg:
Librairie Promoculture, 14, rue Duchscher (PL de Paris) L-1011 Luxembourg-Gare, Tel. 4806 91, Telex 31 12 Schweiz:
Buchhandlung Meissner, Bahnhofstraße 41
5000 Aarau, Tel. (0 64) 24 71 51
Bücher Balmer, Neugasse 12
6300 Zug, Tel. (0 42) 21 41 41
Buchhandlung Enge, Bleicherweg 56
8002 Zürich, Tel. (01) 2 01 20 78
Buchhandlung Orell Füssli, Pelikanstraße 10
8022 Zürich, Tel. (01) 2 11 80 11
Freihofer AG, Wissenschaftliche Buchhandlung, Universitätsstr. 11
8033 Zürich, Tel. (01) 3 63 42 82
Buchhandlung am Rößlitor, Webergasse 5
9001 St.Gallen, Tel. (0 71) 22 87 26
Herausgeber: Carl-Franz von Quadt, Otmar Weber
Chefredakteur: Michael Scharfenberger Leitender Redakteur: Albert Absmeier Redaktion: Volker Everts, Achim Hübner, Georg Klinge, Harald Meyer, Markus Ohnesorg, Thomas Röder, Arnd Wängler.
Praktikant: Boris Schneider
Fremdautoren:
Behrend, Biernaczyk, Bölcskei, Büttgenbach, Burgmeister, Carli, Haas, Haberl, Hinkelmann, llletschko, Kloeker, Kulzer, Lonczewski, Mann, Menke, Paetzold, Pfost, Rausch, Reiter, Rickert, Schäfer, Schindowski, Schoeberl, Schramm, Spitzner, Toerk, Trierscheid, Weineck, Weißbecker, Ziesche
Layout: Leo Eder (Ltg.)
Herstellung: Klaus Buck
Auslandsrepräsentation:
Schweiz: Markt & Technik Vertriebs AG, Kollerstr. 3, CH-6300 Zug, Tel. 042-22 31 55, Telex: 862 329
USA:	M&T Publishing lnc.; 2464 Embarcadero
Way, Palo Alto, CA 94303
Manuskripteinsendungen: Manuskripte und Programmlistings werden gerne von der Redaktion angenommen. Sie müssen frei sein von Rechten Dritter. Sollten sie auch an anderer Stelle zur Veröffentlichung oder gewerblichen Nutzung angeboten werden, so muß dies angegeben werden. Mit der Einsendung von Manuskripten und Listings gibt der Verfasser die Zustimmung zum Abdruck in von der Markt & Technik Verlags AG herausgegebenen Publikationen und zur Vervielfältigung der Programmlistings auf Datenträger. Mit der Einsendung von Bauanleitungen gibt der Einsender die Zustimmung zum Abdruck in von Markt & Technik Verlag AG verlegten Publikationen und dazu, daß Markt & Technik Verlag AG Geräte und Bauteile nach der Bauanleitung herstellen läßt und vertreibt oder durch Dritte vertreiben läßt. Honorare nach Vereinbarung. Für unverlangt eingesandte Manuskripte und Listings wird keine Haftung übernommen.
Vertriebsleitung: Hans Hörl
Anzeigenverwaltung und Disposition: Michaela Hörl
Verlagsleiter M&T-Buchverlag: Günther Frank
Druck: R. Oldenbourg GmbH, Hürderstraße 4, 8011 Kirchheim.
Preis: Das Einzelheft kostet DM 14,—
Vertrieb Handelsauflage: Inland (Groß-, Einzel- und Bahnhofsbuchhandel) sowie Österreich und Schweiz: Pegasus Buch- und Zeitschriften-Vertriebs GmbH, Hauptstätter Straße 96, 7000 Stuttgart 1, Telefon (0711) 76 48 30
Urheberrecht: Alle in diesem Heft erschienenen Beiträge sind urheberrechtlich geschützt. Alle Rechte, auch Übersetzungen, vorbehalten. Reproduktionen gleich welcher Art, ob Fotokopie, Mikrofilm oder Erfassung in Datenverarbeitungsanlagen, nur mit schriftlicher Genehmigung des Verlages. Anfragen sind an Michael Scharfenberger zu richten. Für Schaltungen, Bauanleitungen und Programme, die als Beispiele veröffentlicht werden, können wir weder Gewähr noch irgendwelche Haftung übernehmen. Aus der Veröffentlichung kann nicht geschlossen werden, daß die beschriebenen Lösungen oder verwendeten Bezeichnungen frei von gewerblichen Schutzrechten sind. Anfragen für Sonderdrucke sind an Peter Wagstyl (185) zu richten.
© 1985 Markt & Technik Verlag Aktiengesellschaft
Verantwortlich:
Für redaktionellen Teil: Michael Scharfenberger Für Anzeigen: Brigitte Fiebig
Redaktions-Direktor: Michael M. Pauly
Vorstand: Carl-Franz von Quadt, Otmar Weber
Anschrift für Verlag, Redaktion, Vertrieb, Anzeigenverwaltung und alle Verantwortlichen:
Markt & Technik Verlag Aktiengesellschaft, Hans-Pinsel-Straße 2, 8013 Haar bei München, Telefon (0 89) 4613-0, Telex 5-22 052
Aktionäre, die mehrals 25% des Kapitals halten: Otmar Weber, Ingenieur, München; Carl-Franz von Quadt, Betriebswirt, München. Aufsichtsrat: Dr. Robert Dissmann (Vorsitzender), Karl-Heinz Fanselow, Eduard Heilmayr
154
COMPUTER-ZEITSCHRIFTEN VON PROFIS FÜR PROFIS
COMPUTER PERSÖNLICH
Das aktuelle Fachmagazin
für Personal-Computer.
★ Wenn Sie jetzt den Schritt vom Heim-Computer zur professionellen Anwendung eines Personal Computers planen
★	Wenn Sie beruflich oder privat bereits einen Personal Computer benutzen
* Wenn Sie regelmäßig Informationen über das aktuelle Produktangebot benötigen
★	Wenn Sie selbst programmieren
★	Wenn Sie professionelle Hard-und Softwaretests suchen
★	Wenn Sie Ihr eigenes System möglichst effizient einsetzen wollen
dann ist »Computer persönlich«, das aktuelle Fachmagazin für Personal Computer, genau Ihre Zeitschrift.
Die konsequente Ausrichtung auf professionelle Anwendungen bietet Ihnen alle wichtigen Informationen.
Von Profis für Profis!
»Computer persönlich« gibt es alle
14 Tage neu bei Ihrem Zeitschriftenhändler oder im Computer-Fach-geschäft.
PC MAGAZIN
Einzige Wochenzeitung für Personal Computer im IBM-Standard.
Sie beschäftigen sich beruflich oder privat mit dem Einsatz und der Anwendung von Personal Computern?
Sie sind an aktuellen, professionellen Informationen über IBM-PCs, kompatible Systeme und deren professionellen Einsatz interessiert?
Dann ist das PC Magazin genau auf Ihre persönlichen Bedürfnisse zugeschnitten.
Es wird von anerkannten und erfahrenen Fachjournalisten für professionelle Anwender und Fachleute geschrieben.
Es berichtet jede Woche ausschließlich über Computer im IBM-Standard und kompatible Systeme, über Hard- und Softwareneuheiten.
Es bringt ausführliche Testberichte und gibt Ihnen wichtige Informationen über Netzwerke sowie die PC/Host-Verbindung.
Nur diese Spezialisierung ermöglicht eine gezielte Berichterstattung und bietet genügend Raum, um auf Anwenderprobleme spezifisch eingehen zu können.
Von Profis für Profis!
Und das jeden Mittwoch neu bei Ihrem Zeitschriftenhändler oder im Computer-Fachgeschäft.
G U T S C H E I N
für ein kostenloses Probeexemplar
Senden Sie mir die neueste Ausgabe der von mir □ COMPUTERPERSÖNLICH
Wenn mir Computer persönlich zusagt und ich es regelmäßig weiterbeziehen möchte, brauche ich nichts zu tun: Ich erhalte Computer persönlich dann regelmäßig alle 14 Tage per Post frei Haus geliefert und bezahle pro Jahr nur DM 98.—. Zustellung und Postgebühren übernimmt der Verlag.
Vorname/Name
Sträße	PLZ/Or<
angekreuzten Zeitschrift kostenlos als Probeexemplar:
□ PC-MAGAZIN
Wenn mir das PC-Magazin zusagt und ich es regelmäßig weiterbeziehen möchte, brauche ich nichts zu tun: Ich erhalte mein PC-Magazin dann regelmäßig jede Woche per Post frei Haus geliefert und bezahle pro Jahr nur DM 155,—. Zustellung und Postgebühren übernimmt der Verlag.
Mir ist bekannt, daß ich diese Bestellung innerhalb von 8 Tagen bei der Bestelladresse widerrufen kann und bestätige dies durch meine zweite Unterschrift. Zur Wahrung der Frist genügt die rechtzeitige Absendung des Widerrufs
Datum 1. Unterschrift	Datum 2. Unterschrift	g
co
Gutschein ausfüllen, ausschneiden, auf Postkarte kleben und einsenden an:	w
MarktäTechnik Verlag Aktiengesellschaft. Vertrieb. Postfach 1304. 8013 Haar	5
Bücherzumtom»
rMaidiiwinik
Das . tommodore 128
Handbu<h
Daslommodorel28-Handbuch
Commodorel28. »ewe	^ 3.0 vertraut ge
Modus und der ^nutzung Gra(ik. und Soundmog_ macht, edahrenaOes uber ^ derSpe.ch^ lichkeiten des C 128,rer	^^ und ^en,n die
verwaltung und das ^e&elsprache sow1e1n die Programmierungmrt^s ^
griffbereit haben sollten!
S*47,8oSs^5,6O
DM 52,-
BMIC7.0 auf dem Commodore 128
1985, 239 Seiten	prOgrammierkenntnisse
Ganz gleich, ob Sie be t	^ )hnen helfen,
notwendigen Kenntnisse_rt|| aen- Listenverarbeitung,
£ txxs^ A^" schlagewerk eignet.
MarW ledm^
Verlag AktiengeseUschaft Buchverlag XJ^^
MarM&Technik-Produkte erhalten Sie bei ihrem
Buchhändler	Buchhändler oder
Bestellkartenbitt 'uchhandlungen. an eine u"98^“*^ Ende des Heftes. Adressenverzeichnis am tnu
... daß Sie jetzt bisher erschienene 64’er-Ausgaben und Sonderhefte nachbestellen können?
.. daO es jetzt eine schöne und praktische Sammelhox fiir Ihre wertvollen Hefte gibt?
® 2
22
01
s o
o
T—
<2
Bitte benützen Sle für Ihre Bestellung nur diese
Postscheck-Zahlkartel
Übrigens... ... die 64'er-Sammelbox ist nicht nur praktisch für den eigenen Gebrauch, sondern auch ein heiBer Geschenktip zu vielen Anlässen!
Für Mitteilungen an den Empfänger
Bestellunq Leser-Service wichl'9: Lieferanschrift (Rückseite) 	 nicht vergessen)			
Bestell-Nr.	Anzahl	x Einzelpreis	= Gesamtpreis
Sammelbox .64er<		DM 14-	
Sonderheft		DM 14-	
Sonderheft		DM 14,-	
Ausg	/1984		DM 6,50	
Ausg.	/1985		DM 6.50	
Zzgl emm Versandkostenpauschale (DM 3-)			DM3.-
Summo bitte auf Vorderseite übertragen		Gesamtsumme:	DM
3
-
2
<0
o>
o
CO
<B
«5
7
9’
05
N
2 g
E uj
O5
£
§
10
zo
2 co
2
O
•7


c "
s|s

1:1
O) c
co
I
o CL
®

... daß Sie alle im Heft abgedruckten listings sowie die Listings aus allen 64'er-Ausgaben auch auf Diskette bestellen können?
Die in diesem Sonderheft abgedruckten Listings gibt es auf zwei Disketten:
zusammen nur DM34,90
	co o co	
z o	o	
	O)	
o		E
2 w O Q-	^r V	o s £
O
CO
o °p
CD CD
2 E SÄ 5 E
E S O) 2
Best.-Nr. L685S6
' lnkl. MwSt. Unverbindliche Preisempfehlung.
Verwenden Sie dafür nur die nebenstehende Postscheck-Zahlkarte.
Bestellungen in der Schweiz richten Sie bitte an: Markt&Technik Vertriebs AG.
Kollerstrasse 3, 6300 Zug
In Österreich: Buchhandlung Bücherzentrum Meidling, SchönbrunnerstraOe 261. 020 Wien
Microcomput-ique Erhard Schiller. Fasangaße 21.
1030 Wien
Alle anderen Markt8Technik-Produkte erhalten Sie bei Ihrem Buchhändler oder bei unseren Depot-Händlern. Adressenverzeichnis am Ende des Heftes.
!i SI .2 5
Sa
a.
o o
5 ? ° 5 O Q
I
s
Q O
52
o
<0
£ 05 c co C 2Z o'® ° C0®<? c ® Ä
X3 v_ 0) 0 0) C COT) 0
0
Für Mitteilungen an den Empfänger
Bestellung Listing-Service		Wichtig: Lieferanschrilt (Rückseite) nicht vergessen’	
Bestell-Nr.	Anzahl	x Einzelpreis	= Gesamtpreis
^_^^_			
			
			
			
Summe bitte auf Vorderseite übertragen.		Gesamtsumme:	
inkl. MwSt. Unverbindliche Preisemptehlung