# Das Beste vom Besten \[3\]

Die besten Programme aus der 64’er: Ein Leckerbissen sondergleichen!

Im April 1984 wurde das erste Heft der 64’er, dem Magazin für Computerfans, geboren. Und schon seit dieser Ausgabe konnten wir Sie mit hervorragenden Programmen überraschen. Bereits im 64’er, Ausgabe 5/84 gab es das erste Listing des Monats, ein Zeichen für ein hervorragendes Programm, eine ausgefallene Idee, eben ein Spitzenprodukt. Es gab jedoch noch eine ganze Reihe von Listings, die dieses Prädikat auch verdient haben. Die besten von ihnen, darunter zwei Programme aus unserer Schwesterzeitschrift Happy-Computer, und eine Auswahl aller Listings des Monats haben wir für Sie in diesem Sonderheft zusammengestellt. Wahrlich ein Menü, das es in dieser Brisanz bisher nicht gegeben hat. Es gibt Programme zu den Themen

- Anwendung,
- Grafik,
- Hilfsprogramme (Utilities) und
- Spiele.

Alle Programme sind noch einmal überarbeitet worden. Wenn es Fehler gegeben hat, wurden sie verbessert. Auch Erweiterungen zu einigen Programmen, zum Beispiel zu HI-EDDI, haben wir nicht vergessen. Durch die beiden Eintipphilfen Checksummer (Seite 16) und MSE (Seite 18) werden Sie die Listings fehlerfrei eintippen können.

### Anwendungen

Der C 64 ist bekannterweise nicht nur ein Computer zum Spielen, Programmieren und Experimentieren. Viele Leser verwenden ihn als Hilfsmittel, um bestimmte Aufgaben leichter und schneller lösen zu können, zum Beispiel zur statistischen Auswertung beim Kegelclub (Alle Neune..., Seite 31) oder zum Protokollieren und Nachspielen von Schachpartien (Schachmeister, Seite 28). Sie können Ihre Freunde und Bekannten mit persönlichen und speziellen Kreuzworträtseln überraschen (Seite 40). Aber auch Musiker (Synthesizer, Seite 48) und Astronauten (Sternenhimmel, Seite 34) kommen auf Ihre Kosten, und angehende Millionäre sind mit der Finanzmathematik (Seite 20) auf dem besten Weg dorthin.

### Grafik

Dem C 64 Grafik zu entlocken, ist eine anstrengende, aber auch ungeheuer interessante Aufgabe. Was auf diesem Gebiet von unseren Lesern gezaubert wurde, ist fast nicht zu glauben. HI-EDDI (Seite 58) schlägt wohl nicht nur alle Rekorde, sondern stellt auch die meisten vergleichbaren professionellen Mal- und Zeichenprogramme in den Schatten. Wenn Sie mehr ein Anhänger bewegter Grafik sind, sollten Sie sich Trickfilm (Seite 85) unbedingt anschauen. Natürlich fehlt auch nicht die Grafikenweiterung Turtle-Grafik (Seite 71).

### Hilfsprogramme

Ein Meilenstein wurde gesetzt mit Hypra-Load (Seite 94). Das Laden von Programmen von der Floppy wird mit diesem sensationellen Programm stark beschleunigt. Etwas später kam Hypra-Save (Seite 124) hinzu und machte nun auch das Speichern von Programmen schneller. Um Schnelligkeit geht’s auch beim Exsort (Seite 92), dem Sortierprogramm für alle Fälle, das mehr kann als nur einfach sortieren. Für Freunde von Sprachen gibt es gleich zwei Leckerbissen: Strubs (Seite 98), der Precompiler mit zusätzlichen Basic-Befehlen und ein Forth-Compiler (Seite 116).

### Spiele

Anhänger von Abenteuerspielen, den Adventures, werden mit dem Grab des Pharaos (Seite 126) und in der Burg des Grauens (Seite 135) knifflige Situationen meistern müssen. Abwechslung bringt dann aber mit Sicherheit Apocalypse now (Seite 140), und wer Wert auf Geschicklichkeit legt, kann sich mit Springvogel vergnügen (Seite 148), ein Spiel, das nicht so schnell langweilig wird, weil Sie einfach eigene neue Bilder entwickeln können.

TODO ASIDE

### Listing-Service

Wer keine Zeit oder keine Lust hat, alle Programme selbst in mühevoller Kleinarbeit abzuschreiben, kann wieder auf den bewährten Leserservice zurückgreifen. Alle Programme befinden sich auf zwei Disketten mit der Bestellnummer L6 85 S6. Die Disketten sind nur zusammen erhältlich und kosten 34,90 Mark.

Bitte verwenden sie für Ihre Bestellung die beigefügte Postscheck-Zahlkarte zur Überweisung des Rechnungsbetrages. Sie erleichtern uns die Auftragsabwicklung und Sie sparen sich die 3 Mark Versandkosten.

**Bestell-Nr.: L6 85 S6 / 34,90 Mark**

# Schachmeister \[5\]

> Darauf haben viele Schachspieler gewartet: Der C 64 nicht nur als Schachpartner, sondern auch als Protokollant eigener Schachpartien. Natürlich kann man sich auch große Meisterschaftspartien zu Gemüte führen. Besonders gut eignet sich der »Schachmeister« zum Einstudieren von Eröffnungen.

# Weißt Du wieviel Sternlein stehen... \[5\]

> Mit diesem fantastischen Programm wird der C 64 zum Heim-Planetarium. Für jeden beliebigen Zeitpunkt und für jeden Ort der Erde kann in Sekundenschnelle eine naturgetreue elektronische Sternkarte erstellt werden. Sie enthält die hellsten und bekanntesten Fixsterne beziehungsweise Sternbilder des nördlichen Sternenhimmels.

# Kreuzworträtsel selber machen \[6\]

> Dieses Programm, einst aus einem Wettbewerb entstanden, ist genau das richtige für Rätselsüchtige, die auch mal den umgekehrten Weg gehen wollen: ein Kreuzworträtsel von seiner Entstehung an mitverfolgen zu können. Sämtliche Schwierigkeiten die dabei auftreten können, werden vom C 64 übernommen. Sie können sich ganze Bibliotheken von Fachbegriffen aufbauen, so daß nachher Kreuzworträtsel entstehen, die auf einen ganz bestimmten Leserkreis zugeschnitten sind. Eine tolle Anwendung in einer Schülerzeitung oder für ein persönliches Rätsel für Freunde und Bekannte. Was ins Rätsel hineinkommt, ist ganz allein Ihre Sache.

# »Happysynth«, der Traum eines jeden Musikers \[7\]

> Ein Supersynthesizer zum Abtippen. Die hervorragende Benutzerführung per »Pseudo-Maus« (siehe Fotos) und die ausgezeichnete grafische Darstellung der einzelnen Menüs heben den »Happysynth« von der breiten Masse der übrigen Programme ab.

# Vier Pseudo-VICs mit 32 Sprites \[7\]

> Erweitern Sie Ihren Videochip. Nur duch Software lassen sich ungeahnte Bilder aus dem VIC zaubern. So sind 32 Sprites sowie HiRes-Grafik und Text gleichzeitig nur die leichtesten Übungen für Provic 64.

# HI-EDDI: ein fantastisches Zeichen- und Malprogramm \[8\]

> »Ein professionelles Programm !« So urteilten unsere Leser nach der Veröffentlichung von HI-EDDI in der Ausgabe 1/85. Mit diesem Listing landeten wir einen echten Hammer! In diesem Sonderheft finden Sie nicht nur den normalen HI-EDDI, sondern auch Hardcopy-Routinen für alle gängigen Drucker sowie die komplette Anpassung für Datasetten-Besitzer gesammelt. Mit HI-Eddi kann jeder professionelle Bilder und Grafiken entwickeln.

# Die schnelle Schildkröte — Turtle Grafik \[9\]

> Eine Basic-Erweiterung, die Logo überflüssig macht, das ist die Turtle-Grafik. Mit einfachen Basic-Befehlen lassen sich sehr schnell wunderschöne Grafiken erstellen.

# Trickfilm mit dem C 64 \[10\]

> Die Fähigkeit, bewegte, dreidimensionale Grafiken zu erzeugen, war bisher nur speziellen Großcomputern vorbehalten. Mit unserem 3D-Movie-Maker wird auch Ihr Commodore 64 zum Trickfilmstudio.

# Hypra-Load und Hypra-Save \[10\]

> Ist Ihnen die 1541 zu langsam? Wollen Sie nicht mehrere hundert Mark für ein Hardware-Beschleunigungssystem ausgeben? Dann sind Hypra-Load und Hypra-Save genau das richtige für Sie, denn diese Programme machen das Laufwerk bis zu fünfmal schneller. Für dieses Sonderheft wurde das beliebte Hypra-Load sogar völlig neu geschrieben und verbessert!

# Das Grab des Pharao \[12\]

> Hier bieten wir ihnen ein deutschsprachiges Grafik-Adventure der Spitzenklasse, bei dem es um Pyramiden, Pharaonen und viele Gefahren geht.

# Castle of Doom — Burg des Grauens \[12\]

> Nur mit Geduld und Fantasie wird es Ihnen gelingen sich die Lösung dieses Adventures zu erspielen. In der Burg des Grauens werden Sie sich die Zähne ausbeißen.

# Spring Vogel, spring \[13\]

> Dieses Spiel der Sonderklasse ist nur mit so legendären Programmen wie »Manic Miner«, »Jumpman« oder »Mister Robot and his Factory« vergleichbar. Sechs verschiedene Bilder garantieren andauerenden Spielspaß. Und sollten Sie alle Bilder durchgespielt haben, beginnt ein neues Kapitel: Machen Sie Ihre eigenen Bilder! Mit dem eingebauten Spiele-Editor ist das gar kein Problem. So wird der Spielspaß nur durch Ihre Fantasie begrenzt. Ein wirkliches Top-Programm.

# Der Bitmap-Compander \[14\]

> Mit diesem kurzen Programm können Grafikbildschirme, die auf Diskette abgespeichert werden, auf die Hälfte komprimiert werden.

Jeder, der schon einmal eine hochauflösende Grafik auf Diskette abgespeichert hat, weiß, daß sie 33 Blocks benötigt. Das entspricht den 8 KByte des hochauflösenden Grafikbildschirms. Es besteht aber die Möglichkeit, diese Grafikbildschirme je nach Inhalt auf 10 bis 20 Blocks zu komprimieren. Das Verfahren beruht darauf, häufig wiederkehrende Sequenzen durch kürzere zu ersetzen. Dazu kann man sich die Bitmap als eine lange Kette von Nullen und Einsen vorstellen. Diese Kette wird jetzt in 4-Bit-Blöcke aufgeteilt. Solche Blöcke bezeichnet man als Halb-Byte oder Nibbles. Es gibt 16 verschiedene solcher Nibbles, wovon einige häufiger und andere seltener vorkommen. Jedem Nibble wird nun ein neuer Code zugeordnet, wobei das häufigste Nibble »0000«, den kürzesten Code »0« bekommt. Alle anderen 15Codes müssen mit einer »1« beginnen. Einen Code »00« darf es nicht mehr geben, denn er könnte bei der Decodierung nicht mehr von dem Code »0« unterschieden werden. Es läßt sich nicht umgehen, viele Codes länger als 4 Bit zu machen. Die komplette Code-Tabelle ist in Tabelle 1 zu sehen. Doch die langen Codes kommen viel seltener vor als die kurzen, so daß bei einem »normalen« Bild viele Bits gespart werden können. Theoretisch wäre es möglich, daß eine komprimierte Bitmap länger wird als das Original. Aber selbst die Fotos aus der »Diashow« lassen sich komprimieren. Sir Winston Churchill magert zum Beispiel auf 24 Blocks ab. Bilder, wie sie üblicherweise in Gafik-Adventures vorkommen, lassen sich meist auf unter 15 Blocks zusammendrücken.

Tippen Sie das Programm (Listing 1) mit dem MSE ab und speichern Sie es, damit es jederzeit mit LOAD ”BMC.EXE”,8,1 geladen werden kann (auf der Leserservice-Diskette unter "BIT-MAPCOMPANDER" gespeichert). Der Aufruf des Companders funktioniert vom Basic aus mit einem SYS-Befehl. Die Parameter werden wie beim OPEN-Befehl angehängt.

Laden einer komprimierten Bitmap:
SYS 52798,Filenummer,Geräteadresse,Kanalnummer,”Name”

Speichern einer komprimierten Bitmap:
SYS 52736,Filenummer,Geräteadresse,Kanalnummer,”Name,P,W” Mit der Filenummer wird die Anfangsadresse der Bitmap ausgewählt.

TODO TABLE

Filenummer	Bitmap-Adresse
1	$2000 = 8192	(sichtbares Bild bei Hi-Eddi)
2	$4000 = 16384
3	$6000 = 24576
5	$A000 = 40960	(Bitmap bei Hires-3)
7	$E000 = 57344	(Bitmap bei Simons Basic)

Die Bitmaps 0, 4 und 6 sind theoretisch möglich, aber nicht sinnvoll, da der Videocontroller sie nicht adressieren kann. Die Gerätenummer ist 8 für das Floppy-Laufwerk und die Kanalnummer eine beliebige Zahl von 2 bis 14.

Beispiele für Aufrufe:

Speichern einer Simons Basic-Bitmap:
SYS 52736,7,8,2,”Name,P,W”

Laden dieser Bitmap in Hires-3:
SYS 52798,5,8,2,”Name”

Das Programm belegt den Bereich von $CE00 bis $CF19 (52736 bis 53017). Es belegt somit keinen Basic-Speicherplatz und verträgt sich auch mit Hires-3 und Simons Basic, solange der Befehl MEM nicht verwendet wird.

(Hans Haberl/ah)

# Checksummer 64 — Neu \[16-17\]

> Der Checksummer 64 V3 überprüft jede Basic-Zeile direkt nach der Eingabe, erkennt Fehleingaben und auch Vertauschungen von Zahlen und Ziffern, und erspart deshalb eine aufwendige Fehlersuche.

Der Checksummer 64 V3 ist ein kleines Maschinenprogramm, das Sie sofort unterrichtet, ob Sie die jeweilige Programmzeile korrekt eingegeben haben.

So gehen Sie vor:

1.	Programm abtippen und speichern.
2.	Starten mit RUN
3.	Nach kurzer Zeit sehen Sie am Bildschirm:<br>CHECKSUMMER 64, CHECKSUMMER AKTIVIERT, AUSSCHALTEN MIT POKE 1,55, ANSCHALTEN MIT POKE 1,53, READY.
4.	Anschalten des Checksummer 64V3 mit POKE 1,53.
5.	Test: Geben Sie in einer freien Zeile ein: »1 REM« und drücken die RETURN-Taste. Am Bildschirm oben links sollten Sie die Prüfsumme <63> sehen.
6.	Geben Sie ein Listing aus unserem Heft ein. Nach jeder Zeile wird die Zahl, die im Listing in Klammern < > steht, in den Bildschirm eingeblendet. Stimmen die Zahlen nicht überein, so liegtvermutlich ein Eingabefehlervor. **Die Zahl in den Klammern, und auch die Klammern selbst, dürfen beim Abtippen nicht mit eingegeben werden!**
7.	Dieser neue Checksummer 64 V3 bemerkt, im Gegensatz zu den bisherigen, auch Vertauschungen von Zahlen und Buchstaben.
8.	Unsere Basic-Listings enthalten keine Steuerzeichen mehr. Diese werden ersetzt durch Klartext und stehen zwischen geschweiften Klammern. Deshalb sind weder die Klammern noch was dazwischen steht, abzutippen, sondern die in Tabelle 1 aufgeführten Tasten zu drücken. Auf Ihrem Bildschirm erhalten Sie dann wieder die entsprechenden Grafikzeichen (siehe Bild 1 und 2).
9.	Alle Grafikzeichen werden ebenfalls ersetzt durch unterstrichene oder überstrichene Großbuchstaben. **Unterstrichene Buchstaben bedeuten, daß Sie die SHIFFTaste und den angegebenen Buchstaben drücken müssen, überstrichene jedoch die Commodore-Taste mit dem Buchstaben.** Auch hier erhalten Sie am Bildschirm das entsprechende Grafikzeichen und nicht etwa das im Listing erkennbare Zeichen (siehe Bild 1 und 2).

## Checksummer VC 20 V3

Der Checksummer VC 20 V3 ist im Prinzip genauso aufgebaut wie der Checksummer 64. Da beim VC 20 jedoch nicht die Möglichkeit besteht, das ROM softwaremäßig zu modifizieren, mußte ein anderer Weg als beim Commodore 64 gewählt werden, um die Checksumme zu generieren.

In ihrer Funktionsweise unterscheiden sich der Checksummer VC 20 und der Checksummer 64 nicht. Es gelten folgende Sonderregelungen bei der Benutzung des Checksummer VC 20:


- Da der Basic-Bereich nicht belegt werden soll, ist das Programm im Kassettenpuffer abgelegt.
- Angeschaltet wird der Checksummer VC 20 mit »SYS 955«.
- Abschaltung des Checksummer VC 20 wird mit »SYS 58459« vollzogen.

Achtung: Nehmen Sie keine Kassetten-Operationen vor, wenn der Checksummer VC 20 eingeschaltet ist. Da das Betriebssystem den Kassettenpuffer mit Daten belegt, kann der Checksummer VC 20 überschrieben werden, was zur Folge hat, daß sich der Computer bei aktiviertem Checksummer VC 20 »aufhängt«. Wollen Sie deshalb ein Programm auf (von) Kassette abspeichern (laden), so müssen Sie erst den Checksummer VC 20 abschalten (SYS 58459).

Daraufhin kann der Kassettenpuffer mit Daten überschrieben werden, ohne daß der Computer »aussteigt«.

Als Sicherung wird bei der Initialisierung geprüft, ob das zuletzt angesprochene Peripherie-Gerät der Kassettenrecorder war. Ist das der Fall, so werden die Betriebssystemroutinen LOAD und SAVE für die Benutzung gesperrt. Der Rechner meldet bei Aufruf einer dieser beiden Routinen READY, ohne weitere Aktionen durchzuführen. Diese Sicherung kann man nach der Tipparbeit aufheben, wenn man den Checksummer VC 20 mit SYS 58459 abschaltet. Dadurch wird der Kassettenpuffer für andere Daten freigemacht. Weiterhin wird dann durch gleichzeitiges Drücken der Tasten »Run-Stop & Restore« erreicht, daß die Betriebssystemroutinen LOAD und SAVE wieder eingerichtet werden.

- Bei Benutzung einer Diskettenstation brauchen Sie nicht darauf zu achten, daß bei LOAD beziehungsweise SAVE der Checksummer VC 20 überschrieben wird, da der Kassettenpuffer für die Diskettenstation normalerweise nicht genutzt wird. Deshalb können Sie die beiden Routinen weiterhin normal nutzen, sofern der Rechner bei der Initialisierung des Checksummer VC 20 feststellt, daß das zuletzt angesprochene Peripherie-Gerät nicht der Kassettenrecorder war.
- Bedingt durch den anderen Aufbau des Checksummer VC 20 wird anders als beim Checksummer 64 nach der LOAD-Routine keine Checksumme ausgegeben.
- Wird eine Zeile gelöscht, also eine Zahl zwischen 0 und 65999 eingegeben, und danach Return gedrückt, so wird eine Checksumme ausgegeben, die aber keine Bedeutung hat.

Sie können die Programme auch weiterhin ohne den Checksummer eintippen.

(F. Lonczewski/gk)

**Hinweis: {13 SPACE} bedeutet 13mal die Leertaste drücken**

TODO TABLE

# MSE-Abtippen sicher und leicht gemacht \[18-19\]

> Ähnlich wie der »Checksummer« ist auch der MSE ein Hilfsmittel bei der Eingabe von Listings, diesmal jedoch bei reinen Maschinensprache-Programmen.

Im Gegensatz zum »Checksummer« aber ist die Eingabe nicht ohne den MSE möglich. Der MSE verringert die Tipparbeit um ein Drittel und schließt Fehleingaben vollkommen aus. Außerdem können Sie die Werte blind eingeben, ohne andauernd auf den Bildschirm schauen zu müssen. Dies wird durch akustische Meldungen realisiert.

MSE ist ein Maschinenspracheditor, mit dem ein Vertippen ausgeschlossen ist. Eine abgetippte Zeile wird nur angenommen, wenn sie richtig ist. Eine Checksumme am Ende jeder Zeile prüft, ob die richtigen Werte in der richtigen Zeile an der richtigen Stelle stehen. Wenn nicht, ertönt ein Warnsignal, und man beseitigt den Fehler.

War die Zeile korrekt, erklingt ein Gong, und die nächste Zeilennummer wird ausgegeben. Damit ist also auch »blindes« Eintippen möglich; Sie können sich voll auf den Text konzentrieren.

## So arbeitet man mit MSE

Laden und starten Sie MSE. Zuerst wird der Programmname und die Start- und Endadresse erfragt. **Diese Angaben entnehmen Sie dem Kopf des jeweiligen abgedruckten Listings.** MSE meldet sich dann mit der Zeilennummer der ersten Zeile. Wenn Sie die Zeile richtig eingegeben haben, erscheint die nächste Zeilennummer und so weiter bis zum Ende. Zum Schluß wird das fertige Programm mit »CTRL-S« auf Diskette oder Kassette abgespeichert. Dazu sind keine weiteren Angaben mehr erforderlich. Das Programm kann dann ganz normal wieder geladen und gestartet werden. Wenn Sie nicht alles auf einmal tippen wollen, können Sie jederzeit unterbrechen und den eingetippten Teil mit »CTRL-S« abspeichern. Wollen Sie weiterarbeiten, laden und starten Sie MSE wieder.

Geben Sie auf die Frage nach der Startadresse aber jetzt »L« ein, um Ihr Teilprogramm zu laden. Jetzt können Sie mit »CTRL-N« die Adresse eingeben, an der Sie weitertippen müssen. Wenn Sie sich nicht gemerkt haben, wie weit Sie gekommen sind, geben Sie nach dem Laden »CTRL-M« ein.

Auf die Frage nach der Startadresse antworten Sie mit der Anfangsadresse, die links in der Kopfzeile auf dem Bildschirm steht. Nun wird Ihr Programm aufgelistet. Mit »SPACE« wird das Listen fortgesetzt, mit »STOP« abgebrochen. Das Ende Ihres Programmteils erkennen Sie sehr einfach daran, daß nur noch der Wert »AA« in der Zeile steht. Die Adresse dieser Zeile müssen Sie anschließend mit »CTRL-N« eingeben. Das Programm ist nur mit »STOP/RESTORE« zu verlassen. Speichern Sie aber vorher unbedingt immer Ihren Text ab.

### Hinweise zum Abtippen

Vor dem Abtippen oder späteren Wiederladen des MSE-**Laders** müssen Sie unbedingt folgende Zeile eingeben:
**POKE 43,1: POKE 44,32: POKE 8192,0: NEW**

Starten Sie das Programm mit RUN. Fehlerhafte Zeilen werden angezeigt und müssen korrigiert werden, bis der Lader zum »READY« durchläuft. Jetzt müssen Sie das fertige MSE-Programm abspeichern. Dazu brauchen Sie nur »RETURN« zu drücken, weil die erforderlichen Angaben schon auf dem Bildschirm stehen. (Kassettenbesitzer müssen in Zeile 343 die letzte Zahl in »1« abändern.) Ab jetzt können Sie »MSE V1.0« direkt, also ohne den DATA-Lader, benutzen. MSE V1.0 wird ganz normal mit »,8« geladen (keine POKEs notwendig).

(N. Mann / D. Weineck / gk)

TODO ASIDE

### MSE-Befehle:
DEL löscht die letzte Eingabe.
CTRL-S speichert das eingetippte Programm ab.
CTRL-L lädt ein Programm. Start- und Endadresse werden automatisch ermittelt.
CTRL-M listet den Speicherinhalt. Abbruch mit STOP-Taste, weiter mit Leertaste.
CTRL-N erlaubt die Eingabe einer neuen Adresse zum Weitertippen.
CTRL-P gibt ein MSE-Listing auf dem Drucker aus.

# Menügesteuerte Finanzmathematik \[20-27\]

> Zwei herausragende Eigenschaften machen dieses Programm für alle C 64-Besitzer interessant: Die sehr gute Menütechnik und der modulare Bildschirmmaskenaufbau.

Das Programm (Listing 1) wird nach dem Abtippen und Speichern aller Teilprogramme mit dem Befehl: LOAD”Menü” ,8 geladen.

Wählen Sie nach dem Start mit den Funktionstasten F3 und F5 die Nummer des Programmes, mit welchem Sie als nächstes arbeiten wollen (Zinsrechnung=Listing 2; Zinseszinsrechnung=Listing 3; Diskontieren eines Kapitals=Listing 4; Erstellung eines Tilgungsplans=Listing 5). Sie erkennen Ihre augenblickliche Position an der blinkenden Zahl. Nach beendeter Wahl drücken Sie »RETURN«. Dann wird das Programm geladen, dessen Zahl gerade blinkt und an der sich nach »RETURN« ein ← (Pfeil links) befindet.

### Bedienungsanleitung für das Programm: »Erstellen eines Tilgungsplanes.«

Nach erfolgter Auswahl im Hauptmenü wird das Programm automatisch gestartet. Durch entsprechende Informationen in der Fußzeile erklärt sich das Programm im wesentlichen selbst. Allerdings mußte manchmal wegen Platzmangel darauf verzichtet werden.

Grundsätzlich gilt:

- Bis auf die Funktionstasten erfolgt bei jeder Eingabe und Auswahl ein Abschluß mit »RETURN«.
- Bei der Auswahl im Programm, wird immer mit den Tasten F3 und F5 gewählt, nach Drücken von »RETURN« wird immer das als nächstes ausgeführt, was zuletzt geblinkt hat.
- Zum Abschluß der Dateneingabe gilt für die Abfrage, ob die Eingabe korrekt ist, folgendes:<br>a) Zugelassen sind die Buchstaben j (ja) und n (nein).<br>b) Die Antwort kann bis zum Abschluß mit »RETURN« durch die Taste »DEL« korrigiert werden.
- Während der Dateneingabe kann man durch Drücken der Taste F1 zum ersten Auswahlmenü zurückkehren.
- Wird die Tabelle auf dem Bildschirm ausgedruckt, kann man den Bildschirmausschnitt innerhalb der festgesetzten Grenzen verändern.

Mit F1 kehrt man zur alten Bildschirmmaske zurück.
Das Ausgabefeld »Resultat« enthält folgende Informationen:

- Zinsaufwand (gesamt): Dieser Summe entsprechen sämtliche in den einzelnen Jahren zu zahlende Zinsen.
- Annuität (gesamt): Dies ist die Summe, die man insgesamt zurückzahlen muß (Zins- und Tilgungsanteil zusammen),

Im linken unteren Feld wird noch einmal angegeben, wie hoch der Zinsanteil von der Annuität in Prozent ist. Dieses Programm stellt Tilgungspläne bis zu einer Laufzeit von 50 Jahren auf. Falls dies nicht ausreicht, braucht in Zeile neun nur die Dimensionierung der Variablen e und e$ erhöht werden.

(Klaus Klöker/og)

# Schachmeister \[28-31\]

> Viele Schachspieler zeichnen ihre Partien auf und überprüfen sie hinterher. Der C 64 hilft dabei. Die Verbesserung aus Ausgabe 4/85 ist in die Anleitung und das Listing integriert.

Nach dem Start des Programms muß man einen Augenblick warten, bis der Computer die neuen Multicolor-Zeichen definiert hat und diverse Felder und Listen aufgestellt hat (zirka 20 Sekunden). Daraufhin kann man eine der gespeicherten Partien auswählen und das Schachbrett baut sich auf.

Am rechten Rand werden die Namen der Spieler, das Jahr, die Zugnummer und der Zug sowie verschiedene Meldungen wie »Schach«, »Matt«, »Rochade« ... ausgegeben. Das Schachbrett nimmt zirka % des Bildschirms ein.

Durch Drücken der F7-Taste nach einem Zug wird das Bild bis zu einem erneuten Tastendruck »eingefroren«. Durch Drücken einer anderen Taste nach einem Zug wird der Ablauf beschleunigt. Durch anhaltendes Drücken der Space-Taste kann man so eine Art »Blitzschach« erreichen. Nach Spielende führt ein Tastendruck wieder zum Auswahlmenü.

## Eingeben eigener Schachpartien:

1.	Zuerst werden die Namen der Spieler und das Jahr eingegeben:
10000 DATASPIELER 1, SPIELER 2, 1984.
2.	Die Eingabe der Züge:
Beispiel für einen normalen Zug: 10010 DATA E2E4, E7E5, G1F3 ...
Wenn eine Figur eine gegnerische schlägt, braucht man das nicht anzugeben; der Computer erkennt das von selbst.
3.	Sonderregeln (Beispiele):

### Aufgabe eines Spielers:

10020 DATA ...,SA
(Schwarz gibt auf)
10020 DATA..., WA
(Weiß gibt auf)

### Rochaden:

10020 DATA...,KR
(kurze Rochade)
10020 DATA..., LR
(lange Rochade)
Es braucht nicht angegeben zu werden, welcher der beiden Spieler rochiert.

### Schach, Matt, Remis:

Um dem Computer einen dieser drei Zustände anzuzeigen, muß ein S (Schach), ein M (Matt) oder ein R (Remis) dem jeweiligen Zug angehängt werden:
10020 DATA..., D6E6S
(Schach wird geboten)
10030 DATA..., F6E6M
(Schachmatt)
10020 DATA..., E5E6R
(Remis durch Übereinkunft der Spieler)
10020 DATA B6B7P (Remis durch Patt)
10020 DATA C4C5W (Remis durch dreimal wiederholte Stellung)
10020 DATA A1C1Z (Remis durch 50-Züge-Regel. Es wurde seit 50 Zügen kein Bauernzug gemacht)
Erreicht ein Bauer die gegnerische Grundlinie, so wird er in ei-
ne andere Figur umgewandelt. Und zwar:
in einen Turm:
DATA A7A8T
in einen Springer (engl. Horse)
DATA A7A8H
in einen Läufer:
DATA A7A8C
Wenn ein Bauer in eine Dame umgetauscht wird, so ist dem jeweiligen Zug ein D anzufügen:
10020 DATA..., A7A8D
(weißer Bauer wird in Dame getauscht)
Wird ein gegnerischer Bauer en Passant geschlagen, so ist dem entsprechenden Zug ein »v« anzuhängen, (enpassant = im Vorübergehen)

Wichtig:
Nach Ende jeder Partie muß unbedingt ein E angefügt werden, damit der Computer eine Liste der Partien aufstellt. Nach der letzten Partie ist statt dem E ein X anzufügen:
19999 DATA ...,F6E6M,E
19999 DATA ...,F6E6M,X

Die Programmlänge ohne gespeicherte Partien beträgt zirka 7,5 KByte: pro gespeicherter Partie werden zusätzlich zirka 0,5 KByte benötigt.

Da der Bildschirmspeicher verschoben wird, muß nach einem RUN STOP-RESTORE blind RUN eingetippt werden, um das Programm wieder auflisten zu lassen.

(Thomas Behrend/tr)

# Alle Neune \[31-33\]

> Jeder Kegelverein macht mit viel Aufwand die statistische Auswertung der Kegelresultate. Mit dem Programm »Jahresauswertung« für den Commodore 64 bleibt Ihnen die Rechnerei erspart.

Das Programm »Jahresauswertung« stellt für jeden Teilnehmer eines Kegelvereins die Kegelergebnisse in einer Tabelle zusammen. Natürlich läßt sich die »Jahresauswertung« auch für Vereine mit ähnlicher Problematik anwenden, zum Beispiel Bowling-Gruppen, Schützenvereine oder Minigolf-Clubs. Die »ehrenvolle« Aufgabe der statistischen Auswertung aller Einzelergebnisse ist meist sehr mühsam. Was liegt da näher, als hierzu Hobby und notwendiges Übel miteinander zu verbinden und den Commodore arbeiten zu lassen. Neben der Zeitersparnis bei der Auswertung liegt für jedes Mitglied ein sauber gedrucktes Dokument vor (Bild 1), das zum Beispiel bei der Abschlußfeier überreicht werden kann.

Da die Ausdrücke beim Kegeln regional verschieden sind, hier einige Erklärungen dazu. Beim »Bilder-Kegeln« werden bestimmte Kegel-Konfigurationen aufgestellt, die mit einem Schub abzuräumen sind. »Pudel« oder »Ratten« heißen die Kugeln, die vorzeitig aus der Bahn und gegen die Bande laufen. »Stier« oder »Straße« sagt man, wenn der vordere Kegel, der König und der hintere Kegel bei einem Schub fallen.

Wollen Sie für Ihren Verein die Spalten anders benennen, so ändern Sie die Zeilen 1070 bis 1110. Sind Ihre Namen länger oder kürzer als die ursprünglichen, müssen Sie auch die Leerstellen zwischen den Wörtern berücksichtigen. Achten Sie darauf, daß die Namen teilweise über zwei Zeilen gehen. Also programmieren Sie erst die obere Reihe und im nächsten Schritt den unteren Teil.

## Die wichtigsten Variablen

TODO TABLE

Zeile 230:	N	Anzahl der Spalten
Zeile 230:	M	Anzahl der Kegeläbende
Zeile 250:	A	Anzahl der Anwesenheitstage
Zeile 270:	K$	Name des Keglers
Zeile 340:	U	Eingabewert für die Tabelle
Zeile 370:	D$	Datum des Kegelabends
Zeile 770:	S	Summe der Spalte
Zeile 790:	V	Durchschnitt der Spalte 1
Zeile 800:	B	Durchschnitt der Spalte 2
	I	Zähler für Anzahl der Kegelabende
	J	Zähler für Anzahl der Spalten

**Feste Programmeinträge**: Kalenderjahr: Zeilen 1510, 1700; Anzahl der Kegelabende: Zeilen 1520, 1770, 1810; DATA-Eintragungen der Abende: Zeilen 1770 bis 1810.
**Gerätespezifische Angaben**: Zeile 220: Bildschirmfarben; Zeile 1180: Kontrollton nach Abschluß der Eingaben eines Tages. Die Druckanweisungen gelten für Commodore-Drucker und müssen für andere Fabrikate gegebenenfalls entsprechend geändert werden.

(Jürgen Schäfer/ev)

# Weißt Du wieviel Sternlein stehen ... \[34-39\]

TODO 1985/05 p.52, 57ff

# Kreuzworträtsel selber machen \[40-47\]

> Kreuzworträtsel sind bei jung und alt beliebt. Das beweisen die vielen Rätselzeitschriften. Aber ein Kreuzworträtselprogramm zu schreiben ist etwas ganz anderes, als ein Rätsel zu lösen.

Das Programm läßt kaum Wünsche offen. Der Bildschirmaufbau ist genauso gut gelöst wie die Druckerausgabe. Auch den Bedienungskomfort kann man sich kaum besser vorstellen.

Ein Kreuzworträtselprogramm zu schreiben ist eine knifflige Aufgabe. Nicht nur die für den Betrachter eines Rätsels selbstverständlichen Regeln, wie das Kreuzen von Worten senkrecht zueinander und die dichte Vernetzung von Wörtern, auch die Geschwindigkeit und der Komfort des Programmes spielen eine große Rolle. Damit blieb in diesem Falle nur der Einsatz von Maschinensprache übrig. Das Kreuzworträtselprogramm besteht aus zwei Teilen. Einem Rahmenprogramm in Basic, sowie einer Maschinenroutine, die im Bereich ab $C000/49152 geladen wird und die die Schwerarbeit leistet (zirka 30 Wortvergleiche/Sekunde).

Um das Rätselprogramm nicht unnötig mit der Eingabe des Wortschatzes zu belasten, werden die Wörter vorher mit einem Editor eingegeben und bis zu 255 in einem File auf Diskette abgelegt. Das eigentliche Rätselprogramm liest diese Files dann ein und verwendet sie im Rätselfeld. Trotzdem ist die Eingabe von Hand möglich. Denn der große Wortschatz eines Menschen kann niemals auf Diskette gespeichert werden.

### Die Programme

Bevor also die Erzeugung eines Kreuzworträtsels starten kann, muß ein Wortschatz mit dem Lexikon-Editor eingegeben werden (Listing 2). Dieses Programm hat vier Aufgaben:
**a) Directory lesen.** Dabei werden die bereits auf Diskette vorhandenen Wortschatzdateien angezeigt.
**b) Wortdatei anlegen.** Mit diesem Programmteil können Sie bis zu 255 Wörter und die zugehörigen Fragestellungen eingeben und diese dann auf Diskette als Wortdatei ablegen. Eine spezielle Eingaberoutine (Zeile 1 000 — 1 099) sorgt dafür, daß nur erlaubte Zeichen eingegeben werden. Es ist zum Beispiel unsinnig, ein Kreuzwort einzugeben, das aus mehreren Teilen besteht, wie etwa »Level II Basic«, oder eine Mischung aus Zahlen und Buchstaben, wie »C 64«.

So können Sie sich also im Laufe der Zeit eine ganze Bibliothek von Wortschätzen aufbauen, die beliebig während der Rätselerzeugung einzusetzen sind.

Eine Besonderheit ist die Verkettung von Dateien. Sie können Nachfolgedateien benennen, die im Rätselprogramm automatisch nachgeladen werden, sobald der Vorgängerwortschatz erschöpft ist. Beispiel: Sie wollen ein Rätsel zum Thema »Computer« basteln. Geben Sie jetzt mit Hilfe des Lexikon-Editors den ersten Teil des geplanten Wortschatzes ein und benennen ihn mit »Computer.1«. Der Folgewortschatz soll »Computer.2« sein. Nachdem Sie den 1. Teil abgespeichert haben, geben Sie den 2. Teil ein und benennen den Nachfolger mit »Computer.3« und so weiter. Wollen Sie diese Kette beenden, wird einfach ein »q« (Quit) für den Nachfolger angegeben. Das Rätselprogramm bricht dann später an dieser Stelle mit dem automatischen Nachladen ab.

Bei dieser Methode hängt die Qualität des Rätsels entscheidend von der Staffelung der Dateien ab, das heißt im ersten File sollten lange Wörter stehen und mit jedem Folgefile die durchschnittliche Wortlänge abnehmen. Die Erstellung des Rätsels gerät dadurch wesentlich flüssiger, denn mit zunehmender Dichte des Wortfeldes müssen die Wörter natürlich immer kürzer werden, damit sie noch einzubauen sind, c) Wortdatei ändern. Mit Sicherheit tauchen irgendwann falsch eingegebene Kreuzwörter auf, so daß eine Datei verbessert werden muß. Unter diesem Programmpunkt kann daher die entsprechende Wortdatei geladen und editiert werden, d) Abbrechen. Mit Verlassen des Editors kann das Rätselprogramm geladen und gestartet werden, so daß ein fließender Übergang von der Worteingabe zur Rätselerstellung möglich ist.

Nun zum Kreuzworträtselprogramm. Wie schon gesagt, besteht dieses Programm aus zwei Teilen, einer Maschinenroutine und dem Basic-Rahmenprogramm. Dieses Rahmenprogramm (Listing 1) will ich zuerst beschreiben.

Nach dem Start beginnt zunächst eine Initialisierungsphase (Zeilen 27—39). In einem Unterprogramm (ab Zeile 970) werden die Maschinenroutine für das Kreuzworträtsel und Treibersoftware für den Drucker am User-Port geladen. Wenn Sie einen Drucker am IEC-Bus betreiben, ist dieser Programmteil (Zeilen 976+979) natürlich nicht nötig und zu entfernen.

Im folgenden Unterprogramm zur Dimensionierung der Variablen und Definition einiger Konstanten (Zeilen 915—969) erfolgt der erste Sprung in die Maschinenroutine (Zeile 937), um sie zu initialisieren.

Nach dem Bildaufbau (Unterprogramm ab Zeile 600), ist auf dem Monitor ein Kreuzwortfeld von 20x20 Zeichen zu sehen. Das Programm fragt jetzt nach dem Startwort, das als erstes Wort im Feld eingetragen werden muß, um der Maschinenroutine einen Kristallisationspunkt zu bieten (Zeilen 34-35). Geben Sie ein möglichst langes Wort ein, das Sie zum Beispiel unbedingt im Rätsel verarbeiten möchten. Bei dieser Eingabe findet, wie schon beim Editor, ein Zeichencheck statt, der es unmöglich machen soll, unerlaubte Zeichen im Rätselfeld unterzubringen. Danach müssen Sie sich zwischen einer waagerechten oder senkrechten Eintragung entscheiden, und ein Cursor taucht im Wortfeld auf. Fahren Sie wie gewohnt mit den Cursortasten die gewünschte Wortposition an und drücken die RETURN-Taste. Da es das erste Wort ist und genügend Platz im Wortfeld herrscht, wird Ihr Wort ohne Protest sofort eingetragen. Jetzt noch schnell die zugehörige Fragestellung eingetippt, und das erste Wort ist korrekt eingetragen.

Sie können dieses Spiel beliebig fortsetzen und theoretisch das ganze Rätsel auf diese Weise per Hand erstellen. Alle Eingaben von Hand sind frei von dem Zwang, ein Wort mit einem anderen kreuzen zu müssen. Sie können Ihre Wörter also beliebig positionieren, sollte ein Wort allerdings nicht passen, wird es zurückgewiesen und der Handeingabe-Modus abgebrochen.

Regulär verlassen Sie die Handeingabe, indem Sie anstelle eines neuen Wortes ein »q« eintippen. Später können Sie die automatische Rätselerzeugung jederzeit unterbrechen und mit F7 wieder in den Handmodus zurückkehren.

Im Wortfeld stehen nun ein oder mehrere Wörter, die als Startpunkte für andere Wörter dienen. Senkrechte Eintragungen sind weiß und waagerechte gelb gefärbt.

Bleibt nur die Angabe, welcher auf Diskette gespeicherte Wortschatz als erstes geladen werden soll (Zeile 37). Dabei können Sie sich mit »$« auch das Inhaltsverzeichnis der Diskette ansehen, für den Fall, daß Ihnen der Name eines Wortschatzes entfallen ist.

Nach erfolgreichem Laden des ersten Wortschatzes beginnt nun die automatische Rätselerzeugung (Hauptschleife Zeile 40-99). Zunächst überraschend schnell füllt sich das Wortfeld mit zufällig plazierten und gekreuzten Wörtern. Dieser Vorgang wird von der Maschinenroutine gesteuert. Auf die genaue Arbeitsweise dieses Programmteiles gehe ich noch gesondert ein. Links oben auf dem Bildschirm erscheint die Anzahl der Wörter, die bereits eingetragen sind (maximal 255 sind möglich) und daneben die momentane prozentuale Größe des noch zur Verfügung stehenden Wortschatzes im Speicher.

Bei jeder Eintragung wird die Liste der Kreuzwörter gekürzt und das benutzte Wort aus der Liste gestrichen. Dies geschieht durch Vertauschen der Stringvektoren des zu streichenden Wortes und des letzten Wortes im Array (Zeile 300—399). Diese Methode wurde gewählt, um die Bildung von neuen Strings im Speicher zu vermeiden und der schrecklich langsamen Garbage-Collection aus dem Wege zu gehen.

Während der Rätselerzeugung können Sie sich in Ruhe überlegen, ob Sie ein automatisches Nachladen von Wortschätzen gestatten wollen oder nicht. In der rechten Bildhälfte ist inzwischen die Belegung der Funktionstasten zu sehen, und mit der F6-Taste schalten Sie die Autolader-Option ein oder aus. Erscheint »Aus« im F6-Tastenfeld, ist das Nachladen gesperrt.

Die Maschinenroutine sucht derweil ständig nach passenden Stellen im Wortfeld. Dieser Vorgang kann im Prinzip endlos sein, da irgendwann natürlich kein geeignetes Wort mehr zu finden ist. Aus diesem Grund hat das Programm eine »Geduld-Schwelle«, eine Anzahl von Suchversuchen, innerhalb derer ein passendes Wort gefunden werden muß. Ist die Versuchszahl ohne Erfolg abgelaufen, geht das Programm davon aus, daß der Wortschatz nicht mehr ausreicht. Diese »Geduld-Schwelle« können Sie in Zeile 964 selbst bestimmen.

Bevor allerdings in der obersten Bildzeile die Meldung »Wortschatz ungenügend« erscheint (Zeile 64/Unterprogramm 110-158), hebt das Programm noch die »Blausperre« auf (Zeile 66). Dieses Flag hat dem Maschinenprogramm bisher mitgeteilt, daß nur dann eine Eintragung erlaubt ist, wenn dabei auch ein blaues, unbesetztes Feld abgedeckt wird. Eine Maßnahme, um das Rätsel möglichst dicht zu packen. Ab sofort ist also auch das Einpassen eines Wortes nur auf besetzten Feldern möglich. Läßt sich auch jetzt kein Wort mehr finden, erscheint endgültig der Hinweis auf mangelnde Wortauswahl. Wenn Sie das »Autoladen« zugelassen haben, wird nun der Folgewortschatz, falls vorhanden, gelesen und das Spiel beginnt von neuem. Selbstverständlich ist auch das Laden von Wortdateien vor Ablauf der »Geduld-Schwelle« machbar. Dazu dient die F1-Taste. Aber Vorsicht, auf die Gefahr, daß Sie einen bereits verbrauchten Wortschatz noch mal laden, müssen Sie schon selbst achten.

Es dauert gar nicht so lange, dann ist das Wortfeld so dicht gepackt, daß der Maschinenroutine keine Eintragung mehr gelingt. Jetzt sind Sie gefordert, und mit der F7-Taste wählen Sie die Handeingabe an. Genau wie bei der Eintragung der ersten Startwörter können Sie Ihre »Lückenfüller« positionieren und die Fragestellung dazu eingeben.

Zufrieden mit Ihrer Arbeit (hoffentlich!) bleibt nur noch der Ausdruck des Rätsels. Mit F4 wird er gestartet. Das Unterprogramm für die Druckausgabe nimmt im Programm den weitaus größten Platz ein (Zeile 740-914). Es ist für einen Epson RX-80 ausgelegt, der mit Hilfe spezieller Treibersoftware auch CBM-Sonderzeichen druckt. Dazu muß eine unübliche Geräteadresse (6) angegeben werden (Zeile 761 und 900). Sollten Sie also einen CBM-grafikfähigen Drucker am IEC-Bus betreiben, tauschen Sie diese Adresse gegen die gewohnte »4« (im Listing schon geändert).

Auch die Druckerinitialisierung ist von Drucker zu Drucker verschieden (Zeilen 754—758). Achten Sie darauf, daß Ihr Drucker hier folgende Einstellung erhält:

- Zeilenabstand = 0
- CBM-Grafikmodus
- Startposition des Druckkopfes = lr (Linker Rand, kann in Zeile 946 geändert werden).

Für den Ausdruck der Fragestellung wird der RX-80 im Engschriftmodus versetzt, um Platz zu sparen (Zeile 824—827). Auf diesen Effekt können Sie natürlich verzichten, müssen dann aber die Zeilenlänge (cz, in Zeile 948) ändern, da der Ausdruck vom Programm mit Randausgleich versehen wird (Zeile 847 — 889).

Nun wie versprochen zum Maschinenprogramm, kurz genannt »Such—obj« (Listing 3). Diese Routine liegt im Bereich $C000/49152, wo sie gut gegen Überschreiben durch Basic geschützt ist. Der Einsprung erfolgt über den USR-Vektor (definiert in Zeile 931 bis 932), das heißt es findet eine Parameterübergabe zwischen Basic und Maschinenroutine statt. Basic übergibt in »dl« die Anzahl der Versuche, die die Routine durchlaufen sollen (Zeile 44). Mit der Rückkehr aus der Routine wird der Variablen »u« ein Wert zwischen 1 und 4 zugewiesen. Aus dem Wert von »u« kann also auf die Ursache für den Abbruch der Routine geschlossen werden:

- u = 1; eine Taste ist betätigt worden.
- u = 2; die Suche nach einem passenden Kreuzwort war vergeblich.
- u = 3; ein Wort wurde gefunden und in das Wortfeld eingetragen.
- u = 4; die maximale Anzahl (255) von eingetragenen Kreuzwörtern ist erreicht; keine weitere Eintragung möglich. Das Rahmenprogramm kann jetzt entsprechend reagieren und zum Beispiel im Falle u = 3 das benutzte Wort aus der Wortliste streichen. Im Falle einer Eintragung (von Hand oder automatisch) wird das Wort nicht nur in den Bildspeicher eingesetzt, es werden noch weitere Informationen abgelegt:
a) Eintragung im »Wortbeginn/-ende«-Speicher (50176 bis 50575); hier wird vermerkt, ob ein Rätselfeld den Start- oder Endpunkt eines Kreuzwortes repräsentiert. Der Speicher ist, wie die folgenden auch, in 20 Zeilen mit je 20 Positionen (Speicherstellen) aufgeteilt. Das linke Halbbyte (4 Bits) einer Speicherstelle trägt die Informationen über senkrechte, das rechte Halbbyte über waagerechte Start-/Endpositionen. Das 1. Bit im Halbbyte wird für Endpunkte gesetzt, das 3. Bit für Startpunkte.
Diese Informationen werden später bei der Ausgabe des Rätsels auf dem Drucker benötigt, um an den richtigen Stellen die Nummer der zugehörigen Fragestellung eintragen zu können, b) Eintragungen im »Senkrecht«-Speicher (50576 bis 50975); in dieser Speichermatrix werden die Ordnungsnummern der Fragestellungen für senkrechte Rätselwörter abgelegt. Bei der Druckausgabe wird diese Matrix abgefragt (Zeile 773 bis 777), um die Nummer der Fragestellung im entsprechenden Startfeld einzusetzen.
c) Eintragung im »Waagerecht«-Speicher (50976 bis 51375), wie unter b) Zeile 796 bis 800).

Um die Speicherinhalte vor dem Start des Rätselprogramms zu löschen, springt man die Routine mit »sys 50016« an (Zeile 937).

Nun zur Arbeitsweise der Routine während der automatischen Rätselerzeugung. Zunächst muß das Maschinenprogramm erst einmal wissen, ob es wegen einer Handeintragung angesprungen wurde oder zur automatischen Wortsuche. Dazu liest die Routine die Speicherstelle 26 aus. Ist das Ergebnis Null, wird in den Automodus verzweigt. Andernfalls wird in 26 die Länge des von Hand eingetragenen Wortes übergeben (siehe Zeile 662 bis 663). Die Routine braucht dann nur den Paß des Wortes zu überprüfen und bei korrekter Eintragung ins Basic zurückzukehren. Paßt das Wort allerdings nicht, verfällt die Routine in den Automodus. Das Maschinenprogramm durchläuft im Automodus eine Schleife, die zunächst durch Auslesen des Rauschgenerators im Soundchip ein Wort aus dem Wortschatz per Zufall bestimmt. Dann erfolgt auf die gleiche Weise die Auswahl eines Startpunktes im Bildspeicher. Ist dieser Punkt nicht geeignet für eine Eintragung, wird Zeile für Zeile des Wortfeldes nach einer Alternative gesucht. Im Falle eines Treffers startet der Wortvergleich. Das gewählte Wort wird mit dem Inhalt des Bildspeichers auf Übereinstimmung geprüft. Paßt es nicht, kommt das nächste Wort aus dem Wortschatz-Array an die Reihe. Bei Erfolg kehrt »Such« ins Basic zurück, wenn nicht, beginnt die Schleife von neuem.

Damit der Zugriff auf das Array klappt, muß es nur als erstes im Basic-Programm definiert worden sein (Zeile 925). »Primitiv« werden Sie vielleicht anmerken. Richtig, aber Computer sind nun mal (sehr) schnelle Idioten.

(Gert Büttgenbach/og)

# »Happysynth«, der Traum eines jeden Musikers \[48-56\]

> Daß der Commodore 64 hervorragende Musikqualitäten besitzt, ist längst kein Geheimnis mehr. Schließen Sie ihn an Ihre Stereoanlage an, und tippen Sie unseren Supersynthesizer ein. Sie werden Ihren Ohren nicht trauen.

Zu Anfang wollen wir einige Tips zur Hardware geben. Um den C 64 professionell in einer Band einzusetzen, wird die schlechte Qualität des Fernsehlautsprechers kaum ausreichen. Vorteilhafter ist es, den C 64 mit einem Verstärker zu betreiben. Das Tonsignal kann an der Audio/Video-Buchse des Commodore abgegriffen werden. Um nun den Computer an einen Verstärker anzuschließen, verbindet man einfach Pin 3 der Audio/Video-Buchse über ein abgeschirmtes Kabel mit dem Eingang des Verstärkers. Weniger bastelgeübten Lesern ist ein handelsübliches, fünfpoliges Stereo-Überspielkabel zu empfehlen. Wer seinen C 64 mit einem Monitor betreibt, muß sich einen Zwischenstecker für die Audio/Video-Buchse basteln. Sie werden erstaunt sein, wie gut sich Ihr Commodore an einer guten Verstärkeranlage anhört.

Ebenso läßt sich an der Audio/Video-Buchse ein Tonsignal einspeisen (Pin 5). Dieses wird durch Setzen von Bit 3 im Register 23 über den Filter geleitet. Dadurch kann der SID-Chip auch als Effektgerät eingesetzt werden. So lassen sich Phasing-ähnliche Effekte erzielen, indem im SID ein Notchfilter (Hochpaß und Tiefpaß) realisiert wird, dessen Grenzfrequenz moduliert wird. Eine Modulation läßt sich mit Stimme 3 sehr einfach erreichen. Man bedient sich des Leseregisters, welches nur für diesen Oszillator existiert.

Als maximale Spannung kann der C 64 volle 3 V<sub>SS</sub> verarbeiten. Wer also ein Mikrofon am C 64 betreiben möchte, muß das Signal mittels eines Vorverstärkers dem Computer anpassen. Auch hier ist unbedingt ein abgeschirmtes Kabel zu verwenden. Die Anschlußbelegung der Audio/Video-Buchse können Sie Ihrem Handbuch (Seite 142) entnehmen.

»Happysynth« (Listing 1) lädt nach dem Start erst zwei Maschinenprogramme, sowie die Daten für Sprites nach (Listing 2, 3 und 4). Die Maschinenprogramme beinhalten die Joystickabfrage, den Modulationsteil und die als Interrupt eingebundene Tastaturabfrage. Das heißt, es kann jederzeit, auch während der Parameteränderung, auf der Tastatur gespielt werden, da die Soundeinstellung ausschließlich mit dem Joystick gemacht wird. Drückt man nun den Feuerknopf, kann es losgehen.

Man befindet sich dann auf der ersten von drei Bildschirmseiten. Die am Bildschirm sichtbare Hand läßt sich mit Hilfe des Joysticks in jede Richtung bewegen. Durch erneutes Drücken des Feuerknopfes kann der jeweilige Parameter eingestellt, beziehungsweise verändert werden. Soll beispielsweise bei Oszillator 1 eine Sägezahnwelle eingeschaltet werden, so muß man lediglich die Hand auf das Sägezahn-Symbol steuern und den Knopf am Joystick drücken. Sogleich wird das Symbol grün, weil damit der Oszillator auf diese Wellenform umgestellt wurde. Drückt man an gleicher Stelle den Knopf ein weiteres Mal, leuchtet das Symbol wieder rot als Zeichen dafür, daß der Oszillator keinen Sägezahn-Ton mehr erzeugt. Diese Farben wurden im gesamten »Happysynth« beibehalten: Grün bedeutet immer, daß irgendeine Funktion oder ein Parameter eingeschaltet ist, rot signalisiert, daß die Funktion, beziehungsweise der Parameter ausgeschaltet ist. Bei Parametern, die sich nicht nur ein- und ausschalten lassen, sondern stufenlos reguliert werden, bedient man sich ebenfalls des Joysticks. Will man zum Beispiel die Pulsbreite einer Stimme verändern, so bewegt man die Hand zu der entsprechenden Stelle am Bildschirm und drückt den Feuerknopf.

Nun steht im Feld »Joystick-Informationen« in welcher Abstufung sich die angewählten Parameter verändern lassen. Im Falle der Pulsbreite sind es ±4 Prozent in Y-Richtung, was einer Grobeinstellung entspricht, sowie ±1 Prozent in X-Richtung, um die Pulsweite fein einzustellen. Bei der Einstellung der Filtergrenzfrequenz wird nur zwischen Grob- (Symbol auf dem Bildschirm: + ++) und Feineinstellung (Symbol: +) unterschieden, da hier Zahlen wenig sinnvoll sind. Hat man in der ersten Bildschirmseite alle gewünschten Funktionen eingestellt, kann man auf der zweiten Bildschirmseite mit der Einstellung des »Synthesizers« fortfahren. Die zweite Seite wird über das Feld »Hüllkurve-Modulation« angewählt. Also: Die Hand auf das Feld steuern und Knopf drücken. Nun befinden Sie sich auf der zweiten Seite. Hier läßt sich die Hüllkurve für jede Stimme getrennt eingeben. Da bei Attack, Decay und Release die Abstufung logarithmisch in Millisekunden erfolgt, erscheint auch bei diesen Parametern im Joystick-Feld keine Zahlenangabe.

## ADSR und Modulationen

Neben den ADSRs werden auf dieser Seite die Modulationen eingestellt. Jeder der drei Oszillatoren läßt sich in der Frequenz und in der Pulsweite modulieren. Hierfür stehen ein eigener, langsam schwingender Oszillator (LFO = Low Frequency Oscillator) oder die dritte Stimme zur Verfügung. Die Wellenformen des LFOs werden wieder mit der auf dem Bildschirm dargestellten Hand umgeschaltet. Die Intensität der Modulation ist für jeden Oszillator getrennt einstellbar. Wird anstatt des LFO Stimme 3 für Modulationszwecke herangezogen, so wird mit der aktuellen Wellenform von DCO 3 moduliert. Wurde beispielsweise auf Seite 1 für DCO 3 Rauschen eingeschaltet, so werden alle angewählten Parameter durch Zufallswerte beeinflußt. Einen weiteren interessanten Effekt bietet die Beeinflussung des Filters mit Hilfe des ADSR (»Envelope Follow«), Wird bei dieser Funktion die Intensität mit Hilfe des Steuerknüppels größer Null gesetzt, so folgt die Grenzfrequenz des Filters dem Hüllkurvenverlauf von ADSR 3. Je größer der bei »Envelope Follow« eingegebene Wert ist, um so stärker folgen die Werte des Filters dem Hüllkurvenverlauf. Um im Modulationsteil gute Ergebnisse zu erzielen, benötigt man etwas Übung und Fingerspitzengefühl. Hat man einen Sound gemixt, so will man ihn natürlich auch speichern, um ihn zu einem späteren Zeitpunkt wieder verwenden zu können. Die Routinen dazu werden auf Seite 3 aufgerufen. Sie wird über das Feld »Tastatur-Disk-Menü« angesteuert. Auf dieser Seite sind alle Aufrufe für die wichtigen Diskettenfunktionen untergebracht. Sie werden wie üblich ausgewählt.

Sie bewegen die Hand in diesem Fall also auf das Feld »Sound speichern«. Sogleich verschwindet die Tastatur im unteren Bildschirmbereich, um für die Eingabe des Soundnamens Platz zu machen. Hier wird zum ersten Mal die Tastatur nicht zum Spielen, sondern zur Eingabe des Soundnamens verwendet. Die Länge des Namens ist auf zwölf Zeichen beschränkt— längere Namen werden nicht angenommen. Durch Drücken der »INST-DEL«-Taste wird der Name gelöscht um ihn neu einzugeben. Nach Drücken der »RETURN«-Taste werden die Klangparameter abgespeichert. Es können auf einer Diskette maximal Daten für 33 Sounds gespeichert werden — was darüber hinausgeht wird beim Laden einfach ignoriert! Listing 5 enthält sechs Demo-Sounds. Nach dem Starten mit »RUN« werden die Sounds in einer vom Hauptprogramm lesbaren Form auf Diskette gespeichert. Die Leserservice-Diskette enthält neben diesen noch acht weitere Sounds zu Versuchszwecken. Wollen Sie einen Ihrer Klänge wieder hören, so steuern Sie die Hand auf das Feld »Sound laden« und drücken den Feuerknopf. Nun wird eine Liste aller auf der Diskette vorhandener Dateien angezeigt. Mit Hilfe des Joysticks wählen Sie den gewünschten Klang aus und drücken wieder den Feuerknopf — schon werden die Parameter geladen! Falls Sie die Funktion »Sound laden« ein weiteres Mal anwählen, wird die Soundliste sofort angezeigt, vorausgesetzt Sie haben die Diskette nicht gewechselt.

(Bernhard Carli/Christian Spitzner/tr)

# HI-EDDI: ein fantastisches Zeichen- und Malprogramm \[58-66\]

> HI-EDDI ist ein High-Resolution-Grafik-Editor, der vieles bietet, was man bei teuren, kommerziellen Programmen vergeblich sucht. Sehen Sie sich die Bilder an und Sie bekommen einen Eindruck von seinen Fähigkeiten.

Hier eine Aufstellung der herausragenden Eigenschaften:
- Wahlweise als »Schwarzweiß«-Zeichenprogramm oder als farbiges Malprogramm verwendbar, in jedem Fall mit der vollen Auflösung von 320 x 200 Bildpunkten.
- 7 (in Worten: sieben) Schwarzweiß-Bildschirme oder 6 farbige stehen zur Verfügung.
- Integrierter, leistungsfähiger Sprite-Editor (mit Sprite spiegeln, drehen...) und die Fähigkeit, Sprites aus dem Grafikbild herauszukopieren oder einzupflanzen. Damit ist zum Beispiel Ausschnittvergrößerung (Zoom) ebenso wie das Erstellen von »Construction Sets« möglich.
- Mit einer Zeichentrickfilm-Funktion sind fast flimmerfreie Bewegungsabläufe mit bis zu 24 Bildern pro Sekunde möglich. ■ Befehlseingabe wahlweise über Tastatur oder eine selbst zu gestaltende Menütafel (ä la Koalapainter).
- Zusammenhängender Ausdruck mehrerer Bilder möglich, das ergibt Superbilder mit einer Breite von minimal 640 Punkten und unbegrenzter Länge (Bild 2).
- Ferner sind alle »Standardbefehle« wie Draw, Line, Rectangle, Circle, Paint, Move und Text vorhanden.

Natürlich ist klar, daß sowas nur in Maschinensprache geht, und die ist mit rund 4 700 DATAs nicht gerade kurz. Gemessen an den Möglichkeiten des Programms ist es allerdings auch nicht viel. Die Bilder auf diesen Seiten lassen die Vielfältigkeit von HI-EDDI nur ahnen. Dabei lassen sich nicht nur mit HI-EDDI erzeugte Bilder laden und bearbeiten, sondern auch Grafikbilder anderer Programme, wie von Koala oder Paint Magic, zum Beispiel die der Dia-Show.

Nach dem Start meldet sich HI-EDDI mit der Frage »Betriebsart«. Wird hier 0 eingegeben (oder einfach RETURN), wird HI-EDDI als »Schwarzweiß«-Programm betrieben, bei 128 dagegen als farbiges Malprogramm. Weitere mögliche Eingaben werden später behandelt, ebenso die Befehlseingabe mittels Menütafel. Zunächst werden alle Befehle, die im folgenden zusammengestellt sind, durch Tastendruck eingegeben. 

### D Draw — »Freihändig« zeichnen

Im Draw-Modus kann mit dem kreuzförmigen Cursor (der wird mit einem Joystick in Port 2 gesteuert) »freihändig« gezeichnet werden. Bei gedrücktem Feuerknopf werden die überfahrenen Punkte gesetzt. Um Punkte zu löschen, muß zusätzlich die SHIFT-Taste (oder SHIFT-LOCK zum Feststellen) gedrückt werden.

### L Line — Linien ziehen

Mit dem ersten Knopfdruck am Joystick wird der Anfangspunkt einer Linie festgelegt, mit dem zweiten der Endpunkt, mit dem dritten wieder ein Anfangspunkt etc.. Der jeweilige Anfangspunkt wird auf F7 gespeichert (siehe Funktionstasten), damit lassen sich Strahlen besonders einfach zeichnen. SHIFT wie bei D.

### R Rectangle — Rechtecke zeichnen

Wie L — auch bezüglich SHIFT und F7 —, jedoch wird zwischen den zwei markierten Punkten ein Rechteck gezeichnet.

### C Circle — Kreise zeichnen

Der erste Knopfdruck ergibt den Mittelpunkt (auf F7 gespeichert, damit ist einfaches Zeichnen konzentrischer Kreise möglich), der zweite einen beliebigen Randpunkt, von dem aus HI-EDDI im Uhrzeigersinn einen Kreis zieht. Wird beim Anstoßen an den Rand abgebrochen.

Möchte man einen Ausschnitt eines Kreises, der nicht ganz auf den Bildschirm paßt, zeichnen, so muß der zweite Knopfdruck einen Punkt am Bildschirmrand markieren, von dem aus der sichtbare Kreisausschnitt im Uhrzeigersinn gezeichnet werden kann. Allerdings darf der Radius maximal 256 Punkte betragen.

### P Paint — Ausmalen begrenzter Flächen

Cursor mitten auf die auszumalende Fläche setzen und Knopf drücken. Sollte durch ein Loch in der Umrandung der ganze Bildschirm vollzulaufen drohen, so kann der Vorgang durch nochmaligen Knopfdruck abgebrochen werden (dazu ist allerdings eine gute Reaktion nötig, denn HI-EDDI füllt Flächen um einiges schneller als Simons Basic). Zum Löschen von Flächen: Bildschirm mit »I« invertieren, entstandenes »Loch« vollaufen lassen, zurückinvertieren.

### M Move — Verschieben von Bildschirmbereichen

Mit den ersten beiden Knopfdrücken werden zwei diagonale Ecken des zu transportierenden Bereiches gesetzt (nach dem zweiten Knopfdruck erscheint eine farbliche Markierung dieses Bereiches), der dritte Knopfdruck gibt die linke, obere Ecke des Zielbereiches an. Der Zielbereich muß noch ganz auf den Bildschirm passen (sonst wird der Knopfdruck nicht akzeptiert), er darf jedoch den Quellbereich überlappen oder in einem anderen Bildschirm liegen. Die Auflösung des Move-Befehls entspricht der des normalen Textbildschirmes, es kann also nur im 40 x 25-Raster verschoben werden.

Soll ein Bereich mehrmals kopiert werden, so muß er nicht jedesmal neu markiert werden: Ein Druck auf die Pfeil-nach-oben-Taste holt die letzte Markierung wieder auf den Bildschirm, es kann danach sofort der Zielbereich bestimmt werden (funktioniert nur, solange zwischenzeitlich kein Moduswechsel erfolgte).

Hat man sich beim Markieren vertan, so löscht ein Druck auf die Pfeil-nach-links-Taste die Markierung wieder (gilt auch für L, R, C).

### T Text — Buchstaben und Grafiksymbole einfügen

Es erscheint ein 8 x 8-Pixel großer Rahmen, der sich fast so benimmt, wie der Blinkcursor im Textbildschirm: Drucken von Buchstaben und Grafikzeichen, Cursorsteuerung mittels Cursortasten, Löschen mittels DEL (rückwärts) und INST (vorwärts, um für Text Platz zu schaffen), Reverse on/off und Umschaltung der beiden Zeichensätze mit C = SHIFT (es können alle 512 Zeichen der beiden Zeichensätze gleichzeitig dargestellt werden!).

Daneben bleibt die Cursorsteuerung mittels Joystick erhalten, ebenso alle anderen Befehle, die jedoch nur durch gleichzeitiges Drücken der CTRL-Taste eingegeben werden können. Durch Anwahl eines anderen Modus, zum Beispiel CTRL D für Draw, wird der Textmodus verlassen und es ist wieder »Ein-Hand-Eingabe« der Befehle möglich.

### G Get Sprite — Sprite aus Bildschirm kopieren

In diesem und den folgenden drei Modi erscheint ein spritegroßer Rahmen als Cursor. Auf Knopfdruck wird der Bildschirmausschnitt, auf dem der Rahmen sitzt, in das Sprite hineinkopiert, anschließend geht HI-EDDI automatisch in den Append-Modus, das Sprite kann an anderer Stelle wieder eingepflanzt oder im Sprite-Editor bearbeitet werden.

### A Append — Sprite in Bildschirm einfügen

Auf Knopfdruck wird der Spriteinhalt in den Bildschirm eingefügt, ohne jedoch den Bildschirmausschnitt vorher zu löschen (Oder-Verknüpfung). Bei gleichzeitiger Bewegung wird das Sprite zum »programmierbaren Pinsel«.

### S Stamp — Sprite auf Bildschirm kleben

Wie A, jedoch wird vor dem Einfügen der Untergrund gelöscht, das Sprite wird wie eine Briefmarke auf den Bildschirm geklebt.

### E Erase — Löschen

Der Rahmen wird zum Radiergummi, der alles löscht, was er überfährt.

### F Foreground-Colourmode — Vordergrund einfärben<br>B Background-Colourmode — Hintergrund einfärben

Diese beiden Modus-Befehle sind nur wirksam, wenn HI-EDDI als farbiges Malprogramm betrieben wird. Doch dazu ist vorweg einiges zum Konzept zu sagen:

Im Gegensatz zu den meisten käuflichen Programmen, die im Multicolour-Modus arbeiten (mehrere Farben, aber nur halbe Auflösung), ist HI-EDDI konsequent als Zeichenprogramm mit maximaler Auflösung konzipiert. Die Farbfähigkeiten sind nur ein »Nebenprodukt« und deshalb nicht so ausgeprägt: Pro 8 x 8-Punkte-Feld (entsprechend einer Position im Textbildschirm) stehen nur zwei Farben — je eine für Vorder- und Hintergrund — zur Verfügung. Bei insgesamt 1 000 Feldern und 16 Farben kann das allerdings auch recht bunt werden. Außerdem ist es durch die Trennung von Zeichnen und Einfärben möglich, bestehende »Schwarzweiß-Bilder« leicht nachträglich zu colorieren.

Nun zu den Befehlen F und B: Sie schalten einerseits die Rahmenfarbe (und die Farbe des Sprite-Inhalts bei A und S) weiter, andererseits wählen sie den Fore- beziehungsweise Back-Mode an, in dem auf Knopfdruck die gesetzten Pixel (=Vordergrund) beziehungsweise gelöschten Pixel (= Hintergrund) des 8 x 8-Feldes, auf dem sich der Cursor befindet, mit der Rahmenfarbe eingefärbt werden. Beispiel: Um den Vordergrund gelb anzumalen, muß die Taste F so oft gedrückt werden, bis der Rahmen gelb ist. Dann kann mit dem Cursor gepinselt werden.

Hat man ein Feld zuviel angepinselt, so kann durch gleichzeitiges Drücken der SHIFTTaste (wie bei D, L, R, C) die gerade gemalte Farbe gelöscht werden. Genauer gesagt: Es erscheint wieder die Farbe, die beim letzten Bildschirmwechsel dort war. Als Bildschirmwechsel gelten:

1. Bildschirmspeicherwechsel (1 bis 7)
2. Ausschalten des High-Resolution-Bildschirmes (Sprite-Editor, Befehle H, V, SHIFT W, Disk- und Druckerbefehle).
3. Move-Befehl, auch wenn nur innerhalb eines Bildes »gemo-vet« wurde.

Die Pfeil-nach-links-Taste (Korrekturtaste) hat die gleiche Wirkung wie SHIFT + Knopfdruck, jedoch für den ganzen Bildschirm: Es werden alle Farbveränderungen seit dem letzten Bildschirmwechsel rückgängig gemacht.

## Direkte Befehle

Alle bisher beschriebenen Befehle haben eins gemeinsam: Sie dienen zur Anwahl eines Modus, sie haben also eine »Nachwirkung«, vor allem, was die Funktion des Feuerknopfes anbelangt. Die nun folgenden Befehle ändern den gerade eingestellten Modus nicht, sie haben nur eine unmittelbare Wirkung.

### 1 bis 7 beziehungsweise 1 bis 6: Bildschirmspeicher-Anwahl

HI-EDDI hat im Schwarzweiß-Betrieb sieben und im Farbbetrieb sechs Bildschirmspeicher, die durch Eingabe ihrer Nummer auf den Bildschirm geholt werden.

Wozu so viele? Beispiele: Abspeichern von verschiedenen Zwischenstadien der bearbeiteten Werke, bei denen man wieder ansetzen kann, wenn man was vermurkst hat. Oder Erstellen von »Construction Sets«: Aus einer Anzahl zum Beispiel von Schaltsymbolen kann man mittels der Sprite-Befehle im Nu Schaltpläne aufbauen. Für die Befehle **Print** und **Walk** sind sieben Speicher eigentlich zu wenig, aber im C 64 haben eben nicht mehr Platz!

### I Invertieren

Die Pixel des Bildschirmes werden invertiert. In Zusammenhang mit den Befehlen Und, Or, Exor, Append, Stamp, Get, Erase, Paint und Print ergibt das eine Vielzahl von Möglichkeiten.

### Un Und-Verknüpfung

Der aktuelle (= sichtbare) Bildschirm und der Bildschirm Nummer n werden Und-verknüpft, das Ergebnis im aktuellen Bildschirm abgelegt.

### On Oder-Verknüpfung

Wie U, jedoch Oder-Verknüpfung. Eignet sich zum Beispiel zum Duplizieren von Bildern. Da die Befehle I, U, 0, X keinen Einfluß auf die Farbinformation eines Bildes haben, wird sie bei Farb-Betrieb nicht dupliziert. Soll dies geschehen, so muß mit dem Move-Befehl dupliziert werden.

### Xn Exor-(Exclusiv-Oder-)Verknüpfung

Zweimalige Exor-Verknüpfung mit demselben Bild bewirkt, daß dieses wieder aus dem sichtbaren Bild »herausgefieselt« wird.

### F, B (Fore, Back) — Rahmenfarbe weiterschalten<br>SHIFT F Total Foreground — Vordergrund-Farbe<br>SHIFT B Total Background — Hintergrund-Farbe

Die Befehle F und B wurden bereits bei den Modusbefehlen behandelt. Im Schwarzweiß-Betrieb schalten diese Befehle nur die Rahmenfarbe weiter, den aktuellen Modus verändern sie nicht.

SHIFT F und SHIFT B sind dagegen in beiden Betriebsarten (farbig und schwarzweiß) gleich: Sie färben den gesamten Vorder- oder Hintergrund mit der aktuellen Rahmenfarbe ein. Sollte man auf diese Art im Farb-Betrieb versehentlich eine mühsam erstellte Colorierung löschen: Pfeil-nach-links-Taste drücken, und sie ist wieder da.

### SHIFT CLR Bildschirm löschen

Die Farbinformation wird nicht gelöscht und kann somit isoliert werden.

###+ Schnelle Cursorgeschwindigkeit (beschleunigend)<br>- Langsame Cursorgeschwindigkeit

HI-EDDI besitzt einen beschleunigenden Cursor: Er ist langsam genug, um durch Antippen des Joysticks pixelweise zu rangieren, bei größeren Entfernungen wird er jedoch — ohne lästiges Umschalten — schneller. Da jedoch die Beschleunigung manchmal unerwünscht ist, läßt sie sich durch Drücken der Minus-Taste abschalten.

### F1 bis F8: Tabulatoren

Die vier Funktionstasten dienen als Speicher für vier Cursorpositionen: Durch gleichzeitiges Drücken der SHIFTTaste und einer Funktionstaste wird die momentane Cursorposition gespeichert, durch Drücken einer Funktionstaste allein springt der Cursor wieder genau an die gespeicherte Stelle. F7 wird von den Befehlen L, R und C automatisch belegt.

### H — Horizontale Schrittweite<br>V — Vertikale Schrittweite<br>F1 bis F8: Schrittweiten speichern

Noch eine Speicherfunktion haben die Funktionstasten: Normalerweise bewegt sich der Cursor in 1-Pixel-Schritten bei der Joysticksteuerung, beziehungsweise in 8-Pixel-Schritten bei Steuerung mittels Cursortasten. Diese Schrittweiten sind jedoch — getrennt für horizontale und vertikale Bewegung — frei programmierbar, vier Schrittweitenpaare können auf den Funktionstasten gespeichert werden. Das Anwählen einer Schrittweite erfolgt durch gleichzeitiges Drücken der C = (Commodore-)Taste und einer Funktionstaste (gilt nur für die Cursortastensteuerung, der Joystick holt seine Schrittweite immer aus F1), das Programmieren durch die Befehle H und V, wonach die aktuelle (angewählte) Schrittweite angezeigt wird und geändert werden kann.

Im Einschaltzustand sind die Tasten folgendermaßen belegt:
**F1**: H = 1, V = 1, das ist die normale Joysticksteuerung. Durch Vergrößerung auf 2 oder 3 lassen sich im Draw-Modus punktierte Linien zeichnen.
**F3** (Diese Taste ist im Einschaltzustand angewählt): H = 8, V = 8, für Textmodus. Vergrößerung ergibt eine gedehnte Schrift oder einen größeren Zeilenabstand.
**F5**: H = 24, V = 21, = Spritemaße, zurflächendeckenden Bearbeitung mittels Sprite-Editor.
**F7**: H = 160, V = 96, zur Einteilung des Bildschirmes in Viertelbilder für Walk-Befehl.

Weitere Anwendungsmöglichkeiten sind: Maßstäbe, Gitterraster, exakt symmetrische Zeichnungen etc...

### Space: Sprite-Editor

Durch Drücken der Leertaste kommt man in den Sprite-Editor. Das Setzen und Löschen von Punkten geht dort genauso wie im Draw-Modus. Die Befehle des Grafik-Editors sind im Sprite-Editor nicht zugänglich, dafür stehen die folgenden zur Verfügung:

**M Mirror** — Das Sprite wird zur Senkrechten gespiegelt.
**T Turn** — Drehung um 180 Grad. M und T ergeben eine Spiegelung zur Waagrechten.
**R Rotate** — Das Sprite wird um 90 Grad im Uhrzeigersinn gedreht. Da esjedoch 24 Punkte breit, aber nur 21 hoch ist, gehen die rechten drei Spalten verloren. Außerdem ist zweimal R nicht dasselbe wie T.
**G Grid** — Zum besseren Abzählen von Punkten wird ein Gitter eingeblendet, bei nochmaliger Eingabe von G wird es wieder ausgeblendet.
**SHIFT CLR	Sprite löschen**
**Space	Sprite-Editor verlassen**
**W Walk	Bildfolge ablaufen lassen**
**SHIFT W	Bildsequenz programmieren**

Jetzt lernen die Bilder laufen! Mit W werden die Bildschirmspeicher in schneller, programmierbarer Folge zyklisch durchgeschaltet. Da jedoch sechs Bilder für einen Bewegungsablauf recht wenig sind (Speicher 7 wird als »Leinwand« benutzt, sein Inhalt geht verloren) und außerdem die Bildfolge-Geschwindigkeit bei der Verschiebung von jedesmal 8 KByte nicht gerade hoch ist (maximal 7 Bilder/s), können die sechs Bildschirme in 24 Viertelbilder (mit je 160 x 96 Punkten, die unterste Zeile bleibt frei) zerlegt werden, die bei Maximalgeschwindigkeit in einer Sekunde »durchgerasselt« werden.

Bei der Erstellung solcher Viertelbilder ist die programmierbare Schrittweite (160/96) sowie der Move-Befehl besonders nützlich. Die Programmierung der Bildfolge geschieht durch einen Sequenz-String, der aus den Zahlen 1 bis 6 zum Aufruf der großen Bilder oder aus den Buchstaben A bis X zum Aufruf der Viertelbilder bestehen kann. Der Bildschirmspeicher 1 enthält die Viertelbilder A (links oben), B (rechts oben), C (links unten) und D (rechts unten). Das geht so weiter bis zum Speicher 6, der die Viertelbilder U, V, W, X enthält. Beispiel: Zum sequentiellen Durchschalten aller Viertelbilder besteht der Sequenzstring aus den Buchstaben A bis X in alphabetischer Reihenfolge. Zahlen und Buchstaben dürfen mehrfach und sogar gemischt vorkommen.

Mit SHIFT W gelangt man in den Sequenzstring-Editor, mit W wird die Bewegung gestartet. Während des Laufes kann die Geschwindigkeit mit der Plus- und Minus-Taste geregelt werden, bei gedrückter SHIFTTaste läuft der Film rückwärts. Durch Druck auf den Feuerknopf wird die Vorführung beendet.

Bei Farb-Betrieb wird Bildschirm 6 als Leinwand verwendet, es stehen nur noch 5 große oder 20 kleine Bilder zur Verfügung.

### Z Zeichensatz

HI-EDDI kann auch als Zeichensatz-Editor verwendet werden: Mittels Z wird der gerade angewählte Zeichensatz in die ersten sieben Zeilen des Grafikbildschirmes kopiert. Dort kann er mittels Get, Sprite-Editor und Stamp modifiziert, anschließend auf Diskette gespeichert und von anderen Programmen, zum Beispiel Textverarbeitungsprogramme, verwendet werden.

**C= L LOAD** (C = bedeutet Commodore-Taste)
**C= S SAVE**
**C= D Directory anzeigen**
**C= C Commando an Disk** oder (wenn nur RETURN) Fehlerkanal lesen

Bei LOAD und SAVE hat man die Wahl zwischen (schwarzweißem) Grafikbild, Farbbild, Zeichensatz und Sprite. LOAD und SAVE beziehen sich immer auf den aktuellen (= sichtbaren) Bildschirmspeicher (beziehungsweise Sprite). Bei SAVE Zeichensatz muß dieser in den ersten sieben Zeilen des sichtbaren Bildschirmes stehen. Bei LOAD Sprite sollte man wirklich nur ein Sprite und nichts längeres laden, sonst gibt’s einen netten Absturz. Es können auch Diashow-Bilder und Files anderer Grafikprogramme gelesen werden.

### C= P Print — Ausdrucken

Die Druckerroutine HI-PRINT wird bei Bedarf in Overlaytechnik nachgeladen, nach Beendigung des Druckvorganges wird wieder HI-EXE geladen.

Die vorliegende Druckerroutine bietet folgende Möglichkeiten:

1. Ausdruck eines Bildes, groß oder klein.
2. Zwei Bilder nahtlos nebeneinander, was natürlich nur in klein geht.

## Superhardcopy

Vor und nach dem Ausdruck werden keine zusätzlichen Zeilenvorschübe ausgegeben, aufeinanderfolgende Ausdrucke hängen somit nahtlos aneinander (Bild 1). So läßt sich zum Beispiel mit sechs Bildern eine Superhardcopy mit 640 x 600 Punkten erstellen (Bild 2), lädt man zwischendurch weitere Bilder von Diskette nach, kann man meterlange Bilder ausdrucken.

Leider ist Drucker nicht gleich Drucker! Die vorliegende Druckerroutine (Listing 1) läßt sich nur für Epson-Drucker und kompatible mit Interface verwenden. Deshalb möchte ich im folgenden Kapitel Hinweise zur Erstellung einer Druckerroutine für andere Konfigurationen geben.

TODO ASIDE/TABLE

Die Speicherbelegung von HI-EDDI:
$57-$60 und $F9-$FE:Temporäre Speicherzellen	
$2C0-$2FE:	Residenter Datenbereich (Sprite-Inhalt)
$340-$3FE:	Temporärer Datenbereich (Kreuz-, großes und kleines Rahmen-Sprite
$801-$CFF:	Basic-Speicher
$D00-$1F4C:	Maschinenprogramm
$1F80-$1FFF:	Residenter Datenbereich (Betriebszustände etc.)
$2000, $4000, $6000 etc.:	Grafikspeicher

Die Druckerroutine wird in denselben Bereich wie HI-EXE geladen, also ab $D00, nach Beendigung des Druckvorganges wird wieder HI-EXE geladen (Listing 1 und 2).

Die vorliegende Druckerroutine enthält auch ein Software-Interface, das den User-Port zur Centronics-Schnittstelle umfunktioniert. Dazu muß ein Kabel mit folgender Pinbelegung verwendet werden:

TODO TABLE

Pin am User-Port	Pin am Centronics-Stecker
M	(PA2)	1	(Strobe)
C	(PB0)	2	(DATA 1)
D	(PB1)	3	(DATA 2)
E	(PB2)	4	(DATA 3)
F	(PB3)	5	(DATA 4)
H	(PB4)	6	(DATA 5)
J	(PB5)	7	(DATA 6)
K	(PB6)	8	(DATA 7)
L	(PB7)	9	(DATA 8)
B	(FLAG2)	10 oder 11	(ACKNLG oder BUSY)
A	(GND)	16	

Will man eine Routine für andere Drucker schreiben, so darf diese den gesamten Speicherbereich von $D00 bis $1F7F belegen, lediglich die residenten Speicherbereiche und der Basic-Speicher sind tabu. Die Information darüber, wo welcher Bildschirm im Speicher liegt, steht in den 7 Bytes von $1F96 bis $1F9C: In $1F96 steht die Nummer des Bildes, das ab $2 000 in Speicher liegt (das ist das sichtbare Bild!), in Zelle $1F97 steht die Nummer des Bildes ab $4 000 und so weiter. Beispiel: Soll Bild Nummer 2 ausgedruckt werden, so sucht man in der Tabelle nach der 2. Steht sie zum Beispiel in Zelle $1F9A, so liegt Bild 2 im Bereich ab $A000 (unter dem Basic-ROM). Im Farb-Betrieb steht in Zelle $1F97 eine 0, weil im Bereich $4 000 bis $6 000 dann die Farbinformationen für die sechs Bilder liegen und dieser Bereich für Grafikbilder somit gesperrt sein muß.

Für den nicht Maschinensprache-erfahrenen Leser sind dies sicherlich alles spanische Dörfer, aber vielleicht sind einige »Maschinen-Profis« so nett und schicken Lösungen für andere Drucker ein.

## HI-EDDI als Menüprogramm

Wem die Eingabe der Befehle über die Tastatur nicht gefällt, der kann HI-EDDI zu einem Menüprogramm nach dem Vorbild des Koala Painter umfunktionieren, bei dem die Befehle über eine bunte, illustrierte Menütafel eingegeben werden. Ehrlich gesagt: Ich finde die Eingabe über Menütafel alles andere als benutzerfreundlich: Menü holen, Cursor auf das gewünschte Feld bugsieren und dann Knopf drücken ist eine wesentlich umständlichere Prozedur als ein einfacher Tastendruck. Dafür macht das Entwerfen und Realisieren einer Menütafel so viel Spaß, daß ich mich entschlossen habe, diese Möglichkeit vorzusehen.

Doch zunächst zurück zu dem Bytewert, der bei Programmstart auf die Frage »Betriebsart« eingegeben werden muß. Er setzt sich wie folgt zusammen:

TODO TABLE

Bit 7: =0 : Schwarzweiß-Betrieb
=	1 : Farb-Betrieb
Bit 6 : =0 : nur Tastatureingabe
=	1 : Menü-Eingabe
Bit 5-1 : keine Funktion
Bit 0 : =0 : Beim Start werden alle Bildschirmspeicher gelöscht
=	1 : Es wird nichts gelöscht, im Speicher befindliche Bilder bleiben erhalten

Für Farbe und Menü zum Beispiel muß 192 eingegeben werden. Ich finde die Menü-Eingabe nur in Farbe sinnvoll, ein Schwarzweiß-Menü sieht recht langweilig aus. Ist das Bit 6 gesetzt, also die Menü-Betriebsart angewählt, so muß sich auf der Diskette unter dem Namen »MENUE« die Menütafel befinden, die beim Start automatisch nachgeladen wird. Das Erstellen einer solchen Menütafel soll nun erklärt werden:

Die Menütafel wird in 20 x 12, also insgesamt 240 Felder von je 16 x 16 Punkten eingeteilt. 20 x 16 = 320, die Breite des Bildschirms, aber 12 x 16 = 192 gibt nicht ganz die Höhe des Bildschirmes: Die letzte Zeile (acht Punkte) bleibt, wie bei Walk, frei. In dieser Zeile werden die Steuerbytes untergebracht, für jedes der 240 Felder 2 Bytes. Wird im Menü-Modus der Cursor auf eines der Felder gefahren und der Feuerknopf gedrückt, dann holt sich HI-EDDI aus der letzten Zeile die diesem Feld zugeordneten Steuerbytes und entnimmt aus ihnen, welcher Befehl ausgeführt werden soll. Die Zuordnung von Feldern zu Steuerbytes geht zeilenweise, der Reihe nach: Die ersten beiden Steuerbytes (Adresse $3E00 und $3E01, wenn die Menütafel angewählt ist) gehören zum ersten Feld links oben, die nächsten beiden Bytes zu dem daneben und so weiter. Die Steuerbytes zum letzten Feld haben die Adressen $3FDE und $3FDF, das liegt bereits im unsichtbaren Teil des Bildschirmspeichers. Die nicht gerade ansehnlichen Steuerbytes im sichtbaren Teil können durch gleiche Farben für Vorder- und Hintergrund versteckt werden.

Somit ist klar, wie man vorgehen muß: Zunächst ist ein Menü-Bild zu zeichnen, bei dessen Einteilung nur die 20 x 12-Feld-Rasterung zu berücksichtigen ist. Wie man die Befehle anordnet, wieviele Felder man für einen Befehl zusammenhängt und welche Befehle man überhaupt ins Menü aufnimmt, bleibt jedem selbst überlassen. Denn keineswegs alle Befehle sind »menüfähig«: Die Korrekturtaste (Pfeil nach rechts) wirkt nur bis zum letzten Bildschirmwechsel zurück. Da jedoch das Anwählen der Menütafel ein Bildschirmwechsel ist, verliert die Korrekturtaste dabei ihre Wirkung. Dasselbe gilt für die Pfeil-nach-oben-Taste: Die Anwahl der Menütafel gilt als Moduswechsel! Aus demselben Grund muß beim MOVEn über zwei Seiten die Seitennummer über die Tastatur eingegeben werden, da bei einem Moduswechsel die Markierung eines Quellbereiches gelöscht wird.

Aus dem Textmodus kommt man nicht direkt ins Menü (SPACE wird als zu druckendes Zeichen interpretiert). Es muß daher zuerst ein anderer Modus über die Tastatur angewählt werden (zum Beispiel CTRL D für Draw), bevor das Menü wieder zugänglich ist.

Dafür bietet die Menütafel auch einige Vorteile: Die Farbenwahl erfolgt nicht mehr durch umständliches Fortschalten, sondern durch Direktanwahl der Farben. Und die Befehle U, 0, X, die normalerweise zwei Eingaben erfordern, werden jetzt mit einer Eingabe »erschlagen«.

Hat man nun ein Menübild gemalt (und abgespeichert!), so folgt der zweite Teil, das Erstellen der Steuerbytes, am besten in Form eines DATA-Laders (siehe Listing 4). Von den zwei Steuerbytes pro Feld enthält das zweite den Tastaturcode des jeweiligen Befehls. Die Tastaturcodes sind im 64’er, Ausgabe 5/84, Seite 105 zusammengestellt, sie lassen sich auch mit dem folgenden »Programm« ermitteln:
10 PRINT PEEK(203):GOTO10

Beim ersten Steuerbyte muß man zwischen verschiedenen Befehlskategorien unterscheiden:

1. »Normale« Befehle: Bit 0 : SHIFT-Bit, muß gesetzt sein, wenn für den entsprechenden Befehl die SHIFTTaste gedrückt werden muß. Bit 1 : C=-Bit, muß bei gedrückter Commodore-Taste gesetzt sein. Die Bits 2 bis 7 müssen 0 sein. Beispiel: Sprite-Editor einschalten ergibt die Bytes 1 (SHIFT, im Menü-Betrieb dient Space zur Anwahl der Menütafel, der Sprite-Editor ist nur mehr über SHIFT-Space erreichbar) und 60 (Tastaturcode Space).
2. Befehle U, 0, X: Tastaturcode der entsprechenden Nummerntaste. Beispiel: X 5 ergibtdie Steuerbytes 16 (Tastaturcode »5« und 23 (Tastaturcode »X«),
3. Farbbefehle: Bit 0 : SHIFT-Bit. Bit 2 bis 5: Nummer der Farbe, wie im Commodore-Handbuch angegeben. Die Bits 1 und 6 müssen 0 sein, das Bit 7 ist 1. Beispiel: Total Foreground, Blau ergibt: 128 (Bit 7) + 4 x 6 (blau) + 1 (SHIFT) = 153 und 21 (»F«).
4. »Leerer« Befehl ohne Verlassen der Menütafel (zum Beispiel für Überschrift): 1. Byte = 64, 2. Byte = 0
5. »Leerer« Befehl mit Verlassen des Menüs: 1. Byte = 0, 2. Byte = 64.

Die 5 Byte im Anschluß an die 480 Steuerbytes müssen die Kennung »CBM80« enthalten. Das ist eigentlich die ROM-Kennung, ich habe sie hier als Menütafel-Kennung mißbraucht, um versehentliche Menü-Zugriffe auf ein normales Bild zu vermeiden. Vorsicht: Fehler in den Steuerbytes können zum Programmabsturz führen!

Nun braucht man nur noch Menübild und Steuerbytes zu verknubbeln: Dazu HI-EDDI (Listing 3) laden, Starten (Betriebsart 128), Menübild laden und Programm mit STOP/RESTORE unterbrechen. Steuerbyte-DATA-Lader laden und starten. Der Lader muß, wie im Beispiel (Listing 4) zu sehen,mit

den Befehlen POKE56, 32:CLR beginnen, um das im Speicher befindliche Menübild zu schützen! Dann HI-EDDI laden, starten (Betriebsart 129, damit die jetzt bereits fertige Menütafel im Speicher nicht gelöscht wird) und die nun sichtbare Menütafel unter dem Namen »MENUE« speichern.

Wie wird der »Menü-HI-EDDI« nun bedient? Beim Start muß auf die Frage Betriebsart 192 (oder 193) eingegeben werden. Auf der Menütafel fährt man den Cursor auf den gewünschten Befehl und drückt den Feuerknopf. Daraufhin wird das Menü verlassen, auf den aktuellen Bildschirm zurückgeschaltet (im Einschaltzustand ist das jetzt 2, da in Speicher 1 die Menütafel steckt) und der Befehl ausgeführt. Das Menü wird durch Drücken der Space-Taste auf den Bildschirm geholt. Die Tastatureingabe bleibt neben dem Menü voll erhalten. Wie schon erwähnt, belegt das Menü den Speicher 1. Dieser Speicher kann natürlich auch direkt angewählt werden, allerdings befindet man sich dann nicht im Menü-Modus, sondern die Menütafel wird wie ein ganz normales Bild behandelt!

Zum Abschluß noch ein Tip: HI-EDDI läßt sich mit STOP/RESTORE unterbrechen (nicht während einer Befehlsausführung!), ein Warmstart ist mit GOTO150 möglich, ein Kaltstart ohne Nachladen von HI-EXE, aber mit Betriebsart-Eingabe mit RUN100.

(Hans Haberl/ah)

# Vier Pseudo-VICs mit 32 Sprites \[67-70\]

> Sie wollen mit 32 Sprites und vier Bildschirmbereichen gleichzeitig arbeiten? Nichts leichter als das. Mit Provic 64 können simultan hochauflösende Grafik, Text oder veränderte Zeichensätze dargestellt werden.

Wir (Jürgen, 21, Physikstudent, und Stefan, 18, Schüler) haben uns Mitte 1983 einen Commodore 64 angeschafft Schon nach kurzer Zeit stellte sich der übliche Frust über die schlechte Dokumentation und die schwierige Informationsbeschaffung ein, besonders wenn es um die speziellen Grafikfähigkeiten dieses Computers geht. So saßen wir oft stundenlang vor dem Bildschirm, der nur undefinierbare Zeichen zeigte, weil wir bei dem Versuch, die Geheimnisse des C 64 zu enträtseln, in irgendeinen unbekannten Darstellungsmodus geraten waren.

Dabei entdeckten wir, daß der C 64 nicht nur acht, sondern auch 16, 24, 32 oder noch mehr Sprites gleichzeitig zeigen kann. Zusätzlich ergibt sich die Möglichkeit, mehrere Bildschirmmodi zu mischen.

Nun haben wir uns entschlossen, den Kunstgriff, der dies ermöglicht, anderen C 64-Fans nicht vorzuenthalten. Also entwickelten wir ein Programm in Maschinensprache und dazu ein kleines Demonstrationsprogramm in Basic.

### Zum Programm

Durch Aufruf der Initialisierungsroutine wird der Interruptmechanismus des C 64 verändert. Nicht mehr der Timer der CIA 1, sondern der VIC 6567 löst jetzt den Interrupt aus, und zwar synchron zum Takt des Bildschirmsignals. Außerdem werden vier sogenannte Pseudo-VICs eingerichtet. Alle POKEs, von Spritebewegung über Bildschirmfarbe bis zur Grafikkonfiguration, müssen ab jetzt in diese Pseudo-VICs erfolgen. Jeder dieser Pseudo-VICs ist für einen der vier Bildschirmbereiche zuständig:

Der Bildschirm wird in vier waagerechte Bereiche aufgeteilt, deren Grenzlinien fast beliebig nach oben oder unten verschoben werden können. Jeder einzelne Bereich kann acht Sprites darstellen und eine eigene Farb- und Grafikkonfiguration aufweisen. So können zum Beispiel Normalschrift, HiRes-Grafik, Multicolor-Grafik und eventuell ein selbstdefinierter Zeichensatz gleichzeitig auf dem Bildschirm gezeigt werden.

Provic 64 kann selbstverständlich wieder abgeschaltet werden (bei Kassetten- oder Diskettenoperationen nötig).

Für Maschinensprachefreaks nun eine kurze Funktionsbeschreibung der Interruptroutine:

Bei Aufruf der Einschaltroutine (SYS 52544) wird der IRQ-Vektor auf die Hauptroutine des Provic 64 gestellt und der bisherige Interrupt durch den Timer A der CIA 1 verboten, während der Raster-IRQ des VIC 6567 erlaubt wird.

Sobald der Bildschirmstrahl die eingestellte Rasterzeile erreicht, wird ein Interrupt ausgelöst und der Prozessor bearbeitet die Hauptroutine des Provic 64. In dieser wird zunächst anhand eines Zählers ($ CFFF) festgestellt, welcher Bildschirmbereich an der Reihe ist. Dann wird die Rasterzeile, die das Ende dieses Bildschirms kennzeichnet, eingestellt.

Anschließend werden, falls ein entsprechendes Flag gesetzt ist, die Sprite- und andere Bildschirmparameter in den VIC 6567 übertragen. Nach dem Weiterzählen des IR-Zählers ($CFFF) wird entweder der Interrupt beendet, oder zur IRQ-Routine des Betriebssystems gesprungen (nach jedem vierten Interrupt). So werden in der Sekunde 200 Interrupts (vier pro Fersehbild) ausgelöst und 50 mal in der Sekunde (einmal pro Bild) die normale IRQ-Routine abgearbeitet. Dadurch zählt die interne Uhr TI in 50stel Sekunden und TI$ wird unbrauchbar.

Beim Aufruf der Ausschaltroutine wird der Raster-IRQ des VIC 6567 unterbunden, der Interrupt des Timers A in CIA 1 erlaubt und der IRQ-Vektor auf die IRQ-Routine des Betriebssystems eingestellt.

## Handhabung der Pseudo-VICs

Im Grunde ist jeder der vier Pseudo-VICs wie der echte VIC zu behandeln. Ausnahmen sind hier nur die Register 30 (Sprite-Sprite-Kollision) und 31 (Sprite-Hintergrund-Kollision), die sich auf den jeweils vorausgegangenen Bildschirmbereich beziehen. Die Register 19 und 20 (Lightpenkoordinaten), sowie 25 und 26 (IRQ-Flags und -maske) werden nicht behandelt, da diese Funktionen nur direkt über den VIC 6567 sinnvoll gehandhabt werden können. Außerdem hat jeder Pseudo-VIC noch zusätzliche Register für zwei Flags (REG 47 und REG 57), acht Sprite-Pointer (REG 48 bis REG 55), Videomatrix-Anfangsadresse Highbyte (REG 56) und die CIA 2, REG 0, Bits 0 und 1 (REG 58) (Adreßbits 14 und 15 des VIC 6567).

### Übergang eines Sprites zwischen zwei Bildschirmbereichen:

Soll ein Sprite zwischen zwei Bildschirmbereichen wechseln, muß in beiden Bereichen derselbe Sprite (also zum Beispiel beides mal Sprite 4) die gleiche Position besitzen, und zwar so lange, wie der Sprite die Trennlinie zwischen den Bereichen überdeckt. Wird dies nicht beachtet, werden die entsprechenden Sprites zerschnitten und verschoben.

Aktivieren von Provic 64: Von Basic aus mit SYS 52544 und von Maschinensprache aus mit JSR $CD40.

Ausschalten von Provic 64: Von Basic aus mit SYS 52970 und von Maschinensprache aus mit JSR $CEEA.

### Eingabe von Provic 64:

Die Eingabe des Listing 1 erfolgt mit dem MSE, das Speichern ebenfalls.

### Laden von Provic 64:

Im Programm am besten mit der Zeile IF PEEK (52544) > < 120 THEN LOAD ”PROVIC64”, Gerätenummer, 1 die am Anfag des Basic-Programms stehen sollte.

Das Demonstrationsprogramm (Listing 2) zeigt einige der Vorzüge von Provic 64. Bis der Bildschirmaufbau fertig ist, müssen Sie eine Weile warten. Es ist nur als Anregung gedacht, deshalb verzichten wir hier auf eine nähere Beschreibung.

Bei Kassetten- und Disketten- sowie Drucker-Zugriffen muß Provic vorher abgeschaltet werden. Sonst beginnt der Bildschirm wild zu flackern und Provic stürzt vielleicht ab.

Provic 64 ist nicht nur für Basic-Programmierer, sondern vor allem auch für Maschinensprache-Freaks gedacht, da erst durch schnelle Maschinenprogramme die Möglichkeiten von Provic 64 voll ausgeschöpft werden können.

(Jürgen und Stefan Haas/bs)

# Turtle-Grafik: Die schnelle Schildkröte \[71-76\]

> Turtle-Grafik ist eine Spracherweiterung, die es in sich hat. Vollständig in Maschinensprache geschrieben, stellt sie einige Befehle zur Verfügung, mit denen Sie komfortabel sehr schnell Bilder erzeugen können.

TODO -> 11/84 p.48

# HI-EDDI Druckerroutinen \[76-77\]

> Jetzt kommen auch Besitzer von Commodore-Druckern in den Genuß, HI-EDDI-Bilder ausgeben zu können.

Welcher 64'er-Leser kennt ihn nicht - den HI-EDDI, das fantastische Zeichen- und Malprogramm. Jeder der einen Epson oder dazu kompatiblen Drucker besitzt, kommt sogar in den Genuß der ausgezeichneten Hardcopy-Funktion. Jetztfolgen Anpassungen für Drucker anderer Hersteller, für die Commodore-Drucker MPS 801/802/803 und kompatible.

## HI-EDDI für MPS 802 und kompatible

Ich begann nach Überwindung meiner Abneigung gegen stundenlanges Tastenklopfen HI-EDDI abzutippen. Nach den ersten Tests dieses fantastischen Zeichen- und Malprogramms, bereute ich es aber nicht mehr mich dieser Tortur unterzogen zu haben. Doch mußte ich als Besitzer eines MPS-802-Druckers feststellen, was ist HI-EDDI ohne Superhardcopy?

Die Antwort darauf veranlaßte mich dazu, die Anregung in der Funktionsbeschreibung aufzugreifen und eine Lösung für einen anderen Drucker zu suchen. Gesagt — getan, hier ist mein Lösungsvorschlag für den Commodore MPS-802 (Listing 1).

Die Druckerroutine hat dieselben Eigenschaften wie die von Hans Haberl geschriebene Routine für Epson-Drucker. Daher kann auf eine Funktionsbeschreibung verzichtet werden. Ich hoffe, daß der Ausdruck von HI-EDDI-Grafikbildern mit diesem Programm auf allen Versionen des Commodore 1526/MPS-802 Druckers funktioniert. Bei meiner Ausführung (REV 07C) konnte ich bis jetzt keine Fehler feststellen.

(Franz Illetschko/ah)

## HI-EDDI für MPS 801/803 und kompatible

Eine Lösung für den Commodore MPS 801/803 schickte uns Florian Kulzer (Listing 2). Auch hier braucht am HI-EDDI selbst nichts verändert zu werden. Die Hardcopy wird mit den Tasten »Commodore« und »P« gestartet.

Allerdings ist mit diesem Programm das Nebeneinanderdrucken zweier Bilder nicht möglich. Ausgegeben wird immer eine Hardcopy des aktuellen Bildschirms. Daher können die Fragen nach Nummer und Format der Hardcopy beliebig beantwortet werden.

(Florian Kulzer/ah)

# Hi-EDDI auf Star SG-10 \[77\]

Betrifft: Anpassung der Original-Druckerroutine HI-PRINT von Al-EDDI an den SG-10 von Star.
Folgende Änderungen müssen an der Druckerroutine vorgenommen werden:
460 DATA 4: REM Direktkanal
550 DATA 27,51,15,255,255: REM Zeilenabstand 15/144 Inch
580 DATA 27,103,4,255,255: REM Grafikmodus 4

In dieser Betriebsart werden Kreise in Y-Richtung etwas gedehnt. Wer auf den Ausdruck zweier Bilder nebeneinander und auf Großbilder verzichtet, sollte folgende Werte eingeben (Zeile 460 muß natürlich trotzdem geändert werden):
550 DATA 27,51,16,255,255: REM Zeilenabstand 16/144 Inch
580 DATA 27,103,5,255,255: REM Grafikmodus 5

Dafür werden Kreise auch als Kreise dargestellt. Wenn man breiteres Papier als A4 verwendet, kann man auch zwei Bilder nebeneinander und Großbilder drucken. Der Drucker muß auf Star-Betriebsart eingestellt sein (siehe Handbuch). Der User-Port kann weiterhin als Parallelschnittstelle verwendet werden.

(Kurt Reiter/tr)

# HI-EDDI und Simons Basic \[80-81\]

> Kleine Programme ermöglichen es, mit Simons Basic erstellte Bilder in HI-EDDI zu laden.

Simons Basic bietet leider keine Möglichkeit, High-Resolution-Bilder auf Diskette zu speichern und zu laden. Dies ist jedoch Voraussetzung, um Bilder, die mit Simons Basic erstellt wurden, auch in HI-EDDI und andere Programme zu laden.

Ich habe deshalb das Programm »Screensave« (Listing1) geschrieben, das die Simons-Basic-Befehle »SCRSV« und »SCRLD« um die Fähigkeit, Hires-Bilder zu laden und zu speichern, erweitert. Leider funktioniert das nicht für die Modul-Version, da direkt das Simons Basic modifiziert wird. Dafür wird kein Speicherplatz außerhalb des Simons Basic gebraucht. Außerdem ist die modifizierte Version abspeicherbar, nach ihrem Laden stehen die erweiterten Befehle sofort zur Verfügung, ohne ein weiteres Programm nachladen zu müssen.

### Hinweise zum Eintippen:

- Simons Basic starten
- »Screensave« eintippen, sicherheitshalber abspeichern und starten
- Nachdem alle DATA-Fehler beseitigt wurden, stehen die erweiterten Befehle »SCRSV« und »SCRLD« zur Verfügung: Die Syntax ist dieselbe wie bisher, mit der Sekundäradresse wird jetzt der Bildschirm gewählt:
Sekundäradresse = 2: Low-Resolution-Bildschirm,
Sekundäradresse = 3: High-Resolution-Bildschirm

Das Aufzeichnungsformat des Low-Resolution-Bildschirmes ist leider nicht kompatibel mit dem der alten Befehle. Das des High-Resolution-Bildschirmes ist dasselbe wie bei HI-EDDI, Diashow und anderen Grafikprogrammen. Dazu muß das Bild aber unbedingt als PGM-File, also zum Beispiel mit: SCRSV1,8,3,”NAME,P,W”
abgespeichert werden, da HI-EDDI keine SEQ-Files laden kann.

Zum Abspeichern des »neuen« Simons Basic dient das Programm »Saver« (Listing 2). Dieses Programm speichert nicht nur das komplette Simons Basic, das übrigens auch noch andere Modifikationen, zum Beispiel die aus 64’er Ausgabe 11/84, enthalten kann, sondern auch die Funktionstastenbelegung mit ab. Nach dem Laden der mit »Saver« erstellten Simons-Basic-Version stehen somit nicht nur die neuen Befehle, sondern auch die individuelle Funktionstastenbelegung sofort zur Verfügung.

### Hinweise zum Eintippen:

- Funktionstasten nach eigenen Wünschen belegen
- »Saver« eintippen, abspeichern, eine Diskette mit mindestens 66 freien Blocks einlegen und Programm starten. Nun fragt der »Saver« nach dem Namen, unter dem er die neue Version ablegen soll. Diese neue Version ist um einen Block länger als die alte (66 statt 65), da die Funktionstastenbelegung hinzugekommen ist.

## Tips zu HI-EDDI

Die Anleitung in den REM-Zeilen des Programms»HI-PRINT.DATA« ist zugegebenermaßen etwas dürftig ausgefallen, so daß eine ausführlichere Erklärung dringend nötig ist:

Wie schon in der Bedienungsanleitung erwähnt, beschränkt sich die Anpaßbarkeit dieses Programms auf 8-Nadel-Drucker mit »vernünftiger« Einzelnadelansteuerung, wie zum Beispiel Drucker von Epson oder Mannesmann (im Gegensatz zum 1526/MPS 802). Mit dem Datum in Zeile 420 wird zwischen dem seriellen Bus (also Hardware-Interface) oder dem User-Port gewählt. Im ersten Fall muß mit den Daten in Zeile 440 (Primäradresse) und 460 (Sekundäradresse) das Interface auf Direktmodus gestellt werden. Hardwareinterfaces bieten in der Regel verschiedene Betriebsmodi (zum Beispiel Emulation eines Commodore-Druckers, spezielle List- oder Grafikmodi und eben den Direktmodus oder Linearmodus), die meist über die Sekundäradresse angewählt werden. »HI-PRINT« braucht den Direktmodus, in dem sich das Interface wie ein einfaches Kabel verhält und die Byte vom Computer unverändert an den Drucker übergibt. Für das Data-Becker-Interface muß zum Beispiel die Sekundäradresse 1 eingegeben werden, für das Görlitz-Interface 4 oder 12 (ohne beziehungsweise mit Auto-Linefeed). Beim Anschluß an den User-Port sind die Daten in Zeile 440 und 460 zwar nicht relevant, man darf sie jedoch nicht weglassen, da sonst die nachfolgenden DATAs verschoben würden.

Aus dem gleichen Grund dürfen auch die Längen der folgenden DATA-Zeilen nicht verändert werden, sie müssen nach Bedarf mit 255 aufgefüllt werden. Außerdem muß jede dieser Zeilen mit mindestens einem 255 enden, da diese Zahl als Ende-Kennzeichen einer Sequenz dient.

Die Zeile 530 legt die Sequenz für einen Carriage-Return Linefeed fest, sie ist 13,255,255 für Drucker mit Auto-Linefeed und 13,10,255 für Drucker ohne Auto-Linefeed.

Zeile 550 stellt den Drucker auf den für Grafik passenden Zeilenvorschub ein. Für den Epson RX-80 ist dies zum Beispiel ESC »3« 23 oder in Zahlen 27,51,23, aufgefüllt mit 255 auf die erforderliche Länge.

In Zeile 580 wird der Grafikmodus (Bit-Image-Mode) für 640 Punkte/Zeile angesteuert. Beispiele:

In Zeile 600 wird wieder der normale Zeilenabstand eingestellt (ESC »2«) und die -2 in Zeile 610 signalisiert für den DATA-Lader das Ende der DATAs.

Bei Schwarzweiß-Bildern, wie die der Diashow, Supergrafik oder natürlich des erweiterten Simons Basic geht’s problemlos. Bei Grafikprogrammen, die im Multicolour-Modus arbeiten, treten zwei Schwierigkeiten auf:

1.	Da HI-EDDI im High-Resolution-Modus arbeitet, sehen Multicolour-Bilder recht ungewöhnlich aus. Dabei kommt es vor allem auch auf die Farborganisation des betreffenden Programmes an: Die des Koalapainter ist so chaotisch, daß dessen Bilder im »HI-EDDI« fast unbrauchbar sind (Ein und dieselbe Farbe erhält verschiedene Multicolour-Codes). Paint-Magic-Bilder sind dagegen sofort »druckreif«.
2.	Für Multicolour-Bilder gibt es kein einheitliches Format für die Speicherung auf Diskette, so daß viele Bilder nicht direkt von »HI-EDDI« geladen werden können.

## Laden von Bildern

Für den Koalapainter tritt die 2. Schwierigkeit nicht auf, seine Bilder lassen sich sofort laden. Den Filenamen gibt man dabei in der Form »?PIC...« ein, um das Steuerzeichen am Anfang auszutricksen. Da jedoch Koala-Bilder länger sind als die vom »HI-EDDI«, werden Farbinformationen nicht nur des geladenen, sondern noch eines weiteren Bildes überschrieben. Nach dem Laden eines Koala-Bildes herrscht somit buntes Chaos im Computer, das erst durch Neu-Einfärben beseitigt werden muß.

Etwas komplizierter wird’s bei Paint Magic, dessen Bilder sich nicht direkt laden lassen, da sie in Form eines Basic-Laders abgespeichert werden. Man muß erst ein Bild mit »LOAD”.”8« laden, dann mit RUN starten, anschließend »HI-EDDI« laden und in Betriebsart 1 starten. Die 1 ist nötig, damit »HI-EDDI« das im Speicher befindliche Bild nicht löscht. Außerdem darf »HI-EDDI« nicht im Farbbetrieb gestartet werden, da das Paint-Magic-Bild im Speicherbereich $4000-$6000 liegt, wo »HI-EDDI« sonst seine Farbinformationen ablegen würde. Nach dem Start ist das Bild in Speicher Nummer 7 zu finden.

Lädt man übrigens im Schwarzweiß-Betrieb ein Farbbild (36 Blocks), dann wird auch hier durch die Farbinformation ein Teil eines anderen Bildes überschrieben, was sich durch »Gerümpel« in den ersten paar Zeilen dieses Bildes bemerkbar macht.

## Bilder in Basic verwenden

Will man »HI-EDDI«-Bilder in normalen Basic-Programmen (oder mit der Simons Basic Modulversion) laden, dann tut’s das Listing »Pic-Lader (Listing 3), das natürlich in eigene Programme eingebaut werden kann. Das Bild wird unter das Betriebssystem-ROM gelegt, der Farbspeicher ab $C000 (=49152, wie bei Simons Basic). Damit wird kein Basic-Speicherplatz belegt. Allerdings dürfen nur Schwarzweiß-Bilder (33 Blocks) geladen werden, bei Farbbildern gibt’s einen Absturz.

Auch am Programm selbst sind mir noch vier Kleinigkeiten aufgefallen:

1.	Bei einem STOP/RESTORE schreibt das Betriebssystem ein paar Bytes in den RAM-Bereich über $E000. Diese sind dann in einem der Bilder am unteren Rand als »Gerümpel« zu sehen.
2.	Beim Befehl »Paint« kann es bei extrem verwinkelten Flächen vorkommen, daß Teile übersehen werden (Grund dafür ist der begrenzte Stack des 6510). Diese müssen eben extra aufgefüllt werden.
3.	Der Sequenzstring sollte nicht länger als zirka 40 Zeichen werden, sonst könnte es bei LOAD oder SAVE zu einem OUT OF MEMORY ERROR kommen. Sollte das passieren, so muß Hi-Eddi mit GOTO 150 gestartet und der Sequenzstring verkürzt werden.
4.	Bei gewaltigem »Herumwürgen« am Joystick kann es vorkommen, daß der Computer meint, es wurde eine Taste gedrückt. Ergebnis ist dann eine Befehlsausführung, die man gar nicht wollte. Allerdings passiert das äußerst selten, vielleicht liegt’s auch nur an meinem mickrigen Joystick. Wenn ansonsten mal ein Befehl nicht das tut, was er sollte, dann liegt es meistens an einer eingerasteten SHIFT-LOCK-Taste. Bei Befehlen, die die SHIFTTaste nicht benutzen, fällt es gar nicht auf. Will man jedoch zum Beispiel den Fore-Modus anwählen und färbt statt dessen das ganze Bild ein, dann war’s SHIFT-LOCK!

(Hans Haberl/ah)

# Hardcopy von HI-EDDI auf dem Plotter VC 1520 \[83-84\]

> Mit diesem Programm ist es möglich, Hardcopies von HI-EDDI mit dem Printer-Plotter VC 1520 zu erstellen.

Geben Sie zuerst »Copy 1520« (Listing 1) mit dem MSE ein und speichern Sie es ab. Jetzt muß noch das HI-EDDI Steuerprogramm geändert werden. Bei dem Steuerprogramm (Listing 2) sind die Zeilen 600 bis 750 zu ändern.

Die Hardcopy kann jetzt von HI-EDDI per Tastendruck oder Menü nachgeladen werden. Es ist möglich, mehrere Bilder (nahtlos) untereinander oder übereinander (Overlay) zu drucken.

(Stephan Paetzold/ah)

# HI-EDDI mit Itoh 8510 \[83-84\]

TODO 85/4 p.59

# HI-EDDI mit der Datasette \[84\]

TODO 85/6, p.69

# Trickfilm mit dem C 64 \[85-88\]

TODO 85/5, p.51

# Verbotene Variablen \[89-90\]

TODO 85/9, p.66

# Exsort — Sortieren mit Komfort \[92-94\]

> Mit Exsort werden sowohl numerische als auch alphanumerische Felder auf-oder und absteigend sehr schnell sortiert. Ein weiterer Clou: Ein zweites Feld kann abhängig vom ersten Feld mitsortiert werden.

TODO 84/11 p.154

# Hypra-Load \[94-97\]

> Kaffeepause! Dieses Wort kommt wohl jedem Commodore 64-Besitzer in den Sinn, der ein längeres Programm laden möchte. Es geht aber fünfmal schneller. Alles, was Sie benötigen ist das Programm »Hypra-Load« oder das neue Betriebssystem »Hypra-Perfekt«.

Das die Floppy 1541 nicht gerade die schnellste ist, ist wohl allgemein bekannt. Zumindest ein Vorgang läßt sich mit relativ geringem Aufwand stark beschleunigen: das Laden von Programmen.

Das Funktionsprinzip von Hypra-Load sieht folgendermaßen aus. Im Computer wie auch im Floppy-Laufwerk werden neue Laderoutinen installiert, die neue Busroutinen enthalten. Mit diesen neuen Busroutinen wird die Datenübertragung um den Faktor 8 bis 10 beschleunigt, so daß die Ladegeschwindigkeit auf das softwaremäßig erreichbare Maximum gebracht wird.

Eine Software-Lösung hat allerdings zwei entscheidende Nachteile: Einerseits muß vor dem schnellen Laden die neue LOAD-Routine in den Speicher gebracht werden, andererseits funktionieren manche Originalprogramme mit Kopierschutz nicht mehr. Diese Nachteile wurden bei den beiden hier vorgestellten Versionen so gut wie möglich umgangen.

»Hypra-Load 2.1« ist eine besonders komfortable Hypra-Load-Version mit integriertem Auto-Starter und Auto-Lader. Sie wurde von den Autoren des original »Hypra-Load« (aus der 64’er, Ausgabe 10/85) völlig neu geschrieben. Dies dürfte wohl die beste Lösung für diejenigen sein, die sich kein neues Betriebssystem in ein EPROM brennen wollen oder können.

»Hypra-Perfekt« ist ein solches Betriebssystem. Neben den schnellen Lade-Routinen sind hier auch eine Funktionstastenbelegung und einige andere Extras eingebaut.

## Hypra-Load

Um Hypra-Load beim späteren Betrieb möglichst komfortabel zu halten, ist die Eintipparbeit etwas komplizierter. Sie benötigen als allererstes eine leere Diskette, die Sie am besten formatieren. Nun tippen Sie das Listing 1 mit dem MSE ab und speichern es auf genau dieser leeren Diskette. Sie sollten keinesfalls probieren, auf eine Diskette zu speichern, auf der schon Programme stehen, weil diese beim nächsten Schritt unrettbar verloren gehen!

Nun tippen Sie das kurze Listing 2 ab. Legen Sie die Diskette, auf der sich das gespeicherte MSE-Listing befindet, ein und starten Sie das Basic-Programm. Nach wenigen Sekunden meldet sich der Computer mit READY. Nun ist Ihre Hypra-Load-Version fertig. Um sie auf andere Disketten zu überspielen, können Sie jedes beliebige Kopierprogramm für Einzelfiles verwenden. Die Disketten, auf die Hypra-Load dann kopiert werden soll, dürfen ruhig schon Programme enthalten, es müssen aber insgesamt fünf Blöcke auf der Diskette frei sein, damit noch Platz für Hypra-Load ist.

Wie arbeitet man nun mit Hypra-Load? Es gibt zwei Betriebsarten: In der normalen Betriebsart lädt man Hypra-Load mit LOAD":\* ",8,1. Daraus folgt, daß es das erste Programm auf der Diskette sein muß! Hypra-Load installiert sich dann vollautomatisch, ohne daß RUN eingetippt werden muß, und meldet sich mit den Namen der Autoren. Ab sofort wird von Diskette fünfmal schneller geladen. Zusätzlich sind als Standardwerte für den LOAD-Befehl »,8,1« schon fest vorgegeben. »LOAD-"name"« lädt also immer von Diskette.

Bei einem Reset schaltet sich Hypra-Load ab, ebenso wenn wichtige Speicherbereiche überschrieben werden und somit ein Systemabsturz provoziert wird.

Viel interessanter und komfortabler, Hypra-Load zu nutzen, ist allerdings die zweite Methode. Wenn Hypra-Load sich zusammen mit anderen Programmen auf einer Diskette befindet, genügt der Befehl »LOAD"↑\*name",8,1« um mehrere Vorgänge gleichzeitig in Gang zu setzen: Hypra-Load wird geladen und gestartet, danach wird vollautomatisch das Programm mit dem Namen »name« schnell nachgeladen und ebenfalls gestartet. Voraussetzung dabei ist, daß die Hypra-Load-Version auf der Diskette genau mit dem im MSE-Listing angegebenen Namen (»↑Hypra-Load«) gespeichert ist.

Einige Anmerkungen zum Auto-Lader: Nach der Installation von Hypra-Load wird überprüft, ob der aktuelle Filename mit einem "↑" (Pfeil nach oben) beginnt. Dann werden die ersten beiden Buchstaben vom Filenamen abgetrennt und das gewünschte Programm nachgeladen. Nach dem Laden desaktiviert sich Hypra-Load sofort und startet das geladene Programm durch Simulation des RUN-Befehls. Mehrteilige Programme laufen also ab dem zweiten Teil in der normalen Ladegeschwindigkeit ab. Für die meisten Anwendungsfälle ist diese Lösung allerdings vollkommen befriedigend.

Diese Hypra-Load-Version läuft unserer Erfahrung nach sowohl auf C 64- wie auch SX 64-Computern und dem C 128 im 64-er Modus. Als Laufwerke sind die 1541 und die 1571 von Commodore verwendbar.

Der Bildschirm bleibt während des Ladevorgangs ausgeschaltet, da sonst der VIC-Chip die schnellen Bus-Routinen aus dem Takt bringen würde. Das Blinken der roten Laufwerks-LED ist völlig normal, es zeigt jeweils einen übertragenen Programmblock an. Damit läßt sich optisch die Arbeit von Hypra-Load verfolgen.

Weitere, am seriellen Bus angeschlossene, Geräte dürften die Übertragung nicht stören. Solange Hypra-Load aktiviert ist, führen Kassetten-Zugriffe zum System-Absturz!

Soll Hypra-Load abgeschaltet werden, genügt die Befehlsfolge »POKE 1,55«.

Der VERIFY-Befehl funktioniert nicht bei aktiviertem Hypra-Load.

Für diejenigen, die sich für die Programmierung des Autostarts von Hypra-Load interessieren: Er wurde durch Verbiegen des Stop-Vektors realisiert.

(Karsten Schramm/bs)

## Hypra-Perfekt

Unsere zweite Hypra-Load-Version ist eine Betriebssystem-Version. Das Original-Betriebssystem des Commodore 64 wird durch ein modifiziertes Betriebssystem ersetzt, welches die schnellen Lade-Routinen sowie eine Funktionstastenbelegung enthält.

Somit muß das Kernal-ROM ausgetauscht werden. Als neuer Programmträger dient ein 2764-EPROM, dessen Inhalt mit dem nachfolgend abgedruckten Programm (Listing 3) erzeugt wird. Wie das von statten geht, läßt sich mit wenigen Worten erklären. Das Betriebssystem (Kernal) des Commodore 64 befindet sich im Speicherbereich von $E000 bis $FFFF und hat somit die Länge von 8 KByte. Das gesamte Kernal als MSE-Listing abzudrucken würden den Rahmen des Sonderheftes sprengen. Dies wäre auch gar nicht notwendig, daja nur Teile des Betriebssystems geändert werden. Deswegen haben wir die Form des, dank des MSEs etwas altmodischen, aber hier angebrachten DATA-Laders gewählt.

Das abgedruckte Programm kopiert zunächst das Kernal in den Speicherbereich von $6000 bis $7FFF. Wer einen anderen Speicherbereich verwenden möchte, muß die Leseschleife in Zeile 30 on den Offset-Wert in Zeile 15 (OF) verändern.

Nach dem Kopieren befindet sich ein originalgetreues Abbild des Kernals im RAM. Der nächste Schritt, der automatisch vom Programm durchgeführt wird, ist die Veränderung der einzelnen Speicherstellen. Ist dieser Vorgang beendet, steht unser neues Kernal von $6000 bis $7FFF im Speicher und sollte sofort mit einem Monitor abgespeichert werden. Danach kann man es dann auf ein 2764-EPROM brennen.

Bis hierhin war alles relativ einfach, jetzt aber kommt die schwierigste Hürde auf dem Weg zum neuen Betriebssystem. Ein Adaptersockel muß gebaut werden, denn leider sind die Pin-Belegungen des Original-Kernals und des 2764-EPROMS nicht identisch. Wer sich diese Arbeit nicht machen möchte, der kann diesen Adaptersockel im 64’er-Hardware-service demnächst auch kaufen. Sollten Sie schon eine Kernal-Umschaltplatine besitzen, wie wir sie ebenfalls anbieten werden, entfällt der Bastelaufwand für Sie ebenfalls.

Wer sich nun den Sockel selber bauen will, oder muß, der besorge sich einen 24poligen und einen 28poligen Sockel. Das Bild 1 zeigt, welche Pins der Sockel miteinander verbunden werden müssen. Nach der Fertigstellung sieht das Ganze wie ein Doppeldecker-Bus mit überhängendem Dach aus. Im oberen Stockwerk dieses Busses nimmt nun der 2764 mit dem neuen Betriebssystem seinen Platz ein. Die 24 Pins des unteren Fahrwerks finden im Steckplatz U4 des Computers ihre Heimat. Das überhängende Dach zeigt, zusammen mit der Kerbe des EPROMs, in Richtung des User-Ports.

Sollte sich der Computer nach dem Einschalten mit geändertem Farbbild, aber sonst gewohnter Anzeige melden, haben Sie es geschafft. Ihnen steht nun eine recht leistungsfähige Hypra-Load-Version zur Verfügung. Neben dem Schnell-lade-System wurden noch die Funktionstasten belegt. Die Belegung können Sie Bild 2 entnehmen. Das Laden eines Direc-torys zerstört nicht mehr das aktuelle Programm im Speicher.

Um die Kompatibilität zu fertigen Softwareprodukten möglichst groß zu halten, wurde auch hier eine Abschaltautomatik installiert. Sollte schnelles Laden nicht mehr möglich sein, wird auf langsames Laden umgestellt. Wenn diese Automatik versagt, kann das schnelle Laden auch von Hand abgeschaltet werden. Die Speicherstelle 2 ist zum Steuerregister umfunktioniert worden. Die einzelnen Funktionen von Hypra-Perfekt lassen sich folgendermaßen schalten:

POKE 2,0: Grundzustand von Hypra-Perfekt, alles eingeschaltet
POKE 2,32: Funktionstasten abschalten
POKE 2,64: Directory wieder normal laden
POKE 2,128: Schnelles Laden abschalten.

Natürlich sind auch Kombinationen möglich, so zum Beispiel »POKE 2,32+64+128« schaltet alle Funktionen ab.

Besitzer eines Hypra-Perfekt-Kernals müssen, sofern Sie keine Umschaltplatine besitzen, leider auf die Kassetten-Routinen verzichten. Die RS232-Schnittstelle ist aber voll erhalten geblieben.

Wer seine individuelle Farbkombination beim Einschalten haben möchte, braucht nur in den Zeilen 50 bis 70 die Farbwerte zu ändern.

Und viel Spaß mit »Hypra-Perfekt«.

(Ernst Schöberl/aw/bs)

# Strubs — ein Precompiler für Basic-Programme \[98-104,106-115\]

> Bei Strubs, das steht für »strukturiertes Basic«, handelt es sich um einen sogenannten Precompiler, ein Programm, welches Programmtexte mit gewissen zusätzlichen Befehlen in normale, auf jedem Commodore 64 oder VC 20 ablauffähige Programme übersetzt.

TODO 84/4, p.110
TODO 84/5, p.116
TODO 84/6, p.128
TODO 84/7, p.154

# Wie spät ist es bitte? \[115\]

TODO 85/8, p.82

# Tiny-Forth-Compiler zum Abtippen \[116-118,120-124\]

TODO 85/8, p.51

# Hypra-Save \[124-125\]

TODO 85/8, p.79

# Das Grab des Pharao \[126-134\]

> Wagen Sie den gefährlichen Weg durchs alte Ägypten.

Ziel des Grafikadventures ist es, die goldene Totenmaske des Pharaos zu finden, wozu eine Pyramide erforscht werden muß, in der zahlreiche Fallen gegen Grabräuber verborgen sind. Am Anfang des Spiels befindet sich der Abenteurer jedoch noch mitten in der Wüste und muß die Pyramide erst einmal finden.

Das Programm besteht aus 58 Bildern, die sich aus verschiedenen Komponenten (Durchgänge, Türen, Treppen und so weiter) zusammensetzen. Aufgrund der Vielzahl und Ähnlichkeit der Räume ergibt sich ein wahrer Irrgarten. Die Bilder werden, um den Effekt von hochauflösender Grafik zu simulieren, aus über 80 neudefinierten Zeichen und 33 Sprites zur Darstellung der Gegenstände aufgebaut. Die Befehlsauswertung der Eingaben folgt getrennt in zwei »INPUT« Statements: Das heißt nach jedem eingegebenen Wort muß »RETURN« gedrückt werden, wodurch sich jedoch kein Nachteil ergibt.

Das Programm versteht folgende 18 Verben: gehe, zerstöre, öffne, klopfe, frage, hacke, töte, krieche, werfe, schiebe, drehe, nimm, verliere, ziehe, list, save, stop.

Da großer Wert auf die Grafik gelegt wurde, wuchs die Länge des Programmes und leider auch die Unübersichtlichkeit beträchtlich an, wodurch manche Stellen möglicherweise etwas umständlich programmiert wurden. Doch ich bin sicher, daß dies der Spielfreude keinen Abbruch tun wird.

Auf der Suche nach der goldenen Totenmaske des Pharao müssen Sie hier die erste Aufgabe lösen. Eine Menge Programmzeilen sind auf dem Weg in die Wüste, in der das Grab des Pharao steht, einzutippen. Damit Sie nicht hier schon »in der Wüste der Fehlermeldungen« stehen, ist auch dieses Programm mit dem Checksummer einzugeben. Liegt diese Hürde hinter Ihnen, wird Ihnen ein freundlicher Beduine, sobald Sie Ihn gefunden haben, den richtigen Weg weisen.

(Wolfgang Rausch/rg)

# Castle of Doom \[135-140\]

> Castle of Doom ist ein Adventure, das es in sich hat. Man kann nicht nur drei verschiedene Versionen auswählen, es ist zudem gar nicht einfach, bis zum Ende durchzustehen. Dazu brauchen Sie Geduld, eine gehörige Portion Phantasie und — viel Zeit.

Zunächst einige wesentliche Informationen zum Ablauf des Spiels:

Am Anfang des Spiels kann man sich für eine von drei verschiedenen Versionen entscheiden. Bei allen Versionen ist das »Spielfeld« gleich, doch das Ziel, das es zu erreichen gilt, ist jeweils ein anderes. Die Kommandos müssen jeweils aus zwei Worten bestehen, die durch Leerraum getrennt werden. Beide Worte können beliebig abgekürzt werden, doch man muß darauf achten, daß keine Mißverständnisse auftreten.

Das Programm beinhaltet eine kurze Anleitung, in der die wichtigsten Punkte der Befehlseingabe nochmals erwähnt werden. Zudem sind alle Verben, die der Computer versteht, aufgeführt. Wird dennoch ein Wort benutzt, das der Computer nicht kennt, so gibt er an, welches der eingegebenen Worte ihm unbekannt ist.

Auf dem Bildschirm sind immer zu sehen:

- eine Grafik, die den Ort zeigt, an dem man sich befindet,
- eine Liste der Gegenstände, die sich an diesem Ort befinden,
- eine Liste der Gegenstände, die man besitzt.

(Bernd Weißbecker/gk)

# APOCALYPSE NOW \[141-143,146-147\]

> Im Universum versteckt sich die interplanetarische Spinne Plexar. Sie können eine Katastrophe abwenden, wenn Sie den Weltraum von dem schrecklichen Ungeheuer befreien.

Bevor Sie mit dem apokalyptischen Kampf gegen die interplanetarische Spinne beginnen, müssen Sie auftanken. Doch nach 30 Energieeinheiten beginnt ein feindlicher Hubschrauber auf Sie zu schießen. Ist dieses Hindernis hinter Ihnen, geht es links weiter. Im oberen Eck erscheint ein Tunnel, den Sie durchfliegen. Dabei müssen Sie eine Lasersperre überwinden oder einen Mann retten. Dieser sollte bei der Aktion möglichst weit links stehen. Haben Sie diese Hürde überwunden, schließt sich hinter Ihnen eine Mauer. Durch diese müssen Sie sich links unten durchschießen. Auf dem nächsten Bild gilt es, eine Barrikade zu durchschießen, die aber mit Vorsicht zu genießen ist. Die nachfolgenden Panzer können Sie nur abschießen, wenn Sie beide zugleich treffen.

Dann kommen Sie zu der Spinne Plexar. Achten Sie vor allem auf die Lasersperren. Wenn Sie nun die Spinne vernichtet haben, fliegen Sie zurück, aber achten Sie darauf, daß Sie möglichst hoch in den nächsten Bildschirm fliegen.

Zum guten Schluß können Sie auf dem Energielager landen und sich von den Strapazen erholen, oder Sie spielen weiter. Das hat aber nur Sinn, wenn Sie noch zwei Leben haben.

(Helmut Burgemeister/Helmut Bölcskei/tr)

# Spring Vogel, spring \[148-153\]

> Kennen Sie Jumpman, Miner 2049 oder Mister Robot and his Factory? Dann haben Sie sich sicherlich geärgert, daß Sie nie die letzten Bilder erreicht haben. Oder Sie haben sich über die eintönigen Spielszenen geärgert. Mit dem Spring-Vogel passiert so etwas nicht! Hier können Sie sich Ihre Bilder auch selber machen.

Tatsächlich kann man Spring-Vogel fast als Spielgenerator bezeichnen. Mit Spring-Vogel gelingt es Ihnen, sich jedes beliebige Spielfeld aufzubauen. Das klingt sehr vielversprechend, und das ist es auch. Spring-Vogel ist ein Vertreter der Jump and Run-Kategorie. Damit lassen sich also keine Schießoder Abenteuerspiele erzeugen, aber innerhalb der Spring-und Laufgruppe bleibt kein Wunsch offen. Worum handelt es sich bei Spring-Vogel nun eigentlich? Zunächst die Story.

Ein heftiger Sturm hat einen Vogel — unseren Helden — mitsamt seinen Eiern aus dem Nest geweht. Durch den harten Aufprall auf die Erde hat er sich seine Flügel gebrochen. Er kann also nicht mehr richtig fliegen, sondern nur noch auf dem Boden laufen, hüpfen und springen. Die Aufgaben des Vogels (die genaue Klassifizierung bleibt Ihnen überlassen) besteht nun darin, in einem Labyrinth aus Aufzügen, Transportbändern, Seilen, Einbahnstraßen, Trampolinen, Rutschbahnen, Gummiwänden, magischen Flügeln, gemeinen Vogelfallen und mißgestimmten Monstern alle Eier wieder einzusammeln. Gelingt es dem Vogel, die Eier in einer Spielszene aufzunehmen, muß er mit der nächsten Überraschung fertig werden; es waren nicht alle. Das nächste vom Winde verwehte Bild erwartet ihn mit weiteren schwierigen Aufgaben.

Die Anzahl der Torturen für unseren leidgeprüften Helden bestimmen Sie selbst. Doch Vorsicht, unser Vogel verfügt nicht wie eine Katze über sieben, sondern »nur« über sechs Leben. Und diese sechs Leben sind schnell, durch Kontakt mit den Monstern oder Verzehren einer roten Tollkirsche, ausgehaucht.

Der Sturz über mehr als vier Etagen ist ebenfalls für den flugunfähigen Vogel lebensbedrohend. Es sei denn, er findet die von seinem Tierschützer verstreuten »magischen Flügel«. Ausgestattet mit deren zauberhaften Fähigkeiten kann er in einem ökologischen Flecken beliebig umherfliegen. Durch Betätigen des Feuerknopfes wird er wieder in seinen behinderten Zustand zurückversetzt, erlangte allerdings vorher die Fähigkeit an unzugänglichen Stellen landen zu können. Diese magischen Flügel gestatten es, Bilder so aufzubauen, daß nur der taktisch gezielte Einsatz dieser Flughilfe es ermöglicht, ein Bild vollständig abzuräumen. Dabei kann es vorkommen, daß sich der Vogel in eine völlig aussichtslose Situation manövriert, und in einer Sackgasse landet. Auch hier bietet das Programm einen Ausweg an, die Funktionstasten. Diese können jederzeit (außer während der Flugphase) benutzt werden.

Bei dem ersten Start des Programms dauert es einige Zeit (bei weiteren Starts geht es dann schneller), bis sich das Programm mit der Frage »Edit, Wahl oder Spiel?« meldet.

Mit »W« kann man eines der sechs Bilder zum Spielen auswählen, mit »S« wird ein vollständiges Spiel ab Bild 1 gewählt.

Die Funktionstasten haben folgende Bedeutung:
f1: Dieses Spiel aufgeben, zurück zum Menü
f2: diesen Vogel opfern und mit dem nächsten Vogel neu an der Startposition beginnen
f3: mit dem nächsten Bild weitermachen
f5: Pause (weiter mit SPACE)

Für jedes Ei gibt es je nach Bild 10, 20 ... 60 Punkte. Wird ein Bild in einer bestimmten Zeit beendet, so erhält der Spieler einen Bonus, der um so größer ist, je schneller das Bild beendet wurde.

## Der Editor

Der Editor dient dazu, eigene Spiele zu entwickeln. Mit ihm können neue Bilder erstellt werden, die im Programmtext selbst die alten Bilder überschreiben. Deshalb sollte das Programm vor dem Editieren, das neue Spiel nach dem Editieren unter neuem Namen gespeichert werden. Dazu einfach das Programm mit »STOP« abbrechen. Der Editor fragt zunächst, welches Bild geändert werden soll. Dann erscheint dieses Bild mit einem Cursor. Es stehen folgende Funktionen zur Verfügung:

←: die vorgenommenen Änderungen endgültig in den Programmtext übernehmen
f1: Editor verlassen, ohne Änderungen zu übernehmen. Das Bild bleibt erhalten, wie es vor dem Editoraufruf war. In beiden Fällen fragt das Programm, ob das Bild ausprobiert werden soll. Aus dem Spiel gelangt man mit f1 und E jederzeit in den Editor zurück.

Die Cursorsteuerung erfolgt wie gewohnt über die Cursortasten. SHIFT CLR: Bild löschen

Die Startposition des Vogels wird durch »0« festgelegt. In jedes Bild können zwischen 0 und 7 Monster gesetzt werden, die sich horizontal auf einer Breite von acht Spalten hin und her bewegen. Das linke Ende dieser Bewegungsbahn kann mit den Tasten 1 bis 7 festgelegt werden.

Mit den Tasten A bis T können die 20 verschiedenen Bausteine, die zur Verfügung stehen, gesetzt werden. Der Vogel reagiert immer nur auf das Zeichen unter seinen Füßen. Bei Sprüngen reagiert er (außer bei Wänden) erst in der absteigenden Phase wieder auf Zeichen. Eine Übersicht über die Bausteine bietet die Tabelle 1. Dazu einige ergänzende Bemerkungen:

Die Bausteine A bis D sind durch verschiedene Bewegungsmöglichkeiten gekennzeichnet Springen ist möglich:
A: rechts, links
B: rechts, links, runter
C: rechts, links, rauf
D: alle vier Richtungen

Bei E bis H ist eine Bewegung nur in jeweils eine Richtung und kein Sprung möglich.

Bei I bis N wird der Vogel automatisch bewegt. Er selbst kann nur springen.

Der Trampolin 0 bewirkteinen zufälligen Sprung nach rechts oder links.

Bei der Gummiwand S wird der Vogel auf das letzte Zeichen, das weder Wand noch Luft war, zurückgeworfen.

Da das Problem in die Interruptroutine eingreift und seinen eigenen Programmtext verändert, sollte es auf jeden Fall vor dem ersten Start abgespeichert werden.

Um Tippfehler bei den zahlreichen DATA-Zeilen besser lokalisieren zu können, wurden diese in verschiedene Blöcke mit jeweils eigener Prüfsumme aufgeteilt.

Bitte halten Sie sich beim Eintippen der sechs Bilder exakt an die vorgegebene Zeilenlänge: Jeder PRINT-Befehl muß genau 39 Zeichen lang sein. Fehlende Zeichen können zur Zerstörung des Programms führen, da der Editor diese Zeilen überschreibt

## Hinweise zum Eintippen

Daß die jeweils 39 Zeichen genau mit dem Listing übereinstimmen, ist dagegen nicht so wichtig. Durch Abweichungen wird hier allenfalls die Spielbarkeit des vorgegebenen Spiels beeinflußt, ein Mangel, der jederzeit mit dem Editor behoben werden kann. Im Prinzip ist es auch möglich, auf das Abtippen der Bilder 2 bis 6 zu verzichten und an anderer Stelle einfach mit Hilfe des Bildschirmeditors fünfmal das erste Bild zu kopieren. Auf jeden Fall aber muß die Zahl der Zeilen, die Zeilennummer und die Länge der Zeilen mit dem Listing übereinstimmen.

Um das Eintippen der Bilder zu erleichtern, wurden diese in der vorliegenden Programmversion in den Programmtext selbst gelegt. Deshalb ist die Zahl der Bilder auf sechs (diese Zahl wurde gewählt, um die Tipparbeit in erträglichen Grenzen zu halten) festgelegt. Die Anzahl der Bilder kann aber folgendermaßen erhöht werden:

Der Variablen BM in Zeile 50070 ist die gewünschte Anzahl zuzuweisen. Für jedes weitere Bild sind dem Programm entsprechend dem Schema der ersten sechs Bilder 22 PRINT-Zeilen, die jeweils 39 beliebige Zeichen ausgeben, und ein abschließendes RETURN, anzufügen. Die erste Zeilennummer eines Bildes berechnet sich nach der Formel 59900 + Bildnummer\*100 +1, zum Beispiel 60601 für Bild 7.

(Matthias Törk/og)

# Impressum \[154\]

**Herausgeber**: Carl-Franz von Quadt, Otmar Weber

---

**Chefredakteur**: Michael Scharfenberger Leitender Redakteur: Albert Absmeier Redaktion: Volker Everts, Achim Hübner, Georg Klinge, Harald Meyer, Markus Ohnesorg, Thomas Röder, Arnd Wängler.
**Praktikant**: Boris Schneider
Fremdautoren:
Behrend, Biernaczyk, Bölcskei, Büttgenbach, Burgmeister, Carli, Haas, Haberl, Hinkelmann, Illetschko, Kloeker, Kulzer, Lonczewski, Mann, Menke, Paetzold, Pfost, Rausch, Reiter, Rickert, Schäfer, Schindowski, Schoeberl, Schramm, Spitzner, Toerk, Trierscheid, Weineck, Weißbecker, Ziesche

---

**Layout**: Leo Eder (Ltg.)

---

**Herstellung**: Klaus Buck

---

**Auslandsrepräsentation**:
Schweiz: Markt & Technik Vertriebs AG, Kollerstr. 3, CH-6300 Zug, Tel. 042-22 31 55, Telex: 862 329
USA:	M&T Publishing lnc.; 2464 Embarcadero Way, Palo Alto, CA 94303

---

**Manuskripteinsendungen**: Manuskripte und Programmlistings werden gerne von der Redaktion angenommen. Sie müssen frei sein von Rechten Dritter. Sollten sie auch an anderer Stelle zur Veröffentlichung oder gewerblichen Nutzung angeboten werden, so muß dies angegeben werden. Mit der Einsendung von Manuskripten und Listings gibt der Verfasser die Zustimmung zum Abdruck in von der Markt & Technik Verlags AG herausgegebenen Publikationen und zur Vervielfältigung der Programmlistings auf Datenträger. Mit der Einsendung von Bauanleitungen gibt der Einsender die Zustimmung zum Abdruck in von Markt & Technik Verlag AG verlegten Publikationen und dazu, daß Markt & Technik Verlag AG Geräte und Bauteile nach der Bauanleitung herstellen läßt und vertreibt oder durch Dritte vertreiben läßt. Honorare nach Vereinbarung. Für unverlangt eingesandte Manuskripte und Listings wird keine Haftung übernommen.

---

**Vertriebsleitung**: Hans Hörl

---

**Anzeigenverwaltung und Disposition**: Michaela Hörl

---

**Verlagsleiter M&T-Buchverlag**: Günther Frank

---

**Druck**: R. Oldenbourg GmbH, Hürderstraße 4, 8011 Kirchheim.

---

**Preis**: Das Einzelheft kostet DM 14,—

---

**Vertrieb Handelsauflage**: Inland (Groß-, Einzel- und Bahnhofsbuchhandel) sowie Österreich und Schweiz: Pegasus Buch- und Zeitschriften-Vertriebs GmbH, Hauptstätter Straße 96, 7000 Stuttgart 1, Telefon (0711) 76 48 30

---

**Urheberrecht**: Alle in diesem Heft erschienenen Beiträge sind urheberrechtlich geschützt. Alle Rechte, auch Übersetzungen, vorbehalten. Reproduktionen gleich welcher Art, ob Fotokopie, Mikrofilm oder Erfassung in Datenverarbeitungsanlagen, nur mit schriftlicher Genehmigung des Verlages. Anfragen sind an Michael Scharfenberger zu richten. Für Schaltungen, Bauanleitungen und Programme, die als Beispiele veröffentlicht werden, können wir weder Gewähr noch irgendwelche Haftung übernehmen. Aus der Veröffentlichung kann nicht geschlossen werden, daß die beschriebenen Lösungen oder verwendeten Bezeichnungen frei von gewerblichen Schutzrechten sind. Anfragen für Sonderdrucke sind an Peter Wagstyl (185) zu richten.

---

**© 1985 Markt & Technik Verlag Aktiengesellschaft**

---

**Verantwortlich**:
Für redaktionellen Teil: Michael Scharfenberger
Für Anzeigen: Brigitte Fiebig
**Redaktions-Direktor**: Michael M. Pauly

---

**Vorstand**: Carl-Franz von Quadt, Otmar Weber

---

**Anschrift für Verlag, Redaktion, Vertrieb, Anzeigenverwaltung und alle Verantwortlichen:**
Markt & Technik Verlag Aktiengesellschaft, Hans-Pinsel-Straße 2, 8013 Haar bei München, Telefon (0 89) 4613-0, Telex 5-22 052

---

Aktionäre, die mehr als 25% des Kapitals halten: Otmar Weber, Ingenieur, München; Carl-Franz von Quadt, Betriebswirt, München. Aufsichtsrat: Dr. Robert Dissmann (Vorsitzender), Karl-Heinz Fanselow, Eduard Heilmayr
