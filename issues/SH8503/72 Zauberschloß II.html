<!DOCTYPE html>
<html lang="de">

<head>
    <title>Zauberschloß II</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="Josef Busin ,  rg">
    <meta name="64er.issue" content="Sonderheft 3/85">
    <meta name="64er.pages" content="72-82">
    <!-- <meta name="64er.toc_category" content="XXX"> -->
    <!-- <meta name="64er.toc_title" content="XXX"> -->
    <meta name="64er.id" content="XXX">
</head>

<body>
    <article>
        <h1>Zauberschloß II</h1>
        <p class="intro">Das Abenteuer ist noch nicht zu Ende. »Zauberschloß« endete damit, daß der böse Zauberer von Ihnen in eine Maus verwandelt wurde. Das dankbare Volk machte Sie darauf zum König. Doch es geht weiter.</p>

        <p>Nach über einem Jahr ist der böse Zauberer wieder zurückgekehrt, um das Volk abermals zu unterjochen, und Sie, den König, zu stürzen.</p>

        <p>Sollte es Ihnen noch einmal gelingen, in das Schloß einzudringen, den bösen Zauberer zu besiegen und mit seinem Zepter heil das Schloß zu verlassen, so wird der Thron endgültig Ihnen gehören.</p>

        <p>Hier noch einige Tips für einen erfolgreichen Spielverlauf: Wie Sie bald merken werden, ist ein Speer nicht gerade die ideale Waffe im Kampf gegen die Wache. Man sollte sich deshalb nach einer anderen Waffe umsehen.</p>

        <p>Ein weiteres Hilfsmittel ist der Zauberring. Mit seiner Hilfe kann man so mancher Gefahr entfliehen. Sollten Sie einmal im Kerker landen, so brauchen Sie nicht gleich den Kopf hängenzulassen. Mit ein bißchen Fingerspitzengefühl werden Sie vielleicht auch diese Hürde meistern.</p>

        <p>Als letzte Hilfe sei noch erwähnt, daß das Schloß aus insgesamt 100 Räumen besteht (4 Etagen à 25 Räume).</p>

        <h3>Zur Spielweise</h3>

        <p>Das Abenteuer beginnt in einer öden Gegend. Um von dort aus in das Schloß zu gelangen, müssen die richtigen Kommandos eingegeben werden.</p>

        <p>Ein Kommando besteht entweder aus der Himmelsrichtung, in die man gehen will (nur der Anfangsbuchstabe), oder einem der hier aufgeführten Befehle:</p>

        <pre><code>BEKÄMPFE BENUTZE BESTECHE ESSE FANGE KÜSSE LESE
LIST NIMM ÖFFNE SAGE TRINKE VERLIERE ZERSCHLAGE
</code></pre>

        <p>Hinter dem Befehl muß noch der entsprechende Gegenstand eingegeben werden, mit dem man etwas machen will. Zwischen Befehl und Gegenstand muß sich ein Leerzeichen befinden. Gibt der Computer die Meldung »NICHT MÖGLICH« aus, so wurde etwas falsch eingegeben, ein anderer Befehl benutzt oder ein Gegenstand eingegeben, den man nicht bei sich trägt, oder der Raum nicht vorhanden ist. Außerdem kann diese Fehlermeldung auftreten, wenn man bereits vier Gegenstände mit sich herumträgt und einen fünften aufnehmen will. Bei unsinnigen Kommandoeingaben, wie zum Beispiel ESSE WACHE, wird diese Fehlermeldung ebenfalls ausgegeben.</p>

        <p>Wenn man wissen will, was man alles mit sich herumträgt, braucht man nur den Befehl LIST einzugeben.</p>

        <h3>Vorprogramm</h3>

        <p>Nach dem Starten des Vorprogramms (Listing 1) erscheint eine Frage nach dem verwendeten Massenspeicher. Man gibt K für Kassette oder D für Diskette ein.</p>

        <p>Bei Verwendung einer Floppy werden die Spritedaten wie ein Maschinenprogramm unter dem Namen »Zauber-Sprites 2« auf Diskette gespeichert. Gleichzeitig wird eine Prüfsumme gebildet. Erscheint nach dem Speichern eine Fehlermeldung, so hat man die DATAs nicht richtig eingetippt.</p>

        <p>Bei Verwendung einer Datasette werden die Spritedaten in den Sprite-Speicher gePOKEt (61440 bis 64703). Gleichzeitig wird wieder eine Prüfsumme gebildet.</p>

        <p>Falls die DATAs alle richtig waren, erscheint nun auf dem Bildschirm: LOAD"ZAUBERSCHLOSS 2"</p>

        <p>Man braucht jetzt nur noch RETURN zu drücken um das Hauptprogramm zu laden.</p>

        <p>Beide Programme können natürlich auch mit Turbo Tape geladen werden. Man braucht hierfür nur im Vorprogramm den Basic-Befehl LOAD durch den entsprechenden Befehl des Turbo Tape ersetzen. Man braucht auch nach dem Laden nicht mehr SYS 58541 eingeben, da dieser Befehl bereits vom Hauptprogramm ausgeführt wird.</p>

        <p>Im Hauptprogramm steht in Zeile 15 die Befehlsfolge zum absoluten Laden der Spritedaten von Diskette. Wenn man mit einer Datasette arbeitet, braucht man diese Zeile natürlich nicht einzugeben.</p>

        <h3>Hauptprogramm</h3>

        <p>Das zweite Programm (Listing 2) ist das Hauptprogramm.</p>

        <p>Zu Beginn werden vier kleine Maschinenroutinen eingelesen. Diese Routinen bewirken folgendes:</p>

        <p>Per Rasterinterrupt wird der Bildschirm farbig unterteilt, das heißt im oberen Teil ist die Rahmenfarbe Violett und die Hintergrundfarbe Schwarz oder Braun, während im unteren Teil des Bildschirms sowohl der Rahmen als auch der Hintergrund violett ist. Durch diesen Effekt entsteht ein Bildschirmfenster. Eine weitere Routine sorgt dafür, daß auf jeden Tastendruck ein anderer Ton erklingt. Auch diese Routine arbeitet auf Interruptebene.</p>

        <p>Die nächste Routine ist für »Schummler« gedacht, die ein Abenteuerspiel gern unterbrechen und die Variablen abfragen oder verändern. Bei einer Unterbrechung des Programms werden deshalb alle Variablen gelöscht und der Befehl CONT wird gesperrt.</p>

        <p>Die letzte Routine sorgt schließlich noch für die Verschiebung der einzelnen Speicher.</p>

        <address class="author">(Josef Busin / rg)</address>

        <figure>
            <table>
                <tbody>
                    <tr>
                        <td><b>Variable</b></td>
                        <td><b>Bedeutung</b></td>
                    </tr>
                    <tr>
                        <td>V</td>
                        <td>53248 (VIC-Startadresse)</td>
                    </tr>
                    <tr>
                        <td>S7</td>
                        <td>50168 (Sprite-Zeiger)</td>
                    </tr>
                    <tr>
                        <td>X7</td>
                        <td>Anzahl der in einem Raum befindlichen Sprites</td>
                    </tr>
                    <tr>
                        <td>NS,WO</td>
                        <td>Position in öder Gegend</td>
                    </tr>
                    <tr>
                        <td>FL</td>
                        <td>Fehlervariable</td>
                    </tr>
                    <tr>
                        <td>K1$</td>
                        <td>Kommandoeingabe (Befehl)</td>
                    </tr>
                    <tr>
                        <td>K2$</td>
                        <td>Kommandoeingabe (Gegenstand)</td>
                    </tr>
                    <tr>
                        <td>K$</td>
                        <td>Kommandoeingabe (Befehl + Gegenstand) Kommandoeingabe bei BEKÄMPFE</td>
                    </tr>
                    <tr>
                        <td>X1,X2,X3</td>
                        <td>Position im Schloß</td>
                    </tr>
                    <tr>
                        <td>B$(X)</td>
                        <td>Befehle</td>
                    </tr>
                    <tr>
                        <td>G$(X)</td>
                        <td>Gegenstände</td>
                    </tr>
                    <tr>
                        <td>F1(X,X,X)</td>
                        <td>Plan der festen Gegenstände</td>
                    </tr>
                    <tr>
                        <td>F2(X,X,X)</td>
                        <td>Plan der festen Gegenstände</td>
                    </tr>
                    <tr>
                        <td>B1(X,X,X)</td>
                        <td>Plan der beweglichen Gegenstände</td>
                    </tr>
                    <tr>
                        <td>B2(X,X,X)</td>
                        <td>Plan der beweglichen Gegenstände</td>
                    </tr>
                    <tr>
                        <td>TR$(X)</td>
                        <td>Gegenstände, die man herumträgt</td>
                    </tr>
                    <tr>
                        <td>A(X)</td>
                        <td>Zähler für die verschiedenen Wesen, wie lang man sich mit ihnen in einem Raum befindet.</td>
                    </tr>
                    <tr>
                        <td>ZA</td>
                        <td>Rundenzähler</td>
                    </tr>
                    <tr>
                        <td>G</td>
                        <td>Zähler für Schlangengift</td>
                    </tr>
                    <tr>
                        <td>ZT</td>
                        <td>Zähler für Zaubertrank</td>
                    </tr>
                    <tr>
                        <td>TU</td>
                        <td>Zustand derTüren (offen oder zu)</td>
                    </tr>
                    <tr>
                        <td>M</td>
                        <td>Spritenummer</td>
                    </tr>
                    <tr>
                        <td>J1</td>
                        <td>Hilfsvariable zur Ausgabe von Schädel und Gebein</td>
                    </tr>
                    <tr>
                        <td>K</td>
                        <td>Zähler für Aufenthalt im Kerker</td>
                    </tr>
                </tbody>
            </table>
            <figcaption>Variablenliste von »Zauberschloß II«</figcaption>
        </figure>
        <figure>
            <table>
                <tbody>
                    <tr>
                        <td><b>Zeilen</b></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>20 - 80</td>
                        <td>Maschinenprogramm einlesen und aktivieren</td>
                    </tr>
                    <tr>
                        <td>200 - 307</td>
                        <td>Titelbild und Spielerklärung</td>
                    </tr>
                    <tr>
                        <td>310- 400</td>
                        <td>Einlesen der neuen Zeichen</td>
                    </tr>
                    <tr>
                        <td>1010- 1080</td>
                        <td>»Öde Gegend« zeichnen</td>
                    </tr>
                    <tr>
                        <td>1100- 1200</td>
                        <td>Kommandoeingabe, Auswertung</td>
                    </tr>
                    <tr>
                        <td>2100- 2225</td>
                        <td>Daten für Schloßplan, Gegenstände, Befehle einlesen</td>
                    </tr>
                    <tr>
                        <td>2250 - 2400</td>
                        <td>Kommandoeingabe im Schloß, Richtungsabfrage, Zählererhöhung</td>
                    </tr>
                    <tr>
                        <td>3000- 3100</td>
                        <td>Befehlserkennung</td>
                    </tr>
                    <tr>
                        <td>3500 - 9820</td>
                        <td>Auswertung der Befehle, Reaktion auf die Befehle</td>
                    </tr>
                    <tr>
                        <td>9900 - 9970</td>
                        <td>Ausgabe der möglichen Richtungen im Schloß</td>
                    </tr>
                    <tr>
                        <td>10000 - 10750</td>
                        <td>ZeichnenderRäume</td>
                    </tr>
                    <tr>
                        <td>11000 - 11580</td>
                        <td>Ausgabe der im Raum befindlichen Gegenstände</td>
                    </tr>
                    <tr>
                        <td>12000 - 15050</td>
                        <td>ReaktionaufBefehle</td>
                    </tr>
                    <tr>
                        <td>20000 - 20050</td>
                        <td>Übergang zwischen »öder Gegend« und Schloß</td>
                    </tr>
                    <tr>
                        <td>21000 - 21030</td>
                        <td>Wiederherstellung der Daten der Sprite-Koordinaten</td>
                    </tr>
                    <tr>
                        <td>22000 - 22060</td>
                        <td>Schluß; Adventure gelöst</td>
                    </tr>
                    <tr>
                        <td>23000 - 24010</td>
                        <td>Reaktion auf Befehle</td>
                    </tr>
                    <tr>
                        <td>25000 - 25070</td>
                        <td>Zeichnen des Schlosses</td>
                    </tr>
                    <tr>
                        <td>26000 - 32030</td>
                        <td>Reaktion auf Befehle</td>
                    </tr>
                    <tr>
                        <td>55000</td>
                        <td>Schluß</td>
                    </tr>
                </tbody>
            </table>
            <figcaption>Programmbeschreibung »Zauberschloß II«</figcaption>
        </figure>
    </article>
</body>

</html>
