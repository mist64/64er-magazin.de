<!DOCTYPE html>
<html lang="de">

<head>
    <title>Vom Bildschirm auf Kassette/Diskette</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="Ralph Babel">
    <meta name="64er.issue" content="7/84">
    <meta name="64er.pages" content="135">
    <meta name="64er.head1" content="Tips & Tricks">
    <meta name="64er.head2" content="C 64/VC 20">
    <meta name="64er.toc_category" content="Programme zum Abtippen|Tips & Tricks"> <!-- was missing from TOC -->
    <meta name="64er.index_category" content="Listings zum Abtippen|Tips & Tricks|Grafik">
    <meta name="64er.id" content="screensave64">
</head>

<body>
    <article>
        <h1>Vom Bildschirm auf Kassette/Diskette</h1>

        <p>Das kurze Maschinenprogramm dient dazu, den Bildschirminhalt beim Commodore 64 abzuspeichern und auch wieder einzuladen. Dies kann mit einem Recorder oder Diskettenlaufwerk geschehen. Dabei werden außer dem eigentlichen Bildschirmspeicher (der an eine beliebige Stelle verschoben sein kann und nicht ab Adresse 1024 liegen muß) auch das Color-RAM und die Tabelle der Doppelzeilenkennzeichnungen mitberücksichtigt. Das Abspeichern und Einladen erfolgt über einen Pufferbereich im »versteckten« RAM ab 40960, da die drei verschiedenen Speicherbereiche in einem Stück abgespeichert und außerdem die 1000 Farbnibbles zu 500 Bytes zusammengeschoben werden. Das erspart beim Arbeiten mit dem Recorder wertvolle Zeit.</p>

        <p>Nach dem Eintippen des Basic-Loaders kann durch »RUN 16« geprüft werden, ob es richtig eingegeben wurde. Trotzdem sollte es vor dem Start abgespeichert werden, da auch durch Prüfsummen nicht alle Fehler erkannt werden können. Ausgegeben werden zwei Adressen für das Laden und Speichern. Das Programm kann an jede Stelle des Arbeitsspeichers geladen werden, in der vorliegenden Version lädt es sich an das Ende des Basic-Arbeitsspeichers. Es ist davon auszugehen, daß das Programm direkt nach dem Einschalten ohne andere Erweiterungen eingeladen und gestartet wird.</p>

        <p>Soll ein Bildschirminhalt auf Diskette abgespeichert werden, so erfolgt dies durch<br>
            SYS 40738 »FILENAME«, 8</p>

        <p>Beim Arbeiten mit Recorder kann (auch beim Einladen) die Gerätenummer entfallen; die Angabe einer Sekundäradresse ist nicht erlaubt. Durch das Abspeichern bedingte Betriebssystemmeldungen wie »PRESS RECORD &amp; PLAY« sowie das Scrolling des Bildschirms sind unbedeutend und werden nicht berücksichtigt. Alle Bildschirmdaten werden zuvor in einen Zwischenspeicher übertragen.</p>

        <p>Das Einladen solcherart abgespeicherter Bildschirminhalte geschieht mit<br>
            SYS 40833 »FILENAME«, 8</p>

        <p>Zunächst werden die Daten in den Puffer von Adresse 40960 bis 42483 geladen und dann in MSB-Tabelle, Farbspeicher und die momentan gewählte Videomatrix übertragen.</p>

        <address class="author">(Ralph Babel)</address>

        <figure>
            <pre data-filename="screensave64" data-name="Screensave 64"></pre>
		</figure>
    </article>
</body>
</html>
