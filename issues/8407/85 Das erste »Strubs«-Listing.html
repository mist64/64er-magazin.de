<!DOCTYPE html>
<html lang="de">

<head>
    <title>Das erste »Strubs«-Listing</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="XXX">
    <meta name="64er.issue" content="7/84">
    <meta name="64er.pages" content="85-88">
    <meta name="64er.head1" content="Erstes Strubs-Listing">
    <meta name="64er.head2" content="VC 20">
    <meta name="64er.toc_title" content="XXX">
    <meta name="64er.toc_category" content="XXX">
    <meta name="64er.index_title" content="XXX">
    <meta name="64er.index_category" content="XXX">
    <meta name="64er.id" content="erstes_strubs">
</head>

<body>
    <article>
        <h1>Das erste »Strubs«-Listing</h1>

        <p class="intro">Unser Kurs über den Precompiler »Strubs« ist erst in dieser Ausgabe beendet worden. Und doch hat uns schon jetzt das erste mit »Strubs« erstellte Listing erreicht.</p>

        <p>Ich war so begeistert, daß ich mich gleich hingesetzt und ein Programm geschrieben hatte, um die Fähigkeiten von Strubs zu testen, und ich muß sagen, Strubs ist ein Programm, das hält, was es verspricht.</p>

        <p>Das von mir mit Strubs entwickelte Programm »Menü« liegt als Quell- und Objektprogramm vor. Der Benutzer kann damit seine Programme nur mit Hilfe der Funktionstasten und der Returntaste auswählen und starten, so daß die umständliche Ladeprozedur per Hand entfällt.</p>

        <p>Will man mit »Menü« arbeiten, trägt man zunächst in Data-Zeilen ab Zeilennummer 10 den Text, der auf dem Bildschirm erscheinen soll (maximal 34 Zeichen ein und dann in der gleichen Zeile — durch Komma getrennt — den genauen Namen des Programms, das geladen werden soll. Die Verwendung des Jokers (*) zur Abkürzung ist dabei auch möglich. Anschließend speichert man Menü ab und kann es starten.</p>

        <p>»Menü« faßt immer 10 Programme auf einer Bildschirmseite zusammen und blättert — je nachdem man mit dem Pfeil, der auf die Programme zeigt, nach unten oder nach oben aus dem Bildschirm heraus will — weiter oder zurück.</p>

        <p>Bei Programmen, die größer sind als »Menü« ist darauf zu achten, daß in der ersten bearbeiteten Programmzeile eine Routine steht, die die Pointer auf das Basic-Ende ausrichtet (siehe dazu Zeile 1 von »Menü«).</p>

        <p>Ersetzt man in den Programmen, die durch »Menü« geladen werden sollen noch die END-Anweisung — oder das Programmende, falls keine END vorhanden — durch LOAD”MENUE”,8, so wird nach Beendigung des gewählten Programms automatisch wieder »Menü« geladen.</p>

        <p>Vorsicht ist geboten bei Programmen, die den BASIC-Anfang oder das RAM-Ende verschieben, da diese Programme zum Systemabsturz führen, wenn man die entsprechenden Vektoren nicht zurücksetzt.</p>

        <p>»Menü« müßte auch auf dem C 64 laufen, ich konnte es aber leider nicht testen.</p>

        <p>(Gerd Sombetzki)</p>

        <aside>
            Folgende Änderungen nahm ich für meinen VC 20 mit 40/80 Zeichenkarte, 32 K-RAM, Floppy 1541 und VC 1526 vor. Zunächst verlegte ich die Maschinenroutine in den Kassettenpuffer. Zeile: 45610 POKE 828 + i, w: ...usw.
            Der Sprung zur Interpreterroutine $A7E7 = #167 liegt beim VC 20 bei $C7E7 = #199. Außerdem fehlte das im Assemblerlisting vorhandene PLP = $28 = #40.
            D.h.:Zeile 45620 DATA32, 115,0,8,201,33,240,4,40,76,231, <u>199,40</u>
            45630 DATA169,<u>18</u>,133,44,169,138,76,231,<u>199</u>,999
            Verschieben der Initialisierungsroutine:
            45650 FORI = 0TO10:READW:POKE<u>850</u> + I,W
            45670 SYS<u>850</u>
            45680 DATA169,<u>60</u>,141,8,3,169,3,141,9,3,96

            Die Änderung des Wertes 8 in 18 in der Zeile 45630 ist notwendig, da der Basic-Anfang beim VC-20 mit Erweiterung ) = 8K bei $1200 beginnt, also Highbyte $12 = #18.
        </aside>



    </article>

</body>

</html>
