<!DOCTYPE html>
<html lang="de">

<head>
    <title>Programm-Generator für den C 64</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="Michael Dietz, ah">
    <meta name="64er.issue" content="10/85">
    <meta name="64er.pages" content="86">
    <meta name="64er.head1" content="Tips und Tricks">
    <meta name="64er.head2" content="C 64">
    <meta name="64er.toc_category" content="Listings zum Abtippen|Tips und Tricks">
    <meta name="64er.index_title" content="Programmgenerator für den C 64">
    <meta name="64er.index_category" content="Listings zum Abtippen|Tips & Tricks">
    <meta name="64er.id" content="generator">
</head>

<body>
    <article>
        <h1>Programm-Generator für den C 64</h1>
        <p class="intro">Diese Routine kann Basic-Zeilen innerhalb eines Basic-Programms erzeugen, löschen und in einen String einlesen, ohne Variablen zu zerstören.</p>

        <p>Das Programm (Listing 1) ist vollständig in Maschinensprache geschrieben und belegt den Speicherbereich von $C800 bis $CA70. Nach dem Laden ist eine Initialisierung nicht notwendig. Um die Basic-Zeiger zurückzusetzen, ist nur ein NEW &lt;RETURN&gt; einzugeben.</p>

        <p>Zum Erzeugen einer Basic-Zeile ist die Zeile selbst in einem String abzulegen. Anschließend kann dieser String mit
            <code>SYS51200, String</code>
            in das Basic-Programm eingebunden werden. Zum Beispiel:
            <code>A$="100 S=SQR (2):PRINTS,S+100":SYS 51200,A$</code>
        </p>

        <p>Mit dem Befehl SYS 51442, Zeilennummer, läßt sich eine Basic-Zeile innerhalb eines Basic-Programms löschen.</p>

        <p>Der Befehl
            <code>SYS 51442,100</code>
            löscht zum Beispiel die Zeile 100. Beim Generieren oder Löschen ergeben sich folgende Einschränkungen:
        </p>

        <ol>
            <li>Der Aufruf (SYS 51200,A$ oder SYS 51442,100) darf nicht innerhalb einer FOR-NEXT-Schleife stehen.</li>
            <li>SYS 51200,A$ oder SYS51442,100 darf nicht in einem Unterprogramm stehen, falls sich die neue oder die zu löschende Zeile vor diesem Unterprogramm befindet.</li>
        </ol>

        <p>Auch kann der Programm-Generator Zeilen in einen String einlesen. Dazu muß der String vorher jedoch mit beliebigen Zeichen gefüllt werden. Dabei gilt: Anzahl der Zeichen &gt;= Anzahl der Zeichen in der zu erwartenden Zeile.</p>

        <p>Es bietet sich natürlich an, den String mit Leerzeichen (CHR$(32)) zu belegen.</p>

        <p>Anschließend kann die Zeile mit
            <code>SYS 51642, String, Zeilennummer</code>
            eingelesen werden.
        </p>

        <p class="noindent">Beispiel:</p>

        <figure>
            <p>
                <code>100 S=SQR(2):PRINTS,S + 100
                    110 A$=”
                    120 SYS51642,A$,100
                    130 PRINT A$
                </code>
            </p>
        </figure>

        <p>Nach dem Start dieses Beispiels mit RUN &lt;RETURN> erscheint auf dem Bildschirm die Zeile 100:
            <code>S=SQR(2): PRINT S, S+100

                READY.
            </code>
        </p>

        <p>Für dieses Programm gibt es nun eine Anzahl von Anwendungsmöglichkeiten. Es läßt sich zum Beispiel ein nur acht Zeilen langes Basic-Programm schreiben, das ein Maschinenprogramm in DATA-Zeilen ablegt (Listing 2).</p>

        <p>Dabei wird etwa die Geschwindigkeit erreicht, die die entsprechende Routine im SMON hat. Außerdem wäre ein »intelligentes« Programm vorstellbar, das sich selbst verändert. Typische Maschinenroutinen wie RENUMBER, FIND und AUTO sind natürlich auch denkbar. Sie sehen, die Möglichkeiten dieses Programm-Generators sind nahezu unbegrenzt.</p>

        <address class="author">(Michael Dietz/ah)</address>

        <figure>
            <pre data-filename="programm gen.prg" data-name="Programm-Generator" data-mse=mse1></pre>
            <figcaption>Listing 1 »Programm-Generator«. Bitte beachten Sie die Eingabehinweise auf Seite 54.</figcaption>
        </figure>
        <div class="binary_download" data-filename="programm gen.prg" data-name="Programm-Generator"></div>

        <figure>
            <pre data-filename="programm gen bsp" data-name="Programm-Generator Beispiel"></pre>
            <figcaption>Listing 2. Mit nur acht Basic-Zeilen lassen sich Maschinenprogramme in DATA-Zeilen ablegen.</figcaption>
        </figure>
    </article>
</body>

</html>
