<!DOCTYPE html>
<html lang="de">

<head>
    <title>Aufgeräumt mit Mainfile II</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="Dieter Hein, tr">
    <meta name="64er.issue" content="10/85">
    <meta name="64er.pages" content="157">
    <!-- <meta name="64er.toc_category" content="XXX"> -->
    <!-- <meta name="64er.toc_title" content="XXX"> -->
    <meta name="64er.id" content="XXX">
</head>

<body>
    <article>
        <h1>Aufgeräumt mit Mainfile II</h1>
        <p class="intro">Bringen Sie Ordnung in Ihre Karteikästen und Adressenbücher! Mainfile II ist ein Hilfsmittel zur einfachen Programmierung von Dateiverwaltungen. Das Besondere: es belegt keinerlei Speicher im Computer.</p>

        <p>Während herkömmliche Programme zur Dateierstellung und Dateiverwaltung sequentielle oder relative Dateien anlegen, folgt Mainfile II wegen der mit den genannten Dateitypen verbundenen Nachteile einem völlig anderen Prinzip: Mainfile II ist eine von Grund auf neue Betriebssystemerweiterung für Commodore-Diskettenlaufwerke. Mainfile II ist völlig unabhängig vom Commodore-Computer. Voraussetzung an den Computer ist lediglich, daß die Floppy 1541 anschließbar ist, da sich alles in deren RAM abspielt. Einsetzbar ist Mainfile II bisher für C 16, VC 20, C 64, SX 64, C 116 und Plus/4!</p>

        <p>Mit Mainfile II können pro Diskette bis zu 114 Dateien erstellt werden. Eine Datei besteht dabei aus einzelnen Datensätzen, auf die man extrem einfach und schnell zugreifen kann. Eine Diskette kann maximal 650 Datensätze zu je 228 Byte enthalten.</p>

        <p>Bevor man mit Mainfile II zu arbeiten beginnt, muß man sich eine Datendiskette mit den vier sogenannten Makrobefehlen erstellen. Alle Makrobefehle sind durch ein vorangestelltes &amp;-Zeichen kenntlich gemacht. Dem Kopieren dieser Befehle dient ein auf der Systemdiskette befindliches Programm.</p>

        <p>Ungewohnt bei Mainfile II ist, daß keinerlei Programme in den Computer geladen werden müssen. Zuerst einmal ist ein Öffnen der Kanäle 2 und 15 zur Übertragung von Daten, Befehlen und Meldungen an die Floppy erforderlich. Mit PRINT #15, &ldquo;&amp;CREATE,Test&rdquo; wird der Makrobefehl CREATE aufgerufen, der eine neue Datei mit dem Namen »Test« auf der Diskette einrichtet.</p>

        <p>Die Befehlsfolge PRINT#15,&ldquo;&amp; MAINFILE,Test&rdquo; aktiviert das Mainfile II-System und gibt den Namen der Datei an, auf die zugegriffen werden soll.</p>

        <p>Der einfachste Weg, sich in Mainfile II einzuarbeiten, ist wohl das Laden des Demo-Programmes von der Systemdiskette. Nachdem das in Basic geschriebene Demonstrationsprogramm zur Erstellung und Bearbeitung einer Adreßdatei gestartet wurde, wird man aufgefordert, die Datendiskette einzulegen.</p>

        <p>Nur beschränkt durch die Kapazität der Diskette wäre es theoretisch möglich, 650 Datensätze mit Name, Vorname, Straße, Wohnort und Telefonnummer einzutragen. Namen dürfen leider nicht mehrfach vorkommen, da sie nicht unterschieden werden können. Jeder Datensatz wird unmittelbar nach der Eingabe über den Kanal # 2 zur Floppy übertragen und in der Datei, deren Name vorher mit »Demo« definiert wurde, gespeichert.</p>

        <p>Die eingegebenen Datensätze können anschließend bearbeitet oder nach bis zu acht Kriterien durchsucht werden. Zum Auswerten der Datensätze definiert man Suchbegriffe, indem man zum Beispiel »1 München« eingibt. Anschließend kann man mit dem Kriterium »1« alle Adressen, in denen das Wort »München« vorkommt, suchen und zur Bearbeitung ausgeben lassen. Nachdem man so Mainfile II etwas erprobt hat, sollte man sich das Listing des Demo-Programmes vornehmen. Es ist so klar und übersichtlich geschrieben, daß man die praktische Verwendung aller wesentlichen Befehle sehr schnell versteht (gewisse Grundkenntnisse der Programmiersprache Basic vorausgesetzt). Die klare Gliederung ergibt sich insbesondere durch die hier konsequent benutzte Unterprogrammtechnik.</p>

        <p>Mainfile II benutzt die binäre Datenspeicherung: Der zuerst eingegebene Datensatz wird als Vater bezeichnet. Der Vater kann zwei Söhne haben. Ein Sohn ist dabei alphabetisch kleiner, der andere alphabetisch größer als der Vater. Entsprechend kann jeder Sohn wieder Vater von zwei eigenen Söhnen sein. Beim Suchen hangelt sich Mainfile II dann durch den so erstellten Binärbaum. Selbstverständlich ist es bei diesem Anordungsprinzip nicht sinnvoll, Datensätze alphabetisch geordnet einzugeben, der Suchbaum würde entarten, da immer nur »große Söhne« angelegt würden.</p>

        <h2>Befehlssatz:</h2>

        <p><strong>&amp;CREATE</strong> legt eine Mainfile II-Datei auf der Diskette an<br>
            <strong>&amp;MAINFILE</strong> aktiviert die Userbefehle<br>
            <strong>&amp;PROTECT</strong> schützt ein File vor dem Löschen mit dem DOS-Befehl SCRATCH<br>
            <strong>&amp;UNPROTECT</strong> hebt den Löschschutz auf UAPPEND ermöglicht das Anhängen weiterer Daten an einen schon bestehenden Datensatz UBACK sucht den alphabetischen Vorfahr UEND beendet einen Schreibvorgang in eine Datei<br>
            <strong>UFIND</strong> sucht einen mit seinem Namen bezeichneten Datensatz<br>
            <strong>UHELP</strong> gibt den Namen, Track und Sektor des aktuellen Datensatzes aus<br>
            <strong>UINITIALIZE</strong> versetzt das Laufwerk in seinen Einschaltzustand<br>
            <strong>UJOKER</strong> definiert einen Testjoker, der beim Suchen überlesen wird<br>
            <strong>UKEY</strong> ermöglicht die Definition von bis zu acht Suchtexten<br>
            <strong>UMOVE</strong> bewirkt ein Lesen des Datenblockes durch Angabe des entsprechenden Zeigers UNEXT sucht den alphabetischen Nachfolger UOFF schaltet die User-Befehle ab und versetzt das Laufwerk in den Grundzustand<br>
            <strong>UPOS</strong> gestattet Direktzugriff durch Angabe von Track und Sektor<br>
            <strong>USCRATCH</strong> löscht Datensätze<br>
            <strong>UTEST</strong> testet den aktuellen Datensatz auf Name und Suchbegriffe<br>
            <strong>UVALIDATE</strong> belegt die von Mainfile II benutzten Blöcke<br>
            <strong>UWRITE</strong> legt einen neuen Datensatz an oder überschreibt einen alten
        </p>

        <p>Mainfile II kann in jeder Programmiersprache, die Kommandos an die Floppy zuläßt, eingesetzt werden. An den relevanten Stellen ist nur der entsprechende Befehl einzugeben.</p>

        <h3>Fazit:</h3>

        <p>Mainfile II ist für alle fortgeschrittenen Basic-Programmierer empfehlenswert, die ein schnelles und komfortables Hilfsmittel zur Programmierung von Datenverwaltung suchen. Es muß aber an dieser Stelle vor dem nicht nur für Anfänger teilweise unverständlichen und lückenhaften Handbuch gewarnt werden. (Um ein erstes Arbeiten mit dem Programm überhaupt erst möglich zu machen, müssen die Makrobefehle auf eine eigene Diskette kopiert werden.) Weiterhin sollte der Käufer bereits über umfangreiche Programmkenntnisse verfügen. Der Sinn von Mainfile II besteht darin, sich seine eigenen Datenverwaltungen zu programmieren.</p>

        <address class="author">(Dieter Hein/tr)</address>

        <p>Info: Mainfile II, GES-Computer, Steinheimer Straße 22, 6450 Hanau. Unverbindliche Preisempfehlung: 98 Mark</p>
    </article>
</body>

</html>
