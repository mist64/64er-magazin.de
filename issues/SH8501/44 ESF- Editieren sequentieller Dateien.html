<!DOCTYPE html>
<html lang="de">

<head>
    <title>ESF: Editieren sequentieller Dateien</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="G. Kluge">
    <meta name="64er.issue" content="Sonderheft 1/85">
    <meta name="64er.pages" content="44-46">
    <meta name="64er.head1" content="Sequentielle Files">
    <meta name="64er.head2" content="C 64">
    <meta name="64er.toc_title" content="Editieren sequentieller Dateien (C 64)">
    <meta name="64er.toc_category" content="">
    <meta name="64er.index_category" content="Listings zum Abtippen|Datei">
    <meta name="64er.id" content="esf">
</head>

<body>
    <article>
        <h1>ESF: Editieren sequentieller Dateien</h1>

        <p class="intro">
        Oft kommt es vor, gerade beim Programmieren von Datei-Verwaltungen, daß sich Fehler einschleichen. Wenn sich diese Fehler innerhalb einer sequentiellen Datei befinden, hilft Ihnen dieses Programm, sie zu finden und zu verbessern.</p>

        <p>Mit diesem Programm können Sie jede beliebige sequentielle Datei lesen, editieren, drucken und wieder neu abspeichern. Es gibt mehrere Anwendungsfälle für ESF:</p>

        <ol>
            <li>Sie haben auf einer Diskette ein sequentielles File und möchten wissen, was dort gespeichert steht. Mit ESF ist das kein Problem.</li>
            <li>Sie benutzen in einem Programm eine sequentielle Datei und erhalten bei der Ausgabe nicht das gewünschte Ergebnis. Um den Fehler schneller zu finden, können Sie mit ESF die Datei anschauen und drucken. So erkennen Sie zum Beispiel, ob schon beim Speichern Fehler gemacht wurden oder erst beim Lesen der Daten. Somit lassen sich Fehlerquellen eingrenzen. Auch Änderungen lassen sich einfach durchführen. Datensätze können gelöscht oder verändert, aber auch zusätzliche an beliebiger Stelle hinzugefügt werden.</li>
        </ol>

        <h3>Bedienung des Programms</h3>

        <p>ESF ist ein reines Basic-Programm und wird mit LOAD "ESF*",8 geladen. Es ist vollständig menügesteuert. Nach dem Start muß der Dateiname eingegeben werden. Sie sollten also vor dem Laden von ESF wissen, welche Datei bearbeitet werden soll. Die nächste Frage entscheidet über die Art des Einlesens, entweder mit GET # oder mit INPUT #.</p>

        <p>Mit INPUT# wird jeder Datensatz bis zum nächsten Trennungszeichen (CHR$(13)) auf einmal gelesen. Mit der Leertaste werden weitere Sätze angezeigt. Jeder Datensatz wird numeriert (nur auf dem Bildschirm oder später auf dem Drucker, nicht in der Datei selbst). Die Nummern werden revers am linken Bildschirmrand ausgegeben. Sie erleichtern des Editieren.</p>

        <p>Da Datensätze länger als 88 Zeichen sein können, kann auch GET # benutzt werden. Mit INPUT# gäbe es ein »STRING TOO LONG ERROR«. Dann wird mit jeder Betätigung der Leertaste ein einziges Zeichen gelesen. Diese Zeichen werden solange aneinandergefügt, bis das Trennungszeichen (CHR$(13)) erscheint. Es wird durch ein »*« sichtbar gemacht. Lesen mit GET # dauert zwar länger, jedoch können sämtliche Zeichen gelesen werden, also auch Kommata.</p>

        <p>Wenn Sie einen Drucker haben, sollten Sie sich die Datei ausdrucken lassen. Das geht mit jedem Drucker, der mit OPEN 1,4 angesprochen werden kann. Auch hier werden, wie schon erwähnt, die Datensätze numeriert. Die Nummern brauchen sie beim Einfügen, Ändern und Löschen. Mit ihnen kann jeder Satz angesprochen werden.</p>

        <p>Beim Einfügen und Andern haben Sie ebenfalls die Möglichkeit, dies entweder mittels GET oder INPUT zu machen. GET sollte dann gewählt werden, wenn im Datensatz Kommata oder andere Zeichen vorkommen sollen, die INPUT nicht akzeptiert, oder bei Eingaben länger als 88 Zeichen. In jedem Fall wird die Eingabe mit der RETURN-Taste abgeschlossen.</p>

        <p>Die Datei kann erneut abgespeichert werden, unabhängig, ob sie verändert wurde oder nicht. Sie kann sowohl einen neuen Namen erhalten (die bisherige Version wird nicht gelöscht), als auch überschrieben werden. Eine Sicherheitsabfrage verhindert ein versehentliches überschreiben. Anschließend startet ESF erneut.</p>

        <address class="author">(G. Kluge)</address>

        <figure>
            <p><b>Variablenliste</b></p>
            <p>TE$(I) = jedes Element enthält einen Datensatz</p>
            <p>N$ = enthält den Dateinamen</p>
            <p>Fl$ = Dateiname plus Parameter zum Öffnen der Datei</p>
            <p>A$ = eingelesenes Zeichen (GET) oder Zeile (INPUT)</p>
            <p>ST = Statusvariable = 64, wenn Dateiende erreicht</p>
            <p>A1,A2$,A3,A4 = Fehlermeldungen bei Floppy-Fehler</p>
            <p>I = Anzahl der bisher gelesenen Datensätze</p>
            <p>N = Nummer der Zeile, die geändert, eingefügt oder gelöscht werden soll.</p>
        </figure>

        <figure>
            <pre data-filename="edit seq-file" data-name="Edit SEQ-File" data-checksummer="1"></pre>
        </figure>

    </article>

</body>

</html>
