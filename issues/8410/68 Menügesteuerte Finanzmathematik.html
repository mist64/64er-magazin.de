<!DOCTYPE html>
<html lang="de">

<head>
    <title>Menügesteuerte Finanzmathematik</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="Klaus Klöker">
    <meta name="64er.issue" content="10/84">
    <meta name="64er.pages" content="68-77">
    <meta name="64er.head1" content="Anwendung des Monats">
    <meta name="64er.head2" content="C 64">
    <meta name="64er.toc_category" content="Anwendung des Monats">
    <meta name="64er.index_title" content="Menügesteuerte Finanzmathematik (AdM)">
    <meta name="64er.index_category" content="Listings zum Abtippen|Anwendung|Finanzen">
    <meta name="64er.id" content="finanzmathematik">
</head>

<body>
    <article>
        <h1>Menügesteuerte Finanzmathematik</h1>

        <p class="intro">Zwei herausragende Eigenschaften machen dieses Programm für alle C 64-Besitzer interessant: Die sehr gute Menütechnik und der modulare Bildschirmmaskenaufbau.</p>

        <p>Wer wünscht sich nicht, daß Programme von Diskette auf Tastendruck geladen, beziehungsweise nachgeladen werden? Wenn Sie das Menüprogramm dieses Listings übernehmen und für Ihren Bedarf abändern, ist das Laden von Programmen kein Problem mehr.</p>

        <p>Das Programm wird geladen mit dem Befehl:<br>
            LOAD "Menü" ,8<br>
            Gestartet wird dann mit dem Befehl: RUN</p>

        <p>Wählen Sie nun mit den Funktionstasten F3 und F5 die Nummer des Programmes, mit welchem Sie als nächstes arbeiten wollen. Sie erkennen Ihre augenblickliche Position an der blinkenden Zahl.</p>

        <p>Nach beendeter Wahl drücken Sie »RETURN«. Dann wird das Programm geladen, dessen Zahl gerade blinkt und an der sich nach »RETURN« ein ← (Pfeil links) befindet.</p>

        <p><strong> Bedienungsanleitung für das Programm:</strong><br>
            <strong> Erstellen eines Tilgungsplanes.</strong>
        </p>

        <p>Nach erfolgter Auswahl im Hauptmenü wird das Programm automatisch gestartet.</p>

        <p>Durch entsprechende Informationen in der Fußzeile erklärt sich das Programm im wesentlichen selbst. Allerdings mußte manchmal wegen Platzmangel darauf verzichtet werden.<br>
            Grundsätzlich gilt:</p>

        <ul>
            <li>Bis auf die Funktionstasten erfolgt bei jeder Eingabe und Auswahl ein Abschluß mit »RETURN«.</li>
            <li>Bei der Auswahl im Programm, wird immer mit den Tasten F3 und F5 gewählt, nach Drücken von »RETURN« wird immer das als nächstes ausgeführt, was zuletzt geblinkt hat.</li>
            <li>Zum Abschluß der Dateneingabe gilt für die Abfrage, ob die Eingabe korrekt ist, folgendes:
                <ol type="a">
                    <li>Zugelassen sind die Buchstaben j (a) und n (nein).</li>
                    <li>Die Antwort kann bis zum Abschluß mit »RETURN« durch die Taste »DEL« korrigiert werden.</li>
                </ol>
            </li>
            <li>Während der Dateneingabe, kann man durch Drücken der Taste Fl zum ersten Auswahlmenü zurückkehren.</li>
            <li>Wird die Tabelle auf dem Bildschirm ausgedruckt, kann man den Bildschirmausschnitt, innerhalb der festgesetzten Grenzen verändern.</li>
            Mit F1 kehrt man zur alten Bildschirmmaske zurück.</li>
            Das Ausgabefeld »Resultat« enthält folgende Informationen:</li>
            <li>Zinsaufwand (gesamt): Dieser Summe entsprechen sämtliche in den einzelnen Jahren zu zahlende Zinsen.</li>
            <li>Annuität (gesamt): Dies ist die Summe, die man insgesamt zurückzahlen muß (Zins- und Tilgungsanteil zusammen),</li>
            Im linken unteren Feld wird noch einmal angegeben, wie hoch der Zinsanteil von der Annuität in Prozent ist. Dieses Programm stellt Tilgungspläne bis zu einer Laufzeit von 50 Jahren auf. Falls dies nicht ausreicht, braucht in Zeile neun nur die Dimensionierung der Variablen e und e$ erhöht werden.</li>
        </ul>

        <address class="author">(Klaus Klöker/rg)</address>

        <aside>
            <h2>Lebenslauf</h2>

            <img src="68-1.png" alt="" class="inline">

            <p>Ich bin 20 Jahre alt, habe im Frühjahr dieses Jahres mein Abitur bestanden und im August eine Ausbildung als Bankkaufmann begonnen.</p>

            <p>In meiner Freizeit beschäftige ich mich gerne mit Geschichte und der Computerprogrammierung.</p>

            <h2>Entstehungsgeschichte und Anwendung</h2>

            <p>Entstanden ist das Programm aufgrund eines Kurses über Finanzmathematik.</p>

            <p>Es schien mir damals zweckmäßig, Tilgungspläne mit dem Computer aufzustellen. Dieser absolviert seine Arbeit sekundenschnell und fehlerfrei. Wer selbst einmal Tilgung »zu Fuß« geplant hat, weiß, daß gerade letzteres keine Selbstverständlichkeit ist (bei 20 Jahren Laufzeit und 6 Beträgen pro Jahr, müssen immerhin 120 Beträge einzeln berechnet werden).</p>

            <p>Einen großen Teil der Programmierzeit beanspruchte der Aufbau der Bildschirmmasken und die Menüsteuerung. Ich hielt diesen Aufwand für angebracht, weil die Anwendung bequemer ist und außerdem mehr Spaß macht. Wer sich das Programm »Tilgungspläne« genauer anschaut, wird feststellen, daß man durch einfaches Austauschen der Formeln verschiedene Tabellen aufstellen kann, obwohl nur eine begrenzte Zahl von Eingabekriterien notwendigist.</p>

            <address class="author">(Klaus Klöker)</address>
        </aside>

        <figure>
            <b>Programmdokumentation: Menü</b>
            <table>
                <tbody>
                    <tr>
                        <td>200 - 260:</td>
                        <td>Aufbau der Bildschirmmaske</td>
                    </tr>
                    <tr>
                        <td>300 - 390:</td>
                        <td>Auswahlroutine durch Betätigen der Funktionstasten
                        </td>
                    </tr>
                    <tr>
                        <td>400 - 410:</td>
                        <td>Sprung in die Zeile, in der das entsprechende Programm geladen, oder in der das Programm beendet wird</td>
                    </tr>
                    <tr>
                        <td>900 - 960:</td>
                        <td>Festlegung der Variablen</td>
                    </tr>
                </tbody>
            </table>
            <b>Variablenliste: Menü</b>
            <table>
                <tbody>
                    <tr>
                        <td>na$ (...) =</td>
                        <td>Nummern der Programme</td>
                    </tr>
                    <tr>
                        <td>nb$ (...) =</td>
                        <td>Namen der Programme</td>
                    </tr>
                    <tr>
                        <td>Z =</td>
                        <td>Zeile</td>
                    </tr>
                    <tr>
                        <td>S =</td>
                        <td>Spalte</td>
                    </tr>
                    <tr>
                        <td>Y =</td>
                        <td>Index der indizierten Variablen</td>
                    </tr>
                    <tr>
                        <td>g$ =</td>
                        <td>Eingabevariable der get-Anweisung</td>
                    </tr>
                </tbody>
            </table>
            <b>Programmdokumentation: Zinsrechnung</b>
            <table>
                <tbody>
                    <tr>
                        <td>10-30</td>
                        <td>Unterprogramm zum Löschen des rechten oberen und linken unteren Bildschirmfensters</td>
                    </tr>
                    <tr>
                        <td>70-75</td>
                        <td>Unterprogramm zur Rundung der Ergebnisse und zur Umwandlung in einen String</td>
                    </tr>
                    <tr>
                        <td>80</td>
                        <td>Unterprogramm zum Laden des Menüs</td>
                    </tr>
                    <tr>
                        <td>90</td>
                        <td>Unterprogramm zum Setzen des Cursors, an die Stelle, welche mit Z = Zeile und S = Spalte vor dem Sprungbefehl festgelegt wurde</td>
                    </tr>
                    <tr>
                        <td>95</td>
                        <td>Unterprogramm zum Zeichnen einer Linie</td>
                    </tr>
                    <tr>
                        <td>100 - 195</td>
                        <td>Auswahlroutine mit den Funktionstasten der entsprechenden reversen Felder oben links und unten links.</td>
                    </tr>
                    <tr>
                        <td>200 - 290</td>
                        <td>Auswahlroutine mit den Funktionstasten der Fußzeile.</td>
                    </tr>
                    <tr>
                        <td>300 - 480</td>
                        <td>Eingaberoutine</td>
                    </tr>
                    <tr>
                        <td>1000 - 1180</td>
                        <td>Beginn des Hauptprogramms:<br>
                            — Aufbau der Bildschirmmaske<br>
                            — Sprung in die Auswahlroutine, um festzulegen, was berechnet werden soll.
                        </td>
                    </tr>
                    <tr>
                        <td>2000 - 2140</td>
                        <td>Aufbau der Eingabemaske und Eingabe der Daten mittels der Eingaberoutine. Anschließend erfolgt Abfrage, ob die Eingabe korrekt ist.</td>
                    </tr>
                    <tr>
                        <td>3000 - 3040</td>
                        <td>Berechnung des vorher ausgewählten Ergebnisses
                        </td>
                    </tr>
                    <tr>
                        <td>3500 - 3610</td>
                        <td>Ausdruck des Ergebnisses. Es werden ausgedruckt:<br>
                            — die am Anfang festgelegten Kriterien<br>
                            — die eingegebenen Daten<br>
                            — das Endergebnis<br>
                            Es folgt: Aufbau der Fußzeile mit der Möglichkeit durch Wahl mit den Funktionstasten entsprechend zu verzweigen.
                        </td>
                    </tr>
                </tbody>
            </table>            
            <b>Variablenliste: Zinsrechnung</b>
            <table>
                <tbody>
                    <tr>
                        <td>ma$:</td>
                        <td>Kopfzeile</td>
                    </tr>
                    <tr>
                        <td>mb$, mc$, md$:</td>
                        <td>Fußzeilen</td>
                    </tr>
                    <tr>
                        <td>a$ (...)</td>
                        <td>Eingabekriterien</td>
                    </tr>
                    <tr>
                        <td>ka$; p$; zi$; ja$; mo$; ta$</td>
                        <td>Ein- und Ausgabekriterien</td>
                    </tr>
                    <tr>
                        <td>pm$; pu$:</td>
                        <td>Punkte in der Eingabemaske</td>
                    </tr>
                    <tr>
                        <td>Z:</td>
                        <td>Zeile der Cursorposition</td>
                    </tr>
                    <tr>
                        <td>S:</td>
                        <td>Spalte der Cursorposition</td>
                    </tr>
                    <tr>
                        <td>Z1:</td>
                        <td>niedrigste Zeile, die gelöscht werden soll</td>
                    </tr>
                    <tr>
                        <td>Z2:</td>
                        <td>höchste Zeile, die gelöscht werden soll</td>
                    </tr>
                    <tr>
                        <td>Y:</td>
                        <td>Variablenindex</td>
                    </tr>
                    <tr>
                        <td>Y1:</td>
                        <td>kleinster Index</td>
                    </tr>
                    <tr>
                        <td>Y2:</td>
                        <td>größter Index</td>
                    </tr>
                    <tr>
                        <td>SW:</td>
                        <td>Schrittweite</td>
                    </tr>
                    <tr>
                        <td>k; c:</td>
                        <td>Konstanten, die, je nach ihrer Wertigkeit, bestimmte Vorgaben ausführen.</td>
                    </tr>
                    <tr>
                        <td>f:</td>
                        <td>gibt an, welche Berechnung erfolgen soll</td>
                    </tr>
                    <tr>
                        <td>e:</td>
                        <td>gibt an, die Art der Laufzeit</td>
                    </tr>
                    <tr>
                        <td>h:</td>
                        <td>legt die Art der Laufzeit in der Berechnung fest</td>
                    </tr>
                    <tr>
                        <td>in$:</td>
                        <td>Variable in der Eingaberoutine</td>
                    </tr>
                    <tr>
                        <td>ab$:</td>
                        <td>Endergebnis</td>
                    </tr>
                </tbody>
            </table>
            <b>Programmdokumentation: Tilgungsrechnung</b>
            <table>
                <tbody>
                    <tr>
                        <td>10-20</td>
                        <td>Unterroutine zum Löschen der rechten</p>
                            <p>Bildschirmhälfte
                        </td>
                    </tr>
                    <tr>
                        <td>30-55</td>
                        <td>Unterroutine zum Runden des Ergebnisses und zum Umwandeln in einen String</td>
                    </tr>
                    <tr>
                        <td>70</td>
                        <td>Unterroutine zum Laden des Menüs</td>
                    </tr>
                    <tr>
                        <td>80</td>
                        <td>Unterroutine zum Zeichen einer Linie</td>
                    </tr>
                    <tr>
                        <td>90</td>
                        <td>Unterroutine zur Festlegung der Cursorposition</td>
                    </tr>
                    <tr>
                        <td>95</td>
                        <td>Unterroutine zum Löschen der Fußzeile</td>
                    </tr>
                    <tr>
                        <td>100 - 195</td>
                        <td>Unterroutine zur Auswahl der vorgegebenen Möglichkeiten mit den Tasten F3 und F5, der Abschluß erfolgt mit »RETURN«.</td>
                    </tr>
                    <tr>
                        <td>200 - 290</td>
                        <td>Unterroutine zur Auswahl bei der Fußzeile mit den Tasten F3 und F5, der Abschluß erfolgt mit »RETURN«.</td>
                    </tr>
                    <tr>
                        <td>300 - 480</td>
                        <td>Eingaberoutine. Durch Drücken der Taste Fl kann man von vorne beginnen</td>
                    </tr>
                    <tr>
                        <td>900 - 960</td>
                        <td>Aufbau der Bildschirmmaske</td>
                    </tr>
                    <tr>
                        <td>1010 - 1080</td>
                        <td>Ausdruck der Kopfzeile und Bildschirmmaske, Sprung in die Auswahlroutine (100-195)</td>
                    </tr>
                    <tr>
                        <td>2000 - 2140</td>
                        <td>Aufbau der Eingabemaske und Sprung in die Eingaberoutine. Zum Schluß wird abgefragt, ob die Eingabe korrekt ist. Die Antwort wird mit »RETURN« eingegeben und kann vorher mit »DEL« korrigiert werden.</td>
                    </tr>
                    <tr>
                        <td>3000 - 3720</td>
                        <td>Ausführung der Rechnung mit Sprung in die Rundungs- und Stringumwandlungsroutine</td>
                    </tr>
                    <tr>
                        <td>3800 - 3900</td>
                        <td>Ausdruck des Resultates auf dem Bildschirm</td>
                    </tr>
                    <tr>
                        <td>3910 - 3950</td>
                        <td>Aufbau der Wahlfußzeile und Sprung in die Auswahlroutine (200-290)</td>
                    </tr>
                    <tr>
                        <td>4000 - 4590</td>
                        <td>Ausdruck der Tabelle und Verändern des Bildschirmausdrucks mit den Cursortasten: Mit Fl erfolgt ein Rücksprung</td>
                    </tr>
                    <tr>
                        <td>5000 - 5090</td>
                        <td>Änderung der eingegebenen Daten</td>
                    </tr>
                    <tr>
                        <td>5500 - 5660</td>
                        <td>Papierausdruck der eingegebenen Daten und der Tabelle</td>
                    </tr>
                    <tr>
                        <td>6000 - 6500</td>
                        <td>Festlegung der Variablen</p>
                    </tr>
                </tbody>
            </table>
            <b>Variablenliste: Tilgungsrechnung</b>
            <table>
                <tbody>
                    <tr>
                        <td>ma$</td>
                        <td>Kopfzeile</td>
                    </tr>
                    <tr>
                        <td>mb$<br>mc$<br>me$<br>mf$<br>mh$</td>
                        <td>Fußzeilen</td>
                    </tr>
                    <tr>
                        <td>md$</td>
                        <td>Löschzeile zum Löschen des Bildschirms</td>
                    </tr>
                    <tr>
                        <td>Z:</td>
                        <td>Zeile der Cursorposition</td>
                    </tr>
                    <tr>
                        <td>S:</td>
                        <td>Spalte der Cursorposition</td>
                    </tr>
                    <tr>
                        <td>Y:</td>
                        <td>Variablenindex, der einfach dimensionierten Variablen</td>
                    </tr>
                    <tr>
                        <td>Y1:</td>
                        <td>niedrigster Variablenindex</td>
                    </tr>
                    <tr>
                        <td>Y2:</td>
                        <td>höchster Variablenindex</td>
                    </tr>
                    <tr>
                        <td>Sw:</td>
                        <td>Schriftweite</td>
                    </tr>
                    <tr>
                        <td>g$:</td>
                        <td>Variable der GET-Anweisung</td>
                    </tr>
                    <tr>
                        <td>g:</td>
                        <td>ASC (g$)</td>
                    </tr>
                    <tr>
                        <td>i,j:</td>
                        <td>Variablenindizes der zweifach dimensionierten Variablen</td>
                    </tr>
                    <tr>
                        <td>c:</td>
                        <td>Konstante, von der bestimmte Bedingungen abhängen</td>
                    </tr>
                    <tr>
                        <td>f:</td>
                        <td>gibt das Ergebnis der Auswahlroutine an</td>
                    </tr>
                    <tr>
                        <td>h:</td>
                        <td>beschränkt die maximale Eingabelänge</td>
                    </tr>
                    <tr>
                        <td>in$:</td>
                        <td>Variablenindex</td>
                    </tr>
                    <tr>
                        <td>pns:</td>
                        <td>füllt den Ergebnisstring mit Punkten auf</td>
                    </tr>
                    <tr>
                        <td>is:</td>
                        <td>gibt das Jahr in der Tabelle an</td>
                    </tr>
                    <tr>
                        <td>tb$:</td>
                        <td>chr$(16): Tabulator</td>
                    </tr>
                    <tr>
                        <td>ta$:</td>
                        <td>chr$(10): Leerzeile</td>
                    </tr>
                    <tr>
                        <td>XI:</td>
                        <td>Variable die den kleinsten Index der Tabelle angibt</td>
                    </tr>
                    <tr>
                        <td>X2:</td>
                        <td>Variable die den größten Index der Tabelle angibt<br>
                            Variablen der Rechnung t1,t2,J2,r1,a1,Z1,Z2
                        </td>
                    </tr>
                </tbody>
            </table>
        </figure>

        <figure>
            <pre data-filename="finanzmath.menue" data-name="Menüprogramm"></pre>
            <figcaption>Listing »Menüprogramm«</figcaption>
        </figure>
        <figure>
            <pre data-filename="Zinsrechnung" data-name="Zinsrechung"></pre>
            <figcaption>Listing »Zinsrechung«</figcaption>
        </figure>
        <figure>
            <pre data-filename="Zinseszinsrechnu" data-name="Zinseszinsrechnung"></pre>
            <figcaption>Listing »Zinseszinsrechnung«</figcaption>
        </figure>
        <figure>
            <pre data-filename="Diskontieren ein" data-name="Diskontieren eines Kapitals"></pre>
            <figcaption>Listing »Diskontieren eines Kapitals«</figcaption>
        </figure>
        <figure>
            <pre data-filename="Erstellen eines " data-name="Tilgungsplan"></pre>
            <figcaption>Listing »Tilgungsplan«</figcaption>
        </figure>

        <aside class="fehlerteufelchen" id="fehlerteufelchen">
            <h2>Fehlerteufelchen</h2>
            <h3>Zinseszinsrechnung</h3>
            <p>Die Zeile 3040 muß richtig lauten:<br>
                3040 iff=3thena(16)=((a(10)/a(9))↑(1/(a(11)*a(12)))-1)*100*<b>a(12)</b>:d=0<br>
                Der Faktor a(12) fehlte in dieser Zeile.</p>
            <p class="author">(Frank Heidemann)</p>
            <!-- 64'er 2/1985 -->
        </aside>

    </article>

</body>

</html>
