<!DOCTYPE html>
<html lang="de">

<head>
    <title>Markt &amp; Technik proudly presents: Das 64'er-DOS</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="Oliver Dietz, aw">
    <meta name="64er.issue" content="3/86">
    <meta name="64er.pages" content="51,63-66">
    <meta name="64er.head1" content="Listing des Monats">
    <meta name="64er.head2" content="C 64">
    <meta name="64er.toc_title" content="<b>Listing des Monats: Das 64'er-DOS</b>">
    <meta name="64er.toc_category" content="Wettbewerbe">
    <!-- <meta name="64er.toc_category" content="Listings zum Abtippen"> -->
    <meta name="64er.index_title" content="64’er-DOS (Ft.: 04/86 18)">
    <meta name="64er.index_category" content="Listings zum Abtippen|Listing des Monats">
    <meta name="64er.id" content="64er-dos">
</head>

<body>
    <article>
        <h1>Markt &amp; Technik proudly presents: Das 64'er-DOS</h1>
        <p class="intro">Mit unserem 64'er-DOS wird die Arbeit an der 1541 zur wahren Freude. Es wird nicht nur schneller geladen, auch das Speichern, die Dateiverarbeitung und alle Funktionen des Laufwerks werden beschleunigt und vereinfacht. Trotzdem ist das 64'er-DOS von jedermann leicht einzubauen.</p>

        <p>Die 64'er war die erste Computer-Fachzeitschrift, die Ihren Lesern mit Hypra-Load ein Hilfsmittel zum schnelleren Laden zur Verfügung gestellt hat. Ein weiterer Meilenstein in der Vereinfachung der Floppy-Arbeit war Hypra-Save. Beide Programme zusammen vereinigt (Artikel »Herzoperation« Ausgabe 11/85), waren dann eine kleine Sensation.</p>

        <p>64'er-DOS läßt sich nicht mit Hypra-Load vergleichen — es ist noch besser. Das 64'er-DOS kommt fast an die Leistungen eines Parallel-Speeders wie Prologic-DOS, Speeddos, Formel 64 oder Turbo Access heran, beziehungsweise übertrifft sie in manchen Bereichen. Das 64’er-DOS ist ein Floppy-Kit, welches nicht nur den Programmtransfer, sondern auch das Bearbeiten von sequentiellen und relativen Files beschleunigt. Außerdem werden viele Annehmlichkeiten im Umgang mit dem Computer und Floppy geboten. Dabei ist der Umbau relativ einfach, lediglich das Betriebssystem-ROM des C 64 und ein Floppy-ROM müssen gegen zwei 2764-EPROMs ausgewechselt werden. Ein paralleles Kabel wird nicht benötigt, da alle Daten weiterhin über den seriellen Port, aber viel schneller, übertragen werden.</p>

        <h2>Seriell, aber schnell</h2>

        <p>Dabei wird weder der Bildschirm abgeschaltet, noch muß ein angeschlossener Drucker ausgeschaltet werden. Das 64’er-DOS arbeitet mit fast allen kommerziellen Programmen und Spielen zusammen, im Einzelfall läßt es sich sogar durch Betätigen einer Funktionstaste komplett abschalten. Die Funktionstasten sind so programmiert, daß sie mit anderen Programmen nicht kollidieren, bei Bedarf können sie aber auch desaktiviert werden. Alle Befehle an das Floppy-Laufwerk wie beispielsweise Formatieren, Löschen, Initialisieren und Kopieren wurden extrem vereinfacht. Funktionen wie einen erweiterten LIST-Befehl, einen OLD-Befehl und das Laden des Directorys ohne Programmverlust dürfen Sie voraussetzen. Was man noch alles mit dem 64'er-DOS machen kann, lesen Sie im Listing-Teil.</p>

        <address class="author">(Oliver Dietz/aw)</address>

        <aside>
            <h2>Lebenslauf erster Teil: (Wir über Oliver)</h2>

            <img src="51-0.png" alt="" class="inline">

            <p>Oliver Dietz ist fast jedem, der seinen C 64 länger als zwei Jahre besitzt, ein Begriff. Damals, sozusagen in den Kinderjahren des C 64, als es noch so gut wie keine Programme gab, und jedes Programm deshalb ein kostbares »Juwel« war, lieferte Oliver mit seinem »Dubber« ein wichtiges Hilfsmittel, um Sicherungskopien von Programmen anzufertigen. Die Liebe zum Detail war bei ihm schon damals groß, denn der Dubber vermerkte auf jeder Diskette unsichtbar (Spur 18 Sektor 0), wieviele Kopien von dieser Diskette schon gemacht wurden. Zwischenzeitlich hat sich Oliver unter anderem auch auf dem Spielesektor versucht, indem er ein rasantes Weltraumspiel programmierte. 1985 fand Oliver dann aber wieder zu seiner eigentlichen Leidenschaft zurück — der Programmierung des 1541-Laufwerkes. Zusammen mit Michael Lamm (der den IEEE-Umbausatz für die 1541 in Ausgabe 1/86 konstruiert hat) entwickelte er den bislang schnellsten Parallelbus für den C 64, der im wesentlichen die gleichen Befehle besitzt wie das 64'er-DOS (die Rede ist von PrologicDOS). Bei soviel Kreativität darf man gespannt sein, mit welchem Projekt Oliver als nächstes aufwartet, (aw)</p>

            <h2>Lebenslauf zweiter Teil: (Oliver über Oliver)</h2>

            <p>Ich bin 23 Jahre alt, studiere Physik an der THD und arbeite seit sieben Jahren an Computern. Zum Software-Designer wurde ich auf dem klassischen Weg. Mit einem programmierbaren Taschenrechner fing alles an. Danach arbeitete ich mit einem AIM 65 und verschiedenen Schulrechnern wie Olivetti P6060/M20, CBM3032, Apple II + und Nixdorf 8860. Über einen C 64, der mich damals stolze 1135 Mark kostete, kam ich vor kurzem zu einem 68000-Computer, mit dem ich mich jetzt intensiv beschäftige. Mit dem 64’er-DOS möchte ich allen 64'er Lesern ein Hilfsmittel in die Hand geben, das leicht zu bedienen ist und die Leistungsfähigkeit des C 64 richtig zur Geltung kommen läßt. Ich wünschen allen 64’er-DOS-Besitzern recht viel Freude an dieser Erweiterung.</p>

            <address class="author">(Oliver Dietz)</address>
        </aside>

        <p class="intro">Jetzt wird das 1541-Laufwerk zum Renner. Mit wenig Aufwand beschleunigt das 64’er-DOS alle Funktionen des Laufwerks.</p>

        <p>Bei der Entwicklung des 64’er-DOS wurde vor allem darauf geachtet, daß es leicht einzubauen, komfortabel zu bedienen und zuverlässig im Betrieb mit professionellen Programmen und Spielen ist. Wenn Sie sich genau an die Einbauanleitung halten, kann eigentlich nicht viel schiefgehen und Sie haben schon bald Ihr neues 64’er-DOS. Um das 64’er-DOS herzustellen benötigen Sie folgende Hilfsmittel:</p>

        <ul>
            <li>EPROM-Programmiergerät</li>
            <li>2 Stück 2764-EPROMs</li>
            <li>2 Stück Adaptersockel für 2764-EPROMs (Verbindungsschema in Tabelle 1)</li>
        </ul>

        <figure>
            <table class="plain">
                <thead>
                    <tr>
                        <th style="text-align: left;">28poliger<br>Sockel</th>
                        <th style="text-align: right;">24poliger<br>Sockel</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1, 28, 27, 26</td>
                        <td style="text-align: right;">24</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td style="text-align: right;">21</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td style="text-align: right;">1</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td style="text-align: right;">2</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td style="text-align: right;">3</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td style="text-align: right;">4</td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td style="text-align: right;">5</td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td style="text-align: right;">6</td>
                    </tr>
                    <tr>
                        <td>9</td>
                        <td style="text-align: right;">7</td>
                    </tr>
                    <tr>
                        <td>10</td>
                        <td style="text-align: right;">8</td>
                    </tr>
                    <tr>
                        <td>11</td>
                        <td style="text-align: right;">9</td>
                    </tr>
                    <tr>
                        <td>12</td>
                        <td style="text-align: right;">10</td>
                    </tr>
                    <tr>
                        <td>13</td>
                        <td style="text-align: right;">11</td>
                    </tr>
                    <tr>
                        <td>14, 20</td>
                        <td style="text-align: right;">12</td>
                    </tr>
                    <tr>
                        <td>15</td>
                        <td style="text-align: right;">13</td>
                    </tr>
                    <tr>
                        <td>16</td>
                        <td style="text-align: right;">14</td>
                    </tr>
                    <tr>
                        <td>17</td>
                        <td style="text-align: right;">15</td>
                    </tr>
                    <tr>
                        <td>18</td>
                        <td style="text-align: right;">16</td>
                    </tr>
                    <tr>
                        <td>19</td>
                        <td style="text-align: right;">17</td>
                    </tr>
                    <tr>
                        <td>20, 14</td>
                        <td style="text-align: right;">12</td>
                    </tr>
                    <tr>
                        <td>21</td>
                        <td style="text-align: right;">19</td>
                    </tr>
                    <tr>
                        <td>22</td>
                        <td style="text-align: right;">20</td>
                    </tr>
                    <tr>
                        <td>23</td>
                        <td style="text-align: right;">18</td>
                    </tr>
                    <tr>
                        <td>24</td>
                        <td style="text-align: right;">22</td>
                    </tr>
                    <tr>
                        <td>25</td>
                        <td style="text-align: right;">23</td>
                    </tr>
                    <tr>
                        <td>1, 28, 27, 26</td>
                        <td style="text-align: right;">24</td>
                    </tr>
                </tbody>
            </table>
            <figcaption>Tabelle 1. Für den Adaptersockel benötigen Sie einen 24- und einen 28poligen Stecksockel. Die beiden Sockel werden nach folgendem Schema verbunden. Für das 64’er-DOS brauchen Sie zwei Adaptersockel.</figcaption>
        </figure>

        <p>Das 64’er-DOS ist im Gegensatz zu Hypra-Load übrigens nicht in einer RAM-Version lauffähig, es ist in jedem Fall notwendig, im Computer und Floppy je einen Baustein durch ein EPROM auf Adaptersockel auszutauschen.</p>

        <h2>Leichter Einbau</h2>

        <p>Geben Sie bitte die beiden Maschinenroutinen »DOS Gen« (Listing 1) und »Kern Gen« (Listing 2) mit dem MSE ein. Diese beiden Programme erzeugen später aus den Original-Betriebssystemen die neuen Betriebssysteme für Computer und Floppy. Sobald sich diese Programme auf der Diskette befinden, können Sie mit dem Generieren des Floppy- und Computer-ROMs beginnen. Dazu ist es nötig, daß sich die Original ROMs in Computer und Floppy befinden. Laden Sie nun »Kern Gen« und starten es. Darauf wird die Floppy anlaufen und das neue Betriebsystem »Fast Kern« auf Diskette abspeichern. Es sollte sich also eine formatierte Diskette mit ausreichend freiem Platz im Laufwerk befinden. Mit dem Programm »DOS Gen« verfahren Sie bitte analog. Nach dem Start des Programms (DOS Gen) dauert es, da das gesamte Floppy-Betriebssystem ausgelesen wird, etwas, bis das jetzt generierte Programm »Fast DOS« auf der Floppy abgelegt wird. Sowohl das Floppy-DOS, als auch das neue Computer-Betriebssystem werden erzeugt, ohne daß Sie die Originalbausteine mit dem EPROM-Programmiergerät auslesen müssen. »Fast Kern« und »Fast DOS« werden als Maschinenprogramm mit der Ladeadresse $2000 gespeichert. Das auf der Diskette erzeugte Programm »Fast Kern« wird jetzt in ein 2764-EPROM gebrannt. Es kommt mit einem Zwischensockel versehen in den Computer-Steckplatz U4 (Bild 1), sobald Sie sich auch »Fast DOS« in ein 2764-EPROM gebrannt und es ebenfalls mit einem Adapter in den Sockel UB4 der 1541 (Bild 2) gesetzt haben (Computer und Floppy müssen Sie dazu aufschrauben, Achtung Garantieverlust!) ist das 64’er-DOS eingebaut. Bitte achten Sie darauf, daß die Kerbe des EPROMs in beiden Fällen zur Gehäuserückseite des Computers/Laufwerks zeigen. Wichtig ist auch, daß der Adaptersockel mit allen Pins richtig im Sockel sitzt. Sollte Ihr Computer-Betriebssystem nicht gesockelt sein, wird es leider notwendig, den Originalbaustein auszulöten. Falls Sie sich das nicht zutrauen wenden Sie sich bitte an Ihren Fachhändler. Der Baustein UB4 im Floppy-Laufwerk ist glücklicherweise in 99 Prozent aller Laufwerke mit einem Sockel versehen. Es kann auch vorkommen, daß Sie dort bereits einen EPROM mit einem Adaptersockel vorfinden. Dieser Adaptersockel (zu erkennen an zwei aufeinandergelöteten Sockeln) können Sie für das 64’er-DOS getrost verwenden, tauschen Sie einfach die EPROMs aus. Falls kein Adapter da ist, verwenden Sie bitte den gleichen Adapter wie im Computer. Jetzt brauchen Sie nur noch das normale serielle Kabel wieder einzustecken. Nach dem Anschalten sehen Sie die Einschaltmeldung »64’ER SYSTEM« und sobald Sie die beiden Tasten »@« und RETURN drücken, »64’er-DOS«.</p>

        <figure>
            <img src="63-1.png" alt="">
            <figcaption>Bild 1. So wird das 64’er-DOS-Kernel-EPROM in den Steckplatz U4 des Computers eingebaut.</figcaption>
        </figure>
        <figure>
            <img src="63-2.png" alt="">
            <figcaption>Bild 2. Das 64’er-DOS-Floppy-EPROM wird in den Steckplatz UB4 der Floppy eingebaut.</figcaption>
        </figure>

        <h2>Das ist neu</h2>

        <h3>LOAD</h3>

        <p>Es ist keine Angabe der Geräteadresse nötig. Ohne Angaben wird »,8,1« vorrausgesetzt. Wenn hinter dem Namen nur »,8« steht, wird ab Basic-Start geladen. Um ein beliebiges Programm zu starten, listen Sie das Directory mit F1, fahren mit dem Cursor in die Zeile mit dem Namen und drücken F7 oder »Shift/Run«. Es gibt zwei Sekundäradressen die von Bedeutung sind. Bei der Sekundäradresse 2 kann bei sehr empfindlichen Autostartprogrammen ohne Fastload geladen werden. Hinter der Sekundäradresse 0 kann eine gewünschte Startadresse eigegeben werden.</p>

        <p class="noindent">Beispiele:
            <code>LOAD"TEST",8,0</code>
            Programm ab Basic-Start laden
            <code>LOAD"TEST",8,0,4096</code>
            Programm ab 4096($1000) laden.
        </p>

        <p>Fastload kann auch mit F6 desaktiviert werden. Die Zahlen die hinter »Loading« erscheinen, geben hexadezimal die Start- und Endadresse an. LOAD ohne Programm wird als LOAD":*",8,1 interpretiert.</p>

        <h3>SAVE</h3>

        <p>SAVE kann auch ohne Geräteadresse durchgeführt werden. Sollte während des Abspeicherns ein Fehler auftreten, zum Beispiel »Disk Full«, erscheint ein »Break Error«. Da das Überschreiben mit dem Klammeraffen von der Floppy ohne 64’er-DOS fehlerhaft ausgeführt wird, löscht 64’er-DOS erst das Programm auf der Diskette und speichert dann ab. Wird kein Klammeraffe angegeben, wird auch nicht gelöscht. Dies gilt nur bei »Save«, nicht bei »Open«.</p>

        <h3>VERIFY</h3>

        <p>Sollte beim Speichern eines Programms ein Fehler auftreten, wird sofort abgebrochen, da bereits während des Speicherns überprüft wird, ob die Daten richtig auf der Diskette sind.</p>

        <h3>LIST</h3>

        <p>Der Listfehler, daß bei »Shift-L« ein »Syntax Error« auftritt, sowie die Interpretation von Steuerzeichen ist aufgehoben. Diese Funktion kann mit der Funktionstaste F6 abgeschaltet werden.</p>

        <h3>Scrolling</h3>

        <p>Verlangsamen des Scrollens mit »Ctrl« wie bisher. Stoppen des Scrollens mit »Shift«</p>

        <p>Dauerhaftes Stoppen mit »Shift Lock«, wobei der Druck auf eine beliebige Taste zum Weiterlisten führt. Die rechte Shift-Taste hat keine Wirkung.</p>

        <h3>Reset</h3>

        <p>Wird ein Reset ausgelöst, kann durch gleichzeitiges drücken von »Space« der Autostart von Modulen und Programmen unterbunden werden. So ist ein Abschalten des Computers nicht mehr nötig. Der Reset an sich ist wesentlich schneller als ohne 64’er-DOS.</p>

        <h3>Tastenfunktionen</h3>

        <p>Die Tasten haben Autorepeat, wobei die Cursortasten schneller als die anderen Tasten wiederholt werden. Mit »Ctrl/Crsr Down« oder PRINT CHR$(143) kommen Sie in die unterste Zeile (Umkehrfunktion von »Home«).</p>

        <h3>Funktionstasten</h3>

        <p>Die Funktionstasten sind wie folgt belegt:</p>

        <table class="plain">
            <tr>
                <td>F1 Directory</td>
                <td>Listet die Dateien der Diskette.</td>
            </tr>
            <tr>
                <td>F3 LIST</td>
                <td>Listet Basic-Programm.</td>
            </tr>
            <tr>
                <td>F5 RUN</td>
                <td>Startet Basic-Programm.</td>
            </tr>
            <tr>
                <td>F7 LOAD</td>
                <td>Lädt ein Programm von Diskette.</td>
            </tr>
            <tr>
                <td>F2 SYS4096*</td>
                <td>Praktisch zum Starten von Maschinenprogrammen</td>
            </tr>
            <tr>
                <td>F4 OLD</td>
                <td>Holt gelöschtes Programm zurück.</td>
            </tr>
            <tr>
                <td>F6 OFF</td>
                <td>Schaltet die Funktions-Tasten, Fastload und das DOS ab.</td>
            </tr>
            <tr>
                <td>F8 DEV#8/9</td>
                <td>Schaltet aktuelles Laufwerk um.</td>
            </tr>
        </table>

        <h3>DOS</h3>

        <p>Eine dem DOS 5.1 ähnliche Befehlserweiterung ist implementiert. Sie wird mit dem Klammeraffen aufgerufen. Mit ihr kann der Fehlerkanal bequem geöffnet und ausgelesen werden.</p>

        <table class="plain">
            <tr>
                <td>@$</td>
                <td>Listet Inhaltsverzeichnis.</td>
            </tr>
            <tr>
                <td>@N:NAME,ID </td>
                <td>Formatiert Diskette.</td>
            </tr>
            <tr>
                <td>@C:NEU = ALT </td>
                <td>Kopiert eine Datei innerhalb der Diskette.</td>
            </tr>
            <tr>
                <td>@R:NEU = ALT </td>
                <td>Benennt die Datei Alt in Neu um.</td>
            </tr>
            <tr>
                <td>@S:ALT </td>
                <td>Löscht eine Datei aus dem Inhaltsverzeichnis.</td>
            </tr>
            <tr>
                <td>@I </td>
                <td>Initialisiert die Diskette.</td>
            </tr>
            <tr>
                <td>@V</td>
                <td>Sucht und kennzeichnet alle belegten Blöcke</td>
            </tr>
        </table>

        <p class="noindent">Das DOS kann mit F6 abgeschaltet werden.</p>

        <h3>Utilities</h3>

        <p>Das 64’er-DOS bietet unter anderem ein fest installiertem Fastformat sowie das Zentrieren einer Diskette beim Einlegen durch kurzes Anlaufen des Laufwerkes. Einen Vergleich der Ladegeschwindigkeiten finden Sie in Tabelle 2.</p>

        <figure>
                <h3>Übertragungsgeschwindigkeiten im Vergleich:</h3>
            <table>
                <thead>
                    <tr>
                        <th></th>
                        <th>Normal</th>
                        <th>64'er-DOS</th>
                        <th>Speeddos</th>
                        <th>Prologic-DOS</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Load 202 Blöcke</td>
                        <td>123 sec</td>
                        <td>19 sec</td>
                        <td>14.5 sec</td>
                        <td>4.5 sec</td>
                    </tr>
                    <tr>
                        <td>Save 153 Blöcke</td>
                        <td>105 sec</td>
                        <td>78 sec</td>
                        <td>79 sec</td>
                        <td>7.5 sec</td>
                    </tr>
                    <tr>
                        <td>Datei 84 Blöcke</td>
                        <td>58 sec</td>
                        <td>26.5 sec</td>
                        <td>20.5 sec</td>
                        <td>6.5 sec</td>
                    </tr>
                </tbody>
            </table>
            <figcaption>Tabelle 2. Die Übertragungsgeschwindigkeit vom 64’er-DOS kann sich sehen lassen.</figcaption>
        </figure>

        <h2>64’er-DOS für alle</h2>

        <p>Das 64’er-DOS ist zwar leicht herzustellen und leicht einzubauen, man benötigt aber trotzdem etwas Erfahrung beim Hardware-Einbau und beim Programmieren von EPROMs.</p>

        <p>Wer das 64’er-DOS deshalb lieber fertig (zwei Adaptersockel und die zwei EPROMs) haben möchte, kann es mit detaillierter Einbauanleitung beim Verlag bestellen. Um möglichst vielen unserer Leser den Einstieg in das 64’er-DOS zu ermöglichen, kostet es komplett nur 69 Mark. Lesen Sie dazu die Hardware-Service-Seiten.</p>

        <address class="author">(Oliver Dietz/aw)</address>

        <figure>
            <pre data-filename="dos gen.prg" data-name="DOS-Gen" data-mse=mse1></pre>
            <figcaption>Listing 1. »DOS-Gen« erzeugt das neue Floppy-Betriebssystem. Bitte verwenden Sie zur Eingabe den MSE.</figcaption>
        </figure>
        <div class="binary_download" data-filename="dos gen.prg" data-name="DOS-Gen"></div>

        <figure>
            <pre data-filename="kern gen.prg" data-name="Kern-Gen" data-mse=mse1></pre>
            <figcaption>Listing 2. »Kern-Gen« erzeugt das neue C 64-Betriebssystem. Bitte verwenden Sie zur Eingabe den MSE.</figcaption>
        </figure>
        <div class="binary_download" data-filename="kern gen.prg" data-name="Kern-Gen"></div>
    </article>
</body>

</html>
