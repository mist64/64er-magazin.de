
# Tausch-Tips [8]

Einzelne Softwareanbieter verfolgen ihre Rechte rigoros. Ein beliebter Anhaltspunkt für juristische Aktionen sind die Tauschlisten, die viele Benutzer zusammengestellt haben und an Interessenten verschicken. Sie werden daraufhin ausgewertet, ob möglicherweise Raubkopien angeboten werden. Mangels Kenntnissen und Erfahrungen bei Polizei, Rechts- und Staatsanwälten kommen dabei oft auch Computerbenutzer in arge Schwierigkeiten, denen gar nichts vorzuwerfen ist. Unnötigen Problemen beim Softwaretausch kann leicht aus dem Weg gehen, wer bei dem Zusammenstellen von Tauschlisten außer dem Programmnamen jeweils auch den Autor angibt — und ggf. auch noch, ob mit dem Betreffenden eine Weitergabe vereinbart ist, oder ob es sich um sogenannte »Freeware« oder Public Domain Software handelt. Wer auch seine Disketten entsprechend beschriftet hat (und auf Back-up-Disketten vermerkt: Sicherungskopie), hat zwei Vorteile: Wenn wirklich einmal die Polizei auf der Suche nach Raubkopien auftauchen sollte, kann er leicht demonstrieren, daß hier alles seine Ordnung hat. Er kann aber damit rechnen, daß Tauschlisten mit den oben empfohlenen Angaben ohnehin niemand veranlassen werden, hier nachzufassen. Wer nur eigene Programme zum Tausch anbietet oder solche, die nicht urheberrechtlich geschützt sind, sollte mit seiner Tauschliste ruhig demonstrieren, daß er ein reines Gewissen hat.

Michael Pauly, Redaktionsdirektor

# Hobby Elektronik-Messe zum Anfassen [8]

Das Schwabenland war schon immer dafür bekannt, das Land der Bastler und Tüftler zu sein. So kam es denn auch, daß man vom 7. bis 10. November auf dem Stuttgarter Killesberg eine Messe erleben konnte, die sich nicht nun in ihrer Zielsetzung von anderen Messen wie beispielsweise der Systems unterscheidet. Zunächst fiel auf, daß man so gut wie alles Ausgestellte auch gleich einpacken und mit nach Hause nehmen konnte. Wichtigstes Thema waren und sind auf dieser Messe aber Computer und die Menschen, die mit ihnen umgehen. Zu den Ausstellern gehörten deshalb hauptsächlich kleine und größere Händler, Hardware-Entwicklungshäuser (Dela, Kalawsky), einige Fachzeitschriften sowie ein paar wenige Giganten des Handels wie Horten, Schreiber Elektronik, Mirwald und Vobis.

Neben den interessanten Diskussionen direkt am Computer (es wurde selbst auf der Messe noch eifrig programmiert) konnte man auch so manches »Schnäppchen« machen. Da war beispielsweise ein winziger Stand eines Bremer Händlers, der ständig umringt war, mit gutem Grund: Es gab leicht angeschlagene Computer vom VC 20 für 25 Mark bis zum Osborne Executive für 1900 Mark. Oder der Abverkauf der C16/C 116-Computer, die man am Vobis-stand einiges unter 200 Mark bekommen konnte. Gleiches gilt auch für den Atari 800 XL, der mit 238 Mark einen Preis erreichte, bei dem jedem, der noch vor einem ]ahr fast 1000 Mark dafür bezahlt hatte, die Tränen in die Augen hochstiegen. Gleich gegenüber gab es sogar eine Europapremiere am Stand von Weber Computertechnik. Dort zeigte man den brandneuen Citizen 120 D (noch neuer als die gerade erst auf der Systems vorgestellte MSP-Rei-he). Dieser handliche Drucker scheint das Zeugzuhaben, einer der ganz großen zu werden, denn er bietet beinahe alle Leistungen der fast doppelt so teuren MSP-Reihe (NLQ-Schrift, Hexdump mit ASCII-Wert, Grafikfähigkeit, 4 KByte Pufferspeicher). Dazu soll wahlweise ein Centronics- oder Commodore-Einschubmodul mit Schnittstelle erhältlich sein. Das kleine Wunderding soll nach Angaben des Ausstellers für unter 1000 Mark erhältlich sein, entsprechend groß war der Andrang vor dem Ausstellungsstück (Test in Ausgabe 2/86). Erstaunlich auch die Tatsache, daß dieser neue Drucker auf der Systems noch nicht zu sehen war, obwohl der Generalimporteur für Citizen, nämlich Synelec, dort einen großen Ausstellungsstand hatte. Da stellt sich natürlich die Frage, ob der 120 D nun die Nachhut der MSP-Reihe ist, oder etwa ein Vorbote einer neuen Druckergeneration mit hervorragenden Leistungen zu niedrigsten Preisen?

Mirwald Electronic aus Unterhaching setzte neben der altbekannten Produktpalette (BMC, Epson) wieder auf die neue Picom-Druckgeneration. LQ 80 (137 Zeichen pro Zeile) und LQ 130 (232 Zeichen pro Zeile) heissen sie, stellen sich mit einer Schönschrift (18 x 20 Punktmatrix) und einer Geschwindigkeit von bis zu 180 Zeichen pro Sekunde vor. Dabei erinnern die Picom-Drucker nicht nur äußerlich an einen FX-85 Drucker, sondern weisen auch einen ähnlichen Befehlssatz auf. Der Preis liegt bei 1598 Mark (LQ 80) beziehungsweise 1998 Mark (LQ 130).

## Maximaler Miniplotter

Bei Hack Elektronik gab es neben einem winzigen (Zigarettenschachtelformat) Fernseher auch Interessantes aus der Plotter-Szene zu sehen. Der MCP-80 ist ein A4-Flachbettplotter mit vier Farben und einer Centronics-Schnittstelle (seriell RS232 auf Wunsch). Alle Farben sollen sich sowohl durch Tastendruck als auch per Software ansteuern lassen. Der Preis von 798 Mark scheint für einen Plotter mit einer Wiederholgenauigkeit von 0,2 mm relativ günstig.

## MS-DOS wo man hinschaut

Unverkennbar war der Trend zu ernsthaften Computeranwen-dungen wie Datenverwaltung und Textverarbeitung an fast allen Ständen. Spitzenreiter der in diesem Bereich angebotenen Computer sind die sogenannten »IBM-Kompatiblen«. An fast allen Ständen konnte man diese Computer in den verschiedensten Ausbaustufen bewundern. Bemerkenswert ist dabei das Preisniveau. Einen einfachen MS-DOS-Computer mit einem Laufwerk konnte man schon für 1888 Mark mit nach Hause nehmen. Selbst in voller Ausbaustufe, sogar mit einem 10 MByte Festplattenlaufwerk, mußte nur wenig mehr als 5000 Mark bezahlt werden. Inwieweit nun alle IBM-Programme auf diesen meist in Fernost produzierten Computern auch lauffähig sind, konnten wir natürlich nicht austesten. Wer auf garantierte Funktionsfähigkeit aller MS-DOS-Programme Wert legt, konnte am Schreiber Elektronic-Stand eine echte Preissensation gleich mitnehmen — einen tragbaren Original IBM-PC mit zwei Laufwerken, eingebautem Monitor und 256 KByte RAM, dessen Preis von zirka 7000 Mark auf 3990 Mark gesenkt wurde. Klar, daß es sich dabei um ein Auslaufmodell handelt, aber sicher nicht um eine schlechte Investition.

Ach ja, gespielt wurde auch auf der Hobby Elektronik und zwar fast ausschließlich auf einem, mit Computern exzellent ausgestatteten, MSX-Stand. So wie es schien, liegt der Schwerpunkt dieses japanischen Standardisierungsversuchs darin, eine Spielkonsole mit Computer-Alibifunktion darzustellen. Das allerdings machen die MSX-Computer, wie man sehen konnte, gar nicht schlecht.

Nicht vergessen werden soll aber die Vielzahl der kleinen und kleinsten Ausstellungsstände, auf denen man sich so richtig ins Detail hineinfragen konnte. So geschehen auf dem Stand von Kalawsky, der nicht nur seinen ausgezeichneten EPROM-Brenner vorstellte, sondern auch eine Vielzahl kleinerer und größerer Erweiterungen für den C 64 und den C 128. Dazu gehören eine akkugepufferte Echtzeituhr, ein am User-Port betriebenes Digi-tal-Volt-Meter, ein Testgerät für EPROM-Programmiergeräte und ein User-Port-Verdoppler.

## Rundum gelungen

Natürlich war die Hobby Elektronik keine Ausstellung, bei der es darauf ankam, im Scheinwerferlicht die neueste Produktpalette vorgestellt zu bekommen. Ganz im Gegenteil, hier trafen sich die Profis und solche, die es werden wollen. Wer mit etwas Ruhe durch die Hallen gegangen ist, konnte so manchen guten Tip aufschnappen und was als nachahmenswert einmalig gelten kann, sofort ausprobieren. Als Messe »zum Anfassen« hat sich ein Besuch auf der Hobby Elektronik in jedem Fall gelohnt. Nirgendwo war die Demonstration von dem, was man mit den Worten »Computererlebnis live« beschreiben könnte, größer als in Stuttgart.

# Aktuell [9-14]

## Neue Softwae von Softline: Jet und Newsroom

Die Firma Softline bietet zwei neue Software-Produkte für den C 64 an. Das eine ist das Programm »Newsroom«, mit dem man Zeitungen erstellen kann. Texte werden mit einem Texteditor geschrieben, Bilder mit einem Grafikeditor erstellt. Beides wird dann zu einer richtigen Zeitung verbunden. Ausgegeben wird das Ganze auf einem Matrixdrucker. Verschiedene Zeichensätze und über 600 fertige Grafiken unterstützen die »Zeitungsmacher«.

Ebenfalls neu ist »Jet«, der neue Flugsimulator von SubLo-gic, der Firma, die durch den »Flight Simulator II« weltberühmt wurde. »Jet« simuliert einen modernen Kampfjet.

Eine Meldung am Rande: Die ersten Programme für den Amiga werden demnächst bei Softline lieferbar sein. Fest angekündigt sind »Crimson Crown« und »Transylvania«, zwei besonders gute Grafik-Adventures. Softline will bei Amiga-Software weiterhin am Ball bleiben, so daß bei der Markteinführung im Frühjahr 1986 bereits viele Programme zur Verfügung stehen sollen.

(bs)

Info: Softline, Schwarzwaldstr. 8a, 7602 Oberkirch

## Zwei neue Spiele von Lucasfilm

Bei Activision sind demnächst zwei neue Spiele der Firma Lu-casfilms erhältlich. Bei »Koronis Rift« muß der Spieler auf einem Planeten nach Überresten einer versunkenen Zivilisation suchen. »The Eidolon« versetzt den Spieler ins vorherige Jahrhundert und von dort in eine fantastische Welt der Drachen und Trolle. Beide Spiele verwenden die von »Rescue on Fractalus« bekannte 3D-Grafik. Sie sind sehr aktionsreich, bieten aber auch viele logische und strategische Elemente und fantastisch ausgearbeitete Hintergrundgeschichten. In dem ausklingenden Weihnachtsgeschäft könnte sie sich zu Rennern entwickelt.

(bs)

Info: Activision Deutschland GmbH, Karlstr. 26, 2000 Hamburg 76

## Elite-Wettbewerb abgebrochen

Wer sich in den letzten Wochen ein deutschsprachiges Elite-Original gekauft hat, konnte dann eine Karte für eine deutsche Elite-Meisterschaft finden. Damit sollten innerhalb von sechs Monaten die besten Elite-Spieler Deutschlands ermittelt werden. Diese Meisterschaft

mußte nun komplett abgesagt werden. Der Grund: In den aus-geheferten Exemplaren befindet sich ein Fehler, der es möglich macht, beliebig viel Geld zu erreichen und seinen Rang zu verbessern, indem man ein paar Tasten drückt und sich somit viele Stunden spannenden Spiels »erspart«. Da also ein »Betrug« bei dem Wettbewerb möglich und nicht nachweisbar wäre, mußte leider komplett und ersatzlos gestrichen werden.

(bs)

## Video-Filmschnitt mit dem C 64

Creative Video bietet ein Zusatzgerät zum C 64 an, das zwei Videorecorder koppelt. Die C 64-Video-Schnittsteuerung soll ein einfaches und extrem genaues Schneiden von Videofilmen ermöglichen. Sie wird an den User-Port des C 64 angeschlossen. Am Videorecorder sind keine Eingriffe nötig.

Der Schnittvorgang wird von der mitgelieferten Software übernommen.

Die Schnittgenauigkeit ist nach Angaben des Herstellers bei VHS- Rekordern besser als 300 ms Filmdauer. Als Aufnahmerecorder ist jeder Videorecorder mit Start/Stop-Anschluß und Assemble-Schnitt geeignet. Als Wiedergaberecorder sind besonders geeignet: JVC HR-C3, Telefunken 900M, Saba CVR 6073, ITT VRP 3844, Graetz TR 4844 und Dual.

Creative Video bietet ein Interface einschließlich Software auf Diskette zum Preis von 494 Mark an.

(cg)

Info: Creative Video, Postfach 1501, 8520 Erlangen, Telefon (0 9195)-27 28

## Computer, Peripherie, Meßtechnik

Der neue »PK elektronic« Katalog 86/87 bietet auf 72 Seiten Abbildungen und technische Daten zu Geräten der Hersteller Fluke, Metrix, Toellner, Epson, Facit, Qume, Tele Video und Selanar. Das Angebot von »PK elektronic« richtet sich vor allem an professionelle Anwender in Labor, Service und Forschung.

Der Katalog soll kostenlos bei PK elektronik erhältlich sein.

(cg)

Info: PK elektronic Poppe GmbH, Lietzen-burger Str. 91, 1000 Berlin 15, Telefon (030) 883 1058

## Zwei Computer an einen Drucker

Für 248 Mark gibt es bei Wiesemann einen Adapter, um zwei Computer an einen einzigen Drucker mit Centronics-Schnittstelle anzuschließen.

Der neue Schnittstellen-Ver-vielfacher 2C/C/0 schaltet automatisch zwischen zwei Computern (Centronics-Schnittstellen) um. Der Computer, der zuerst anfängt auszudrucken, blockiert sofort den anderen. Erst wenn der gerade druckende Drucker einige Sekunden keine Daten mehr sendet, kann der andere anfangen zu drucken. Eine unerwünschte Mischung der Texte soll ausgeschlossen sein, (cg)

Info: Wiesemann Mikrocomputertechnik, Winchenbachstraße 3-5, 5600Wuppertal 2, Telefon (02 02) 50 50 77

## Schnelles DOS ohne Kabelsalat

Inzwischen wird ein Floppy-speeder, der ohne Parallelübertragungskabel funktioniert, angeboten. Nicht nur Programm-Transfers werden beschleunigt, sondern auch Zugriffe auf sequentielles Files. Lediglich das Betriebssystem-ROM und ein Floppy-ROM müssen ausgewechselt werden. Laden geht dann sechs- bis siebenmal schneller als bisher, speichern etwa zwei bis dreimal schneller. Der Zugriff auf sequentielle Files und Direktzugriff mit Block-Read- und Block-Write-Befehlen geht nun zwei- bis dreimal schneller als bisher.

Das Programm bietet außerdem ein Floppy-DOS ähnlich dem DOS 5.1. Die F-Tasten sind belegt mit Directory-Laden, LOAD, RUN und LIST.

Drückt man während eines Reset die SPACE-Taste, entkommt man jedem Programm.

Mit dem Floppy-Befehl »UI-« kann man auf normale Ladege-schwindigkeit zurückschalten.

Die RS232-Routinen sind noch im Betriebssystem vorhanden und weiterhin verwendbar.

Geliefert werden zwei EPROMs mit Adaptersockel und Kurzanleitung. Der Preis für das schnelle DOS liegt bei 79 Mark.

(Manfred Kohlen/cg)

Info: Bernd Stevermüer, Kurfürstenstraße 62, 6050 Offenbach

## Computer-TV-Adapter für die Video-Buchse des Farbfernsehers

ViTec bietet ein Videokabel für alle Computer mit 5poliger Buchse an. Bei Computern mit Cinch-Buchse ist ein zusätzlicher Stecker-Übergang nötig. Der Adapter verbindet den Heimcomputer mit der Videobuchse des TV-Geräts. Mit einem Schalter kann man zwischen Fernsehempfang und Computer umschalten.

Der Computer-Adapter ist ausgelegt für TV-Geräte mit der 6poligen DIN-AV-Buchse. Für TV-Geräte mit der 21poligen SCART-Buchse gibt es einen zusätzlichen Adapter.

Der Computer-Adapter 4 C 6 kostet 38 Mark. Der Stecker-Übergang Nr. 4 (für Cinch-Buchsen) ist für 14 Mark zu haben. Der SCART-Adapter (Nr. 9) kann für 29 Mark bezogen werden.

(cg)

Info: ViTec AudioVideo GmbH, Postfach 57,3003 Ronnenberg 1, Telefon(0 5109)-14 00

## Commodore für Prominente

Heinz Schenk, bekannt durch seine Sendung »Blauer Bock«, interessiert sich augenscheinlich nicht nur für Äppelwoi. Auf der Commodore Fachaustellung in Frankfurt hat sich Heinz Schenk ausführlich über das Angebot an Soft- und Hardware rund um den C 64/C 128 informiert. Begleitet wurde er dabei vom Commodore-Geschäftsführer Winfried Hoffmann und Pressesprecher Gerold Hahn.

Herr Schenk arbeitet aktiv mit dem C 64 und ist mittlerweile auf den C 128 umgestiegen.

(aa)

## Systems '85

Auf der Systems in München war einiges Interessantes zu sehen. Viele Hersteller scheinen die Farbe entdeckt zu haben. So wurden dann auch eine ganze Palette farbtüchtiger Drucker vorgestellt. Dabei dominierten zwei wesentliche Konstruktionsprinzipien: Einmal das bekannte Prinzip der reinen Farbdrucker, die entweder auf Thermo-Transfer-Basis oder mit einem mehrfarbigen Nylon-Farbband arbeiten. Zum anderen aber auch Drucker einer neuen, flexiblen Generation. Es handelt sich dabei um Hochleistungsdrucker, die normalerweise mit einem schwarzen Farbband arbeiten und alle Anforderungen an einen Alltagsdrucker (NLQ-Schrift, bis zu 300 Zeichen pro Sekunde) erfüllen, bei Bedarf aber mit wenigen Handgriffen zum Farbdrucker umgebaut werden können.

Bei Fujitsu konnte man einen solchen Hochleistungsdrucker, den DX 2100, ausprobieren. Er soll in der Normalschrift bis zu 220 Zeichen pro Sekunde drucken können und auch in der NLQ-Schrift noch eine ausgezeichnete Geschwindigkeit erreichen. Der DX 2100 ist ein 9-Nadel-Matrixdrucker mit Centronics-Schnittstelle, der innerhalb kürzester Zeit vom Anwender in einen Farbdrucker umgebaut werden kann. Durch seine Befehlskompatibilität zum Epson FX-80 stehen einer Anwendung zusammen mit vielen Anwenderprogrammen kaum Hindernisse im Weg. Trotz dieser Leistungsfähigkeit ist der DX 2100, der übrigens einen sehr soliden Eindruck macht, relativ preiswert. Der empfohlene Verkaufspreiswird ohne Umrüstsatz für Farbe bei zirka 1950 Mark liegen. Der Preis für den Farb-Umrüstsatz stand noch nicht fest.

Bei Seikosha hat mah sich et| was besonderes einfallen lassen. Im Rahmen einer japanischen Kulisse wurde der MP 1300 AI vorgestellt. Es stellte sich bald heraus, daß der Aufwand wohl begründet war, denn def MP 1300 AI ist ein wahres Rennpferd. In der Normalschrift soll er mit bis zu 300 Zeichen pro Sekunde schreiben und sogar in der ebenfalls vorhandenen NLQ-Schrift bleiben davon noch immerhin 60 Zeichen pro Sekunde übrig. Diese Vorteile bleiben auch erhalten, wenn man den MP 1300 AI, ebenfalls mit wenigen Handgriffen, zum Farbdrucker umbaut. Danach stehen immerhin sieben Farben zur Verfügung, die aus einem vier-farbigen Farbband gewonnen werden. Auch dieser Drucker wnd mit Centronics- oder wahlweise serieller RS232-Schnittstel-le geliefert und kann mit einem Interface an den C 64 angeschlossen werden. Ein weiteres außergewöhnliches Merkmal des MP 1300 AI ist sein Pufferspeicher von 10 KByte, der sogar noch erweitert werden kann.

Der Preis wird zum Erscheinungstermin im Frühjahr 1986 nach Aussage des Herstellers unter 2000 Mark liegen.

Den dritten im Bunde dieser neuen Drucker-Philosophie hatte Juki ausgestellt. Der 5510, ein Matrixdrucker, soll Geschwindigkeit von 180 Zeichen/Sekun-de haben und zum Farbdrucker umgerüstet werden können. Unter der Bezeichnung 5520 wird derselbe Drucker mit eingebautem Farb-Set angeboten. Auch bei diesem Drucker ist die, in dieser Preisklasse mittlerweile unverzichtbare NLQ-Schrift vorhanden. Die Geschwindigkeit soll bei dieser Schriftart immerhin noch 30 Zeichen pro Sekunde betragen.

Für etwa 1500 Mark (Modell 5510) beziehungsweise 1700 Mark (Modell 5520) ist dieser 8,5 Kilogramm schwere Drucker bereits im Fachhandel erhältlich.

Obwohl schon der kürzlich vorgestellte Epson FX-85 durch sein sehr gutes Schriftbild glänzte, so hat er im vollkommen neuen LQ-800 seinen Meister gefunden. Dieser kleine Bruder des bereits seit über einem Jahr erhältlichen Super-Druckers LQ 1500 hat ein Schriftbild, bei dem man das »Near« vor der »Letter Quality« fast weglassen kann. Der LQ-800 ist mit seinen 24 Nadeln ein wahrer Schönschreiber. Dabei erreicht er mit 60 Zeichen pro Sekunde in dieser Schrift immer noch ein vielfaches der meisten Typenraddrucker. Das Schriftbild ist so perfekt, daß sogar die normalerweise sehr heikle Kursivschrift ohne sichtbare Abstufungen gedruckt wird. Auf der Ausstellungwurde gezeigt, daß vom bewährten Prinzip der Druckersteuerung durch ESC-Befehle auch beim LQ-800 nicht abgewichen wurde. Der Anschluß des LQ-800 an den C 64/C 128 der mit einer Centronics-Schnittstelle ausgerüstet ist, ist mit den gleichen Interface-Modulen wie beim FX-85 möglich. Ein ganz besonderes Leistungsmerkmal des LQ-800 ist sein neues Moduleinschubsystem. Dadurch sollen die Variations- und Ausbaufähigkeiten des Druckers enorm erweitert werden. Diese Module enthalten weitere standardisierte Schriftarten, die sich mit den bekannten Befehlen aber ihrerseits wieder mannigfaltig beeinflussen lassen. Ähnlich flexibel sollen die Grafikfähigkeiten des LQ-800 sein. Mit einer Auflösung von bis zu 360 Punkten pro Zoll wird eine wesentlich bessere Darstellung von Grafiken als beim FX-85 mit seinen 240 Punkten pro Zoll möglich. Der LQ-800 wird nach Angaben von Epson einen empfohlen Verkaufspreis von unter 2500 Mark haben.

Wer behauptet, daß alle Matrixdrucker mehr oder weniger laut sein müssen, wurde am Stand von Mannesmann vom Gegenteil überzeugt. Der MT 85 ist mit unter 52 dB (A) leiser als der normale Bürolärm oder der heimische Fernsehapparat. Damit sind aber die Leistungsmerkmale des MT 85 noch nicht erschöpft. Ähnlich wie beim LQ-800 besitzt auch der Mannesmann einen Modulschacht, in dem er die verschiedensten Schriftarten aufnehmen kann. Auch hier stehen danach wieder alle gängigen Manipulationen der Schriftart zur Verfügung. Besonderer Reiz an allem ist, daß unabhängig vom gewählten Modul, jede Schrift auch in einer NLQ-Version zur Verfügung steht. Mit seinem umfangreichen Befehlssatz haben sich die deutschen Entwickler im übrigen an die Befehle des Epson FX-85 gehalten, dessen Grafikfähigkeiten ebenfalls vorhanden sind. Ausgestattet mit einer Centronics-Schnittstelle liegt der Preis des 180 Zeichen pro Sekunde schnelle MT 85 ungefähr bei 1600 Mark.

(aw)

## Videobilder farbig digitalisieren

Füle Electronic Trading stellte einen Video-Digitizer für den C 64 vor. Es soll das erste Seriengerät sein, das farbig digitalisieren kann. Die damit erzielten Resultate sind verblüffend. Die Bilder werden im Koalapainter-Format im C 64 angelegt, so daß sie mit diesem Zeichenprogramm nachbearbeitet werden können. Der Digitizer wird an den User-Port angeschlossen. Die Steuersoftware wird mitgeliefert. Der Preis: Mit etwa 400 Mark wird er nur unwesentlich teurer als ein Schwarzweiß-Videodigitizer sein.

(bs)

Info: Füle Electronic Trading, Birkenstr. 22, 6057 Dietzenbach 1

## Computer für den Unterricht

Diese Meldung betrifft alle Lehrer und Schulen, die für ihren Unterricht Computer einsetzen wollen. Die Zentralstelle für Computer im Unterricht vermittelt Programme aus den unterschiedlichsten Unterrichtsbereichen. Auf der Systems wurden einige interessante Physikexperimente mit dem C 64 vorgeführt. Das Bild zeigt einen Aufbau zur Ermittlung der Erdbeschleunigung.

Von der Zentralstelle kann man die dazu benötigten Gerätschaften zwar nicht beziehen, aber man bekommt Informationen darüber, wo was bezogen werden kann und wie teuer es ist. In der Zentralstelle für Computer im Unterricht werden auch Programme gesammelt, die dann an Schulen weitergegeben werden. Alle Programme werden mit einer ausführlichen Dokumentationversehen, wobei man versucht einen einheitlichen Standard in der Beschreibung zu erreichen. Nähere Informationen erteilt die Zentralstelle für Computer im Unterricht.
Scherlingstr. 7-9
8900 Augsburg
Telefon: 08 21/57 3011

(hm)

## Fernseh-Tuner für Ihren Monitor

Wollen Sie Ihren Monitor in einen Fernseher verwandeln? Mit dem TV-Tuner »High Screen« von Vobis ist das kein Problem. Der High-Screen ist ein TV-Empfangsteil, das die Signale der Sendeanstalten monitorgerecht aufbereitet. Zwölf VHF- und UHF-Programme können eingestellt und aufTastendruck abgerufen werden. Die eingebaute AFC-Schaltung übernimmt die Feinabstimmung.

Für einen guten Empfang kann der »High Screen« an eine Dachantenne oder einen Antennenverteiler angeschlossen werden. Falls kein Antennenanschluß verfügbar ist, hilft die mitgelieferte Stabantenne weiter. Sie wird von hinten auf das Tuner-Gehäuse aufgesteckt.

Der »High Screen« hat neben dem Antenneneingang auch einen Video- (FBAS) und Audio-Eingang, an dem ein Computer oder ein Videorecorder angeschlossen werden kann (Cinch-Buchsen). Mit einem Schalter an der Frontseite kann man zwischen TV-Empfang und Computer oder Videorecorder umschalten.

Als Monitor läßt sich jeder Farbmonitor mit FBAS- und Audio-Eingang verwenden. Der Anschluß erfolgt über ein etwa 1 Meter langes Kabel mit Cinch-Steckern.

Der Tuner läßt sich auch für »reinrassige« Videorecorder verwenden, die keinen Tuner eingebaut haben, wenn man statt des Monitors einen Recorder anschließt.

Wir testeten den »High Screen« mit einem 1702-Monitor. Der Bildempfang und die Bildqualität waren überraschend gut.

(hm)

Info: Vobis, Viktoriastr. 74, 5100 Aachen, Tel. 0241/500081
Einführungspreis: 249 Mark

## Neues EPROM-Programmiergerät von Thienel

Von Stefan Thienel gibt es einen neuen PEROM-Brenner, der den in Ausgabe 7/85 getesteten ablöst (Bild).

Programmiert werden können die EPROM-Typen: 2516 bis 2564, 2716 bis 27512L/H. Beim Programmieren kann zwischen 50 Millisekunden und einem variablen Algorithmus gewählt werden.

Das Steuerprogramm befindet sich in einem EPROM auf der Platine des EPROM-Programmiergeräts, das am Expan-sions-Port angeschlossen wird (vergoldete Kontakte). Als EPROM hierfür kann ein 2764 oder 27128 verwendet werden. Über DIP-Schalter wird der EPROM-Typ eingestellt. Beim »27128« kann man wählen, ob man die gesamten 16 KByte laden will, oder nur den unteren oder oberen 8-KByte-Teil. Ebenso bei dem zusätzlichen freien Stecksockel auf der Platine, in dem man beispielsweise gebrannte EPROMs auf Funktionsfähigkeit testen kann.

Zusätzlich zum Steuerprogramm ist im EPROM ein Modulgenerator und ein Monitorprogramm untergebracht.

Das EPROM-Programmiergerät benötigt eine Betriebsspannung von etwa 30 bis 35 Volt Wechselstrom.

Info: Stefan Thienel, Sandgasse 22, Tel. 0 95 46/14 56
Bezugsquelle: Steinmetz-Elektronik, Nürn-bergerStr. 49,8600Bamberg, 09 51/20 26 38. Preis: Bausatz 169 Mark, Fertiggerät 199 Mark.

## Neues Görlitz-Interface

Die Version 3.7 (3. Hardware-, 7, Softwareversion). Bei dieser Version soll die Kompatibilität zu den Commodore-Druckern 1525, MPS 801 und MPS 802 erhöht worden sein. Das Interface soll nun auch mit Programmen funktionieren, welche die Tabulator-Funktionen der Commodore-Drucker ansprechen. Folgende Befehle von Commodore-Druk-kern sollen jetzt auch vom Görlitz-Interface ausgewertet werden: Tabulator: CHR$(16), Tabulator in Einzelpunktschritten: ESC CHR$(16) und das Wiederholkommando: CHR$(26). Diese Befehle werden erst durch ESC” V” aktiviert.

Besitzer älterer Versionen des Görlitz-Interfaces sollen ein EPROM mit der neuesten Software zum Preis von 20 Mark bekommen. Im Austausch gegen das alte EPROM. Laut Wiesemann reicht es, 20 Mark (als Verrechnungsscheck) zusammen mit dem alten EPROM einzuschicken. Die neue Version sollen Sie dann postwendend zuge-sandt bekommen.

(hm)

Info: Görlitz Computerbau, Postfach 852, 5400 Koblenz, 02 61/20 44

## Im Gesellschaftsspiel Basic lernen

Aus Ungarn kommt ein Kartenspiel, mit dem man wirklich spielend Basic lernen kann. Dazu wird kein Computer benötigt. »AssBasic« kann in drei Schwierigkeitsgraden gespielt werden. Im ersten kann wirklich jeder mitspielen, der noch nie etwas von Basic gehört hat, auch kleine Kinder. In einer Art »Schwarzer Peter« lernt man dann die »Bedeutung« der Befehle RUN, PRINT etc. kennen. In den beiden weiteren Spielstufen wird das Wissen vertieft und Programme geschrieben. Wohlbemerkt, allesohne Computer! Die Umsetzung ins Deutsche wird gerade vorbereitet, deswegen wird »AssBasic« erst in einigen Wochen erhältlich sein. (bs)

Info: Füle Electronic Trading, Birkenstr. 22, 6057 Dietzenbach 1

## Katalog für EDV-Zubehör mit Telefonberatung

Der neue Misco-Katalog ’85 bietet auf 56 Seiten rund 800 Produkte von 3 M, AMP, BASF, DEC, Dysan, IBM, Memorex, Rhone Poulenc, Verbatim und Misco an. Der Katalog ist kostenlos zu beziehen.

(cg)

Info: Misco GmbH, Nordendstraße 72-74, 6082 Mörfelden-Walldorf, Telefon (0 6105) 4010

TODO ASIDE

## Sind Sie ein Geheimniskrämer?

**Wenn nicht, dann haben wir ein interessantes Angebot für Sie. Gefragt sind Ihre Erfahrungen mit allen Programmen, Hardware-Erweiterungen und Druckern, die es für den C 64/C128 gibt.**

Man kann ein Computersystem auf zwei verschiedene Arten interpretieren. Zum einen ist das eine mehr oder weniger umfangreiche Ansammlung der verschiedensten Programme, Peripheriegeräte und Schnittstellen. Zum anderen ist ein Computersystem also eine Einheit, bei der es darauf ankommt, daß alle Teile des Systems aufeinander eingespielt sind und zueinander passen. Die vielen Briefe, die unstäglich erreichen, zeigen, daß dieser Idealzustand leider noch längst nicht erreicht ist. Immer wieder kommt es vor, daß ein Programm, beispielsweise eine Grafikerweiterung oder eine Textverarbeitung, nicht mit dem favorisierten Drucker mangels geeignetem Interface harmonisiert. Bekannte Problemkinder sind auch die immer beliebter werdenden Floppy-Speeder, die zwar mit vielen Programmen funktionieren, aber eben nicht mit allen. Diesen Zustand wollen wir ändern. Schreiben Sie uns Ihre Erfahrungen mit den verschiedensten Teilen Ihres Computersystems (bitte genau spezifizieren). Besonders interessant für uns ist natürlich, wie Sie trotz Schwierigkeiten zu guten Ergebnissen gekommen sind. Manchmal ist es nur eine Kleinigkeit, die es ermöglicht, daß die gewünschten Resultate erlangt werden. So lassen sich beispielsweise beim Data Becker-Centronics-Interface (das von Wiesemann gefertigt wird und damit die gleichen Befehle hat) viele Anpassungsprobleme lösen, wenn man das Interface zunächst in den Linearkanal schaltet und danach fixiert. So lassen sich viele Grafik- und Textprogramme problemlos, mit allen ihren Funktionen, verwenden. Sie sehen, ein Tip muß nicht unbedingt umfangreich sein — Wirksamkeit ist gefragt.

Obwohl wir in unserer Redaktion ein wahrlich reichhaltiges Sortiment der verschiedensten Programme und Peripheriegeräte zur Verfügung haben, ist es natürlich auch uns nicht möglich, jedes Computersystem aufzubauen und alle Möglichkeiten auszuprobieren. Diese Möglichkeit haben nur Sie — unsere Leser. Warum mit diesen Informationen »hinter dem Berg halten«? Schreiben Sie uns Ihre Erfahrungen und Problemlösungen — es lohnt sich! Unter allen Zuschriften werden wir einen Überraschungspreis vergeben, für den es sich lohnt, die eigene Trickkiste etwas zu öffnen. Schicken Sie Ihren Tip unter Angabe der genauen Produktbezeichnung einschließlich der Versionsnummer (falls vorhanden) unter dem Stichwort »Computer Systeme« an:
Markt & Technik Verlag Aktiengesellschaft,
Redaktion 64'er,
Arnd Wängler,
Hans-Pinsel-Str. 2,
8013 Haar bei München

## Mangel am Cobra-Joystick behoben

Das in unserem Test in der Ausgabe 11/85 bemängelte Abreißen der Saugnäpfe wurde von der Firma Rushware beseitigt. Alle Lieferungen seit Anfang Oktober beinhalten schon die veränderten Joysticks. Die scharfkantigen Lochränder wurden aufgebohrt und abgerundet. Zugleich sind die Saug-füße erneuert worden.

Info: Rushware GmbH, An der Gumpges-brücke 24, 4044 Kaarst 2

## Joystickkompatible Maus

Von der Firma Rushware wird jetzt eine Maus angeboten, die auf allen gängigen Heimcomputern lauffähig ist. Dazu wird keine besondere Treibersoftware benötigt, die Maus kann anstelle des Joysticks in jedem Programm, das für einen Joystick konzipiert wurde, verwendet werden. Die Maus ist mit zwei gleichberechtigten Tasten ausgerüstet, und somit auch für Linkshänder geeignet. Die Unterseite wurde mit Rollkugeln versehen, um auf jeder Unterlage arbeiten zu können. Der Verkaufspreis wird bei etwa 180 Mark liegen.

Info: Rushware GmbH, An der Gumpges-brücke 24, 4044 Kaarst 2

## Neuer Joystick — Quickshot IX

Unter dem Namen »Joyball« wird von Jöllenbeck der neue Quickshot IX angeboten. Die Halbkugel des Joyballs dient wie der Griff eines Joysticks der Richtungsänderung. DerJoyball ist mit Mikroschaltern, zwei Feuerknöpfen und automatischem Dauerfeuer ausgestattet. Der Verkaufspreis wird bei 59 Mark liegen.

Info: Bernd Jöllenbeck GmbH, Postfach, 2730 Weertzen

## Preisrutsch

Es gehört (nicht immer zur Freude der Hersteller) in der Computerbranche schon fast zum guten Stil, daß der Preis nach einer Einführungsphase langsam aber stetig sinkt. Die Entwicklung, die der Preis des in Ausgabe 6/1985 getestete Typenraddrucker Uchida DWX 305 derzeit erlebt, ist aber außergewöhnlich. Der Drucker, der in unserem Test zwar nicht zu den schnellsten (18 Zeichen pro Sekunde, 32 Zeichen/s über alle Funktionen) gehörte, dafür aber mit einer sehr soliden Mechanik und der bei Typenraddruckern üblichen Schriftqualität überzeugte, hat seinen Preis schlichtweg um mehr als die Hälfte verringert. Er kostet jetzt mit Friktionsantrieb und Centronics-Schnittstelle 599 Mark, zu denen noch die Anschaffung eines Traktors für 275 Mark empfehlenswert ist. Selten gab es so viel Drucker für so wenig Geld.

(aw)

Info: Weber Computertechnik, Ludmillastr. 15, 8000 München, Tel. (0 89) 6 5168 56

## Neues vom NEC P2

Der 18-Nadel-Drucker NEC P2, der in unserer letzten Ausgabe beinahe das Reverenzgerät FX-85 abgelöst hätte, hat dazugelernt. Er besitzt jetzt neben der bisherigen Schnittstelle mit der Bestellnummer 6302 eine weitere mit der Bezeichnung 6303. Der Vorteil liegt darin, daß der P2 dadurch etwa 98 Prozent der FX-85-Befehle versteht. Gleichzeitig läßt er sich mit DIL-Schaltern auf die IBM-Zeichen-sätze eins und zwei einstellen. Der Preis ist gleich geblieben. Die im Testbericht vergrößert abgebildete NLQ-Schrift läßt sich übrigens nochmals verbessern; wählt man statt der Schriftart eins die Schriftart zwei, treten kaum noch Einzelpunkte hervor.

(aw)

Info: NEC-GmbH, Klausenburger Str. 4, 8000 München 80

## Messen — Steuern — Regeln

Die Arbeitsgemeinschaft Solartechnik Bergstr. e.V. führen an verschiedenen Volkshochschulen Kurse zum Thema Messen— Steuern—Regeln durch. Ziel ist es, eine Einführung in Meß-, Steuer- und Regelvorgänge im Haushalt zu geben. Am Beispiel eines C 64 werden die notwendigen Programme und die erforderliche Hardware besprochen und erstellt. Zur Demonstration allgemeiner Vorgänge dient ein Fischer-Technik-Roboter, eine Eisenbahnsteuerung und eine Heizungssteuerung. Für den Kurs sollen Elektronikkenntnisse nicht erforderlich sein. Jedoch sollte man Basic-Kenntnis-se mitbringen. Die Kursdauer beträgt 8 Tage zu je 3 Stunden. Weitere Informationen erhalten Sie gegen 1,30 Mark Rückporto in Briefmarken von der Kontaktstelle

AG Solartechnik Bergstraße e.V.,
W. Konkol,
Haydnstr. 4,
6909 Mühlhausen

(hm)

## Gut aufgeräumt

Ein »aufgeräumtes« Computersystem soll der Computer-Caddy (Bild) von ECO schaffen. In einem Schrank finden alle Peripheriegeräte und Utensilien eines Heimcomputers oder PC Platz. Auch das Kabelgewirr soll mit dem Computer-Caddy ein Ende haben. Den Computer-Caddy gibt es in Schleiflack und Funier.

(hm)

Info: ABL-Service, Postfach 1151, 6240 Königstein,Tel. 0 6174/70 70

## Neues von Rushware

Gleich mehrere Neuigkeiten sind von der Software-Vertriebsfirma Rushware zu vermelden.

So ist jetzt exklusiv bei Rushware eine Spezial-Version des James-Bond-Spiels »A View to a Kill« erhältlich. Auf der B-Seite der Kassette befindet sich anstelle von Computer-Software eine Cover-Version des Single-Hits von Duran Duran. Diese Disco-Version hatte am 23.09.1985 schon Platz 24 der deutschen Single-Hitparade erreicht.

Rushware hat einen Vertrag mit dem amerikanischen Hersteller Epyx geschlossen, der Rushware die deutschen Exklusivrechte für neue Epyx-Pro-dukte sichert. So werden in diesen Tagen die Spiele »Winter Games« und »Temple of Apshai Trilogy« in deutscher Verpackung und mit deutschsprachiger Anleitung ausgeliefert.

Zusätzlich hat Rushware ein neues Software-Label, »Eurogold«, gegründet. Alle »Euro-gold«-Spiele werden 9,95 Mark kosten. Unter den über dreißig Titeln, mit denen »Eurogold« gestartet wird, befinden sich einige Epyx-Klassiker Qumpman, Pitstop 1), aber auch brandneue Programme von verschiedenen Programmierern aus ganz Europa und Amerika.

Als letztes ist noch die Gründung der Rushware-Mailbox zu vermelden. Unter der Nummer 02101/66778 soll man unter anderem neue Produktinfos für Zubehör und Software abrufen. Es handelt sich dabei um eine Standard-Mailbox mit 300-Baud-Übertragungsrate. Sie bietet Up-und Download-Funktionen. Die Mailbox läuft 24 Stunden am Tag und der Sysop, Heinz Fischer, soll fast jeden Abend zu erreichen sein.

(bs)

Info: Rushware, An der Gümpgesbrücke 24, 4044 Kaarst 2

# Hallo Hacker, Mailbox-Freaks und DFÜ-Freunde! [12-13]

> Datenfernübertragung wird immer mehr zum Volkssport. Dazu braucht man aber solide Informationen und so manchen Tip. Die B.H.P. und die 64'er haben für Sie aktuelles zusammengestellt.

Ab sofort werden wir, das Team der Bayrischen Hackerpost zusammen mit der 64’er, über Wissenswertes, Lehrreiches und Interessantes aus der Welt der Netzwerke und Mailboxen, der Host-Computer und Terminals berichten.

Unter anderem ist vorgesehen:

— Einführung in Datex-P-Benut-zung
— Berichte über Akustikkoppler und sonstiges DFÜ-Zube-hör
— Bücher rund ums Hacken — DFÜ-Programme im Test — Aktuelles aus der Szene — Kummerkasten für Anfänger und Fortgeschrittene.

Uns erreicht man entweder per DFÜ über Datex-P in folgenden Boxen:
- COM.BOX Berlin (NUA 45300040509 unter 64-Redak-tion)
— DECATES Oberramstadt (NUA 45615440307 unter BHP) - RMI Aachen (NUA 44241040341 unter BHP)
- ZEV Zürich (NUA 022847911118 unter BHP).

Über Telefon im Umkreis München:
Commodore Anwender Club München (Tel. 0 89/812 03 38). Und per Bildschirmtext, Leitseite *92049204#.

Zu guter Letzt auch noch über den normalen Postweg:

B.H.P.
c/o Basis
Adalbertstr. 41b
8000 München 40.

## Kopieren erlaubt — Freeware!

Freeware oder Public Domain Software nennen sich Programme, die von ihren Autoren ausdrücklich zur kostenfreien Verbreitung freigegeben wurden. In der Welt der Hacker ist das bekannteste Programm dieser Art wahrscheinlich Modem7, ein Terminalprogramm unter CP/M, das von Ward Christensen geschrieben und von zahllosen Benutzern weiterentwickelt wurde.

Ein weiteres, sehr weit verbreitetes Terminalprogramm ist Kermit. Kermit wurde von der Columbia University in New York entwickelt und diente zunächst nur zur Übertragung von Dateien von einer PDP-11 zu einer DEC-20, zwei Computern aus der Groß-EDV. Doch innerhalb kurzer Zeit wurden Kermits auch für allerhand andere Computer entwickelt, und inzwischen umfaßt die Liste der vorhandenen Kermit-Programme zirka 100 verschiedene Ausführungen.

Auf dem C 64, der sich auch in Hackerkreisen großer Beliebtheit erfreut, sprießte die »Freeware« natürlich besonders gut, sind doch gerade die Hacker an nützlichen Programmen interessiert. So gibt es zum Beispiel »Megacom«, ein universelles Hackprogramm, das selbständig Nummern anruft und protokolliert oder Töne erzeugt, mit denen man umsonst telefonieren kann. Leider geht das nur in den USA, da das Telefonnetz hierzulande anders aufgebaut ist als in Amerika. Wer seine eigene Mailbox mit C 64 und 1541 aufmachen will, der ist mit »Norad« bestens bedient. Für das andere Ende gibt es »Connection 64«, »Term V1.7«, »Videx« oder »Proterm 64«.

Und was die Herzen aller Hak-ker höher schlagen läßt: »Data Hacker«, ein sehr komfortables und leistungsfähiges Programm zum automatischen Durchprobieren von Datex-P-Nummern und Paßwörtern.

Alle obengenannten Programme (und noch einige mehr) finden sich auf einer C 64-Sammel-diskette. Wer Interesse daran hat, kann diese Diskette für 10 Mark von der B.H.P. bekommen (Adresse und Hinweis »C 64 Sammeldiskette« angeben).

## Datex-P — die preisgünstige Alternative

Bei diesem Wort bekommen die meisten Hacker leuchtende Augen, ist für sie Datex-P doch gleichbedeutend mit dem Tor zur Welt. Datex-P ist ein spezielles Netzwerk, das Computer aus der ganzen Welt verbindet.

Das Datex-P-Netz wurde 1980 von der Deutschen Bundespost eingerichtet, um der immer wichtiger werdenden Datenkommunikation Rechnung zu tragen. Bedingt durch die spezielle Art der Datenübertragung (sogenannte Paketvermittlung, daher auch das P hinter Datex) ist die Übertragung hier wesentlich günstiger als über das Telefonnetz. Darüber hinaus nimmt Datex-P notwendige Anpassungen der Computer untereinander selbst vor, wenn zum Beispiel ein Datenbank-Computer mit einer schnellen Schnittstelle mit 9600 Baud ausgerüstet ist, kann man dennoch mit dem derzeit noch üblichen 300-Baud-Koppler mit diesem Computer kommunizieren, da Datex-P die erforderliche Umsetzung selbst vornimmt.

Was braucht man, um Datex-P benutzen zu können?

1.	Die normale Ausrüstung eines Hackers: Computer, Akustikkoppler und Terminalprogramm sowie Telefon.
2.	Zusätzlich eine Benutzerkennung für Datex-P, eine NUI (Network User Identification).
3.	Die Nummer des gewünschten Computers im Datex-P-Netz, die NUA (Network User Adress).

Die NUI kann man bei der Post beantragen. Man bezahlt, ähnlich wie beim Telefon, eine Grundgebühr von 15 Mark plus die monatlich anfallenden Kosten, die aber nur ungefähr ein Drittel dessen betragen, was man im normalen Telefonnetz bezahlt. Ein Tip: Wenn sich mehrere Freunde zusammentun und gemeinsam ihre NUIs bestellen, so kostet die Grundgebühr für die zweite und alle folgenden NUIs nur noch 5 Mark.

Nach unseren Erfahrungen ist es aber noch nicht bei allen Postämtern beziehungsweise Telefonläden bekannt, daß es Datex-P überhaupt gibt. Was man braucht, ist ein »Antrag für die Zuteilung einer Teilnehmerkennung Datex-P« und nichts anderes.

Wenn diese bürokratischen Hürden endlich genommen wurden, kann es losgehen:

Computer einschalten, Terminalprogramm laden, Telefonhörer zur Hand und den nächsten Netzknoten Computer (PAD — Packet Assembly/Disassembly Facility) angerufen. Eine Liste der 300-Baud-Rufnummern findet sich am Ende dieses Artikels. Die vollständige Liste, in der auch die Anschlüsse für 1200 und 1200/75 Baud angegeben sind, findet man in diversem Werbematerial der Post.

Wenn es aus der Leitung piepst, Hörer in den Koppler legen und
<CR>
eingeben. (Punkt eingeben und die RETURN-Taste drücken).

Datex-P meldet sich daraufhin mit: Datex-P:
**44 8900 49130.**
Jetzt stehen maximal zwei Minuten zur Verfügung, um den selbstgewählten Teil A der NUI einzugeben. Also zum Beispiel:
**NUI BEISPIEL** <CR>
Der PAD antwortet:
**Datex-P: Passwort:**
**XXXXXX**

Hier gibt man dann den Teil B der NUI, also das Paßwort, das man per Einschreiben von der Post erhalten hat, ein. Aus Sicherheitsgründen erscheint der Teil B nicht auf dem Bildschirm. Der PAD antwortet:
**Datex-P: Teilnehmerkennung DBEISPIEL aktiv**

Ab jetzt hat der Benutzer 60 Sekunden, um die Nummer des gewünschten Host-Computers einzutippen und eine Verbindung herzustellen:
**NUA 45228040187** <CR>

Ist der Anschluß frei, so antwortet der PAD mit:
**Datex-P: Verbindung hergestellt mit 45 2280 40187**

Ab jetzt gehen alle Eingaben an den angewählten Host-Computer. Also zum Beispiel in diesem Fall an den Computer des Amtsgerichts Bonn.

Fortsetzung folgt.

## Telefonnummern der PAD-Computer

TODO ASIDE/TABLE

Augsburg	08 21/3 67 91
Berlin	030/240001
Bielefeld	0521/59011
Bremen	0421/310131
Dortmund	0231/57011
Düsseldorf	02 11/329318
Essen	02 01/78 70 51
Frankfurt	0 69/2 02 81
Hamburg	040/441231
Hannover	0511/32 66 51
Karlsruhe	07 21/6 02 41
Köln	0221/2911
Mannheim	06 21/3 99 31
München	089/228730
Nürnberg	0911/20571
Saarbrücken	0681/810011
Stuttgart	0711/299171
Über diese Nummern erhalten Sie Zugang zum PAD-Computer

## Hilferuf aus einer Mailbox

Mein Name ist Michael Busboom. Ich beschäftige mich derzeit mit der Entwicklung von Hilfsmitteln für Blinde. Wenn ich folgendes Problem schildere, spreche ich von Herzen, denn ich bin auch blind, und meine Aussagen kommen nicht von ungefähr.

Derzeit gibt es einige blinde Kinder, die in völlig normale Regelschulen integriert werden. Die Integration bringt diesen Kindern enorme Vorteile, denn der Umgang mit sehenden Menschen bereitet sie auf ein Leben vor, in dem sie neue Berufsmöglichkeiten und Freiheiten haben werden. Zusätzlich wird das allgemeine Verständnis zwischen Blinden und Sehenden gefördert. Bisheriger Erfolg:

Da es notwendig ist, dem blinden Schüler Zugang zu den im Unterricht verwendeten Büchern zu verschaffen, wurden mittels eines ausgereiften technischen Verfahrens einige Bücher mit der Unterstützung eines Großcomputers in Blindenschrift übertragen. Andere Bücher wurden von einer kommerziellen Lesemaschine gelesen. Es gibt jedoch noch Bücher, die sich mit diesen Verfahren nicht verarbeiten lassen.

Diese Bücher müssen von Hand in einen Computer eingetippt werden. Können Sie helfen?

Mit der modernen Mikro-Elektronik ist es tatsächlich möglich, Texte in Blindenschrift zu erstellen, ohne über besondere Kenntnisse zu verfügen. Wenn jeder Mailbox-Benutzer sich bereit erklärte, nur einige Seiten einzutippen, so wäre der Bedarf an noch benötigten Büchern völlig gedeckt. Wie können Sie uns helfen, dieses Problem zu bewältigen? Es ist uns derzeit nicht möglich, ein Honorar für diese Arbeit zu zahlen. Die Arbeit ist daher als caritativ zu betrachten. Wenn Sie bereit sind, uns zu helfen, so ersuchen wir Sie, uns eine kurze Mitteilung zu schicken. Anschließend erhalten Sie weitere Hinweise.

Mit der Hoffnung, dieses dringende Problem gemeinsam lösen zu können:
Michael Busboom
IMCA + RMI
Mailbox-Adresse: Vielhaber

## Chaos Communication Congress (CCC) 1985

Ende Dezember 1985 findet in Hamburg zum zweitenmal der Chaos Communication Congress, ein Treffen von Hackern aus der ganzen Welt, statt. Veranstalter ist der aus Rundfunk- und Fernsehwerbung bekannte Chaos Computer Club aus Hamburg. Auf dem Programm stehen auch dieses Jahr wieder Vorträge und Diskussionen rund um Telefon und Datennetze, Vorführungen und Berichte aus der Welt der Hacker.

Der genaue Termin stand bei Redaktionsschluß noch nicht fest, wahrscheinlich aber Sams-tag/Sonntag, 27./28. Dezember.

## Handbuch für Hacker und andere Freaks

Das absolute Muß für jeden Hacker und die, die es werden wollen. Bisheriger Inhalt: Kostenlos telefonieren, Viren, was ist eine Mailbox, Mailboxnummern im In- und Ausland, Datex-P und seine Wanzen, B.H.P., DS/ CCC, NUA-Sammlung, VATICAL (TM), Hardwaretips und vieles mehr. Bisheriger Inhalt deshalb, weil das HfH eine lose Blattsammlung darstellt, die in einem DIN A5-Ordner vertrieben wird. Um bleibende Aktualität zu sichern, wird das Buch durch drei im Preis enthaltene Nachlieferungen ergänzt. Bis heute (03. 11.85) sind schon zwei beim Re-zensor eingetroffen. Die dritte soll zu Weihnachten 1985 fertig sein. Ab Anfang 1986 erscheint dann ein vierteljährlicher Infobrief im selben Format. Außerdem werden Infofiles über verschiedene Mailboxen in ganz Deutschland abrufbar sein.
Handbuch für Hacker
Rathmann — Schalla
Friesenstr. 24
3000 Hannover 1
Preis: 20 Mark für vier Ausgaben.

TODO ASIDE

## Datex-P-Nummern

TODO TABLE

Univ. Nürnberg	45 615140282
Telebox	45 6210 40000
Univ, of Essex	23 4220 6411411
Decates	44 6154 40307
Lockheed Dialog	31104150002000
Univ, of Alberta	30 2060100010
Nat. Lib. of Medicine	: 310600 50
Euronet Diane	23 4219 2010100513
American Express	44 6110 40303
ITT	23422790014302
Univ, of Wales	234222236236
Ferranti	23 4261643343
Cyber Erlangen	45913111
Primnet	R45 2110 40026
USA-Telenet	311020 20014275
Dartmouth College	311060300020
ESA	22 2307 7,Quest

## Hackerbibel

Seit langem erwartet und doch fertig geworden. Am 16. September 1985 sind die ersten Exemplare der Hackerbibel des CCC ausgeliefert worden. Der Inhalt der 260 Seiten ist zu vielfältig, um in einigen Worten beschrieben zu werden. Außer einer Reihe von kaum bekannten Artikeln aus dem In- und Ausland, sind alle bisher erschienenen Ausgaben der Datenschleuder und eine Auswahl aus den ersten 27 TAP’s enthalten.
Die Hackerbibel
ISBN3-922708-98-6
Verlag Werner Pieper
D-6941 Löhrbach
Preis: 33 Mark

(B.H.P./aw)

TODO ASIDE

# Leserforum [16-17]

## Fließkommaroutinen beim VC 20

Besitzt der VC 20 eingebaute Maschinensprache-Routinen für Multiplikation und Division? Ausgabe 11/85
Manfred Klemenz

Der VC 20 besitzt eine Maschinensprache-Routine zum Multiplizieren; die Startadresse ist $D357, desgleichen eine Divisionsroutine. Die Zero-Page-Adressen, die für diese Routinen verwendet werden, sind dieselben wie beim C 64 und wurden in der Ausgabe 5/85 des 64’er-Magazins im Assemblerkurs besprochen. Die in diesem Kursteil ebenfalls beschriebene Blockverschieberoutine startet beim VC 20 auf der Adresse $C3BF, die dazu gehörigen Speicherstellen sind wiederum dieselben wie beim C 64.

Meindert Hielkema, Niederlande

TODO ASIDE

## Fragen Sie doch

Selbst bei sorgfältiger Lektüre von Handbüchern und Programmbeschreibungen bleiben beim Anwender immer wieder Fragen offen. Viel mehr Fragen ergeben sich bei Computer-Interessenten, die noch keine festen Kontakte zu Händlern, Herstellern oder Computerclubs haben. Sie können der Redaktion Ihre Fragen schreiben oder Probleme schildern (am einfachsten auf der Karte »Lesermeinung«). Wir veranlassen, daß sie von einem Fachmann beantwortet werden. Allgemein interessierende Fragen und Antworten werden veröffentlicht, die übrigen brieflich beantwortet.

## Probleme mit MPS 801 und Floppy 1541?

Als Besitzer eines VC 20 mit 32/27 KByte-Modul habe ich nie Probleme gehabt, mit meinem MPS 801 Programme auszudrucken, die zuvor per Datasette gelesen wurden. Das hat sich schlagartig geändert, seit ich im Besitz einer 1541-Floppy bin. Beide Geräte, Drucker und Floppy, sind ordnungsgemäß angeschlossen und arbeiten für sich alleine auch einwandfrei. Soll allerdings ein Programm bei angeschlossener Floppy ausgedruckt werden, dann führt das regelmäßig zum »Absturz« des Computers. Auch Entfernen aller Erweiterungen führte zu keiner Verbesserung. Sobald sowohl Drucker als auch Floppy gleichzeitig angeschlossen sind, kann ich den Drucker vergessen. Das kann doch wohl nicht im Sinne des Erfinders sein?! Ich wende mich an das Leserforum, weil das, was mir die Verkäufer der Geräte auf meine wohl berechtigten Reklamationen geboten haben, hart an die Grenze desAnstands gegangen ist.
Rudolf Inckemann

## Computer für Blinde?

Gibt es ein Programm für den C 64 oder für einen anderen Computer, mit dem auch Blinde und stark Sehbehinderte die Möglichkeit bekommen, einigermaßen sinnvoll mit dem Computer arbeiten zu können? Ich denke dabei an ein Programm, das bei allen Bildschirmausgaben entweder jedes Zeichen im Klartext ansagt (Sprachsynthese) oder wenigstens jedem Zeichen einen bestimmten Ton beziehungsweise eine Tonfolge zuordnet.
Gerhard Halmerbauer

## Haushaltsbuch mit MPS 801

Wie kann man das Programm »Haushaltsbuch«aus derAusga-be 7/85 für den MPS 801 umschreiben?
Ausgabe 11/85
Dirk Zwartenbol, Niederlande

Ich habe dieses Problem gelöst durch Ändern der Zeilen 250, 2830, 5890, 5910, 5930, 5960, 5970. Zeile 5880 habe ich fortgelassen. Hier die für den Betrieb mit MPS 801 geänderten Zeilen:

250 POKE 768,185 : OPEN 1,4,7 : PRINT#!,”” : CLOSE 1 : POKE 768,F%
2830 CLOSE 1 : OPEN 4,4,7 : PRINT#4 : CMD 4 : IF X = 3 THEN 2540
5890 PRINT#1, D$(Y,0); SPC (14); D$(Y,1); SPC(8)
5910 PRINT#1, MID$(D$(Y,2), 3,2); ”.”; LEFT$(D$(Y,2),2); ”.”; RIGHT$(D$(Y,2),2)
5930 PRINT#1, MID$(D$(Y,2), 2,2); ”. ”; LEFT$(D$(Y,2),1); ”.”; RIGHT$(D$(Y,2),2)
5960 PRINT#1, SPC(20);"----------”:PRINT#1,”SUMME”;: GOSUB 4370
5970 PRINT#1, SPC(19-(L-1)); SU$ : CLOSE 1 : A$ = ”” : RETURN

Mit diesen Änderungen läuft das Haushaltsbuch auch mit dem MPS 801.
Sabine Gnutzmann

## Turbo-Lader eingebaut

Wie muß das BetriebssystemROM beim C 64 geändert werden, um ein Turbo-Tape-Pro-gramm fest zu integrieren? Welche Adressen bestimmen die Baudrate?
Ausgabe 11/85
Bernt-Dieter Bernt

Die Baudrate des Kernels zu erhöhen reicht alleine nicht aus, um auf die Geschwindigkeit von Turbo-Tape zu kommen. Wir haben das Betriebssystem dahingehend geändert, daß alle Programme mit der Geschwindigkeit von Turbo-Tape geladen und gespeichert werden können.
K. Hallmann, Christian Gallas

Ich habe ein Turbo-Tape-Programm ins Betriebssystem eingebunden, das als Besonderheit auch solche Programme bearbeiten kann, die bis maximal $D000 (also bis unter das Basic-ROM) reichen. Ein entsprechendes EPROM, das anstelle des normalen Betriebssystems eingesteckt wird, kannich ebenso wie einen notwendigen Adaptersockel zur Verfügung stellen.
Franz Hirschmann

## »Kurvenplotter C 16« für Star-Drucker?

Wie und mit welcher Anpassung läuft das auf dem Bildschirm ganz brauchbare Programm zur Kurvendarstellung, so daß es eine Hardcopy auch auf meinem Star SG 10 mit Star-Interface ausdruckt? Mein Plus 4 meldet lediglich »?File Open Error«,wenn ich das Programm ohne Änderungen starte.
Günter Dewald

## Kurzwelle und C 64

Gibt es die Möglichkeit, Kurzwellenfunksendungen mit dem C 64 zu verarbeiten?
Ausgabe 11/85
Holger Jöhnck

Ich bin selbst lizenzierter Radioamateur und verwende den C 64 im Zusammenhang mit KW-Empfang und RTTY (Radio-Teletype). Was brauchen Sie dazu? Hardware:
— Eine gute KW-Außenantenne
— Einen Kurzwellenempfänger mit Beat-Oszillator
— Ein Interface, welches die ankommenden analogen Signale in digitale Daten umwandelt
— Software: Ein spezielles Programm für KW-Verarbeitung, was meistens auch RTTY beinhaltet.

Für weitere Informationen können Sie sich an den DARC (Deutscher Amateurradio Club) wenden, der Sie sicher weiter beraten wird.

Hinsichtlich Interface und Software müßte Ihnen die Firma P. Walter in Celle weiterhelfen können.

Ich würde mich freuen, wenn Sie eines Tages mein Signal (SM0KWK) auf Ihrem Monitor sehen würden...
Holger Kossmann, Schweden

DARC, Postfach 1155, 3507 Braunatal 1, Firma P. Walter, An der Ziegelei 1, 3100 Celle

## C 64 und Video-Recorder

Wer hat Erfahrung mit Einsatz und Programmierung eines C 64 als Steuereinheit für einen Video-Recorder? Ich möchte zwei Video-Recorder über den User-Port ansteuern können. Als Taktsignal steht der CTL-Im-puls mit 25 Hz zur Verfügung. Über die Ausgänge des User-Ports möchte ich die Funktionen START, STOP, PAUSEetc. ansteuern. Das Taktsignal soll Anfang und Ende einer Steuersequenz bestimmen. Wer ha t hierzu Ideen und eigene Erfahrungen ?
Günter Kelleter

## Hi-Eddi und 1526

Wie bekomme ich eine Hardcopy von Hi-Eddi-Bildern mit dem 1526-Druckerzustande?
Heinz Krieger
Ausgabe 11/85

Mit dem Drucker 1526 und der Betriebssystemversion REV 07 ist ein Grafik-Ausdruck nicht möglich. Ich hatte das gleiche Problem und habe kurzerhand das Betriebssystem-EPROM des Druckers gelöscht und mit dem MPS 802-Betriebssystem neu programmiert. Danach war ein einwandfreier Grafikbetrieb möglich. Auf Wunsch programmiere ich Herrn Kriegers EPROM gern um.
Bernhard Korell

## C 64 als Btx-Tastatur

Kann man den Commodore 64 auch als Btx-Tastaturbenutzen?
Ausgabe 11/85
Jörg Stalberg

Der C 64 läßt sich als Btx-Tasta-tur einsetzen, wenn ein Btx-Ge-rät vorhanden ist. Ich habe ein entsprechendes Programm selbst geschrieben. Es hat die gleichen Funktionen wie eine echte Btx-Tastatur. Zusätzlich können Btx-Seiten auf Diskette gespeichert und wieder geladen werden. Das Programm läuft allerdings nur mit Loewe-Decodern, wie sie zum Beispiel auch in Philips-Geräten eingebaut sind. Weiterhin gibt es eine ganze Reihe von Firmen, die ein solches Programm anbieten, zum Beispiel Commodore.
Bernhard Korell

## Fragen zum C 16/Plus 4

(1)	Ist es möglich, mit dem C16 beziehungsweise dem Plus 4 Datenfernübertragung zu betreiben, und was benötigt man dazu?

(2)	Ist es möglich, von derPost ein Modem zu bekommen, das auch für den Plus 4 geeignet ist, und welches Modem ist das beste, um zum Beispiel mit Mailboxen Datenfernübertragung zu betreiben?

(3)	Warum wurde bei den neuen Commodore-Computern C 16, 116 und Plus 4 auf den User-Port verzichtet? Welchen Grund hatte Commodore dafür; es ist ja schon ärgerlich genug, daß die Anschlüsse für Datasette und Joysticksgeändert wurden.
Peter Ludwig

(1)	Zur Datenfernübertragung mit dem Plus 4 brauchen Sie eine serielle Schnittstelle (RS232) und entsprechende Treibersoftware für diese Schnittstelle. Mit einer RS232-Schnittstelle können Sie jeden Akustikkoppler anschließen, desgleichen praktisch jedes Modem. Doch damit sind wir bereits bei einem großen Haken an der ganzen Geschichte: Zum Betrieb eines Akustikkopplers braucht man ein Terminalprogramm. Fürweit verbreitete Computerwie den C 64 oder die Schneider Computer ist das kein Problem, da gibt es jede Menge Auswahl. Beim Plus 4 wird’s da leider schon etwas kritischer. Möglicherweise hilft da nur selber schreiben. Vielleicht kann da aber auch einer unserer Leser weiterhelfen? Über serielle Schnittstellen zum Plus 4 informiert Sie auf jeden Fall Ihr Commodore-Händler.

(2)	Ein Modem wird nicht direkt mit dem Computer angeschlossen, sondern an die serielle (RS232) Schnittstelle. Damit ist die Wahl des Modems nicht an einen bestimmten Computertyp gebunden. Über zugelassene Modems informiert Sie die Deutsche Bundespost.

(3)	Wenn es Ihnen ein Trost ist: Das fragen wir uns auch.

## C 16 statt C 64?

Ich besitze seit geraumerZeit einen C 64 nebst Peripherie. Für manche Anwendungen reicht der Speicher des C 64 aber nicht aus. Schon 10 KByte mehr von Basic aus ansprechbar würden es aber tun. Darum möchte ich mir nun einen C 16 mit 64 KByte Speichererweiterung zulegen. Erstens besitzt dieser Computer ein weitaus besseres Basic und zweitens kann ich Floppy, Drucker und Plotter des C 64 weiterverwenden.

Dazu habe ich folgende Frage: Ist der C 16 bei dieser vollkommenen Speichererweiterung voll zum C16 in der Grundausführung kompatibel?
Joachim Eiselt

Leider gibt es zum C 16 von Commodore selbst keine Speichererweiterung, so daß man nur Fremdfabrikate verwenden kann. Der C 16 ist jedoch vom Betriebssystem her bereits auf einen Speicher von 64 KByte für Basic-Programme ausgelegt. Von der Basic-Ebene her betrachtet ist der C 16 bei Vollausbau kompatibel zur Grundver-sion, desgleichen zum Plus 4, der ja bereits serienmäßig über 64 KByte Speicher verfügt.

Leider hört die Kompatibilität bei PEEK, POKE und SYS auf. Bei Programmen, die diese Befehle benutzen, kann ein einwandfreies Funktionieren nicht in jedem Fall garantiert werden. Die Änderungen am Programm, die im Falle eines Falles gemacht werden müssen, sind aber in der Regel minimal.

Allerdings sollten Sie sich Ihren Entschluß vielleicht doch nochmals überdenken: Der C 16 ist, wie leider auch der Plus 4, völlig inkompatibel zum C 64, so daß Sie große Probleme bekommen werden, wenn Sie versuchen, Ihre C 64-Programme für den C 16 »umzustricken«, insbesondere, wenn die Programme mit Maschinensprache-Unterroutinen arbeiten.

Zudem gibt es für den C 16 so gut wie keine Software zu kaufen, erst recht keine, die irgendwelche Speichererweiterungen ausnutzen kann. Sie müssen sich darüber im klaren sein, daß Sie mit einem C 16 und Speichererweiterung einen Computer besitzen, der höchstens kompatibel zu sich selbst, aber zu nichts anderem ist.

Schließlich sollten Sie sich überlegen, ob sich Ihr Problem nicht auch durch effizientere Programmierung oder bessere Ausnutzung des Floppy-Lauf-werks lösen läßt. Und dann gibt es ja auch noch das Business-Basic-Steckmodul von Kingsoft (Test in Ausgabe 8/85), das den Basic-Programmspeicher des C 64 auf 61 KByte RAM erweitert und nebenbei noch über 50 neue Befehle zur Verfügung stellt.

## Fragen ohne Grenzen

Wasbrauchtman alles, um ein professionelles Spiel (nicht so gut wie »Impossible Mission« und nicht so schlecht wie ein billiges Arcade-Game wie »De-fender«) zu schreiben, wenn man den C 64 einigermaßen beherrscht, wiezumBeispiel, VIC, SID, CIA, Zeichensatz? Was ist wichtigzu wissen, um die Sprites auf dem Fernseher, hinter oder in einem scrollenden Grafik-Bildschirm zu bewegen? Ich scheue keine Hilfsmittel wie zum Beispiel einen Sprite-Monitor oder Pascal.

Ich möchte einen Kopierschutz für meine Programme. Ich will durch einen Hardware-Fehler auf der Diskette einen Ausstieg mit bestimm ter Fehlermeldungerzwingen, sonst wird die Diskette formatiert und gelöscht.

Das sind zwei von vielen Fragen, die monatlich unsere Redaktion erreichen. Leider sind sie auch typisch für eine Gruppe von Fragen, die sich in letzter Zeit häuft. Fragen, die derart allgemein gehalten sind, können wir beim besten Willen weder im Leserforum noch schriftlich beantworten.

Wir können leider keine Kurse über professionelle Spielerprogramme bringen, denn es gibt aus guten Gründen nur wenige gute Spiele. Programmierer finden nur durch Probieren ihre Tricks heraus und behalten sie dann für sich. Außerdem braucht man einen guten Schuß Phantasie — Schließlich will man ja kein Allerweltsspiel programmieren sondern etwas Eigenständiges. Auch das Thema Kopierschutz wirft enorme Probleme auf: Die Veröffentlichung eines Schutzes macht diesen so-fortwiederwirkungslos, dajaje-der Semi-Knacker ihn ganz genau kennt. Und Ihnen persönlich einen Kopierschutz zu entwickeln, dazu fehlt uns leider die Zeit, denn wir wollen ja jeden Monat eine interessante Zeitschrift machen. In dieser Zeitschrift, der 64’er, und in unseren Sonderheften können Sie ja fast immer Kurse und Artikel über bestimmte Programmier-Techniken finden, vom Abenteuerspiel bis zum Stringsortieren. Allerdings können wir solche Artikel nicht für alle möglichen Bereiche auf Abruf unserer Leser bereithalten, denn sie müssen erst einmal geschrieben werden.

Also eine Bitte — Wir sind jederzeit für Fragen und Probleme unserer Leser offen, die wir beantworten können, ohne dafür mehrere Arbeitstage an einer Antwort zu sitzen. Lösungen für ganz allgemeine Fragen können wir Ihnen leider nicht bieten.

## Directory mit MPS 802?

Wie kann ich mit einem MPS 802-Drucker das Inhaltsverzeichnis meiner Disketten in der Mitte des Papiers beziehungsweise am rechten Rand ausdrucken? Natürlich ist mir die im Handbuch beschriebene Methode mit »OPEN 1,4: CMD1 : LIST« bekannt, doch erscheint dabei das Directory immer am linken Rand.
Uwe Melchiar

TODO ASIDE

## Wollen Sie antworten?

Wir veröffentlichen auf dieserSeite auch Fragen, die sich nicht ohne weiteres anhand eines guten Archivs oder aufgrund der Sachkunde eines Herstellers beziehungsweise Programmierers beantworten lassen. Das ist vor allem der Fall, wenn es um bestimmte Erfahrungen geht oder um die Suche nach speziellen Programmen. Wenn Sie eine Antwort auf eine hier veröffentlichte Frage wissen — oder eine andere, bessere Antwort als die hier gelesene, dann schreiben Sie uns. Antworten publizieren wir in einer der nächsten Ausgaben. Bei Bedarf stellen wir auch den Kontakt zwischen Lesern her.

# Riteman II - der Originalgetreue [20-21]

> Der Riteman II ist ein Drucker für überquellende Schreibtische. Er überrascht mit kleinen Abmessungen. Äußerlich klein, bietet er aber fast das gleiche wie sein Vorbild, der FX-85.

Bei der ersten Betrachtung des Riteman II (Bild 1) verblüfft das kompakte, aber schwere Gehäuse, das kleiner als das eines MPS 802 ist. Die Tasten SEL (entspricht On-/Offline), LF (Zeilenvorschub) und FF (Seitenvorschub) sind an der gleichen Stelle wie beim Vorbild angebracht. Leider ist die Möglichkeit der Auswahl der Schriften mittels dieser Tasten beim Riteman II nicht implementiert. Auf der Rückseite findet man, nach Entfernen einer kleinen Abdeckung (ohne Werkzeug), 16 DIP-Schalter zur Auswahl verschiedener Einstellungen. Um nur einige wichtige zu nennen:

Es stehen acht internationale Zeichensätze zur Verfügung. Die Null kann mit und ohne Schrägstrich gedruckt werden. Man hat auch die Wahl, ob sich der Riteman II nach dem Einschalten im NLQ- oder im Normalmodus befinden soll. Papierlänge und die Abschaltung des Warnsignals werden an diesen Schaltern ebenfalls eingestellt. Der Riteman II wird serienmäßig mit einer Centronics-Schnittstelle und 2-KByte-Puffer ausgeliefert. Als Option wird ein 8-KByte-Puffer (215 Mark) und eine serielle Schnittstelle (RS232C, Preis: 130 Mark) angeboten. Der Druckkopf macht einen soliden Eindruck und ist auf zwei Führungsschienen montiert. Dies sind gute Voraussetzungen für ein sauberes Schriftbild. Man darf wohl der gesamten Mechanik das Prädikat »solide und funktionell« verleihen.

### Tinte statt Carbon

Die Farbkassette (20 Mark) ist nur etwa sechs Zentimeter breit und wird mit dem Druckkopf mitgeführt. Das Wechseln der Kassette ist fast beispielhaft einfach und sauber, obwohl es sich um ein mit Tinte getränktes Band handelt. Die Kassette ist nachfüllbar und da das Band nahtlos als Endlosband ausgeführt ist, kann man auf eine lange Lebensdauer hoffen. Wie beim Vorbild FX-85 ist die Papierführung konstruiert: Die Stachelwalzen befinden sich auf derselben Achse wie die Andruckrolle. Das Einlegen von Endlos- und Einzelblättern geht mühelos und stellt keine hohen Ansprüche an die Fingerfertigkeit des Besitzers. Die ganze Mechanik wird von einer Plexiglasabdeckung gegen Staub und die Finger eines zu forschen Bedieners geschützt. Die im Handbuch als Abrißkante bezeichnete Schiene zum Abreißen des Papiers wird ihrem Namen mangels Schärfe allerdings nicht ganz gerecht. Endlospapier kann hier nur sehr schlecht abgerissen werden. Meistens reißt man das Papier dabei schräg ab. Ein Umstand, der sich sicher sofort und ohne großen Aufwand seitens des Herstellers ändern lassen müßte.

Ist der erste Eindruck gut, so wird dies durch unseren Drucktest (siehe Tabelle) bestätigt. Mit 1:50 Minuten für den Probetext liegt der Riteman II nur etwa sieben Sekunden hinter dem FX-85. Allerdings ergibt sich im NLQ-Modus mit 24 Zeichen/s ein größerer Abstand zum Vorbild (37 Zeichen/s). Auch sonst gibt es kleine Unterschiede. So ist beispielsweise die Druckmatrix im NLQ-Modus nur 16 x 12 Punkte groß. Allerdings ist das damit erreichte Druckbild sehr gut (Bild 2 und 3) und trägt den Namen Schönschrift zu Recht.

### ESC — Eine Vielfalt der Steuermöglichkeiten

Alle Druckerfunktionen, teilweise auch die an den DIP-Schaltern einstellbaren, sind über ESC-Befehle anzusteuern. Dabei fällt auf, daß alle diese Befehle exakt mit denen des Epson FX-85 übereinstimmen. Nicht vorhanden ist jedoch der IBM-Mo-dus (dafür gibt es eine eigene Riteman II-Version für 1298 Mark), der den FX-85 doch noch universeller sein läßt.

Der Riteman II ist mit seinem Preis von 1398 Mark ein Drucker, der sich hinter seinem Vorbild nicht zu verstecken braucht. Die Befehle des Riteman II orientieren sich stark am FX-85: Die Syntax ist meist die gleiche. Man kann den Riteman II als gelungene Synthese aus dem Leistungsangebot des FX-85 und dem Gedanken an ein kompaktes Gerät bezeichnen. Wer länger mit ihm arbeitet, wird sich bald über den zusätzlichen Platz auf dem Schreibtisch freuen, ohne auf wesentliche Funktionen verzichten zu müssen. Urteil: sehr empfehlenswert.

(Elisabeth Konther/aw)

# MSP-10 - ein Uhrmacher auf Abwegen [21-22]

> Mit zwei Jahren Garantie auf die neu entwickelten Matrixdrucker will Citizen die Nummer 1 auf dem Druckermarkt werden.

Als Jack Bennet, Vizepräsident von Citizen Deutschland, am 26. September 1985 die neuen MSP-Matrixdrucker vorstellte, nannte er große Ziele. Nach seiner Aussage strebe man an, der weltweit führende Hersteller von qualitativ hochwertigen und extrem zuverlässigen EDV-Druckern zu werden. Der von uns getestete MSP-10 (Bild 1) ist mit 1648 Mark das bislang preiswerteste Instrument von Citizen zum Erreichen dieses Zieles — bleibt zu prüfen, ob es dazu geeignet ist.

Als ein Drucker mit Epson- und IBM-Modus wird der MSP-10 im deutschen Handbuch vorgestellt. Das Handbuch trägt seinen Namen zu Recht. Gut gegliedert und klar in der Darstellung gibt es auf (fast) alle Fragen Antwort. In diesem Handbuch stolpert man schon auf den ersten Seiten über eine Überschrift, die aufmerken läßt »Maintenance SelfTest«. Dies läßt sich wohl am besten mit Wartungstestroutine übersetzen. Dieser Selbsttest gibt Auskunft darüber, was sich im Innern des Druckers abspielt. Als erstes zeigt diese Routine die eingebaute Version des Betriebssystems an, einschließlich des dazugehörigen Datums. Dann folgt in übersichtlicher, das heißt in lagerichtiger Ansicht, die Darstellung der Zustände der eingebauten zwei DIP-Schalter.

Die DIP-Schalter befinden sich leider im Innern des Druckers und sind von außen nicht zugänglich. Also heißt es, Papier heraus und Werkzeug her, sollte etwas geändert werden müssen. Nachdem die Unzugänglichkeit solcher Schalter immer wieder in den verschiedenen Tests bemängelt wird, ist es unverständlich, warum solche »Kleinigkeiten« noch falsch konstruiert werden. Da wir gerade bei den negativen Punkten sind, sei der zweite (und letzte) genannt. Der gesamte Drucker macht zwar einen optisch ausgezeichneten Eindruck, der sich aber beim ersten Berührungskontakt sofort verflüchtigt. Die Plastikabdeckung ist nur aufgelegt und auch der Papierseparator scheint es bei jeder Gelegenheit darauf anzulegen, aus der Halterung zu rutschen. Am besten ist es, wenn man beides gar nicht erst auspackt und den Drucker offen betreibt. Leider sind auch die Stachelwalzen beim MSP-10 so einfach auf der zugehörigen Achse befestigt, daß sie nur ungenau einzustellen sind. Selbst wenn die Walzen arretiert sind, kann man sie beinahe mühelos hin- und herschieben. Dieser Punkt bedarf einer dringenden Verbesserung, damit das sonst sehr gute Gesamtbild des MSP-10 nicht zu sehr getrübt wird. Doch zurück zum Handbuch. Daß ein (üblicher) Selbsttest vorhanden ist, muß nicht näher beschrieben werden. Anders dagegen der Hex-Dump-Modus des MSP-10. Durch Drücken von LF und FF während des Einschaltens angewählt, wird man beim Ausdruck, beispielsweise einer Textzeile, überrascht seinen Augen nicht trauen. Nicht nur die Hex-Werte erscheinen auf dem Papier, sondern auf der rechten Seite des Blattes auch die dazu gehörenden ASCII-Zeichen. Jeder, der schon einmal mit Handbüchern Hex-Werte in ASCII-Zeichen umgesetzt hat, wird diesen Komfort des MSP-10 schnell schätzen lernen.

Mit den Tasten ON LINE, LF und FF werden Hex-Dump, der Selbsttest, der Maintenance-Test und die Umschaltung in den NLQ-Modus vorgenommen. Das Einschalten des NLQ-Modus kann zeilenweise geschehen, das heißt, wird während eines Druckvorganges in den NLQ-Modus geschaltet, so wird die laufende Zeile ordnungsgemäß beendet und dann werden die folgenden Zeilen in Schönschrift (Bild 2 und 3) auf das Papier gebracht.

Auf dem »Mäuseklavier«, eine unter Technikern gebräuchliche Bezeichnung für DIP-Schalter, lassen sich unter anderem nicht weniger als 11 internationale Zeichensätze auswählen. Außerdem sind dort, analog zum Epson, Papierlänge, die Form der Null, LF bei CR (Zeilenvorschub bei Wagenrücklauf), Papier-endeerkennung und vieles mehr festzulegen. Allerdings nicht zu fest; denn alle diese Befehle können auch per Software (ESC) beliebig geändert werden. Da eine Änderung der Schalter die Demontage des MSP-10 erfordert, wollen solche Maßnahmen gut überlegt sein. Papierbreiten von 76,2 mm bis hin zu 254 mm sind keine besondere Aufgabe für den MSP-10. Dabei sind außer dem Original noch zwei Durchschläge möglich. Die Anschlagstärke wird an einem kleinen Hebel, seitlich am Gehäuse, verändert. Keine Frage, auch Einzelblätter verarbeitet der MSP-10 mühelos. Wegen der eingangs zitierten mechanischen Probleme sogar besser als Endlospapier.

## Befehlsvielfalt

Die hinlänglich bekannten, weil oft verwendeten ESC-Befehle dienen dem MSP-10 zur Steuerung von Format-Anweisungen, Schriftartenumschaltung und der Ausführung sonstiger Steuerbefehle (Tabelle). Im Vergleich mit unserem Referenzdrucker, dem FX-85, besitzt der MSP-10 ein stark erweitertes Angebot an ESC-Befehlen.

Mit Hilfe eines einzigen Befehls lassen sich unter anderem auch häufig benutzte Kombinationen aus Druckbild und Schriftart einstellen. Beispiele hierfür sind Pica/Schmal-schrift, Elite/Normal, Elite/Schmal oder reverse Darstellung. Das tollste aber ist der als »Master Pitch« bezeichnete ESC-Befehl ESC(!) CHR$(n). Für die Variable n wird eine Zahl von 0 bis 255 eingesetzt. Diese Zahl ergibt sich als Summe einer Reihe von Wertigkeiten, die verschiedenen Druckbefehlen fest zugeordnet sind. Was sehr kompliziert klingt, ist in Wirklichkeit mit ein bißchen Routine sehr einfach anzuwenden. Ein Beispiel soll das Geschehen verdeutlichen: Pica(0) mit Dop-peldruck(16), in Breitschrift(32) soll unterstrichen (128) werden. Diese Befehlskombination wird mit ESC(!) CHR$(176) (also mit der Summe der einzelnen Befehle) eingeleitet. Um den Rahmen dieses Artikels nicht zu sprengen, soll nur noch ein weiterer ungewöhnlicher Steuerbefehl erläutert werden. Mit »Backspace« wird der Befehl CHR$(8) bezeichnet. Damit bewirkt man das wiederholte Drucken, wobei der Druckkopf um eine Nadelbreite nach links versetzt wird. Beispielsweise kombiniert mit Kursivschrift und dem mehrfachen Wiederholen des Befehls ESC$(8) lassen sich völlig neue, ungewohnte Schriftbilder entwickeln. Der Kreativität sind (fast) keine Grenzen gesetzt.

Das Schriftbild des MSP-10 ist in allen Modi gleichmäßig und braucht den Vergleich mit anderen Druckern nicht zu scheuen. Auch die NLQ-Schrift läßt keine Wünsche mehr offen.

## Elektronik kontra Mechanik

Der MSP-10 ist ein Drucker, dessen elektronische Leistungsfähigkeit im Widerspruch zum mechanischen Aufbau des Gehäuses steht. Allerdings scheint man bei Citizen trotzdem größtes Vertrauen in die Mechanik zu haben, denn es wird eine bislang nie dagewesene Garantiezeit von zwei Jahren eingeräumt. Das selbstgesteckte Ziel wird Citizen mit dem MSP-10 aber wahrscheinlich nicht erreichen, denn dazu ist der Preis von 1648 Mark, in Anbetracht des nicht befriedigenden mechanischen Aufbaus, zu hoch. Bleibt zu hoffen, daß Citizen in Zukunft auch an seine Drucker die gleichen mechanischen Präzisionsanforderungen wie an seine Uhren stellt.

(Elisabeth Konther/aw)

Info: Sylenec Datensysteme GmbH, Postfach 1517 27, 8000 München 15, Tel. (089) 5179-0

# Großer Monitortest [24-29]

> Ein Monitor ist, zumindest bei Heimcomputern, dos wichtigste Datenausgabegerät überhaupt.

Wir stellen Ihnen eine Auswahl von 15 Monitoren vor, die für Heimcomputer wie den C 64 oder den C 128 in Frage kommen.

Wollen Sie Ihren Computer vom heimischen Fernseher trennen und an einen Monitor anschließen? Dann liegt Ihrem Entschluß wahrscheinlich einer der beiden folgenden Gründe zugrunde.

Der erste Grund: Sie werden ständig von Ihrer Familie bei der Programmwahl unterdrückt. »Schwarzwald-Klinik« statt 25 Zeilen mal 40 Zeichen.

Der zweite Grund: Die Qualität des Fernsehers reicht Ihnen nicht mehr aus. Das Bild ist Ihnen zu unscharf und die Fernseherröhre eventuell zu groß. Damit ist das Stichwort auch schon gefallen: Bildqualität. Da ein Monitor eine höhere Auflösung als ein Fernseher hat, ist ein schärferes und kontrastreicheres Bild möglich. Daß ein deutliches, kontrastreiches Bild die Augen weniger belastet als ein flaues, ist wohl fast selbstverständlich. Spätestens hier müssen die Monitore in zwei Klassen getrennt werden, den monochromen (schwarzweiß) und den Farb-Monitoren, da die monochromen Typen ein wesentlich deutlicheres Schriftbild haben als Color-Versionen. Ein monochromer Monitor für etwa 300 bis 400 Mark kann leicht 80 Zeichen pro Zeile lesbar auf den Bildschirm darstellen. Ein Farbmonitor mit FBAS- oder Compo-site-Eingang aber nur 40 Zeichen. 80 farbige Zeichen pro Zeile sind nur bei RGB-Monitoren möglich.

Sie sollten genau abwägen, ob Sie sich einen monochromen Monitor oder einen Farbmonitor zulegen. Verwenden Sie Ihren Computer als Schreibmaschine oder programmieren Sie beispielsweise naturwissenschaftliche Anwendungen, bei denen es auf Farbe nicht ankommt, dann sollten Sie sich einen monochromen Monitor kaufen. Sie tun Ihren Augen damit einen großen Gefallen. Sind Sie allerdings ein Spieleoder Grafik-Fan, dann ist ein Farbmonitor für Sie das richtige Gerät. Beachten Sie auch, ob Sie einen Lautsprecher benötigen oder nicht. Die Videobandbreite eines Monitors gibt die Leistungsfähigkeit des Videoverstärkers an. Die Videobandbreite eines Monitors kann man mit dem Frequenzumfang eines Audioverstärkers vergleichen.

Sehr wichtig ist auch die Bildschirmdiagonale des Monitors. Für einen Heinmcomputer kommen 9 bis 14 Zoll in Frage, wobei sich 12 Zoll häufig als das Optimum erweisen. Allgemein: Je näher Sie den Monitor vor Augen haben, desto kleiner sollte der Bildschirm sein. 5- oder 6-Zoll-Monitore sind für die tägliche Arbeit zu klein.

Wir haben 15 Monitore getestet. Acht Farbmonitore und sieben monochrome. Das Testbild wurde mit einem C 64 erzeugt, der 80-Zeichen-Text mit dem Textverarbeitungsprogramm Protext und dem C 128 im RGB-Modus. Zur Monitoransteuerung wurde das Luminanzsignal verwendet (siehe Monitorumschaltung in Ausgabe 10/85, Seite 16). Für das Testbild wurde absichtlich der C 64 verwandt und nicht der dazu kompatible C 128, da die Bildschirmdarstellung des C 128 im 40-Zeichen-Modus schlechter ist. Das Bild besitzt Längsstreifen.

Drei der getesteten Farbmonitore lassen sich an den C 128 sowohl im 80- als auch im 40-Zeichenmodus anschließen.

Zum Test der Monitore entwarfen wir ein Testbild, das die Farbqualität und die Auflösung eines Monitors testet. Da die hier getesteten Monitore wahrscheinlich nur an Heimcomputer angeschlossen werden, die kein »Superbild« liefern (können), haben wir auf einen Test mit einem Farbbildgenerator verzichtet. Denn hier würden eventuell Mängel sichtbar, die bei dem Bildsignal eines Heimcomputers »nie und nimmer« relevant werden.

Unser Testbild zeigt, wie gut ein Monitor Farbwechsel und Schwarz/ Weiß-Wechsel verkraften kann. Die vergrößerte Textdarstellung soll die Schärfe der Zeichendarstellung belegen. Im 80-Zeichenmodus haben wir bei der Schriftprobe verschiedene Zeichenfarben gewählt, um die Kontrastfähigkeit der RGB-An-steuerung zu unterlegen.

Haben Sie Ihre Wahl getroffen, lassen Sie sich auf jeden Fall vom Händler ein Anschlußkabel für den Monitor an Ihren Computer geben. Testen Sie die Funktionsfähigkeit des Monitors und Anschlußkabels gleich im Laden. Denn teilweise sind Monitore schlecht abgeglichen: Das Bild ist verzogen, horizontal oder vertikal verschoben oder in der Mitte heller als am Rand. In einem solchen Fall sollten Sie den Monitor vom Händler vor einem Kauf exakt einstellen lassen oder auf einem anderen Gerät bestehen.

(hm)

## Commodore 1901 

Der Monitor zum C 128. Er »versteht« sowohl Composite- und RGB-Signale. Mit einem Schiebeschalter an der Frontseite wird zwischen beiden Normen umgeschaltet.

Die Bildqualtität des 1901 ist als sehr gut einzustufen gemessen an den Mitbewerbern. Schwarz/Weiß-Wechsel werden sehr gut verkraftet. Bei einem Wechsel der Grundfarben treten zwischen den Farbbalken schwarze Linien auf. Beim 1901 hält sich dieses Phänomen, das bei jedem getesteten Farbmonitor auftrat, aber noch in Grenzen. Unschön sind die »Geisterbilder«. Steht am Zeilenanfang ein helles Zeichen, wird die ganze nachfolgende Zeile heller. Durch eine geeignete Kontrast- und Helligkeitseinstellung kann dieses Phänomen aber soweit unterdrückt werden, daß es kaum noch ins Gewicht fällt.

Der RGB-Modus besticht durch eine exzellente Schärfe der Zeichen, obwohl der 1901 »nur« eine Lochmaske besitzt. Das zeigt, was ein guter Konvergenzabgleich ausmacht.

### Positiv
Bedienungselement an der Front
Eingebautes Audioteil

### Negativ

Kein mitgeliefertes Kabel
»Geisterbilder«

TODO IMAGE

Info: Commodore Büromaschinen, Lyoner Str. 38, 6000 Frankfurt, 0 69/66 38-0, Preis: 1098 Mark

## Orion CCM 1280

Auch dieser Monitor läßt sich ohne weiteres an den C 128 anschließen. Dazu wird ein Kabel mitgeliefert. Zwischen dem Composite- und dem RGB-Modus wird mit einem Schalter gewählt. Leider ist dieser Schalter an der Rückseite nur schwer zu erreichen.

Der Monitor kann auch zwischen RGB-TTL und RGB-Analog umgeschaltet werden. Beim Composite-und FBAS-Eingang heißt es aufpassen: »Separate« bedeutet Composite und »Composite« bedeutet FBAS. Außerdem sind die Farben der Chrominanz- und Luminanz-Buchse vertauscht. Die Zeichenschärfe im 80-Zeichenmodus ist subjektiv etwas geringer als die des 1901, trotz der Schlitzmaske.

Im Composite-Modus kann ein höherer Kontrast als beim 1901 eingestellt werden. Bei Schwarz/Weiß-Wechseln sind leichte Unschärfen an den Kanten festzustellen, die aber noch vernachlässigt werden können. Beim Farbbalken-Test ist der 1901 dem Orion überlegen.

### Positiv

Eingebautes Audioteil
FBAS-Eingang vorhanden

### Negativ

RGB/Composite-Umschalter an der Rückseite
Benennung der Eingänge verwirrend

TODO IMAGE

Info: Bezugsquelle: Hard&Soft, Gagernstr. 4,8580Bayreuth, 09 21/6 88 77, Preis: 998 Mark

### Picom 4B/PR

Der Picom hat einen FBAS- und einen RGB-TTL/Analog-Eingang. Wir haben den Picom 4B/PR an den C 128 angeschlossen. Die Bildqualität der 80-Zeichendarstellung ist ähnlich der des Orion. Zum Anschluß an den C 128 wird das gleiche Kabel wie beim Orion benötigt: 9pol. Cannon — 8pol. VTR. Doch nun zum FBAS-Modus des Picom 4B/PR RGB/PAL.

Das Testbild zeigt, daß der Picom Farbwechsel gut verkraftet. Nur zwischen Grün und Rot ist eine schwarze Kante vorhanden. In dieser Disziplin schlägt der Picom (Schlitzmaske) den 1702. Beim Linientest zeigt der Picom allerdings Schwächen: Weiße Linien auf schwarzem Grund werden farbig.

In der Textschärfe beim Test mit 40 Zeichen pro Zeile ist der 4B/PR dem 1702 unterlegen.

Die an der Rückseite angebrachten Regler zur Kontrast- und Farbeinstellung müssen mit einem Schraubendreher eingestellt werden. Das ist eine wesentliche Einschränkung des Bedienkomforts.

### Positiv

Gutes Ergebnis im Farbbalkentest

### Negativ

Kein Audioteil
Regler an der Rückseite, nur mit Schraubendreher zugänglich

TODO IMAGE

Info: Mirwald Elektronik, Fasanenstr. 8, 8025 Unterhaching, 0 89/611 12 24, Preis: 1548 Mark

## Commodore 1702

Ein guter alter Bekannter, der von Commodore als Monitor für den C 64 angeboten wird. Der 1702 besitzt ein sehr gutes Bild (Schlitzmaske).

Bei Schwarz/Weiß-Wechseln treten so gut wie keine Farbverschiebungen oder Unschärfen auf. Sehr gut ist das an den Linien im Testbild zu sehen. Selbst die Farbwechsel Blau-Rot-Grün werden ohne größeres »Ausreißen« der Farben wiedergegeben.

Beim 1702 sind alle Bedienungselemente hinter einer Klappe an der Frontseite versteckt. An der Rückseite befindet sich nur der Umschalter für Composite und FBAS, der allerdings selten benötigt wird. Zum Beispiel dann, wenn Sie einen Videorecorder oder einen VC 20 an den 1702 anschließen möchten. Das FBAS-Signal kann über die Buchse an der Frontseite eingespeist werden. Die Audiobuchse an der Frontseite ist mit der an der Rückseite parallel geschaltet. Der Umschalter schaltet lediglich die Videobuchsen um. Beim Anschluß zweier Tonquellen führt das zu Problemen.

### Positiv

Sehr guter Kontrast
Eingebautes Audioteil

### Negativ

Parallelschaltung der Audiobuchsen an der Front- und Rückseite.

TODO IMAGE

Info: Commodore Büromaschinen, Lyoner Str. 38, 6000 Frankfurt, 0 69/66 38-0, Preis: etwa 750 Mark

## Cable MC3700

Von der Bildqualität — Kontrast und Schärfe — ist der MC3700 mit dem 1702 vergleichbar. Auch beim Farbbalken- und Linientest sind zwischen dem 1702 und dem Cable kaum Unterschiede festzustellen. Die Bildröhre des MC3700 hat eine Schlitzmaske. Durch den im Lieferumfang enthaltenen Schwenkfuß kann der MC3700 optimal auf die Arbeitsposition ausgerichtet werden.

Sehr negativ auf die Bedienungsfreundlichkeit wirkt sich der an der Rückseite angebrachte Ein-/Aus-Schalter aus. Die Röhre des MC3700 wird per Hand entmagnetisiert. Ein Vorgang, der der Vergangenheit angehört. Ein heutiger Monitor sollte das automatisch machen.

Die Video- und Tonsignale werden dem Cable über eine 6polige Buchse zugeführt. Mit einem Schiebeschalter kann man wählen, ob ein FBAS- oder Chrominanz-Signal verwendet werden soll. Die Ausschnittvergrößerung zeigt die Zeichenschärfe bei der Farbkombination weiß auf dunkelblau.

### Positiv

Sehr guter Kontrast
Schwenkfuß
Audioteil

### Negativ

Netzschalter an der Rückseite
Manuelles Entmagnetisieren

TODO IMAGE

Info: Bezugsquelle: Boston Computer, Rosenheimer Str. 145a, 8000 München 80, 0 89/4910 73, Preis: 798 Mark

## Sanyo CD3195C

Der Sanyo CD3195C verfügt über eine befriedigende Bildqualität. Beim Test mit Schwarz/Weiß-Wechseln ist der 1702 dem Sanyo überlegen. Ebenso in der Schärfe der Schriftwiedergabe. Beim Farbbalken-Test sind gegenüber dem 1702 keine Unterschiede festzustellen.

Der Netzschalter und Lautstärkeregler befinden sich auf der Gerätefrontseite. Alle anderen Regler für Kontrast, Farbsättigung und Helligkeit etc. befinden sich hinter einer Klappe an der rechten Gehäuseseite. Hinter dieser Klappe verbirgt sich auch der Umschalter für Farb- und Gründarstellung. Durch diese Grünumschaltung wird das Arbeiten mit Texten, zum Beispiel bei Textverarbeitungsprogrammen oder beim Programmieren erleichtert. Wegen dieser Klappe muß der Sanyo CD3195C auf der rechten Seite freistehen, um »kurz mal« die Einstellung ändern zu können.

Der Sanyo kann mit FBAS- und Composite-Signalen angesteuert werden. Die Normumschaltung erfolgt an der Rückseite.

### Positiv

Farb/Grünumschaltung
Audioteil

### Negativ

Regler an der Seite hinter Klappe

TODO IMAGE

Info: Sanyo, LangeReihe 29, 2000 Hamburg 1, 0 40/2 8010 45, Preis: 798 Mark

## Taxan Vision Ex

Der Vision Ex hat neben einem FBAS- auch einen RGB-Eingang. Allerdings konnte der Vision Ex nicht am C 128 betrieben werden. Grund: die Pegel der Sync-Signale. Wir haben die Sync-Signale invertiert und der Vision Ex funktionierte. Aus diesem Grund haben wir den Vision Ex nur über den FBAS-Eingang getestet.

Wie Sie im Testbild sehen können, besteht der Vision Ex den Farbbal-ken-Test, wie der Picom, mit Bravour. Etwas schwer tut er sich im Linien-test. Die eigentlich weißen Linien werden von Farbkanten gesäumt.

Die Zeichenschärfe ist nur geringfügig schlechter als die des 1702, was aber kaum auffällt, da der Vision Ex einen kleineren Bildschirm hat (12 Zoll).

Leider hat der Vision Ex nur einen FBAS-Eingang. Ein getrennter Com-posite-Eingang hätte die Leistung wahrscheinlich deutlich verbessert.

An der Frontseite befinden sich beim Vision Ex nur Netzschalter, Kontrast- und der Lautstärkeregler.

### Positiv

Gutes Ergebnis im Farbbalkentest
Eingebautes Audioteil

### Negativ

Fast alle Einstellungen erfolgen an der Rückseite.

TODO IMAGE

Info: Melchers & Co, Schlachte 39/40, 2800 Bremen 1, 0 4211/17 69 89, Preis: 1198 Mark

## Sanyo DMC 6655

Ebenfalls ein Monitor mit zusätzlichem RGB-Eingang (SCART-Buch-se). Der Anschluß des C 128 ist an diesen Monitor nicht ohne weiteres möglich. Die RGB-Signale des C 128 müssen zum Anschluß über Spannungsteiler abgeschwächt werden, damit der Monitor nicht übersteuert wird. Hat man die Anpassung erledigt, sind die 80 Zeichen pro Zeile des C 128 durchaus lesbar.

Wir haben deshalb den DMC 6655 nur mit einem C 64 getestet. Im Farbbalken-Test ist der Sanyo DMC 6655 etwas besser als der 1702. Nicht aber im Linientest. Weiße Linien auf schwarzem Grund werden farbig wiedergegeben. Die Schärfe der Schrift kann als gut bezeichnet werden.

Wie der Taxan Vision Ex, wird der DMC 6655 mit einem FBAS-Signal angesteuert, das einfach nicht die Bildqualität übertragen kann als die Composite-Norm mit getrennten Lu-minanz-und Chrominanzsignal. Wie sein Bruder, der CD3195C, hat auch der DMC 6655 einen Grünschalter für bessere Textwiedergabe.

### Positiv

Eingebautes Audioteil
Grünschalter
Alle Bedienelemente an der Frontseite

### Negativ

Nur über Spannnungsteiler an C 128 anschließbar

TODO IMAGE

Info: Sanyo, Lange Reihe 29, 2000 Hamburg 1, 040/2801045,
Preis: 998 Mark

## BMC BM-12G

Der BMC BM-12G konnte durch die beste 80-Zeichendarstellung überzeugen. Die Bildschirmfarbe ist, wie weithin üblich, grün. Für Grün ist das menschliche Auge am empfindlichsten. Das heißt, daß für das Auge Grün auf Schwarz einen größeren Kontrast bildet als Orange auf Schwarz. Viele Computerbesitzer geben deshalb Grünmonitoren den Vorzug.

Wie bei monochromen Monitoren üblich, wird der BMC-Monitor über ein Luminanz (BAS)-Signal angesteuert.

In die Eingangsleitung kann über einen Schiebeschalter an der Rückseite ein 75-Ohm-Abschlußwider-stand geschaltet werden. Die Videobuchse des BM-12G ist »durchgeschleift«. Dadurch könnte beispielsweise ein Videorecorder zu Dokumentationszwecken, neben dem Computer, an den Monitor angeschlossen werden. Die Anschlüsse erfolgen über Cinch-Buchsen.

Die Regler für Kontrast und Helligkeit befinden sich an der Frontseite.

### Positiv

Sehr gute Textwiedergabe
Kontrast- und Helligkeitsregler an der Frontseite.

### Negativ

Kein Audioteil

TODO IMAGE

Info: Mirwald Elektronik, Fasanenstr. 8, 8025 Unterhaching, 0 89/61112 24, Preis: 379 Mark

## Taxan KXI201E

Die Qualität der Textdarstellung ist von der des BMC-12G kaum zu unterscheiden. Die etwas höhere Schärfe des BMC-12G läßt sich nur durch genaues Hinschauen erkennen.

Wie der BMC-12G hat auch der Taxan KX1201 kein Audioteil. Also keinen Tonverstärker und keinen Lautsprecher. In dieser Ausgabe finden Sie eine Anleitung, wie Sie ein Tonteil selbst bauen können.

An der Frontseite befindet sich der Netzschalter und der Helligkeitsregler. Der Kontrast wird an der Rückseite eingestellt.

Angesteuert wird der Taxan mit dem Luminanzsignal des C 64 und nicht mit dem FBAS-Signal, das zu einer »streifigen« Darstellung führt. Das gilt für jeden monochromen Monitor, da die Farbanteile im FBAS-Signal hier nicht benötigt werden und die Helligkeitsinformation unnötig überlagern.

Der Taxan KX1201E läuft bei uns in der Redaktion seit mehr als einem Jahr ohne Störungen.

### Positiv

Gute Bildwiedergabe

### Negativ

Kontrastregler an der Rückseite
Kein Audioteil

TODO IMAGE

Info: Melchers & Co, Schlachte 39/40, 2800 Bremen 1, 0 4211/17 69 89, Preis: 398 Mark

## Eizo 30106

Ein Qualitätsunterschied des Bildes zum Taxan KX 1201E ist kaum festzustellen. Wenn Sie das Testbild betrachten, können Sie eigentlich nur die geringfügig andere Farbe der Leuchtschicht des Eizo feststellen, was aber auch auf eventuell unterschiedliche Kontrasteinstellungen zurückgeführt werden kann.

Beim Eizo 3010 sind alle Bedienungselemente, Netzschalter, Kontrast- und Helligkeitsregler an der Frontseite angebracht und somit gut erreichbar.

Der Eizo 3010G hat ein Audioteil, also einen Verstärker und Lautsprecher, eingebaut. Der Regler für die Lautstärke befindet sich ebenfalls an der Frontseite.

Das Audiosignal wird über eine Klinkenbuchse zugeführt. Das Luminanzsignal über eine Cinchbuchse. Die Empfindlichkeit des Luminanz-eingangs reicht für den C 64 gerade noch aus. Die Bildröhren des Taxan und des BMC lassen sich deutlich heller einstellen.

### Positiv

Alle Bedienelemente an der Frontseite
Eingebautes Audioteil

### Negativ

Geringe Empfindlichkeit des Lummanzeingangs
Lange Einschaltzeit

TODO IMAGE

Info: Rein Elektronik, Lötscher Weg 66, 4054 Nettetal 1, Preis: 492 Mark

## Zenith CVM 1230

Wieder ein »stummer« Monitor. Der Zenith hat von den getesteten monochromen Monitoren das optisch ansprechendste und auch das kleinste Gehäuse, obwohl alle getesteten Monitore mit einer 12-Zoll-Bildröhre ausgestattet waren. Dem Zenith ist also der Vorzug einzuräumen, wenn Platzprobleme gelöst werden müssen.

Die Regler für Kontrast und Helligkeit befinden sich auf der rechten Gehäuseseite. Der Netzschalter ist ungünstigerweise an der Rückseite angebracht, was das Ein- und Ausschalten des Monitors schnell lästig werden läßt.

Bei der Bildqualität kann man keine wesentlichen Unterschiede gegenüber dem Eizo und dem Taxan feststellen. Kontrast und Helligkeit können in weiten Grenzen variiert werden. Das ist wichtig, denn eine Änderung der Farbeinstellung von Zeichen- und Hintergrundfarbe macht meist auch eine Änderung der Kontrast- und Helligkeitseinstellung notwendig.

### Positiv

Kleine Gehäuseabmessungen
Ansprechendes Design

### Negativ

Kein eingebautes Audioteil
Netzschalter an der Rückseite

TODO IMAGE

Info: Zenith Datensysteme, Robert-Bosch-Str. 32-38, 6072 Dreieich-Sprendl, Preis: 395 Mark


## Watanabe CD12 GR

Der CD12 präsentiert sich im professionellen Stahlblechgehäuse, wie man es von Geräten in der Industrie her kennt.

Alle Einstellelemente befinden sich an der Rückseite, auch der Netzschalter, ein kleiner Kippschalter. Der CD 12 hat kein Audioteil eingebaut.

Der Liuminanzeingang ist durchgeschleift. Es können also zusätzliche Video(aufnahme)geräte an den Monitor angeschlossen werden und vom Computer das Signal erhalten. Der Luminanzeingang und -ausgang liegen an BNC-Buchsen an. BNC-Stecker und Buchsen erlauben sehr gute und mechanisch feste Hochfrequenz-Verbindungen. In die Luminanzleitung kann über einen Schiebeschalter ein 75-Ohm-Ab-schlußwiderstand geschaltet werden. Dieser Anschlußwiderstand ist dann erforderlich, wenn das Eingangssignal zu hoch ist, so daß das Bild »übersteuert« ist.

Die Bildqualität entspricht der des Eizo und Taxan.

### Positiv
Stahlblechgehäuse für Laboreinsatz
### Negativ
Regler und Netzschalter an der Rückseite
Kein Audioteil

Info: Watanabe, Postfach 1155, 8036 Herrsching, Preis: 510 Mark

## Eizo 3010A

Das gelbe Pendant zum 3010G. Von außen unterscheidet sich der Bernsteinmonitor nicht vom Grünmonitor.

Über bernsteinfarbige Bildschirme gehen die Meinungen auseinander. Viele Leute bevorzugen Grün-monitore wegen des höheren Kon-trasts. Andere halten mehr von bernsteinfarbigen, da hier die Leuchtschicht eine wesentlich längere Nachleuchtdauer hat als bei Grünmonitoren und dadurch kein Flimmern mehr auftritt. Wegen der langen Nachleuchtdauer eignet sich ein Bernsteinmonitor nicht zur Ansteuerung eines Lichtgriffels. Man kann nicht mehr feststellen, wenn der Zeilenstrahl der Röhre den Fototransistor im Lichtgriffel durchschaltet.

Wie der 3010G hat auch der 3010A einen recht unempfindlichen Luminanzeingang. Mit einem C 64 ist die Bildschirmdarstellung fast schon zu dunkel.

### Positiv
Alle Bedienelemente an der Frontseite
Eingebautes Audioteil
### Negativ
Geringe Empfindlichkeit des Lu-minanzeingangs
Lange Einschaltzeit

Info: Rein Elektronik, Lötscher Weg 66, 4054 Nettetal 1, Preis: 508 Mark

## Zenith CVM 1220

Hier gilt das gleiche wie beim Eizo 3010G. Der CVM 1220 unterscheidet sich vom CVM 1230 nur in der Bildschirmfarbe. Bernstein anstelle von Grün. Von der Schärfe der Zeichen ist der CVM 1220 mit dem CVM 1230 vergleichbar. Auch hier ist der Netzschalter wieder an der Rückseite angebracht.

Wie schon beim Eizo 3010 erwähnt ist die Wahl »Bernstein oder Grün« eine Sache des persönlichen Farbempfindens. Man kann nicht sagen, ein grüner Monitor sei besser als ein bernsteinfarbiger oder umgekehrt. Wir raten Ihnen, vor einem Kauf sich einmal beide Typen im Laden vorführen zu lassen. Eventuell gefällt Ihnen weder ein Grün- noch ein Orangemonitor, sondern vielleicht ein Weißmonitor, bei dem die Schrift weiß ist. Wegen der Seltenheit der Weißmonitore haben wir kein solches Gerät getestet. Das gleiche gilt für Blau-Monitore, die der »letzte Schrei« sein sollen.

### Positiv
Kleine Gehäuseabmessungen
Ansprechendes Design
### Negativ
Kein eingebautes Audioteil Netzschalter an der Rückseite

Info: Zenith Datensysteme, Robert-Bosch-Str. 32-38, 6072 Dreieich-Sprendl, Preis: 395 Mark

# Marktübersicht Farbmonitore [30-31]

> Um Ihnen die Auswahl eines Monitors zu erleichtern, durchleuchten wir für Sie das Angebot von Farbmonitoren für den C 64 und den C 128.

Irgendwann kommt für jeden der Tag, an dem er zum ersten Mal mit den Gedanken spielt, an seinen Computer einen standesgemäßen Monitor anzuschließen. Spätestens passiert das nämlich, wenn der C 64 zum erbitterten Gegner von John Wayne oder neuerdings der »Schwarzwald-Klinik« wird. Dann sollten Sie jedoch nicht unwissend in das Dunkel des Monitorwaldes schreiten, sondern sich vorher unter Zuhilfenahme dieser Marktübersicht auf den Kauf vorbereiten.

Zunächst wollen wir einmal klären, was mit »standesgemäß« gemeint ist.

Erstens: Die Qualität der Darstellung ist bei einem Monitor besser als bei einem optimal eingestellten Fernseher. Wenn ein Computer ein Composite-, oder gar ein RGB-Si-gnal zur Verfügung stellt, wie es beim C 64 beziehungsweise beim C 128 der Fall ist, dann sollte man das Signal auch nutzen. Die Bildqualität wird Sie überzeugen.

Zweitens: Ein Monitor muß nicht mehr kosten als Computer, Floppy und Druckerzusammen. Wir haben deshalb 1800 Mark als vertretbare Höchstgrenze für Farbmonitore gewählt, gute gibt es aber auch schon für unter 1000 Mark. Dabei wurde der C 128/C 64 als Basisgerät vorausgesetzt.

Doch wer braucht denn nun die farbige Darstellung auf seinem Monitor? Eigentlich jeder. Auch derjenige, der nahezu nur Text- oder Datenverarbeitung auf seinem Computer betreibt. Einige Programme setzen die Farbe ein, um zum Beispiel Fehler oder einen bestimmten Modus anzuzeigen. Vorsicht ist geboten, wenn 80 Zeichen dargestellt werden sollen (siehe Test ab Seite 24). Nicht alle Farbmonitore können 80 Zeichen so darstellen, daß ermüdungsfreies Arbeiten möglich ist, da sind monochrome Monitore besser und auch billiger.

## Mehr als nur eine Frage des Preises

Auf einem Farbmonitor fällt das Erkennen von einzelnen Gegenständen, vor allem bei Spielen, wesentlich leichter. Die Gewohnheit spielt dabei eine große Rolle. Außerdem sind einige Spiele aufgrund Ihrer Farbgebung mit einem monochromen Monitor nur sehr schwer zu bewältigen.

Ebenso wichtig ist die Farbdarstellung natürlich, wenn auf dem Computer mit Grafik- beziehungsweise mit Malprogrammen gearbeitet wird — auf einem monochromen Monitor erhält man nicht einmal einen Teil des Gesamteindruckes einer Farbgrafik. Zusammenfassend ist zu sagen, daß, wenn man nicht allzu sehr auf den Preis schauen muß, ein Farbmonitor als wünschenswert angesehen werden kann. Nur wenn Sie auf Grafik und Farbe verzichten können, kann ein monochromer Monitor eventuell die bessere Wahl sein.

Um Ihnen eine Vorauswahl zu ermöglichen, haben wir die Marktübersicht (Tabelle) zusammengestellt. Alle Daten beruhen auf Herstellerangaben. Die Marktübersicht erhebt keinen Anspruch auf Vollständigkeit.

(og)

# Vom Fernseher zum Monitor [31-33]

> Sie beabsichtigen, einen Monitor zu kaufen? Warum basteln Sie sich nicht einen Monitor aus einem alten Schwarzweiß-Fernsehgerät — und das für weniger als 10 Mark?

In vielen Haushalten existiert neben dem normalen Fernsehgerät häufig auch noch ein kleines tragbares oder ein älteres Schwarzweiß-Fernsehgerät. In den meisten Fällen reicht zum vernünftigen Arbeiten mit dem Computer ein solches Schwarzweiß-Fernsehgerätvollstän-dig aus. Das Problem ist nur der Modulator im C 64, der das niederfrequente Signal des Videoprozessors mit einer hochfrequenten Trägerschwingung mischt beziehungsweise moduliert. Dieses modulierte, hochfrequente Signal liegt am Antenneneingang des Fernsehgerätes an. Im Tuner und im nachfolgenden ZF-Verstärker (Zwischenfrequenz-Verstärker) wird aus dem hochfrequenten Eingangssignal wieder ein Signal erzeugt, das mit dem vom Prozessor erzeugten Signal identisch ist. Durch diese »Signalumsetzerei« werden aber die Flanken des Videosignals abgeflacht. Das Ergebnis ist ein unscharfes Bild. Außerdem wird es durch ein perlschnurartiges Zeilenraster (Moirebildung) beeinträchtigt. Der Modulator des C 64 hat noch eine weitere unangenehme Eigenschaft. Die Trägerfrequenz ist abhängig von der Betriebstemperatur des Computers. Das heißt, daß sich mit zunehmender Temperatur die Frequenz der Trägerschwingung ändert. Das wiederum macht ein permanentes Nachregulieren des Fernsehgerätes erforderlich.

Mit Hilfe eines Kondensators und eines Trimmpotentiometers läßt sich an fast jedes Schwarzweiß-Fernsehgerät eine zusätzliche Monitorbuchse anbringen, die alle Nachteile des Fernsehgerätesbeseitigt. Der so entstandene Monitor hat aber nicht nur ein besseres Bild (Bild 1), vielmehr lassen sich auch alle gängigen 80-Zeichenkarten anschließen (Bild 2). Die landläufige Meinung, daß die Auflösung eines Fernsehgerätes mit einer Bandbreite von etwa 5,5 MHz nicht ausreicht, um 80 Zeichen darzustellen, ist falsch. Das möchte ich an einem kleinen Beispiel demonstrieren:

Für 80 Zeichen mit je 8 x 8 Pixel werden 8 x 80 = 640 Pixel benötigt. Nimmt man nun an, daß sich aufgrund des Bildschirmrahmens nur etwa zwei Drittel einer Zeile nutzen lassen, folgt, daß sich die Anzahl der benötigten Pixel pro Zeile um den Faktor 3/2 erhöht. Man braucht also letztendlich 640 x 3/2 = 940 Pixel. Wenn diese Pixel abwechselnd schwarz und weiß sein sollen, muß die Bildröhre mit einer rechteckförmigen Wechselspannung angesteuert werden (Bild 3). Die Frequenz dieser Rechteckspannung läßt sich aus der Anzahl der Schwarzweiß-Sprünge je Zeile und der Zeilenzahl je Sekunde berechnen.
f=940/2*swSprünge/Zeile*625
Zeilen*25 Bilder/Sekunde = 7,34 MHz

## Die Auflösung

Da in vertikaler Richtung die Schärfe wegen der Unterteilung in Zeilen ohnehin etwas geringer ist, kann auch die Auflösung in horizontaler Richtung etwas geringer sein. Für eine gute Bildqualität reicht daher eine Bandbreite von 5,5 bis 6 MHz voll und ganz aus, auch für die Darstellung von 80 Zeichen.

Doch nun zur Umbauanleitung. Bevor Sie jetzt anfangen, Ihren alten Fernseher zu zerlegen, möchte ich Sie noch warnen. Wenn Ihnen das Wort Elektronik fremd ist, sollten Sie den Umbau anderen überlassen, die mehr davon verstehen. Bei Fehlern können Sie nicht nur Ihren Computer und das Fernsehgerät zerstören, sondern auch Ihrer Gesundheit schaden. Denn im Fernsehgerät sind statische Ladungen auch im ausgeschalteten Zustand vorhanden. Die Spannung, die durch diese statische Ladung zustandekommt, kann durchaus bis zu 15000 Volt betragen.

Was benötigen Sie zu dem Umbau?

Ganz wichtig ist das Schaltbild und nach Möglichkeit ein Lageplan der Bauelemente. Auch Vielfach-Meßinstrumente, Lötkolben und Schraubendreher sollten nicht fehlen. An zusätzlichen Bauteilen werden benötigt:
1 Trimmpotentiometer 10 kΩ
1 bipolarer Kondensator 1 bis 10 µF
1 Anschlußbuchse mindestens dreipolig
1 m abgeschirmtes Kabel

Diese Bauteile sind in jedem Elektronik-Bastelladen erhältlich.

Da die Spannung des Videoausgangssignals am Pin 1 der Video7 Audio-Buchse (Bild 4) 1 Vss beträgt, muß ein entsprechender Anschlußpunkt im Fernsehgerät gefunden werden. Wir haben aber Glück und brauchen nicht lange suchen; denn das Eingangssignal des Videoverstärkers ist auf 1 Vss genormt. Für den nicht so versierten Elektronikbastler ist es natürlich nicht leicht, diesen Punkt zu finden. Darum werden wir uns gemeinsam auf die Suche machen. Bild 5 zeigt das Schaltbild eines kompletten Videoverstärkers inklusive allen erforderlichen Änderungen. Das Schaltbild ist natürlich nur ein Beispiel und wird mit Ihrer Schaltung kaum übereinstimmen. Die charakteristischen Punkte, an denen die Änderungen vorgenommen werden, sind jedoch bei allen Schwarzweiß-Fernsehgeräten identisch, vorausgesetzt, der ZF-Verstärker, Videomodulator und ein Teil des Videoverstärkers sind nicht in einem IC integriert. Sollte das der Fall sein, ist ein Umbau nur mit erheblich höherem Aufwand möglich. Schauen Sie sich nun in aller Ruhe das Schaltbild zu Ihrem Fernsehgerät an und suchen die Bildröhre (das Schaltsymbol zeigt Bild 5). Haben Sie sie gefunden, geht es weiter. An-schlußpin »k« der Bildröhre (Bild 5) ist nun über einige Bauelemente mit einem Transistor (das Schaltsymbol zeigt Bild 5) verbunden, der Videoendstufe. Die Basis dieses Videotransistors ist wiederum entweder direkt, oder wie gehabt, über einige Bauelemente mit einem weiteren Transistor verbunden, der Videovorstufe. Bei der Basis dieses Transistors handelt es sich um den gesuchten Eingang der Videostufe. An der Basis des Videovorverstärkers befindet sich ein Widerstand, der je nach Fernsehertyp entweder mit »plus« oder »minus« verbunden ist. Er dient zur Einstellung des Arbeitspunktes. Alle Bauteile, die bis auf den Widerstand mit der Basis der Videovorstufe verbunden sind, müssen entfernt werden. Nehmen Sie die Rückwand des Fernsehgerätes ab, vergessen aber nicht vorher den Netzstecker zu ziehen. Suchen Sie die Leiterbahn, die den Widerstand, die Basis des Vorstufentransistors und die restlichen Bauteile miteinander verbindet. Nun ist die Leiterbahn an einer geeigneten Stelle aufzutrennen, so daß nur noch der Widerstand mit der Basis des Vorstufentransistors verbunden ist. Im nächsten Schritt ist das Trimmpotentiometer einzulöten, und zwar so, daß der Widerstand und das Trimmpotentiometer einen Basisspannungsteiler bilden (Bild 6).

## Der Umbau

Da das Ausgangssignal des C 64 leicht positiv vorgespannt ist, muß zwischen dem Videoausgang des C 64 und der Basis des Videovorver-stär.kers ein Kondensator eingebaut werden. Hat man keinen bipolaren Kondensator zur Verfügung, kann ersatzweise ein Elektrolytkondensator genommen werden. Dabei ist jedoch auf die Polarität zu achten, die Sie am besten mit einem Vielfachmeßinstrument ausmessen. Dazu ist der Pin 2 der Audio-/Video-Buchse des C 64 mit der Masse des Fernsehgerätes zu verbinden. Schalten Sie nun beide Geräte ein und messen im Gleichspannungsmodus die Spannung zwischen der Basis des Videovorstufentransistors und dem Videoausgang des C 64 am Pin 1 der Audio-/Video-Buchse. Zeigt das Meßinstrument einen Ausschlag in positiver Richtung, ist der positive Pol derjenige, der mit der roten Klemme des Meßinstrumentes verbunden ist. Dieser positive Pol ist mit dem » + «-Pol des Elektrolytkondensators zu verbinden, nach Möglichkeit aber nicht direkt, sondern über eine geeignete Buchse. Der »-«-Pol des Elektrolytkondensators kommt an die Basis des Videovorstufentransistors. Ist das geschehen, muß mit Hilfe des Trimmpotentiometers noch der Arbeitspunkt des Videovorstufentransistors eingestellt werden. Dazu drehen Sie so lange an dem Potentiometer, bis das Bild einwandfrei steht und nicht mehr verzerrt ist. Möchten Sie auch die Soundmöglichkeiten des C 64 nutzen, läßt sich das ebenfalls machen. Dazu können Sie den Audioausgang des C 64 direkt an den Schleifer des Lautstärkenreglers anlöten.

Das wäre es eigentlich auch schon. Der Umbau hat sich seit einigen Jahren bei mir bewährt. Ich habe außerdem noch einen kleinen Umschalter eingebaut, mit dem ich zwischen Fernseher und Monitor hin- und herschalten kann.

(ah)

TODO ASIDE

Es sollten sich nur diejenigen an den Umbau wagen, die mit elektronischen Basteleien vertraut sind.

Durch einen Fehler können Sie nicht nur das Fernsehgerät und den C 64 zerstören, sondern auch Ihrer Gesundheit schaden.

# Sound aus dem Monitor [34-36]

> Sie haben einen Monitor ohne Lautsprecher? Dann können Sie sich mit dieser Bastelanleitung einen kleinen Verstärker bauen, mit dem auch Sie die Sound-Qualitäten des C 64 nutzen können.

Viele C 64-Besitzer schließen zur Verbesserung der Bildqualität einen Monitor an ihren Heimcomputer an. Leider fehlt bei den meisten Monitoren ein Tonteil. Der C 64 ist dann seiner sonst so hervorragenden Stimme beraubt. Dieser Zustand ist natürlich nicht haltbar und man wird bald auf Abhilfe sinnen. Aber was ist zu tun? Beim C 64 wird der Ton über die Audio-Video-Buchse nach außen geführt. An diese Buchse müßte also ein externer NF-Verstärker anschließbar sein. Man kann zu diesem Zweck die heimische Stereoanlage hernehmen. Wie dies gemacht wird, wurde bereits im 64’er, Ausgabe 5/85 beschrieben. Auf Dauer ist die Lösung aber nicht befriedigend, denn wer hat schon seinen C 64 immer in Reichweite der Stereoanlage stehen. Eine bessere Möglichkeit ist der Aufbau eines kleinen NF-Verstärkers, der am besten gleich in das Monitorgehäuse eingebaut wird. Die Anforderungen an diesen Verstärker brauchen nicht besonders hoch zu sein. So dürfte zum Beispiel eine Ausgangsleistung von etwa 1 Watt vollkommen ausreichen. Durch ein großes Angebot spezieller integrierter Schaltungen ist die Realisierung eines solchen Verstärkers denkbar einfach.

Für den in diesem Artikel beschriebenen Verstärker wurde das IC TDA 2002 von SGS-ATES (Bild 1) ausgesucht. Dieses IC wurde für den Einsatz in Autoradios entwickelt.

Deshalb ist es auch mit sehr guten internen Schutzmaßnahmen versehen. Achten Sie aber bitte beim Kauf darauf, daß Sie ein IC mit der Typenbezeichnung TDA 2002 V beziehungsweise H erhalten, denn nur diese Typen haben die internen Schutzmaßnahmen. So können kurzzeitige Überspannungen bis 28 Volt, beziehungsweise Spannungsspitzen bis 40 Volt Ihrem IC nicht schaden. Auch der Schutz gegen thermi-sche und leistungsmäßige Überlastung ist bei dieser Version sehr gut.

Ein weiterer Vorteil des ausgesuchten ICs ist die minimale äußere Beschaltung. Sehen wir uns hierzu die Schaltung (Bild 2) einmal an. Erfahrenen Elektronikbastlern wird auffallen, daß diese Schaltung der Grundschaltung eines nichtinvertierenden Operationsverstärkers entspricht. Bei unserem Verstärker wird mit dieser Beschaltung auch genau der gleiche Effekt erzielt.

Mit den Widerständen R1 und R2 wird der Verstärkungsfaktor eingestellt. Er beträgt v = Rl/R2 + 1. Da wir uns auf eine Leistung des Verstärkers von rund 1 Watt beschränken, benötigen wir an einem 8-Ohm-Lautsprecher eine Spannung von 2,8 Volt (effektiv). Der C 64 liefert an seinem Audio-Ausgang eine Spannung von 2,2 Volt. Dies ist ein Spitzenwert, effektiv bleibt davon eine Spannung von 1,1 Volt. Unser Verstärkungsfaktor muß deshalb v = 2,8V/1.1V = 2,5 betragen. Von den Widerständen ist R2 mit einem Wert von 22 Ohm vorgegeben. R2 erfüllt zusammen mit dem Kondensator C2 noch eine Funktion zur Störunterdrückung der Versorgungsspannung. R1 errechnet sich somit zu R1 = R2*(2.5-1) = 33 Ohm.

Im Prinzip würde die Beschaltung mit den beiden Widerständen ausreichen. Da wir aber einen NF-Verstärker aufbauen wollen, also nur Wechselspannungen verstärken wollen, müssen wir dafür sorgen, daß keine Gleichspannung mit verstärkt wird beziehungsweise unseren Lautsprecher erreicht. Die Folge davon wären nämlich Verzerrungen oder eine Zerstörung des Lautsprechers.

Zur Vermeidung dieser Folgen werden die Kondensatoren C1 bis C3 eingebaut. Der Elko C1 sorgt dafür, daß nur Wechselspannungen den Eingang des ICs erreichen. Da der IC-Eingang sehr hochohmig ist, reicht hier ein kleiner Wert für den Kondensator. Weil intern im TDA 2002 Gleichspannungen vorhanden sind und diese der zu verstärkenden Wechselspannung überlagert werden, wird noch der Kondensator C2 in die Schaltung einbezogen. Er sorgt dafür, daß sich die Verstärkung nur auf die Wechselspannung auswirkt. Zu guter Letzt der Kondensator C3. Er läßt nur Wechselspannung zum Lautsprecher durch. Würde der Lautsprecher nämlich mit einer Gleichspannung beaufschlagt, so würde der unweigerlich durchbrennen.

## Wie funktioniert's?

Der Wert des Kondensators C3 sollte mindestens 1000 µF betragen, da sonst die tiefen Frequenzen (sprich die tiefen Töne) nicht bis zum Lautsprecher gelangen.

Das RC-Glied am Lautsprecherausgang dient zur Unterdrückung eventueller Schwingneigungen des Verstärkers.
Ein Glied in der Kette ist bisher unerwähnt geblieben, der Potentiometer P1. Er sorgt dafür, daß wir uns nicht immer alles mit der gleichen Lautstärke anhören müssen. Mit dem Poti wird durch Abschwächung des Eingangssignal eine einfache Lautstärkeeinstellung vorgenommen. Damit wäre die Beschaltung des ICs komplett.

Wenden wir uns deshalb der Schaltung des Netzteiles zu. Die Spannungsversorgung des TDA 2002 darf im Bereich von 8 bis 18 Volt liegen. Da wir nur 1 Watt Ausgangsleistung haben, dürfen wir uns an der unteren Grenze des Versorgungsspannungsbereiches bewegen. Ein Transformator mit 8 bis 9 Volt Sekundärspannung reicht für unsere Zwecke voll aus. Dieser Wert ist nicht kritisch. Achten Sie jedoch darauf, nicht mehr als 20 Volt Sekundärspannung zu verwenden. Denn nach der Gleichrichtung nimmt die Spannung einen etwas höheren Wert an. Strommäßig sollte der Trafo etwa 500 mA liefern können. Dies hängt jedoch auch vom verwendeten Lautsprecher ab. Sollten Sie einen Lautsprecher mit 4 Ohm Impedanz anschließen, so ist entsprechend die Verstärkung abzusenken oder die Leistung des Trafos zu erhöhen. Die Sekundärspannung wird mit Hilfe von vier Dioden des Typs 1N4001 gleichgerichtet. Der Kondensator C4 sorgt anschließend für eine Glättung der Spannung. Ein Wert von 1000 µF ist auch hier die untere Grenze. Der Kondensator C5 sorgt für die Unterdrückung von Störspannungsspitzen der Versorgungsspannung.

Für das IC ist zur Ableitung der entstehenden Wärme ein Kühlkörper erforderlich. Es reicht ein kleiner U-förmiger Kühlkörper.

Der Aufbau des Verstärkers kann auf einer Lochrasterplatine oder besser auf einer nach dem vorgegebenen Layout (Bild 3) erstellten Platine erfolgen. Bild 4 zeigt den Bestückungsplan.

Am günstigsten ist es, diese Platine in den Monitor einzubauen und den Verstärker über den Netzschalter des Monitors dann gleich miteinzuschalten. Da die Monitore in dieser Hinsicht verschieden aufgebaut sind, kann hierzu keine allgemeingültige Einbauanweisung erfolgen. Sollten Sie dies nicht wollen, dann ist dafür Sorge zu tragen, daß die Schaltung oder mindestens das Netzteil in ein gut isolierendes Gehäuse eingebaut wird. Am Transformator liegt nämlich an der Primärseite die volle Netzspannung von 220 Volt an, und diese wirkt bei Berührung absolut tödlich. Aus diesem Grund ist auch beim Aufbau und beim Test des Verstärkers Vorsicht geboten.

Gehen Sie beim Einlöten der Bauteile in die Platine sorgfältig vor. Das IC ist zum Beispiel nicht vor zu starker Hitze von außen geschützt. Am besten ist es, Sie löten die einzelnen IC-Beinchen mit kurzen Abkühlpausen fest. Die richtige Polung der Kondensatoren ist natürlich auch zu beachten. Seien Sie auch vorsichtig beim Testanschluß der Schaltung an den C 64. Ein Kurzschluß der einzelnen Pole am Audio-/Video-An-schluß kann zur Zerstörung des Verstärkers und des Computers führen. Da zum Anschluß des Monitors die Audio-/Video-Buchse belegt ist, muß man einen Adapter oder ein spezielles Kabel für dieseBuchse bauen beziehungsweise kaufen. Das übliche Kabel mit einem DIN-Stecker an einer und mit vier Cinch-Steckern an der anderen Seite ist hier zu empfehlen. Bleibt zum Schluß noch zu wünschen, daß Sie allzeit guten Klang haben.

(H. Zwartscholten/ah)

# Simulationen — Spiel und Wirklichkeit [37-39]

> Simulationen sparen Zeit und Geld, sagen die ernsthaften Anwender. Simulationen sind die zeitaufwendigsten und auch teuersten Programme, behaupten die Spieler. Recht haben beide, doch lesen Sie selbst.

Was ist eine Simulation eigentlich? Ist es eine computergesteuerte Sub-Realität, die innerhalb unserer realen Welt existiert? Oder haben wir es mit Träumen zu tun, die der Mensch sich auf dem Computer produziert, weil er sich die Realität nicht leisten oder technisch nicht verwirklichen kann? Nun, das ist Ansichtssache. Aber in jedem Fall sind Simulationen Nachahmungen von praktisch oder auch theoretisch existierenden Realitäten. Theoretische Realitäten deshalb, weil man auch Dinge simulieren kann, die es gar nicht gibt, oder von denen man wenig weiß. So wird beispielsweise am Max-Planck-In-stitut für Astrophysik in Garching bei München an der Simulation einer Supernova-Explosion gearbeitet. Die gesamte Simulation beruht allerdings nur auf Modellen, da die Wissenschaftler noch nicht sehr viel über diese Erscheinung wissen. Simulieren kann man den Vorgang auch nur zu einem minimalen Teil, da der Cray lB (einer der größten und schnellsten Computer der Welt) nicht genügend Hauptspeicher besitzt. Auf dem Heimcomputer kann man das gleiche feststellen: Computer-Rollenspiele sind nichts anderes als Simulationen von fiktiven Charakteren, die in fiktiven Welten ebenso fiktive Abenteuer erleben.

So weit also zu den theoretischen Simulationen. Man kann natürlich auch real existierende Ereignisse simulieren; die Simulation von in der Praxis bestehenden Dingen ist schließlich auch die häufigere Variante der Simulation. Beispiele sind Flugsimulatoren, Fahrsimulatoren, Wirtschaftssimulatoren, Kriegssimulatoren und so weiter. Eigentlich kann man ja alles simulieren; angefangen vom Vollwaschgang der Waschmaschine bis hin zu Opas Beinbruch ist alles drin. Die Science-Fiction-Literatur läßt sich in dieser Hinsicht auch so einiges einfallen. In Douglas Adams' »Per Anhalter durch die Galaxis« ist die Menschheit auch nur Teil eines Simulations-Experiments, das von viel intelligenteren Wesen (den Mäusen!) überwacht wird. Die Ideen zum Thema Simulation sind so viel-fältigwie in keinem anderen Gebiet. Wohl deshalb, weil der Begriff »Simulation« ein sehr breites Spektrum umfaßt.

Den Begriff kann man allerdings in einem engeren Sinne auch sehen, nämlich den der klassischen Arten der Simulation. Also Autofahren, Fliegen, Motorboot fahren — kurz gesagt alles, was sich mit und in Fahrzeugen abspielt. Für unseren Überblick über bestehende Software wollen wir zwischen beiden Begriffsbestimmungen ansetzen, da wir über bestimmte Arten der Simulation bereits ausführlich berichteten (Kriegssimulationen in 64'er, Ausgabe 3/85, Rollenspiele in Ausgabe 9/84) oder es nicht in den Rahmen dieses Magazins paßt (zum Beispiel Computertomographie, Simulationen physischer und chemischer Vorgänge etc. Wer darüber mehr wissen will, sollte Computer persönlich, Ausgabe 2/85 lesen).

Nehmen wir uns mal ein paar Simulationen vor und vergleichen sie mit den eingangs gemachten Behauptungen. Simulationen sparen Geld und Zeit, sagten wir. Auf den »Flight Simulator II« für unseren Heimcomputer trifft das ganz bestimmt nicht zu, denn unser Heimanwender setzt sich — im Gegensatz zu Ballerspielfans — schon mal ein paar Stunden mehr an den Computer. Und mehr kosten als ein Ballerspiel tut der Flugsimulator allemal. Wenden wir diese Behauptung allerdings auf eine ernsthafte Simulation an, dann sieht die Sache schon ganz anders aus. In der Forschung beispielsweise kann man nicht jedes Gedankenmodell in ein reales Modell umsetzen. Die Computertechnik spart hier viel Zeit und Geld, wenn man mit Hilfe einer Simulation die »Was passiert, wenn ...«-Frage untersucht. Beispiel: Zugunglücke im realen Modell durchzuführen, würde nicht nur viel kosten, sondern wäre für eine ganze Menge Leute ziemlich ungesund. Um ihre Lokführer für solche Notfälle zu trainieren,, hat die Western Railroad Company in den USA einen »Railroad Simulator« gebaut. Dabei ist im Unglück auch das Gewicht der Passagiere und der Ladung einberechnet. Ähnliches macht auch die Lufthansa mit ihren Flugsimulatoren. In der Wirtschaft kann durch Simulationen und daraus folgenden Trendrechnungen die Realisierung eines geplanten Umsatzes im Voraus als unmöglich erkannt werden. In der Fahrzeugindustrie braucht man nicht Unmengen von verschiedenen ABS (Anti-Blockier-Systemen) zu bauen, um die beste Konstruktion durch Tests zu finden. Hier wird einfach simuliert, und die in der Simulation am besten abschneidende Lösung wird realisiert. Man könnte noch viele Beispiele in dieser Richtung finden.

Welche Simulationen gibt es nun für unsere Heimcomputer, und was unterscheidet sie von den ernsthaften, in der Praxis angewendeten Simulatoren? Eigentlich eine ganze Menge: Die Realitätsnähe, das benutzte Computersystem, der Preis und der Nutzen. Auf dem Heimcomputer haben wir es zu 95 Prozent mit Spielen zu tun. In der Praxis gibt es keine Spiele. Wer mit einer Cray-Anlage oder einem großen Luftkampfsimulator (zum Beispiel Thomson oder Sogitec) zu spielen beginnt, bekommt entweder Hausverbot, eine Kündigung oder eine saftige Rechnung in Millionenhöhe. Aber sehen Sie selbst in unserem kleinen Überblick, was es da noch alles gibt.

## Flugsimulationen

Die ersten Flugsimulatoren entstanden in den 40erJahren. Sie dienten nur als Navigationstrainer für den Instrumentenflug. Ende der 50er Jahre wurden daraus die sogenannten CSS (Cockpit System Simulatoren), mit denen man schon rechnerisch alle Funktionen eines Flugzeugs simulieren konnte — damals noch mit Analogrechnern, die im Platzverbrauch »unschlagbar« waren. Mit der zunehmenden Miniaturisierung und Fortschritten in der Digitaltechnik kamen dann immer bessere Simulatoren. Dabei war die Vorbereitung der ersten Mondlandung ein großer Schrittmacher für die technischen Verbesserungen. Mitte der 70er Jahre kamen dann die ersten Flugsimulatoren der heutigen Generation auf, die sich im wesentlichen auf drei Baugruppen stützten: Die Nachbildung des Cockpits, die Projektionseinrichtung, die fortlaufend die Bilder vor den Cockpitfenstern erscheinen läßt, und das (hydraulisch gesteuerte) Bewegungssimulationsgerät. Die Lufthansa betreibt schon zehn Simulatoren (Boeing und Airbus), von denen das neueste Exemplar immerhin 23 Millionen Mark gekostet hat. Eine Flugstunde mit einem echten Flugzeug kostet etwa 39000 Mark, der Simulationsbetrieb nur 1400 Mark pro Stunde. Bei den Heimcomputerspielen sieht das ganz anders aus: Man zahlt einmal und kann unendlich lange fliegen. Es ist halt nicht ganz so realistisch. Die wichtigsten Flugsimulatoren für den C 64:

### Flight Simulator II

Der »Flight Simulator II« (Bild 2) von SubLogic ist das Optimum an Flugkomfort, vergleicht man ihn mit anderen Simulationsspielen. In der Verpackung findet man zwei 100 Seiten starke Handbücher, von denen sich das eine mit der Bedienung des Programms befaßt, und das zweite eine Art Flugkurs (auch für echte Flugzeuge) ist. Der »Flight Simulator II« ist ein Echtzeitsimulator, zeichnet sich durch hervorragende Grafik und eine starke Realitätsnähe der Instrumentenanzeigen und des Flugverhaltens aus. Ein Muß für den Flugfan.

### Super Huey

Ein Hubschraubersimulator, der grafisch gut aufbereitet ist. Die elektronischen Anzeigen des Originalvorbildes (UH-lX) sind relativ wirklichkeitsnah dargestellt. Das nicht ganz so realistische Flugverhalten des Helikopters wird durch ein besonderes elektronisch gesteuertes Stabibilisationssystem erklärt, das angeblich auch das Vorbild haben soll. »Super Huey« ist ein durchaus noch zu empfehlendes Spiel, das aus einer relativ realitätsnahen Flugsimulation und ziemlich unrealistischen Spielelementen (Kampf mit anderen Hubschraubern, Soldaten retten etc.) besteht.

### Andere Flugsimulationen

Von Microprose gibt es den »Solo Flight«, ein mittelprächtiges Simulationsspiel. Daneben gibt es noch etliche unrealistische Programme wie beispielsweise »F15 — Strike Eagle«, »Skyfox«, »Fighter Pilot« oder »ACE«. Mit dem demnächst zu erwartenden »Jet« von SubLogic dürfte allerdings wieder etwas Gutes in dieser Richtung auf den Markt kommen. Wer einen ganzen Flughafen (nicht das Flugzeug) kontrollierenwill, dem sei »Kennedy Approach« empfohlen, ein gutes Spiel, das den Spieler ständig in Aktion hält.

## Fahrsimulatoren

Auch im Kraftfahrzeugbau hat sich die Simulation als wichtige Komponente erwiesen. Man mußte drei Komponenten in eine Simulation bringen: Fahrer, Fahrzeug und Straße. Dies wurde anfangs noch mit Analogcomputern durchgeführt. Mit einem Patch-Board wurde eine Simulation zusammengestrickt, mit der immer nur eine spezielle Situation untersucht werden konnte. Für eine neue Situation trat dann ein zeitraubender Umbau ein. Die Straße wurde durch den Blick einer Minikamera simuliert, die über die aufgebaute Miniaturlandschaft entsprechend den Bewegungen des Lenkrades folgte. Inzwischen gibt es wesentlich bessere Simulatoren, die alle digital arbeiten. VW, Mercedes und BMW benutzen beispielsweise sehr professionelle Geräte. Im VW-Simulator wird jedes einzelne Rad mit APUs (Hilfsprozessoren) simuliert. Auch der Simulator von Mercedes liefert erstaunliche reale Fahrerlebnisse. Er ist in Bild 3 zu sehen Nicht so realistisch, doch durchaus überzeugend, sind die Fahrsimulationsspiele. Angefangen hat es mit »Night Driver«, einem Spielautomaten, der nur Gas und Lenkrad hatte, und auf dem Bildschirm links und rechts Pfosten anzeigte, weiter nichts. Inzwischen gibt es Spielhal-len-Automaten, die kaum noch in der Grafik zu schlagen sind. TX-1, ein Formel-l-Simulator, hat beispielsweise eine drei Bildschirme große Grafik. Auch vor dem Heimcomputer hat diese Entwicklung nicht Halt gemacht. Die interessantesten Programme in dieser Richtung:

### Revs

Das brandneue »Revs« ist die erste Autorenn-Simulation, die den Begriff »Simulation« voll verdient. Hier kann man mit einem Formel 3-Wägen über die »millimetergenau« nachgebildeten Strecken von Brands Hatch und Silverston rasen. Vom Verhalten des Motors, der Lenkung und der Straßenlage bis hin zur Aerodynamik stimmt einfach alles — deswegen ist »Revs« auch besonders schwer zu spielen. In einer der nächsten Ausgaben werden wir »Revs« genauer vorstellen.

### Pit Stop II

»Pit-Stop II« (Bild 4) ist eine Fahrsimulation für zwei Spieler gleichzeitig. Die Grafik ist umwerfend, das Spiel macht Spaß. Nach einiger Zeit kann es jedoch zu Verkrampfungen derJoystickhand kommen. In der Simulation sind auch Reifenabnutzung und Benzinverbrauch berücksichtigt.

### Weitere Fahrsimulationen

Von Commodore gibt es zwei als Module angebotene Fahrspiele: »Road Race« und »Le Mans«. Das erste ist ein Nachbau des alten Night Driver, das zweite ist ein Paddle-ge-steuertes Spiel mit Vogel-Perspekti-ve. Beide Spiele sind im Ausverkauf in den Kaufhäusern zwischen 5 und 15 Mark erhältlich. Ein Klassiker ist der SpielhaIlen-Hit »Pole Position« der aber nicht an »Pitstop II« herankommt. Demnächst soll es »Pole Position II« geben, über dessen Qualität noch niemand etwas sagen kann (die Ankündigung war schon vor sechs Monaten).

## Wirtschaftssimulationen

Simulationen aus dem kaufmännischen Bereich können in der Finanzplanung, Preiskalkulation oder bei Börsen-Geschäften helfen. Preiskalkulationen werden mit Spreadsheets (= Tabellenkalkulationsprogrammen) durchgeführt. Bei der Änderung eines Wertes im Spreadsheet passiert eigentlich nichts anderes als eine »Was wäre, wenn...«-Simulation. Spielerisch kann man das natürlich auch auskosten. Neben den Tabellenkalkulationen kann man auf dem C 64 folgende Simulationen erleben:

### M. U. L. E.

Die beste Wirtschaftssimulation, die es im Augenblick für den C 64 gibt. Sie landen auf dem Planeten Irata, auf dem Sie mit Landwirtschaft, Energie- und Erzabbau Geld machen müssen. Muß man unbedingt haben, wenn man lange und viel Spaß haben will. Mit bis zu vier Spielern gleichzeitig.

### Millionaire

Blue Chip Software, die Spezialisten für Wirtschaftsspiele, haben mit Millionaire ein gutes Börsenspiel entwickelt. Die C 64-Version ist im Gegensatz zu anderen Versionen grafisch mißlungen. Dafür aber tut sich spielerisch einiges. Bis zu 14 Leute können mitspielen.

### Kaiser

Sie sind im Jahr 1700 Regent eines deutschen Kleinstaates. Eine Simulation der Zusammenhänge wirtschaftlicher, sozialer und militärischer Faktoren. Spielerisch und grafisch nicht übel; die einzige deutschsprachige Simulation, die es derzeit gibt. Bis zu sechs Spieler.

### Tycoon

Ein Spiel, in dem es um Handel geht. Der Spieler muß jeweils in die günstigsten Waren investieren und mit bestmöglichem Gewinn verkaufen. Bis zu 14 Spieler.

## Was kommt als nächstes?

Man kann natürlich noch wesentlich mehr simulieren als hier angegeben, und auch die Anzahl der erhältlichen Spiele ist riesig. Wir haben nur die interessantesten herausgepickt. In Zukunft wird sich wohl noch so einiges tun. Wer »Radar Raiders« auf dem Amiga gesehen hat, will den »Flight Simulator II« in die Ecke schmeißen. Wer von »Pole Position II« schwärmt, muß leider vorerst noch in die Spielhalle gehen. Und die Zukunft wird sicher noch so einiges bringen, von dem wir heute noch nicht mal zu träumen wagen. Wer mit einem Flugsimulator der nächsten Generation abstürzt, wird vielleicht wegen der Echtheit der Simulation eine dieser Tüten, die in jedem Flugzeug Grundausstattung sind, benötigen. Hoffen wir das Beste für unsere mutigen Piloten und Chauffeure, ob nun am Heimcomputer oder in der Realität.

(Manfred Kohlen/bs)

# Viermal Schachmatt [40-41]

> In einem spannenden Turnier haben wir vier Schachprogramme für den C 64 gegeneinander antreten lassen. Außerdem ließen wir sie gegen den Weltmeister der Schachcomputer, das deutsche Seriengerät »Mephisto« spielen.

In der letzten Ausgabe wurden vier Schachprogramme für den C 64 vorgestellt: »Grandmaster«, »Chess 7.0«, »Sargon III« und »Colos-sus 4.0«. In der Zwischenzeit haben wir einen Wettkampf veranstaltet, in dem wir alle Programme unter Turnierbedingungen gegeneinander spielen ließen. Die normalen Turnierbedingungen sehen so aus, daß in einer Partie 40 Züge in zwei Stunden ausgeführt werden müssen. Da praktisch jedes Schachprogramm eine Turnierstufe anbietet, haben wir unter diesen Voraussetzungen spielen lassen. Außerdem haben wir alle Schachprogramme so »intelligent« wie nur möglich gelassen. Das heißt, daß »Sargon III« und »Co-lossus 4.0« die Bedenkzeit des Gegenspielers für eigene Berechnungen ausnutzen durften. Zusätzlich wurde die sehr umfangreiche Eröffnungsbibliothek von »Sargon III« nicht abgeschaltet. Das verschaffte manchen Programmen zwar von vorneherein große Vorteile über die Gegenspieler. Allerdings wird ein guter menschlicher Spieler ja in einem Turnier auch nicht ein paar Stufen heruntergeschaltet, nur weil er einen etwas schwächeren Gegner hat.

## Das Ergebnis

Kommen wir nun zu den Ergebnissen des Turniers, die wir in einer Tabelle zusammengefaßt haben. Daraus geht klar hervor, daß »Grandmaster« das schwächste der getesteten Programme war. »Chess 7.0« bestreitet einsam das Mittelfeld. Am spielstärksten haben sich »Sargon III« und »Colossus 4.0« erwiesen.

Die Fronten waren dabei sehr klar — bis auf den Gleichstand zwischen »Sargon« und »Colossus« ist das Ergebnis eindeutig.

Dieses Ergebnis kann man nun auch ein wenig analysieren. Daß »Grandmaster« so schlecht abschneidet, ist gar nicht so verwunderlich. Das Programm istjetzt knapp vier Jahre alt und ist somit nicht auf dem neuesten Stand der Schach-Programmierung. Die anderen drei Programme sind wesentlich jünger und können mit ihren neuen Algorithmen effektiver spielen.

Daß sich »Sargon III« und »Colossus 4.0« gegenüber »Chess 7.0« durchsetzen konnten, liegt sicher an deren Möglichkeit, die Bedenkzeit des Gegeners für eigene Berechnungen zu nutzen. Beide berechnen während der normalen Bedenkzeit den besten Zug des Gegners. Auf dieser Basis führen sie dann schon Überlegungen für den nächsten Zug durch, während der Gegner noch über seinen nachdenkt.

»Sargon III« kann schließlich noch mit seiner riesigen Eröffnungsbibliothek in der ersten Spielphase so viele Vorteile herausholen, daß im weiteren Verlauf des Spiels die anderen Schachprogramme stets im Nachteil sind und nur mit Glück und besonders guten Zügen gegen »Sargon III« widerstehen können. Deswegen verwunderte der Erfolg von »Colossus 4.0« gegen »Sargon III« sehr. Die allgemeine Spielstärke von »Colossus 4.0« muß wohl, sieht man von der sehr viel kleineren Eröffnungsbibliothek ab, größer als die von »Sargon III« sein.

Zu guter Letzt sei gesagt, daß selbst ein Turnier von jeweils vier Partien der Programme gegeneinander noch keine absoluten Aussagen über die Spielstärke machen kann. Die festgestellten Tendenzen sind aber eindeutig.

## Die Herausforderung: Mephisto

Um das Turnier abzurunden, wollten wir einen »echten« Schachcomputer mitspielen lassen. Aus Zeitgründen mußten wir uns aber auf einige Partien gegen »Sargon III«, »Colossus 4.0« und »Grandmaster« beschränken. Als Schachcomputer haben wir uns dasjenige Gerät herausgesucht, das von Spezialisten als das stärkste Seriengerät bezeichnet wird: »Mephisto« von der deutschen Firma Hegener & Glaser. Bei den Partien gegen »Grandmaster« fegte »Mephisto« seinen Gegenspieler in weniger als dreißig Zügen vom Brett. Etwas länger konnten sich die Testsieger »Sargon III« und »Colos-sus 4.0« halten. Aber auch sie mußten sich »Mephisto« eindeutig geschlagen geben. Ein auf Schach spezialisierter Computer ist also sehr viel spielstärker als ein »Universalcomputer« wie der C 64 mit einem guten Programm. Denn während der »Mephisto« eben nur Schach spielen kann, ist der C 64 ganz nebenbei auch als Textverarbeitungssystem oder als Lernmittel zur Programmierung einsetzbar.

Verblüffend ist, daß C 64 wie Mephisto vom technischen Standpunkt sehr ähnlich sind. Beide verwenden fast denselben Prozessor und sind somit ähnlich programmiert — allerdings ist der Mephisto von vorne herein etwas schneller und muß sich dann auch nicht mit Bildschirmgrafik und Soundeffekten herumschlagen wie der C 64. Somit hat er intern viel mehr Zeit für seine Berechnungen.

## Was für wen?

Die klare Folgerung: Wer sehr viel, sehr gerne und sehr gut Schach spielt, ist mit einem guten Schachcomputer besser bedient, auch wenn dieser ein paar Mark mehr als ein Schachprogramm kostet. Wer nur gelegentlich spielt oder sich nicht für einen Meisterspieler hält und auch noch einen C 64 sein eigen nennt, der wird mit einem guten Schachprogramm zufrieden sein. Schließlich bieten manche Schachprogramme einiges mehr an Komfort wie ein Schachcomputer, so zum Beispiel Abspeichern von Partien oder grafische Darstellung. Absolute Schachfans brauchen dann sowieso beides: Schachprogramm und Schachcomputer.

(bs)

Info: Grandmaster: Kingsoft, FritzSchäfer, Schnakebusch 4, 5106 Roetgen, 39 Mark (Kassette), 49 Mark (Diskette)
Chess 7.0: Softline, Rut Alverdes, Schwarzwaldstr. 8a, 7602 Oberkirch, 198 Mark (Diskette)
Sargon III: Funtastic, Tannhäuserpl. 22, 8000 München 81, 182 Mark
Colossus 4.0: Rushware, An der Gümpgesbrücke 24, 4044 Kaarst 2, 39 Mark (Kassette), 59 Mark (Diskette)
Mephisto: Hegener + Glaser, Arnulfstr. 12, 8000 München 2

# Die Spiele kommen! [42]

> In unserer September-Ausgabe fragten wir Sie nach Ihrer Meinung über Computerspiere. Als Belohnung war Software im Wert von 10000 Mark als Preise ausgesetzt. Die Gewinner stehen nun fest.

Genau 150 Leute in Deutschland werden sich dieser Tage freuen, denn jeder von ihnen hat ein Programm gewonnen. In diesem Sinn möchten wir uns nochmals recht herzlich bei den Stiftern der Programme bedanken. Die Programme sind schon unterwegs und müßten dieser Tage bei den Gewinnern eintreffen.

Mit diesem Preisausschreiben war auch unser Fragebogen verbunden, in dem wir Sie über Ihre Meinung über Spiele im Allgemeinen und unsere Spiele-Tests im Besonderen baten. Wir bedanken uns für die ausführliche, interessante und aufschlußreiche Beantwortung dieser Fragen. Wir freuen uns ganz besonders darüber, daß Sie fast einstimmig unseren Spiele-Teil »gut« oder sogar »sehr gut« einstufen. Dem Wunsch nach noch mehr Tests werden wir wohl nicht nachkommen, dawirunsjeden Monatnur die besten Spiele herauspicken wollen. Sie wollten auch bessere Vergleichsmöglichkeiten bei den Spielen. Diesem Wunsch haben wir schon vor zwei Ausgaben durch unsere Neukonzeption des Spiele-Teils nachgegeben. Daß wir mit unseren Bewertungskästen ziemlich richtig liegen, zeigten Ihre Antworten auf die Frage, was Ihnen bei einem Spiel am wichtigsten sei. Grafik, Sound und Spielidee sind bei Ihnen am gefragtesten.

Der Spieleteil wird also in der nächsten Zeit von uns so weitergeführt werden, wie Sie ihn auch in dieser Ausgabe vorfinden. Das soll Sie aber nicht davon abhalten, uns weiterhin Ihre Anregungen und Kritik mitzuteilen, auch wenn es dann keine Programme zu gewinnen gibt.

(bs)

Wir möchten uns bei folgenden Firmen für die zur Verfügung gestellten Preise bedanken:

Ariolasoft, FunTastic, Imagine, Joysoft, Kingsoft, Markt & Technik, Mastertronic, Micro Händler, RushWare

Folgende 150 Personen haben je ein Programm für den Commodore 64 gewonnen:
Roy Leschinsky, Hagen
Björn Kunze, Darmstadt
Reinhard Gezeck, Nusse
Roger Meyer, Luxemburg
Claus Elsner, Aschaffenburg
Sascha Seifert, Gundelsheim
H. Ditzel, Vlissingen (Holland)
Jan Struck, Kiel
Klaus Sopp, Elmshorn
Manfred Mebus, Essen
Manfred Schattschneider, Eppelborn
Jörg Gatzemeier, Hannover
Jörg Sawallek, Gelsenkirchen
Michael Langer, Wolfsburg
Oliver Haupt, Rodenbach
Karsten Geese, Burgwedel
Steffen Bastek, Neckarbischoffsheim
Guido Mengelberg, Wuppertal
Rainer Korzensdorfer, Hanau
Roland Friedrich, Vöhl
Thorsten Weiß, Deizinau
Jörg Stührwohlot, Heide
Mustafa Allbayrakdar, Karlsruhe
Karl-Horst Schmitt, Mühlheim
Oliver Winkler, Leimen-Gau
Ulrich Wiedemann, Kornwestheim
Michael Maier, Dietfurt
Wolfgang Wolter, Hilden
Walter Schock, Davos (Schweiz)
Peter Börner, Nürnberg
Dirk Kurt, Düsseldorf
H.D Brandt, Bad-Meinberg
Frank Hermann, Düsseldorf
Klaus Gottke, Düsseldorf
Uwe Tröger, Goslar
Michael Kugler, Schwaig
Georg Maier, Tuntenhausen
Karin Zehetmayer, Köln
Bernhard Nullock, Frankfurt
Bernd Lautenschlager, Nürnberg
Hans Zagorski, Gütersieben
Oliver Müller, Ottobeuren
Thomas Rappelt, Würzburg
Reiner Kopp, Michelstadt
Peter Stendel, Brombachtal
Ralf Müller, Blankenheim/Wald
Rolf Kolodzey, Marl
Achim Jeßberger, Kreuzwth.-Röttbach
Amgar Baumann, Aalen
Kraus Gerhard, Tirschenreuth
Gerhard Klingele, Tunau
Matthias Heller, Pohlheim
Christian Busch, Merzhausen
Holger Ickels, Hamburg
Martin Langenbacher, Tübingen
Michael Stöhr, Frankfurt
Dirk Farin, Tübingen
Michael Lehner, Eppendorf
Harry Hellmann, Wolfsburg
Martin Sige, Deggendorf
Carten Hirsch, Schneverdingen
Rainhard Plohmann, Glücksburg
Burkhard Weichler, Nautorf
Hans-Joachim Knittel, Stuttgart
Marco Schlicht, Berlin
Horst Hahn, Amberg
Robert Kunde, Köln
Harald Schröder, Bad Oldeslohe
Thorsten Kramer, Lauenburg
Heinz Musche, Velbert
Christian Gaal, Oberwart
Olaf Przibilla, Munster
Thomas Dücker, Hamburg
D. Stattenberger, Bremen
Bernhard Müller, Riedholz (Schweiz)
Dirk Ulinksiek, Vlotho
Michael Schreyer, Nürnberg
J. Schröder, Herten
Guido Heinze, Brühl Vochem
Ernst-Dieter Stacke, Uetersen
Peter Jäger, Landau
Alex Dohmen, Wasserberg
Jürgen Burger, Winden
Ralf Achatz, Dortmund
Andreas Henfe, Menden
Michael Schramm, Hamburg
Christian Leopold, Bad Bodendorf
Nis Grella, Rendsburg
Rolf Beier, Ahlen
Matthias Plohmann, Porta-Westfalica
Thomas Veit, Mainz
Axel Dröge, Bestwig
Hartmut Dittmer, Kirchgellensen
Michael Groß, Mainz
Drik Struebig, Duisburg
Andreas Blust, Karlsruhe
Otto Martin, Ochsenthal
Adelberger, Tirschenreuth
Matthias Marciniak
Ulrich Doeker, Köln
Alexander Sarras, Wien (Österreich)
Karsten Schmidt, Berlin
Michael Eberle, Wil (Schweiz)
Klaus Kruase, Oberwallmenach
Ch. Bauermeister, Bad Berleburg
Winfrid Przibilla, Munster
Sörke Nickelsen, Raisdorf
Heribert Volkmer, Weil
Markus Zimmermann, Zürich (Schweiz)
Christian Setzer, Rödental
Andre Wehn, Biedenkopf
Joachim Bieber, Bergkleinfeld
Andreas Ullmann, München
Christof Oswald, Braschhofen
Frank Diesel, Straubing
Oliver Faust, Kapellen (Belgien)
Jürgen Bönig, Moltsee
Alexander Schon, Trier
Patrick Warmbier, Sereetz
Reto Bryan von Gunten, Selfingen (Schweiz)
Hartmut Eumann, Worms
Wener Riecke, Bremgarten
Georg Wilcke, Filderstadt
Daniel Lindenmann, Wittnau (Schweiz)
Michael Larisch, Mainlens
Marco Fischer, Aschaffenburg
Michael Cassemeyer, Troisdorf
Marc Schmitter, Esslingen
G. Schöning, Marburg
Gernot Zelzer, Graz (Österreich)
Günter Jonczyk, Köln
Anton Stupin, Düsseldorf
Thorsten Pelka, Hehlen
Hauke Walter, Gmunden (Österreich)
Christian Märkl, Zeitlarn
Günther Haupt, Markt Schwaben
Carsten Scharf, Solms
Frank Scharfe, Ludwigshafen
Thomas Rank, Ellhoven
Jürgen Anton, Karlsruhe
Oliver Weindl, Rottenburg
Sascha Scheuermann, Rodenbach
Michael Derendorf/Weenen, Düsseldorf
Sven Calkster, Berlin
Christian Tütz, Stelle
Jörg Gerjets, Norden
Christian Nielsen, Hamburg
Thomas Müller, Rascheid
Peter Wetzel, Grünstadt
Christoph Oldenburg, Rödermark

Die Gewinner wurden aus allen Einsendungen zu dieser Umfrage gezogen. Die Verteilung der Programme war vollkommen zufallsbestimmt. Die Preise befinden sich sowohl auf Diskette als auch Kassette, und reichen von Spielen über Textverarbeitung bis Grafik-Software. Wir bitten um Ihr Verständnis, wenn die Preise vom Umtausch ausgeschlossen sind.

# Der C128 D im ersten Test [43-44]

> Auf der Systems in München konnte man zum ersten Mal den deutschen C 128 D bewundern. Wir entführten ihn zu einem ersten Test vom Commodore-Messestand.

Der C 128 im professionellen PC-Look, so präsentiert sich Commodores jüngstes Kind, der C 128 D. Das D steht für »Disk«, denn der C 128 D hat gleich ein Diskettenlaufwerk eingebaut. Einen Spitznamen hat er auch schon, denn manche Leute interpretieren das »D« als Abkürzung für Diesel...

Keine Angst, der C 128 D läuft mit der ganz normalen Netzspannung von 220 Volt. Und hat man den C 128 D an eine Steckdose angeschlossen und eingeschaltet, meldet er sich genauso wie ein echter C 128. Ist er’s aber auch? Denn viele werden sich noch mit Schrecken an den »vollkompatiblen« SX 64 erinnern, der erhebliche Schwierigkeiten mit so manchem Programm hatte, das der C 64 problemlos verarbeitete. Aber keine Angst, beim C 128 D hat sich eigentlich nur das Äußere geändert. Schraubt man ihn auf, findet man die nur minimal veränderten Platinen des C 128 und der 1571 wieder. Diese sind allerdings fantastisch verpackt, wie in Bild 1 zu sehen. Commodore hat sich noch nie soviel Mühe mit der Abschirmung der einzelnen Baugruppen gegeben wie beim C 128 D. So kommt man, will man den Computer nicht komplett auseinandernehmen, gar nicht erst an die Platinen heran. Die zahlreichen Abschirmbleche zeichnen sich nämlich durch besonders gute Verschraubung mit dem Gehäuse aus. Ein kurzer Blick in die Betriebssysteme von Computer und Laufwerk erweckte den Eindruck, daß hier überhaupt keine Änderungen vorgenommen wurden. Sollte sich dies bewahrheiten, würde das heißen, daß der C 128 D nicht nur kompatibel zum, sondern identisch mit dem normalen C 128 ist. Dies beweisen auch die identischen Anschlüsse, die wir in Bild 2 und 3 dargestellt haben. Für die abgesetzte Tastatur mußte nur eine weitere Buchse hinzugefügt werden.

Aufgrund des integrierten Floppy-Laufwerks und der abgesetzten Tastatur läßt sich mit dem C 128 D hervorragend arbeiten. Die Tastatur entspricht vollkommen der des C 128, sie wurde bloß in ein eigenes Gehäuse verfrachtet. Zu Transport-und Aufräumzwecken kann die Tastatur unter dem C 128 D festgeklinkt werden (Bild 4). Der gesamte Computer läßt sich dann an einem ausklappbaren Handgriff durch die Landetragen. Allerdings: DerC 128 D hat ja keinen eingebauten Monitor, also kann man ein funktionsfähiges System gar nicht mal so einfach transportieren. In einer Hand den Computer, in der anderen den Monitor — diesen Zustand machen nur Bodybuilder längere Zeit mit.

## Integriertes Diskettenlaufwerk

Aber das Hauptargument für den C 128 D ist ja nicht sein Handgriff. Denn wer das Gerät auf dem Schreibtisch stehen hat, der erspart sich gegenüber dem C 128 das externe Netzteil, das Netzkabel für die Floppy und das serielle Buskabel. Außerdem hat er eine frei bewegliche Tastatur an einem Spiralkabel und man kann den Monitor platzsparend direkt auf den Computer stellen (Die Abschirmung macht's möglich. Sie sorgt auch dafür, daß der Commodore 128 D voll den FTZ-Be-stimmungen entspricht, das heißt keine Störstrahlung in die Umgebung abgibt). Ein richtig professioneller Arbeitsplatz, der sich nur durch sein Innenleben von einem Commodore PC 10 oder einem IBM-PC unterscheidet. Denn der C 128 D ist wohl der einzige Computer, der sich im Büro gleichermaßen für Textverarbeitung und Datenverwaltung (»Wordstar« und »dBase II« im CP/M-Modus), Programmierung (Basic 7.0 im C 128-Modus) und Unterhaltung (»Impossible Mission«, »Summer Games« und über 1000 andere Spiele im C 64-Modus) eignet.

## Kompakter Computer

Der C 128 D soll in den Handel kommen, wenn diese Ausgabe gerade an den Kiosken liegt, auf jeden Fall noch vor dem Jahreswechsel. Was ihn besonders interessant macht: Er soll etwa einhundert Mark billiger sein als das Team C 128/ 1571. Sollte sich diese vorläufige und unverbindliche Preisauskunft bewahrheiten, bleibt die Frage offen, wer sich dann noch den einfachen C 128 kaufen wird. Denn ein optisch schöneres aber technisch identisches Gerät für weniger Geld — wer würde da nicht zuschlagen?

(bs)

# Die neuen Laufwerke Commodore-1570/1571 [44-47]

> Die C 128-Besitzer haben lange auf ein passendes Diskettenlaufwerk warten müssen. Jetzt sind sogar gleich zwei verschiedene lieferbar. Wir haben beide getestet und verglichen.

Bis vor kurzem mußten C 128-Be-sitzer noch mit der guten alten 1541 arbeiten, wollten sie Daten und Programme abspeichern und nicht auf die Datasette zurückgreifen. Die Vorteile, die der C 128 mit einem entsprechenden Laufwerk bietet, können aber mit der 1541 nicht ausgeschöpft werden. Im Klartext heißt das: quälend langsame Diskettenzugriffe, kein Zugriff auf Standard-CP/M-Formate, geringe Speicherkapazität und so weiter. Verständlicherweise warteten alle C 128-Besitzer also auf die angekündigte 1571. Doch Commodore hatte produktionstechnische Probleme mit dem neuen Gehäuse, die die Lieferfähigkeit der 1571 stark einschränkten. So wurde als Über-gangslösungdie 1570konzipiert, ein Zwischending aus 1541 und 1571. Inzwischen stehen beide Laufwerke, 1570 und 1571, in den Geschäften und können von jedermann gekauft werden. Die Frage lautet bloß: Welches von den beiden? Bevor wir diese Frage beantworten, wollen wir erst einmal die gemeinsamen und die unterschiedlichen Daten der Laufwerke vorstellen.

Eines der wichtigsten Verkaufsargumente für die 1570/71-Laufwerke ist ihr stark beschleunigter Busbetrieb. Zusammen mit dem C 128 sollten Geschwindigkeiten erreicht werden, von denen ein C 64 mit 1541 ohne Beschleuniger bisher nur träumen konnte. Wer sich allerdings nun eine parallele Datenübertragung oder ähnliches vorgestellt hatte, wird enttäuscht. Der normale serielle Bus des C 64 wurde nur leicht umgebaut. Eine bisher unbenutzte Leitung wird jetzt zur Synchronisation der schnellen Datenübertragung genutzt.

Zieht man Vergleiche zur 1541, so ist man in den ersten Augenblicken angenehm überrascht: Ein Testprogramm von 200 Blöcken auf der Diskette wird vom C 64 und der 1541 in etwas über zwei Minuten geladen. Die 1570/71 schafft im C 128-Modus die 200 Blöcke in unter 14 Sekunden! Voraussetzung ist allerdings, daß auch im C 128-Modus gespeichert wurde. Bei vom C 64 gespeicherten Programmen dieser Größenordnung werden 25 Sekunden benötigt, die Zeit, die auch von SpeedDos, TurboAccess oder Hypra-Load erreicht wird. Beim Speichern eben dieser 200 Blöcke erweist sich die 1570/71 als Langweiler. Sie benötigt 1 Minute 52 Sekunden gegenüber 2 Minuten 25 Sekunden bei der 1541 und etwa 1 Minute 40 Sekunden bei den hardwaremäßigen Beschleunigern. Andere Disketten-Zugriffe, wie relative und sequentielle Dateien, werden um Faktoren von durchschnittlich 2 bis 6 beschleunigt, je nach Anwendung. Die Kommandos »Scratch« und »Validate« sind nur unwesentlich schneller als bei der 1541. Bei der 1571 kann ein Validate allerdings doppelt so lange dauern, weil ja die doppelte Datenmenge bearbeitet werden muß. Das Formatieren schließlich ist auch recht schnell: Die 1570 braucht zirka 23 Sekunden, die 1571 die doppelte Zeit, weil sie ja auch doppelseitig formatiert.

Ein wenig enttäuscht hat uns der CP/M-Modus. Programme wie »Wordstar« oder »Multiplan« sind zwar in knapp einer Minute geladen. Doch da diese Programme sehr oft auf die Diskette zugreifen, sind längere Wartezeiten vorprogrammiert. Andere CP/M-Systeme arbeiten mit einem parallelen Bus, der sehr viel schneller als der serielle Commodore-Bus ist.

Natürlich haben wir die Laufwerke auch mal von innen genauer betrachtet. In den Bildern 1 und 2 können Sie die Innereien der beiden Laufwerke sehen.

## Die Hardware

Auffällig ist, daß in beiden Laufwerken exakt dieselbe Platine vorzufinden ist. Die fertige 1571-Platine wurde dann auch nur durch ein leicht geändertes DOS und einige minimale Veränderungen auf der Platine für die 1570 angepaßt.

Auf der Platine befinden sich alle Chips, die man von der 1541 her kennt, und ein paar neue, die wohl für die CP/M-Modi verantwortlich sind. Die genaue Bedeutung dieser Bausteine, insbesondere des großen schwarzen Hybridbausteins (auf der 1571-Platine an der Rückseite zu finden), haben wir aber noch nicht völlig entschlüsseln können. Genauso geheimnisumwittert ist der CP/M-Controller-Chip. Hier tut sich für viele Hardware-Freaks ein weites Betätigungsfeld auf.

Kommen wir nun zur Mechanik, ein bei Floppy-Laufwerken sehr wichtiger Aspekt. Hier zeigen sich die ersten großen Unterschiede zwischen den beiden Modellen. Während die 1570 eine leicht verbesserte Version der 1541-Mechanik verwendet, ist die der 1571 völlig neu entwickelt worden. Die Verbesserungen in der 1570 beschränken sich auf zwei Lichtschranken. Die eine fragt das Indexloch ab und wird bei manchen CP/M-Formaten verwendet. Die zweite Lichtschranke stoppt den Schreib/Lese-Kopf eine Halbspur vor dem Anschlag am Steppermotor und verhindert somit das rhythmische Klappern beim Formatieren und bei Lesefehlern. Diese beiden Lichtschranken sind ebenfalls in der 1571 vorhanden. Die Mechanik der 1571 macht allerdings einen professionelleren und stabileren Eindruck als die der 1570. Wichtigstes Unterscheidungsmerkmal: Die 1571 hat einen doppelten Schreib/Lese-Kopf, mit dem auf beide Seiten der eingelegten Diskette zugegriffen werden kann. Sehr vorteilhaft ist uns die völlige thermische Entkopplungvon Mechanik, Netzteil und Elektronik aufgefallen. So dürften bei der 1541 die bekannten Überhitzungsprobleme, die zu verstellten Köpfen und defekten ICs führten, beseitigt sein. Einzige Minuspunkte der 1571 sind der zerbrechlich wirkende Knebelverschluß und der von schräg oben nur sehr schwer erkennbare Diskettenschacht.

## Das DOS

Die Commodore-Laufwerke waren schon immer »intelligent«, das heißt, sie haben ein eigenes Betriebssystem und beanspruchen praktisch keinen Speicherplatz im Computer. Das hat sich bei den beiden neuen Laufwerken nicht geändert. Sie haben das CommodoreDOS 3.0 eingebaut. DOS 3.0 unterscheidet sich von den DOS 2.X-Versionen (1541, SFD 1001, etc.) in mehreren Punkten. Es unterstützt neben den Commodore-GCR-For-maten auch CP/M-MFM-Formate, bietet den schnellen Busbetrieb und hat zu guter Letzt ein neues Kommando. Mit dem Kommando »U0« kann eine ganze Reihe von Funktionen gesteuert werden. Leider hat Commodore wieder die »Glanzleistung« vollbracht, das neue Kommando im deutschsprachigen Handbuch nur in einer kleinen Tabelle und dann auch noch unvoll-ständigzubeschreiben. InTabelle 1 können Sie alle Funktionen finden, die mit »U0« angesprochen werden können, und deren Bedeutung entweder aus dem englischen Handbuch entnommen beziehungsweise von unserem Floppyexperten Karsten Schramm herausgeknobelt wurde. Manche Funktionen sind noch nicht völlig geklärt, insbesondere die, die sich auf die MFM-Formate beziehen.

Bis auf das »UO«-Kommando ist das DOS mehr oder minder identisch mit dem der 1541 (DOS 2.6). Natürlich wurden noch einige kleinere Veränderungen vorgenommen, um das DOS an die höhere Speicherkapazität anzupassen.

## Die Formate

Die 1570/71-Laufwerke gehören zu den flexibelsten überhaupt, denn sie können viele verschiedene Formate lesen und schreiben. Dazu gehört zuerst einmal das Format der 1541. Jede von einer 1541 beschriebenen Diskette kann ganz normal weiterverwaltet werden. Die 1571 kennt sogar einen speziellen 1541-Modus, in dem sie fast identisch zur 1541 wird. Selbst das Formatieren läuft dann wieder ganz gemächlich ab. Dann gibt es natürlich das neue 1571-Format, das dem der 1541 weitgehend entspricht. Bei zweiseitiger Benutzung der Disketten werden BAM und Directory allerdings etwas anders organisiert. Und als letztes stehen mehrere MFM-For-mate zur Verfügung. MFM ist die Abkürzung für Modified Frequency Modulation (Modifizierte Frequenz Modulation) und steht für ein bestimmtes Aufzeichnungsverfahren einzelner Bits auf einer Diskette. MFM-Formate werden von vielen CP/M-Computern genutzt. Die 1570/71 ist in der Lage, MFM-Formate zu lesen und zu schreiben, allerdings nur blockorientiert. Das heißt, daß die notwendige Intelligenz zur Verwaltung von Files, Directories und ähnlichem wieder beim Computer liegt. Ein Schritt zurück also? Ja und doch wieder nein, da die CP/M-Formate so und so vom Computer aus verwaltet werden. Und das ist kein Einfall von Commodore, sondern schon seit Jahren bei allen CP/M-Computern gang und gäbe. Erst dadurch sind CP/M-Dis-ketten zwischen verschiedenen Computer-Systemen austauschbar. Dadurch, daß die 1571 verschiedene MFM-Formate bearbeiten kann, kann man von allen gängigen CP/M-Computern die Disketten verwenden, angefangen beim tragbaren Osborne und Kaypro bis hin zum IBM-PC oder PC 10. Die Diskette muß nur unter dem Betriebssystem CP/M (und zwar CP/M 86 bei MS-DOS-Computern!) angelegt worden sein, damit das Gespann C 128/ 1570/71 an die Daten herankommt.

Die bange Frage aller Auf- und Umsteiger vom C 64 auf den C 128 lautet: Ist das Laufwerk so konzipiert, daß meine 1541-Programme auch auf der 1571 laufen? Wie sieht es mit floppy-spezifischen Programmen wie Kopierprogrammen und Kopierschutzprogrammen aus? Die potentiellen Käufer der 1570/71 können relativ beruhigt sein. Commodore hat so viel wie möglich unternommen, um die Kompatibilität zu wahren. Die meisten Programme, die in das DOS eingreifen, funktionieren noch, angefangen bei Hypra-Load bis zum Turbo-Nibbler. Einige Programme laufen allerdings nicht, so zum Beispiel das Kopierprogramm Quickcopy. Probleme gab es außerdem mit so manchem neueren Kopierschutz. Denn gerade die neuen Schutzmechanismen verwenden sehr unübliche Befehlsfolgen, die bei den teilweise veränderten DOS-Routinen in der 1570/71 zum Absturz führen.

## Fazit

Für den ernsthaften C 128-Anwen-der ist der Kauf einer der beiden neuen Laufwerke gar keine Frage. Die Vorteile gegenüber der 1541 sind so stark, daß diese als billigere Alternative fast nicht in Frage kommt. Schneller Busbetrieb und die MFM-Formate ermöglichen erst ein vernünftiges Arbeiten insbesondere für CP/M-Benutzer. Die Frage bleibt, welches der beiden Laufwerke besser ist. Geht man mal vom Preis/Leistungs-Verhältnis der beiden aus, ist die 1571 sicherlich attraktiver. Denn für nur 200 Mark mehr (1570 zirka 798 Mark, 1571 zirka 998 Mark) erhält man doppelte Speicherkapazität und eine erheblich bessere Mechanik. Wer sich allerdings mit der 1570 zufriedengibt, ist auch nicht schlecht bedient. Ob es das 1570-Laufwerk aber auch noch nach dem Frühjahr 1986 geben wird, steht in den Sternen.

(bs)

# Gestatten: Wordstar [47-48]

> Professionelle Textverarbeitung unter CP/M — der C 128 macht's möglich.

Mit Wordstar steht dem C 128-Besitzer ein Textverarbeitungsprogramm aus dem Bereich der echten Personal Computer zur Verfügung. Um es vorweg zu sagen: Wordstar ist ganz sicher nicht die schnellste Textverarbeitung, die für einen Computer wie den C 128 denkbar ist, aber die Leistungsfähigkeit dieses professionellen Programms macht das Geschwindigkeitsmanko mehr als wieder wett.

Doch beginnen wir ganz von vorn: Wordstar für den C 128 wird auf zwei Disketten geliefert. Eine Diskette (Nummer 2) enthält das uninstallierte Wordstar, eine Art Rohversion, die mittels eines ebenfalls mitgelieferten speziellen »Install«-Programms an einen speziellen Computer angepaßt werden kann. Damit braucht man sich bei einem späteren Wechsel des Computers sein Textverarbeitungsprogramm nicht ein zweites Mal zu kaufen: Mit Hilfe des Install-Programms und des sehr ausführlichen Handbuches kann man Wordstar an jeden CP/M-fähigen Computer anpassen. Die zweite Diskette enthält Wordstar schon fix und fertig installiert und an den C 128 angepaßt — und das gleich in zwei Versionen: Das File WSCBM.COM ist eine zu Commodore-Druckern kompatible Wordstar-Version.

## Centronics-Schnittstelle eingebaut

Die zweite Wordstar-Version, WSPAR.COM, unterscheidet sich von der ersten dadurch, daß hier softwaremäßig eine Centronics-Schnittstelle über den User-Port realisiert wurde.

Wordstar ist nicht kopiergeschützt und gestattet dem Käufer das Anfertigen von Sicherheitskopien für den persönlichen Gebrauch.

Nach dem Laden meldet sich Wordstar mit einem übersichtlichen Startmenü. Da es die wichtigsten Befehle klar und eindeutig auflistet, erspart dieses Menü den Griff zum Handbuch.

So ist im Startmenü leicht der Befehl zum Dateieröffnen zu finden: Nur den Buchstaben »D« (wie »Datei«) eingeben. Nach Eingabe eines Namens kann man schon mit der Abfassung seines Textes beginnen.

Wenn der Name schon auf Diskette existiert, wird der entsprechende Text geladen.

Die obere Hälfte des Bildschirms enthält dabei das sogenannte »Haupt-Kommando-Menü«, das dem Benutzer ständig die wichtigsten Befehle präsentiert. Ein Untermenü von einer Zeile hält alle übrigen Wordstar-Funktionen bereit. Es gibt Funktionen zum zeichen-, wort,-zeilen- oder abschnittsweisen Weitergehen im Text, man kann wahlweise durch den Text »blättern« oder rollen, Zeichen, Worte oder Zeilen löschen. Auch Blockoperationen stehen zur Verfügung: Man kann beliebige Textabschnitte als Blöcke markieren, diese dann mit einfachen Befehlen löschen, kopieren, verschieben, speichern oder als Textbausteine definieren. Automatisches Suchen von Zeichenfolgen im gesamten Text oder auch nur in bestimmten Abschnitten ist sehr einfach möglich. Auch Suchen mit automatischem Ersetzen der gefundenen Zeichenfolge durch eine andere ist möglich; wahlweise mit oder ohne Rückfrage beim Benutzer.

Der einmal eingegebene Text kann durch nachträgliche Formatierung in eine beliebige äußere Form gebracht werden. Die eingebaute, abschaltbare »Trennhilfe« veranlaßt bei langen Wörtern eine Unterbrechung eines eingeleiteten Formatiervorgangs und macht an entsprechender Stelle einen Trennvorschlag.

## Fußnoten — kein Problem

Spezielle »Punkt-Kommandos« steuern die Ausgabe des Textes in einem bestimmten Druckbild. Das ».FO«-Kommando bewirkt zum Beispiel, daß Sie eine Fußnote, die sonst mühsam unterhalb des Textblockes angefügt werden mußte, nun problemlos im Gesamttext mitschreiben können: Die Fußnote wird dennoch sauber ans Seitenende gesetzt. Andere Punktbefehle steuern Seitennumerierung, Hoch- und Tiefstellen von Zeichen und legen die Randbegrenzungen für den Ausdruck fest. Außerdem können Kopfzeilen definiert werden, die zu Anfang jeder neuen Seite immer wieder gedruckt werden.

Eine weitere sehr interessante Anwendung ist die Definition von »Textvariablen«, die erst beim Ausdruck durch entsprechende Daten — zum Beispiel aus einer Adreßdatei — ersetzt werden.

Auf diesem Grundgedanken basiert nun ein ganzes Programm, nämlich »Mailmerge«, das einen wesentlichen Teil der in einem Büro anfallenden Schreibarbeiten erspart. Mailmerge erlaubt es, auf einfache Weise auf Adreßdateien oder Textbaustein-Dateien zuzugreifen und erweitert somit die Anwendungsgebiete von Wordstar ganz enorm. Der Wordstar-Besitzer kann diese Funktionen von Anfang an in Anspruch nehmen: Mailmerge befindet sich ganz einfach auf der Wordstar-Dis-kette und ist im Handbuch ausführlich dokumentiert.

## Fazit

Wordstar ist ganz ohne Zweifel eines der leistungsfähigsten Textverarbeitungs-Programme, die je für einen Heimcomputer zu haben waren. Fähigkeiten wie die automatische Verwaltung von Fußnoten oder das Verarbeiten von Textbausteinen heben das Programm über das Niveau so mancher anderen Textverarbeitung hinaus. Das sehr umfangreiche Handbuch beantwortet alle Fragen, die im Zusammenhang mit der Benutzung oder der Installation von Wordstar auftreten können. Einziger Schwachpunkt ist die doch relativ langsame Textausgabe auf dem Bildschirm, die aber in erster Linie vom sehr umständlich geschriebenen Commodore-BIOS für das CP/M-System abhängt.

Ein großer Vorteil von Wordstar liegt aber in der weitgehenden Unabhängigkeit von einem bestimmten Computersystem. Ein und dasselbe Programm, einmal gekauft, bleibt auch bei Anschaffung eines neuen Computers noch aktuell — sofern der Computer CP/M-fähig ist. Und selbst beim »Aufstieg« in die Höhen der 16-Bit-Welt der IBM-kompatiblen Computer können wenigstens die alten Texte und Dateien weiterverwendet werden. Die 199 Mark für dieses Textprogramm sind also auch langfristig gesehen gut angelegt — Wordstar kann eine Anschaffung fürs Leben sein.

(Eva-Maria Hierlmeier/ev)

Info: Wordstar ist ein eingetragenes Warenzeichen von MicroPro International, USA. Vertrieb in Deutschland: Markt & Technik Verlag, Hans-Pinsel-Str. 2, 8013 Haar bei München. Wordstar 3.0 für den C 128 kostet 199 Mark

# dBase II — die professionelle Datenbank [48-49]

> Vergessen Sie alle Dateiverwaltungs-Programme für den C 64/C 128, die Sie bis jetzt kennen: Hier ist ein echtes Datenbanksystem mit eigener Proarammiersprache zu einem unverschämt günstigen Preis.

Bis vor kurzer Zeit gab es noch eine strikte Trennung zwischen Heimcomputern für Spiel und Unterhaltung und den Personal Computern (PC) für professionelle Anwendungen im geschäftlichen Bereich. Der Commodore 128 und die Schneider-Computer haben diese Grenzziehung aufgeweicht: PC-Software, entwickelt für den professionellen Anwender, steht jetzt auch für den Heimbereich zur Verfügung. Oder andersherum gesehen: Professionelle Anwendungen sind jetzt auch mit den neuen Heimcomputern der 128 KByte-Klasse möglich geworden — und das zu einem Preis, der für PC-Verhältnisse direkt anstößig niedrig ist: Für je 199 Mark erhält der C 128-Besitzer mit Wordstar, dBase II und Multiplan drei für den PC-Bereich entwickelte Programme, die mit praktisch gleicher Ausstattung und Leistung für einen PC gleich das Vielfache kosten.

## Das leistet eine Datenbank

Die Aufgabe einer Datenbank ist es, Informationen in geordneter Form zu verwalten und für den Benutzer bereitzustellen. Bei echten Datenbanken erschöpft sich das Bereitstellen von Daten nicht in der (bescheidenen) Fähigkeit, nach bestimmten Begriffen suchen zu können und einen Datensatz als Text auszugeben. Es sind vielmehr sehr komplexe Verknüpfungen einzelner Daten ebenso möglich, wie die Anwendung bestimmter Funktionen auf beliebig große Teile einer Datenbank in einem logischen Arbeitsschritt.

Diese kurze und sicherlich nicht ganz vollständige Beschreibung zeigt schon auf, daß etwa ein menügesteuertes Programm, bei dem der Anwender nur unter ganz bestimmten, vorgegebenen Funktionen wählen kann, niemals die Leistung einer Datenbank erreichen kann.

Dementsprechend ist dBase II in Form einer eigenen Programmiersprache erstellt worden.

## So arbeitet man mit dBase II

Über einfache Befehle können sehr komplexe Datenstrukturen festgelegt werden. Es ist beispielsweise möglich, zwei verschiedene Tabellen zu einer einzigen neuen zu verbinden, oder einen Datenbestand nach neuen Gesichtspunkten zu reorganisieren. Sie brauchen aber keine Angst vor komplizierter Programmierung zu haben. Einfache Anwendungen, wie beispielsweise eine Adreßverwaltung oder eine Schallplattendatei, sind für dBase Il-Verhältnisse so primitiv, daß eine besondere Programmierung gar nicht nötig ist.

dBase unterstützt den Benutzer nämlich, indem es alle relevanten Daten im Dialog abfragt. Betrachten wir als Beispiel das Anlegen einer Adreßverwaltung mit Datenfeldern für Name, Vorname, Straße, Wohnort. Es könnte sich folgender Dialog ergeben (Eingaben des Anwenders in Kleinschrift):

TODO FIGURE

create
BITTE DATEINAMEN EINGEBEN: adress
SATZSTRUKTUR FOLGENDERMASSEN EINGEBEN:
FELD NAME, TYP, LAENGE, DEZIMALSTELLEN
001	name, c,	20
002	vorname,	c,	15
003	strasse,	c,	25
004	wohnort,	c,	25
005
DATEN JETZT EINGEBEN?
j

Hat man die letzte Frage mit »j« beantwortet, dann erscheint die Meldung »SATZNUMMER 00001« und darunter eine Eingabemaske mit den vier Feldern für Name, Vorname, Straße und Wohnort. Alle Felder wurden als nichtnumerisch (»c« wie »Character«) definiert. Die Länge der einzelnen Eingabefelder ist durch die Längenangabe bei der Satzstruktur vorgegeben.

Man kann jetzt Datensatz um Datensatz eingeben; es ist aber auch möglich, Datensätze oder Teile davon aus anderen, bereits bestehenden Dateien zu übernehmen.

Um die spätere Suche nach bestimmten Einträgen zu beschleunigen, könnenbeliebigviele Datenfelder indiziert werden (Befehl »INDEX ON...«).

Selbstverständlich können Daten verändert oder neu hinzugefügt werden und das nicht nur direkt »per Hand«, sondern es können andere Dateien herangezogen werden, um automatisch Daten zu ändern, zu löschen, anzufügen, zu mischen oder zu sortieren. Sofern numerische Datenfelder vorgesehen sind, können auch Rechenoperationen angewendet werden. Mit einem dBase-Kommando ist es beispielsweise möglich, irgendwelche in einer Datei festgehaltenen Kosten zusammenzuzählen, die Ergebnisse in anderen Datenfeldern festzuhalten oder auszugeben.

Ein besonders benutzerfreundliches Feature von dBase II ist der eingebaute Report-Generator. Möchte man gerne eine Übersicht über irgendwelche Datenbestände, entweder allgemein oder nach bestimmten Gesichtspunkten, dann kann man im Dialog mit dBase, ohne Programmierkenntnisse, ein Report-Programm erstellen, das gespeichert werden kann und bei jedem Aufruf eine aktuelle Übersicht über den Datenbestand ausgibt.

Doch damit sind die Möglichkeiten von dBase II noch lange nicht erschöpft. Wer etwas von Programmierung versteht, kann sich sehr leistungsfähige Datenbanksysteme mit eigenem Bildschirmlayout und eigener Benutzerführung selbst zusammenstellen. dBase II enthält nämlich neben sehr leistungsfähigen Datenbankbefehlen auch alle wichtigen Elemente höherer Programmiersprachen: IF-THEN-ELSE-Abfragen, DO-WHILE-Schleifen, Rechenope-rationenund die Möglichkeit, Benutzereingaben in Variablen abzulegen und weiterzuverwenden. Insgesamt kennt dBase über hundert Befehle, Funktionen und Operatoren und ist damit ein leistungsfähiges System für eigene Entwicklungen. Andererseits werden alle wichtigen Funktionen über Dialoge mit dem Benutzer ausgeführt, so daß dBase II nicht unbedingt Programmierkenntnisse voraussetzt. Und sollte man wirklich einmal nicht mehr weiterwissen, dann hilft entweder die eingebaute HELP-Funktion oder das sehr ausführliche Handbuch weiter.

## Power auf Dauer

Insgesamt ist dBase II also ein sehr leistungsfähiges System, bei dem es kaum denkbar erscheint, daß der Anwender jemals an irgendwelche Leistungsgrenzen stößt. Wenn es Grenzen gibt, dann sind es nur die durch das verwendete Computersystem gesetzten. Und auch hier liegt ein wichtiges Plus für dBase II: Falls man sich doch irgendeines schönen Tages für einen größeren Computer entschließt, war die Investition von 199 Mark nicht verloren: Handelt es sich um einen CP/M-Computer, dann kann man dBase II ganz einfach weiterverwenden. Denn wie alle wirklich professionelle Software kommt auch dBase II ohne Kopierschutz aus. Dafür wird ein Installationsprogramm mitgeliefert, das es ermöglicht, dBase auf jeden beliebigen CP/M-Compu-ter zu übertragen. Aber auch beim Aufstieg in die 16-Bit-Klasse der echten Personal Computer können zumindest die Datenbestände weiterverwendet werden, sofern man sich dBase II in der Version für den 8086/ 8088-Prozessor unter MS-DOS besorgt. Viele Gründe also, die nicht nur für dBase II sprechen, sondern für CP/M überhaupt, sofern es um professionelle Software geht, die keine Eintagsfliege sein soll.

(ev)

Info: dBase II ist ein eingetragenes Warenzeichen von Ashton Tate, USA. Vertrieb in Deutschland: Markt & Technik Verlag AG, Hans-Pinsel-Str. 2, 8013 Haar bei München. dBase II für den C 128 kostet 199 Mark

# Aktuell [49]

## EPROM-King für C 128

Den seit einiger Zeit für den C 64 erhältlichen »EPROM-King« (Test Ausgabe 8/84) gibt es nun auch in einer Software-Version für denC 128. NebeneinerumfangreichenListe der programmierbaren Typen (2516 bis 2564, 2716 bis 27256, 27512 über Adapter, 2816, 9664A) zeichnet sich dieses Gerät durch seine sehr komfortable Software zur Bedienung aus. Darin enthalten ist unter anderem ein leistungsfähiger Maschinensprache-Monitor. Der EPROM-King ist ferner einer der wenigen, die spezielle ROM-Typen auslesen können: 2332, 4732, 2364, 4764, 23128, 47128, 23256, 47256.

Der Vorteil der C 128-Version liegt im größeren Programmspeicher, der auch die Programmierung von 32-KByte- und 64-KByte-EPROMs in einem Durchgang zuläßt.

Info: Ing. Büro H. Kalawski, Friedrich-Ebert-Str. 41,6108 Weiterstadt 1, Tel. 0 6150/25 41, Preis: 252 Mark

## Familien-Computercamp an der Adria

Von Juni bis September 1986 bietet »Freizeit Aktiv« EDV-Lehrgänge an. Der Veranstalter sieht die Lehrgänge für Selbständige aus Klein- und Mittelbetrieben vor, die den Urlaub mit der Familie zusammen verbringen und nebenbei ihre EDV- und Basic-Kenntnisse erweitern wollen.

Eine Ferienanlage in der Nähe von Venedig mit Hotel, Bungalows und Campingplatz, soll einen angenehmen Aufenthalt sichern. Die Kurse werden an den Commodore-Computern C 64, C 128 und PC 10 durchgeführt.

Die Lehrgänge dauern jeweils eine Woche. Der Grundkurs EDV-Einführung dauert 20 Stunden und kostet etwa 440 Mark. Der Aufbaulehrgang ist etwas kürzer: Die Kursdauer beträgt 16 Stunden. Gegeben wird eine Basic-Einführung. Die Kosten betragen etwa 240 Mark. Das Lehrangebot soll von Ba-sic-Grundlagen bis zu kommerzieller Anwendungsprogrammierung reichen. (cg)

## Info: Freizeit aktiv, Postfach 4243, 6300 Darmstadt, Tel. (0 62 51) 7 63 38

## Grafik-Probleme auf dem C 128

Anrufe von überraschten Lesern trafen in den letzten Tagen in unserer Redaktion ein: »Euer Programm für die 80-Zeichen-Grafik (Ausgabe 12/85, Seite 78) funktioniert nicht auf meinem C 128!«. Wird die hochauflösende Grafik eingeschaltet, sieht man auf dem rechten Rand ein »Kräuseln« oder Rauschen, das sich durch keine Maßnahme beseitigen läßt. Dieses Kräuseln ist allerdings nicht programmabhängig: andere Programme, die die hochauflösende Grafik im 80-Zeichen-Modus nutzen, bringen ebenfalls diese Störung am rechten Rand auf den Schirm. Allerdings sieht man das Kräuseln nicht auf allen C 128-Geräten.

In unserer Redaktion befinden sich sowohl Geräte mit, als auch welche ohne diesen Fehler. Über die Ursachen des Kräuselns kann nur spekuliert werden, selbst Commodore kann noch keine genaue Erklärung geben. Das abgedruckte Programm ist, um es noch einmal zu betonen, fehlerfrei.

(bs/ev)

# Ascompiler 64 [50,58-64]

> Ascompiler 64 ist ein sehr schneller Compiler. Es ist das ideale Werkzeug für alle C 64-Besitzer, denen Basic zu langsam und Maschinensprache zu kompliziert ist.

Die Bezeichnung für diesen Compiler ist eine Wortbildung aus Assembler und Compiler. Ascompiler 64 ist keiner der bekannten Compiler, mit dem Sie Ihre Basic-Programme praktisch unverändert übersetzen können und dadurch etwa die dreifache Geschwindigkeit erreichen. Nein, der Ascompiler 64 ist gleichzeitig mehr und weniger: Er übersetzt nur einen sehr stark eingeschränkten Basic-Be-fehlssatz mit recht vielen Restriktionen, aber er übersetzt dafür in einen derart effizienten Code, daß praktisch kaum noch ein Unterschied zu Assembler besteht. Da Ascompiler 64 wirklich reinen Maschinencode erzeugt, ist er hervorragend dazu geeignet, zeitkritische Routinen zu compilieren, um sie dann in andere Basic-Programme einzusetzen. Ein kleines Beispiel soll die Leistungsfähigkeit dieses Compilers zeigen. Geben Sie doch einmal die folgenden Basic-Zeilen in Ihren Computer ein:

TODO PRE

10 let a=0
20 let a=a+1
30 if a< 60000 then 20
40 print"fertig"

Schauen Sie jetzt auf Ihre Uhr und tippen Sie »RUN«. Es passiert zunächst sehr lange Zeit gar nichts ... die Minuten ziehen sich dahin ... dann endlich, nach ungefähr elf Minuten kommt die Meldung »Fertig«.

Was schätzen Sie, wie lange braucht das gleiche Programm nach der (blitzschnellen) Übersetzung? Eine Minute, eine halbe Minute, etwa nur 10 Sekunden? Weit gefehlt, dieses Programm läuft in com-pilierter Form in knapp drei Sekunden ab! Das bedeutet eine Geschwindigkeitserhöhung um den Faktor 200, vergleichbar mit der Programmierung in Assembler.

Diese auch für einen Compiler enorme Geschwindigkeit konnte nur durch eine sehr stark optimierende Übersetzung erreicht werden. Der Compiler kennt daher leider recht viele Einschränkungen: Als Variable sind nur »A« bis »Z« erlaubt, sämtliche Rechenoperationen sind in 16-Bit-Arithmetik ausgeführt, Fließkommarechnungen und mathematische Funktionen wie SIN, COS, SQR etc. sind unmöglich. Weiter können Operationen nicht geschachtelt werden, Klammerrechnung ist nicht möglich.

Folgende Basic-Befehle können bearbeitet werden: REM, CLR, END, GOTO, GOSUB, RETURN, SYS, LET (muß verwendet werden!), PRINT, POKE, PEEK, IF...THEN und STOP.

Ascompiler 64 ist nicht zur Übersetzung normaler Basic-Programme geeignet. Vielmehr ist Ascompiler 64 der ideale Ersatz zur Programmierung in Maschinensprache. Die übersetzten Programme können in beliebige Speicherbereiche gelegt und mit SYS aufgerufen werden. Insbesondere schnelle Spielprogramme lassen sich mit dem Ascompiler 64 sehr bequem schreiben.

Der Ascompiler 64 ist keine Eintagsfliege — wir werden laufend neue Programme, Tips & Tricks und Erweiterungen dafür vorstellen, sofern Sie, unsere Leser, uns bei diesem Projekt unterstützen.

Also frisch ans Werk! Tippen Sie den Ascompiler 64 ab und schreiben Sie anschließend die schnellsten Basic-Programme Ihres Lebens!

(ev)

TODO ASIDE

## Gesucht: Die besten Programme für den Ascompiler 64

Der Ascompiler 64 ist ideal für eine Vielzahl von zeitkritischen Anwendungen. Grafik, Dienstprogramme, vor allem aber auch komplette Action-Spiele sind seine Domäne. Hier ist die Chance für alle Basic-Program-mierer: Wir suchen die interessantesten Programme und Routinen, die mit dem Ascompiler 64 entwickelt wurden.

Eingeschickt werden kann jede Art von Programmen, egal ob kurz oder lang. Einzige Bedingung: Das Programm muß vollständig im Ascompiler-Format geschrieben sein, Mischprogramme aus normalem und compi-liertem Basic sind nicht erlaubt.

Damit es auch richtig interessant wird, erhalten die besten Einsendungen das Prädikat »64’er Top-Listing« und eine Top-Prämie von 300, 500 oder gar 1000 Mark, je nach Qualität und Länge. Alle Programme für den Ascompiler 64, die bis zum 1.2.1986 bei uns eingehen, nehmen an diesem Wettbewerb teil. Aber auch wenn Sie nicht unter den Gewinnern der Top-Prämie sein sollten, die Teilnahme lohnt sich trotzdem. Denn selbstverständlich hat jedes Ascompiler-Listing nicht nur die Chance, auch außerhalb des Wettbewerbs für ein vernünftiges Honorar abgedruckt zu werden, sondern nimmt automatisch auch an unserem Wettbewerb zum »Listing des Monats« teil.

Schicken Sie Ihre Programme auf Diskette oder Kassette (nur das Basic-Programm, compilieren tun wir’s selber) mit einer ausreichenden Beschreibung an:
Markt & Technik Verlag AG
Redaktion 64’er
Stichwort: Ascompiler-Wettbewerb
Hans-Pinsel-Str. 2
8013 Haar bei München

TODO ASIDE

## Der Autor des »Ascompiler 64« stellt sich vor:

Ich bin 18 Jahre alt und besuche zur Zeit die 12. Klasse des Gymnasiums Gernsheim.

Meine ersten Erfahrungen mit dem Computer machte ich im Informatikunterricht der Mittelstufe. Bald darauf kaufte ich mir einen VC 20, um später dann auf den C 64 umzusteigen.

Der Ascompiler 64 entstand aus der Idee heraus, Routinen, die in Assembler zu kompliziert und in Basic zu langsam sind, in einfachem Basic schreiben zu können, die Programme anschließend zu compilieren und die nun sehr viel schnelleren Programme in andere Basic-Pro-gramme einzubauen. Daher habe ich großen Wert darauf gelegt, daß der vom Compiler erzeugte Code extrem kurz und schnell ist, so daß der Ascompiler 64 ein ideales Hilfsmittel für den Basic-Programmierer darstellt, der sich nicht unbedingt mit Maschinensprache herumschlagen will.

(Stephan Bartosch)

> Ascompiler 64 ist ein kurzer und schnell arbeitender 3-Pass^Compiler, der ein vereinfachtes, sogenanntes »Tiny Basic« in reinen Maschinencode übersetzen kann. Dadurch lassen sich zeitkritische Routinen in Basic-Pro-grammen, ohne Kenntnis von Assembler, erheblich beschleunigen.

Aus einem Quellprogramm, das unter Beachtung des eingeschränkten Befehlssatzes und der teilweise vereinfachten Befehlssyntax geschrieben ist, wird in Sekundenschnelle ein sehr effizienter Maschinencode erzeugt. Die Länge des erzeugten Codes entspricht in der Regel ungefähr der Länge des ursprünglichen Basic-Programms. Die Startadresse des Maschinenprogramms istfrei wählbar, die Ausführungsgeschwindigkeit liegtje nach konkretem Programm bis zu 200mal höher als beim Basic-Text. Im Durchschnitt laufen die mit dem Ascompiler 64 übersetzten Programme etwa 50- bis 120mal so schnell wie im normalen Basic. Dafür muß allerdings ein beschränkter Befehlssatz in Kauf genommen werden.

Der Ascompiler 64 belegt im Speicher den Bereich von $C000 bis $D000 und $E000 bis $F000; dazu kommen noch die Bereiche $A000 bis $B000 und $F000 bis $FFFF für Tabellen, die während des Compilierens angelegt werden. Die Compilierung eines Programms erfolgt direkt im Speicher und ist daher sehr schnell. Während Übersetzungszeiten von mehreren Stunden bei »großen« Basic-Compilern für den C 64 nicht ungewöhnlich sind, erfolgt die Übersetzung beim Ascompiler 64 bei kleineren Programmen (bis zu hundert Zeilen etwa) ohne merklichen Zeitverlust, bei längeren Programmen können es dann schon ein paar Sekunden werden.

Ein besonderer Vorteil dieses Compilers liegt in der Tatsache, daß die erzeugten Programme ganz einfach mit SYS aufgerufen werden können und nicht an bestimmte Speicheradressen gebunden sind. Es ist sogar möglich, bereits übersetzte Programmteile von einem weiteren Tiny-Basic-Pro-gramm aus per SYS aufzurufen. Da die Adressen der 26 möglichen Variablen (»A« bis »Z«) im Speicher festliegen (A: 828/ 829, B: 830/831,...Z: 878/879), istessogar möglich, Para-metervon einem solchen Tiny-Basic-Programm an ein anderes zu übergeben.

Mit dem Ascompiler 64 ist es auch dem in der Maschinensprache nicht so bewanderten Basic-Programmierer endlich möglich, zeitkritische Unterroutinen ohne Problem schreiben zu können, um sie dann per SYS-Befehl vom eigentlichen Basic-Programm aus aufzurufen.

Wegen des Fehlens aller Fließkomma- und String-Operationen und wegen des insgesamt doch recht eingeschränkten Befehlssatzes ist der Ascompiler 64 nicht für größere Anwenderprogramme wie Dateiverwaltungen etc. gedacht. Ideale Anwendungen dürften Grafik-Unterroutinen für hochauflösende Grafik und natürlich Action-Spiele aller Art sein — kurz, alle Programme, die im Wesentlichen aus PEEKs und POKEs und SYS-Aufrufen bestehen, sind für die Übersetzung mit dem As-compiler 64 geradezu prädestiniert.

## Der Umgang mit dem Compiler

Zunächst muß der Compiler natürlich in den Computer, was bei der allerersten Eingabe entweder durch Laden von der 64’er Leserservice-Diskette (geringster Aufwand) oder durch Eintippen von Listing 1 mittels MSE-Programm (geringste Kosten) möglich ist. Haben Sie sich für die zweite Methode entschieden, dann lesen Sie bitte zunächst die Eingabehinweise auf Seite 54, ehe Sie sich an die Arbeit machen.

Die in Listing 1 abgedruckte Version des Ascompilers liegt nicht im Original-Adreßbereich, sondern ist mit einem Basic-Header und einer nach »RUN« automatisch anlaufenden Verschieberoutine versehen. Wenn Sie das gesamte Listing mittels MSE richtig abgetippt und gespeichert haben, können Sie den Ascompiler 64 ganz einfach mit »LOAD« wie ein normales Basic-Programm laden. Nach »LIST« erscheint die Header-Zeile »10 SYS 2077 ASCOMPILER 64«.

Initialisiert wird der Ascompiler 64 mit »RUN«. Lassen Sie sich nicht irritieren, wenn danach der Bildschirm gelöscht wird und die READY-Meldung kommt. Der Ascompiler 64 befindet sich jetzt an der richtigen Adresse im Speicher und kann jederzeit mittels »SYS 49152« aktiviert werden. Das allerdings sollten Sie nur tun, wenn Sie ein entsprechendes Tiny-Basic-Pro-gramm im Speicher stehen haben.

Als ersten Test könnten Sie eingeben:

TODO PRE

10 LET A=0
20 LET A=A+1
30 IF A< 60000 THEN 20
40 PRINT A

Lassen Sie dieses Programm einmal im normalen Basic laufen, um sich von der Richtigkeit zu überzeugen. Wenn Sie keine elf Minuten warten wollen, brechen Sie es einfach nach einer gewissen Zeit mit der STOP-Taste ab.

Rufen Sie jetzt den Compiler mit »SYS 49152« auf. Es er-scheinteine Einschalt-Meldung des Compilers und die Abfrage auf die Startadresse des Maschinenprogramms, die hexadezimal angegeben werden muß. Wird ein unzulässiger Speicherbereich angegeben (zulässig ist alles vom Ende des Basic-Programms bis zum Ende des Basic-Speichers), so wird »NO MEMORY« ausgegeben und der Compilationsvorgang abgebrochen. Wird keine Adresse angegeben, dann wird das erzeugte Programm direkt hinter das Basic-Quellpro-gramm compiliert.

Ascompiler 64 ist ein Drei-Pass-Compiler, das heißt der Compiler führt intern drei verschiedene Durchläufe aus: □ lm ersten Durchgang (Pass 1) wird der Basic-Quelltext Befehl für Befehl direkt in Maschinencode umgesetzt. Dabei werden Texte aus PRINT-Anweisungen zunächst in einer vom Compiler angelegten Tabelle abgespeichert, von wo aus sie später an das fertige Compilat (das übersetzte Programm) angehängt werden. Außerdem legt der Compiler während dieses ersten Durchlaufs eine Tabelle der Zeilennummern und dazugehörigen effektiven Adressen an.

- In Pass 2 werden die Sprungadressen (GOTO, GOSUB und IF...THEN) im erzeugten Maschinenprogramm angepaßt, wobei auf die in Pass 1 erzeugte Zeilennummern-Tabelle zurückgegriffen wird.
- Im dritten Durchgang schließlich wird die in Pass 1 erzeugte Tabelle der PRINT-Texte an das Ende des compilierten Programms verschoben und die entsprechenden Zeiger innerhalb des Programms angepaßt.

Die Anfangs- und Endadresse des so erzeugten kompakten Maschinenprogramms wird nun vom Compiler in hexadezimaler Form ausgegeben und es erfolgt automatisch eine Rückkehr ins Basic. Das compilierte Programm kann nun mit SYS (Anfangsadresse) gestartet werden oder auch mit Hilfe eines Maschinensprache-Monitors abgespeichert werden. Natürlich muß zum Aufruf mit SYS die hexadezimal angegebene Startadresse in dezimale Form umgerechnet werden. Empfehlenswert ist daher die Wahl von »runden« hexadezimalen Startadressen: $1OOO entspricht beispielsweise dezimal 4096 und ein Maschinenprogramm mit Startadresse $4000 kann mit »SYS 4*4096« gestartet werden. Zum Speichern ohne Monitor muß man zunächst die Anfangs- und die Endadresse in High- und Low-Byte aufteilen und diese dann als Dezimalwerte notieren. Mit der Befehlsfolge »POKE 43, (Start Low): POKE 44, (Start High) : POKE 45, (Ende Low) : POKE 46, (Ende High): SAVE ”Name”,8« kann das Maschinenprogramm auf Diskette gespeichert werden. Geladen wird es mit »LO-AD”Name”,8,1«. Datasettenbesitzer müssen die Geräteadresse 8 durch 1 ersetzen. Um weiter in Basic arbeiten zu können, muß der Befehl »NEW« sowohl nach dem Laden als auch nach dem Speichern gegeben werden, um die »verbogenen« Zero-page-Zeiger wieder zurechtzubiegen.

Ein zugegebenermaßen etwas umständliches Verfahren, aber das magere Commodore-Basic kann es nicht besser.

Eleganter geht es ohne Zweifel mit einem Maschinensprachemonitor, den aber wohl nicht jeder C 64-Besitzer zur Verfügung hat. In der nächsten Ausgabe bringen wir daher einen kleinen Mini-Monitor. Er ist natürlich in Tiny Basic geschrieben und mit dem Ascompiler 64 zu übersetzen. Damit wird es dann möglich sein, Maschinenprogramme mit einfachen Befehlen zu laden und zu speichern.

## Tiny Basic und Commodore Basic

Programme, die vom Ascompiler übersetzt werden sollen, unterliegen gegenüber dem gewohnten Basic des C 64 einer Reihe von Einschränkungen:

- Pro Zeile darf nur ein einziger Befehl benutzt werden
- Zulässige Befehle sind LET, REM, CLR, END, GOTO, GOSUB, RETURN, SYS, PRINT, POKE, IF...THEN, STOP
- Der LET-Befehl ist nicht optional, sondern muß bei jeder Wertzuweisung an eine Variable ausgeschrieben werden
- In einem LET-Befehl darf nur eine Rechenoperation vorkommen. Kettenrechnungen oder Klammern sind nicht möglich. Beispielsweise muß die Zeile »10 LET A=4*X+1« ersetzt werden durch »10 LET A=4*X« und »11 LET A=A+1«
- In allen anderen Befehlen dürfen keine Rechenoperationen vorkommen. Es sind nur Variable oder positive Zahlen erlaubt.
- Erlaubte Rechenoperationen sind »+«, »-«, »*«, »/«, »AND« und »OR«
- Erlaubte Variablennamen sind nur die Buchstaben »A« bis »Z«. Alle Variablen sind ganzzahlig (16 Bit)
- Als Funktionen sind nur PEEK und RND vorhanden. Bei der RND-Funktion muß als Argument immer 255 angegeben werden. Es werden Zufallszahlen zwischen 0 und 255 geliefert. Beide Funktionen dürfen nicht in Rechnungen vorkommen. Beispiel: In »10 LETR=PEEK(X) + 1«wird das »+1«vom Compiler ignoriert
- Hinter PRINT darf entweder ein Variablenname oder ein beliebiger Text in Anführungszeichen folgen. Rechnungen, Funktionen und Konstanten sind nicht zulässig
- In der IF-Anweisung sind die Vergleichsoperatoren »=«, » < « oder» > « zulässig. Der erste Vergleichsoperand muß eine Variable sein, die entweder mit einer anderen Variablen oder mit einem Zahlenwert verglichen werden kann
- Hinter THEN darf nur eine Zeilennummer folgen, weitere Befehle sind unzulässig
Der Ascompiler 64 kennt fünf Fehlermeldungen:
- NO-COMPILE ERROR: Ein Befehl konnte nicht übersetzt werden (tritt beispielsweise bei einem vergessenen LET auf) - SPRUNG NACH UNDEF. ZEILE: Ein GOTO oder GOSUB zeigt auf eine nicht vorhandene Zeilennummer
- UNZUL. VARIABLE: Es wurde eine unzulässige Variable verwendet (der Compiler faßt auch Funktionen wie SIN etc. als unzulässige Variablen auf)
- SYNTAX ERROR: Allgemeiner Fehler im Aufbau einer Zeile — NO-MEMORY ERROR: Der für Basic-Programme zulässige Speicherbereich wurde infolge einer falschen Speicherbereichsangabe überschritten.

Soviel zur Programmierung und Übersetzung von Tiny-Basic-Programmen für den Ascompiler 64.

Um Sie nach soviel Theorie noch ein bißchen auf den Geschmack am Ascompiler 64 zu bringen, zum Schluß noch ein paar Demo-Listings:

Listing 2 ist ein Beispiel für die Programmierung hochauflösender Grafik. Es handelt sich um einen einfachen Funktionenplotter für die hochauflösende Grafik. Die zu plottende Funktion wird in den Zeile 63000 bis 63020 definiert und in den für hochauflösende Grafik am C 64 zulässigen Wertebereich gebracht. Das Programm löscht zunächst das FarbRAM, anschließend der HiRes Bit-Map. Wenn Sie viel Zeit haben, können Sie das Programm ja mal im normalen Basic in un-compilierter Form laufen lassen. In compilierter Form braucht es jedenfalls nur wenige Augenblicke ...

Ein weiteres eindrucksvolles Beispiel für die Geschwindigkeit des erzeugten Compilats ist in Listing 3 abgedruckt. Es handelt sich um eine Routine, die genau abgestimmt dann die Bildschirmfarben wechselt, wenn der Elektronenstrahl eine bestimmte Stelle am Bildschirm erreicht hat. Der Effekt: Der Bildschirm erscheint horizontal in zwei Farben geteilt.

Listing 4 schließlich stellt drei beim Äscompiler leider nicht vorhandene wichtige Funktionen in Form von kurzen Unterprogrammen zur Verfügung:

- GET Z (Aufruf mit GOSUB 10): Speichert den ASCII-Code der gerade gedrückten Taste in der Variablen Z. Wurde keine Taste gedrückt, enthält Z den Wert Null. Die Routine arbeitet über eine Abfrage des Tastaturpuffers
- PRINT CHR$(Z) (Aufruf mit GOSUB 20): Gibt das ASCII-Zeichen, das dem Wert von Z entspricht, auf dem Bildschirm aus. Diese Routine arbeitet mit einem speziellen Trick: Der Befehl »POKE 2,Z« in Zeile 20 wird vom Compiler nämlich übersetzt in die Befehlsfolge »LDA Z, STA 2«. Der Akku enthält also nach diesem Befehl noch das Low-Byte von Z, das durch Aufruf der Kernel-Routine BSOUT auf den Bildschirm kommt.
- INPUT(Z) (Aufruf mit GOSUB 30): Liest eine ganze Zeile von der Tastatur und legt sie in einem reservierten Speicherbereich ab. Die Anfangsadresse der Zeile wird in der Variablen Z an das aufrufende Programm zurückgegeben. Das Ende der Zeile ist durch ein Null-Byte markiert.

Damit sind zugleich einige Beispiele gegeben, wie man durch geschickte Ausnutzung von geeigneten Systemadressen auch eigentlich nicht vorgesehene Fähigkeiten wie eine einigermaßen komfortable Tastaturabfrage erreichen kann.

Zugegeben, die Programmierung für den Ascompiler 64 ist gewöhnungsbedürftig und im Vergleich zum normalen Basic umständlich und wenig komfortabel. Im Vergleich zur Programmierung in Assembler, die von der erreichbaren Geschwindigkeit her die einzige Alternative wäre, ist der Ascompiler 64 jedoch der reinste Luxus. Es liegt nur noch an Ihnen, ob Sie die dadurch gegebenen Möglichkeiten nutzen wollen. Sie haben jetzt auf jeden Fall ein System an der Hand, mit dem schnelle Action-Spiele und andere ehedem typische Assembler-Anwendungen in Basic programmiert werden können.

(Stephan Bartosch/ev)

# Dateien im Griff: Datawork-Basic [52,54-58]

> Mit dieser Basic-Erweiterung wird die Programmierung von guten Dateiverwaltungen enorm erleichtert. Umfangreiche Befehle zur Datenein- und ausgabe, zur Stringverarbeitung und Floppyunterstützung erleichtern die Arbeit ebenso wie problemloses Hoch- und Runterscrollen eines Listings.

Es gibt inzwischen ein fast unüberschaubares Angebot von Basic-Erweiterungen. Diese haben meist den Nachteil, daß von den vielen eingebauten Befehlen nur die Hälfte im »Alltagsgebrauch« benötigt wird. Der Rest geht auf Kosten des Speicherplatzes.

Datawork-Basic wurde auf 22 sehr leistungsfähige Befehle beschränkt. Weiterhin verbraucht es keinerlei Basic-Speicher, da es im Bereich ab $C000 liegt. Besonderer Wert wurde auf einen neuen INPUT-Befehl gelegt: Der normale INPUT-Befehl hat gerade im Zusammenhang mit Dateiverwaltungen einige gravierende Nachteile. Die Cursor-Steuerung wird zum Beispiel nicht abgeschaltet. Dies kann zur Folge haben, daß bei Fehleingaben die gesamte Bildschirmmaske zerstört wird.

Auch läßt sich im Original-Basic des C 64 nicht festlegen, welche Zeichen in der aktuellen Eingabe erlaubt sind. Möchte man zum Beispiel ein Feld zur Namens- und Adressenspeicherung definieren, so sollten zur Eingabe auch nur Groß- und Kleinbuchstaben verwendet werden dürfen. Meistens wird dieses Problem mit sehr umfangreichen und umständlichen GET-Routinen gelöst. Der neue Befehl »FETCH« beseitigt alle genannten Schwierigkeiten und ist obendrein noch wesentlich schneller als eine GET-Ab-frage.

Als weiterer, echter Leckerbissen wurde in die Erweiterung eine Centronics-Schnittstelle implementiert. Drucker, die über eine solche Schnittstelle angesprochen werden (zum Beispiel die Epson-Drucker), lassen sich ohne den Kauf von teuren Interfaces ansteuern. Natürlich lassen sich auch weiterhin seriell betriebene Drucker (zum Beispiel die Commodore MPS-Reihe) verwenden. Umgeschaltet wird einfach durch die beiden neuen Befehle »CENTRONICS« und »SERIELL«.

Besonders beachtenswert ist auch der eingebaute »SWAP«-Befehl, der die gefürchtete, zeitintensive »Müllabfuhr« im Stringspeicher, die sogenannte »Garbage-Collection« verhindert, sowie die sehr schnelle Suchroutine, die ein dimensioniertes Feld nach beliebigen Zeichenketten durchsucht.

Eine OLD-Anweisung zur Rettung versehentlich gelöschter Programme, Befehle zur Bildschirmverwal-tungund einige Floppy-Kommandos (zum Beispiel Anzeigen des Inhaltsverzeichnisses ohne Programmverlust) runden Datawork-Basic ab.

(Klaus Strunk/tr)

## Lebenslauf

Ich bin am 1.6.1962 in Gelsenkirchen geboren und wohne seit 1972 in Bad Waldliesborn bei Lippstadt. SeitzweiJahren studiere ich Elektrotechnik in Aachen.

Meine Interessen betreffen fast alles, was mit Elektronik zu tun hat. Daneben höre ich sehr gerne Musik und lese alles mögliche.

Nach meinem Abitur 1982 wurde ich zur Bundeswehr eingezogen. Dort bin ich durch einen Freund auf den VC 20 gestoßen und war sofort von den »immensen Möglichkeiten« eines solchen Computers begeistert.

Kurze Zeit später kaufte ich mir selbst einen VC 20 und fing an, munter drauflos zu programmieren. Besonders hatten es mir die Dateiverwaltungen angetan. Nachdem mir Basic zu langsam wurde, fing ich an, kleinere Programme in Maschinensprache zu schreiben.

Als Ende 1983 der C 64 für einen günstigen Preis zu bekommen war, bin ich auf einen C 64 mit Diskettenlaufwerk umgestiegen. Nachdem ich im Laufe der Zeit auch in das Betriebssystem des Computers eingestiegen bin, entschloß ich mich, dem Basic etwas auf die Sprünge zu helfen. So entstand das Datawork-Basic.

(Klaus Strunk)


> Mit unserer Anwendung des Monats brauchen Sie nicht länger ein Spitzenprogrammierer zu sein, um gute Dateiverwaltungen selbst zu schreiben. 22 Befehle helfen Ihnen dabei.

Diese Basic-Erweiterung (siehe Listing) wurde in erster Linie entwickelt, um das Programmieren von Dateiprogrammen, besonders derer, die mit Bildschirmmasken arbeiten, zu erleichtern. Um für solche Programme einen möglichst großen Speicherplatz freizulassen, wurde die Erweiterung in den Bereich ab $C000 gelegt, sie belegt somit keinen Basic-Speicher (siehe auch Tabelle 1).

Das Programm arbeitet mit Hypra-Load zusammen. Es werden in der Zeropage einige Speicherstellen verwendet, die normalerweise für den Kassettenbetrieb vorgesehen sind (siehe auch Tabelle 2). Benutzer einer Datasette sollten deshalb ausprobieren, ob ein einwandfreier Betrieb möglich ist.

Das Betriebssystem wird ins RAM kopiert. Deshalb steht für Grafik oder andere Anwendungen das RAM unter dem ROM nicht zur Verfügung.

### Start des Programms:

1.	Mit Hypra-Load (beziehungsweise allgemein für den Fall, daß das Betriebssystem bereits ins RAM kopiert ist):
Zuerst Hypra-Load laden und mit »RUN« starten, dann die Basic-Erweiterung mit »LOAD ’’DATAWORK 1.1”,8,1« laden, und mit »SYS12*4096+6:NEW« ($C006) starten.
2.	Ohne Hypra-Load: Die Basic-Erweiterung wie oben laden und mit »SYS12*4096+3:NEW« ($C003) starten.
3.	Nach einem Reset: Mit »SYS12*4096« ($C000) starten. Ein Basic-Programm kann danach mitdem OLD-Befehl zurückgeholt werden.

## I.	Eingabebefehle

### FETCH

Format: FETCH ’’Vorgabestring”, ’’zulässige Zeichen’ Länge, Eingabevariable
Oder: FETCH ’’Numerische Vorgabe”, ’’zulässige Zeichen”, Länge, Eingabevariable

»FETCH« ist ein neuer INPUT-Befehl, der diesen vollständig ersetzen kann. Mit »FETCH« wird ein Eingabefeld bestimmter Länge erzeugt, in dem man sich mit den Cursor-Tasten frei bewegen kann. Die Tasten INST und DEL haben ihre normale Bedeutung. Mit der CLR-Taste wird das Eingabefeld gelöscht. Der String oder der numerische Wert »Vorgabe« wird in das Feld geschrieben und kann dann bearbeitet werden. Für »Vorgabe« sind direkte Angaben und Variablejeder Art erlaubt. Der String »zulässige Zeichen« enthält alle Zeichen, die bei der Eingabe erlaubt sein sollen, andere Zeichen werden dann nicht angenommen. Für ganze Zeichengruppen stehen als Abkürzung zur Verfügung:
CRTL-K : Alle Kleinbuchstaben
CRTL-G : Alle Großbuchstaben
CRTL-N : Ziffern von 0 bis 9
CRTL-Z : Alle Zeichen, außer Grafikzeichen und »?« beziehungsweise »*« wegen deren besonderer Bedeutung.

Der Wert »Länge« gibt die Länge des Eingabefeldes an. In der Eingabevariablen wird die Eingabe abgelegt. Es sind sowohl Stringvariable, als auch numerische Variable zulässig. Bei numerischen Variablen wird ein Zahlenwert gemäß dem Basic-Befehl VAL(X$) übergeben. Für den Fall, daß die Eingabe nur Buchstaben enthält, wird also der Wert 0 übergeben. Beispiel: FETCH ’’Mueller”, ",[CTRL-K,CTRL-G,CTRL-Z],20,AB$ löscht ein 20 Zeichen langes Eingabefeld und schreibt den Text Mueller hinein. Dann erscheint der Cursor im Feld und der Text kann geändert oder ergänzt werden. Nach RETURN wird die Eingabe an die Variable AB$ übergeben.
— FETCH ” ”, ”12345”,2,A — erzeugt ein leeres, zwei Zeichen langes Eingabefeld, in dem nur die Tasten 1 bis 5 gedrückt werden können.

### TAKE

Format: TAKE kz, ’zulässige Zeichen”, Eingabevariable DerTAKE-Befehl wartetauf eine gedrückte Taste und übergibt sie an die Eingabevariable, ähnlich wie eine GET-Schleife. Bei >TAKE 0,...« wird kein Cursor sichtbar, bei »TAKE 1,...« blinkt der Cursor und die gedrückte Taste wird auf den Bildschirm geschrieben.

Für »zulässige Zeichen« und »Eingabevariable« gilt Gleiches wie bei »FETCH«.

### INPUT *

Format: INPUT*Filenummer, Eingabevariable,...
Die Syntax dieses Befehls ist ähnlich wie bei »INPUT #«. »INPUT * «liestjedoch alle Zeichen bis zum nächsten »CHR$(13)« aus einem File. Es können also führende Leerzeichen, Kommata und Doppelpunkte eingelesen werden. »INPUT*« kann maximal 256 Zeichen lesen. Für »Eingabevariable« gilt das gleiche wie bei »FETCH«. Es können beliebig viele Variable angehängt werden.

### SETIN

Format: SETIN lfn, Länge, Variable,...
»SETIN« dient dazu, einen Datensatz aus einer Datei zu lesen und ihn gleichzeitig in seine Datenfelderzu zerlegen. »Ifn« gibt die logische Filenummer an. Es werden so viele Zeichen aus der Datei gelesen, wie »Länge« angibt. Diese werden dann in die Variable übertragen. Leerzeichen am Ende der einzelnen Datenfelder werden zwar eingelesen, jedoch nicht an die Variablen übergeben. Es können beliebig viele Parameter, bestehend aus Länge und Variable, folgen.

Analog zu »SETIN« gibt es den Befehl »SETOUT« zur Ausgabe eines Datensatzes (siehe weiter unten).

## II.	Ausgabebefehle

### PRINTAT

Format: PRINTAT sp,ze, Ausgabeliste

»sp« und »ze« geben Zeile und Spalte an, in die der Cursor vor der Ausgabe positioniert wird. Die »Ausgabeliste« wird genau wie beim normalen PRINT-Befehl angehängt.

### FIELD

Format: FIELD sp,ze, Länge, Zeichen, Farbe, Ausgabeliste

Der FIELD-Befehl positioniert den Cursor an die Stelle »sp« und »ze«, dann wird ein Ausgabefeld der angegebenen Länge mit dem angegebenen Zeichen in angegebener Farbe gefüllt. Danach wird in dieses Feld die Ausgabeliste wie beim PRINT-Befehl ausgegeben. Für »Zeichen« wird der Bildschirmcode (0 bis 255) angegeben. Für »Farbe« sind die Werte 0 bis 15 gültig.

Zum Beispiel: FIELD 10,15,20,32,5,’Text” — löscht ein Ausgabefeld ab Spalte 10, Zeile 15 der Länge 20 und schreibt in grüner Farbe >Text«in das Feld. — FIELD 0,0,40,160,5,”[RVS ON] Überschrift” — läßt in der obersten Zeile einen inversen Balken mit dem Text »Überschrift« erscheinen. Dieser Befehl läßt sich besonders gut für Bildschirmmasken verwenden.

### SETOUT

Format: SETOUT lfn, Länge, String,...

»SETOUT« dient dazu, Datensätze in eine Datei zu übertragen, zum Beispiel bei relativen Dateien. »Ifn« gibt die logische Filenummer der Datei an. »Länge« gibt die Anzahl der Zeichen an, die übertragen werden. »String« ist eine auszugebende Stringvariable. Ist der String kürzer als »Länge«, so wird er mit Leerzeichen aufgefüllt. Im umgekehrten Fall wird ein »STRING TOO LONG ERROR« ausgegeben. Es können beliebig viele Parameter, bestehend aus Länge und String folgen.

Durch diesen Befehl spart man sich das umständliche Formatieren eines Datensatzes aus seinen einzelnen Feldern.

## III.	Diskettenbefehle

### DIR
Format: DIR KZ, ”$”, Zeilen

Mit dem DIR-Befehl wird ein Inhaltsverzeichnis der Diskette auf dem Bildschirm ausgegeben.

Wird für »KZ« der Wert 0 angegeben, wird ein einspaltiges Inhaltsverzeichnis ausgegeben, mit dem Wert 1 ein zweispaltiges. Für den String sind Angaben wie beim Laden des Inhaltsverzeichnisses mit dem LOAD-Befehl möglich.
Zum Beispiel: ”$” , ”$:*=SEQ” und so weiter

»Zeilen« gibt an, wieviele Zeilen zunächst auf dem Bildschirm ausgegeben werden sollen. Danach stoppt die Ausgabe und kann durch Drücken einer beliebigen Taste zeilenweise fortgesetzt werden. Mit der STOP-Taste kann die Ausgabe vorzeitig abgebrochen werden.

### CAT

Format: CAT
»CAT« gibt wie »DIR 0,...« ein Inhaltsverzeichnis der Diskette aus, es sind jedoch keine Parameter erforderlich.

### DISK

Format: DISK ’String”
Mit dem Disk-Befehl wird ein Befehlsstring an den Befehlskanal des Diskettenlaufwerks übergeberi.

### ERROR

Format: ERROR (numerische Variable, Stringvariable)
Mit dem ERROR-Befehl wird der Fehlerkanal des Diskettenlaufwerks ausgelesen. Die Fehlernummer wird in die numerische Variable, der komplette Fehlerstring in die Stringvariable übergeben.

### ERR

Format: ERR
»ERR« gibt den Fehlerkanal des Diskettenlaufwerks direkt auf den Bildschirm aus.

## IV.	Stringbefehle

### SWAP

Format: SWAP String1, String2,...
Mit dem SWAP-Befehl werden die Inhalte der beiden Strings ausgetauscht. Es können weitere Parameter, bestehend aus jeweils zwei zu tauschenden Strings, folgen.

Mit diesem Befehl ist es möglich, die gefürchtete »Garbage Collection« bei umfangreicher Stringverarbeitung, zum Beispiel beim Sortieren, zu vermeiden.

### PLACE

Format: PLACE (String1, String2, numerische Variable)
Der PLACE-Befehl stellt fest, ob »Stringl« irgendwie in »String2« enthalten ist. Ist er nicht enthalten, so wird an die »numerische Variable« der Wert 0, sonst die Position, ab der »Stringl« in »String2« enthalten ist, übergeben.

### STRCOMP

Format: STRCOMP »Wert«
Mit dem STRCOMP-Befehl wird der normale Stringvergleich in Programmen beeinflußt.

Für »Wert« können eingesetzt werden:

TODO TABLE

1:	Großbuchstaben werden Kleinbuchstaben gleichgesetzt. Zum Beispiel: ”a” = ”A” ist dann wahr.
64:	Das Vergleichen von Strings mit einem Stern als Abkürzung ist dann möglich. Zum Beispiel: ”dis*” = ’’diskette” ist dann wahr.
128 : Das Vergleichen mit einem Fragezeichen als Joker ist möglich. Zum Beispiel: ”m??er” = "meier” ist wahr. ”m??er” = "mayer” ist auch wahr.

Die Werte können auch addiert werden, um mehrere Funktionen zu nutzen. Zum Beispiel: »STRCOMP 128+64+1« schaltet alle genannten Funktionen ein. Mit »STRCOMP 0« wird der normale Stringvergleich wiederhergestellt.

### SEARCH

Format: SEARCH (A$,B$(0,0),P,Q,X%,Y%)
Der SEARCH-Befehl aktiviert die lntellisearch-Routine, die in der 64’er-Ausgabe 3/85 genau beschrieben wird. Man sollte dort auf jeden Fall nachlesen, da die Möglichkeiten der Routine sehr umfangreich sind. Kurze Erklärung:

TODO TABLE

A$:	Der zu suchende String
B$(0,0): Das zu durchsuchende Array. Laufvariable ist immer nur die 1. Dimension des Arrays. Startwert nach Wahl, zum Beispiel auch B$(20,2).
P:	Anzahl der zu durchsuchenden Strings
Q:	Startposition der Suche im String
X%:	Rückgabe der Nummer des Strings, wenn gefunden, sonst —1.
Y%:	Rückgabe der Position im String. Wenn nicht gefunden: unverändert.

Zusammenarbeit mit »STRCOMP«: Die lntellisearchroutine hat einen eigenen Programmteil zum Stringvergleich, deshalb ist das Suchen mit»?« und »*« unabhängig von der Einstellung durch »STRCOMP« möglich. Das Gleichsetzen oder Unterscheiden von Groß- und Kleinbuchstaben kann jedoch durch den STRCOMP-Befehl eingestellt werden.

## V.	Druckersteuerung

### CENTRONICS

Format: CENTRONICS (numerische Variable)
Der CENTRONICS-Befehl aktiviert eine Software-Schnittstelle, die über den User-Port mit der Geräteadresse 4 direkt einen Centronics-Drucker anspricht. Es erfolgt eine Commo-dore-ASCII-Codewandlung, die für den normalen Textbetrieb notwendig ist. Sollte diese Umwandlung einmal unerwünscht sein, so kann sie durch »POKE12*4096+9,255« ($C009) abgeschaltet und durch »POKE12*4096+9,0« wieder eingeschaltet werden. Bei der Initialisierung wird getestet, ob der Drucker ansprechbar, das heißt eingeschaltet und »Online« ist. Ist dies der Fall, so wird in die numerische Variable der Wert 0, andernfalls der Wert 255 übergeben.

### SERIELL

Format: SERIELL
Der SERIELL-Befehl leitet die Druckausgabe wieder über den seriellen Bus.

## VI.	Verschiedene Befehle

### FILL

Format: FILL sp1,ze1,sp2,ze2, Code, Farbe
Der FILL-Befehl füllt einen Bildschirmbereich mit einem Zeichen bestimmter Farbe. »sp1« und »ze1« geben Spalte und Zeile der linken oberen Ecke des Bereichs an. »sp2« und »ze2« geben Spalte und Zeile der rechten unteren Ecke an. Für »Code« wird der Bildschirmcode (0 bis 255) des gewählten Zeichens angegeben. Für »Farbe« gelten die Werte 0 bis 15.

### TRAP

Format: TRAP KZ
Mit »TRAP 0« wird die Stoptaste abgeschaltet, mit >TRAP 1« wird sie eingeschaltet. Die Stoptaste kann, wenn sie abgeschaltet ist, mit »GET« oder »FAKE« abgefragt werden.

### OLD

Format: OLD
Der OLD-Befehl rettet ein Basic-Programm nach einem »NEW« oder einem Reset, solange der Basic-Speicher nicht weiter verändert worden ist.

### SCROLL

Format: SCROLL erste Zeile, letzte Zeile
Der SCROLL-Befehl dient dazu, den Zeilenbereich für das normale Bildschirmscrollen einzuschränken. Er ist jedoch nur mit äußerster Vorsicht zu verwenden, da er leicht zu einem Absturz des Computers führen kann. Der Befehl dient eigentlich nur dazu, zum Beispiel bei der Ausgabe eines Directorys, auf dem Bildschirm eine Überschrift am oberen Bildrand oder einen Text am unteren Rand zu erhalten. Er sollte sofort nach der Ausgabe mit »SCROLL 0,24« rückgängig gemacht werden.

Es ist zu beachten, daß sich der Cursor auf jeden Fall innerhalb des Zeilenbereichs befindet, und daß die ausgegebenen Zeilen nicht länger als 39 Zeichen sind. Dann kann eigentlich nichts schiefgehen.

## VII.	Verschiedenes

Die Geräte-Adresse für den LOAD-Befehl ist nicht mehr auf 1, sondern auf 8 voreingestellt. Sie braucht deshalb beim Laden und Speichern nicht unbedingt angegeben werden.

Das Editieren von Programmen wird durch eine komfortable Listroutine erleichtert. Das Listing kann mit den Cursortasten über den Bildschirm hinauf- und hinuntergescrollt werden.

Die Funktion ASC(” ”) liefert den Wert 0 und nicht wie bisher einen »ILLEGAL QUANTITY ERROR«.

Der Tastatur-Repeat ist für alle Tasten voreingestellt. Er kann durch POKE650,0 rückgängig gemacht werden.

(Klaus Strunk/tr)

## VIII.	Verschieben des Programms

TODO TABLE

Das Verschieben des Programms in einen anderen Speicherbereich (hier $9000 bis $9C00) soll am Beispiel des SMON beschrieben werden.

1. Verschieben nach 9000
W C000 D000 9000
2. Programmteile anpassen
V C000 D000 9000 9000 9009
V C000 D000 9000 906C 9E8A
V C000 D000 9000 9F00 9F5B
3. Anpassen der Zeiger
Zeigertabelle anzeigen: M 9024 9052
Alle Zeiger, die sich auf C... beziehen, in 9... ändern. Zeigertabelle 9066 bis 906B anzeigen: M 9066 906B Alle Zeiger, die sich auf C... beziehen, in 9... ändern.
Einzelne Zeiger im Programm:
D 91E5 91E6
D 92C4 92C5
D 93D9 93DA
D 9C07 9C09
Zeiger in 9... ändern
4. Startadressen:
Von den Startadressen (im Vorwort) ist der Wert 3*4096 abzuziehen.

Tabelle 1. So verschieben Sie »Datawork-Basic« in einen anderen Speicherbereich

# Hardcopy leicht gemacht [64-67,177]

> Jetzt bekommt Ihr Drucker was zu tun! Wir zeigen Ihnen, wie Sie die Basic-Hardcopy-Routine aus der Ausgabe 9/85 in Maschinensprache umsetzen können. Ein gedrucktes »Foto« des Textbildschirms auf Tastendruck.

Eine Hardcopy vom Textbildschirm des C 64 wird häufig gebraucht. Die Dokumentation eines selbstgeschriebenen Programms oder ein Beispielausdruck für eine Programmanleitung sind nur zwei Beispiele.

In der letzten Folge war die Hardcopy-Routine auf Commodore-Drucker zugeschnitten. Diesmal sind alle 8-Nadel-Druk-ker an der Reihe. Das Programm ist auf die Epson-Drucker FX und RX zugeschnitten. Ein verwendetes Interface muß sich durch die Sekundäradresse 1 im OPEN-Befehl in den Linearmodus schalten lassen. Lassen Sie sich davon aber nicht abschrecken, falls Ihr Interface oder Drucker auf andere Weise angesteuert wird. Wenn Sie Grundkenntnisse in der Assembler-Programmierung haben, sind Sie in der Lage, das Programm auch an Ihren Drucker anzupassen. Voraussetzung für das Gelingen der Anpassung ist nur, daß Ihr Drucker über einen Bitmustermodus mit acht ansteuerbaren Nadeln verfügt.

Wenn Sie keine Änderungen am Programm vornehmen möchten, sollten Sie den MSE-Lader (Listing 1) abtippen. Wollen Sie aber Änderungen und Verbesserungen daran vornehmen, verwenden Sie besser das Quellisting (Listing 2) und einen Assembler. Aber das werden Sie dann sowieso machen. Da in jeder Zeile nur ein einziger Befehl vorkommt, sollte das Quellisting ohne weiteres auf jeden Assembler, beispielsweise dem Hypra-Ass, übertragen werden können. Es müssen ja prinzipiell nur die Assembler-Anweisungen in den Zeilen 1000, 1010, 1100, 1110, 4070 und 4080 geändert werden. Die Bedeutung dieser Zeilen:

1000 Programmdatei für Maschinen-Code öffnen
1010 Starten des Assemblers
1100 Maschinen-Code in offene Datei schreiben
1110 Startadresse des Programms
4070 Ende des Quell-Codes
4080 Initialisierung der Hardcopy-Routine (nur sinnvoll, wenn der Maschinen-Code in den Speicher geschrieben wird und nicht auf Diskette gespeichert wird).

## Hardcopy des Text-Bildschirms

Aber nun Schluß mit den allgemeinen Hinweisen. Im folgenden wird das Source-Listing anhand der Zeilennummern erklärt. Ab Zeile 1150 im Sourcelisting (Quellisting), werden den benötigten Betriebssystem-Routinen und Speicherzellen Labels (Namen) zugeordnet. Was die einzelnen Routinen leisten, entnehmen Sie bitte den Kommentaren im Quellisting.

Eine Hardcopy-Funktion für Textbildschirme wird erst dann so richtig interessant, wenn sie durch einfachen Tastendruck gestartet werden kann. Unabhängig davon, was der Computer gerade macht. Denn nur so kann man sich Beispiele von Bildschirmmasken etc. drucken lassen. Aus diesem Grund wurde dieser Hardcopy-Routine eine Tastenabfrage vorgeschaltet. So wird erreicht, daß durch kurzes Drücken der F1-Taste das Hardcopy-Programm startet. Wie man eine solche Tastenabfrage realisieren kann, sehen Sie ab Zeile 1460 im Quellisting. Dort wird die Abfrage-Routine in den Systeminterrupt des C 64 eingebunden. Danach wird die Taste pro Sekunde etwa 60mal abgefragt. Ist sie nicht gedrückt, wird der normale Sy-steminterruptfortgesetzt. Zum Einbinden einer Routine in den Systeminterrupt (IRQ) muß der Interruptvektor in den Speicherzellen $314 und $315 auf die Routine »umgeleitet« werden. Im Normalfall zeigt der IRQ-Vektor auf den Beginn der Systeminterrupt-Routine bei $EA31. In diesem Fall wird er so verändert, daß er auf die Tastenabfrage, also auf $C00D zeigt. Genaueres zu diesem Thema können Sie beispielsweise im 64’er Sonderheft 4/85 nachlesen.

Die Veränderung des IRQ-Vektors wird in den Zeilen 1470 bis 1550vorgenommen. BevoraberderVektorverändertwer-den kann, ist ein SEI(set-interrupt-disable-flag)-Befehl nötig. Dieser Befehl setzt das IRQ (interrupt-request)-Flag. Das bewirkt, daß der Prozessor keinen Interrupt mehr annimmt. Es ist ja eigentlich einleuchtend, daß kein Interrupt stattfinden darf, wenn man gerade die IRQ-Sprungadresse verändert. Das wäre so, als ob Sie auf einer Kreuzung ein Umleitungsschild aufstellen wollen, wenn dort gerade ein Lastzug fährt. Sie müssen vorher schon den Verkehr anhalten. Die Umstellung des IRQ* Vektors geschieht in diesem Programm durch SYS 49152. Dadurch wird die ganze Hardcopy-Routine initialisiert. Von nun an springt der Prozessor bei jedem Interrupt in die Tastenabfrage ab Zeile 1570. Dort wird der Inhalt der Speicherzelle $C5 geladen und mit »4« verglichen. »4« ist der Tastencode der F1-Taste. Fällt der Vergleich negativ aus, erfolgt sofort ein Sprung zur Adresse $EA31, der Systeminterrupt-Routine des C 64 (Zeile 1640). Fällt der Vergleich dagegen positiv aus (F1 gedrückt), verzweigt die Abfrage-Routine ins eigentliche Hardcopy-Programm ab Zeile 1700.

## Start auf Tastendruck

Am Anfang der Hardcopy-Routine wird als erstes die gesamte Zeropage (Speicherzellen 0-255) zwischengespeichert. Dieses Verfahren ist zwar alles andere als elegant, erspart aber sehr viel Denkarbeit. Der Zeitbedarf dafür ist so gering, daß er bei einer Hardcopy-Routine vernachlässigt werden kann.

Nach dem »Retten« der Zeropage wird der Druckerkanal eröffnet und der Drucker normiert (Zeile 1670 bis 2000). Der Druckerkanal hat die Filenummer 126 und die Sekundäradresse 1. Die Geräteadresse ist 4. Die File-Nummer wurde so hoch gewählt, damit es keine Schwierigkeiten mit eventuell schon vorhandenen offenen Dateien gibt. Wer verwendet in Programmen schon die File-Nummer 126? Achtung: Eine File-Nummer größer als 127 sendet ein Linefeed (Zeilenvorschub) »CHR$(10)« nach jedem Carriage Return.

Ist der Druckerkanal offen, wird der Zeilenabstand des Druckers so eingestellt, daß alle Zeilen dicht aneinander liegen. Beim Epson RX/FX geschieht das mit der Steuersequenz CHR$(27)”3”CHR$(24). Mit der PRINT-Routine wird ein Zeichen an das, durch die CHKOUT-Routine festgelegte, Gerät geschickt. In diesem Fall eben an den Drucker.

Ab Zeile 2040 wird die Anfangsadresse des Bildschirms geholt und in VIRAM und VIRAM+1 übergeben. Das Programm mußja wissen, wo die zu druckenden Daten stehen. Nach dieser Vorarbeit steht der eigentlichen Hardcopy-Routine nichts mehr im Weg.

In Zeile 2140 wird das x-Register mit der Zeilenzahl (25) des Bildschirms geladen. Danach wird die STOP-Taste abgefragt, um die Hardcopy vorzeitig beenden zu können. Die Abfrage findet übrigens zu Beginn jeder neu zu druckenden Bildschirmzeile statt. Ist die STOP-Taste gedrückt, wird die Hardcopy-Routine beendet und die normale Interrupt-Routine abgearbeitet. Wie die Hardcopy-Routine beendet wird, soll später erklärt werden. Vorläufig wird erstmal gedruckt!

Damit der richtige Zeichensatz aufs Papier kommt, wird ab Zeile 2390 bei jeder neuen Zeile ein Prüfprogramm (ab Zeile 3820, CHRTEST) aufgerufen, das den momentanen Schriftmodus überprüft. Groß-/Klein oder Groß-/Grafik-Zeichensatz. Die Startadresse des Zeichensatzes im Character-ROM wird dann in ZROM, ZROM+1 abgelegt. DerGroß/Klein-Zeichen-satz hat die Startadresse $D800, der Groß/Grafik-Zeichen-satz steht ab Adresse $D000. Welcher Zeichensatz gewählt ist, steht in Speicherzelle $D018 des Videochips. Ergibt der Inhalt von $D018 AND 2 das Ergebnis 2, ist der Groß/Grafik-Modus eingeschaltet. In Zeile 3890 finden Sie den BIT-Befehl $2C. Dieser Befehl vergleicht normalerweise den Akkuinhalt mit der angegebenen 2-Byte-Adresse und verändert entsprechend das Z-Flag. Diese Funktion ist aber hier nur Mittel zum Zweck. In diesem Fall soll der Prozessor nur die auf $2C folgenden 2 Bytes ignorieren. Genauer: Wird der Akku mit dem High-Byte der Startadresse des Zeichensatzes 1 geladen (Zeile 3870), wird der 2-Byte-Ladebefehl LDA # >CHRGEN2 (StartadresseZeichensatz #2) einfach ignoriert. Man erspart sich dadurch eine zusätzliche Abfrage und einen Branch-Befehl.

Nachdem der aktuelle Zeichensatz bekannt ist, wird der Drucker in den Bitmustermodus (Grafikmodus) geschaltet. Dazu werden aus der Tabelle GRAFIK sieben Steuercodes geholt und zeichenweise an den Drucker geschickt. Die Steuer-sequenzist24,13, 27, ”*”, 4, 64,1. »1«und»64«istdasHighbeziehungsweise das Low-Byte von 320, der Anzahl der Grafikpunkte des C 64 in einer Zeile. Der Code »13« bewirkt nur einen Wagenrücklauf (Carriage Return), damit der Druckkopf am Zeilenanfang steht. CHR$(24) löst einen Drucker-Reset aus.

In zwei Schleifen wird nun der ganze Bildschirm »abgetastet« und die einzelnen Zeichen am Bildschirm in Bitmusterdaten übersetzt. Den Anfang der übergeordneten »Zeilenschleife« lernten Sie bereits kennen: LDX #25, STOP-Taste abfragen, Druckerzeile initialisieren (in Grafikmodus schalten). Die untergeordnete »Spaltenschleife« (Zeilen 2530 bis 2650) holt nacheinander den Bildschirmcode der Zeichen einer Zeile. Der Zeichencode wird in der Speicherzelle ZEICHEN abgelegt. Als Zählvariable für diese untergeordnete Schleife, die von 0 bis 39 zählt, wird das y-Register hergenommen. Der Abschnitt von Zeile 2250 bis 2330 überprüft, ob in einer Zeile überhaupt etwas steht. Wenn nicht, wird ein Zeilenvorschub ausgelöst und die nächste Zeile »abgetastet«.

Ist ein Zeichen-Code ermittelt, wird mit JRS AUSWERT in Zeile 2620 ein Unterprogramm aufgerufen, das aus dem Zeichensatz-ROM die Punktmuster der Zeichen liest. Dazu werden nacheinander die acht senkrechten Punktspalten eines Zeichens aus den Daten des Zeichensatz-ROMs zusammengesetzt. Jede fertige Punktspalte wird an den Drucker geschickt. Aus acht dieser Spalten entsteht dann ein Zeichen auf dem Papier, aus 320 solcher Spalten eine ganze Druckzeile. Das Lesen des Zeichensatz-ROMs und der Zusammenbau der Punktspalten ist für den Anfänger in Maschinensprache nicht ganz einfach zu verstehen und soll deshalb kurz erklärt werden.

Das Unterprogramm AUSWERT beginnt ab Zeile 3060 mit drei PHA (push akku)- und zwei Transferbefehlen, die den Inhalt des Akkus und des x-,y-Registers auf den Prozessorstack legen. Das ist nötig, da im Unterprogramm der Akku und das x- und y-Register verändert werden. Danach wird in den Zeilen 3160 bis 3290 die Startadresse des momentanen Zeichens im Zeichensatz-ROM berechnet. Die Startadresse berechnet Anfangsadresse + Offset (Speicherstelle im ZeichensatzROM). Offset = Bildschirm-Code x 8.

Wie schon erwähnt, wird ab Zeile 2530 der »Spaltenschleife« der Bildschirmcode eines jeden Zeichens am Bildschirm geholt (LDA (VRAM,Y)) und in ZEICHEN gespeichert. Der Inhalt von ZEICHEN wird in Zeile 3170 in die Speicherzelle ADRESSE kopiert. Dann wird durch drei ASL-Befehle der Inhalt Speicherzelle ADRESSE und ADRESSE+1 (Grundwert immer »0«) mit 8 multipliziert. Ein ASL (arithmical shift left) verdoppelt den Inhalt einer Speicherzelle. Tritt dabei ein Übertrag auf (Ergebnis > 255) wird das Carry-Flag gesetzt. Das Carry-Flag wird in der Speicherzelle ADRESSE+1 berücksichtigt. Ein ROL-Befehl schiebt das Carry-Bit »von rechts in die Speicherzelle ADR+1«. Fand kein Übertrag statt, schiebt der ROL-Befehl einfach eine »0« nach. Der ROL-Befehl hat die gleiche Wirkung, wie eine Verdopplung eines Speicherzelleninhalts mit ASL, nur wird anschließend noch das Carry-Bit addiert. Nach der Multiplikation mit 8 steht in ADRESSE und ADRESSE+1 in Low-/High-Bytedarstellung der Offset. Um die absolute Adresse zu erhalten, wird ab Zeile 3110 der Offset zur Anfangsadresse des Zeichensatz-ROMs addiert. Es steht dann die absolute Zeichenadresse in ADRESSE (Low-Byte) undADRESSE+1 (High-Byte).

Der Clear-Carry (CLC)-Befehl ist grundsätzlich vorjeder Addition notwendig, um ein eventuell gesetztes Carry-Flag zu löschen. Nur so kann ein Übertrag sicher festgestellt werden.

Ist die Anfangsadresse eines Bildschirmzeichens im Zeichensatz-ROM bekannt, fängt aber die Arbeit erst richtig an.

Ein Bildschirmzeichen setzt sich aus einer 8x8-Punktmatrix zusammen. Die Punktmatrix wird beim C 64 aus acht 8-Bit-Zahlen zusammengesetzt:

TODO TABLE

Adresse	Adresse
$D000 ....................... $D005	...... . .
$D001 ....................... $D006	...... . .
$D00'2 ........... $D007 ......................
$D003 ....................... $D008	..........
$D004 ....................... $D009	..........

Mit einer 8-Bit-Zahl pro Punktzeile. Dabei bestimmt die erste Zahl im ROM das Punktmuster der obersten Punktzeile eines Zeichens. Stellen Sie sich eine 8-Bit-Zahl einmal in Binärform vor. Eine »1« ist dann ein gesetzter Punkt und eine »0« kein Punkt. So könnte die Zahl 0000 1000 (dez. 8) einen i-Punkt wiedergeben. Wie Sie sehen, sind die Bildschirmzeichen aus Punktzeilen aufgebaut; im Gegensatz zu den Druckerzeichen, die aus Punktspalten zusammengesetzt werden. Die beiden Formate bringen ein Problem mit sich, denn die Bitmusterdaten des Bildschirms müssen in die des Druckers übersetzt werden. Diese Konvertierung wird in den Zeilen 3330 bis 3660 vorgenommen.

Doch bevor man die Bitmusterdaten konvertiert, muß erstmal eine Punktzeile aus dem Zeichensatz-ROM gelesen werden. Wie Sie vielleicht wissen, liegt das Zeichensatz-ROM im $D000-Bereich, dem kompliziertesten Speicherteil des C 64. Im Bereich von $D000 bis $DFFF arbeiten nämlich noch alle I/O-Bausteine. Man spricht in diesem Zusammenhang von Speicherebenen, diesich einen Speicherbereich teilen. Damit derZeichensatz gelesen werden kann, muß also noch die richtige Speicherebene selektiert werden. Doch dazu später mehr. Zuerst soll die Konvertierung der Bitmusterdaten geklärt werden.

Zur Konvertierung der Zeilenwerte in Spaltenwerte liest man nacheinander acht mal die Zeilenwerte des Zeichensatz-ROMs und vergleicht die Werte mit einer »Bit-Maske«. Die acht Bit-Masken sind:

TODO TABLE
Maske bin. Wertigkeit
1000 0000 128
0100 0000 64
0010 0000 32
0001 0000 16
0000 1000 8
0000 0100 4
0000 0010 2
0000 0001 1

Beim ersten Durchgang hat die Bitmaske die Wertigkeit 128 (Zeile 3360). Mit dieser Maske werden nun nacheinander alle acht Punktzeilen eines Bildschirmzeichens AND-verknüpft. Ist beispielsweise in der Zeilenzahl das achte Bit gesetzt (Zahl >127), ist das Ergebnis der Verknüpfung 128, also größer 0. Liefert die Verknüpfung »0«, wird der nächste der acht Zeilenwerte mit der Maske verglichen. Ist das Ergebnis einer Verknüpfung größer als 0, muß an dieser Stelle eine Druckernadel anschlagen.

Bei einem 8-Nadeldrucker haben die Nadeln die binären Werte 1,2,4,8,16,32,64,128. Die unterste Nadel hat die Wertigkeit 1, die oberste die Wertigkeit 128. Ausnahmen bestätigen aber auch hier die Regel (Seikosha 550A: Die untere Nadel hat die Wertigkeit 128). Damit der Drucker die richtige Nadel anschlägt, muß die Wertigkeit der Nadel, oder die Summe der Wertigkeiten, dem Drucker geschickt werden. Dazu ordnet man den acht Punktzeilen eines Bildschirmzeichens die binären Wertigkeiten 1 bis 128 zu; entsprechend der Nadel-anordung des Druckers. Bei jedem positiv ausgefallenen Maskenvergleich, addiert man die entsprechenden Nadelwertigkeiten. Wurden alle acht Zeichenzeilen auf diese Weise »abgetastet«, wird die Summe an den Drucker geschickt, der daraufhin eine senkrechte Punktreihe druckt.

Um die nächste Punktspalte drucken zu können, dividiert man die Maske mit »2«. Am einfachsten mit einem LSR (logical shift right)-Befehl. Dieser Befehl verschiebt die »1« in der »Binärmaske« um eine Stelle nach links, was eben einer Division mit 2 gleichkommt. Nun vergleicht man wieder die acht Zeilenwerte mit der neuen Maske und addiert die Nadelwertigkeiten. Nach acht Vergleichen ist der Druckercode für die zweite Druckspalte addiert und kann zu Papier gebracht werden. Dieses Spielchen wiederholt man, bis alle acht Punktspalten eines Zeichens gedruckt sind. Für ein einziges Zeichen sind insgesamt 64 Vergleiche nötig.

Als Basic-Programm wäre die Konvertierung der Bitmusterdaten des C 64 in die eines Druckers viel zu langsam. Es sind schließlich 64x40x25=64000 Konvertierungen pro Bildschirm nötig. Ebenso ist die »Bit-Schieberei« mit LSR, OR und AND in Basic einProblem für sich.

Die Speicherebenenumschaltung auf das ZeichensatzROM findet in Zeile 3450 statt, nachdem zuvor das Interrupt-Flag gesetzt wurde. Denn solange Speicherzelle 1 den Wert $33 enthält, dürfen keine I/O-Operationen des Prozessors, wie Tastenabfrage und Cursor-Blinken, erfolgen. Der Prozessor würde unweigerlich abstürzen, wenn er auf das

Zeichensatz-ROM zugreift, anstelle auf einer der beiden CIAs oder dem VIC-Chip.

In Zeile 3480 wird das Zeichensatz-ROM ausgelesen und in Zeile 5335 mit der aktuellen Maske verglichen. Danach wird der ursprüngliche Inhalt von Speicherzelle 1 zurückgelassen und ein Interrupt wieder erlaubt.

Die Addition der Nadelwertigkeiten der Punktzeilen findet in Zeile 3590 mit einem ADC-Befehl statt. Die Wertigkeiten der Nadeln stehen in der Tabelle NWERT am Schluß des Programms. Nachdem alle acht Werte im Akku summiert sind, positive Maskenvergleiche vorausgesetzt, wird der Akkuinhalt an den Drucker geschickt. Der Befehl JSR PRINT schickt das Punktmuster der Druckzeichenspalte an den Drucker. Sind die acht Punktreihen gedruckt, werden sämtliche Register wieder hergestellt und die Unterroutine AUSWERT wird beendet. Der RTS-Befehl führt dann wieder in die Spaltenschleife zu Zeile 2510.

Sind auf diese Weise 40 Zeichen gedruckt, wird in der Zeilenschleife das y-Register wieder auf »0« gesetzt, der Drucker auf eine neue Druckzeile mit Bitmusterdaten eingestellt und eine neue Druckzeile abgearbeitet.

Ist der ganze Bildschirm ausgedruckt (oder die STOP-Taste gedrückt), wird ab Zeile 2980 das Programm beendet. Im einzelnen heißt das, daß der Druckerkanal geschlossen, die Zeropage zurückgeschrieben und die normale Interruptroutine bearbeitet wird.

Danach läuft Ihr Programm weiter als wenn nichts geschehen wäre.

(hm)

# Leben und sterben lassen [69-71]

> »Life« ist wohl eine der faszinierendsten Simulationen von biologischen Vorgängen auf Computern. Mit »Life« lassen sich evolutionäre Abläufe spielerisch verstehen lernen.

Obwohl den Lesern der Inhalt des »Spiels« geläufig sein mag, hier die »Regeln«:

Es existiert ein zweidimensionales Feld und an jedem Punkt ist eine lebende oder eine tote Zelle. Jede Zelle hat acht Nachbarn.

An einem Punkt wird eine Zelle dann und nur dann lebendig, falls sie genau drei lebende Nachbarn hat.

## Fast wie im richtigen Leben

Eine Zelle stirbt, wenn sie weniger als zwei (Vereinsamung) oder mehr als drei (Überbevölkerung) lebende Nachbarn hat.

So ändert sich das Feld von Generation zu Generation, mit ei-nermeistfaszinierenden Entwicklung. Das Spiel, erfunden von dem Mathematiker John Horton Conway (Cambridge), stellt sich als höchst komplex und reizvoll heraus.

Um es gleich zu sagen: Life ist kein Spiel, das man selber spielt. Life spielt sich selbst. Man kann die »Anfangswelt« festlegen und dann beobachten, wie sie sich entwickelt. Das Spiel wird sicher dem einen oder anderen Computer-Fan bekannt sein, da es ein ideales Problem für den Computer ist: Sehr einfache Regeln, aber viel Rechnerei.

In dem Beispiel (Rotor, siehe Bild 1) sind die Verhältnisse noch sehr einfach, weil die kleine Life-Welt nur zwischen zwei Zuständen hin und her pendelt. Dieser Dreier ist eine der Strukturen, die stabil sind. Meistens dauert es viele Generationen, bis eine Population ausstirbt oder in stabile Strukturen übergeht. Am besten, man experimentiert einfach etwas. Bild 2 zeigt noch einige interessante Strukturen.

### Zum Programm:

Wie würde man das Problem normalerweise angehen? Nun, man legt sich ein zweidimensionales Feld an und speichert für jede lebende Zelle eine Eins, für jedes unbesetzte Kästchen eine Null. Dann geht man alle Felder durch, prüft die acht Nachbarfelder und speichert das Ergebnis, tot oder lebendig in der nächsten Generation, in einem zweiten Feld. Der Computer hat dann (bei 80 mal 50) 32 000 Felder zu überprüfen, und das bedeutet: warten...

Aber Moment! Ist es denn nötig, auch die Bereiche zu bearbeiten, in denen es ohnehin kein Leben gibt?

Besser, man bearbeitetjeweils nur die relevanten (belebten) Bereiche: Es kann nur in dem Bereich etwas passieren, der direkt an lebende Zellen angrenzt. Man speichert die Koordinaten aller lebenden Zellen und ihrer Nachbarn, sorgt dafür, daß keine Felder doppelt gezählt werden und braucht dann jeweils nur noch die Liste der Koordinaten durchzugehen. Dafür benötigt man ein weiteres Variablen-Feld, in dem bereits vermerkte Zellen gekennzeichnet werden. Nach dieser Vorbereitung werden zur Berechnung der nächsten Generation die Koordinaten des relevanten Bereichs durchgegangen. Ein zweites Mal durchläuft man die Koordinaten, um den neuen relevanten Bereich festzustellen. Wenn also eine Struktur auf dem Bildschirm wandert, so wandert auch der relevante Bereich mit.

### Bedienungshinweise:

Man hat eine 78 x 48-Auflösung (der äußerste Rand ist eine Todeszone«; hier ist grundsätzlich kein Leben möglich) zur Verfügung. Startet man das Programm, so befindet man sich in einem Editor.

Eine Zelle wird mit der SPACE-Taste lebendig.

Eine Zelle wird mit der DEL-Taste getötet.

Der Cursor schreitet nach SPACE und DEL in die Richtung fort, die die letzte gedrückte Cursortaste angab.

Mit »L« wird Life dann gestartet. In dem jetzigen Zustand gibt es folgende Befehle:

TODO TABLE

S	Stop
F1-F8 Verzögerung
N	Neue Eingabe
E	Ergänzung, Veränderung
Q	Quit, Programmende
P	Power, maximale Geschwindigkeit<br>(nur mit RUN-STOP/RESTORE zu lösen)

### Erweiterungsmöglichkeiten:

Man könnte natürlich die Auflösung weiter erhöhen. Da böte sich dann die Bitmap-Auflösung an (HiRes-Grafik). Hier müßte man allerdings mit dem Speicherplatz sehr vorsichtig umgehen, da der Bildschirm 64000 Bildpunkte hat. Die zusätzlichen Berechnungen würden das Programm auf jeden Fall langsamer machen. Außerdem wird, wenn die relevanten Bereiche zu groß werden, ein Speichern derselben unmöglich (Speicherplatz) und der Generationswechsel dauert zu lange. Eine andere interessante Veränderung wäre mit dem Rand durchzuführen. Mit dem »Todesrand« wurde das Problem der Bildschirm-Bereichsüberschreitung zwar recht elegant gelöst, denn es sind durch das Prinzip der relevanten Bereiche keine Abfragen notwendig. Interessanter jedoch wäre eine offene Wand oder gar eine ganz in sich geschlossene Welt. Unten (rechts) heraustretende Formen würden dann oben (links) wieder auftauchen. Wegen der Abfragen würde jedoch auch dies die Geschwindigkeit verringern.

### Hinweise zum Abtippen:

Als erstes geben Sie die Maschinenroutine (Listing 2) mit dem MSE ein (Speichern nicht vergessen). Zur Eingabe des Hauptprogramms (Listing 1) verwenden Sie bitte den Checksummer.

Interessierte Leser finden in der Tabelle 1 die Beschreibung des Maschinenprogramms.

Wer will, kann das Programm noch wesentlich erweitern: Zum Beispiel könnten Hungersnöte, Naturkatastrophen oder Seuchen in bestimmten Gebieten die Bevölkerung wesentlich dezimieren. Ich glaube nicht, daß man das Spiel »Life« auf dem C 64 noch wesentlich schneller programmieren kann, jedoch soll diese Behauptung ruhig dazu provozieren, das Gegenteil zu beweisen.

(Jürgen Engbring/tr)

# Tips & Tricks für Anfänger und Fortgeschrittene [74-78,80-81]

> Wiedereinmal können wir Ihnen eine Auswahl aus unserer Tips & Tricks-Kiste anbieten. Für fast jeden Leser dürften einige interessante Programmiertricks dabei sein.

## Primzahlen-Einzeiler

Bei folgendem Einzeiler handelt es sich um ein Programm zur Errechnung und Ausgabe aller Primzahlen bis 1000. Es benötigt hierfür zirka 27 Sekunden.
10DIMA(2000):FORI = 2TQ1000:IFA(l) = 0THENPRINTI:FORJ=I+IT01000STEPI:A(J)=1:NEXTJ,I:01100 NEXT

Der Einzeiler ist zu lang, um mit ausgeschriebenen Basic-Befehlen eingegeben werden zu können. Man muß ihn also wie folgt eingeben:

TODO UNDERLINE

10DIMA(2000):FOI=2TO1000:IFA(l)=0TH?l:FQJ=I+ITQ1OOOSTEPI:A(J)=1:NEJ,I:O11OO NE

Das Programm ist in dieser Form noch nicht lauffähig. Man muß erst noch einen Befehl im Direktmodus eingeben, nämlich: POKE2109,0

Das Programm kann jetzt mit »RUN« gestartet und mit »SAVE« gespeichert werden. Es arbeitet nach dem »Sieb des Eratosthenes«, bei dem die Vielfachen einer Primzahl aus einer Liste gestrichen werden.

Im Programm steht 01100. Die erste 0 wird durch den POKE-Befehl überschrieben, dadurch denkt der Computer, daß die Zeile nach dem NEXTJ,I zu Ende ist. Die 1100 sind Pseudo-Zeilennummer und Koppeladresse, dadurch springt der Computer, wenn die IF/THEN-Bedingung nicht erfüllt ist, nicht zur nächsten Zeile, sondern zum zweiten NEXT Sie können natürlich auch zwei oder drei Zeilen machen, um sich die Arbeit zu erleichtern.

(Michael Patra/tr)

## Etiketten drucken mit dem MPS-801

Durch folgende Änderungen läßt sich das Programm »ETIKETTEN 64« im 4. Sonderheft, Seite 15, das in der Originalver-sion für einen Commodore-Drucker 1526 (MPS-802) geschrieben worden ist, auch miteinem MPS-801 (1525) betreiben. Das Problem bestand lediglich darin, den fest eingestellten Zeilenabstand des MPS-801 auf Null zu reduzieren, denn sonst hat der Ausdruck nicht viel Ähnlichkeit mit der erstellten Etikette auf dem Bildschirm.

Zeile 6930 wird gelöscht
7040 IFA$<>”-”THENPRINT#3,CHR$(15);A$;CHR$(8);:GOTO 7080
7050	PRINT#3,CHR$(14):
7060	J=J+1:A$=MID$(T$,J,1)
7070	PRINT#3,A$;CHR$(15)CHR$(8);

Die eigentlichen Veränderungen stehen nur in den Zeilen 7040 und 7070.
CHR$(15): Einschalten Standardzeichen
CHR$(8) : Einschalten des Bit-Modus

Der Trick besteht darin, daß, wenn sich der Drucker im Bit-Modus befindet, ein Zeilenvorschub dazu führt, daß die folgende Zeile ohne Zeilenabstand gedruckt wird und so der standardmäßige zirka 3-Pixelabstand entfällt. Dieses Prinzip ist allgemein anwendbar, zum Beispiel wenn man ein Bild der Grafik (mit Commodore-Grafikzeichen), so wie auf dem Bildschirm zu sehen, zu Papier bringen will. Die PRINT-AT-Zeilen für den Drucker müssen dann folgendes Format haben: 1000 print #lf,chr$(15);”....”chr$(8) -lf=logische Filenummer des OPEN-Befehls.

(Karsten Bluhm/tr)

## Verbessertes PRINT USING mit Simons Basic

Die USE-Routine in Simons Basic vermag Zahlen mit einer definierten Anzahl an Vor- und Nachkommastellen auszugeben. So gibt zum Beispiel die Festlegung »USE ” # # # #. # # # # #”, STR$(A)« die Zahl A, die in einen String umgewandelt wird, mit vier Stellen vor und fünf Stellen hinter dem Dezimalpunkt aus. Im allgemeinen ein sehr nützlicher Befehl, wenn nicht folgender Nachteil auftreten würde:

Diese Förmatierungsroutine macht selbst vor Exponentialzahlen nicht Halt. So wird die Zahl 1.12345678E-05 mit der obigen Festlegung ausgegeben als ”1.12345”! Sämtliche Dezimalen nach der fünften Stelle werden mitsamt dem Exponenten abgeschnitten! Selbstder Exponent wird wie Dezimalziffern nach dem Komma behandelt; es wird nicht nur die Mantisse formatiert!

Dieses Mißgeschick beseitigt die folgende Routine. Die zu formatierende Zahl wird als Variable A dem Unterprogramm übergeben. Das Unterprogramm ermittelt die Mantisse MA und den Zehnerexponenten EA der Zahl A.

50000	PROC FORMAT
50010	REM ZU FORMATIERENDE ZAHL : A
50030	LA=LOG(ABS(A))/LOG(10) : REM ZEHNERLOGARITHMUS
50040	EA=INT((LA*10+.5)/10) : REM ZEHNEREXPONENT
50050	MA=A/10tEA:REMMANTISSE
50100	END PROC

Aufgerufen wird die Routine mit »CALL FORMAT«. Die Mantisse MA und der Exponent EA können im Hauptprogramm an andere Variablen übergeben werden. Eine Möglichkeit wäre zum Beispiel bei vielen zu formatierenden Zahlen MA und EA in einem Feld (Matrix) zu speichern und nach Programmdurchlauf in einer Tabelle (mit Hilfe von USE) auszugeben.

Der Exponent EA der Zahl A kann in die wissenschaftliche Notation gebracht werden, in dem man ihn in ein Vielfaches von 3 umwandelt. Entsprechend muß die Mantisse MA umge-rechnetwerden (Multiplikation mit 10 beziehungsweise 100).

Dies geschieht wie folgt: Man dividiert EA durch 3 und erhält den Quotienten Q=EA/3. Der ganzzahlige Anteil (INT) mit 3 multipliziertergibtden neuen Exponenten: EA=INT(Q)*3; der rationale Anteil (FRAC) multipliziert mit 3 ergibt den Faktor für die Mantisse: F=FRAC(Q)*3: MA=MA*1EF.
Beispiel: EA=11, angestrebt: EA=-9.
Q=EA/3=-3.666666666,
EA=INT(Q)*3=-3*3=-9,
F=FRAC(Q)*3=.666666666*3 = 2,
MA=MA*1EF=MA*1E2 = MA*100.

Um Rundungsfehler zu vermeiden, sollte man bei der Berechnung des Faktors F auf ganzzahlige Werte runden (INT oder eigene Rundungsroutine, siehe weiter unten). Die Mantisse muß immer mindestens drei Stellen vor dem Komma besitzen, ein Vorzeichen und zwei Ziffern!

Um die Mantisse nicht einfach nach der kten Dezimalstelle abzuschneiden, sondern gerundet auszugeben, kann folgender Algorithmus verwendet werden: INT((MA*1EK+.5)/1EK).

Liegt der Exponent EA als Vielfaches von 3 vor, so kann bei Meßergebnissen die Vorsilbe der Einheit (Kilo, Milli, Piko, etc.) ermittelt werden. Die entsprechende Vorsilbe kann dann als V$ der Maßeinheit (M$) vorangestellt werden (V$+M$). Die möglichen Vorsilben mit den dazugehörigen Zehnerexponenten sind:

TODO TABLE

Exa	E	1018,	Atto	a	10-18,
Peta	P	1015,	Femto	f	10-15,
Tera	T	1012,	Pico	P	1012,
Giga	G	109,	Nano	n	IO’9,
Mega	M	106,	Mikro	M	10-6,
Kilo	k	103,	Miili	m	10'3,
Hekto	h	102,	Zenti	c	10-2,
Deka	d	101,	Dezi	d	10-1.

Wie man sieht, sind die Potenzen zu den Vorsilben Hekto, Deka, Zenti und Dezi keine Vielfachen von 3. Diese können mit Hilfe eines IF-THEN-Statements ausgesondert werden.
IF ABS(EA)>2THEN EXEC VORSILBE,
wobei durch »VORSILBE« ein Unterprogramm aufgerufen wird, welches die Vorsilben zu den Exponenten, die Vielfache von 3 sind, ermittelt. Statt »EXEC« ist natürlich auch ein Sprung zu einer Marke (PROC...) mittels »CALL« möglich.

(Roland Wolff/tr)

## Hilfe für/gegen Turbo-Tape

Wenn sie mit Turbo-Tape geladen wurden, stürzen manche Programme, die den Speicher von 50000 bis 51000 benutzen, plötzlich ab. Das liegt daran, daß Turbo-Tape den Vektor zum Holen eines Befehls auf eine eigene Routine richtet. Wird nun diese Routine überschrieben, steigt der Computer wenn er den nächsten (Basic-)Befehl sucht, aus, da das Programm, auf das der Vektor $308 zeigt, nicht mehr existiert. Die Veränderung dieses Vektors ist von Basic aus nicht möglich, aber durch »SYS 58451« (Standard Basic Vektoren $0300 bis $030B laden) wird er wieder »geradegebogen«.

(Julian Ziersch/tr)

TODO ASIDE

## Hilfe für Datasettenbesitzer

Kürzere Maschinenprogramme werden vom Programmierer gerne im Kassettenpuffer abgelegt. Den Floppy-Be-sitzer stört dies nicht. Er kann Programme laden und das Maschinenprogramm bleibtihm erhalten. Nichtso beim Benutzer einer Datasette. Lädt er ein Programm von Kassette in den Bereich ab 828 ($033C), so wird es zerstört. Es gibt aber einen Trick, den Kassettenpuffer an einen anderen Speicherbereich zu legen. In den Speicherstellen 178 und 179 steht der Beginn des Kassettenpuffers. Normalerweise beginnt dieser bei 828. Durch Verändern dieses Vektors können wir den Kassettenpuffer beim Laden von Programmen schonen. Um ihn ans Ende des Speicherbereichs zu legen, schreiben Sie: POKE 179, PEEK (56)-2.

(Herbert Kunz/tr)

## INPUT ohne Fragezeichen

Das manchmal lästige Fragezeichen beim Basic-Befehl »INPUT« kann man durch ein »POKE 19,1« verschwinden lassen. Allerdings sollte diese Manipulation sofort nach der INPUT-Anweisung durch »POKE 19,0« wieder rückgängig gemacht werden.

(Günther Stangl/tr)

## Schachuhr

2 S=1—S:TI$=A$(S):FORI=1TO1:GETI:A$(S)=TI$:PRINT” [CLR,3SPACE}?”A$(1),„A$(0):IFA$(S) < E$THENNEXT: GOTO2

Nachdem ich für ein Schachuhrprogramm eine Bildschirmseite verbraucht hatte, beschloß ich, dreses Programm ordentlich zu kürzen. Schließlich wurde es dann zu dem vorliegenden Einzeiler, der aus Ihrem Computer eine richtige Schachuhr macht.
A$(0)=”000000”:A$(1)=”000000”:E$=”000020”: PRINT”[CLR]”:GOTO 2

Zuerst müssen die Anfangszeiten der beiden Spieler definiert werden, die wohl jeweils Null sein dürften, wenn man nicht gerade gegen einen weitaus stärkeren Spieler spielt. (Jeweils A$(0) und A$C(1) im bekannten sechsstelligen Format der internen Uhr Tl$). Danach definiert man die Endzeit E$ (wie oben), bei der das Programm stoppen soll und startet den Einzeiler nach einem SHIFT/CLR-HOME mit GOTO2 (nicht mit RUN, um die Stringvariablen nicht zu löschen).

Auf Druck der Zahlen 1-9 läuft jeweils die Uhr des Gegenspielers weiter. Will man eine Pause machen, drückt man irgendeinen Buchstaben.

Mit GOTO 2 kann das Programm dann fortgesetzt werden (ohne sich an dem »Syntax Error« zu stören), worauf die jeweils andere Uhr, als die, die vor Abbruch lief, weiterläuft.

### Zur Erklärung des Einzeilers

S=1—S« ändert S jeweils von 0 auf 1 oder von 1 auf 0 (es läuft dann jeweils die Uhr von Spieler 1 oder 0). Nun wird die Uhr Tl$ gestellt. Danach folgt eine For-Next-Schleife, die nur verlassen werden kann, wenn I eine der Zahlen von 1-9 annimmt, was nur bei Drücken irgendeinerZahl geschehen kann. Sonst ist I durch die »GETI«-Abfrage immer Null. In der Schleife wird die jeweilige Zeit der beiden Spieler ausgegeben. Außerdem wird untersucht, ob die Endzeit erreicht ist.

(Oliver Stengelin/tr)

## Der Hypra-Listschutz

Ich habe schon öfters im Leserforum gelesen, daß bei Aktivierung des Befehls »POKE 808,225« ein verstümmeltes Listing erscheint. Ich habe da eine Lösung gefunden: Nach Eingabe der Zahlenkombination 35072120 ist das Listing wieder normal sichtbar. Unglaublich, aber wahr!

Hier nun unsere Preisfrage an die Profis:
Was geschieht hier?

Der erste Leser, der uns die richtige Lösung schickt, bekommt einen 64’er-Aufkleber!

(Helmut Skolaut/tr)

## Maschinenprogramme kopieren

Wenn man nicht zu den glücklichen Besitzern eines Kopierprogramms gehört, kann man Maschinenprogramme mit Hilfe des MSE kopieren: M8E laden — M8E starten — Programm laden — andere Diskette/Kassette einlegen — Programm mit CTRL-S wieder speichern. Basic-Programme lassen sich mit dieser Methode übrigens genauso kopieren.

(tr)

## Geräusche von A bis Z

Durch Veränderung der Filterfrequenz und durch verschiedene Filter lassen sich einfache Geräusche erzeugen.
Zeile 10 S=54272:Rem Basisregister
Zeile 20 FORL=OTO24:POKES+L,0:NEXT

Zum Beispiel:
Um einen Schuß zu erzeugen, muß das Programm wie folgt aussehen:
10 S=54272
20 FORL=OTO24:POKE S + L,0: NEXT
30 POKE S + 0,0 : POKE S + 1,18
40 POKE S + 5,1 * 16 + 11
50 POKES + 22,110
60 POKE S + 23, 15 * 16 + 3
70 POKE S + 24, 5 * 16 + 15
80 POKE S + 4, 0 : POKE S + 4, 129
90 FORJ = 1 TO 255 : POKE S + 0,J : NEXT
100 FORA = 1 T 1000 : NEXT : GOTO 80

TODO TABLE

(Jürgen Hüsgen/tr)

## POKE oder nicht POKE

Vielleicht ist manchen Computer-Fans, die öfters an unterschiedlichen C 64 arbeiten, schon folgendes aufgefallen: Bei einigen älteren Modellen bewirkt ein »POKE 1024,1« überhaupt nichts, bei den neueren hingegen erscheint in der oberen linken Bildschirmecke ein »A«. Warum erscheint bei den älteren Modellen das »A« nicht auf dem Bildschirm, obwohl doch alles korrekt gemacht wurde? Das liegt daran, daß das alte Betriebssystem des C 64 die Zeichen nicht in der Zeichen-, sondern in der Hintergrundfarbe in den Bildschirm schreibt Sie sind also zwar vorhanden, aber nicht sichtbar. Dies werden sie erst, wenn durch einen entsprechenden Eintrag in den Farbspeicher ab Adresse 55296 die Farbe des Zeichens extra gesetzt wird. In unserem Fall mit dem »POKE 1024,1« müßte also noch ein »POKE 55296,14« (für ein hellblaues »A«) folgen. Deswegen sollten auch Besitzer eines neueren C 64, die uns Listings schicken, diese Farb-POKEs hinzufügen. Die Programme könnten sonst auf den älteren Computern merkwürdige Bildschirmdarstellungen haben. Für Besitzer eines EPROM-Brenners, die sich ein neues Kernel brennen wollen, sei noch kurz angemerkt, wie das Kernel »richtig« lauten muß, um den Farb-POKE automatisch zu setzen:
alt: $E4DA LDA $D021 (=Zeichen in Hintergrundfarbe)
neu: $E4DA LDA $0286 (=Zeichen in Zeichenfarbe)

(Frank Jahnke/tr)

## ?VERIFY ERROR

Da hat man ein gutes Basic-Programm geschrieben, und dann tritt beim obligatorischen VERIFY dieser Fehler auf. Aber in welcher Programmzeile steckt der Fehler? Dieses Programm (Listing 1) gibtdiefehlerhafteZeilen-Nummeran. Beide Programme müssen auf einer Diskette sein.

Folgende Fehleraussagen sind möglich:

1.	Ungleiche Zeilenlänge
2.	Zeichenfehler bei gleicher Zeilenlänge (oder ein Basic-Be-fehl ist anders)
3.	Ungleiche Zeilennummer
4.	Fehlen einer Zeile

Bei Fehlen einer Zeile beziehungsweise ungleicher Zeilennummer wird der Vergleich mit der Aussage »Bitte überprüfen« abgebrochen.

(Gerhard Reul/tr)

## INT-Funktion fehlerhaft

Wie mir neulich auffiel, ist die »INT<-Funktion beim C 64 keineswegs die definitionsgemäße Integer-Funktion, wie man aus der Abkürzung entnehmen könnte, sondern die Gauss-klammerfunktion. Glücklicherweise ist die Funktion im Handbuch richtig erklärt, nur stimmt nicht, daß »negative Zahlen dem Betrag nach größer werden«, wenn man die Nachkommastellen abschneidet. Die im Betriebssystem definierte Funktion rundet alle Zahlen ab, anstatt die Nachkommastellen abzuschneiden. Das heißt: f(x) = [x] (Gaussklammer), und nicht: f(x) = [ixi] • sgn(x)(lnteger).AuslNT(—1.23)wirdnämlich—2 und nicht, wie es richtig heißen müßte, —1! Es ist also Vorsicht geboten bei Programmen oder Rechnungen, die die lnte-ger-Funktion verlangen und bei denen x negativ ist. Bei kaufmännischen oder sonstigen Anwendungen des C 64, von denen nicht nur das Erfolgserlebnis des Programmierers abhängt, wäre es nötig, die Funktion im Programm neu zu definieren:

DEF FN INT(x) = INT (ABS(x)) * SGN(x)

(Matthias Möller/tr)

## Software-Hex-Tastatur

Das Programm (Listing 2) wird normal geladen und mit »RUN« gestartet. Es kopiert dann mit der schon im 64’er, Ausgabe 3/85, Seite 68 vorgestellten ROM-Routine das KernelROM in das darunterliegende RAM (Zeilen 30 bis 40) und verändert dort die Tastatur-Decodiertabellen (Zeilen 50 bis 70). Wenn sich der Computer wieder mit »READY.« meldet (nach zirka 0,5 Sekunden), lädt man wie gewohnt den MSE, gibt »POKE 2096,53« ein und startet ihn mit »RUN«. Durch die Änderung der Speicherstelle 2096 wird beim MSE-Start der Wert 53 in die Speicherstelle 1 der Zeropage geschrieben. Deshalb holt sich der Computer seine Informationen im Kernel-Bereich nicht mehr aus dem ROM, sondern aus dem RAM, wo die geänderte Tastaturdecodiertabelle steht. Die neue Tastenbelegung wird wie folgt aktiviert: Die normalen Funktionen bleiben bestehen, mit »Shift« ergeben sich aber folgende Umbelegungen:

- auf M bis / liegen 0 bis 3
- auf K bis ; liegen 4 bis 7
- auf I bis @ liegen 8 bis B
- auf 9 bis — liegen C bis F.

Auch die Belegung der INST-DEL-Taste wurde verändert (Zeile 70): ohne Shift wird jetzt INST, mit Shift DEL ausgeführt. Es empfiehlt sich also, bei der Eingabe von MSE-Programmen die Shift-Lock-Taste zu drücken und dann mit den neuen Tasten zu arbeiten. Als Merkhilfe kann man seitlich auf die Tasten kleine Aufkleber mit der neuen Belegung kleben.

(Sven Heemeyer/Andreas Meyer/tr)

## Die unmögliche Uhr

Dieses Programm stellt während des Editierens oder Ablaufs von Basic- oder Maschinenspracheprogrammen im unteren Rand des Bildschirms eine absolut genaue Uhr mit Stunden-, Minuten und Sekundenanzeige dar. Es verbraucht keinen Basic-Speicherplatz, da das Steuerprogramm von $C000 bis $C2D7 und die Spritedaten unter dem KernelROM liegen. Es verfügt über einen minutengenau einstellbaren Wecker. Zur Funktionsweise des Programmes:

Der VIC II-Chip wird in der IRQ-Routine veranlaßt, an zwei Bildschirmstellen einen Interrupt auszulösen. Die erste dieser Stellen liegt am unteren Bildschirmrand. Hier wird durch Ändern der Speicherstelle 53265 der Bildschirm »verlängert«. Da die Uhr unabhängig von Programmen laufen soll, in denen auch Sprites vorkommen, werden die aktuellen Spritedaten gerettet und erst dann die Daten für die Uhr in die entsprechenden VIC-Register geschrieben. Zusätzlich wird die Bank-select-Speicherstelle 56576 »umgeschaltet«, um die Uhr-Sprite-Daten unter dem Kernel-ROM lesen zu können. Anschließend werden die Spritezeiger nach der exakten, weil durch Netzfrequenz getakteten Tageszeituhr des CIA 2-Chip korrigiert und bei Erreichen der Alarmzeit ein optisches und akustisches Signal ausgegeben.

Die zweite Bildschirmstelle, an der ein Interrupt ausgelöst wird, liegt im unteren, nicht mehr sichtbaren Bildschirmbereich. Hier erhalten die VIC-Register und die Bank-select-Speicherstelle wieder ihre ursprünglichen Werte.
Nun zur Bedienung des Programms:

Nachdem Sie das Listing 3, »BORDER-CLOCK«, das Sie mit dem MSE abgetippt und gespeichert, gestartet haben, erzeugt dieses erst das eigentliche Programm »UHR« auf der Diskette. Dies hat folgenden Grund: Das endgültige Programm »UHR« enthält die vollständigen Daten für die Sprite-Ziffern 0 bis 9 und den Doppelpunkt. Diese Daten werden in »BORDERCLOCK« erst aus den sieben Segmenten einer Digital-Uhr zusammengesetzt. Dies bewirkt, daß »BORDER-CLOCK« etwa 200 Byte kürzer ist als »UHR«. Nach dem Laden und Starten des »UHR«-Programms müssen Zeit und Weckzeit in Tl$-Schreibweise (je zwei Stellen für Stunden, Minuten und Sekunden) eingegeben werden.

Nach Drücken von RUN/STOP-RESTORE muß die Anzeige mit»SYS 49756« neu aktiviert werden, die Uhr läuftjedoch intern weiter. Vor der Arbeit mit Peripheriegeräten (Floppy, Drucker, etc.) muß die Anzeige ausgeschaltet werden. Dies kann durch die Tastenkombination CTRL-RESTORE erfolgen. Danach kann sie durch Commodore-Taste und RESTORE wieder eingeschaltet werden. Am Programm können Sie natürlich selbst einiges verändern.

Die Sprite-Daten der Ziffern 0 bis 9 und des Doppelpunktes liegen von 3270 bis 3974. Die Farbe des Uhrenhintergrundes ist in 2974 enthalten, die Farben der einzelnen Sprites von 2980 bis einschließlich 2987. Es können auch einzelne Ziffern ausgeschaltet bleiben, und zwar durch POKE 2962, PEEK(2962)AND(255-2tl), wobei I zwischen 0 und 7 die auszuschaltende Stelle angibt. Schließlich kann noch die Frequenz des Alarmgongs mittels POKE 3072,INT(F/256): POKE 3067,F-256*PEEK(3072) mit F als Frequenz geändert werden.

(Anton Ernst/tr)

## Das 64’er EPROM-Programmiergerät

In der Testphase unseres Programmiergerätes haben sich zwei Veränderungen am Schaltplan des 64’er EPROM-Programmiergerätes ergeben (Ausgabe 12/85, Seite 47, Bild 5).

1. Auf der PGM-Leitung muß ein 7404-Inverter zwischengeschaltet werden.
2. Die vom 74LS139 (Pin 7) ausgehende Leitung muß zwischen dem Treiber und dem Invertierer abgezweigt und über eine Diode (1N4148) mit der Leitung zum Umschalter verbunden werden.

(aw)

TODO das ist ein Fehlerteufelchen!!

## EPROM-Trans

### Ausgabe 10/85, Seite 45, Bild 4

Bei der Zusatzplatine müssen die beiden ICs 74LS00 und 74LS04 vertauscht werden. Taster T1 und T2 müssen noch mit zwei Widerständen (1k5) bestückt werden (siehe Bild).

TODO das ist ein Fehlerteufelchen!!

## Der Riesen-Bildschirm

Dieses Hilfsprogramm (Listing 4) können Sie beim Schreiben eigener Programme verwenden, um Sprites auch über den oberen und unteren Rand hinaus zu bewegen. Das Programm kann von Basic oder Maschinensprache aus benutzt werden, da es im Kassettenpuffer von dezimal 828 bis 929 liegt und so den freien Speicherbereich nicht einschränkt. Die Funktionsweise des Programms:

Der VIC II-Chip löst an drei Bildschirmstellen einen Interrupt aus. Die erste liegt am unteren Bildschirmrand, hier wird durch einen Programmiertrick der Bildschirm »verlängert«. Die zweite Stelle liegt sieben Rasterzeilen unterhalb der ersten. Hier wird durch Auswertung der Speicherstelle 931 entschieden, ob und welche Sprites im unteren Randbereich sichtbar sein sollen. Die dritte Stelle liegt im unteren, nicht mehr sichtbaren Bildbereich, wo abhängig vom Inhalt der Speicherstelle 930 Sprites vom Anfang des oberen bis zum Anfang des unteren Randbereichs sichtbar gemacht werden.
Zur Bedienung des Programms:

Nach der Initialisierung mittels SYS 828 werden Sprites nicht mehr durch POKE 53269,X ein- oder ausgeschaltet, sondern durch POKE 930,X1 und POKE 931,X2. Das Bitmuster (!) von X1 gibt an, welche Sprites Y-Koordinaten von 0 bis 255 haben, X2 enthält das Bitmuster der Sprites mit Y-Koordinaten über 255. Ansonsten werden die Y-Koordinaten in den normalen Registern von 53249 bis 53263 eingetragen. Auf diese Weise sind Y-Koordinaten von 0 bis 511 möglich, wobei die Sichtbarkeit der Sprites je nach vorhandenem Monitor oder Fernsehgerät variiert.

Normalerweise sind Sprites mit Y-Koordinaten von 290 gerade noch sichtbar.
Hierzu einige Beispiele:

POKE 930,PEEK(930)OR2↑3:POKE 931,PEEK(931)AND(255-2↑3):
POKE 53249 + 2*3,5 — Sprite 4 hat die Y-Koordinate 5
POKE 930,PEEK(930)AND(255-2↑7):POKE 931 ,PEEK(931) OR 2↑7:
POKE 53249 + 7*2,7 — Sprite 8 hat die Y-Koordinate 262
POKE 930,PEEK(930)OR2↑O:POKE 931,PEEK(931)OR2↑O:
POKE 53249,3 — Sprite 1 hat die Y-Koordinaten 3 und 258, ist also zweimal auf dem Bildschirm sichtbar.

So ist eine Darstellung von 16 Sprites möglich. Das Demoprogramm im Listing 5 bewegt ein Sprite über den erweiterten Bildschirm.
Noch ein Tip zur Verwendung dieses Utilitys:

Beim Einbau in eigene Programme sollten Sie darauf achten, daß die letzte vom VIC ll-Chip addressierbare Speicherstelle, also im Normalfall 16383, den WertObesitzt, dasonstschwar-ze Streifen Ihren Bildrand verunstalten.

(Anton Ernst/tr)

## Die Commander-Datasette streikt nie wieder

Der Artikel über die Datasettenverbesserung hat bei mir und auch bekannten Computer-Fans Anklang gefunden. Leider mußte ich bald darauf feststellen, daß die Einbauanleitung des Komperators nur für die neue Datasette ausgelegt war. Ein Computerkollege, der leider nur eine Datasette des Typs »Commander — Computer Datasette Model NO: PM-4401C« hat, und den Komperator einbauen wollte, stieß dabei auf diese Schwierigkeiten und bat mich als Elektroniker um Abhilfe. Nach detaillierten Messungen mit dem Oszilloskop fand ich dabei die Anschlüsse heraus und baute den Komperator in seiner Datasette ein. Um auch anderen Computerfans die Möglichkeit zu geben, sich die Schaltung in ihre Commander-Datasette einzubauen, zeigen die beiden Pfeile in Bild 1 den Anschluß an die Platine.

(Peter Ehlert/tr)

# Fehlerteufelchen [81]

### Musik-Kurs, Ausgabe 11/85, Seite 158

Im Listing »Sound.Ed.Zu-satz« wurde eine Zeile vergessen. Fügen Sie deshalb folgende Zeile ein:
9990 REM

### Profiprint, Ausgabe 11/85, Seite 74

Um die Fehlermeldung in Zeile 42 zu verhindern, ist die Zeile 1 wie folgt zu ergänzen:
1 CLR:POKE...

### Neues vom EPROM-Markt, Ausgabe 12/85, Seite 11

Das in der rechten Spalte beschriebene CMOS-RAM wurde von Maas und Alaze entwickelt. Generalvertrieb für Deutschland hat Milan Rajcic, Hammaner Str. 42, 4300 Essen 1, Tel. 0201/ 224141. Anfragen von Händlern sind an diese Adresse zu richten.

### Prüfungsfragen, Ausgabe 9/85, Seite 57

Das in diesem Listing enthaltene Löschen von Sachgebieten funktioniert nicht. Die abgedruckte Fassung löscht statt des gewünschten Sachgebiets das benachbarte. Deshalb folgender Änderungsvorschlag:
12766 OPEN 15,8,15,”S:” + SA$(A) + ’7S”: CLOSE 15
12767 OPEN 15,8,15,”S:?” + SA$(A):CLOSE 15
12768 OPEN 15,8,15, ”S:??” + SA$(A):CLOSE 15

Die Zeilen 12830 bis 12832 sind ersatzlos zu streichen.

### Hardcopy in doppelter Größe, Sonderheft 4, Seite 64

In Listing 1, Zeile 320 ist eine Zahl unleserlich abgedruckt. Bei ihr handelt es sich um die Zahl »41«; dann stimmt’s.

# 64'er Extra [92-93]

> Das 64'er Extra bringt geballte Information über Ihren C 64 zum Heraustrennen und Sammeln. In dieser fünften Ausgabe finden Sie den ersten Teil einer Übersicht über alle ROM-Routinen des C 64. Statt ziellos in ROM-Listings zu blättern, finden Sie hier im Klartext die Funktionsbeschreibung aller irgendwie nutzbaren Routinen.

BCOLD $A000
Basic-Kaltstartvektor ($E394). Unterzieht Basic der Prozedur NEW, gibt die Meldung BYTES FREE und READY aus. Dies beendet die Reset-Sequenz; siehe die Routinen bei $E394 und $FCE2.
BWARM $A002
Basic-Warmstartvektor ($E37B). Unterzieht Basic der Prozedur CLR, gibt READY aus. Dies steht am Ende der SHIFT-RESTORE-Sequenz; siehe die Routinen bei $E37B und $FE43.
$A004
Meldung des CBM-Basic.
$A00C
Tabelle der um 1 verminderten Adressen der Basic-Befehle (END, FOR, NEXT, etc.).
$A052
Tabelle der Adressen von Zahlen- und Stringfunktionen (SGN, INT, ABS, etc.).
$A080
Tabelle der um 1 verminderten Adressen der Routinen zur Bearbeitung der Basic-Operatoren (addieren, subtrahieren, dividieren, etc.); jeder Adresse folgt ein Byte, das die Priorität des Operators angibt.
$A09E
Basic-Schlüsselwörter als Zeichenketten im CBM-ASCII mit gesetztem Bit 7 des letzten Zeichens.
$A129
Tabelle verschiedener Schlüsselwörter, die keine Aktionsadressen haben, (TAB, TO, FN, etc.); Bit 7 des letzten Zeichens ist gesetzt.
$A140
Tabelle der Schlüsselzeichen der Opeatoren; außerdem AND, OR als Zeichenketten mit Bit 7 = ’T des letzten Zeichens.
$A14D
Tabelle der Schlüsselwörter der Funktionen (SGN, INT, ABS, etc.) mit gesetztem Bit 7 des letzten Zeichens.
$A19E
Tabelle der 28 Fehlermeldungen (TOO MANY FILES, FILE OPEN etc.) mit Bit 7 des letzten Zeichens gesetzt.
$A328
Tabelle der Zeiger zu den Fehlermeldungen
$A364
Tabelle der anderen Meldungen OK, ERROR IN, READY, BREAK.
FNDFOR $A38A
Prüft den Stapelspeicher auf den Eintrag für FOR. Aufgerufen von NEXT: wird FOR nicht gefunden, erscheint die Meldung ?NEXT WITHOUT FOR. Löscht auch, wenn von RETURN aufgerufen, einen FOR-Datenblock vom Stapel.
BLTU $A3B8
Schafft eine Lücke im Basic-Text zur Einfügung einer neuen Basic-Zeile. Prüft, ob genug Platz vorhanden, dann:
BLTUC $A3BF
Verschiebtden Blockzwischen ($5F und ($5A)-1 hinauf zu einem neuen Blockende bei ($58)-1.
GETSTIK $A3FB
Prüft, ob der Stapelspeicher noch 2 * A Bytes faßt: wenn nicht, erscheint die Meldung ?OUT OF MEMORY.
REASON $A408
Prüft, ob der Zeiger in (A/Y) unterhalb FRETOP (aktuelle untere Grenze des Zeichenkettenbereichs) zeigt. Wenn ja, wird die Routine verlassen; wenn nein, erfolgt Garbage Collection: wenn danach immer noch nein, wird ?OUT OF MEMORY ausgegeben.
ERROR $A437
Gibt Fehlermeldung aus; X enthält die Fehlernummer (= die Hälfte der Versetzung innerhalb der Adressentabelle der Fehlermeldungen). Wird durch einen Vektor in ($0300) nach $A43A gelenkt. Dann werden die temporären Adressen für Tastatureingabe und Bildschirmausgabe gesetzt, der Steckpointer zurückgesetzt und, falls im Programm-Modus, die Fehlermeldung zusammen mit der Zeilennummer ausgegeben. Dann:
READY $A474
Startet Basic neu: Gibt READY aus, schaltet auf Direktmodus, dann:
MAIN $A480
Nimmt eine Zeile in den Eingabepuffer herein und fügt ein abschließendes Nullbyte an. Prüft, ob Programmzeile oder Befehl im Direktmodus: führt letzteren sofort aus. (MAIN wird über einen Vektor in ($0302) zu $A483 weitergeleitet.)
MAIN1 SA49C
Ist es eine Programmzeile, wird sie verschlüsselt.
INSLIN $A4A4
Ersetzt die alte Zeile durch die neue, falls die Zeilennummer bereits vorhanden; fügt ansonsten die neue Zeile ein. Die Zeilennummer befindet sich beim Eintritt in $14, $15; die Länge +4 steht in Y. Ist das erste Byte im Puffer gleich 0, handelt es sich um eine leere Zeile: die alte Zeile wird gelöscht.
FINI $A52A
Führt nach dem Einfügen einer neuen Zeile RUNC (dadurch gehen beim Editieren die Variablen verloren und anschließendes CONT ist nicht mehr möglich) und LNKPRG aus; springt anschließend zu MAIN.
LNKPRG $A533
Verkettet die Bindezeiger im Basic-Programm; verwendet dabei Nullbytes als Markierungen für das Zeilenende.
INLIN $A560
Nimmt eine Bildschirmzeile in den Basic-Puffer ab $0200 herein und fügt ein abschließendes Nullbyte an.
RDCHR
Setzt einzelnes Zeichen in A.
CRUNCH $A579
Verschlüsseltdie Schlüsselwörterim Eingabepuffer. Wird übereinenVektorin ($0304) gewöhnlich nach $A57C gelenkt.
FNDLIN $A613
Suchtden Basic-Textvon Anfang an nach derZeilennummer in $14, $15 ab. Bei gefundenerZeilen-nummer wird das Übertragsflag gesetzt; ($5F) zeigt auf die Bindeadresse.
FNDLNC $A617
Sucht Basic-Text ab A (niederwertiges Byte) und Y (höherwertiges Byte) nach der Zeilennummer in $14, $15 ab.
SCRATH $A642
*	**NEW springt hierher: prüft die Syntax, dann:
SCRTCH $A644
Setzt die ersten 2 Byte des Textes (= der erste Bindezeiger) auf 0; lädt den Zeiger für den Anfang der Variablen $2D,$2E mit dem Anfang von Basic+2, dann:
RUNC $A659
Setzt mittels STXPT den Zeiger innerhalb GETCHR auf den Anfang des Basic-Texts, dann:
CLEAR $A65E
*** CLR: Löscht die Variablen durch Zurücksetzen der Zeiger zum Ende des Variablenbereichs auf den Wert des Zeigers für das Programmende; eventuelle Zeiger von Zeichenkettenvariablen werden ebenfalls zurückgesetzt. Bricht l/O-Aktivitäten ab und setzt den Stackpointer zurück.
STXPT $A68E
Setzt den Zeiger innerhalb der Routine GETCHR auf den Anfang des Basic-Texts zurück, (das heißt, lädt $7A,$7B mit $2B,2C-1).
LIST $A69C
*** EINSPRUNG für den LIST-Befehl.
LIST1 $A6C9
Listet eine Zeile Basic: zuerst die Zeilennummer, dann den Text.
QPLOP $A717
Bearbeitet das zu listende Zeichen: ist es ein gewöhnliches oder ein Steuerzeichen in Anführungszeichen, wird es ausgegeben; entschlüsselt und druckt Schlüsselzeichen über einen Vektor in ($0306) nach $A71A gelenkt.
FOR SA742
*** Bearbeitung von FOR. Schiebt 18 Byte auf den Stapelspeicher. 1) Zeiger auf die nächstfolgende Anweisung, 2) momentane Zeilennummer, 3) oberer Schleifenwert, 4) Schrittweite (Standardwert = 1), 5) Name der Schleifenvariablen und 6) das Schlüsselzeichen für FOR.
NEWSTT $A7AE
Führt Basic aus: Prüft auf die STOP-Taste und auf das Nullbyte für das Zeilenende oder auf einen Doppelpunkt.
CKEOL $A7C4
Hält an, wenn Textende erreicht und setzt andernfalls den Zeiger innerhalb CHRGET auf den Anfang der nächsten Zeile.
GONE $A7E1
Bearbeitet die Basic-Anweisung in der momentanen Zeile. Über einen Vektor in ($0308) nach A7E4 gelenkt; kehrt in einer Schleife zurück zu NEWSTT.
GONE3 $A7ED
Führt ein Basic-Schlüsselwort aus. Bezieht die Adresse zum Starten der Routine aus der Tabelle bei $A00C. Nimmt ”LET” an, wenn das erste Byte der Anweisung kein Schlüsselwort ist. Legt Adresse auf den Stapelspeicher, so daß der RTS-Befehl von CHRGET dorthin springt.
RESTOR $A81D
*	**RESTORE: Setzt den Datenzeiger bei $41, $42 auf den Anfang des Basic-Textes.
STOP SA82C
*	**STOP: auch END sowie Programmunterbrechung. Speichert Information für CONT (Zeiger in den Basic-Text, Zeilennummer). STOP gibt BREAK IN xxx aus, während END dies überspringt und stattdessen READY druckt. Die STOP-Taste aktiviert STOP; Ein Nullbyte für das Programmende ruft END auf.
CONT SA857
*** CONT: Setzt den Programmlauf fort. Setzt hierzu die aktuelle Zeilennummer ($39, $3A) und den Zeiger innerhalb CHRGET auf die von STOP gespeicherten Werte. ?CANTT CONTINUE ERROR erscheint, wenn das höherwertige Byte des Zeigers bei einem Syntax-Fehler auf »0« gesetzt wurde.
RUN $A871
*** RUN: Löscht alle Variablen (CLR), setzt den Stapelspeicher zurück, setzt CHRGET auf den Anfangvon Basic und beginnt mitderAusführung des Programms. Auf RUN xxxfolgtCLRallerVaria-blen, das Zurücksetzen des Stapelspeichers und schließlich GOTO xxx.
GOSUB $A883
*** GOSUB: Schiebt 5 Byte auf den Stapelspeicher: 1) den Zeiger innerhalb CHRGET, 2) die aktuelle Zeilennummer, 3) das Schlüsselzeichen für GOSUB; anschließend wird GOTO aufgerufen. GOTO $A8A0
*** GOTO: Holt sich die auf die GOTO-Anweisung folgende Zeilennummer und sucht den Basic-Text nach dieser Zeile ab. Ist das höherwertige Byte der Bestimmungszeile größer als das der aktuellen Zeilennummer, erfolgt die Suche ab der momentanen Zeile aufwärts, um die Suchzeit abzukürzen; sonst beginnt die Suche von Anfang an. Setzt Zeiger auf die gefundene Zeile in CHRGET ein.
RETURN $A8D2
*** RETURN: Der Stapelspeicher wird bis zum GOSUB-Schlüsselzeichen restorniert (7RETURN WITHOUT GOSUB, wenn keines gefunden). Anschließend werden die Nummer und der Zeiger der aufrufenden Zeile wiederhergestellt und die Programmausführung fortgesetzt.
DATA $A8F8
*** DATA: Die Routine veranlaßt CHRGET, die DATA-Anweisung bis zum abschließenden Nullbyte oder einem Doppelpunkt zu überspringen.
DATAN $A906
Sucht nach der Endemarkierung der Anweisung; beim Aussprung enthält Y den Unterschied zwischen Zeilenende und dem Zeiger der Routine CHRGET
REMN $A909
Sucht nach dem Ende einer Basic-Zeile.
IF $A928
*** IF: Wertet den Ausdruck aus; ist das Resultat »Falsch« (das heißt gleich 0), wird der THEN-oder GOTO-Teil mittels REM übergangen.
REM $A93B
*** REM: Sucht nach dem Ende der Zeile und bringt den Zeiger in CHRGET auf den neuen Stand. Dadurch wird der Inhalt der REM-Zeile übergangen.
OOCOND $A940
Setzt IF fort: Ist der Ausdruck wahr, wird der nächste Befehl, oder, wenn eine Zahl folgt, GOTO ausgeführt.
ONGOTO $A94B
*** ON: Berechnet den Ausdruck, prüft auf Schlüsselzeichen für GOTO oder GOSUB, geht die Liste der Zeilennummern nach der angegebenen Zeilennummer durch, überspringt dabei Kommata, und führt schließlich GOTO oder GOSUB dorthin aus.
LINGET $A96B
Liest aus dem Basic-Text eine Ganzzahl (gewöhnlich eine Zeilennummer) in $14, $15 ein; die Zahl muß im Bereich 0...63999 liegen.
LET $A9A5
*** LET: Sucht Zielvariable in der Variablenliste (oder erzeugt sie, falls nicht vorhanden), prüft auf das Schlüsselzeichen für ”=”, berechnet den Ausdruck und setzt das Ergebnis oder den Zeichen-kettendescriptor in die Variablenliste.
PUTINT $A9C4
Rundet den FAC1 und sezt ihn als Ganzzahl in die Variablenliste an die aktuelle Variablenposition, auf die ($49) zeigt.
PTFLPT $A9D6
Setzt FAC1 in die Variablenliste an die durch ($49) angegebene Stelle.
PUTTIM $A9E3
Ordnet die Systemvariable Tl$ zu.
ASCADD $AA27
Addiert ASCII-Ziffer zu FAC1.
GETSPT $AA2C
LETfürZeichenketten—setztden Zeichenketten-Deskriptor, aufden (FAC1 + 3) zeigt, in die Variablenliste an die Stelle ($49).
PRINTN $AA80
PRINT: Ruft CMD auf, löscht dann die l/O-Kanäle und setzt die Standard-Geräteadressen wieder ein.
CMD $AA86
*** CMD: Setzt mittels der Kernel-Routine CHKOUT das CMD-Ausgabegerät aus der Dateitabelle und ruft PRINT auf.
STRDON $AA9A
Teil der PRiNT-Routine: Gibt Zeichenkette aus und fährt mit der Abwicklung von PRINT fort.
PRINT $AAAO
*** PRINT: Identifiziert PRINT-Parameter (TAB, SPC, Komma, Strichpunkt usw.) und berechnet Ausdrücke.
VAROP $AAB8
Gibt Variable aus; Zahlen werden zunächst in eine Zeichenkette umgewandelt.
CRDO $AAD7
Gibt eine Zeilenschaltung aus, der ein Zeilenvorschub folgt, wenn die Kanaladresse 128 ist.
STROUT $AB1E
Druckt die Zeichenkette, auf die (A/Y) zeigt, bis ein Nullbyte oder Anführungszeichen angetroffen wird.
STRPRT $AB21
Druckt Zeichenkette: (FAC1+3) zeigt auf den Zeichenketten-Deskriptor.
OUTSTR $AB24
Zeichenkettenausgabe: ($22) zeigt auf die Zeichenkette; die Länge ist in A festgehalten.
OUTSPC $AB3B
Ausgabe eines Cursorschritts nach rechts (oder eines Leerzeichens, wenn die Ausgabe nicht zum Bildschirm erfolgt).
PRTSPC $AB3F
Gibt Leerzeichen aus.
OUTSKP $AB42
Gibt Cursorschritt rechts aus.
OUTQST $AB45
Gibt Fragezeichen vor Fehlermeldung aus.
OUTOO $AB47
Gibt das Zeichen in A aus.
TRMNOK $AB4D
Gibt die entsprechenden Fehlermeldungen für GET, READ und INPUT aus.
GET $AB7B
*** GET: Prüft auf Direktmodus (nicht zulässig) und holt ein Zeichen von der Tastatur oder Datei.
INPUTN $ABA5
*** INPUT: Holt die Dateinummer, schaltet das Gerät ein, ruft INPUT auf und schaltet dann das Gerät ab.
INPUT $ABBF
*** INPUT: Gibt den Hinweistext des Benutzers aus, falls vorhanden, dann:
QINLIN $ABF9
Bringt ein »?« auf den Bildschirm und nimmt die durch eine Zeilenschaltung begrenzte Zeile Text in den Eingabepuffer herein.
READ $AC06
*** READ:GET undlNPUTteilensichdieseRoutine,werdenaberdurcheinFlagin$11 unterschieden.
INPCON $ACOD
Einsprung für INPUT: Setzt das Flag und ruft READ auf; (X/Y) zeigt auf den Puffer.
INPCO1 $ACOF
Einsprung für GET: Setzt das Flag und ruft READ auf; (X/Y) zeigt auf den Puffer.
DATLOP $ACB8
Geht Text durch und liest DATA-Anweisungen
VARENO $ACDF
Prüft auf eine »0« am Ende des Eingabepuffers; gibt die Meldung? EXTRA IGNORED aus, wenn nicht gefunden.
EXINT $ACFC
Die Meldungen? EXTRA IGNORED und ?REDO FROM START beide gefolgt von CRLF (Zeilenschaltung und Zeilenvorschub).
NEXT$AD1E
*** NEXT: Prüft auf das Schlüsselzeichen für FOR und die passende Variable auf dem Stapelspeicher; gibt?NEXTWITHOUT FOR aus, wenn nicht gefunden; berechnet nächsten Wert: wenn dieser noch gültig, werden die aktuelle Zeilennummer und der Zeiger in CHRGET zurückgesetzt und die Schleife fortgesetzt.
FRMNUM $AD8A
Berechnet einen numerischen Ausdruck von Basic aus durch Aufruf von FRMEVL, dann:
CHKNUM $AD80
Prüft durch Testen der Flag bei $OD, ob FRMEVL eine Zahl geliefert hat: Meldung ?TYPE MISMATCH ERROR, wenn nicht.
CHKSTR $AD8F
Prüft durch Testen der Flag bei $OD, ob FRMEVL eine Zeichenkette geliefert hat: Meldung ?TYPE MISMATCH ERROR, wenn nicht.
FRMEVL $AD9E
Wertet jeglichen Basic-Formelausdruck aus und meldet alle Syntaxfehler; setzt $OD (VALTYP) im Falle einer Zahl auf $00, bei einer Zeichenkette auf $FF. Setzt bei einer Fließkommazahl $OE (INTFLG) auf $00 und legt den Wertin FAC1 ab. War der Variablentyp ganzzahlig, wird INTFLG auf $80 gesetzt, das Ergebnisjedoch im Fließkommaformat in FAC1 belassen. Komplizierte Ausdrücke können eine Vereinfachung erfordern, um Platz im Stapelspeicher zu gewinnen und den Fehler ?OUT OF MEMORY zu vermeiden.
EVAL $AE83
Wertet einzelnes Glied in einem Ausdruck aus; sucht nach Ziffernketten in ASCII, Variablen, r, NOT, arithmetischen Funktionen und so weiter.
PIVAL $AEA8
Wert für ?r im 5-Byte-Fließkommaformat.
PARCHK $AEF1
Wertet Klammerausdrücke innerhalb des Textes aus.
CHKCLS $AEF7
Prüft, ob CHRGET auf ”)” zeigt —?SYNTAX ERROR, wenn nicht.
CHKOPN $AEFA
Prüft, ob CHRGET auf ”(” zeigt —?SYNTAX ERROR, wenn nicht.
CHKCOM $AEFD
Prüft, ob CHRGET auf ” , ” zeigt —?SYNTAX ERROR, wenn nicht
SYNCHR $AEFF
Prüft, ob CHRGET auf ein Byte gleich dem in A zeigt: wenn ja, wird die Routine mit dem nächsten Byte in A verlassen, sonst ?SYNTAX ERROR.
SYNERR $AF08
Gibt ?SYNTAX ERROR aus und kehrt zum READY-Status zurück.
DOMIN $AFOD
Berechnet NOT.
TSTROM $AF14
Setzt das Übertragsflag auf 1, wenn (FAC1+3) auf ROM zeigt, was auf eine der reservierten Variablen Tl$, Tl, ST hinweist.
ISVAR $AF28
Sucht die Variablenliste nach der in $45, $46 genannten Variablen ab; beim Verlassen der Routine enthält FAC1 einen numerischen Wert im FLPT-Format (sowohl bei Ganzzahl- wie bei Fließkommavariablen); im Falle einer Stringvariablen zeigt (FAC1+3) auf den Zeichenketten-Descriptor.
TISASC $AF48
Liest den Taktzähler und bildet eine Zeichenkette, die Tl$ enthält.
ISFUN $AFA7
Stellt Funktionstyp fest und wertet ihn aus.
DROP $AFE6
*** OR-Funktion: Setzt Flag und führt mit zwei Ganzzahlen ausje 2 Bytes in FAC1 und FAC2 logisches ODER (OR) aus.
ANDOP $AFE9
*** AND-Funktion: Diese Operationen werden durch eine Routine ausgeführt; ein Flag (in Y) enthält $FF für OR, $00 für AND. Wandel FLPT in Ganzzahl um (Fehlermeldung, wenn außerhalb des zulässigen Bereichs); das Ergebnis bleibt im FLPT-Fbrmat in FAC1.
DOREL $B016
*** Vergleiche: < = > prüfen die Variablentypen, dann:
NUMREL $BO1B
Führt mittels FCOMP bei $DC5B numerische Vergleiche aus, oder:
STRREL $B02E
FührtZeichenkettenvergleich aus: Aussprung mitX=0 bei gleichen Zeichenketten mitX=1, wenn die erste > die zweite und X=255, wenn die zweite > die erste.
DIM $B081
*** DIM: Stellt mittels der Routine PRTGET alle Feldelemente auf.
PTRGET $B08B
Prüft einen Variablennamen in Basic auf Zulässigkeit; das erste Zeichen muß ein Buchstabe sein, das zweite ein Buchstabe oder eine Zahl; was danach kommt, bleibt unbeachtet. Setzt VALTYP ($0D) auf $FF; wenn ein »$« angetroffen wird, sonst auf $00; setzt INTFLG ($0E) auf $80, wenn ein »%« gefunden wird. Der Name wird in VARNAM ($45, $46) zwischengespeichert. Dabei sind die höchsten Bits so gesetzt, daß sie über den Variablentyp Auskunft geben, wie in Kapitel 5 beschrieben.
ORDVAR $B0E7
Sucht die Variablenliste nach dem in VARNAM ($45, $46) abgelegten Namen ab und läßt VARPNT ($47) darauf zeigen. Definiert neue Variable, wenn Name nicht gefunden.
ISLETC $B113
Setzt das Übertragungsflag, wenn der Akkumulator einen der Buchstaben A...Z enthält.
NOTFNS $B11D
Stellt eine neue einfache Variable (keine Feldvariable) in der Variablenliste unmittelbar vor den Feldern auf. Der Name befindet sich in VARNAM ($45, $46). Eventuelle Felder müssen um 7 Byte nach oben rücken, um Platz für die neue Variable zu schaffen. Beim Verlassen zeigt ($5F) auf die neu eingerichtete Variable.
FMAPTR $B194
Berechnet Zeigerwert in $5F,$60; wird bei der Zuweisung von Platz für Felder gebraucht.
N32768 $B1A5
Enthält — 32768 als 5-Byte-Fließkommazahl.
FACINX $B1AA
Verwandelt FAC1 in eine Ganzzahl (—32768 bis +32767) und speichert sie in A/Y.
INTIDX $B1B2
Holt einen positiven Ganzzahlausdruck vom nächsten Teil des Basic-Texts und wertet ihn aus; liegt das Resultat im Bereich 0...32767, wird es in (FAC1+4, FAC1+3) abgelegt.
AYINT $B1BF
Wandelt FAC1 in Ganzzahl des Bereichs 0...32767 um; Ergebnis in FAC+3.
ISARY $B1D1
Holt Feldparameter aus dem Basic-Text: Zahl der Dimensionen, Zahl der Elemente. Legt sie auf den Stapelspeicher.
FNDARY $B218
Sucht nach dem Feldnamen in VARNAM ($45,$46) und nach den anderen Einzelheiten auf dem Stapel.
BSERR $B245
BAD SUBSCRIPT ERROR (falscher Index). BS+3 = ILLEGAL QUANTITY ERROR (nicht zulässige Größe).
NOTFDD $B261
Ist das Feld nicht vorhanden, nimmt diese Routine die Angaben auf dem Stapelspeicher und definiert das Feld mit der Dimension 10.
INPLN2 $B30E
Macht angegebenes Feldelement ausfindig und läßt VARPTN ($47) darauf zeigen.
UMULT $B34C
Berechnet den Abstand des angegebenen Feldelements von der Feldadresse, auf die (VARPTN) ($47) zeigt; setzt das Ergebnis in X/Y.
FRE $B37D
*** FRE: Führt Garbage Collection aus und läßt (Y/A) auf die unterste (Zeichenkette minus Zeiger auf das Ende der Felder) zeigen; plaziert das Ergebnis in FAC1 durch Aufruf von:
GIVAYF $B391
Wandelt die 2-Byte-Ganzzahl in Y/A (Bereich —32768 bis +32767) in FLPT um und setzt sie in FAC1.

# PAGES MISSING!!


















# Memory Map mit Wandervorschlägen [128-130]

> Heute geht es um die Speicherzellen 256 bis 645. Sie entnalten den Stapelspeicher und neben vielen nützlichen Adressen den Tastaturpuffer.

Der Speicherbereich von 256 bis 511 wird von den meisten Home-Computern zur Speicherung von Adressen und Daten bei Programm-Unterbrechungen und -Verzweigungen verwendet. Warum gerade dieser Bereich dafür genommen wird, und wie dieser Speicher funktioniert, können Sie dem Texteinschub »Der Stapelspeicher« entnehmen.

Das von Commodore verwendete Basic benötigt allerdings dafür nur den Bereich von 319 bis 511, so daß die Adressen von 256 bis 318 für verschiedene andere Zwecke genutzt werden.

## Adresse 256 bis 266 ($100 bis $10A)
### Arbeitsspeicher für Umwandlung von Gleitkomma-Zahlen in ASCII-Werte, auch FAC (Fließkomma-Akku) genannt

Diese 11 Byte werden von einer Routine des Betriebssystems verwendet, um Werte zwischenzuspeichern, die bei der Umwandlung von Gleitkomma-Zahlen in ASCII-Werte oder in Werte der Funktion TI$ anfallen. Eine andere Routine verwendet den Bereich, um Zeichenketten (Strings) zu untersuchen.

## Adresse 256 bis 318 ($100 bis $13E)
### Arbeitsspeicher für Fehler bei der Eingabe vom Band

Alle Daten, die auf Band gespeichert werden, stehen dort doppelt in zwei identischen Blöcken hintereinander. Beim Laden in den Computer werden beide Blöcke miteinander verglichen, um Fehler zu finden und, wo möglich, sie zu korrigieren.

In diesem Bereich, der übrigens auch bei der Speicherzelle 256 anfängt, aber 63 Byte in Anspruch nimmt, werden beim Laden Angaben gespeichert, aus denen das Betriebssystem erkennen kann, welche Bytes fehlerhaft sind.

## Adresse 319 bis 511 ($13F bis $1FF)
### Stapelspeicher (Stack) des Mikroprozessors

Die Funktionsweise eines Stapelspeichers, auf englisch »stack«, ist im Texteinschub gleichen Namens erklärt.

Der Stapelspeicher hat prinzipiell die Aufgabe, bei allen Sprüngen oder Unterbrechungen innerhalb eines normalen Programmablaufs alle Adressen und Daten so zu speichern, daß am Ende der Unterbrechung das Programm wieder fortgesetzt werden kann.

Derartige Unterbrechungen und Sprünge treten in Basic bei den Befehlen GOSUB-RETURN und FOR-NEXT auf, genauso wie bei vielen Routinen des Betriebssystems. In Maschinensprache gibt es dafür sogar eigene Befehle. Heimo Ponnath hat sie alle in seinem Assemblerkurs (Folge 7 und 8 im 64'er, Ausgabe 2/85 und 3/85) sehr ausführlich beschrieben.

Da uns hier Basic mehr interessiert, gebe ich Ihnen nur kurz an, was im Stapel gespeichert wird, da der Stapelspeicher nur in Maschinensprache manipuliert werden kann.

Jeder FOR-TO-NEXT-Befehl belegt 18 Byte im Stapelspeicher.

Im ersten Byte steht als Kennung die Zahl 129. Byte 2 und 3 enthalten in Low/High-Byte-Dar-stellung einen Zeiger auf die Adresse, in der die durch das FOR definierte Schleifen-Variable (zum Beispiel K in FOR K = 0 TO 3) gespeichert ist. Die nächsten 5 Byte sind für den Gleitkommawert von STEP reserviert, das Byte danach für das Vorzeichen von STEP. Danach folgt der Gleitkommawert von TO mit 5 Byte und in zwei weiteren Byte die Nummer derjenigen Zeile, auf die nach dem NEXT zurückgesprungen wird. In den letzten beiden Byte schließlich steht ein Zeiger auf der Adresse, in der das nächste Zeichen steht, welches nach Beendigung der FOR-TO-NEXT-Schleife gelesen werden muß.

Ein GOSUB-Befehl belegt 5 Byte im Stapelspeicher. Byte 1 enthält die Kennzahl 141. Ihr folgen zwei Byte für die Nummer der Zeile, auf die nach RETURN zurückgesprungen wird. Die letzten beiden Byte enthalten wieder einen Zeiger auf die Adresse, in der das nächste Zeichen steht, mit dem nach RETURN das Programm fortgesetzt wird.

Der Basic-Befehl DEF zur freien Definition von Funktionen belegt ebenfalls 5 Byte im Stapelspeicher. Ihre Verteilung ist dieselbe wie von GOSUB, mit dem einzigen Unterschied, daß statt der ersten Kennzahl irgendein anderer Wert verwendet wird, der aber keine Bedeutung hat.

Wenn so viele FOR...NEXT-Schleifen oder GOSUB-Sprünge gleichzeitig im Programm vorkommen, daß der Stapelspeicher voll wird, steigt das Programm mit OUT OF MEMORY aus.

## Adresse 512 bis 600 ($200 bis $258)
### Eingabespeicher von Basic

Wenn Sie Zeichen, zum Beispiel einen Befehl oder eine Programmzeile, eingeben und mit der RETURN-Taste abschließen, werden diese Zeichen in diesen Speicherbereich von 512 bis 600 gebracht. Seine Länge von 89 Byte entspricht der Länge einer logischen Zeile des VC 20 (88 Zeichen) plus einer Abschluß-Null. Die logische Zeilenlänge des C 64 von 80 Zeichen füllt den Speicherbereich nicht ganz aus, aber das Betriebssystem des C 64 ist nicht geändert worden.

Nach RETURN sucht der Computer diesen Eingabespeicher nach Gänsefüße, Komma und nach der Zahl für Zeilenende ab. Dann wandelt der Computer die gespeicherten Zeichen in für ihn lesbare Zahlen (Token und ASCII-Werte) um und fügt am Anhang die Zeilennummer und die Anschluß-Adresse (Link) der nächsten Zeile, am Ende die Abschluß-Null hinzu. Wenn eine Zeilennummer vorhanden ist, kommt alles in den Programmspeicher. Fehlt sie jedoch, dann wird die ganze Anweisung sofort ausgeführt (Direktmodus).

Eine detaillierte Beschreibung dieses Eingabe- und Umwandlungsvorganges gab Christoph Sauer im 3. Teil seines Kurses »Der gläserne VC 20« im 64’er, Ausgabe 11/84 ab Seite 126.

Dieser Speicherbereich wird auch von den Befehlen INPUT und GET benutzt, um die Eingabedaten aufzunehmen. Das erklärt übrigens, warum diese beiden Befehle nur innerhalb einer Programmzeile und nicht im Direktmodus verwendet werden können. Sie verwenden ja denselben Speicherplatz, der vom Direkt-(Eingabe-)Modus verwendet wird.

Es erklärt außerdem, warum eine von INPUT geforderte Eingabe maximal 88 Zeichen lang sein darf.

## Adresse 601 bis 630 ($259 bis $276)
### Tabellen für File-Nummern, Geräte-Nummern und Sekundär-Adressen von eröffneten Dateien

Bei der Besprechung der Speicherzelle 152 im 64’er, Ausgabe 6/85, Seite 122/123, habe ich diesen Speicherbereich bereits erwähnt. Ich habe damals gesagt und gezeigt, daß die Zelle 152 über die Anzahl der eröffneten Dateien (Files) Buch führt, die Tabellen in 601 bis 630 dagegen darüber, welche File-Nummern, Geräte-Nummern und Sekundär-Adressen jeder eröffneten Datei zugeordnet ist. Wer sich nochmals über diese Begriffe orientieren will, den verweise ich auf Teil 11 dieses Kurses (64’er, Ausgabe 10/85, Seite 134/135).

Der Speicherbereich von 601 bis 630 ist in drei Blöcke unterteilt.

In jeder Tabelle können also maximal 10 Byte stehen. Sie haben folgende Zusammensetzung:

TODO TABLE

601 bis 610	Tabelle der File-Nummern
611 bis 620	Tabelle der Geräte-Nummern
621 bis 630	Tabelle der Sekundär-Adressen

Die drei Angaben über eine eröffnete Datei stehen in den Tabellen jeweils am gleichen Platz. Wenn also die Datei Nummer 5 als dritte Datei eröffnet worden ist, steht eine 5 in Zelle 603, ihre Gerätenummer in Zelle 613, die Sekundär-Adresse entsprechend in Zelle 623.

Immer wenn eine neue Datei eröffnet wird, kommen diese Angaben auf die nächsten Plätze der Tabellen und der Inhalt der Speicherzelle 152 wird um 1 erhöht. Wird dagegen eine Datei geschlossen, dann rücken alle Angaben dahinter um eine Stelle zurück.

In diesen Tabellen kann nachgesehen werden, mit welchen Parametern Dateien eröffnet worden sind. Eine sehr interessante Anwendung, die den Vorschlag der beiden Autoren hier zitieren,wurde veröffentlicht [2].

Eine Änderung der Filenummern in Tabelle 601 bis 610 ist nicht empfehlenswert, um Verwechslungen zu vermeiden.

Mit dem folgenden kleinen Programm, welches bei einer eröffneten Datei die Geräte-Nummer in Tabelle 611 bis 620 ändert, kann zwischen einem Drucker mit Geräte-Nummer 4 und einem Plotter mit Geräte-Nummer 6 umgeschaltet werden.

10 OPEN 4,4,0
20 POKE611,6: PRINT#4,”PLOTTER”
30 POKE 611,4: PRINT#4, "DRUCKER”

Ähnliches ist mit den Sekun-där-Adressen möglich. Dabei muß man allerdings wissen, daß die Sekundär-Adressen nicht so wie sie sind in der Tabelle 621 bis 630 gespeichert werden, sondern mit »OR 96« verknüpft. Dasselbe müssen wir auch machen:

10 OPEN 3,4,0
20 POKE 621,0 OR96:PRINT#3,”GRAFIKMODUS”
30 POKE 621,7 OR96:PRINT#3,”TEXTMODUS”

Mit dieser Methode können Sie sich das Öffnen und Schließen vieler Dateien ersparen.

## Adresse 631 bis 640 ($277 bis $280)
### Tastaturpuffer

Bei der Behandlung der Speicherzelle 203 in Ausgabe 11/85 habe ich die Codezahlen beschrieben, die bei Drücken einer der 64 Tasten erzeugt werden. In der letzten Ausgabe (12/85) bei den Speicherzellen 245/246 haben wir gesehen, wie aus diesen Tastencodes der ASCII-Code für die verschiedenen Zeichen einer Taste umgerechnet wird.

Hier nun im Tastaturpuffer landen diese umgerechneten ASCII-Werte. Wenn Sie den Kurs schon länger verfolgen, ist Ihnen das auch nicht neu, denn in Ausgabe 7/85 habe ich die Wirkungsweise des Tastaturpuffers bei der »Dynamischen Tastenabfrage« sozusagen im Vorgriff, ausführlich erklärt.

Zur Erinnerung sei gesagt, daß im Tastaturpuffer alle Zeichen zwischengespeichert werden, die während eines Programmlaufes eingegeben und nicht sofort vom Betriebssystem verarbeitet werden können. Sobald der Computer sich im Eingabe-Modus befindet — nach Programmende oder bei INPUT- und GET-Befehlen, werden die Zeichen in der Reihenfolge ihrer Eingabe herausgeholt und verwendet.

Der Tastaturpuffer ist 10 Byte lang. In Speicherzelle 198 steht, wieviele Zeichen sich im Puffer befinden.

Als Ergänzung zu den Beispielen der dynamischen Tastenabfrage im 64'er, Ausgabe 7/85 zeige ich Ihnen im Texteinschub »Programme, die sich selbst verändern« noch ein paar andere Anwendungen.

## Adresse 641 bis 642 ($281 bis $282)
### Zeiger auf den Anfang des Programmspeichers

Wenn der Computer eingeschaltet wird oder wenn mit einer Reset-Taste beziehungsweise mit SYS58260 (VC 20: SYS 58232) ein Kaltstart ausgelöst wird, setzt das Betriebssystem diesen Zeiger auf die Adresse des ersten freien RAM-Spei-cherplatzes.

Beim C 64 ist dies die Adresse 2048. Beim VC 20 hängt sie von der Speichererweiterung ab; ohne Erweiterung ist es 4096, mit einer 3-KByte-Erweiterung dagegen 1024, mit 8 KByte oder mehr ist die Adresse 4608.

Dieser Zeiger wird vom Basic-Übersetzer in die Speicherzelle 43 übernommen und nur von dort weiter verwendet.

## Adresse 643 bis 644 ($282 bis $283)
### Zeiger auf das Ende des Programmspeichers

Dieser Zeiger ist der Zwilling zu dem anderen Zeiger in 641/ 642. Er wird vom Betriebssystem auf die Adresse gesetzt, welche beim Kaltstart beziehungsweise der dabei durchgeführten Prüfung des Speichers den letzten verfügbaren RAM-Speicherplatz angibt. Beim C 64 ist diese Adresse normalerweise 40960 ($A000), beim VC 20 ohne Erweiterung 7680.

Dieser Zeiger wird vom Basic-Übersetzer in die Speicherzelle 55 übernommen.

## Adresse 645 ($285)
### Flagge für Ein- und Ausschalten der IEEE-488-Karte

Diese Speicherzelle ist etwas mysteriös. Sie kommt im ganzen Betriebssystem nur ein einziges Mal zum Einsatz und zwar als Flagge beim Betrieb der sogenannten IEEE-488-Interface-Karte. Wenn diese Flagge gesetzt ist, wartet der Computer 64 Millisekunden lang, ob er von einem angeschlossenen Gerät angesprochen wird. Wenn kein Signal kommt, gibt er ein Fehlersignal aus.

Zahlen in der Zelle 645, die kleiner als 128 sind, bedeuten Flagge gesetzt, größer als 128 löschen sie die Flagge.

Das nächste Mal machen wir mit mehreren interessanten Speicherzellen für Schriftfarbe und Tastatursteuerung weiter.

(Dr. H. Hauck/ah)

Literatur
[1] Sheldon Leemon
Mapping the C 64
COMPUTE! Publications 1984
[2] Hannes Rügheimer,
Christian Spanik
C 64 PEEK + POKE Adreßbuch
CHIP-Special
[3] Russ Davies
Mapping the VIC
COMPUTE! Publications 1984

TODO ASIDE

## Texteinschub #1: Der Stapelspeicher

Der normale Speicher, mit dem wir es immer zu tun haben, in den wir Zahlen hineinPOKEn oder herausPEEKen,ist aufgebaut wie eine Häuserreihe, in der jedes Haus seine eigene Adresse hat. Wer etwas in ein bestimmtes Haus abliefern oder aus ihm abholen will, muß seine genaue Adresse kennen.

Dieses Speicherprinzip heißt RAM, das ist die Abkürzung für »Random Access Memory« oder auf deutsch »Speicher mit wahlfreiem Zugriff«.

Der Stapelspeicher funktioniert anders. Jetzt werden die Häuser der Reihe nach aufgesucht, wie mit einer Postwurfsendung oder durch die Müllabfuhr. Ein besserer Vergleich ist der Aktenstapel. Die erste Akte wird auf den Tisch gelegt, alle nachfolgenden kommen obendrauf.

Beim Aktenstapel sieht man eine weitere Eigenschaft. Wenn er nämlich abgearbeitet wird, kommt die Akte als erste an die Reihe, die als letzte auf den Stapel gelegt worden ist.

Dieses Speicherprinzip heißt »LIFO«; das ist eine Abkürzung aus dem englischen und heißt »Last In First Out«.

Der Benutzer eines Stapelspeichers braucht sich nicht mehr um Adressen zu kümmern. Er kennt nur noch den Platz, wo der Speicher Daten annimmt beziehungsweise abgibt. Was der Benutzer sich allerdings merken muß, ist die Reihenfolge seiner Ein- und Ausgaben.

Stapelspeicher werden von mehreren Programmiersprachen verwendet; am bekanntesten ist wohl FORTH, auch die HP-(Hew-lett-Packard)-Taschenrechner arbeiten mit diesem Prinzip.

Unsere Computer verwenden das Prinzip des Stapelspeichers nur bei Programmschleifen, Unterprogramm-Sprüngen, ja überhaupt bei jeder Unterbrechung des normalen Programmablaufes. Das Problem dabei ist nämlich, sich alle Adressen und Angaben des Programms so zu merken, daß nach dem Ende der Unterbrechung das alte Programm lückenlos fortgesetzt werden kann.

Der Stapel belegt den Speicherbereich von 256 bis 511. Dieser Bereich unterscheidet sich in seinem Aufbau natürlich überhaupt nicht von den anderen Speicherbereichen. Es wäre auch viel zu aufwendig, alle Daten des Stapelspeichers bei jeder Ein- und Ausgabe rumzuschieben. Diese Aufgabe besorgt ein Register des Mikroprozessors, das »Stapelzeiger« genannt wird und das wie ein Zähler arbeitet.

Am Anfang steht in diesem Stapelzeiger die oberste Adresse 511. Bei jeder Eingabe wird die Zahl um 1 erniedrigt, bei jeder Ausgabe um 1 erhöht. Da der Stapelzeiger, wie jedes andere Register auch, eine Länge von 8 Bit hat, kann er nur die Dualzahlen von 00000000 bis 11111111 darstellen. Um daraus 256 beziehungsweise 511 zu formen, stellt der Mikroprozessor sozusagen fest verdrahtet ein neuntes Bit, immer auf 1, der Zahl voran.

## Texteinschub #2: Programme, die sich selbst verändern

Der Speicherbereich von 631 bis 640 beherbergt den Tastaturpuffer. Schon im 64’er, Ausgabe 7/85, Seite 141/142 habe ich Ihnen Anwendungen gezeigt, die den Tastaturpuffer einsetzen und in der Literatur unter dem Namen »Dynamische Tastenabfrage« bekannt sind.

Hinter diesem natürlich aus dem Englischen übersetzten Begriff verbirgt sich die Möglichkeit, innerhalb eines Programms bestimmte Werte in den Puffer zu speichern, die dort so lange aufgehoben bleiben, bis das Programm — aus welchen Gründen auch immer — beendet wird. Dann erst werden die Werte hervorgeholt. Wenn es Zeichen sind, dann erscheinen sie auf dem Bildschirm. Wenn es Steuertasten sind (zum Beispiel RETURN), werden sie ausgeführt.

Ich will hier nicht die in Ausgabe 7 gezeigten Anwendungen wiederholen, sondern sie lediglich um ein paar weitere Tricks ergänzen, die ich im Juli aus Platzgründen nicht bringen konnte.

### Zeile in ein Programm einfügen

Die folgende Methode ermöglicht die Veränderung eines Programms durch sich selbst. Genauer gesagt, man kann damit Programmzeilen einfügen. Nehmen wir an, Sie haben folgendes Teilprogramm:

150 PRINT”BITTE TASTE DRUECKEN”
160	GET A$:IF A$ = ””THEN 160
170 IF A$ < > ”E” THEN 150
180 END
500 PRINT ’’NAECHSTER TEIL”

Die ersten vier Zeilen warten so lange, bis die E-Taste gedrückt -wird, dann bleibt das Programm mit READY stehen.

Wir wollen nun eine zusätzliche Zeile 165 durch das Programm einfügen lassen, mit der nicht beendet, sondern durch Drücken der Q-Taste auf die Zeile 500 gesprungen wird. Das erreichen wir durch folgende Zeilen:

172 PRINT CHR$(147)
174 PRINT ”165 IF A$ = CHR$(81) THEN 500”
176	PRINT ”GOTO 150”
178	POKE 631,19:POKE 632,13:POKE 633,13: POKE 634,13:POKE 198,4

Wenn jetzt die E-Taste gedrückt wird, löscht Zeile 172 den Bildschirm, Zeile 174 druckt in die zweite Bildschirmzeile die neue Programmzeile 165 und Zeile 176 darunter ohne Zeilennummer den Direktbefehl GOTO 150. In den Tastaturpuffer werden nacheinander die Werte für HOME und dreimal RETURN eingegeben und die Anzahl der Zeichen im Puffer auf 4 begrenzt.

Sobald nun das Programm den Befehl END in Zeile 180 erreicht, werden die Werte im Puffer ausgeführt, das heißt der Cursor geht nach HOME, das erste RETURN setzt ihn ohne Wirkung eine Zeile tiefer, wo er auf der neu ausgedruckten Zeile 165 steht. Das zweite RETURN gibt diese Zeile ein, das dritte RETURN führt den Direktbefehl GOTO 150 aus, wodurch das Programm weiterläuft, so wie vorher. Der einzige Unterschied ist nur, daß jetzt eine neue Zeile im Programm steht, nämlich die Zeile 165.

Prüfen Sie es mit STOP und LIST.

### Zeile verändern oder löschen

Diese Methode habe ich von S. Leemon [1] übernommen. Sie funktioniert im Prinzip genauso wie das Einfügen von Zeilen. Die Programmzeilen sind durch REMs erklärt. Probieren Sie es aus.

10 REM - DIESE ZEILE WIRD GELÖSCHT
20	PRINT CHR$(147):PRINT:PRINT
30	PRINT ”60 LIST”
40	PRINT ”10”
50	PRINT ”GOTO 70”	CHR$(19)
60	FOR 1 = 631 TO 633:POKE I,13:NEXT: POKE 198,3:END
70 REM - DIESE ZEILE WIRD ERSETZT

Diese Verfahren, Zeilen eines Programms während des Laufs eines Programms zu ändern, haben sicher für einfache Programme keine große Bedeutung. Ich bin aber fest davon überzeugt, daß sie bei Programmen, die selbst lernen können, eine wichtige Rolle spielen. Nur habe ich hier jetzt noch kein gutes Demonstrationsbeispiel.

### Einfügen einer Funktion

Sie alle kennen die Möglichkeit, Funktionen mit dem Basic-Befehl DEF FN.. selbst zu definieren. Vielleicht haben Sie auch schon einmal frustriert die Versuche abgebrochen, eine Funktion während des Programmablaufs per INPUT eingeben zu können. Das funktioniert nämlich nicht.

Mit dem Tastaturpuffer aber geht es, und zwar sehr elegant.

Der vergebliche Versuch sieht so aus:

150 PRINT ’’FORMEL EINGEBEN”
160 INPUT”FQO=”;A$
250 DEFFNAQO=A$
260	PRINT FNA(9)
270	GOTO 150

Der STRING A$, in Zeile 160 eingegeben, wird von Zeile 250 nicht übernommen. Zeile 250 können Sie so nicht verwenden, also löschen Sie sie bitte.

Sie können diese Zeile aber vom Programm einfügen lassen:

170	PRINT CHR$(147):PRINT:PRINT
180	PRINT ”250 DEF FNA(X)=”;A$
190	PRINT ”GOTO 240”
200	PRINT CHR$(19)
210	POKE 631,13: POKE 632,13: POKE 198,2: END
240	REM - FORMELBERECHNUNG -

Wenn Sie nicht genau nachvollziehen können, was da vorgeht, empfehle ich Ihnen, an das Ende der Zeile 200 noch ein END anzuhängen. Dann bleibt das Programm dort stehen, Sie sehen, wo der Cursor steht und können dann die Wirkung der Zeile 210 in Ruhe überlegen.

Eine weitere interessante Anwendung habe ich bei Russ Davies gefunden [3]. Sie ermöglicht, Routinen des Betriebssystems oder Basic-Übersetzers aus dem Speicher auszulesen und als DATA-Anweisungen in Ihr Basic-Programm einzufügen.

### Einfügen von DATA-Zeilen

Die Aufgabe besteht darin, aus einem auszuwählenden Speicherbereich — dort, wo die in Frage kommende Routine sitzt — den Maschinencode herauszuPEEKen und mit der inzwischen bekannten Methode in eine DATA-Zeile einzufügen. Ich gehe schrittweise vor:

20	PRINT CHR$(147): PRINT: PRINT
30	PRINT ”5555 DATA”;
50	FORA=0TO3
60	PRINT PEEK(A)”, ”;:NEXT
70	PRINT CHR$(19)
80	POKE 631, 13: POKE 632,13: POKE 198,2: END

Mit Zeilen 20 und 30 wird der DATA-Zeile die Zeilennummer 5555 gegeben und in die 3. Bildschirmzeile geschrieben. Zeile 50 liest die Speicherzellen 0 bis 3 aus und druckt sie, mit einem Komma versehen, dahinter. Zeilen 70 und 80 geben diese Zeile in gewohnter Manier in das Programm ein.

Ganz richtig ist das noch nicht, da nach LIST die Zeile 5555 zuviele Zwischenräume hat:

5555 DATA 47,55 , 0 , 170 ,

Zur Korrektur müssen wir Zeile 60 erweitern:

60 PRINT MID$(STR$(PEEK(A)),2)”,”;:NEXT

STR$() wandelt den durch PEEK ausgelesenen Zahlenwert in einen String um. MID$(...,2) schneidet die Leerstellen weg.

Mr. Davies hat daraus eine komfortable kleine Routine gebaut, die den auszulesenden Speicherbereich und die gewünschte Zeilennummer der ersten DATA-Zeile abfragt, dafür sorgt, daß eine DATA-Zeile nicht länger als 16 Zeichen wird, in diesem Fall die nächste Zeilennummer um 10 erhöht und sogar das letzte Komma in jeder DATA-Zeile eliminiert.

Dieser ganze Komfort hat natürlich nichts mit dem Tastaturpuffer zu tun. Dieser Teil bleibt unverändert. Aber ich finde dieses Programm so durchdacht, daß ich es Ihnen als ein Beispiel guter Programmierung angeben will.

10 INPUT ”STARTADRESE”;A: INPUT ”ENDADRESE”;E: INPUT ”ZEILE”;Z
20	PRINT CHR$(147)
30	PRINT Z ”DATA”;
40	IFA>ETHENEND
50	FORA=ATOA + 15 + (E<A + 15)*(A + 15-E)
60	PRINTMID$(STR$(PEEK(A)),2)”,”;:NEXT
70	PRINT”[CRSR-links]”:PRINT	”A = ”A”: E = ”E”: Z=”Z + 10”: GOTO 20”;
80 POKE 631, 19: POKE 632,13: POKE 633,13: POKE 634,13: POKE 198,4: END

# Streifzüge durch die Grafikwelt (Teil 3) [131,133-134,137-138]

> C 128-Besitzer aufgepaßt: Eine Teilnahme an den Streifzügen ist auch für Sie möglich. Durch die »Übersetzung« des Standards starten auch Sie mit uns in der nullten Dimension.

Viele von Ihnen werden das neue Flaggschiff von Commodore, den C 128, schon vor sich stehen haben. Damit Sie nicht immer bei der Umsetzung der Beispielprogramme in den C 64-Modus schalten müssen, um HIRES-3 zu verwenden, soll hier die Übersetzung der von uns verwendeten, allgemeinen Grafikbefehle in das Basic 7.0 dieses Computers besprochen werden.

## Der C 128 und unser Standard

Der erste Befehl (»INIT«), der die Initialisierung der Grafik (Bitmap einrichten, löschen und Farbgebung) bewirken soll, ist so umzusetzen:
COLOR 0,16 : COLOR 1,7 : COLOR 4,1 : GRAPHIC 1,1

Komplizierter wird es da leider beim »START«-Befehl. Dieser soll das Grafiksystem in einen definierten Ausgangszustand bringen. Der Ursprung des Bildschirmsystems soll nach »START« in der Ecke links unten liegen und in der Horizontalen müssen 320, in der Vertikalen 200 Bildkoordinaten zur Verfügung stehen. Leider ist auch der Grafikbildschirm des C 128 so eingerichtet, daß von links oben an gezählt wird und die Y-Achse nach unten zeigt. Der »SCALE«-Befehl im Basic 7.0 erlaubt zwar die Skalierung der beiden Achsen bis zu Maximalwerten von 32767 (im Gegensatz zu den Angaben im Handbuch, wo maximal 1023 erwähnt sind). Es gibt aber keine Möglichkeit, das Koordinatensystem zu verschieben. Man muß sich also leider wieder mit einer Transformation begnügen, was — solange wir dazu nicht wieder ein Assemblerprogramm haben wie in HIRES-3 — natürlich Rechenzeit beansprucht.

In Listing 1 finden Sie ein kleines Unterprogramm, das — ausgehend von den schon aus HIRES-3 bekannten Systemgrenzwerten XU,XO,YU und YO (kleinste/größte X-, beziehungsweise Y-Koordinate) — aus den eingegebenen Koordinaten X und Y die Bildschirmkoordinaten XX und YY berechnet. Nun ist es relativ einfach, durch Festlegung dieser Systemgrenzwerte den Befehl »START« zu realisieren:
XU = 0 : XO = 319 : YU = 0 : YO = 199

Ebenfalls mit Hilfe des Trans-formations-Unterprogrammes kann die Grafikanweisung »MITTE« übersetzt werden durch Definieren von:
XU = -160 : XO = 160 : YU = -100 : YG = 100

Durch die Notwendigkeit der Transformation muß nun jede weitere Punktkoordinate vor dem jeweiligen Grafikbefehl durch unser Unterprogramm laufen. Der Grafik-Befehl »PUNKT (X,Y)« lautet dann:
GOSUB 1020 : DRAW l,XX,YY

Für »LINIE (XA,YA,XB,YB)« steht beim C 128:
X = XA : Y=YA : GOSUB 1020 : X1 = XX : Y1=YY
X = XB : Y=YB : GOSUB 1020 : X2=XX:Y2=YY
DRAW 1,X1,Y1 TO X2,Y2

Für »KREIS (XM,YM,RX,RY> muß der Mittelpunkt anders transformiert werden als die Halbmesser:
X = XM : Y=YM : GOSUB 1020 : X5 = XX: Y5=YY
RX = RX*319/(XO-XU) : RY=RY*199/(YO-YU) CIRCLE l,X5,Y5,RX,RY

Die weiteren Übersetzungen:
TEXT (A$,XT,YT) entspricht CHAR 1,XT,YT,A$
SHOW entspricht GRAPHIC1
NORMAL entspricht GRAPHIC0
GRESET entspricht SCNCLR(1)

Damit ergeben sich die C 128-Versionen der beiden Programme aus der letzten Folge (Fensterrose und Spiralen), die hier als Listing 2 und Listing 3 abgedruckt sind.

In Tabelle 1 finden Sie eine Übersicht über alle Grafikbefehle und ihre Übersetzungen in die drei Systeme: C 64 + HIRES-3, Plotter 1520, C 128 Basic 7.0.

## Grafikstandardprobleme

Nicht daß Sie denken, der Sinn für Proportionen sei uns abhanden gekommen, weil sich dieses Kapitel mit verschiedenen Grafikstandards (kurz GKS genannt) in bezug auf unsere Computer befaßt: Es scheint mir aber doch notwendig, zumindest einmal kurz das Verhältnis beispielsweise des GKS und ähnlicher Normen des hier verwendeten Minimal-Grafik-Sprachschatzes anzureißen.

Bemühungen, eine geräteunabhängige Grafikschnittstelle softwaremäßig zu realisieren, gibt es schon geraume Zeit. In den USA existiert das System CORE, in Deutschland wurde vor einiger Zeit ein GKS als DIN-Entwurf vorgelegt. Beide sind von Haus aus für Großrechenanlagen entwickelt worden und wurden von dem rasanten technischen Fortschritt überholt, der Mikro-, Personal- und sogar Homecomputer im Feld der professionellen Grafikprogrammierung auftauchen ließ. IBM versucht, für den IBM/AT eine GKS-Implementierung zu erstellen. Die erforderlichen Rechenkapazitäten für GKS und auch CORE sind aber relativ hoch, weshalb eine Verwendung dieser Standards bislang nur auf leistungsfähigen Großcomputern oder 32-Bit-Geräten mit arithmetischen Coprozessoren sinnvoll ist. Einem 8-Bit-Computer sind Grenzen gesetzt, die es allenfalls erlauben, eine minimale Teilmenge des Standardwortschatzes anzustreben.

Die Frage ist, ob das wünschenswert erscheint. Dazu einige Erklärungen: Man kann grob zwei grundlegende Arten von Grafik-Befehlen unterscheiden, nämlich einmal mit und einmal ohne einen Grafik-Cursor. Im ersten Fall gleitet der »Zeichenstift« immer von der aktuellen Position des — häufig nur gedachten — Cursors zeichnend oder nicht zeichnend zur angegebenen neuen Position. Im anderen Fall existiert solch eine Cursorposition nicht. Alle Größen, die zur Ausführung eines Befehls wie LINIE nötig sind, werden mit diesem als Argument übergeben.

Im CORE-System (auch im GKS) gibt es beispielsweise folgende Befehle:
LINE-ABS-2(X,Y):

Zieht eine Linie von der aktuellen Cursorposition bis X,Y. Die 2 kommt von 2D, also einem ebenen Koordinatensystem mit zwei Achsen.
LINE-REL-2(DX,DY):

Zieht von der Cursorposition aus eine Linie zu einem Punkt, dessen Koordinaten um DX und DY von der Cursorposition verschieden sind.
MOVE-ABS-2(X,Y):

Der Cursor wird nicht-zeich-nend von der aktuellen Position zum Punkt X,Y bewegt.
MOVE-REL-2(DX,DY):

Wie beim entsprechenden LINE-Befehl, aber nicht zeichnend.

Auf dem C 128 können wir auch diese Art der Grafikprogrammierung durchführen. Die Entsprechungen wären (in der gleichen Reihenfolge):
DRAW1 TO X,Y
DRAW1 TO (RDOT(0) + DX), (RDOT (1) + DY)
LOCATE X,Y
LOCATE (RDOT(0) + DX), (RDOT (1) + DY)

Sehen wir uns den Unterschied am Beispiel in Bild 1 an, wo ein Haus auf den normalen Commodore-Bildschirm gezeichnet werden soll.

Dem CORE-System nachgebildet, würden die Befehle folgendermaßen lauten:
LOCATE 50,50
DRAW1 TO 50,80
DRAW1 TO 110,80
DRAW1 TO 110,50
DRAW1 ,30
DRAW1 TO 50,50

In unserer Grafiksprache müßten wir schreiben:
LINIE (50,50,50,80)
LINIE (50,80,110,80)
LINIE (110,80,110,50)
LINIE (110,50,80,30)
LINIE (80,30,50,50)

Schon in diesem Beispiel, wo die für das CORE-System günstigeren miteinander verbundenen Linien zu zeichnen sind, haben wir einen Befehl mehr zu verarbeiten. Ganz deutlich tritt der Unterschied zutage, wenn nicht verbundene Strecken zu zeichnen sind. Dann muß vor jeden DRAW-Befehl ein LOCATE treten, das den Cursor auf den Startpunkt einer Linie setzt. Das kostet die auf einem 8-Bit-Com-puter arbeitenden Grafiksysteme wertvolle Zeit.

Nebenbei sei noch bemerkt, daß das Basic 7.0 seinem DRAW-Befehl ein Zwitterdasein verliehen hat, wie Sie aus dem Vergleich der Übersetzung für den LINIE-Befehl und den CORE-Be-fehlen ersehen konnten. Das obige Programmproblem läßt sich beim C 128 sogar in einem Befehl erledigen:
DRAW 1,50,50TC50,80TO 110,80 TO 110,50 TO 80,30 TO 50,50

Aus Gründen der Rechenzeiten, der besseren Überschaubarkeit eines Befehles und weil es einfach zu kompliziert wäre, HIRES-3 cursororientiert zu gestalten, wurde die cursorfreie Methode für unsere allgemeinen Grafikbefehle gewählt.

## Noch mal etwas fürs Auge

Weil die Anwender des C 128 in den bisher vorgestellten gerätespezifischen Programmen zu kurz gekommen sind, sei ihnen als Trost das Listing 3 angeboten. Es erzeugt interessante Effekte durch Zeichnen ineinander verschachtelter, gegeneinander verdrehter Quadrate (siehe Bild 2).

Frei wählbar ist die Größe, der Drehwinkel, die Anzahl und der Ort auf dem Bildschirm. Bei geschickter Programmierung können die Ergebnisse als sogenannte Shapes miteinander kombiniert werden.

## Nulldimensional: der Punkt

Betrachten Sie bitte alles bisher Behandelte als Rüstzeug, das wir für unsere Streifzüge durch die Grafikwelt nunmehr angelegt haben. Unser Weg wird uns durch alle Dimensionen führen: Vom Punkt zur 4.Dimension, um diesen Titel vom berühmten Colerus zu entleihen. Und damit haben wir sie auch schon angesprochen: die vielgehaßte, aber auch vielgeliebte Mathematik. Denn professionelle Computergrafik ohne dieses Instrument ist nicht denkbar. Sie, die Sie Ihre letzte Begegnung mit dieser Wissenschaft irgendwann einmal in der Schule hatten, verzagen Sie bitte nicht! Was wir an Voraussetzungen brauchen, haben Sie in der 10.Klasse gelernt: Einfache Gleichungen mit einer oder mehreren Unbekannten zu lösen. Alles andere wird erklärt werden und das ohne trockenen, mathematischen Jargon.

Nach diesen Vorreden soll gleich der erste Begriff erklärt werden: die Dimension. Das Wort stammt aus dem Lateinischen und bedeutet Ausdehnung. So hat eine ebene Fläche davon zwei: Länge und Breite. Deshalb spricht man hier von zweidimensionalen Gebilden. Eine Linie hat nur ihre Länge als Ausdehnung, sie ist also eindimensional. Fassen wir zusammen:

TODO TABLE

Dimension 0: Punkt ----------
Dimension 1: Linie	Länge
Dimension 2: Fläche	Länge
Breite
Dimension 3: Körper	Länge
Breite, Höhe
Dimension 4: ???	Länge
Breite, Höhe, ???

In noch höhere Sphären werden wir uns nicht versteigen, obwohl manche Esoteriker der Ansicht sind, daß im Leben des Menschen sechs Dimensionen eine Rolle spielen.

Beginnen wir also mit einem Gebilde der nullten Dimension, dem Punkt. Nun ist der Punkt an sich sicherlich ein wichtiges Thema für Philosophen, uns als Computergrafiker interessiert er aber immer in Verbindung irgendeiner Ortsbestimmung. Und weil wir — vor dem Bildschirm sitzend — eine Fläche vor uns haben, wollen wir auf dieser Fläche auch den Punkt sehen. Wie bestimmen wir, daß der Punkt an einem ganz bestimmten Ort auftauchen soll? Wir unterteilen unseren Bildschirm — der Computerhersteller hat das für uns schon erledigt — in einen Raster von 320 waagerechten und 200 senkrechten Positionen. Diese numerieren wir: Die horizontalen Positionen von links anfangend nach rechts und die vertikalen oben beginnend nach unten. Was sich auf diese Weise ergibt, nennt man ein Koordinatensystem (vom lateinischen »coordinare«, was »zuordnen« bedeutet). Jeder Punkt kann nun durch Angabe zweier Koordinaten in diesen Raster gelegt werden. Allgemein nennt man die der Waagerechten zugeordneten Zahlen X-Koordina-ten und die anderen Y-Koordina-ten. Ein Punkt wird dann häufig in der Form P(X,Y) charakterisiert. Beispielsweise liegt der Punkt P(160,100) genau in der Bildschirmmitte. Die Koordinatenachsen sind Linien, die durch den Punkt P0(0,0) laufen. Die X-Achse als Linie gesehen, enthält auf ihrer gesamten Länge nur Punkte mit der Y-Koordinate 0, umgekehrt ist es mit der Y-Ach-se, die überall den X-Wert 0 aufweist. Was sich auf diese Weise ergibt, ist das Koordinatensystem, wie es in Bild 3 gezeigt ist.

## Koordinatensysteme

Den Ort von Punkten zu charakterisieren, ist im Prinzip noch auf vielerlei Weise möglich. So gibt es schiefwinklige Koordinatensysteme (siehe Bild 4) und manchmal verwendet man auch das sogenannte »polare« Koordinatensystem (siehe Bild 5). Hier werden die Länge des aus dem Ursprung kommenden Strahls und der Winkel, den dieser mit der Horizontalen bildet, zur Festlegung eines Ortes verwendet. Gebräuchlichstes Koordinatensystem allerdings ist das »kartesische«, angeblich benannt nach dem französischen Philosophen und Mathematiker Rene Descartes (von ihm stammt der berühmte Ausspruch »Ich denke, also bin ich«). Bild 6 zeigt ein kartesisches System, das durch die aufeinander senkrecht stehenden Achsen charakterisiert ist. Im allgemeinen verwendet man ein »rechtshändiges« System.

## Transformationen

Rechtshängig deshalb, weil beim Drehen der X-Achse um den Ursprung (also um den Punkt P0(0,0)) diese auf dem kürzesten Wegzur Y-Achse die Rich-ting einschlägt, in die die Finger der rechten Hand zeigen. Der Daumen weist dabei auf den Betrachter (siehe Bild 7).

Nun erkennen Sie vielleicht schon, daß Commodore uns ein reichlich ungebräuchliches Koordinatensystem beschert hat: Es ist nämlich linkshändig aufge-baut. Außerdem ist die Skala sowohl auf der X-, als auch auf der Y-Achse sehr unpraktisch, denn Punkte wie zum Beispiel Pl(-l,4) oder P2(3,-5) und P3(-12,-3) können nicht gezeichnet werden, und ein Versuch, das trotzdem zu tun, endet mit einer Fehlermeldung.

Weiterhin sollten wir uns überlegen, daß Computergrafik für die verschiedensten Zwecke gebraucht wird: Ein Architekt will den Grundriß eines Hauses zeichnen, das in Richtung Norden 15 Meter und in Richtung Osten 18 Meter Ausdehnung besitzt. Ein Geschäftsmann möchte im Rahmen einer Kosten-/Nut-zen-Analyse ein Diagramm erstellen, das Arbeitsaufwand in Stunden gegen produzierte Menge eines Artikels aufzeigt. Ein Ökologe zeichnet ein Schaubild, welches die zahlenmäßige Entwicklung der Weltbevölkerung in den letzten 50 Jahren darstellen soll. Kurz: Jeder von Ihnen benötigt ein anderes Koordinatensystem. Diese Art Koordinaten nennt man häufig die »Benutzerkoordinaten« und weil jeder Benutzer etwas aus einer 2D- oder 3D-Welt grafisch zeigen möchte, hat sich auch der Ausdruck »Weltkoordinaten« eingebürgert.

Wir müssen also irgendwie die Objekte der realen Welt, die wir im Weltkoordinatensystem festgelegt haben, auf unserem Bildschirm zeigen (siehe Bild 8). Weil es aber nicht möglich ist, auf dem Commodore-Bildschirm den Punkt P(1981,4508000) darzustellen (das ist beispielsweise dieAufgabe des oben erwähnten Ökologen), müssen wir irgendeine Form der Umrechnung durchführen. Solche Umrechnungen nennt man Transformationen (vom spätlateinischen »transformatio«, was Umbildung, Verwandlung von etwas bedeutet, ohne dessen Wert zu ändern).

Nicht nur die Umrechnung der Weltkoordinaten in Bildschirmkoordinaten, sondern jede Veränderung eines Koordinatensystems kann durch Transformationen computergerecht durchgeführt werden. Wir werden dazu sogenannte Matrizenmathematik betreiben, deren Ergebnis dann die sogenannte Transformationsmatrix ist. Jeder Punkt des Weltkoordinatensystems wird gewissermaßen durch solch eine Transformationsmatrix hindurchgeschickt und kommt als Bildschirmpunkt wieder heraus (Bild 9). Transformationen können Vergrößerung oder Verkleinerung, Verschiebungen von Abbildungen oder ihre Drehung bewirken. Man kann damit Gebilde höherer Dimension auf solchen niedrigerer Dimension abbilden (wie sonst sollte man einen Würfel auf dem Bildschirm zeigen?) und umgekehrt. Es ist damit möglich, Objekte zu spiegeln, zu krümmen, stauchen oder zu zerren. Sie sehen schon, daß es sich lohnt, den Umgang mit Transformationsmatrizen kennenzulernen.

Unser Thema in der nächsten Folge werden also Matrizen sein und wie man Computer dazu bringen kann, uns die Hauptarbeit mit diesen merkwürdigen mathematischen Gebilden abzunehmen.

(Heimo Ponnath/tr)

# Von Basic zu Assembler (Teil 1) [139-140,142]

> Vom vertrauten Basic zum Programmieren in 6502-Assembler ist es gar nicht so weit. Wir werden langsam anfangen. Zuerst sind die Schleifen dran. Wir werden dabei Basic mit Maschinensprache vergleichen.

Man kann wohl getrost davon ausgehen, daß ein großer Teil der Commodore 64-Benut-zer Basic beherrscht. Vermutlich hat es Sie aber auch schon öfters gereizt, die langsamen Programme durch Assembler-Routinen zu beschleunigen. Der Assembler-Kurs »Assembler ist keine Alchimie« hat die Grundlagen dieser Sprache zwar vermittelt, aber bis zum eigenen Maschinenprogramm ist es häufig noch ein holpriger Weg. Ein Führer, der Ihnen den Pfad aus den weiten Basic-Ebenen auf die Gipfel der Assembler-Programmierung zeigt, ist dieser Kurs.

Zunächst halten wir uns an Bekanntes: Basic-Befehle sollen auf ihre Entsprechungen in Assembler untersucht werden. Oft aber streifen wir die Fesseln der Hochsprache ab und lernen allerlei Assembler-Techniken kennen. Wo es uns angemessen erscheint, nehmen wir uns die Freiheit, die computerinterne Firmware zu benutzen. Alles in allem sollen Sie durch Training zum vertrautem Umgang mit Assembler gelangen.

### 1.	Basic contra Assembler

Basic macht uns den Umgang mit unserem Computer relativ leicht: Wir brauchen uns kaum um die Verwaltung von Variablen zu kümmern. Benötigen wir zum Beispiel eine neue Stringvariable, dann genügt ihr erstes Auftauchen und Basic richtet sie für uns gebrauchsfertig ein. Sehr entgegenkommend ist Basic auch, was den Verkehr mit Peripherie jeder Art angeht: Ein Zeichen von der Tastatur anzunehmen, ist mit GET oder INPUT recht einfach. Irgend etwas auf dem Drucker zu schreiben oder auf die Diskette: mit OPEN und dem PRINT # geht’s reibungslos und ohne Gedanken an die Busverwaltung. Die Hochsprache nimmt uns vieles ab, worum wir uns in Assembler kümmern müssen.

Andererseits befindet man sich etwa in der Situation eines Bauherrn, der sich ein Haus mit Fertigteilen aufstellen lassen möchte: Jeder Wunsch, der vom Standard abweicht, ist nicht möglich oder wird sehr teuer. Basic-Erweiterungen sind dann mit einer großen Sammlung aller möglichen Fertigteil-Formen zu vergleichen: Man muß sie alle

kaufen, obwohl man nur einige für den Sonderwunsch braucht.

Der Vergleich fängt nun etwas zu hinken an: Die Fertigteile setzen sich nämlich bei genauerem Hinsehen aus kleinen Einzelteilen (Ziegelsteinen) zusammen. Wenn man also auf die vorgefertigten Großteile weitgehend verzichtet, dafür aber den Umgang mit Ziegelsteinen (Assemblerbefehlen) beherrscht, kann man sich genau das individuelle Haus bauen, wie bizarr es auch immer aussehen mag.

Wenn man sich das Verarbeiten eines Basic-Programmes etwas genauer ansieht, dann versteht man die Schwerfälligkeit, mit der vieles geschieht. Vom Augenblick des Einschaltens an läuft ein Maschinenprogramm im Computer: Der Interpreter. Jeder Tastendruck, jeder Basic-Befehl, der diesem in die Hände fällt, wird untersucht und führt zur Abarbeitung eines auf diesen Befehl zugeschnittenen Assemblerprogrammes.

Ein Basic-Befehl wie beispielsweise PRINT kann ganz verschiedene Reaktionen erfordern: Wenn vorher ein CMD-Kommando erfolgt war, findet die Ausgabe nicht auf dem Bildschirm statt, wenn das nicht der Fall war, kann der Bildschirm an einer anderen Stelle als im Normalfall liegen. Das, was auszudrucken ist, kann ein String sein, eine Integerzahl oder eine Fließkommavariable, allerlei Fehlerquellen sind abzufangen etc. Das zu PRINT gehörende Assembler-Programm muß all diese Möglichkeiten berücksichtigen, wie selten sie auch angesprochen werden.

Bei einem individuellen Assembler-Programm wissen wir dagegen, was wir wie ausgeben wollen. Unser eigener »PRINT«-Befehl wird nur das enthalten, was unbedingt notwendig ist, der ganze unnötige Ballast wird von uns nicht programmiert. Allerdings sind wir dann auch voll verantwortlich für die einwandfreie Funktion. Wir müssen beispielsweise dafür sorgen, daß bei Zugriffen auf Register oder Speicher dort der richtige Wert zum richtigen Zeitpunkt im erlaubten Format zur Verfügung steht. Das ist wie im täglichen Leben: Die größere Freiheit legt uns mehr Verantwortung auf und schafft uns andererseits ungeahnte Möglichkeiten, Ideen zu verwirklichen.

### 2.	Noch eine technische Vorbemerkung

Für alle Beispielprogramme werde ich den Assembler Hypra-Ass von Gerd Möllmann verwenden. Er wurde im 64'er, Ausgabe 7/85, Seite 66, als Listing des Monats abgedruckt und ist auch auf der Leserservice-Diskette erhältlich. In dieser Preislage (6.50 Mark und etwas Schweiß beim Eintippen, beziehungsweise 29,80 Mark für die Diskette) habe ich noch keinen besseren gesehen und auch fast alle kostspieligeren Assembler reichen ihm nicht das Wasser. Weil man aber auch einen Monitor braucht, findet zu diesem Zweck weiterhin der SMON hier seinen Platz. Ich verwende eine Version, die bei $9000 beginnt, um ab $C000 Raum zu lassen für den Reassembler zu Hypra-Ass (64’er, Ausgabe 11/85). Das ist ein nützliches Programm, mit dem man Maschinencode aus dem Speicher wieder in einen Quelltext umwandeln kann. Mittels des Hypra-Ass ist dieser Quelltext dann bearbeitbar. Mit diesem kompletten Instrumentarium sind wir allen Aufgaben gewachsen.

### 3.	Einfache Schleifen

Eine der meistgebrauchten Strukturen in Basic und auch eine der wichtigsten in Assembler ist die Programmschleife. Als »einfache« Schleife bezeichne ich solche, die zum Zählen nur 1 Byte erfordern, also maximal 256 Durchläufe erlauben. Die verschiedenen Möglichkeiten sehen wir uns anhand von Verzögerungsschleifen an, die zunächst einmal nichts anderes tun, als zu zählen und Zeit zu verbrauchen (welch ein Luxus!). Die einfachste Variante lautet in Basic etwa:
10 FOR I = 0 TO 255
20 NEXT I
In Bild 1 finden Sie die »Übersetzung« in Assembler.

Sie können sowohl das Y-Re-gister (Variante 1) als auch das X-Register (Variante 2) zum Zählen verwenden. In Zeile 5 finden Sie .LI 1,4. Das ist ein Pseudobefehl — also kein 6502-Befehl —, der die Ausgabe des Protokolls über den Drucker bewirkt. Zeile 40 enthält durch .BA $5000 wieder einen Pseudobefehl. Damit legt man fest, von welcher Adresse an der Maschinencode in den Speicher gelegt werden soll. Die Zeilen 50 bis 90 sind unser Assemblerprogramm. Zuerst wird ein Startwert 0 in das Y-Re-gister geschrieben und dieses dann in der Zeile mit dem Label um 1 hochgezählt.

Falls Ihnen der Ausdruck Label noch nichf geläufig ist: Natürlich kann man auch statt dessen die Adresse 5002 hinter den BCC-Befehl in Zeile 80 schreiben — so haben wir dasja bisher immer mit dem SMON-Assem-bler getan. Das hätte aber im Quelltext, den wir hier schreiben, den Nachteil, daß wir diese Adresse jedesmal ändern müßten, wenn wir uns entschlössen, mit dem Pseudobefehl .BA den Programmstart zu verlegen. Indem wir aber diese Zeile durch das Label-Kennzeichen markieren, merkt sich der Hypra-Ass die dazugehörige Zeilennummer und rechnet sie beim As-semblieren automatisch in die richtige Sprungadresse um.

Ein weiterer Vorteil ist, daß man zu Dokumentationszwek-ken jede wichtige Adresse auf diese Weise markieren und sich am Schluß durch eine Symboltabelle ausgeben lassen kann. Besonders bei langen Programmen, in denen man dann sinnvolle Labelnamen verwendet (beispielsweise DRUCKEN am Anfang des Programmteils, das einen Ausdruck steuert), kann das eine unschätzbare Hilfe sein.

In unserem Programm in Bild 1 geht es weiter mit dem Vergleich, ob im Y-Register nach der Erhöhung schon $FF erreicht wurde. Ist das nicht der Fall, dann ist das Carry-Bit frei und der Programmablauf verzweigt zurück zur Labelzeile. Ansonsten ist die Verzögerungsschleife beendet und mit dem BRK meldet sich der SMON, den Sie zu diesem Zeitpunkt natürlich im Speicher haben sollten (vergessen Sie nicht, den SMON zumindest einmal zu starten mit SYS »startadresse«, damit bei einem BRK in den SMON gesprungen wird).

Falls Sie das Programm durch SYS $5000 vom Hypra-Ass aus gestartet haben (und nicht durch G 5000 aus dem SMON), finden Sie sich ebenfalls im Monitor wieder. Fast alle Beispielprogramme in diesem Kurs werden mit BRK enden. Der Grund dafür ist, daß es oft interessant ist, die Register nach dem Programmende zu beobachten. Sollten Sie ohne Monitor arbeiten wollen, dann müßten Sie statt dessen ein RTS einsetzen. Hinter dem eigentlichen Programm finden Sie .SY 1,4. Auch das ist ein Pseudobefehl, der die Ausgabe der Symboltabelle über den Druk-ker bewirkt. Nicht sichtbar ist ein Befehl .ST, mit dem die Assemblierung beendet wird. Einige interessante Angaben besorgt uns der Hypra-Ass noch nach der kurzen Symboltabelle: Eine Zeitangabe und den Bereich, in dem der Maschinencode nun nach der Assemblierung zu finden ist. Falls Sie diesen Objektcode (so nennt man den Maschinencode auch häufig) speichern wollen (vom Monitor aus mit dem S-Kommando möglich), dann brauchen Sie diese Angaben. Unser Programm würde dann so abgespeichert:
S"OBJ.VERZ.VAR1" 5000 5008
(Man muß immer ein Byte zur Endadresse hinzurechnen beim Speichern des Objektcode). Eine andere Möglichkeit, den Objektcode auf Diskette zu speichern: Nach dem .LI 1,4 in der nächsten Zeile folgenden Befehl einsetzen:
10 -.OB"OBJ.VERZ.VAR1,p,w

Jetzt wird nach dem Starten des Assemblierens mit RUN automatisch das Maschinenprogramm gespeichert.

Die weiteren Programmbeispiele werde ich nicht so erschöpfend erklären wie dieses. Nur wenn neue Pseudobefehle verwendet werden oder eine neue Programmstruktur das erfordert, geht’s nochmal in die Tiefe. Um etwas Platz zu sparen, wurden die folgenden Programme nicht mit dem .LI - Befehl aus dem Drucker ausgegeben, sondern mit
OPEN 1,4:CMD1
/E

Dadurch werden die Adressen mit den Hex-Codes der Maschinenbefehle nicht gedruckt, sondern nur das Listing, wie es auch auf dem Bildschirm zu sehen ist.

Häufig tritt in Schleifen der Fall ein, daß weder das Y- noch das X-Register zur Verfügung stehen. Sie dienen dann anderweitig schon als Index. Statt dessen kann ebensogut eine Speicherstelle den Zähler bilden, wie in dieser Variante 3:

TODO

LDA #$00
STA $FB ;$FB ist Zähler
LABEL INC $FB
LDA $FB
CMP #$FF
BCC LABEL
RTS

Selbstverständlich kann auch jede andere Speicherstelle anstelle von $FB verwendet werden, sogar eine, die nicht in der Zeropage liegt. Voraussetzung ist lediglich, daß sie nicht innerhalb der Schleife verändert wird — außer zum Zählen der Schleifendurchläufe. In den bisher kennengelernten Varianten haben wir immer $FF als Endwert genommen. Nun steht man oft vor der Aufgabe, bis zu einem bestimmten Endwert zu zählen, der vorher irgendwie eingegeben oder festgelegt wird. In Basic sähe das beispielsweise so aus:
10 A = 32
20 FOR I = 0 TO A
30 NEXT I

Hier ist also der Endwert in Zeile 10 auf 32 gesetzt worden und die Schleife zählt bis zu diesem in A fixierten Wert. In Assembler können wir das ebenfalls. Bild 2 zeigt die Variante 4.

Die Speicherstelle $FA nimmt die Funktion der Variablen A des Basicprogrammes ein. Dorthinein wird der Endwert (32 = $20) gelegt und der Vergleichsbefehl lautet nun:
CPY $FA

Das ist: »Vergleiche den Inhalt des Y-Registers mit dem Inhalt der Speicherstelle $FA«. Wir haben in dieser Version 4 wieder das Y-Register als Zähler benutzt, Version 5 zeigt uns in Bild 3 dasselbe, nur wird hier die Speicherstelle $5100 zum zählen verwendet.

Es hat sich eingebürgert, Schleifen in Assembler nicht — wie wir es bisher getan haben — aufwärts, sondern sie abwärts zu zählen. Der Grund dafür ist: Es geht schneller, weil man sich meistens den Compare-Befehl ersparen kann. Bei Verzögerungsschleifen ist das ja noch nicht so interessant, später aber, wenn in den Schleifen noch allerhand geschehen soll, summieren sich die Taktzeiten bei mehrfachen Durchlauf schon ganz erheblich. Eine Basic-Pro-grammsequenz sähe nun so aus:
10 FOR I = 255 TO 0 STEP -1
20 NEXT I

In Bild 4 finden Sie das Assemblerlisting der Variante 6.

Das entspricht der Variante 1. Der Unterschied ist aber, daß hier abwärts gezählt wird und man sich den CPY-Befehl sparen kann, denn vor einem Unterlauf des Y-Registers wird automatisch bei 0 die Zero-Flagge gesetzt. Das aber prüft der BNE-Befehl.

Aus alledem ist also zu lernen:

1)	Wann immer möglich, abwärts zählen.
2)	Wann immer möglich, X- oder Y-Register als Zähler verwenden.

Die Variante 5 war natürlich ein ausgesuchtes Extrembeispiel, denn außer der Tatsache, daß man beim Abwärtszählen den Endwert als Startwert immer gleich in den Zähler eingeben kann und ihn normalerweise nicht noch irgendwo speichern muß, verwendet man natürlich — wenn es denn nötig ist, etwas anderes als die Indexregister dazu zu gebrauchen — eine Zeropagespeicherstelle als Zähler und nicht — wie in Version 5 — eine Speicherstelle wie $5100. Die verbesserte Version 7 entspricht dem Basicprogramm:

10	A = 32
20 FOR I = A TO 0 STEP -1
30 NEXTI

In Bild 5 finden Sie diese Version. $FA dient als Zähler.

Etwas schwieriger wird die Programmierung, wenn man nicht nur um 1 herauf- oder herunterzählt, sondern um 2,3,4 oder mehr. Das Basic-Äquiva-lent drückt sich dann beispielsweise in der Ergänzung STEP -2 der FOR...NEXT-Schleife aus. Dreht es sich nur um kleine Schrittweiten, die konstant bleiben, dann verwendet man vorteilhaft mehrere DEY (oder DEX, DEC, INY, INX und INC) hintereinander. Man muß außerdem mit der Abbruchbedingung einer solchen Schleife vorsichtig sein. BNE ist nicht immer möglich, weil man unter Umständen schon vor der Prüfung (durch BNE) unter 0 hindurch gezählt hat (dann folgt ja wieder $FF etc.). Hat beispielsweise der Zähler (hier das Y-Register) den Wert 1 und es werde durch eine Sequenz:
DEY
DEY
DEY
BNE LABEL
weitergezählt, dann nimmt Y der Reihe nach die Werte O,FF,FE an und BNE findet die Zeroflagge nicht gesetzt. Man muß also andere Abbruchbedingungen verwenden. Solange man bis zur ersten Prüfung (also dem ersten Schleifendurchlaufbeim Herunterzählen) im Zähler mindestens $7F ( = binär 0111 1111) vorliegen hat, kann man mittels BPL die Schleife schließen. Zur Erinnerung: BPL verzweigt, wenn Bit 7 nicht gesetzt ist (kleiner 128), BMI verzweigt, wenn Bit 7 gesetzt ist (größer oder gleich 128). Das Basic-Programmstück
10 FOR I = 32 TO 0 STEP -3
20 NEXT I
findet seine Entsprechung in dem Assemblerlisting Version 8 in Bild 6.

Wieder dient das Y-Register als Schleifenzähler.

Größere Schrittweiten lassen es — von einer gewissen Grenze an, die durch das Verhältnis von Bytezahl auf der einen und Bearbeitungsdauer auf der anderen Seite, bestimmt wird — sinnvoll erscheinen, den Zähler durch Subtraktion (oder Addition beim Aufwärtszählen) zu verändern. Das Analogon zur Basic-Se-quenz:
10 FOR I = 127 TO 0 STEP -10
20 NEXT I
sehen Sie in Bild 7.

In dieser Version 9 dient die Zeropagespeicherstelle $FA als Zähler und in den Programmzeilen 80 bis 110 findet die Verminderung dieses Zählers durch Subtraktion statt ($0A = dezimal 10). Das Programm kann noch verändert werden, indem man anstelle von BPL den BCS-Befehl verwendet. Wenn die Subtraktion einen Unterlauf ergeben hat, wird das Carry-Bit gelöscht. Außerdem lassen sich noch 2 Byte einsparen, indem man das STA $FA aus Zeile 110 herausnimmt und dafür das LABEL eine Zeile höher setzt. Allerdings geht das dann auf Kosten der Durchschaubarkeit unseres Programmes.

Wir wollen nun mit den einfachen Verzögerungsschleifen aufhören. Es gäbe noch weitere Aufgaben zu lösen (nämlich beispielsweise von einem bestimmten Startwert bis zu einem bestimmten Zielwert zu zählen), die vertraue ich aber Ihnen selbst an: Alles notwendige dazu können Sie aus unseren verschiedenen Versionen entnehmen und kombinieren. Interessant werden Schleifen hauptsächlich' durch einen Job, der in ihnen wiederholt ausgeführt wird. Zwei Beispiele sollen uns zur Illustration in dieser Folge dienen. Vorher aber sollen noch einige Bemerkungen zur grundsätzlichen Architektur von Schleifen gemacht werden.

Im Prinzip setzt sich jede Schleife aus vier Bestandteilen zusammen:

Initialisierung. Beispielsweise wird hier der Startwert des Zählers festgelegt.

Verarbeitung. Das ist das, was in den Verzögerungsschleifen bisher leer blieb: Der Job.

Steuerung. Hoch- oder Herunterzählen des Zählers und Prüfen der Abbruchbedingung.

Ausgang. Das war bisher bei uns immer der BRK-Befehl.

Aus diesen vier Bestandteilen lassen sich zwei grundsätzliche Schleifenmöglichkeiten konstruieren, die Sie in Bild 8 dargestellt finden.

In Bild 8a haben wir das Prinzip vorliegen, das unseren normalen FOR...NEXT-Schleifen in Basic zugrundeliegt. Diese Schleife wird mindestens einmal durchlaufen. Erst nach der Ausführung desJobs erfolgt die Prüfung, ob die Abbruchbedingung gegeben war. Soll solch eine Schleife n-mal durchlaufen werden, muß die Initialisierung mit n-1 im Zähler erfolgen (oder die Abbruchbedingung entsprechend umgeformt werden).

Die Schleifenkonstruktion in Bild 8b dagegen muß nicht durchlaufen werden. Ihr entspricht etwa eine DO UN-TIL...LOOP-Schleife oder auch eine DO WHILE...LOOP-Schlei-fe aus dem Basic 7.0 des C 128. Hier erfolgt die Initialisierung des Zählers genau mit dem Wert n.

Sehen wir uns beispielsweise unsere Version 9 an, dann entdecken wir die einzelnen Schleifenteile wie folgt:

TODO

Initialisierung:	LDA #$7F
STA $FA
Verarbeitung:LABEL
Steuerung:	SEC
LDA $FA
SBC #$0A
STA $FA
BCS LABEL
Ausgang:	BRK

Auf diese Weise ist es Ihnen möglich, alle bisher kennengelernten Schleifenvarianten mit einem beliebigen Job zu füllen. Noch eines gibt es zu bedenken: Alle Instruktionen zwischen dem Label und der Abbruchbedingung werden oft ausgeführt, sind also zeitfressend. Daher sollte der auszuführende Job alle Befehle vermeiden, die ebensogut vor der eigentlichen Schleife stehen könnten.

Sehenwirunsunser 1. Beispiel an. Wir stellen uns die Aufgabe, von den 127 Zeichen, die mittels POKE-Code erfaßbar sind, jedes 2. Zeichen an jeder 2. Bildschirmstelle abzubilden. Das Ganze soll durch Verwenden verschiedener Farben auch noch hübsch bunt aussehen. In Basic würden wir dafür schreiben:

10 S = 1024 : C = 55296
20 FOR I = 127 TO 0 STEP -2
30 POKES+I,I
40 POKEC + I,I
50 NEXT I

Weil im Bildschirmfarbspeicher nur die Bits 0 bis 3 eine Rolle spielen (die anderen aber gar nicht beachtet werden), erzeugen wir in Zeile 40 auch die verschiedenen Farben mehrmals nacheinander.

(Heimo Ponnath/gk)

Fortsetzung folgt.

# Aufgebohrt [144,146-147]

> Hier wird beschrieben wie man die 1541 zu einem lEEE-Bus-Laufwerk umrüstet und dreifache Geschwindigkeit bei allen Floppy-Befehlen erreicht.

Die 1541-Floppy ist ein abgemagertes 2031/4031-Laufwerk. Was steht also näher, sie wieder in den Originalzustand zu versetzen. Mit dieser Erweiterung sind zwar keine Übertragungsgeschwindigkeiten wie etwa bei ProLogic-DOS zu erreichen, aber immerhin werden alle Zugriffe auf die Diskette dreimal schneller. Die Geschwindigkeitssteigerung wird durch den parallelen IEC-Bus erreicht. Das 4040-Doppellaufwerk ist bekanntlich bis zu 6mal schneller, hier sind dafür aber zwei Prozessoren beschäftigt, der eine zum Lesen, der andere zum Übertragen der Daten. Mit dem einen Prozessor der 1541 lassen sich trotzdem ganz vernünftige Werte erzielen. Für den Anschluß am C 64 benötigen Sie ein IEC-Bus-Interface, wie wir es in Ausgabe 7/85, Seite 44 beschrieben ist. Ihre 1541 versteht nach Umbau die »Sprache« der großen CBM-Geräte. Sie können sie also auch direkt an einen CBM 3032/8032-Rechner anschließen und erhalten dadurch eine preisgünstige Alternative zum Doppellaufwerk.

## Die Hardware

Um den parallelen Bus zu realisieren wird einer der beiden Portbausteine VIA 6522 benötigt. Dieser VIA-Baustein CVersatile Interface Adapter) ist teilweise nicht beschältet. Üm der IEC-Norm entsprechen zu können, sind acht Datenleitungen, sowie fünf Handshake-Leitun-gen zum Verbindungsaufbau erforderlich. Über die Handshake-Lei-tung teilt der Computer dem Laufwerk mit, daß er Daten senden, beziehungsweise empfangen möchte (ATN), daß die Daten gültig sind (DAV), daß keine Daten empfangen werden können (NRFD), daß die Daten noch nicht verarbeitet wurden (NDAC), oder daß die Übertragung beendet wurde (EOI). Wenn der Computer eine solche Übertragungssequenz beginnt, wird zuerst festgestellt, ob das Peripheriegerät überhaupt vorhanden beziehungsweise eingeschaltet ist (DEVICE NOT PRESENT). Hierfür sind die Leitungen »NRFD« und »NDAC« zuständig. Wird »ATN« gesetzt, so müssen beide Leitungen sofort nach Masse gezogen werden. Diese Funktion übernimmt das TTL-Gatter (EX-OR 74LS136) in der Schaltung. Die IEC-Norm schreibt weiterhin »Open-Collector«-Ausgänge vor, um mehrere Geräte anschließen zu können, das heißt die Leitungen sind im aktiven Zustand auf Masse-Potential (Low). Die 6522-VIA (Portbelegung siehe Bild 1) hat aber TTL-Pegel. Die notwendige Anpassung übernehmen die beiden IEC-Trei-ber 75160/161.

Wenn die Platine mit allen Bauteilen bestückt ist, wird die Leiterplatte anstelle der VIA in die Floppy gesteckt und die VIA von oben aufgesetzt. Das serielle Kabel hat in diesem Fall keine Funktion mehr, da alle Übertragungen nur noch parallel stattfinden.

## Die Software

Das Floppy-DOS ist in zwei ROMs untergebracht, das $C000-ROM und das $E000-ROM. Um die Hardware bedienen zu können, müssen die seriellen Routinen durch parallele ersetzt werden. Bei den Laufwerken 2031 und 4031 ist davon der gesamte Bereich betroffen; alle Adressen sind um zirka 40 Byte verschoben. Das hat zur Folge, daß bei der 2031/ 4031 einige Programme mit Direkteinsprüngen im DOS nicht das vorfinden, was sie erwarten. Außerdem müßten beide ROMs gewechselt werden.

Bei unserem IEC-DOS bleibt der $C000-Bereich unangetastet. Die entsprechenden Routinen sind am Originalplatz eingebunden ($E853), sind aber etwas umfangreicher und belegen zusätzlich noch einige Bytes bei $E780 und $FF10. Bei dieser Gelegenheit wurde die Kopfbewegung verbessert und einige kleine Fehler im DOS beseitigt. Die Formatierungsroutine wurde im Originalzustand belassen.

## Das Listing

Das Generatorprogramm im Listing erwartet ein 1541-Laufwerk. Nach dem Starten wird das OriginalDOS ausgelesen und ab $5000 im C 64 abgelegt. Die Veränderungen werden anschließend mittels POKE-Schleife vorgenommen. Zum Schluß wird die aktuelle Prüfsumme berechnet und eingetragen.

Das Programm fragt, ob das veränderte DOS abgespeichert werden soll. Wird diese Frage mit »J« beantwortet, so erzeugt es ein File mit dem Namen: 1541.IEEE-DOS.

Sie können jetzt den Bereich von $5000 bis $6FFF in ein 2764-EPROM brennen und es mittels Kernel-Adapter (64'er, Ausgabe 4/85) anstelle des 1541-ROMs in den Steckplatz UB4 einsetzen. In manchen Laufwerken befindet sich in UB4 bereits ein EPROM mit dazugehörigem Adapter.

## Der Zusammenbau

Den Schaltplan, den Bestückungsplan sowie das Platinenlayout im Maßstab 1:1 finden Sie in Bild 2 bis 4. Bitte beachten Sie, daß die Bestückungsseite die Platine von oben, und die Lötseite die Platine von unten zeigt. Aus Bild 5 entnehmen Sie bitte die Bauteileliste. Die Platine wurde einseitig ausgeführt. Es empfiehlt sich, alle Bausteine zu Sockeln, um sie bei eventuellen Beschädigungen leicht auswechseln zu können, in jedem Fall muß aber der 6422 gesockelt sein. Die Position der Bauteile entnehmen Sie dem Bestückungsplan. Zuerst werden die Widerstände R1 + R2 und die Drahtbrücke eingelötet. Bei den Dioden Dl, D2 und D3 muß auf die Einbaurichtung geachtet werden. Der Pfeil zeigt auf die Anode, was zumeist durch einen Ring gekennzeichnet wird. Anschließend werden die Sockel verlötet. Um die Schaltung in den VIA-Sockel UC3 einsetzen zu können, müssen zwei 20polige Pin-leisten von der Lötseite auf die Platine gelötet werden. Dieser Vorgang erfordert besondere Sorgfalt damit keine unerwünschten Lötbrücken entstehen. Zuletzt ist nur noch das lEEE-Anschlußkabel einzulöten und die Bausteine können eingesetzt werden. Um den Kabelanschluß zu vereinfachen kann ein Einpreßstecker mit Flachbandkabel verwendet werden. Die Anschlußbohrungen sind bereits nach IEEE-Norm angeordnet (siehe Bild 6).

Die beiden Brücken auf der Leiterbahnseite sind für die Geräteadresse zuständig. Ihre Funktion ist analog zu den Brücken des 1541-Laufwerks, um Adresse 8 einzustellen, sind beide geschlossen.

Bei älteren Laufwerken sind die Bausteine UC3 und UB4 nicht immer an derselben Stelle, auch die Bezeichnung variiert.

Es empfiehlt sich also vor dem Einbau einen Fachmann zu Rate zu ziehen, vor allem, wenn man sich bei seiner Laufwerksversion nicht ganz sicher ist. Auf keinem Fall sollte man das Prinzip von Versuch und Irrtum anwenden wollen, sonst kann eine Beschädigung der Laufwerkslogik nicht ausgeschlossen werden.

Der komplette Bausatz wird ab der nächsten Ausgabe über den Hardware-Service erhältlich sein, beachten Sie dazu die Hinweise auf den Service-Seiten.

(Michael Lamm/og/aw)

# Der 64'er EPROM-Brenner [149-152]

> Weiter geht's mit unserem EPROM-Programmier-gerät. Nach der vollständigen Bauanleitung können Sie nun seine Hardware nachbauen, uns so zu einem exklusiven EPROM-Brenner kommen.

Nachdem wir in der letzten Ausgabe die Funktionsweise des 64’er EPROM-Programmiergerätes rein theoretisch behandelt haben, werden wir in dieser Ausgabe eine ausführliche Bau- und Bedienungsanleitung für das Selbstbau-Programmiergerät bringen. Die zugehörige Software erscheint in der nächsten Ausgabe. Beginnen wir beim wichtigsten Teil des EPROM-Programmiergeräts, bei der Platine. Es handelt sich hierbei wegen der vielen Leiterbahnen (Adreß- und Datenbusse etc.) um eine doppelkaschierte (zweiseitige) Platine. Der Nachbau dieser Platine erfordert schon eine gewisse Portion an Erfahrung, da die beiden Platinenlayouts (Bild 1: Lötseite; Bild 2: Bestückungsseite) genau dek-kungsgleich sein müssen. Eine Ungenauigkeit von nur einem Millimeter kann die Platine schon unbrauchbar machen. Ein weiteres Problem werden die Durchkontaktierungen (Verbindungen zwischen beiden Platinenseiten) bereiten. Solche Durchkontaktierungen können im Regelfall nur von professionellen Platinenherstellern fehlerfrei angefertigt werden. Wer also zu wenig Erfahrung bei der Platinenherstellung hat, kann ab der nächsten Ausgabe die unbestückte Platine und den Spannungswandler beim 64'er Hardware-Service beziehen.

Beim Einlöten der Bauteile sind folgende Punkte zu berücksichtigen:

Zunächst ist darauf zu achten, einen geeigneten Lötkolben zu verwenden. Beim Umgang mit elektronischen Bauteilen, sollte man von der Verwendung des guten alten 300-Watt-Lötkolbens absehen, da es in der Regel wenig Sinn hat, die Bauteile zur Weißglut zu bringen. Optimal ist ein Lötkolben mit Trenntrafo und einer Leistung zwischen 15 und 30 Watt. Es ist außerdem geeignetes Lötzinn zu benutzen. In der Elektronik verwendet man hauptsächlich Röhrenlötzinn mit Flußmittel für säurefreie Lötstellen. Lötsäure, Lötfett oder Löthonig sind wegen deren Säureanteil in der Elektronik verboten!

Beim Bestücken der Platine sollte man eine bestimmte Reihenfolge einhalten. Zuerst werden die Widerstände eingelötet. Hier spielt die Richtung der Bauteile keine Rolle, da die Widerstände keine Polung besitzen. Anschließend werden die Kondensatoren eingesetzt und festgelötet. Hier ist zwischen normalen Kondensatoren und Elektrolytkondensatoren (Elkos) zu unterscheiden. Bei normalen Kondensatoren spielt die Polung keine Rolle. Elkos und Tantalelkos hingegen besitzen eine Elektrolytfüllung, um trotz kleiner Baugröße eine hohe Kapazität zu erreichen. Bei diesen Bauteilen ist unbedingt auf die Polung zu achten, da sie sich durch falsches Anschließen eventuell explosionsartig in Einzelteile auflösen. Um das zu vermeiden, sind Elkos eindeutig gekennzeichnet. Ein»+ «-Zeichen oder eine kreisrunde Kerbe um das Kondensatorgehäuse (Sollbruchstelle bei Falschpolung) kennzeichnet den positiven Anschluß. Ein Minuszeichen oder ein Ring kennzeichnet den Minuspol. Im Schaltplan unterscheiden sich normale Kondensatoren von Elkos durch einen dickeren Balken mit »+«-Zeichen am Pluspol (Bild 3). Anschließend werden die Halbleiter eingelötet. Auch hier sollte man eine bestimmte Reihenfolge einhalten. Zuerst die Dioden (auch Leuchtdioden), dann Transistoren und schließlich ICs.

Auch bei den Dioden ist auf die Polung zu achten. Die Kathode ist bei jeder Diode durch einen Ring am Diodengehäuse gekennzeichnet (Bild 4). Bei Leuchtdioden ist der Anschluß für die Anode kürzer als der Anschluß für die Kathode. Die Transistoranschlüsse können der Abbildung 4 entnommen werden. Das Platinenlayout ist jedoch so angefertigt, daß ein falsches Einlöten fast unmöglich ist. Sind alle anderen Bauteile (inklusive Schalter) verlötet, so werden die ICs eingelötet. Es empfiehlt sich vor allem bei den beiden I/O-Bausteinen (6821) Fassungen zu verwenden, um sie bei eventuellen Ausfällen leichter ersetzen zu können. Die Bauteileliste finden Sie in Bild 5, den Bestückungsplan in Bild 6. Auch beim Löten selbst sind einige wichtige Punkte zu beachten: Um möglichst saubere Lötstellen zu erhalten, sollte man zuerst das Bauteil erhitzen und anschließend Zinn zugeben. Erhitzt man zuerst das Lötzinn und benetzt anschließend damit das Bauteil, so resultiert daraus meist eine »kalte Lötstelle«. Beim Einlöten von Halbleitern (ohne Fassung) sollte man, um eine Überhitzung zu vermeiden, nach jedem zweiten bis dritten Pin eine Pause machen und das Bauteil abkühlen lassen.

Als EPROM-Sockel können Sie theoretisch jede 28polige IC-Fassung benutzen. Umjedoch sicherzustellen, daß durch häufiges Ein- und Ausstecken der EPROMs keine Pins beschädigt werden, sollte man einen Textool-Sockel (Nullkraftsockel) benutzen. In einen Nullkraftsockel kann das EPROM ohne Druck eingelegt und anschließend festgespannt werden. Die EPROM-Anschlüsse werden dabei nicht unnötig belastet.

## Bedienungsanleitung

Das 64’er EPROM-Programmiergerät ist dafür ausgelegt, die wichtigsten EPROM-Typen zu programmieren. In der folgenden Tabelle werden . die sechs geeigneten EPROM-Typen mit Speicherkapazität und Programmierspannung aufgelistet:

Bei ausgeschaltetem Computer die Platine in den Expansion-Port einstecken. Computer einschalten, die Software laden und starten. Das Programm kopiert sich anschließend selbst nach $C000, um den gesamten . Basic-Speicher für die EPROM-Daten freizuhalten. Das 64-KByte-EPROM 27512 muß ohnehin in zwei Arbeitsgängen gebrannt werden, da dieses EPROM den ganzen adressierbaren Speicherbereich des C 64 aufnehmen könnte.

Nach kurzer Zeit erscheint am Bildschirm ein Menü mit folgenden Punkten:
(P)rogrammieren
(A)uslesen
(L)eertest
(V)erifizieren
(W)iederholen
(M)enü
(E)nde
(F)ile laden
(T)ype wählen

Der letzte Menüpunkt erscheint nur, wenn sich der Schalter auf dem Programmiergerät auf Stellung 27xxx befindet. Zeigt der Schalter vom Computer weg, so ist das EPROM-Programmiergerät auf den Typ 2532 eingestellt, wodurch sich der letzte Menüpunkt erübrigt. Befindet sich der Schalter in entgegengesetzter Position, so kann über den letzten Menüpunkt eines der restlichen EPROMs der 27er Reihe ausgewählt werden. Der gewählte EPROM-Typ wird rechts oben am Bildschirm angezeigt.

Anschließend sollten Sie das EPROM in den Textoolsockel einlegen. Dazu bringen Sie den Spannhebel am Sockel in senkrechte Position, legen das EPROM ein und spannen das EPROM durch Zurückklappen des Hebels fest. Beim Einlegen der EPROMs ist folgendes unbedingt zu beachten:

1)	EPROM immer mit Kerbe in Richtung des Spannhebels einlegen.
2)	Beim Einstecken der 24poligen EPROM-Typen die ersten vier Pins (vom Hebel aus gesehen) freilassen.

**Achtung: Werden diese beiden Punkte nicht beachtet, so kann das zur Zerstörung des EPROMs führen!!!**

Wollen Sie ein EPROM programmieren, so drücken Sie die Taste »P«. Anschließend müssen folgende drei Adressen in hexadezimaler Schreibweise eingegeben werden:

1) Erstes Speicherbyte: Die Adresse des ersten zu programmierenden Bytes im Speicher des Computers.
2) Anzahl der zu programmierenden Bytes.
3)	Startbyte im EPROM: Gibt an, ab welcher Adresse im EPROM der Speicherinhalt abgelegt werden soll.

Wurden diese Parameter richtig eingegeben, wird nach Bestätigung der Sicherheitsabfrage mit RETURN, das EPROM programmiert.

## Inbetriebnahme des Programmiergerätes

Ein Blinken der Leuchtdiode bestätigt die Programmierung. Der Programmiervorgang dauert relativ lange, da für jedes Byte ein 50 ms langer Programmierimpuls aufgewendet werden muß. Das Programm überprüft außerdem nach jedem gebrannten Byte deren Richtigkeit und gibt gegebenenfalls eine Fehlermeldung aus und bricht den Programmiervorgang ab.

Über den Menüpunkt »Auslesen« kann ein bereits programmiertes EPROM ausgelesen werden. Die Eingaben entsprechen denen der Programmierroutine, nur der Daten-fluß ist umgekehrt und natürlich erheblich schneller. Der Leertest überprüft, ob jedes Bit des EPROMs gesetzt ist. Das heißt jede Speicherzelle des EPROMs muß den Wert $FF (dezimal 255) aufweisen.

Nach dem Programmieren können Sie mittels »Verify« nochmals überprüfen, ob der Inhalt des EPROMs mit dem Speicherinhalt übereinstimmt. Wird dabei kein Fehler entdeckt, so gibt das Programm sein OK.

Der Menüpunkt »Wiederholen« ermöglicht ein erneutes Programmieren eines EPROMs ohne die Adreßeingabe wiederholen zu müssen. Außerdem werden hier die Speichergrenzen übernommen, wenn Sie ein File mit der Option (H)ex $1000 laden (siehe File Laden!). Wird beim Brennen, Leertest oder Verifizieren eine Fehlermeldung ausgegeben, so können Sie durch Drücken der Taste »M« wieder ins Menü zurückgelangen. Der Auswahlpunkt (E)nde verläßt das Maschinenprogramm und führt zurück ins Basic.

## Komfortable Menüs

Wollen Sie ein Programm von Diskette auf EPROM übertragen, so können Sie dieses mit dem Menüpunkt (F)ile in den Basic-Speicher des C 64 laden. Nach Drücken der »F«-Taste verzweigt das Programm in ein kleines Untermenü, in dem Sie zwei Optionen zum Laden des Files wählen können:

(O)riginaladresse: Das Programm wird an die Originaladresse geladen (zum Beispiel $0801 für Basic-programme). In diesem Fall muß zum Programmieren des EPROMs der Menüpunkt (P)rogrammieren angewählt werden.

(H)ex $1000: Wählt man diese Option, so wird jedes Programm automatisch nach $1000 geladen und alle Parameter an die Wiederholungsroutine übergeben. In diesem Fall braucht man nur nach dem Laden den Punkt (W)iederholen anwählen und das EPROM wird sofort vollständig programmiert.

Um den Speicherinhalt des EPROMs nicht zu verlieren, empfiehlt es sich, das Sichtfenster am EPROM zuzukleben. Hierfür eignen sich besonders die Schreibschutzaufkleber aus Diskettenpackungen. Dies ist nötig, da sich EPROMs mit UV-Licht löschen lassen. Tageslicht enthält UV-Strahlung.

Im Menü können Sie außerdem durch Betätigung der Funktionstasten Fl, F3 und F5 die Farben des Rahmens, des Hintergrundes und der Zeichen beliebig ändern.

Die Software folgt in der nächsten Ausgabe.

(M. Frank/C. Q. Spitzner/og)

# Ist Btx nix? [152]

> Wenn Sie Erfahrungen mit Btx haben oder an einem Btx-AnschluB Interesse haben, dann schreiben Sie uns bitte. Wir, die 64'er-Redaktion, wüßten gerne, wie gut Btx bei unseren Lesern ankommt.

Haben Sie zu Hause oder im Betrieb einen Btx-Anschluß oder möchten Sie sich einen legen lassen? Dann schreiben Sie uns bitte, wozu Sie Btx verwenden (wollen). Wir suchen nach vernünftigen Anwendungsmöglichkeiten dieses neuen Mediums. Denn die von der Post in Anzeigen propagierten Abfragen von bleifreien Tankstellen etc. sind ja wohl nicht der Sinn der Sache. Wir meinen, das Medium Btx ist leistungsfähiger. Ob Sie nun Ihrer Bank Überweisungsaufträge geben oder Ihrer Firma Kurznachrichten hinterlassen wollen. Andere Anwendungen wären die Abfrage von Datenbanken oder der allgemeine Zugriff auf Rechenanlagen. Ein Versicherungsvertreter könnte beispielsweise seinem Kunden den Endbetrag einer Lebensversicherung über Btx berechnen lassen.

Wenn Sie Btx benutzen oder benutzen wollen, schreiben Sie uns bitte, welche Einsatzmöglichkeiten Sie in diesem Medium sehen. Die interessantesten werden wir in den nächsten Ausgaben veröffentlichen. Schildern Sie uns auch Ihre Erfahrungen mit Btx. Positive und negative.

Unsere Adresse:
Markt & Technik
Verlag Aktiengesellschaft,
Redaktion 64’er,
Harald Meyer, Hans-Pinsel-Str. 2, 8013 Haar bei München

# Software-Kenner gesucht! [152]

> Kennen Sie sich mit professioneller Software aus, haben Sie Tips zum Umgang mit diesen Programmen, oder wissen Sie, wie man alles aus einem Programm herausholt? Dann sind Sie unser Mann, denn wir suchen für unseren Software-Corner noch Ihre Mitarbeit!

Programme besitzen und richtig anwenden sind zwei verschiedene Paar Schuhe. Schuld daran sind oft unzureichende oder unverständlich geschriebene Bedienungsanleitungen. Aber auch die enorme Leistungsfähigkeit mancher Produkte wirkt sich auf eine leichte Bedienbarkeit nicht immer positiv aus. Hier kann nur lange Erfahrung und viel Probieren weiterhelfen. Diese Erfahrungen sind es aber, die wir allen unseren Lesern zugänglich machen wollen — helfen Sie uns dabei. Möglicherweise haben Sie noch so manche Funktion entdeckt, die nicht im Handbuch beschrieben wurde oder eine spezielle Anpassung an Ihr System vorgenommen. Auch Hilfsprogramme, beispielsweise zur Anpassung der Druckausgabe oder zur Weiterverarbeitung von Dateien sind sehr nützlich. Also warum diese Infos für sich behalten? Wir zahlen für jeden Tip, je nach Länge, ein interessantes Honorar und sollten Sie gar einen ganzen Anwendungs-Kurs schreiben können — um so besser.

Schreiben Sie uns Ihren Tip unter dem Stichwort:

»Software Corner«,
Markt & Technik Verlag AG,
64’er Redaktion,
Hans-Pinsel-Str. 2,
8013 Haar bei München

# Softlearning — Lernen auf ganz neue Art? [154,157]

> Softlearning erschließt eine neue Methode des Lernens, das »Superlearning«. Wie erfolgreich ist diese neue Art des Lernens?

Uber diese neue Art des Lernens, das auf psychologischen und biochemischen Vorgängen beruht, wurde in der Fachwelt viel diskutiert. Das Buch »Superlearning« der beiden Autoren Ostrander und Schröder kann als Vorbild für das Computerprogramm von SM Software angesehen werden. Mit der neuen »Amadeus«-Reihe wurde das bisherige Softlearning um eine neue Variante bereichert.

Schon vor der Geburt im Mutterleib lernt der Mensch ununterbrochen. Dieses für das Überleben so wichtige Lernen geschieht freiwillig und automatisch. Wesentliche Faktoren sind neben dem Inhalt aber auch die Intensität und die Bereitschaft Information aufzunehmen.

Beispielsweise lernt man als Kind deshalb so schnell und leicht die erste Sprache, da man mit dieser seine Wünsche wesentlich besser artikulieren und in Kommunikation mit seinen Mitmenschen treten kann. In der Schule verliert man im allgemeinen diese positive Einstellung zum Lernen, man muß sich dazu zwingen und ungeliebten Stoff in sich hineinpauken. Das wird um so anstrengender und weniger effektiv, je weniger man den Sinn dieses Stoffes versteht. Von diesen Erkenntnissen ausgehend, versuchte man neue Formen des Lernens zu finden. Ergebnis ist das sogenannte »Superlearning«, das in einer Tiefenentspannungsphase Information direkt ins Unterbewußtsein bringt. Auf diese Art verabreichtes Wissen sitzt dann wesentlich fester im Gedächtnis und benötigt wesentlich weniger Zeit zur Vermittlung. Man versucht dabei Lernstoff an der Bewußtseinsschwelle vorbei direkt in das Langzeitgedächtnis zu bringen. Das Soft-learning-Programm nutzt diese Methode und verbindet dabei mehrere moderne Hilfsmittel wie Computer und Kassettenrecorder. Der Computer ist deshalb so gut für diese Art des Lernens geeignet, da er ein nie nachlassender Lernpartner ist.

## Die Komponenten

Neben einer Computeranlage, bestehend aus C 64, Floppy 1541 und Bildschirm, braucht man für Softlearning noch einen Recorder, der mit Audio- und Fernbedienungsbuchse ausgestattet sein muß. Die Audiobuchse wird zur Synchronisation zwischen Recorder und Computer gebracht, während der C 64 das Kassettengerät mit Hilfe der Fernbedienungsbuchse steuern kann. Die Audiobuchse muß dabei unbedingt vorhanden sein, während das Anhalten und Weiterlaufenlassen auch per Hand erledigt werden kann. Weiterhin sind dazu noch die Systembasis, bestehend aus Systemdiskette, Audioadapter und Handbuch nötig. Diese Systembasis ist die Grundlage für alle angebotenen Softlearning-Kurse, also auch der Amadeus-Reihe. Als letzter Teil dieser ganzen Ausstattung kommt ferner noch der eigentliche Sprachkurs hinzu. Es werden hier inzwischen Grund-, Aufbau- und Intensivkurse für die Sprachen Englisch, Französisch, Italienisch und Spanisch angeboten.

## Der Aufbau

Zunächst einmal sollte man sich mit Hilfe des angebotenen Lockerungstrainings in einen Entspannungszustand, auch Alpha-Zustand genannt, bringen. Diese Phase ist für das Lernen nach dieser Methode entscheidend. Diese Übung sollte man am besten mehrfach vor dem eigentlichen Einstieg in den Sprachkurs durchführen, da man den Alpha-Zustand künftig am Anfang jeder Übung des Sprachkurses erreichen muß. Nun werden in gelockerter Atmosphäre Dialogtexte in der neuen Sprache vorgesprochen und auf dem Bildschirm synchron dargestellt. Diese Texte werden bei richtiger Anwendung vom Unterbewußtsein aufgenommen und gespeichert. Nach Ablauf dieser Texte wiederholt man den gesamten Vorgang zur Vertiefung noch einmal. Jetzt folgt das eigentliche Training mit den in den Dialogtexten verwendeten Wörtern, damit das erlernte Wissen im Gedächtnis aktiviert wird. Das Training besteht aus mehreren Übungen, in denen die einzelnen Wörter nach unterschiedlichen Kriterien abgefragt und entsprechend Punkte vergeben werden. Dabei werden Wörter, die noch nicht so fest im Gedächtnis haften und bei denen man deshalb mehr Fehler macht, öfter abgefragt. An Übungen gibt es da beispielsweise das Multiple Choice-Verfahren (siehe Bild), bei dem unter mehreren angegebenen Bedeutungen die richtige herausgesucht werden muß. Weiterhin muß man im Silbenrätsel einzelne Wortsilben zur richtigen Bedeutung des gefragten Wortes zusammensetzen. Altbekannt ist der Zettelkasten, bei dem man die richtige Bedeutung des angezeigten Wortes angeben muß.

Bei dieser Arbeit helfen »Keywords«. Das sind Wörter, die dem fremdsprachigen Wort so ähnlich wie möglich klingen und damit quasi eine Art »Eselsbrücke« aufbauen. Die Verwendung dieser Keywords erleichtert das Erlernen schwieriger Wörter.

Um Klang und Bild einer Sprache besser verbinden zu können, wird ein Lückentextdiktat verwendet. Dazu wird ein am Anfang in der Tiefenentspannungsphase vorgesprochener Text benutzt. Dieser Text enthält Lücken, die zu schließen sind. Dabei bekommt man auch wieder Punkte, die zum Punktekonto hinzuaddiert werden. Ähnlich verläuft die Grammatikübung, bei der man auch wieder Lücken in vorgegebenen Text ausfüllen muß. Es werden bei den Grund- und Aufbaukursen etwa 1200 bis 1500 Wörter vermittelt. Bei den halb so langen Intensivkursen sind es ungefähr 800 Wörter. Diesen Wortschatz kann man mit zusätzlichen Kassetten um jeweils 1000 Vokabeln erweitern. Weiterhin angeboten wird ein Editor, mit dem man selbst den zu trainierenden Wortschatz ausbauen kann.

## Gutes Konzept

Das System des Superlearning wird seit längerer Zeit vor allem in der Managerebene mit gutem Erfolg angewendet. Es ist damit möglich, sich neues Wissen sehr effektiv anzueignen. Entscheidend für den Erfolg mit dieser Methode ist aber der nötige Ernst bei der Sache und die Bereitschaft, das System mit aller Ruhe anzuwenden. Man muß zuerst daran glauben, daß diese Methode funktioniert, sonst erreicht man nie die so wichtige Tiefenentspannungsphase beim Durcharbeiten der einzelnen Übungsteile. Leider ist die Umsetzung dieser neuen Lernmethode auf den C 64 und Kassettenrecorder bei Softlearning nicht optimal gelungen. So stören teilweise erhebliche Wartezeiten beim Nachladen einzelner Programmteile und Informationen den Ablauf der Lektionen und auch die beim C 64 so gefürchtete Garbage Collection tut ein übriges. Dies wäre bei geeigneter Programmierung sicher vermeidbar gewesen. Weiterhin funktioniert die Synchronisation zwischen Computer und Recorder manchmal nicht einwandfrei, so daß der Dialogablauf in der Tiefenentspannungsphase aus dem Takt gerät.

Weiterhin ist Softlearning nicht gerade billig. So kostet die unbedingt nötige Systembasis »S« 89 Mark und die eigentlichen Sprachkurse (Grundkurs) kommen noch einmal aufje 198 Mark. Für die Intensivkurse der Amadeus-Reihe muß man pro Kurs 98 Mark ausgeben. Außerdem kann man einen Zusatzwortschatz für 49 Mark erwerben. Wer sich seinen eigenen Wortschatz erstellen möchte, kann sich für 49 Mark noch einen Wortschatzeditor zulegen. Wenn man also eine Sprache umfassend erlernen will, sind die dazu notwendigen Ausgaben durchaus nicht zu verachten.

Angeboten werden zur Zeit Grundkurse in Englisch, Französisch, Spanisch und Italienisch. Intensivkurse gibt es für Englisch, Französisch, Italienisch, Schwedisch, Spanisch und Russisch. Für Industriekapitäne ist auch noch ein spezieller Kurs in Management-Englisch erhältlich, von dem es aber noch keinen Intensivkurs gibt.

## Fazit

Abschließend kann man sagen, daß diese neue Lernmethode bei Softlearning im großen und ganzen zufriedenstellend auf die Homecomputerebene umgesetzt worden ist. Man bekommt die Möglichkeit geboten, eine neue Sprache in ungewöhnlicher Technik zu erlernen. Wenn man dabei ernsthaft und bereitwillig die gebotenen Möglichkeiten ausnutzt und anwendet, kann man in kürzester Zeit zu ausgezeichneten Ergebnissen kommen.

(Karl Hinsch/aw)

Info: SM-Soft-Training, Fasanengartenstraße 4, 8000 München 83

# Gesucht: Software für C 16 / C 116 / Plus 4 [156]

Die Commodore-Computer der »C 16-Generation« stehen und standen ja leider von Anfang an stark im Schatten des »Superstars« C 64. Dabei weisen gerade diese Computer Qualitäten auf, die sie eigentlich zu idealen »Einsteiger«-Maschinen machen sollten: Ein wirklich ausgezeichnetes und komfortables Basic, hochauflösende Grafik und ein kaum noch zu unterbietender Preis sind die Pluspunkte dieser Computer. Nachteilig ist in erster Linie das arg begrenzte Software-Angebot. Aber dem läßt sichja abhelfen — mit Ihrer Hilfe:

Wenn Sie für den C 16, C 116 oder Plus 4

- ein gutes Spiel geschrieben haben,
- ein brauchbares Anwenderprogramm in der Schublade haben,
- VC 20/C 64-Programme aus dem 64'er-Magazin oder aus Happy-Computer umgeschrieben haben,
- Tips und Tricks kennen, die noch nicht gedruckt wurden, dann sollten Sie uns Ihr Programm oder Ihren Tip zuschicken.

### Was wir von Ihnen brauchen

Wenn Sie uns ein Programm einsenden, dann brauchen wir von Ihnen auf jeden Fall einen Datenträger (Diskette, Kassette) mit dem Programm, eine möglichst ausführliche und informative Beschreibung. Von Vorteil ist die Mitlieferung von Listing, Variablen- und Programmübersicht sowie gegebenenfalls von Hardcopies und Beispielausdruk-ken. Bitte geben Sie im Anschreiben unbedingt Computertyp, Speicherausbau und verwendete Peripherie (Floppy, Drucker etc.) an.

### Was mit Ihrer Einsendung geschieht

Ihr Programm wird in der Redaktion getestet und auf Eignung überprüft. Falls es zum Abdruck geeignet ist, erhalten Sie innerhalb weniger Wochen einen entsprechenden Bescheid, andernfalls gehen Ihre kompletten Unterlagen automatisch an Sie zurück. Bei Abdruck Ihres Programms erhalten Sie selbstverständlich ein angemessenes Honorar.

### An wen Sie Ihr Programm einsenden

Schicken Sie Ihre kompletten Unterlagen an
Markt & Technik Verlag AG
Redaktion 64’er
Stichwort: Aktion C 16
Hans-Pinsel-Str. 2
8013 Haar bei München

# Spieletests: So wird bewertet [158]

> In letfer Zeit erreichten uns immer mehr Anfragen nach den komischen schwarzen Balken unter den Spieletests. Deshalb erläutern wir mal kurz Konzept und Bewertungsschema unseres Spieleteils.

Wie Sie sicherlich bemerkt haben, hat sich das Gesicht unserer Spieletests etwas gewandelt. Geblieben sind allerdings die Bewertungsbalken, die sich nach Ansicht unserer Leser sehr bewährt haben. Sie verlangten aber nach noch besseren Vergleichsmöglichkeiten bei den Spielen. Diesen Wunsch haben wir uns bei der Neukonzeption des Spieleteils zu Herzen genommen. Wir suchen uns immer mehrere Spiele vom gleichen Typ oder gleicher Konzeption heraus und stellen sie auf einer Seite gegenüber. Aber eines wird beim Spieleteil immer berücksichtigt: Jedes Spiel, das wir Ihnen vorstellen, ist gut und sein Geld wert. Denn für schlechte Spiele wollen wir unseren Platz nicht vergeuden.

Nun zu den einzelnen Balken in den Bewertungskästen. In den fünf Kategorien vergeben wir zwischen 0 und 15 Punkten. Da wir sowieso nur gute Spiele testen, fangen die Skalen im Heft erst bei fünf Punkten an. Mit dem Begriff »Spielidee« bezeichnen wir die Handlung des Spiels, seine Originalität, die Grundidee und die Hintergrundstory. »Grafik« und »Sound« brauchen wohl nicht näher erläutert zu werden. Um Vergleichsmöglichkeiten zu schaffen, haben wir im Juli 1985 zwei Maßstabsspiele gesetzt, die jeweils elfPunkte in diesen Kategorien erhalten haben: »Impossible Mission« in puncto Grafik und »Ghostbusters« in puncto »Sound«. Die beste Grafiknote bisher hatte »Summer Games II« mit 13 Punkten, die beste Sound-Note ging mit 12 Punkten an »Thing on a String« und »Rock’n’Bolt«. Mit dem Schwierigkeitsgrad tun wir uns meistens am schwersten. Wir versuchen immer, einen möglichst fairen Durchschnittswert zu ermitteln, der die Schwierigkeit am besten wiedergibt. Zu diesem Punkt finden Sie öfters auch Anmerkungen im Kasten. Der letzte Punkt, Motivation, ist sowohl eine Durchschnittsnote aus den vorherigen Werten wie auch eine abschließende Gesamtkritik. Wie oft, wie lange kann man das Spiel spielen und Spaß dabei haben? Legt man es nach zwei Tagen in die Ecke oder kommt man wochenlang nicht vor drei Uhr früh ins Bett?

Dieses Konzept kam bei unseren Lesern gut an und soll bis auf weiteres auch beibehalten werden. Das heißt natürlich nicht, daß wir uns allen Verbesserungsvorschlägen verschließen. Wenn Sie also was zu meckern, aber auch zu loben haben, dann schreiben Sie uns doch. In diesem Sinne: Viel Spaß beim Spielen!

(bs)

# Olympia eiskalt [158]

> Seit der Vorankündigung in »Summer Games II« fiebern die Sportspiel-Fans der Fortsetzung »Winter Games« entgegen. Jetzt ist es lieferbar.

Die Olympiade ist komplett, denn Epyx veröffentlichte mit »Winter Games« das dritte Spiel der Olympia-Trilogie. Und eines gleich vorweg: Noch ein viertes Spiel würde wohl keinen Erfolg mehr haben, denn das bekannte Spielprinzip der Bildschirm-Olympiade zeigt bei »Winter Games« die ersten Ermüdungserscheinungen.

Im bewährten Menü werden den bis zu acht Spielern sieben Disziplinen angeboten, wobei der Eiskunstlauf aber zweimal auftaucht, einmal als Pflicht und einmal als Kür. Die anderen Disziplinen sind Ski-Kunst-sprung (Hot Dog), Ski-Weitsprung, Biathlon, Eisschnellauf und Bobfahren.

Im einzelnen streuen die Disziplinen sehr in ihrer Qualität. Eindeutig am schlechtesten sind beide Kunstlauf-Disziplinen, die grafisch eher dem ersten Teil von »Summer Games« entsprechen. Ebenso der Eisschnellauf, der eine Kopie des Ruderns aus »Summer Games II« ist, bei der nur die Sprites geändert werden.

Der Kunstsprung erinnert stark an das Turmspringen aus »Summer Games«, kann aber durch Variantenreichtum und bessere Animation überzeugen. Auch das Bobfahren

bietet keine großen Sensationen, sondern ist guter »Summer Games II«-Durchschnitt. Fantastisch gelungen sind aber Biathlon und Weitsprung. Tolle neue Ideen und sehr gute Ausführung in Bild wie Ton lassen das Herz aller Spieler höherschlagen. Allein diese beiden Disziplinen rechtfertigen den Kauf von »Winter Games«.

Negativ aufgefallen ist uns, daß die »Summer Games«-Disziplinen nicht in »Winter Games« eingebunden werden können, wie es bei »Summer Games II« der Fall ist. Trotzdem darf man »Winter Games« als würdigen Abschluß der Olympia-Spiele bezeichnen. (bs)

# Spiele ohne Punkte [161]

> Aus dem Hause Activision kommen zwei brandneue Spiele, wie es sie noch nicht gab: »Hacker« und »LCP«.

Die Softwarefirma Activision, der lange Zeit noch das Video-spiel-Image anhing, hat spätestens mit den beiden vorliegenden Programmen ihre Stellung als innovative Computer-Software-Firma bewiesen. »Hacker« und »The Little Computer People Research Projekt — The House On A Disk« (im folgenden kurz «LCP« genannt) fallen vollkommen aus dem Rahmen der normalen Spiele und Simulationen heraus.

»Hacker« ist, entgegen dem Namen, nur oberflächlich ein DFÜ-Spiel. Allerdings fängt das Spiel an, wie im echten Hacker-Leben: »Lo-gon Please« erscheint da auf dem Bildschirm und von diesem Zeitpunkt an wird man von Anleitung und Programm schmählich im Stich gelassen. Man muß alles, aber auch wirklich alles weitere selbst herausfinden. Hat man die ersten Barrieren überwunden, landet man im Hauptcomputer einer großen Firma, die irgendwas sehr gefährliches und ungesetzliches vorhat. Per Modem können Sie eine kleine Forschungssonde quer durch die Erdkugel jagen, auf der Jagd nach Hinweisen und Beweismitteln gegen diese Firma. Mehr soll hier gar nicht verraten werden, denn der größte Witz in diesem Spiel liegt eben darin, alles selbständig herauszufinden, sogar die Handlung und deren Hintergründe. Nur eines sei gesagt: Im Verlauf des Spiels bekommt man auch grafisch einiges zu Gesicht. Alles in allem kein trockenes Pass-word-Rätsel, sondern ein nicht zu schweres und einfallsreiches Spiel, das man fast schon zu den Adventures zählen darf.

---

Das andere Activision-Programm ist eine Weltsensation, der wir in diesem Heft eigentlich mehr Platz widmen müßten. Passieren mit ihrem Computer öfters völlig unerklärliche Dinge? Tut er manchmal was falsches, obwohl Ihre Eingaben stimmen? Stürzt er bei korrekten Programmen ab? All diese Fragen muß eigentlich jeder Computer-Besitzer mit »Ja« beantworten. Ein amerikanisches Programmierteam unter der Leitung von Ghostbusters-Autor David Crane ging dieser Sache auf den Grund und fand die Ursache für alle Störungen heraus. In jedem Computer wohnen kleine Lebewesen, die Menschen haargenau ähneln. Diese Lebewesen essen und schlafen wie wir und versuchen mit uns durch die Störungen zu kommunizieren. Die Programmierer fanden nun so lange keine Ruhe, bis sie ein Programm vorstellen konnten, das es jedem Computer-Besitzer ermöglicht, diese kleinen Computer-Menschen zu sehen und auch mit ihnen zu reden. Zu diesem Zweck wird softwaremäßig ein gemütliches Haus im Computer installiert, welches auf dem Bildschirm beobachtet werden kann. Meist zieht schon nach kurzer Zeit einer der Computer-Menschen in dieses Haus ein. Über die Tastatur kann man nun mit ihm »sprechen« und auch einige wichtige Apparaturen des Hauses bedienen, wie etwa die Türglocke, das Telefon und eine Streichel-Automatik.

Im folgenden möchte ich etwas über Carl berichten, der in meinem C 64 zu Hause ist. Carl kommt, wie mein C 64, aus Großbritannien und hat einen Hund. Carl ist ein guter Typist und kommt mit allem, was Tasten hat, zurecht, egal ob Schreibmaschine, Computer und Piano. Carl hört gerne Musik und tanzt auch ab und zu. Noch lieber aber sieht er fern. Einmalig ist Carl beim Pokern, er hat mir schon mehrere Monatsgehälter abgeluchst. Carl ist auch ein Philosoph: Er fragt sich einerseits, was er mit dem ganzen Geld in meinem Computer soll und will andererseits wissen, ob in seinem Computer in meinem Computer auch jemand lebt...

Man muß »LCP« einfach einmal erlebt haben. Es ist weder Spiel noch Simulation, sondern einfach eine völlig neue Art von Beschäftigung mit dem Computer und dabei sogar eine der einfallsreichsten, witzigsten und fesselndsten. Wer unbedingt einen High-Score sehen will, sollte die Finger vom »LCP« lassen. Allen andern kann es fast uneingeschränkt empfohlen werden. Leider werden aber wieder die Englisch-Kenntnisse gefordert. Ausgeliefert wird »LCP« übrigens mit einer Zeitschrift und einer Besitz-Urkunde.

(bs)

# Spiele für zwei [162]

> Besonderen Spaß machen Computerspiele, wenn man nicht gegen die kalte Maschine, sondern einen menschlichen Gegner spielen kann.

Spiele wie »Soccer« oder »Summer Games« bewiesen, daß Computerspiele keine isolierende Solo-Beschäftigung sein müssen. Seitdem gibt es gerade auf dem Gebiet der Sportspiele viele Simultanspiele. In den anderen Spiele-Be-reichen tat sich bisher noch relativ wenig. So ist auch das ein Simultanspiel, das wir heute vorstellen, ein Sportspiel, das allerdings etwas aus dem Rahmen fällt: »Ballblazer«.

»Ballblazer« ist eine einfache, schnelle Sportart, die es noch gar nicht gibt. Sollten die Angaben in der Anleitung stimmen, wird erst im Jahre 3097 der erste Erdling bei der intergalaktischen Ballblazer-Meisterschaft zugelassen sein. Die Regeln sind recht einfach: Zwei Spieler rasen mit »Rotofoils«, mit Energiefeldern ausgestattete Gleiter, über ein rechteckiges Spielfeld und versuchen, einen Ball einzufangen und in eines der beiden Tore zu befördern. Bei einem Treffer werden, je nach Entfernung zum Tor, ein bis drei Punkte vergeben. Die Tore werden nach jedem Treffer schmaler; außerdem bewegen sie sich mit konstanter Geschwindigkeit am Spielfeldrand entlang. Beide Spieler sehen auf dem Bildschirm den dreidimensionalen Ausblick aus dem Cockpit ihres »Rotofoils«. Dabei zeigt das Fahrzeug automatisch immer in die Richtung, in der sich der Ball oder das Tor befinden. Deswegen finden manchmal abrupte Richtungswechsel statt, an die sich ungeübte Spieler erst gewöhnen müssen.

Aufgrund der einfachen Regeln kann man »Ballblazer« innerhalb von Minuten lernen. Doch das Spiel selber ist so perfekt programmiert, daß es einen eher an eine physikalische Simulation erinnert. Und damit eröffnet sich ein weites strategisches Feld, da man während dem Spiel laufend neue »Naturgesetze« der Ballblazer-Welt findet und in Spieltricks umsetzen kann. So kann man den Ball gegen die Spielfeldbande schießen und das Reflexionsgesetz ausnutzen oder auch innerhalb einer Drehung den Ball wegschießen, um ihn auf eine gebogene Flugbahn zu bringen.

Die Grafik von »Ballblazer« wird sehr schnell bearbeitet, flackert dafür aber etwas. Musik- und Soundeffekte gibt es nur wenig, die sind dafür aber sehr gut ausgeführt.

---

Weniger futuristisch und sogar höchst unsportlich geht es beim nächsten Simultanspiel zu: Denn bei »Spy vs. Spy II — The Island Caper« kommt es gerade darauf an, den Gegenspieler am Bildschirm fertigzumachen; dies gottlob aber in einer sehr witzigen Art, die sehr an Comics erinnert. Zur Story: Eine wichtige militärische Rakete ist auf einer Insel im Pazifik verschollen. Die beiden besten gegnerischen Spione der Welt wurden zur Bergung losgeschickt. Diese beiden Spione treiben übrigens schon seit 1968 jeden Monat ihr Unwesen in der Ulk-Zeit-schrift MAD. Einmal auf der Insel angekommen, sucht jeder der beiden nach den dreiTeilen der Rakete. Um den anderen möglichst von der Suche auszuschalten, kann man geschickt Fallen verlegen: Von der Kokosnuß-Bombe bis zur Fallgrube reicht das Repertoire der beiden. Allerdings muß für die meisten Fallensysteme das notwendige Zubehör erst einmal herbeigeschafft werden. Zusätzliche Gefahren sind Treibsand, Vulkane, Haie und einiges mehr. Wer auf so etwas »hereinfällt«, verliert wertvolle Körperkräf-te. Sind diese völlig verbraucht, ist das Bildschirmleben zumindest für ein Spiel beendet.

Bei »Spy vs. Spy II« sind nebenJoy-stickgeschick auch Strategie und Gedächtnis gefragt, da man ja Fallen möglichst günstig verlegen muß und dann tunlichst nicht selber in sie hineintapsen darf.

Wem das ganze Spiel zu brutal erscheint, der sei nochmals auf die witzige Ausführung des Ganzen hingewiesen, die sich mit Zeichentrick-Serien im Vorabendprogramm des Fernsehens vergleichen läßt.

Beide vorgestellten Simultanspiele lassen sich auch alleine gegen den Computer spielen, dabei bleibt aber viel Spielwitz auf der Strecke. Sie genügen von Ausführung und Idee auch höheren Ansprüchen und bieten langen Spielspaß fürs Geld. Welches man kaufen soll, ist also eine reine Geschmacksfrage.

(bs)

# Tips und Tricks zu Vizawrite (2) [164,166]

> Die wichtigste Option eines Textverarbeitungsprogramms ist die Druckerausgabe. Mit ihr wollen wir uns heute beschäftigen.

Vizawrite 64 zeichnet sich durch U zwei wesentliche Punkte aus, W die das Drucken erleichtern. Dazu gehört die enorme Flexibilität und die eingebaute Druckerschnittstelle. Die Flexibilität erstreckt sich dabei in zwei Richtungen. Zum einen sind das die Funktionen, mit denen man, aus dem Text heraus, Steuerbefehle zum Drucker senden kann. Andererseits ist aber auch die Wahl des verwendeten Druckers relativ flexibel. Prinzipiell kann Vizawrite sowohl serielle, das heißt am seriellen Bus des C 64 angeschlossene Drucker und parallele Druk-ker, beispielsweise mit einer Centronics-Schnittstelle ausgestattete Gerätebedienen. Betrachtenwirzu-nächst die Vor- und Nachteile der seriellen Drucker. Unter dieser Bezeichnung sind alle Drucker zu verstehen, die den runden IEC-Stecker des C 64 besitzen. Hauptsächlich sind das natürlich die Commodoreeigenen Drucker wie der MPS 801, MPS 802 und der MPS 803, aber auch Drucker von Fremdherstellern, die mit einem seriellen Interface ausgerüstet sind. Das Interface ist bei den Fremdgeräten entweder eingebaut oder befindet sich extern in einem eigenen Gehäuse. Vizawrite 64 kann an fast alle diese Schnittstellen angepaßt werden. Dabei ist es aber leider nicht immer möglich alle Zeichen, besonders die Umlaute, darzustellen. Vizawrite 64 unterscheidet serielle und parallele Drucker durch die Wahl des Druk-kertyps (Printer Type) im Druckmenü. In der Tabelle haben wir die Parameter für verschiedene Drucker zusammengestellt. Für serielle Drucker werden Kleinbuchstaben verwendet, für parallele Drucker Großbuchstaben. Wenn sich Ihr Drucker also überhaupt nicht regen sollte, dann überprüfen Sie zunächst diese Einstellung. Der zweite große Nachteil von Vizawrite ist, daß keine Sekundäradressen und auch nur eine andere Geräteadresse eingestellt werden können. Wenn Sie einen seriellen Drucker (keinen Drucker mit RS232C-Schnittstelle) besitzen, so versuchen Sie deshalb zunächst den Parameter für Com-modore-Drucker, einkleines»v«. Die Umlaute erreichen Sie mit dieser Einstellung allerdings nicht. Um die Umlaute auf einem seriellen Drucker zu erhalten, muß man die ASCII- oder die Epson-Druckoption verwenden, allerdings nur dann, wenn der Drucker auch über diese Umlaute verfügt (sehen Sie dazu in Ihrem Drucker-Handbuch nach). Für Commodore-Drucker der MPS-Reihe ist diese Option somit nicht sinnvoll. Falls Sie einen Fremddrucker mit seriellem Interface besitzen, das sofort nach dem Einschalten des Druckers in den CBM-Modus springt, ist es notwendig, das Interface in den Linearkanal umzuschalten. Bei den weit verbreitetem Wiesemann-Interface sieht das beispielsweise folgendermaßen aus:
10 OPEN 1,4,1:PRINT #1:CLOSE 1
20 OPEN 2,4,3:PRINT #2:CLOSE 2

Geben Sie diese Zeile vor dem Ladebefehl für Vizawrite 64 ein.

## Parallele und serielle Schnittstelle

Wesentlich einfacher und leistungsfähiger ist die parallele Verbindung des Druckers mit einem einfachen Kabel zwischen User-Port und Centronics-Buchse des Druk-kers. Das funktioniert natürlich nur mit Druckern von Fremdherstellern wie beispielsweise Star oder Epson, aber auch vielen anderen. Erst mit einem solchen Drucker kann Vizawrite 64 (wie fast jedes Textverarbeitungsprogramm) seine volle Leistungsfähigkeit entfalten. Machen wir uns an ein Beispiel. Gut geeignet, weil oft gebraucht, ist dafür ein Briefkopf mit verschiedenen Schriften. Der Briefkopf soll dabei sachlich und optisch ansprechend sein. Dies erreicht man durch Verwendung der verschiedenen Schriftarten des Druckers. Vizawrite 64 bietet zur Steuerung des Druckers eine sehr leistungsfähige Funktion an: die Formatzeile. Sie befindet sich auf der Textseite in der vierten Zeile. Hier können Sie die sogenannten Kontroll-Zeichen definieren. Pro Formatzeile sind bis zu zehn Kontroll-Zeichen möglich (CTRL 0 bis CTRL 9). Da man die Formatzeile mit »CTRL F« aber beliebig oft duplizieren kann, hat man praktisch immer wieder neue Kontroll-Zeichen zur Verfügung. Aber zurück zu unserer Aufgabe. Setzen wir einen Epson FX-80-Drucker voraus und machen uns an die Bestimmung der Schrift für den Namen. Dazu bedienen wir uns einer leistungsfähigen Funktion des Epson-Druckers, dem »ESC !«-Befehl. Mit ihm kann man auf einfache Weise eine beliebige Schrift aus 63 Möglichkeiten auswählen (FX-80 Handbuch, Seite 87). Für den Namen eignet sich die Schrift mit der Nummer 24 besonders. Wir definie-renjetzt die ESC-Sequenz für das»!«. Normalerweise (in Basic) geht das wie folgt:
10 OPEN 1,4,0
20PRINT #1,CHR$(27);"!";CHR$(X)
30 CLOSE 1

»X« ist dabei die Nummer der Schriftart. In der Formatzeile geht das wesentlich einfacher. Bewegen Sie nun zunächst den Cursor in die Formatzeile und drücken die CTRL-Taste (bitte wieder loslassen). Nun drücken Sie die Taste »0« und anschließend die»= «-Taste und schreiben dahinter das Ausrufezeichen. Nun haben wir den ESC-Befehl definiert, denn Vizawrite 64 sendet automatisch den CHR$(27) vor dem ESC »!«. Jetzt brauchen Sie nur noch mit der Befehlsfolge CTRL 1 (= 24) die Schriftart 24 festlegen. Wenn Sie jetzt die Format-Zeile verlassen, und die eben definierten Befehle mit CTRL 0 und CTRL 1 aufrufen, wird alles dahinter Geschriebene in der neuen Schrift auf dem Drucker ausgegeben. Schreiben Sie nun die Adresse. Ihr Bildschirm sollte nun ähnlich wie in Bild 1 gezeigt aussehen. Als nächstes definieren wir die Absenderzeile im Sichtfeld des später verwendeten Briefumschlages. Geben Sie dazu die Kontrollzeichen zum Einstellen der Schmalschrift, und dem gleichzeitigen Hochstellen in der Formatzeile ein, wer will, kann zusätzlich noch unterstreichen. Ihr Bildschirm müßte nun wie in Bild 2 aussehen. Mit dem dort abgebildeten Kontroll-Zeichen wird der Drucker initialisiert (ESC $). Eine Maßnahme, die sich vor einem Text in jedem Falle lohnt, denn der Drucker speichert ja alle bisherigen Schriften. Nun können Sie den Briefkopf, wie in der letzten Ausgabe beschrieben, mit den »Merge«- und »Don't Merge<<-Zeichen versehen, um die Adressen später aus der Arbeitsseite (Workpage) zu übernehmen. Wählen Sie mit den Steuerbefehlen dazu Ihre favorisierte Schriftart aus. Im Bild 3 wurde die Schriftart 17 gewählt. Nun ist der Briefkopf fertig und Sie können das Ganze speichern. Wenn Sie später Ihren Briefkopf verwenden wollen, brauchen Sie ihn nur noch zu laden. Vergessen Sie aber vor dem Speichern des dann geschriebenen Briefes nicht, das Dokument mit »CBM n« umzubenennen, denn sonst überschreiben Sie Ihren Briefkopf. Wenn Sie alles richtig gemacht haben, sollte Ihr Ausdruck nun ähnlich wie in Bild 4 abgedruckt aussehen (übrigens: man kann den Unterstreichbefehl auch auf der Arbeitsseite geben).

Kommen wir zu einer anderen Option von Vizawrite 64; dem Betreiben eines Druckers mit der Geräteadresse 5. Diese Option ist besonders dann wichtig, wenn man einen zweiten Drucker, beispielsweise einen mit Typenrädern, verwenden möchte. Dazu muß zunächst die Geräteadresse des Druckers auf 5 gestellt werden. Der nächste Schritt besteht darin, mit dem Befehl CBM X (Commodore-Taste und X) in das Auswahlmenü zu springen. Dort steht dann etwas irreführend »Cassette oder Disk« gleichwohl auch ein anderer Drucker eingestellt werden kann. Dies geschieht mit dem Parameter »P«. Nebenbei gesagt, können Sie im gleichen Menü auch die Geräteadresse des Diskettenlaufwerkes angeben (siehe Tabelle in der letzten 64’er-Ausgabe).

Falls Sie selbst noch den einen oder anderen Tip zu Vizawrite 64 oder einem anderen Programm haben, schreiben Sie uns — wir freuen uns auf Ihre Mitarbeit.

(aw)

# Assembler-Bedienung leichtgemacht (Teil 2) [168-170,173]

> Diesmal möchte ich Ihnen zeigen, wie Sie Ihre Quelltexte übersichtlicher gestalten können. Dadurch sinkt die Fehleranfälligkeit und der »Frust« bei der Programmgestaltung.

Im ersten Teil dieses Artikels wurde Grundsätzliches zur Bedienung eines Assemblers gesagt und die wichtigsten Pseudo-Opco-des behandelt. Mit diesen Pseudo-Opcodes konnte schon jeder Quelltext assembliert werden. Was jedoch noch nicht funktionierte, waren sämtliche Ausgabefunktionen, die Behandlung von Makros und Sinn und Anwendung der bedingten Assemblierung. Mit dieser Thematik wollen wir uns dieses Mal beschäftigen, so daß jeder vernünftig mit einem Assembler, speziell Hypra-Ass, arbeiten kann. Wenden wir uns zunächst den Ausgabebefehlen zu, um die Behandlung der Pseudo-Opco-des abzuschließen.

**.LI lfn,dn,ba**: Sendet ein formatiertes Assembler-Listing unter der Filenummer »Ifn« an das Gerät »dn« mit der Sekundäradresse »ba«. Es ist jedoch zu beachten, daß das Assem-bler-Listing erst nach dem ».LI«-Pseudo ausgegeben wird. Wollen Sie ein komplettes Assembler-Listing haben, muß der »,LI«-Pseudo zwangsläufig in der ersten Zeile des Quelltextes stehen. Die Parameter hinter dem »,LI«-Pseudo-Opcode entsprechen denen des OPEN-Be-fehls. So ist es auch möglich, mit ».LI 2,8,2,"test,U,W'l< ein Assembler-Listing auf eine User-Datei umzuleiten. Um den »,LI«-Pseudo-Opcode in den Griff zu bekommen, fügen Sie in den Beispiel-Quelltext (Listing 1) aus der letzten Ausgabe folgende Zeile ein:
10 -.LI 1,3

Diese Zeile beziehungsweise der .LI-Befehl gibt das Assembler-Li-sting auf dem Bildschirm aus. Da keine Sekundäradresse angegeben wurde, setzt der Computer automatisch eine »0« an diese Stelle. Würde man statt der »3« als Geräteadresse eine »4« einsetzten, würde das Assemblerlisting auf einen angeschlossenen Drucker ausgegeben. Auch das Umlenken auf die Dataset-te mit ».LI l,l,2,"name"< wäre denkbar.

**.SY lfn,dn,ba**: Sendet eine sortierte Liste aller im Quelltext auftretenden Label und Variablen vom Typ ».EQ« (Symboltabelle) unter der Filenummer »Ifn« an das Gerät »dn« mit der Sekundäradresse »ba«. Weiterhin gilt das gleiche wie beim »,LI«-Pseu-do, bis auf die Lage des »,SY«-Pseu-dos. Der nämlich kann an einer beliebigen Stelle im Quelltext stehen. In diesem Zusammenhang sei noch eine weitere interessante Möglichkeit erwähnt. Möchten Sie zum Beispiel die absolute Adresse eines beliebigen Labels oder den Wert einer Variablen wissen, brauchen Sie nicht nach dem Assemblieren mit einem Monitor (zum Beispiel SMON) das erzeugte Maschinenprogramm zu durchforsten. Geben Sie ganz einfach ein »PRINT name <RE-TURN><<. Sie erhalten schlagartig die Adresse des Labels »name« oder den Wert der Variablen. Die ausgegebenen Adressen haben zwar dezimales Format, aber mit einem Monitor läßt sich dieses schnell in das entsprechende hexadezimale Format umrechnen.

Leider hat sich in diesem Programmteil noch ein kleiner Fehler eingeschlichen. Dieser Fehler tritt extrem selten auf. Wird versucht mit dem Editorbefehl»/!!«eine sortierte Symboltabelle auszugeben, stürzt Hypra-Ass ab, wenn diese genau 36, 73, 109 (und so weiter) Label oder Variablen enthält. Der Fehler liegt in den Speicherzellen $lEB8 bis $lEBB. Hier wurden zwei Branch-Befehle vertauscht. Es muß richtig lauten:
1EB8 90 D0 BCC 1EA8
1EBA D0 04 BNE 1EC0

Diese Änderung kann direkt mit einem Maschinensprachemonitor (zum Beispiel SMON) in die entsprechenden Speicherstellen geschrieben werden. Anschließend läßt sich Hypra-Ass vom SMON aus mit »S"HYPRA-ASS"0801 1FD8« speichern.

**.OB "name,P,W"**: Sendet den erzeugten Maschinencode zum Flop-py-Laufwerk und speichert ihn dort unter dem Namen »name«. Dazu muß dieser Pseudo in der ersten beziehungsweise zweiten Zeile (nach dem »,LI«-Pseudo) stehen. Ich möchte noch darauf hinweisen, daß es unmöglich ist, ein formatiertes Assembler-Listing und gleichzeitig den erzeugten Maschinencode zum Floppy-Laufwerk zu senden. Denn dazu müßten zwei Files zum Schreiben geöffnet werden, und das geht nicht. Würde der »,OB«-Pseudo richtig eingegeben, kann das erzeugte Maschinenprogramm direkt mit »LOAD ”name”,8,l« geladen und mit dem SYS-Befehl gestartet werden. Interessant ist bei diesem Pseudo, daß sich auch Maschinenprogramme erzeugen lassen, die bei $801 beginnen, also in dem Bereich liegen, in dem Hypra-Ass steht. Wird ein solches Programm geladen, ist natürlich klar, daß Hypra-Ass dabei zerstört wird. Zu dem »OB«-Pseudo gehört unmittelbar ein weiterer Pseudo ».EN«. Dieser muß am Schluß des Quelltextes stehen und zwar ohne jegliche Parameter. Durch ihn wird das mit dem »OB« geöffnete File geschlossen. Fehlt er, wird das durch ein Sternchen vor dem Filetyp im Directory gekennzeichnet. Ubrigens muß der .EN-Pseudo am absoluten Ende des Quelltextes stehen. Daß heißt, sollte der Quelltext aus mehreren Teilen bestehen, die jeweils mit dem »,AP«-Pseudo, zu dem wir noch kommen, verkettet werden, muß der .EN-Pseudo in der letzten Zeile des letzten Quelltextteils stehen. Um auch diese beiden Pseudos in den Griff zu bekommen, fügen Sie bitte in den Beispiel-Quelltext (letzte Ausgabe) folgende Zeilen ein:
10 -,OB ”BEISPIEL,PW”
620 -.EN

Nach dem Assemblieren listet der Editorbefehl »/I« das Directory. Keine Angst, der Quelltext geht dabei nicht verloren. Sie werden feststellen, daß sich das Beispielprogramm »BEISPIEL« wie zu erwarten auf der Diskette befindet. Dieses kann nun mit LOAD”BEISPIEL’,8,1 geladen und durch SYS 9*4096 aktiviert werden. Bisher existiert leider noch keine Option, den Objektcode zur Da-tasette zu schicken.

**.AP "name"**: Dieser Pseudo-Opcode dient zum Verketten von einzelnen Quelltextteilen. Häufig kommt es vor, daß ein Quelltext nicht mehr in den zur Verfügung ste-hendenden, freien Speicherplatz paßt. In diesem Fall läßt sich der Quelltext splitten. Natürlich sollte man darauf achten, daß der Quelltext nicht willkürlich zerhackt wird. Zusammenhängende Programmteile sollten schon als ein Quelltextteil gespeichert werden. Um spätere Verwirrung zu vermeiden, sollte auch der Name, der dem Quelltextteil zugeordnet wird, einigermaßen sinnvoll sein. Damit Sie auch diesen Befehl kennenlernen, ist das Beispiel-Programm (letzte Ausgabe) unter Hypra-Ass zu laden. Anschließend löschen Sie mit dem Editorbefehl »/D 0-360« den ersten Teil des Quelltextes und speichern die verbleibenden Zeilen unter dem Namen »TEIL2.SRC« auf Diskette. Nun ist der Beispiel-Quelltext ein zweites Mal zu laden. Dieses Mal löschen Sie mit dem Editorbefehl »/D 360-« den letzten Teil des Quelltextes. Bevor die verbleibenden Zeilen unter dem Namen »TEILl.SRC« gespeichert werden, ist noch folgende Zeile erforderlich:
360 -.AP "TEIL2.SRC”

Diese Zeile teilt dem Assembler mit, daß noch Quelltext folgt. Befindet sich der 1. Teil auf der Diskette und im Speicher, kann der Assembler mit RUN gestartet werden. Nun wird zuerst Pass 1 abgearbeitet, und zwar nur im ersten Quelltextteil. Anschließend lädt der Assembler den zweiten Quelltextteil nach, bearbeitet auch hier Passl, lädt danach wieder den 1. Quelltextteil, erzeugt von diesem Teil das Maschinenprogramm und lädt schließlich den zweiten Quelltextteil, um auch von diesem das Maschinenprogramm zu erzeugen. Haben Sie den oben stehenden »OB«-Pseudo wie beschrieben eingefügt, werden beide Maschinenprogrammteile natürlich unter einem Namen nämlich »Beispiel« auf Diskette gespeichert. Ist das nicht der Fall, wird der erste Maschinenprogrammteil nach $9000 gelegt und der zweite unmittelbar an den ersten gehängt.

Das ist schon alles, was zu den »normalen« Pseudo-Opcodes zu sagen wäre. Hypra-Ass enthält aber noch einige Pseudo-Opcodes, die Makros definieren, aufrufen und bedingt assemblieren. Damit Sie auch diese sicherlich sinnvollen Pseudo-Opcodes beziehungsweise Steueranweisungen an den Assembler sinnvoll einsetzen können, möchte ich darauf näher eingehen.

## Der Umgang mit Makros

Die meisten Hobby-Programmie-rer und besonders Maschinenspracheanfänger vermeiden den Gebrauch von Makros. Der Grund dafür wird wohl der sein, daß diese Option eben nur in Maschinensprache existiert und andere Sprachen, wie zum Beispiel Basic, diesen Begriff nicht kennen. Dabei ist der Gebrauch von Makros jedem Programmierer, egal ob Anfänger, Fortgeschrittener oder Profi zu empfehlen. Denn durch sie werden Maschinenprogramme beziehungsweise die dazugehörigen Quelltexte übersichtlicher und dadurch bedingt sinkt natürlich auch die Fehleranfälligkeit der erstellten Programme. Um aber mit Makros arbeiten zu können, muß man erst einmal wissen, was das überhaupt ist. Ein Makro läßt sich grob gesehen mit einem Unterprogramm vergleichen, dem ein Name sprich Label zugewiesen wird. Das Unterprogramm selbst wird bekanntlich mit einem RTS abgeschlossen und läßt sich vom Hauptprogramm aus mit dem Maschinenbefehl »JSR name« aufrufen. Der Unterschied zwischen Unterprogramm und Makro ist nun der, daß nicht zu einem definierten Unterprogramm verzweigt, sondern das Unterprogramm selbst an die Stelle des Aufrufs assembliert wird. Ein Makro hat allerdings gegenüber einem Unterprogramm gewaltige Vorteile. So sind alle im Makro auftretenden Label und dort definierte Variable lokal. Das heißt, daß dem Hauptprogramm die im Makro auftretenden Label und Variablen unbekannt sind. Daraus folgt, daß Label und Variable in Makros und im Hauptprogramm identische Namen haben dürfen. Ein weiterer Vorteil gegenüber Unterprogrammen ist der, daß in einem Makro Übergabeparameter definiert werden können, die eine Schnittstelle zum Hauptprogramm bilden. Außerdem wird das Programm durch intensive Anwendung von Makros wesentlich schneller, da sämtliche JSR-Befehle, die sehr viel Zeit in Anspruch nehmen, entfallen.

Zur Definition eines Makros existieren bei Hypra-Ass zwei Pseudo-Opcodes.

**.MA name (par1,par2,par3)**: Durch den >>.MA<<-Pseudo wird dem Assembler mitgeteilt, daß die nachfolgenden Maschinenbefehle ein Makro mit dem Namen »name« definieren. Die in Klammern eingefaßten Übergabeparameter »pari, par2, par3«, zu denen ich später noch einiges sagen werde, müssen durch Kommata getrennt werden. Bei den Übergabeparametern selbst kann es sich entweder um Label, Variablen oder um absolute 16-Bit-Adressen oder Werte handeln.

**.RT**: Dieser Pseudo-Opcode schließt eine Makrodefinition ab. Er kann direkt mit dem RTS-Befehl verglichen werden, der ein Unterprogramm beendet und zurück ins Hauptprogramm beziehungsweise in ein übergeordnetes Unterprogramm verzweigt. Im Gegensatz zum RTS-Befehl findet bei dem .RT-Pseudo keine Programmverzweigung statt, sondern der Assembler selbst verzweigt, ähnlich wie beim RTS-Befehl, an die Stelle des Quelltextes, an der das Makro aufgerufen wurde.

Wie ein Makro aufgerufen wird, zeigt der nun folgende Pseudo-Op-code.

**...name (par1,par2,par3)**: Dieser Pseudo-Opcode, der letztendlich aus zwei Punkten besteht (der erste Punkt leitet ja bekanntlich einen Pseudo-Opcode ein), ruft ein Makro mit dem Namen »name« auf und übergibt die Parameter »pari, par2, par3«, die genauso wie bei der Makrodefinition jeweils durch Kommata getrennt und in Klammern eingefaßt sein müssen. Und jetzt kommt der springende Punkt. Bei der Definition des Makros beziehen sich die Übergabeparameter auf die im Makro definierten Label und Variablen. Bei einem Aufruf beziehen sich diese Übergabeparameter aber auf die im Hauptprogramm definierten Label und Variablen.

Um ein Gefühl und ein Verständnis für die Übergabeparameter zu bekommen, soll kurz erklärt werden, wie der Assembler die Parameter behandelt. Angenommen, in einer Makrodefinition wird ein Parameter »pari« benuzt und im Makroaufruf selbst steht an seiner Stelle nicht pari sondern »BELIEBIG«, dann setzt der Assembler diese beiden Ausdrücke gleich. Das heißt er führt folgende Operation aus:
parl = BELIEBIG

Daraus folgt, daß beide Variablen nach dem Makroaufruf den gleichen Wert enthalten. Als Beispiel möchte ich die 16-Bit-Addition hernehmen. Das Makro soll aber so gestaltet werden, daß kein Arbeitsregister (A,X,Y) zerstört wird.

TODO

10	-.MA ADDW (ADRl,ADR2,SUMME)
20	—	PHA
30	—	LDA	ADR1
40	—	CLC
50	—	ADC	ADR2
60	—	STA	SUMME
70	—	LDA	ADRl+1
80	—	ADC	ADR2+1
90	—	STA	SUMME+1
100	—	PLA
110	-.RT

In diesem Makro wird also zum Inhalt einer Adresse2 und Adresse2 + 1 der Inhalt einer Adressel und Adressel +1 addiert und das Ergebnis in der Adresse SUMME und SUMME + 1 gespeichert. Um das Makro aufzurufen, ist das Programm wie folgt zu ergänzen:

Dieses kleine Programm addiert die beiden Zahlen $25E5 und $43A8 und gibt das Ergebnis im dezimalen Format auf dem Bildschirm aus, das in diesem Fall 27021 ist. Um das zu testen, sind die Zeilen 10 bis 270 abzutippen, nachdem Hypra-Ass geladen und gestartet wurde. Ist der Quelltext assembliert, müßte, wenn kein Fehler aufgetreten ist, mit SYS 9*4096 das Ergebnis »27021« auf dem Bildschirm erscheinen. Um die Wirkung und die Arbeitsweise von Makros zu verstehen, spielen Sie mit dem Quelltext ruhig ein wenig herum. Ändern Sie einfach die Label und Zahlen ab, kaputtmachen können Sie nichts.

Hypra-Ass enthält noch eine weitere, sehr angenehme Eigenschaft. Er kann nämlich bedingt assemblie-ren. Was das ist und was man damit machen kann, soll hier detalliert beschrieben werden. Denn gerade im Zusammenhang mit Makros spielt die bedingte Assemblierung eine wichtige Rolle. Mit ihrer Hilfe kann bei einem Makroaufruf ein weiterer Parameter übergeben werden, der bestimmt, ob gewisse Quelltextteile innerhalb des Makros ins Hauptprogramm assembliert werden sollen oder nicht. Dadurch läßt sich in Abhängigkeit des Übergabeparameters ein Makro definieren, das verschiedene Aufgaben erfüllt. Fangen wir zunächst mit einem kleinen Beispiel an, damit Sie die Wirkung der bedingten Assemblierung innerhalb eines Makros kennenlernen. Dazu soll wieder die obenstehende 16-Bit-Addition herhalten, in die wir eine bedingte »,IF«-Abfrage einbauen wollen. Mit dieser bedingten »,IF«-Abfrage soll nun bestimmt werden, ob der Akku bei einem Makroaufruf erhalten bleiben oder zerstört werden soll, beziehungsweise ob das erzeugte Maschinenprogramm den »PHA«- und den »PLA«-Befehl enthalten soll oder nicht. Dazu sind zunächst die Zeilen 10 und 240 abzuändern, denn wir benötigen ja noch einen weiteren Übergabeparameter. Nennen wir diesen Übergabeparameter »RETTEN«. Dann sind die beiden Zeilen wie folgt zu ändern:
10 -.MA ADW (ADRl,ADR2,SUMME, RETTEN)
240 -... ADW (SUMMAND1, SUMMAND2,ERGEBNIS,x)

Das »x« ist zu ersetzen durch eine »1« für Akku retten oder für eine beliebige andere Zahl für Akku zerstören. Als nächstes ist noch die bedingte >>.IF<<-Abfrage in den Quelltext einzubauen. Bevor das geschieht noch einiges zur »,IF«-Abfrage selbst, die etwas anders funktioniert, als Sie es vom Basic her ge-


TODO !?

120 -.BA $9000
130 -.EQ SUMMAND1 = $FB
140 -.EQ SUMMAND2 = $FD
150 -.EQ ERGEBNIS = 2
160 -	LDA	#$E5
170 -	LDX	#$25
180 -	STA	SUMMAND1
190 -	STX	SUMMANDl + 1
200 -	LDA	#$A8
210 -	LDX	#$43
220 -	STA	SUMMAND2
230 -	STX	SUMMAND2+1
240 -		ADDW (SUMMAND1,
		SUMMAND2,
		ERGEBNIS)
250 -	LDX	ERGEBNIS
260 -	LDA	ERGEBNIS+1
270 -	JMP	$BDCD ;AUSGABE AUF BILDSCHIRM


wohnt sind. Trifft das Basic-Pro-gramm auf eine Zeile, in der eine »IF«-Abfrage steht, wird zunächst überprüft, ob diese »IF«-Abfrage wahr oder falsch ist. Ist sie falsch, wird direkt zur nächsten Zeile verzweigt. Das ist bei einem Maschinenprogramm beziehungsweise dem dazugehörigen Quelltext nicht möglich, denn es darf ja pro Zeile immer nur ein Maschinenbefehl stehen. Deshalb muß bei der bedingten ».IF«-Abfrage noch ein weiterer Pseudo-Opcode vorhanden sein, der dem Assembler das Ende dieser ».IF«-Abfrage mitteilt. Dieses ist der »,EI«-Pseudo für »ENDIF«, der eine »,IF«-Abfrage abschließt. Bei Hy-pra-Ass existiert noch ein dritter Pseudo im Zusammenhang mit ».IF«-Abfragen der ».EL«-Pseudo für »ELSE«. Die Struktur innerhalb eines Programms sieht dann so aus:
.IF A !=! 1
.
.EL
.
.DI

Es handelt sich hier um eine »entweder oder«-Assemblierung. Entweder wird der Quelltextteil zwischen ».IF« und ».EL« (A = 1) oder zwischen ».EL« und ».EI« (A< > 1); in das Maschinenprogramm assembliert.

Doch nun wieder zurück zum Beispiel. Haben Sie die Zeilen 10 und 240 geändert, kann die »,IF«-Abfrage einbaut werden. Dazu sind folgende Zeilen zu ergänzen:
15 -.IF RETTEN !=! 1
25 -.EI
95 -.IF RETTEN !=! 1
105 -.EI

Bei RETTEN darf es sich nur um eine Variable handeln und nicht um eine Adresse oder Label.

Hypra-Ass enthält noch einige andere Pseudo-Opcodes zur bedingten Assemblierung:

**.ON ausdruck,sprungziel**: Ist der Ausdruck hinter .ON wahr, wird zur Zeile »sprungziel« verzweigt. Beispiel:
100 -.ON A !=! 1, 200

Ist A = 1, wird der Quelltextteil, der zwischen der Zeilennummer 100 und 199 steht ignoriert, also nicht assembliert.

**.GO sprungziel**: Unbedingter Sprung zur Zeile »sprungziel«. Beispiel:
100 -.GO 200

Der Quelltext, der zwischen der Zeilennummer 100 und 199 steht, wird auf keinen Fall assembliert. Daraus folgt natürlich, daß dieser bedingte Pseudo-Opcode nur in Verbindung mit einer ».IF«-Abfrage sinnvoll ist. Denn was nutzt ein Quelltext, der aufgrund eines unbedingten Sprungs generell ignoriert wird.

Ein kleines Beispiel soll den Sinn und Zweck dieses Pseudos verdeutlichen. Dazu wollen wir aus dem Quelltext heraus einen bestimmten Speicherbereich mit dem Maschinenbefehl »NOP« füllen.

TODO

10	-.BA $9000
20	-.EQ A = 0
30	-.IFA!<!255
40	-	NOP
50	-.EQ A = A + 1
60	-.GO 30
70	-.EI
80	-	RTS

Beim Gebrauch von »GO« und »,ON« ist anzumerken, daß im Falle eines RENUMBERs mit dem Editorbefehl »/N« die Sprungziele nicht angepaßt werden.

Was nun die bedingte Assemblierung leistet, soll an einem Makro, das einen »JSR«-Befehl und einen »JMP«-Befehl simuliert, der sämtliche Adressierungsarten beherrscht, gezeigt werden (Listing 1). Dabei wird ebenfalls ein Parameter übergeben, der die Adressierungsart bestimmt. Das Makro läßt sich vom Hauptprogramm mit dem Befehl »... JSR (adresse,adressierungs-art)« aufrufen. Der »JMP«-Befehl wird genauso angewendet wie der »JSR«-Befehl. Adressierungsart bedeutet:
1 = X-indiziert; 2=Y-indiziert; 3 = indiziert, indirekt; 4 = indirekt, indiziert

Was nun tatsächlich in das Maschinenprogramm assembliert wird, zeigt für den Fall, daß die Adressierungsart gleich 1 ist (also X-indiziert) Listing 2 und für den Fall, daß die Adressierungsart gleich 4 ist (also indirekt indiziert) Listing 3.

Sollten Sie noch irgendwelche Fragen zur Bedienung eines Assemblers haben, würden wir uns freuen, Ihnen bei der Lösung Ihrer Probleme zu helfen. Wir sind bestrebt, alle schriftlichen Anfragen zu beantworten.

(ah)

# Wir suchen die Anwendung des Monats [174]

Anwendung des Monats, was ist das? Nun, Sie haben einen Commodore 64 oder einen C 128 und versuchen diesen irgendwie sinnvoll einzusetzen. Unter einer sinnvollen Anwendung versteht die 64'er-Redaktion alles, was beispielsweise Programme im häuslichen Bereich bewirken. Es kann sich dabei um die Berechnung der Benzinkosten für Ihren Wagen handeln, um ein eigenes Textverarbeitungsprogramm gehen, sich um die Verwaltung Ihrer Tiefkühltruhe drehen oder ein ausgeklügeltes Telefon- und Adreßregister sein.

Setzen Sie Ihren C 128/C 64 mehr oder weniger beruflich ein? Auch, oder vor allem, das ist eine sinnvolle Anwendung. Sie führen die Lohn-und Gehaltsabrechnung, Ihre Lagerverwaltung, die Bestellungen auf einem Commodore-Heimcomputer durch? So spezielle Anwendungen wie die Berechnung der Statik von selbstgezimmerten Regalen, von Klimadiagrammen oder Vokabellernprogrammen für den Schulunterricht oder die Zinsberechnung bei Krediten sind ebenfalls Themen, die mehr als konkurrenzfähig sind.

Uns ist die Anwendung des Monats **500 Mark** wert. Schreiben Sie uns, was Sie mit Ihrem Computer machen:
Markt&Technik Verlag Aktiengesellschaft, Redaktion 64’er,
Aktion: Anwendung des Monats, Hans-Pinsel-Str. 2, 8013 Haar bei München.

## Einmal im Monat gibt es 2000 Mark für das Listing des Monats

Diese nicht einmalige Gelegenheit sollten Sie nutzen. Wie? Schicken Sie uns Ihr bestes selbst erstelltes Programm. Bei der Art des Programms sind wir nicht wählerisch.

Sie haben ein sehr gutes (Schieß-, Knobel-, Denk-, Action-, Abenteuer-)Spiel geschrieben: einschicken!

Sie verfügen über ein komfortables Disketten-Kopier-(Sortier) Programm mit einigen außergewöhnlichen Leistungsmerkmalen: einschicken!

Sie haben das Basic um einige sinnvolle Befehle erweitert: einschicken!

Sie arbeiten mit einem selbsterstellten Textverarbeitungsprogramm, einer eigenen Tabellenkalkulation, einem semiprofessionellen Datenverwaltungsprogramm: einschicken!

Sie zeichnen und konstruieren mit einem selbsterstellten Programm in hochauflösender Grafik: einschicken!

Wir freuen uns über jeden Beitrag. Aus den besten Listings, die veröffentlicht werden, sucht die 64’er-Redaktion einmal im Monat das »Listing des Monats« aus. Alle Listings, die im 64'er abgedruckt sind, werden mit 100 bis 300 Mark honoriert. Die genaue Vorgehensweise beim Einsenden von Listings ist in dem Beitrag >Wie schicke ich meine Programme ein?« in verschiedenen Ausgaben beschrieben.

TODO ASIDE

Schicken Sie Ihr Listing an: Markt&Technik Verlag Aktiengesellschaft, Redaktion 64’er,
Superchance: Listing des Monats, Hans-Pinsel-Straße 2, 8013 Haar bei München

# Und wo lassen Sie reparieren? [177]

> In unserer Reparaturumfrage wollten wir wissen, was Sie im Falle eines Falles mit Ihrem defekten Gerät machen. Die zahlreiche Teilnahme zeigte, daß sich viele C 64-Besitzer über diese Frage Gedanken gemacht haben — hier sind einige Ergebnisse der Umfrage.

Computer gehören mit zu den zuverlässigsten elektronischen Geräten, die man überhaupt kaufen kann. Trotzdem kann es natürlich vorkommen, daß durch statische Entladung, Blitzschlag oder Fehlbedienung ein Computer nicht das tut, was er soll. Nicht ganz unschuldigsind auch manche Basteleien, die schon einigen Computern einen überdurchschnittlichen Alterungsprozeß beschert haben. In solchen Fällen ist es immer gut, wenn man einen schnellen und leistungsfähigen Reparatur-Service im Adreßbüchlein stehen hat, denn gerade bei einem Computer können falsche Reparaturen viel Schaden anrichten.

Ziel dieser Umfrage war es, festzustellen, wie der Reparatur-Service noch verbessert werden könnte. Am häufigsten wurde dabei der Wunsch geäußert, so kurz wie möglich auf den Computer (oder das Peripheriegerät) verzichten zu müssen.

Gleichzeitig sollte ein Reparaturservice natürlich preiswert sein. Viele Leser betrachten den Service auch in zunehmendem Maße als Kriterium für die Auswahl des Computers, sei es beim Erstkauf oder bei der Anschaffung eines leistungsfähigeren Systems. Als Ideallösung ist das früher übliche, aber bei steigender Verbreitung der Heim- und Personal Computer etwas in Vergessenheit geratene Austauschgerät anzusehen.

Wir sind sicher, daß Ihre Meinung nicht unberücksichtigt bleibt, denn ein guter Service ist der halbe Ver-

kauf und gehört eigentlich zum Computer wie das Handbuch. Wir werden auf die entsprechenden Stellen einwirken, um eine Verbesserung der Reparatursituation in Deutschland zu erwirken, damit Sie in Zukunft nicht länger als unbedingt notwendig auf Ihr Gerät zu warten brauchen. Möglicherweise schaffen wir es sogar, den guten Brauch des Austauschgeräts wieder ins Gespräch zu bringen, denn nur so läßt sich Computer-Ausfallzeit vermeiden.

Für Ihre rege Mitarbeit gab es auch einiges zu gewinnen. Der Hauptpreis ist ein nagelneuer C 128, die Preise 2 bis 11 sind je ein Anwenderprogramm von Commodore. Der Gewinner des C 128 ist Herr Wilfried Christen aus Dattenberg — herzlichen Glückwunsch!

Je ein Commodore Magic Desk haben gewonnen: Harald Pinnow, Torsten Stracke, Andreas Urban, Sören von Otte. Je ein Calc Result von Commodore geht an Jürg Brik, Fari-ne Robin. Die Gewinner der beiden Datenmanager sind Manfred Müller und Thomas Trenkwaldor. Die Programme Text 64 mit Adress 64 gehen je einmal an Erwin Wähsen-bruck und Werner Braun. Ihnen allen herzlichen Glückwunsch und viel Freude mit Ihren neuen Programmen.

Alle Gewinner werden schriftlich benachrichtigt. Wir danken der Firma Commodore Büromaschinen GmbH für die Preise.

(aw)

Die Computer und die Programme sind vom Umtausch ausgeschlossen.
