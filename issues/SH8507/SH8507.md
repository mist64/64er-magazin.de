# Anwendungen für jedermann

Es gibt Leute, die haben sich den C 64 gekauft, ein wenig die Tastatur getestet, vielleicht noch ein paar Spiele erworben, aber ihn dann so langsam in der Ecke verschwinden lassen. Fragt man sie dann, warum sie nichts mehr mit dem Computer machen, sieht man manchmal nur ein Schulterzucken oder es kommen resignierte Äußerungen wie »Ich kann ja nichts vernünftiges mit ihm anfangen.« Bohrt man dann noch etwas weiter und macht vielleicht sogar einige Vorschläge, dann kommt sehr oft ein »ja, das wäre interessant, könnte ich gebrauchen«.

Wir haben für Sie eine Menge interessanter Anwendungen herausgepickt. Bei einigen werden Sie sicherlich sofort sagen »Her damit, das brauch ich«. Und damit möglichst viele der gleichen Meinung sind, präsentieren wir Ihnen Programme für die verschiedensten Anwendungen.

### Fundgrube für Statistiker

Der Hobby-»Manager« unter Ihnen wird einige Programme entdecken, die ihn lebhaft interessieren werden. Da ist zum Beispiel die **Aktienverwaltung**, die Sie auf dem taufenden hält über die derzeitigen und künftigen Aktienkurse Damit Sie Trends schnell erkennen können, vielleicht sogar schneller als das Fernsehen, erstellt der **Wahlhelfer** eine eigene Hochrechnung. Die **Grafik-Erweiterung** setzt die Daten der beiden Programme um in schöne, anschauliche Bilder. Als Besitzer des Printer/Pbtters VC 1520 erhalten Sie ebenfalls ein Grafikpaket, mit dem Sie echte **Business-Grafik** erstellen können.

### Wer den Pfennig nicht ehrt...

Sollten Sie Probleme haben mit dem leidigen Thema **Buchführung**, werden Sie nicht alleine gelassen. Und als jemand, der seine Finanzen im Griff hat oder bekommen will, kommt Ihnen die **Haushaltskasse** vielleicht gerade recht. Wollen Sie ein Auto kaufen und eine fundierte Entscheidung treffen, sind Sie mit **Autokosten** bestens informiert.

Ist Ihnen etwa als stolzer Kleinunternehmer die jährliche Inventur ein Dorn im Auge? Ärgern Sie sich nicht mehr, wir helfen Ihnen mit **Ordnung im Lager**. Und damit Sie Ihre Kunden, Bekannten oder wen auch immer ohne große Mühe mit Rechnungen oder vorerst einmal mit Kostenvoranschlägen bombardieren können, kommt der **Rechnungshelfer** gerade recht. Was Sie dann sonst noch an Daten haben, wird mit der sehr leistungsfähigen Dateiverwaltung Datei total kinderleicht aber vor allen Dingen sehr effektiv verwaltet.

### Aus Naturwissenschaft und Technik

Zwei **Mathematikprogramme** werden Ihnen viel Arbeit ersparen. Hauptsächlich auf dem Gebiet der numerischen Mathematik und der Vektorrechnung, also schon hochkali-brige Sachen. Mit **Meßboy** bauen Sie sich als begeisterter Bastler ein Meßgerät für Kapazitäten und Widerstände für sage und schreibe unter zehn Mark. Sie sparen dabei mehrere Hunderter.

Sollte Ihnen aber klare Technik zu trocken sein und Sie mehr ins Reich der Biologie hineinschnuppern möchten, machen Sie sich doch einmal Ihren eigenen **Fruchtwein**! Absolut glykolfrei und schmecken tut er auch. Der C 64 hilft Ihnen dabei.

### Spezialitäten für Drucker

**Textmaster** ist ein Textverarbeitungsprogramm speziell für den Commodore-Drucker MPS 801/803. Deutsche Umlaute, eigene Zeichensätze, Hoch- und Tiefschrift sowie Randausgleich sind nur einige der tollen Möglichkeiten von Textmaster. Und damit Sie auch gleich die richtige Übung beim Schreiben bekommen, macht das **Trainingsprogramm fürs Maschinenschreiben** in kurzer Zeit einen Fachmann aus Ihnen, mit besten Noten.

### Hinein in die Mailboxen!

Als Spezialist für Datenfernübertragung (DFÜ) kommt Ihnen vielleicht das Terminalprogramm **Proterm** bekannt vor. In diesem Sonderheft finden Sie eine nochmals verbesserte Version des Super-Terminal-Programms. Da bleiben keine Wünsche mehr offen. Das gleiche gilt für die **Mailbox für jedermann**. Endlich können Sie auch angerufen werden. Das spart nicht nur Telefonkosten, sondern bringt auch eine ganze Menge frischer Informationen und neue Freunde. Individualisten können sich mit **Mailbox-Basic** eine eigene Mailbox konstruieren.

(gk)

TODO ASIDE

### Disketten und Kassettenservice

Wer keine Zeit oder keine Lust hat, alle Programme selbst in mühevoller Kleinarbeit abzuschreiben, kann wieder auf den bewährten Diskettenservice zurückgreifen. Und auch der Datasetten-Besitzer wird bedient. Alle Programme befinden sich auf zwei vollgepackten Disketten beziehungsweise vier Kassetten und sind nur zusammen erhältlich. Die Disketten kosten ebenso wie die Kassetten zusammen nur 34,90 Mark.

Bitte verwenden Sie für Ihre Bestellung die beigefügte Postscheckzahlkarte zur Überweisung des Rechnungsbetrages.

**Disketten: Bestellnummer L6 85 S7D / 34,90 Mark**
**Kassetten: Bestellnummer L6 85 S7K / 34,90 Mark**

# Checksummer 64 V3 - Neu

TODO

# MSE - Abtippen sicher und leicht gemacht

TODO

# Minitutor 64

> Was sich des öfteren hochtrabend als »Sprachtrainer« bezeichnet, setzt den Computer lediglich als didaktischen Datenverwalter ein, ohne daß die Maschine eine Ahnung von Sprache hat. Mit dem folgenden Programm verhält es sich etwas anders: es ist in der Lage, Sprache zu simulieren!

Mal ehrlich: Wenn Ihnen ein Englischlehrer die Pistole auf die Brust setzen und Sie fragen würde »Wie lautet das present perfect continuous von live in der 3. Person Plural?« - Könnten Sie Ihren Gegner dann mit einem spontanen >They have been living« entwaffnen? - Wirklich?

Aber das heißt noch lange nicht, daß Sie sich jetzt einiges an Tipparbeit sparen können. Denn wenn Sie so fit im englischen Zeitensystem sind, daß Sie kein Trainingsprogramm mehr brauchen, dann können Sie das folgende Programm vielleicht als Beschäftigungstherapie für Nachhilfeschüler einsetzen...

Das Programm Minitutor ist in der Lage, aus der Vorgabe von Person, Zeit und Verb alle möglichen Zeitstufen im Englischen zu erzeugen. Dieser erzeugte Satz wird aber nicht verraten, sondern soll vom Anwender anhand der Vorgaben rekonstruiert werden. Sind Computer und Anwender einer Meinung, so gibt’s Zuckerbrot, ansonsten winkt die Peitsche in Form von Fehlerpunkten und es ist eine Intensivkur mit Grammatikbüchern zu empfehlen. Doch kommen wir zu den Feinheiten:

## Automatische Vergangenheit

Nach dem Start meldet sich das Programm (Listing 1) mit einem Menü. Zur Auswahl stehen A;L;E (hat nichts mit Bier zu tun!).

»E« wie Ende braucht wohl nicht näher erläutert werden.

»A« wie Anleitung ruft eine Bildschirmseite auf, die die wichtigsten Regeln für den Umgang mit dem Programm erklärt.

»L« steht, wie soll es anders sein, für LERNEN.

Zunächst muß die zu lernende Lektion erstellt werden. Es wird also gefragt, welche Zeiten und Personen geprüft werden sollen. Der Anwender braucht hier nur 21mal J(a) oder N(ein) drücken.

Danach kann man eingeben, wie viele Fragen gestellt werden sollen. Eine 0 als Eingabe führt zu einer endlosen Fragerei, die nur durch ein eindeutiges »ENDE« statt einer Lösung abgebrochen werden kann (oder durch entnervtes Durchbeißen der Versorgungsleitungen).

Weiterhin kann man wählen, ob man zur Beantwortung beliebig viel Zeit haben will (Eingabe = 0), ansonsten wird nach Ablauf der angegebenen Zeit ein Fehlversuch angerechnet! Und jetzt geht der Streß erst richtig los:

Nun werden freundlicherweise Zeit, Person und Verb, per Zufall bestimmt, angezeigt, nachdem die Lösung intern schon feststeht (Merke: der Computer hat immer Recht!!!).

Der Schüler möge nun bitte die richtige Form angeben, er hat drei Versuche:
»Wie lautet das present von try in der 3. Person Singular?« Eingabe: »it trys« - Der Lehrer wendet sich angesichts dieses Fehlers mit Grausen ab, aber der Computer, freundlich wie er ist, gibt einen kleinen Lösungshinweis und deutet mit einem Pfeil den Beginn des Fehlers an:

TODO

it trys
Hier beginnt der Fehler.

Der Schüler versucht’s nochmal: »it tris«. Das ist auch nicht ganz das Wahre. Die nächste Hilfestellung zeigt die Struktur des ganzen Satzes als Punktmuster an, wobei fürjeden Buchstaben ein Punkt steht: »...«.

Und wenn das nicht geholfen hat, wird dem Schüler ein Minuspunkt gutgeschrieben und die nächste Frage folgt.

Hat er aber richtigerweise »it tries« eingegeben, gibt’s zwar keinen Fehlerpunkt, aberdie nächste Frage kommttrotzdem. Blickt der Schüler gar nicht mehr durch, kann er auch, statt eine Lösung einzugeben, um »HILFE« rufen. Dies zeigt ihm die Anleitungsseite und kehrt dann zur Frage zurück. Dabei werden aber eventuell vorhandene Hilfestellungen überschrieben.

## Freundliche Fehleranzeige

DiesesSpielchen wiederholt sich so lange, bis entweder die gewünschte Anzahl von Übungen überlebt wurde oder dem Spuk mit »ENDE« ein solches gemacht wird.
Dann kommt die Abrechnung:

Auf zwei Nachkommastellen genau erhält der Schüler seine Fehlerquote und dazu noch eine Tabelle, die zeigt, wo die Fehler auftraten. Die horizontalen Zahlen bedeuten die Zeitstufe, die vertikalen die Person.

Ein »X«an den Schnittpunkten bedeutet, daß in dieser Kombination ein oder mehrere Fehler gemacht wurden.

Wer seinen (Miß-)Erfolg gerne schwarz auf weiß hat, kann sich die Tabelle samt Kommentar auch auf den Drucker ausgeben lassen (Dev.=4).

Und schon landet man wieder im Menü. Wer noch nicht genug hat, kann die gleiche Lektion nochmal bearbeiten, er spart sich 21 Tastendrücke und braucht nur noch Anzahl der Übungen und Zeitbegrenzung neu wählen, oder aber eine neue Lektion zusammenstellen.

Das war die Datenverwaltung, nun zur sprachlichen Seite des Programmes:

Das Unterprogramm ab Zeile 410 kann 15 verschiedene Zeitstufen des Englischen erzeugen. Dabei kommt es weniger auf den tatsächlichen Gebrauch in der Alltagssprache an, sondern darauf, daß die Hilfsverben an den richtigen Stellen sitzen und daß, wenn nötig, Buchstaben wegfallen, ersetzt oder verdoppelt werden.

Die grammatischen Regeln, die hierbei beachtet werden, möchte ich an dieser Stelle nicht erläutern, denn darüber kann man eine ganze wissenschaftliche Arbeit schreiben. Verarbeiten kann die Routine zwar jedes englische Verb, für den Minitutor wurden jedoch nur schwache und regelmäßige Verben vorgesehen. (Deswegen auch das »Mini-«.) Um auch unregelmäßige Verben zu verarbeiten, müßte zunächst noch eine Liste mit den Ausnahmen erstellt werden. Der C 64 verkraftet zwar deren Umfang, dieser umfaßt aber eine Liste mit mehr als 200*4 Elementen, und sowas läßt sich nur schwer veröffentlichen.

### Noch einige Spielregeln:

Das Programm verwendet als Pronomen für die 3. Person Singular »it«, obwohl auch »he,she« möglich wären. Die in der Anleitung angegebenen Personalpronomen »l,you,it,we,you, they«für die 1. Person Singular bis 3. Person Plural sind unbedingt zu verwenden, da etwas anderes nicht akzeptiert wird. Das gilt auch für Abkürzungen: »l’m, l’ve« müssen als »I am, I have « ausgeschrieben werden. Auch werden Tippfehler vom Programm als Fehler gewertet!

Das /EF hinter der Zeitbezeichnung steht übrigens für expanded form, das heißt die >>-ing<<-form (progressive, continuous form), zum Beispiel »I am living« = present/ef von live in der 1. Person Singular.

Technisches:

1.	Die Eingabe dürfte kein Problem sein. Lediglich in den Zeilen 420 und 450 muß mitallen Kürzungstricks gearbeitet werden, es sei denn, man macht aus ihnen je zwei Zeilen.
2.	Aufgrund der vielen Strings ist ein Compilerdurchlauf recht nützlich. Über den Listingservice wird auch eine compi-lierte Version erhältlich sein.
3.	Wem 5940 mögliche Sätze nicht ausreichen, der kann auch den Wortschatz ab Zeile 558 erweitern. Er muß allerdings darauf achten, daß die Verben keine Ausnahmen von den Regeln sind, und daß in Zeile 20 immer der richtige Wert zugewiesen wird.

(Michael Anton/og)

TODO ASIDE

### Zur Entstehung des Programms:

Das Programm Minitutor entstand aus einer Zwischenprüfungsarbeit in Linguistik an der Universität Stuttgart, wo ich mich anglistischer und germanistischer Studien befleißige. Inhalt dieser Arbeit war ein Vergleich der deutschen und englischen Zeitenbildung anhand von Computermodellen. Aus dieser Arbeit wurden die Zeilen 410 - 490 fast unverändert übernommen und in den »didaktischen« Rahmen eingefügt, wobei allerdings die Berücksichtigung der unregelmäßigen Verben herausfallen mußte. Die hierzu notwendige Vergleichsliste umfaßt ein sequentielles File mit einer Größe von 20 Diskettenblöcken. (M. Anton)

# Textmaster - Textverarbeitung speziell für MPS 801/803

> Mit Textmaster stellen wir Ihnen eine Textverarbeitung vor, die den MPS 801 und den MPS 803 voll ausnutzt. Randausgleich sowie beliebige Zeichensätze sind nur einige der hervorstechenden Eigenschaften von Textmaster.

Textverarbeitungsprogramme gibt es viele, aber diese sind meist für den professionellen Gebrauch gedacht. Die Folge: Vernünftige Druckergebnisse kann man nur mit teuren Druckern wie einem Epson FX-80 erhalten. Die weitverbreiteten Commodore-Drucker werden meist stark vernachlässigt und dürfen nur in ihrer Mini-Matrix drucken. Man traut sich gar nicht recht, damit Briefe zu schreiben und abzuschicken. Textmaster räumt jedoch damit gründlich auf. Es wurde speziell für die Drucker MPS 801 und MPS 803 entwickelt. Ein Umschreiben auf andere Drucker ist leider nur unter sehr großem Aufwand möglich. Dafür werden diese beiden Drucker aber optimal genutzt. Buchstaben kommen in einer augenfreundlichen 8 mal 8-Matrix aufs Papier, mit echten Unterlängen und auch Umlauten. AberTextmaster kann noch mehr: Eine kleine Auswahl der Möglichkeiten zeigt Bild 1. Diese Funktionen werden im einzelnen nachher erklärt. InsgesamtvierListingsbilden dasTextmaster-System. Davon istListing 4, derZeichensatzgenerator, entbehrlich, wenn Sie

nicht mit eigenen Zeichensätzen arbeiten wollen. Bevor Sie mit Textmaster arbeiten, müssen Sie ihn abtippen und zwar die Listings 1 und 2 mit dem Checksummer, das Listing 3 mit dem MSE. Listing 1 können Sie unter einem beliebigen Namen auf Diskette speichern. Listing 2 muß unbedingt unter dem Namen »TM«, Listing 3 unter dem Namen »TM.CODE« gespeichert werden.

### Starten des Programms

Textmaster besteht aus drei einzelnen Teilprogrammen. Zuerst muß das Programm aus Listing 1 geladen werden. Anschließend wird RUN eingegeben. Das Hauptprogramm »TM« und die Maschinenroutinen »TM.CODE« werden nun selbständig geladen. Ein umständliches Wechseln der Diskette während des Arbeitens entfällt bei Textmaster, da sich nach dem Laden das gesamte Programm im Speicher des C64 befindet. Man kann also die Programmdiskette beiseite legen und die Datendiskette in das Laufwerk schieben.

### Bildschirmaufbau

Nach dem Laden erscheint in der Mitte des Bildschirms der Autorenvermerk. Durch Drücken einer beliebigen Taste gelangt man in das Hauptmenü. Der nun vorliegende Bildschirmaufbau verändert sich von da an nicht mehr. Ein verwirrendes Umblättern auf andere Bildschirmseiten entfällt. Man erkennt zunächst, daß der Bildschirm in drei Teile eingeteilt ist. Im oberen Teil werden immer die aktuellen Koordinaten des Cursors angezeigt. Die Zeilenposition des Cursors kann zwischen 0 und 49 (= 50 Zeilen), die der Spalte zwischen 0 und 59 (= 60 Spalten) liegen. Zwischen den beiden roten Balken befindet sich dann immer ein Ausschnitt der gerade im Textspeicher befindlichen Seite. Hier werden dann auch immer die verschiedenen Menüs eingeblendet. So ist momentan das Hauptmenü (Dokumente erstellen) zu erkennen. Auf dem unteren roten Balken wirdjeweils der Name des aktuellen Dokumentes und die Nummer der Seite desselben angezeigt.

Schließlich bleibt noch die unterste Zeile. Diese ist für Fehlermeldungen, Sicherheitsrückfragen etc. reserviert.

##  Einfache Menüstruktur

### Hauptmenü:<br>Dokumente erstellen beziehungsweise verändern

Dies stellt eigentlich kein Menü dar, da es praktisch »mitdenkt«, das heißt, man muß nicht angeben, ob man ein neues Dokument erstellen oder ein bereits vorhandenes verändern möchte.

In dieses Menü gelangt man automatisch nach dem Starten des Programmes. Das Programm erwartetvom Benutzer nun den Namen des Dokumentes (unterste Zeile). Korrigieren ist mit DEL möglich. Die Eingabe wird mit RETURN abgeschlossen. Hat man nur »$« eingegeben, so wird die Directory der Diskette angezeigt. Durch Drücken einer beliebigen Taste gelangt man wieder ins Hauptmenü.

Nach der Eingabe prüft das Programm, ob ein Dokument mit diesem Namen auf der Datendiskette existiert. Ist dies der Fall, so wird noch, falls das Dokument durch einen Code geschützt wurde, derselbe abgefragt. Stimmt dieser nicht mit dem gespeicherten Code überein, passiert nichts, das heißt, man gelangt wieder zu der Abfrage des Dokumentennamens. Auf diese Weise kann man wichtige Dokumente vor dem Einblick Unbefugter schützen. Wurde jedoch der richtige Code eingegeben, so wird die Seite des Dokuments mit der höchsten Nummer geladen. Man kann dann also direkt dort weiter-arbeiten, wo man zuletzt aufgehört hat.

Stellt das Programm jedoch fest, daß ein Dokument mit dem eingegebenen Namen auf der Diskette nicht existiert, so wird angenommen, daß der Benutzer ein neues Dokument erstellen möchte. Sollte dies nicht der Fall sein oder sollte man sich bei der Eingabe nur vertippt haben, dann ist die Sicherheitsrückfrage mit »n« (nein) zu beantworten. Andernfalls verlangt das Programm noch den Schutzcode des Dokumentes. Drückt man nur die RETURN-Taste, so wird das Programm nicht geschützt, das heißt bei erneutem Laden erfolgt keine Schutzcodeabfrage.

Sind alle Eingaben beendet, so werden auf der Diskette die dokumentenspezifischen Parameter gespeichert und es kann auf der 1. Seite mit der Arbeit begonnen werden.

### Die Tastatur und der Texteditor

Wie die meisten Textverarbeitungsprogramme besitztauch Textmaster einen bildschirmorientierten Texteditor, dessen Bedienung größtenteils identisch ist mit der des normalen Basic-Editors. Dies macht die Bedienung besonders einfach. So kann man mit den Cursortasten jede Stelle der 60 x 50 gleich 3000 Zeichen großen Seite erreichen.

An Zeichen stehen zur Verfügung alle Klein-/GroBbuchsta-ben, Sonderzeichen und sogar alle Grafikzeichen des Commodore-Zeichensatzes. Lediglich der Pfeil nach links (linke obere Taste auf der Tastatur) darf nicht verwendet werden, da dieser als Absatzzeichen fungiert. Auch darf man aus programmtechnischen Gründen das Zeichen mit dem Bildschirmcode 255 unter gar keinen Umständen benutzen.

Ansonsten jedoch stehen alle Zeichen zur Verfügung. So hat man in Verbindung mit den Grafikzeichen des Commodore-Zeichensatzes oder mit Zeichen aus einem eigenen Zeichensatz die Möglichkeit, Tabellen oder Spezialzeichen (zum Beispiel mathematische Zeichen) in einen Text einzubinden.

### Die RETURN-Taste

Wurde die RETURN-Taste gedrückt, so wird ein »Wagenrücklauf« veranlaßt. Befindet sich der Cursor jedoch in der 0. Spalte, so wird statt eines Wagenrücklaufs das Setzen des Cursors in die 39. Spalte ausgelöst. Dies ist eine nützliche Funktion, da man auf diese Weise den Text einfach durch wiederholtes Drücken der RETURN-Taste kontinuierlich lesen kann.

Wird die RETURN-Taste in Verbindung mit der SHIFT-Taste gedrückt, so wird an die augenblickliche Position des Cursors ein Absatzzeichen gesetzt und dann ein Wagenrücklauf ausgelöst. Beim Ausdruck wird das Absatzzeichen dann natürlich ignoriert.

### Die CLR-Taste

Mit der Funktion CLR (SHIFT-HOME) wird der gesamte Textspeicher gelöscht. Man sollte sich vorher vergewissert haben, daß die aktuelle Seite bereits auf Diskette gespeichert wurde, bevor man die Sicherheitsrückfrage mit »ja« beantwortet.

### Die DEL- beziehungsweise INST-Taste

Diese beiden Tasten werden genauso wie im normalen Basic-Editor verwendet. Mit einer kleinen Einschränkung. Sie wirken jeweils nur auf die Zeile, in der sich der Cursor gerade befindet. Deshalb sind diese beiden Tasten nur für kleinere Ausbesserungen geeignet. Es ist zu beachten, daß bei der INST-Funktion die Buchstaben auf der rechten Seite hinausgeschoben werden und damit verlorengehen. Müssen größere Textstellen eingefügt werden, so muß die Funktion ZEILE-EINFÜGEN verwendet werden (siehe unten).

### Extended Modus

Durch Drücken von RVS ON (CTRL + 9) gelangt man in den EXTENDed MODUS. Alle eingegebenen Zeichen erscheinen nun auf dem Bildschirm invertiert. Durch Drücken von RVS OFF (CTRL + 0) oder bei jedem Wagenrücklauf gelangt man wieder in den NORMal Modus. Im Druckermenü wird dann festgelegt, wie die auf dem Bildschirm invertierten Zeichen auf dem Papier erscheinen sollen, etwa auch invertiert oder zum Beispiel unterstrichen.

### F5-Taste - Text neu ordnen

Voran noch eine Einleitung, wie man Texte am zügigsten eingibt. Man gibt den Text ohne Rücksicht auf das am Ende erwünschte Format ein. Die einzelnen Wörter gibt man auch über eine Zeile hinaus ein. Absätze werden durch Drücken von SHIFT-RETURN markiert. Durch Drücken der F5-Taste wird der Text linksbündig geordnet, das heißt in eine Zeile werden so viele vollständige Wörter wie möglich gesetzt. Würde also ein Wort beim Setzen in die betreffende Zeile über den rechten Rand der Seite hinausreichen, so wird das ganze Wort einfach in die nächste Zeile gesetzt. Wurde so der ganze Text linksbündig formatiert, erhält man gewöhnlich rechts einen ziemlich unregelmäßigen »Flatterrand«, aber der Text wäre somit schon fertig für den Ausdruck.

Nebenbei sei bemerkt, daß nach Aufrufen dieser Funktion der Text gewöhnlich 2 bis 3 Zeilen länger geworden ist, da er nun nicht mehr so dicht »gepackt« ist. Daher sollte man sich vorher überzeugen, daß die letzten Zeilen frei sind, da ansonsten die letzten Wörter verloren wären.

### RUN/STOP-Taste - Wörter trennen

Oben wurde bereits erwähnt, daß derText, nachdem er neu geordnet wurde, gewöhnlich einen Flatterrand besitzt. Mit der Funktion »Wörter trennen« kann dieser erheblich begradigt werden. Man geht mit dem Cursor auf das erste Wort einer Zeile und setzt ihn auf den Anfangsbuchstaben der letzten Silbe des Wortes. Wäre das Wort zum Beispiel »glücklicherweise«, dann kann man davon ausgehen, daß, da das Wort relativ lang ist, in der vorhergehenden Zeile noch Platz für ein paar Silben des Wortes ist. Man möchte natürlich möglichst viele Silben in die vorhergehende Zeile übernehmen. In dem Fall ist die letzte Silbe »-se«. Man setzt den Cursor also auf »s« und drückt die RUN/STOP-Taste. Das Programm nimmt nun den Wortteil »glücklicherwei«, setzt ihn in die vorhergehende Zeile und fügt automatisch das Trennzeichen »-« an. Anschließend wird ebenfalls automatisch die Funktion »Wörter neu ordnen« aufgerufen, so daß der Text wieder lückenlos geschlossen ist.

Stellt das Programm jedoch fest, daß in der vorhergehenden Zeile nicht mehr genug Platz für »glücklicherwei« ist, so passiert überhaupt nichts. In diesem Fall setzt man den Cursor auf den Anfangspunkt der nächsten Silbe, also auf das »w« in »-wei-«. Dies setzt man so lange fort, bis das Wort erfolgreich getrennt wurde.

### Zeile löschen (F3) - Zeile einfügen (F4)

Ein Druck auf die Taste F3 bewirkt ab Cursorposition das Löschen der nächsten 60 Stellen. Der nachfolgende Text wird außerdem um eine Zeile nach oben verschoben. Diese Funktion dient hauptsächlich dem Löschen größererTextbe-reiche.

Die Funktion »Zeile einfügen« (F4) bewirkt gewissermaßen das Gegenteil. Ab Cursorposition werden 60 Leerstellen eingefügt. Es ist somit möglich, größere Textbereiche einzufügen. Reichen 60 Leerstellen nicht aus, so ist die Funktion erneut aufzurufen, allerdings ist dabei zu beachten, daß jeweils die unterste Zeile einer Seite verlorengeht. Man sollte sich vorher vergewissern, daß diese unbeschrieben ist.

### Seite auf Diskette sichern (F2) - blättern (F7 und F8)

Zuvor muß noch erklärt werden, wie ein Text auf der Diskette festgehalten wird. Wie schon erwähnt, werden Texte in Form von Dokumenten gespeichert. Jedes dieser Dokumente besteht aus einzelnen Seiten. Im Speicher des C 64 befindet sich jeweils eine Seite eines Dokumentes, nämlich die, an der man gerade mit Hilfe eines Texteditors arbeitet. Hat man eine Seite vollgeschrieben oder möchte man mit der betreffenden Seite zum Beispiel ein Kapitel abschließen und auf einer neuen Seite beginnen, so muß diese erst auf Diskette gespeichert werden. Dies geschieht durch Drücken der Taste F2 und anschließendem Bejahen der Sicherheitsrückfrage. Möchte man nun mit der nächsten Seite beginnen, so drückt man F7 (vorblättern). In der unteren Zeile des Bildschirms erscheint dann »Blättere zu Seite n«, wobei n der aktuellen Seite plus eins entspricht. Dann drücke man auf die RETURN-Taste. Das Programm prüft nun, ob Seite n auf der Diskette vorliegt. Liegt sie vor, so wird sie geladen und erscheint auf dem Bildschirm. Man kann sie nun lesen oder verändern und erneut speichern. Lag die Seite allerdings nicht vor, so erscheint nur ein leerer Bildschirm, das heißt, eine unbeschriebene Seite. Durch mehrmaliges Drücken der F7-Taste kann man beliebig weit vorblättern oder zurückblättern (F8), ähnlich wie in einem Buch.

Durch das Drücken der RUN/STOP-Taste verläßt man den Modus ohne Laden einer Seite. Jede Seite beansprucht einen Platz von 12 Blöcken auf der Diskette. Eine Diskette kannsomitimmerhin biszu 664/12 = 55Seitenaufnehmen.

### Zeichensatz laden (F6)

Eine besondere Möglichkeit von Textmaster besteht darin, daß man jeden beliebigen Zeichensatz laden und auch ausdrucken kann.

Nach dem Laden des Programms liegt automatisch ein deutscher Zeichensatz vor, der für die meisten Anwendungen genügen dürfte. So entspricht der Klammeraffe dem »ä«, der Multiplikationsstern dem »ö« und das Potenzzeichen (Pfeil nach oben) dem »ü«. In Verbindung mit der SHIFT-Taste stehen natürlich auch die großen Umlaute »Ä«, »Ö« und »Ü« zur Verfügung. Ferner entspricht das Pfundzeichen dem »ß« und das Nummernzeichen (SHIFT 3) dem Anführungszeichen unten. Diese Belegung entspricht zwar nicht einer deutschen Schreibmaschinentastatur, erscheint mir aber am zweckmäßigsten, da man ansonsten gleich zum Beispiel die Zeichen »:« und »;« ebenfalls umbelegen müßte, was zur Folge hätte, daß die Symbole auf der Tastatur überhaupt nicht mehr den dazugehörigen Zeichen entsprechen würden. Das »Z« und das »Y« wurden nicht vertauscht.

Benötigt man jedoch für spezielle Anwendungen, beispielsweise für mathematische oder chemische Formeln oder auch für französische Texte einen neuen Zeichensatz, so ist das mit Textmaster keine Schwierigkeit Durch Drücken von F6 und anschließendem Bejahen der Sicherheitsrückfrage gelangt man ins Zeichensatzmenü. Hier muß man zuerst beantworten, als was man den Zeichensatz benutzen möchte. Entweder als Arbeitszeichensatz (das ist der, den man auch auf dem Bildschirm sieht) oder als Alternativzeichensatz (davon später).

Hat man sich entschieden, so stehen nun vier Zeichensätze zurVerfügung. Nummer1 undNummer2sindeinfachKopien der Original Commodore-Zeichensätze (Klein/Groß und Groß/Grafik). Nummer 4 ist der deutsche Zeichensatz, der auch nach dem Laden von Textmaster vorliegt und Nummer 3 ist ein beliebiger Zeichensatz, der von der Diskette geladen wird. Davor wird noch der Name des Zeichensatzes abgefragt.

### Das Druckermenü (F1)

Bevor man sich entschließt, eine Seite zu drucken, sollte man sich vergewissern, ob der Text bereits das richtige Format besitzt. Sämtliche Formatierungen des Textes müssen vorher abgeschlossen werden, da, mit Ausnahme des rechten Randausgleichs, der Text so auf dem Papier erscheint, wie er auch auf dem Bildschirm zu sehen ist.

Nach dem Drücken von F1 und anschließendem Bejahen der Sicherheitsrückfrage, werden die verschiedenen Druckparameter abgefragt. Zunächst, von welcher bis welcher Zeile gedruckt werden soll. Man kann sich also einen Textausschnitt heraussuchen, zum Beispiel Zeile 10 - 25. Gibt man statt einer Zahl jeweils nur RETURN ein, so wird vom Programm angenommen, daß die ganze Seite (Zeile 0 - 49) ausgedruckt werden soll.

Anschließend verlangt das Programm, wie die Zeichen im Extended Modus (erscheinen auf dem Bildschirm invers) auf dem Papier erscheinen sollen, entweder unterstrichen, invertiert oder als Alternativzeichen. Dazu ist zu sagen, daß sich im Speicher des C 64 zwei Zeichensätze befinden können. Bei normalen Zeichen wird die Bitmatrix des Zeichens, die an den Drucker geschickt wird, aus dem Arbeitszeichensatz (das ist der, der auf dem Bildschirm zu sehen ist) genommen. Bei einem extended Zeichen wird dann die Bitmatrix aus dem Alternativzeichensatz genommen. Normalerweise befindet sich nach dem Starten des Programms der Original Commodore-Groß/Klein-Zeichensatz im Speicher, damit auch die geSHIFTeten Grafikzeichen zur Verfügung stehen.

Man könnte nun aber den auf Programmdiskette befindlichen Zeichensatz »dünn« als Arbeitszeichensatz laden und den deutschen als Alternativzeichensatz. Auf diese Weise erscheinen dann die Alternativzeichen als Fettschrift. Auf die gleiche Weise läßt sich auch zum Beispiel Kursivschrift simulieren.

Hat man sich nun zum Beispiel für Unterstreichen entschieden, so bezieht sich dies auf die ganze Seite. Normalerweise genügt das auch. Möchte man nun aber aus irgendwelchen Gründen eine Seite ausdrucken, in der zum Beispiel in Zeile 5 etwas unterstrichen, in Zeile 6 hingegen etwas invertiert werden soll, so muß man den Text in entsprechend mehrere Teile zerlegen. Im obigen Beispiel müßte man das Druckermenü also zweimal aufrufen. Das erste Mal von Zeile 0 - 5, unterstrichen, und das zweite Mal von Zeile 6 - 49, invertiert.

Als nächstes möchte das Programm erfahren, ob man die Zeichen in normaler Breite (8x8 Bitmatrix) oder in komprimierter Form (7x8 Bitmatrix) drucken möchte. Die Bildschirmzeichen bestehen zwar aus einer 8x8 Bitmatrix, jedoch hat sich gezeigt, daß zumindest Buchstaben, Zahlen und Sonderzeichen, kurz: jene Zeichen, die man für einen ganz normalen Text verwendet, daß diese eigentlich nur aus einer 6x8 Bitmatrix bestehen, da sich links und rechts von jedem Buchstaben eine leere Bitspalte befindet, obgleich eine bereits genügen würde. Bei der komprimierten Schriftbreite wird also jedes Zeichen auf eine 7x8 Bitmatrix reduziert. Dies hat den Vorteil, daß die Zeichen enger aneinanderstehen und somit besser gelesen werden können. Die Anzahl der Zeichen pro Zeile bleibt jedoch unverändert, nämlich 60.

Die normale Schriftbreite wird benötigt, wenn man Zeichen unbedingt in der 8x8 Bitmatrix drucken möchte, etwa irgendwelche Grafik- oderSpezialzeichen. Selbstverständlich kann man die Seite auch wieder aufteilen und einen Teil normal, den anderen Teil komprimiert drucken. Es gibt insgesamt zahlreiche Variationsmöglichkeiten.

## Komfortabler Randausgleich

Hat man sich auch hier entschieden, so wird gefragt, ob rechter Randausgleich erwünscht ist, das heißt, bei Bejahen erscheint der Text auch rechtsbündig. Schaut man sich das Druckbild etwas genauer an, so fällt einem sofort ein entscheidender Vorteil von Textmaster gegenüber anderen Textverarbeitungssystemen auf. Bei anderen Systemen nämlich wird die Rechtsbündigkeit durch mehrfaches Einfügen von Leerstellen erreicht. Dies hat den Nachteil, daß stellenweise weiße Flächen im Druckbild erscheinen, die den Text trotz der Rechtsbündigkeit etwas unregelmäßig erscheinen lassen. Bei Textmaster hingegen werden die fehlenden Leerstellen gleichmäßig auf die Leerstellen zwischen den einzelnen Wörtern einer Zeile verteilt, und zwar jeweils punktweise, das heißt innerhalb einer Zeile sind die Abstände zwischen den Wörtern gleich groß. Weiße Flächen entstehen nicht.

Um die nächsten Abfragen des Programmes zu verstehen, muß noch erklärt werden, wie die Zeichen an den Drucker gelangen.

Gedruckt wird im Grafikmodus. EineZeile, die gedruckt werden soll, besteht eigentlich aus zwei Zeilen für den Drucker, so daß für jede Bildschirmzeile insgesamt 2x7 = 14 Druckerdots zur Verfügung stehen.

Für ein Zeichen benötigt man jedoch nur 8 Dots, so daß insgesamt 6 Dots als Zeilenzwischenraum verbleiben. Werden Zeichen unterstrichen, wird das 10. Dot gedruckt. Dies hat den Vorteil, daß selbst bei Zeichen mit Unterlängen, zum Beispiel dem »g«, der Unterstrich sich deutlich von der Unterlänge abhebt.

## Hoch- und Tiefschrift

Textmaster bietet jedoch auch die Möglichkeit der Hoch-und Tiefschrift. Wo benötigt man sie? Eigentlich nur ganz selten. In mathematischen Formeln, zum Beispiel für Exponenten (Hochschrift), oder als Indizes (Tiefschrift), aber zum Beispiel auch in chemischen Formeln. Normalerweise werden diese jedoch nicht verwendet, daher ist die Abfrage der Dots für Hoch-, Normal- und Tiefschrift einfach mit RETURN zu beantworten. Die Dotzahl gibt an, ab welchem Dot das Zeichen gedruckt wird. Da insgesamt 14 Dots zur Verfügung stehen, kann sich die Dotzahl zwischen 0 und 6 befinden. Möchte man beispielsweise Tiefschrift verwenden, so ist die Dotzahl 3 bei der Tiefschrift einzugeben, wenn man die Tiefschrift um 3 Dots nach unten von der Normalschrift absetzen möchte. Will man jedoch Hochschrift benutzen, so wird die Sache komplizierter. Für die Hochschriftdotzahl gibt man am besten 0 an. Für Normalschrift kann man nun aber nicht auch die Dotzahl 0 eingeben, da sich sonst die Hochschrift gar nicht von der Normalschrift absetzen würde. Vielmehr sollte man als Normalschriftdotzahl nunmehr 3 eingeben und für die Tiefschrift die Dotzahl 6. Es kommt also lediglich auf die relativen Dotzahldifferenzen an. Möchte man in einer Zeile Hochschrift benutzen, so muß also der ganze Text die gleiche Normalschriftdotzahl besitzen, da sonst die Normalschrift der betroffenen Zeile als Tiefschrift erscheinen würde.

Wie kennzeichnet man nun, was in welcher Schrifthöhe erscheinen soll? Dazu stehen drei Steuerzeichen zur Verfügung: CTRL 1 (Hochschrift), CTRL 2 (Normalschrift) und CTRL 3 (Tiefschrift). Die Steuerzeichen werden durch Grafikzeichen symbolisiert (Bildschirmcode 252 - 254). Es ist zu beachten, daß im Extended Modus die Zeichen »C = X«, »C = C« und »C = V« nicht benutzt werden dürfen, da diese als nicht druckbare Steuersymbole interpretiert würden.

### Zusätzliche Funktionen

Die nachfolgenden Funktionen werden mit der CONTROL-Taste in Verbindung mit einer Buchstabentaste aufgerufen. Dies sind vorwiegend selten benötigte Funktionen. Die wichtigsten und am meisten benötigten sind ja über die Funktionstasten zu erreichen.

CTRL D bewirkt einen Sprung ins Hauptmenü. Man hat so die Möglichkeit, an einem anderen Dokument weiterzuarbeiten.'

CTRL H bewirkt eine Auflistung aller Befehle. Durch nochmaliges Drücken von CTRL H werden weitere Befehle aufgelistet.

CTRL W: Es stehen zwei vorgewählte Farbeinstellungen zur Verfügung, die über CTRL W wechselseitig aufgerufen werden können.

Mit CTRL F gelangt man ins Floppymenü. Hier steht zur Verfügung: 1. Zurück zum Texteditor, 2. Floppybefehl senden, 3. Dokument löschen, 4. Directory-Anzeige.

Hat man »Dokument löschen« versehentlich aufgerufen, so drückt man einfach RETURN.

Schließlich steht noch die Funktion »Zeile(n) zentrieren« (CTRL Z) zur Verfügung. Es wird gefragt, von welcher bis zu welcher Zeile zentriert werden soll. Gibt man hierbei einfach zweimal RETURN ein, so wird nur die Zeile zentriert, in der sich der Cursor gerade befindet. Diese Funktion ist recht nützlich, zum Beispiel für Überschriften, die genau in der Mitte einer Zeile stehen sollen.

### HINWEIS!

In Zeile 4900 kann es eventuell zu Komplikationen kommen. In dieser Zeile wird nämlich die Schriftfarbe des Textes in das Farb-RAM gesetzt. Dazu wird der Farbcode (F1) in 53281 (Hintergrundfarbe) gePOKEt. Durch das anschließende Löschen des Bildschirms wird erreicht, daß das gesamte Farb-RAM die Hintergrundfarbe übernimmt. Es existieren nun aber zumindest zwei verschiedeneC64-Versionen. Auf der einen Version wird beim Bildschirmlöschen die Cursorfarbe (646) in das Farb-RAM übernommen. Man gebe daher im Direktmodus ein:
poke53281,0:print"{CLR/HOME}":poke53281,6:printpeek (55296)and15

Ist die Zahl nun ungleich 0 (=schwarz), dann ersetze man in Zeile 4900 die erste 53281 durch 646. Dadurch ändert sich natürlich die Prüfsumme für diese Zeile.

## Beliebige Zeichensätze

Ein Vorteil von Textmaster ist, daß der Benutzerjeden beliebigen Zeichensatz und damit quasi jede beliebige Schrift ausdrucken kann. Dies ist eigentlich keine Neuheit, jedoch ist bei Textmaster neu, daß die Daten für den Zeichengenerator des VICs ebenso als Daten für die auszudruckenden Zeichen fungieren. Es ist somit nicht erforderlich, für die Bildschirmzeichen und die Druckerzeichen zwei getrennte Zeichensätze zu kreieren.

Wenn der Benutzer also eine Schriftart kreieren möchte, muß man zunächst einmal wissen, welches Format der Zeichensatz besitzen muß, damit er von Textmaster verarbeitet werden kann. Dazu ist zu sagen, daß der Zeichensatz das gleiche Format haben muß wie auch die Originalzeichensätze im Speicher des C 64. Ein Zeichen besteht also aus 8 Byte, die eine 8x8-Bitmatrix bilden. Entsprechende Erläuterungen sind auch in unserem ausführlichen Grafikkursus (insbesondere Ausgabe 5/84 des 64’er-Magazins) zu finden. Der interessierte Leser kann sich diesja dann noch einmal zu Gemüte führen. InsgesamtsolltederZeichensatzsämtliche 255 Bildschirmzeichen enthalten. Es sollte ebenfalls beachtet werden, daß dieZeichen 128 - 255 die inversen Kopien derZei-chen 0 - 127 darstellen müssen. Ein vollständigerZeichen-satz belegt somit 9 Blöcke auf der Diskette. Die Fileart muß PRG sein, das heißt, der Zeichensatz muß auf der Diskette PROGRAMM vorliegen. Dies ist wichtig, da der Zeichensatz ansonsten vom Textmaster auf der Diskette nicht gefunden würde. Die Startadresse des Files kann beliebig sein, da der Zeichensatz vom Textmaster ohnehin nicht absolut geladen wird.

Es ist verständlich, daß wir diese Zeichensätze nicht veröffentlichen können, zumal es eineZumutung fürjeden Leser wäre, eine Wüste von Zahlen abzutippen (ein Zeichensatz besteht aus 2048 Byte!). Auf der Leserservice-Diskette befinden sich aber einige Beispiel-Zeichensätze. Bleibt also nur, daß der Benutzer selbst seinen »individuellen« Zeichensatz erstellen muß. Es stehen in der Formgebung von Buchstaben nahezu unbegrenzt viele Möglichkeiten zur Verfügung.

Allerdings ist es ebenso unzumutbar, sich eine gesamte Schrift »per Hand« über eine Bitmatrix auf dem Papier »zusammenzuPOKEn«, daher benötigt man einen Zeichengenerator.

Wer aber schon einen Zeichengenerator hat, kann diesen jederzeit verwenden, wenn die auf Diskette gespeicherten Zeichensätze das oben beschriebene Format erfüllen.

## Eigener Zeichengenerator

Diejenigen Leser, die über keinen Zeichengenerator verfügen, finden im Listing 4 den kleinen, aber leistungsfähigen »CHAR-GENERATOR«. Dieses Programm ersetzt zwar keinen ernstzunehmenden Zeichengenerator, jedoch können die damit erstellten Zeichensätze direkt vom Textmaster übernommen werden. »CHAR-GENERATOR« ist quasi ein Ergänzungsprogramm zu Textmaster. Auf eine nähere Dokumentation möchte ich wegen der Kürze des Programms verzichten, es ist höchstens zu sagen, daß das kleine Maschinenprogramm die Originalzeichensätze nach 8192 kopiert. Die zur Verfügung stehenden Befehle werden auf den Bildschirm geschrieben.

Auf diese Weise ist es möglich, ganze Schriftbibliotheken anzulegen. Es empfiehltsich, dasErstellen derTextemit dem normalen Zeichensatz vorzunehmen, um einen ungewohnten Zeichensatz auf dem Bildschirm zu vermeiden, und erst kurz vor dem Ausdruck die erwünschte Schrift zu laden. Auf der Leserservice-Diskette befinden sich schon drei fertige Zeichensätze:

- dünn
- quadrato
- Iuxus

(Mario Weck/bs)

# Trainingsprogramm fürs Maschinenschreiben

> Um gleichzeitig schnell und fehlerfrei auf der Schreibmaschine zu schreiben, benötigt man viel Übung. Mit diesem Trainingsprogramm können Sie Ihre Fingerfertigkeit nach den Richtlinien der IHK testen und bewerten.

Immer mehr Schüler und Auszubildende haben Maschinenschreiben als Unterrichtsfach. Diesen hilft das Programm TPFM (Trainingsprogramm für Maschinenschreiben) bei der Leistungskontrolle. Ferner ermöglicht TPFM dem Lernenden ohne Papier- und Farbbandverbrauch mit Hilfe des Commodore 64 zu üben. Auch den technischen Lehrern der Berufs-und Fachschulen leistetTPFM gute Dienste. Das bisher erforderliche arbeitsintensive und fehleranfällige Blättern und Suchen in Umrechnungstabellen entfällt. Der C 64 gibt nach Eingabe von Anschlägen und Fehlerzahl sofort die entsprechende Note auf dem Bildschirm aus.

Nachdem das Programm (Listing 1) geladen und mit »Run« gestartet wurde, wird die Tastatur des C 64 auf die gültige DIN für Schreibmaschinentastaturen umgestellt. Hierauf erscheint das Hauptmenü mit folgenden Auswahlpunkten auf dem Bildschirm:
1 — Schreiben
2 — Korrigieren
3 — Benoten
4 — Ende

**Schreiben**: Nach der Auswahl dieses Menüpunktes kann ein beliebiger Text eingegeben werden. Die Uhr zum Messen der benötigten Zeit startet erst nach dem Drücken des ersten Buchstabens. Nach zehn Minuten bricht der Computer automatisch die Texteingabe ab. Mit »SHIFT RETURN« kann man sie vorzeitig beenden.

Bei der Notenberechnung wird dann die Anschlags- und Fehlerzahl auf eine Zehnminutenleistung hochgerechnet. In beiden Fällen verzweigt das Programm zu einer Informationsseite. Hier, gleichgültig ob man sie durch Abbruch mit der SHIFT-RETURN-Taste oder nach zehn Minuten auf regulärem Weg erreicht hat, gibt der Computer die Textlänge, die benötigte Zeit und die Anschlagszahl pro Minute an.

Nachdem der Anwender mit »RETURN« die Informationsseite verlassen hat, gelangt er in das Abspeichermenü. Dieses bietet folgende Auswahlpunkte an:
a) Auf Kassette speichern
b) Auf Diskette speichern
c) Korrigieren (ohne speichern)

In den ersten beiden Fällen a und b verzweigt der Computer nach dem Speichern in das Hauptmenü. Im Fall c wird der Programmteil »Text kontrollieren« aufgerufen. Hier wird der Text nicht von einem externen Speicher geladen, da er sich noch im Hauptspeicher befindet.

**Hinweis**: Der Text wird immer automatisch unter dem Namen »text« abgespeichert.

**Korrigieren**: Von hier aus verzweigt das Programm in das Lademenü. Dort kann man auswählen, ob die Textdatei von Kassette oder Diskette geladen werden soll. Anschließend wird der Text buchstabenweise auf dem Bildschirm wiedergegeben. Der Anwender drückt nun jedesmal, wenn er einen Fehler entdeckt hat, kurz die Leertaste.

In der obersten Zeile des Bildschirms steht eine Fehleranzeige. Diese erhöht sich nach jedem Druck auf die Leertaste. Man kann den Ablauf durch das Drücken der SHIFT-Taste anhalten. Das Programm setzt das Listen des Textes erst fort, wenn der Anwender diese wieder losläßt. Wenn der Programmteil »Text kontrollieren« beendet ist, gelangt der Anwender durch Drücken der RETURN-Taste in das Unterprogramm »Berechnen der Note«. Hier fragt das Programm, ob man ein Anfänger oder Examenskandidat ist. Wenn man den zweiten Fall wählt, wird die Note ausgegeben, mit der die Schreibleistung in der Schulprüfung honoriert worden wäre. Zusätzlich erfährt der Anwender, ob er die IHK-Prüfung bestanden hätte. Entscheidet man sich für den Auswahlpunkt »Anfänger«, erteilt der Computer eine entsprechend bessere Note. Durch Drücken der RETURN-Taste kann der Anwender TPFM neu starten.

**Benoten**: Der Menüpunkt »Benoten« ist für Lehrkräfte gedacht. Nach der Eingabe von Anschlags- und Fehlerzahl wird die entsprechende Note ausgegeben. Gibt man bei Fehlerzahl ein »x« ein, kehrt man in das Hauptmenü zurück.

**Abändern der Notentabelle**: Die in dem Programm verwendete Notentabelle ist unter Umständen nicht für alle Bundesländer gültig. Darum wird hier zusätzlich beschrieben, wie man die Skala — falls erforderlich — anpassen kann:

Ausschnitt der verwendeten Notentabelle (konventionelle Form):

TODO TABLE

5.5 5 4.5 4 3.5 3 2.5 2 1.5 1
0 Fehler 1200 1400 1600 1700 1800 1 Fehler 1200 1400 1600 1700 1800 2 Fehler 1200 1400 1500 1600 1700 1800 etc.

Ausschnitt der verwendeten Notentabelle (kodierte Form):
DATA 1200,5,12,14,16,17,18,-1,5,12,14,16,17,18,-1,4,12, 14,15,16,17,18

Die kodierten Werte werden von dem Programm TPFM in ein zweidimensionales Feld eingelesen.

In dieser Tabelle sind 1200 Anschläge Grundvoraussetzung für das Bestehen der Prüfung. Wenn man weniger Anschläge hat, ist man automatisch durchgefallen. Diese Zahl ist der erste DATA-Wert. Der zweite gibt an, wieviele Noten in der Tabelle unbesetzt sind. Bei Fehlerzahl 0 sind dies zum Beispiel 5 Noten (5.5, 5, 4.5, 4, 3.5). Die Note 6 bleibt unberücksichtigt. Die hierauf folgenden DATA-Werte sind die Anschlagsgrenzen zwischen den verschiedenen Noten. Zur Erleichterung der Arbeit des Anwenders wird die Eingabe automatisch rechtsbündig mit Nullen auf vier Stellen ergänzt. Es ist auch vorgesehen, Werte von unter 100 Anschlägen einzuspeichern. Die gewünschte Anschlagszahl wird dann einfach mit einem Minuszeichen versehen. Dieses wird vom Programm beim Einlesen in das zweidimensionale Feld entfernt. Die Anschlagszahl wird in diesem Falle nicht ergänzt. Nachdem alle Werte einer Tabellenzeile eingegeben sind, ist die Kennziffer (DATA-Wert) —1 anzugeben. Wenn man bei dem unteren Ende der Notentabelle, in diesem Fall »20 Fehler«, angelangt ist, gibt man die Kennziffer —2 an. Hierdurch erfährt der Computer, wann die Tabelle vollständig eingelesen ist. Daraufhin verzweigtTPFM zu dem Programmteil »Noten ermitteln«.

(Dirk Marzluf/og)

# Taktvoller Musiker

> Dieses Schlagzeugprogramm für den C64 imitiert bis zu acht verschiedene Schlaginstrumente. Durch die Möglichkeit, Taktsequenzen zu programmieren, wird der Computer zum taktgenauen Rhythmusgerät.

Das Programm (siehe Listing) bietet vier Hauptmenüpunkte:

1.	Laden und Speichern von Schlagzeugsequenzen
2.	Sequenzen erstellen
3.	Sequenzen abspielen
4.	Sequenzen auf der »Schautafel« betrachten.

Von jedem Menüpunkt kommt man durch die Eingabe eines Sterns (*) wieder in das Hauptmenü zurück.

**Zu 1**: Es können insgesamt 100 Sequenzen zu je 32 Takteinheiten eingegeben werden. (8 Presets sind von vornherein vorhanden, sie haben die Sequenznummer 1 bis 8). Die Speicherung dieser Sequenzen übernimmt der erste Programmpunkt. Es muß nur der Programmname angegeben werden und das Programm lädt (oder speichert) alle existierenden Sequenzen auf Kassette. Danach springt es wieder zum Hauptmenü zurück.

**Zu 2**: Zuerst müssen Sie eingeben, welche Sequenz editiert werden soll. (Der Computer zeigtjeweils die letzte eingegebene Sequenznummer an, damit man weiß, wie viele Files schon belegt sind.) Danach wird gefragt, welcher Teil des Schlagzeugs eingestellt werden soll. Es stehen zur Verfügung:

Snare Drum, Akzente, Baß-Drum, Hi-Hat(zu), Hi-Hat(offen), Becken, kleine Trommel und große Trommel.

Da der C 64 nicht acht verschiedene Klänge auf einmal spielen kann, mußten folgende Vereinbarungen getroffen werden: Es darf aus den drei Hauptgruppen (siehe unten) jeweils nur ein Instrument pro Takt genommen werden.

1.	Gruppe: Snare Drum; Akzente
2.	Gruppe: Baß-Drum; kleine Trommel; große Trommel
3.	Gruppe: Hi-Hat (zu und offen); Becken

Wenn alle Schlagzeugteile in einem Takt gesetzt sind, gilt das als Taktende. Das ist nützlich, um zum Beispiel Dreivierteltakte zu programmieren.

Wenn man aus den acht Instrumenten gewählt hat, wird ein neues Bild aufgebaut und man kann mit dem Joystick oder den Cursor-Tasten auf den 32 Takteinheiten Punkte setzen oder löschen. Falls schon einige Takte gesetzt waren, wird das natürlich auch angezeigt. Das macht man nun mit jedem Schlagzeugteil bis die ganze Sequenz eingestellt ist.

**Zu 3**: Wählt man diese Funktion, wird man gefragt, ob man eine einzelne oder mehrere Sequenzen hintereinander gespielt haben will. Das ist nützlich um zum Beispiel verschiedene Rhythmen mit kleinen Soli (»Breaks«) zu kombinieren. Probieren Sie zum Beispiel einmal die Sequenzenkombination 1,2,4,3,0 aus (die Null zeigt das Ende der Eingabe an). Bei der einzelnen Sequenz kann man zwischen der gerade editierten und einer anderen wählen. Im Spielmodus, der rechts oben im Bild angezeigt wird, kann man mit den Cursor-Tasten die Geschwindigkeit einstellen (insgesamt 256 Geschwindigkeiten). Weitere Funktionen: F1 - Ende; F3 -zurück zum Menü; F5 - Sequenz von Anfang an spielen; F7 - Sequenz von der abgebrochenen Stelle an weiterspielen.

**Zu 4**: Um zu sehen, wie alle Takte einer Sequenz (Snare Drum, Hi-Hat, etc.) aussehen, wählt man den vierten Programmpunkt. Zuerst wird man wieder gefragt, welche Sequenz man sich ansehen will. Danach zeigt der Computer alleTaktsequenzen aufdem Bildschirm. (Wichtig: Einenschönen Effekt erzielt man, wenn Snare Drum und Baß-Drum zusammen gespieltwerden; dasergibt ein Metall-Geräusch.) Man kann von hier aus wieder zum Menü oder zum zweiten Programmteil verzweigen. Wie schon erwähnt, sind im Programm bereits acht Presets (fest programmierte Sequenzen) enthalten, die auf Wunsch verändert werden können. Nach »RUN« sind Sie wieder im Ausgangszustand.

### Programmtechnik:

Ich habe mir überlegt, wie man eine 32 Takte lange Sequenz mit je acht verschiedenen Rhythmusgeräten auf minimalen Speicherplatzbedarf ablegen könnte. Am besten erschien mir dann, je einem Takt ein Byte zuzuordnen und jedes Schlaginstrument als 1 Bit (8 Schlaginstrumente = 28 = 2 56 = 1 Byte) zu kennzeichnen. Das erklärt auch, warum eine Belegung aller acht Instrumente auf einem Takt das Taktende kennzeichnen: Bei dem Modus »mehrere Sequenzen hintereinander« ist das Ende-Flag auch die Zahl 255.

Jede Taktsequenz ist in dem Variablenfeld T(Z,NR) abgespeichert (Z=1 -32 =Taktfeld, NR=Nummer der Sequenz).

### Wichtige Variablen

ZA: Nummer der höchsten Sequenz
Z: Nummer der gerade editierten Sequenz
N$: Name der Datei A$: Tastaturvariable H;J: Laufvariablen

### Maschinenprogramme:

TODO TABLE

$ 9003 - $ 900E: Löschen aller SID-Register
$ 9010 - $ 9085: Schlagzeugsounds
$ 90A0 - $ 9180: Hauptabspielroutine:
1.	Entsprechend den Bits auf die Sounds verzweigen
2.	Geschwindigkeitskontrolle
3.	Geschwindigkeitsdarstellung
4.	»LED«-Kontrolle
$ 9200 - $ 9250: »LEDs« für die Schautafel $9251 -$9273: »LEDs«fürSequenzeinstellen

## Hinweis

Das Programm ist auf Datasettenbetrieb ausgelegt. Für den Betrieb mit einer Floppy sind die Zeilen 2120 und 2270 zu ändern:
2120 OPEN 1,8,1,N$+",S,W"
2270 OPEN 1,8,0,N$+",S,R"

(Thomas Langens/tr)

# Kassetten-Layout

> Überlassen Sie die komplette Musik-Kassetten-Beschriftuhg von der Hülle bis zum Kassetten-Aufkleber dem Computer. Alle Daten kommen fertig zum Ausschneiden aus dem Drucker.

»Kassetten-Layout« besteht aus zehn Programmpunkten, die im folgenden erläutert werden.

### 1.	Arbeitshinweise

Innerhalb dieses Programmpunktes findet der Anwender eine ausführliche Beschreibung der Arbeitsmöglichkeiten dieses Programmes.

### 2.	Betriebsvariablen setzen

Wie Sie wissen, gibt es bei Leerkassetten unterschiedliche Bandsorten, nicht jede Kassette hat eine Sicherheitsbandmechanik, manche Leute nehmen ihre Kassetten nur in Mono und andere nur in Stereo auf.

Unterschiede gibt es auch in der Rauschunterdrückung. Manche schwören auf DOLBY, andere wiederum auf HIGH-COM. Hier kann sich jeder Benutzer seine eigenen Angaben nach Bedarf auswählen.

### 3.	Standardvariablen

Hier findet der Benutzer bereits vorgegebene Aufnahmedaten vor. Diese Festwerte können allerdings vom jeweiligen Benutzer in der Zeile 5010 für eigene Bedürfnisse abgeändert werden.

### 4.	Dateneingabe

Zuerst einmal wird der Kassettentitel für die Kassettenhülle abgefragt. Dann werden die ausgewählten Aufnahmedaten einschließlich des Kassettentitels angezeigt.
Tastenfunktionen:
w steht für Weiterblättern
z steht für Zurückblättern
m steht für Rückkehr ins Menü

Ist alles richtig, drückt man die Taste »j«. Danach befindet man sich im Eingabemodus für die Hüllenseite 1. Für Seite 1 sind 14Zeilenverfügbar. EinZählerzeigtan, aufwelcheZeile sich die nächste Eingabe bezieht. Leereingaben (Return) sind zulässig. Hat man alle 14 Zeilen hinter sich, erscheint die Kontrollseite.

Hier hat man nun die Möglichkeit, Tippfehler unter Angabe der änderungsbedürftigen Zeilen zu korrigieren. Nummernlose Zeilenangaben oder höhere Zeilenangabe als vorgegeben, werden mit einer Fehlermeldung quittiert. Sind keine Korrekturen notwendig, drückt man die Taste »j« und es erscheint die Eingabeseite 2.

Es wird analog zur Eingabenseite 1 verfahren. Einziger Unterschied: Nur 13Zeilen sind verfügbar. Hat man auch hier alle Tipphürden überwunden, »landet« man in der Eingabe der Kassettenseite 1. Auch hier erscheint nach vollständiger Eingabe die entsprechende Kontrollseite zwecks eventueller Änderungen. Nun bleibt nur noch die Kassettenseite übrig. Hierbei entfällt allerdings die Eingabe der Titelzeile. Diese wird aus Kassettenseite 1 übernommen. Das Programm fragt nun, ob noch Aufnahmedaten (Herkunft von Kassette, LP,

Band oder sonstige Tonträger) eingegeben werden sollen.

Die nun folgende Funktion »Einspieldaten ausdrucken« ist natürlich nur interessant, wenn auch Einspieldaten eingegeben wurden.

### 5.	Daten sichern

Nachdem wir nun unsere Daten eingegeben haben, wollen wir sie auch sichern. Natürlich können wir die so erstellte Datei später wieder überschreiben, aber im Diskettenbetrieb fragt der Computer vorsichtshalber noch einmal nach, ob Sie es auch ernst meinen. Die eventuell unter dem gleichen Namen schon vorhandene Datei wird dann überschrieben. Falls Sie das aber nicht wollen, können Sie der zu speichernden Datei einen Ersatznamen geben:

Wählen Sie Menüpunkt 5. Dort kann man »D« für Diskette oder »T« für Turbotape wählen.

Drücken Sie »D« und geben Sie den Dateinamen ein. Sie bekommen nach dem Speichern die Meldung: »Die Daten sind gesichert«, und das Programm springt ins Menü zurück.

### 6.	Daten laden

Programmpunkt 6 arbeitet analog zu Programmpunkt 5. Nur werden hier bereits vorhandene Dateien geladen.

### 7.	Daten kontrollieren

Innerhalb dieses Programmpunktes können Sie die einzelnen Kontrollseiten auf etwaige Tippfehler untersuchen und notfalls korrigieren. Sie können durch Eingabe einerZahl zwischen 1 und 7 gezielt eine bestimmte Kontrollseite aufrufen. Innerhalb der Kontrollseiten gelangen Sie mit »w« eine Seite weiter, mit »z« eine Seite zurück und mit »m« zurück ins Menü.

### 8.	Layout ausdrucken

Die Druckerroutine wurde für einen MPS-802 geschrieben. Das Layout (siehe Bild) brauchen Sie nur noch auszuschneiden und zu falten. Die beiden unteren Teile kleben Sie auf die Kassette.

### 9.	Archivdaten eingeben/ausdrucken

Jetzt müssen Sie die Aufnahmedaten eingeben und für wen die Kassette aufgenommen wurde. Wenn alles richtig ist, drücken Sie »j«.

Sie werden dann aufgefordert, die Archivdaten für Seite 1 einzugeben. Leereingaben (Return) sind zulässig. Die eingegebenen Daten werden noch einmal in einer Kontrollseite angezeigt.

Es folgt dann die Aufforderung, die Archivdaten für Seite 2 einzugeben.

### 0. Programmende

Ihr Computer wird auf die normalen Schrift- und Farbwerte zurückgesetzt. Auf einen Reset (SYS 64738) wurde verzichtet. Bei versehentlichem Drücken der Run/Stop-Taste kommt man mit einem »GOTO 10010« zurück ins Menü.

### Eingabehinweise:

Zuerst müssen Sie die geänderte INPUT-Routine aus Listing 1 eingeben. Dann folgt Listing 2. Beim Laden gehen Sie nach folgendem Schema vor:

TODO PRE

LOAD "INPUT",8,1
SYS 49152
NEW
LOAD "LAY0UT",8
RUN

(Karl-Heinz Wöllecke/tr)

# Mailbox-Basic - der einfache Weg zu der eigenen Mailbox

> Selbst gemacht ist immer noch am besten. Mit dieser speziellen Mailbox-Sprache brauchen Sie sich um die Bedienung der RS232^chnittstelle keine Gedanken mehr zu machen.

Die Mailboxen schießen wie Pilze aus dem Bo'den. Darunter gibt es gute, aber auch schlechte, vor allem aber teure. Viele Mailboxen sind deshalb teuer, weil sie die zur Verfügung stehenden Möglichkeiten nicht richtig ausnutzen. So kommt es vor, daß immer wieder Wartezeiten entstehen, weil das Programm des Mailbox-Computers die geforderten 300 Baud nicht schafft. Mit Mailbox-Basic sind Sie in der Lage, eine schnelle eigene Mailbox zu schreiben. Eine einfache Mailbox ist meistens rasch geschrieben, so daß sie wenigstens im »trockenen«, also ohne Telefonanschluß, funktioniert. Um aber tatsächlich einen solchen »Briefkasten« am Telefonnetz zu betreiben, wird das Ganze schon schwieriger, denn die Hauptsache, die sehr zeitkritische RS232-Ein/Ausgabe fehlt noch. Dort treten dann die ersten Probleme auf. Wie wandelt man die Commodore- in ASCII-Zeichen um? Wie simuliert man einen Textspeicher? Wie umgeht man die Garbage Collection? Abhilfe bringt »Mailbox-Basic«, das diese und noch mehr Funktionen erfüllt.

Mailbox-Basic (siehe Listing 1) ist eine kleine Basic-Erweiterung, die 12 neue Befehle zur Verfügung stellt, welche dann die gesamte RS232-Steuerung übernehmen. Die Befehle kann man einfach und ohne Probleme in ein bereits bestehendes Programm implementieren.

## Viele Möglichkeiten

Und hier die neuen Befehle:

### !PRINTA${,X,C,S]

Dies ist ein umgewandelter PRINT-Befehl, der den Inhalt des Strings (hier A$) auf dem Bildschirm und auf die RS232-Schnittstelle (natürlich in ASCII-Fbrm) ausgibt. Außerdem gibt es verschiedene Parametereinstellungen, die bestimmte Abbruch- und Stoppfunktionen nicht zulassen. Hierbei gilt:
1 = Abbruch zugelassen
0 = Abbruch nicht zugelassen

Die Parameterreihenfolge
!PRINT A$,CTRL/X,CTRL/C,CTRL/S
wird beispielsweise so geschrieben:
!PRINT A$,0,1,1.
Bei diesem Beispiel wird der CTRL/X-Abbruch verhindert, der CTRL/C-Abbruch und der CTRL/S-Stopp ermöglicht. Bei einem CTRL/S-Signal stoppt die Ausgabe für 120 Sekunden (bei Normalparametern). Dieser Stopp wird auch auf dem Bildschirm angezeigt (siehe Bildschirmanzeige).
!PRINT A$ (ohne Parameter)
Hier werden folgende Standardparameter gesetzt: CTRL/X-Abbruch und CTRL/S-Stopp möglich, das entspricht !PRINT A$,1,0,1. Die gesamten Abbruchroutinen bleiben nur so lange erhalten, wie sich der Computer in dieser Maschinen-Routine befindet (siehe !WAIT). Erfolgt ein Abbruch, so wird das entsprechende Bit in der Statusvariable gesetzt.

### !WAIT A$ [X,C,S]

Im Prinzip entspricht dieser Befehl dem !PRINT-Befehl. Im Gegensatz zu !PRINT springt !WAIT wieder ins Basic, wenn der RS232-Ausgabepuffer geleert ist, das heißt, wenn alle Daten über das Telefon geschickt worden sind. Daher bleiben die Abbruchmöglichkeiten bis zuletzt erhalten. Das Warten in der !WAIT-Routine wird auf dem Bildschirm angezeigt (siehe Bildschirmanzeigen). Die Parametermöglichkeiten entsprechen denen des !PRINT-Befehls.

### !INPUT A$ [,A [,Z1 [,Z2 ]]]

Hiermit wird eine Zeichenkette bis zu einem Return mit maximal »A« Zeichen Länge eingelesen, wobei (im Normalzustand) das Eingabegerät sowohl die Tastatur als auch die RS232-Schnittstelle sein kann. Ein Abbruch aus dieser Routine ist auch durch Drücken der CTRL/X-Taste möglich. Es gibt hier ein Eingabe-Timeout, das heißt wenn 60 Sekunden lang kein Zeichen eingegeben wird, springt die Routine zurück ins Basic und es wird ein Bit in der Statusvariable gesetzt. Der bis dahin eingegebene Text wird in einem String abgelegt. Übernommen werden nur die Standard-ASCII-Zeichen, alle anderen werden ignoriert. Hier gibt es ebenfalls Möglichkeiten zur Parametereingabe:
Zum Beispiel: !INPUT A$
Hier wird eine Eingabe von maximal 253 Zeichen gefordert. Sind diese erreicht, bricht die Routine beim nächsten eingegebenen Zeichen mit einem Return ab.
!INPUT A$,100
Hier wird die höchste zu übernehmende Zeichenzahl von 253 auf 100 Zeichen gesenkt.
!INPUT A$,20,ASC(.)
Hier werden höchstens 20 Zeichen übernommen, allerdings wird statt den eingegebenen Zeichen ein ».« (Punkt) auf die RS232-Schnittstelle gesendet. Die eingegebenen Zeichen bleiben im String erhalten (Anwendung: Paßwortabfrage).
!INPUT A$,20,ASC(.),ASC(?)
Hier wird zusätzlich statt dem eingegebenen Zeichen ein »?« auf dem Bildschirm ausgegeben.

### Programmbeispiel (Namenseingabe):

10 A$=CHR$(38)+CHR$(224)
20 OPEN,2,2,A$
30 !WAIT "Dein Name = >"
40 !INPUT A$,20
50 !PRINT "Dein Name ist"
60 !WAIT A$
70 CLOSE2

Durch Verwendung von !WAIT vor !INPUT bleiben die Abbruchfunktionen bis zuletzt erhalten. Auch tritt dann die Eingabe-Timeout-Abfrage erst in Kraft, wenn der RS232-Teilnehmer den gesamten Text erhalten hat.

## 8188 Byte Pufferspeicher

### !PUFFER L

Mit diesem Befehl werden bis zu 8188 Zeichen (ohne daß eines davon verloren geht) in einen internen Puffer eingelesen. Eingabegerät ist hier die Tastatur und/oder die RS232-Schnittstelle. Diese Routine übernimmt so lange Zeichen bis sie »...« + Return als Enderkennung erhält und übergibt dann die Länge des eingegebenen Textes in die Variable »TL«. Durch Drücken der CTRL/X-Taste oder durch ein Eingabe-Timeout wird diese Routine verlassen; die Enderkennung »...« + Return wird dabei selbständig vom Programm in den Puffer abgelegt, damit der bis dahin eingegebene Text noch weiter verwendet werden kann. Die Länge des einzulesenden Textes kann durch eine nachfolgende Variable festgelegt werden (hier »L«), Der interne Puffer beginnt bei $A000 (40960) und geht bis $BFFF (49151) und kann mit dem nächsten Befehl leicht ausgelesen werden.

### !GET AD,A$

Durch diese Sequenz wird der interne Puffer ab der angegebenen Adresse (hier: AD) nach einem Return durchsucht, und dann in einen String übergeben.

### Programmbeispiel:

110 A$=CHR$(38)+CHR$(224)
120 OPEN2,2,2,A$
130 !PUFFER 8188
140 A$="DerText:"
150 !WAIT A$+CHR$(13)
160 AD=40960
170 !GET AD,A$
180 IF A$="...'THEN 220
190 AD=AD+LEN(A$)
200 !PRINT A$+CHR$(13)
210GOTO 170
220 !WAIT"Das war’s."
230 CLOSE2

### !GET# F,A$ [L [, A ]]

Hier wird eine Zeichenkette der bestimmten Länge »L«, oder bis zu einem bestimmten Abbruchzeichen »A« von dem durch die Dateinummer »F« angesprochenen Gerät eingelesen und in einen String übergeben. Zur Erkennung, wie derString zustande kam, das heißt, ob es ein Abbruch wegen erreichter Länge oder wegen erreichtem Abbruchzeichen war, werden entsprechende Bits in die Statusvariablen gesetzt.

Zum Beispiel: !GET# Dateinummer,A$. Es werden 255 Zeichen von dem Eingabegerät eingelesen. Das Abbruchzeichen wird automatisch auf 255 festgelegt.
!GET # Dateinummer,A$,10
Genau 10 Zeichen werden eingelesen.
!GET # Dateinummer,A$,255,13
Hier werden 255 Zeichen eingelesen, sofern sich kein Endkennzeichen mit dem CHR$-Wert 13 findet.

### Programmbeispiel:

10 A$=CHR$(38)+CHR$(224)
20 OPEN2,2,2,A$
30 A$='Text,S,R"
40 OPEN 1,8,2,A$
50 !GET#1,A$,255,13
60 !WAIT A$
70 IF ST AND 64 THEN 50
80 CLOSE2

### !CLR

Die Statusvariable »RS« wird bei gesetztem »kein Carrier«-Bit zurückgesetzt (siehe Carrier).

### !RON/!ROFF

Schaltet die Ausgabe auf die RS232-Schnittstelle ein/aus. Bei !ROFF fallen sämtliche Timeouts sowie die Carrierabfrage weg (siehe Carrier).

### !CON/!COFF

Schaltet die Carrierabfrage ein/aus (siehe Carrier).

## Timeouts

### !SET S,E,C1,C2

Hiermit können alle Timeouts verändert werden.
S = CTRL/S-Timeout: Timeout bei Betätigen der CTRL/S-Taste (1 bis 255 Sekunden). Bei 0 gibt es kein Timeout. E = Eingabetimeout: Timeout bei jeglicher Eingabeforderung (1 bis 255 Sekunden). Bei 0 gibt es kein Timeout.
C1 = Maximale Durchlaufzeit der Carrierabfrageroutine (2 bis 255 Sekunden)
C2 = Wie lange muß ein bestehendes Carrier gefunden werden, damit das Programm fortfährt (1 bis 30 Sekunden). C1 muß größer als C2 sein.

Kaltstart: Bei der Eingabe von SYS 49152 werden folgende Einschaltzustände gesetzt:
!SET 120,60,30,2
!RON /!CON /!CLR

Carrier: Fehlt das Carriersignal bei einer RS232-Ein/Aus-gabe (User-Port:PB4 Pin H = 1 oder Bit4 in 56577 = 1), so springt das Programm in eine Carrier-Suchroutine, in der es (bei Normalparametern) 30 Sekunden lang ein zwei Sekunden langes Carrier-Signal sucht. Wird dies nach 30 Sekunden nicht gefunden, wird das »kein Carrier«-Bit in der Statusvariablen »RS« gesetzt. Spätere RS232-Ein/Ausgabeversu-che sind zwecklos, da das entsprechende Programm sofort wieder ins Basic zurückspringt. Man kann allerdings mit !CLR das »kein Carrier«-Bit wieder löschen.

Statusvariable »RS«: Sie ist dafür zuständig, alle Rückmeldungen der angesprungenen Routinen in das Basic zu übergeben.

### Bit:

TODO

76543210 (wennBitX=1)
10000000 = kein Carrier
1000000 = RS232 an
100000 = Eingabetimeout erreicht (bei !INPUT/!PUFFER)
10000 = interner Puffer voll (bei !PUFFER)
1000 = bei !GET#Dateinr.,A$ max. Zeichenzahl erreicht
100 = bei !GET#Dateinr.,A$ Abbruchzeichen gefunden
10 = CTRL/C-Abbruch
1 = CTRL/X-Abbruch

Beispiel einer Abfrage:
IF RS AND 2t1 THEN GOTO
(wenn CTRL/C-Abbruch erfolgt, verzweige)

Bildschirmanzeige: Zur Kontrolle, in welcher Routine sich der Computer zur Zeit befindet, werden folgende Zustände rechts oben auf dem Bildschirm ausgegeben: »<-WCSIT->«

TODO TABLE

W = Programm befindet sich in der !WAIT-Routine
C = Carrier fehlte momentan und der Computer befindet sich in der Carrier-Suchroutine
S = Die CTRL/S-Taste wurde betätigt
I = Der Computer befindet sich in einer Eingabeanforderung
T = Ein Timeout ist bei dem laufenden Befehl festgesetzt

Wenn keine der Funktionen angesprochen ist, zeigt der Computer »<----->« auf dem Bildschirm an. Nach dem Verlassen der Routine wird der frühere Bildschirminhalt wieder hergestellt.

Funktionstastenbelegung: Zur besseren Übersicht wurden folgende Funktionstasten mit CHR$-Codes für eine einfachere Mailbox-Steuerung belegt.

F1 = CTRL/X
F3 = CTRL/C
F5 = CTRL/S
F7 = CTRL/Q
F8 = simuliert ein fehlendes Carrier (Anwendung: gewollter Rauswurf aus der Mailbox)

Cursor: Das Programm besitzt einen eigenen stehenden Cursor (kleiner Strich), der dem Benutzer immer die aktuelle Position bei einer Ein/Ausgabe anzeigt (bei !PRINT /!WAIT /!INPUT/!PUFFER).

Zum Schluß noch ein paar technische Daten. Das Programm belegt nach dem Starten zirka 2,5 KByte im $C000 (49152)-Bereich, also keinen Basic-Speicherplatz. Der interne Puffer (für !PUFFER) hat eine Länge von genau 8 KByte und liegt ab $A000 (40690) bis $BFFF (49151). Die gesamten Routinen sind für eine 7 Daten-Bit Host-Ein/Ausgabe mit beliebiger Baudrate (50 bis 2400 Baud) ausgelegt; das achte Bit bei einer 8 Daten-Bit-Ausgabe wird einfach ignoriert. Die Ausgabe wird wie gewöhnlich durch den Open-Befehl eingestellt (wieviel Daten-Bits, welche Baudrate). Die zur RS232-Übertragung möglichen Zeichen sind auf die normalen ASCII-Zeichen und alle Zeichen unter dem CHR$-Code 32 festgelegt. Allerdings werden ein Teil dieser Codes, wegen ihrer Steuerzeichenfunktion (CRSR-HOME, CRSR-UP/DOWN) nicht auf dem Bildschirm ausgegeben.

## Garant

Diese Routinen halten, wenn richtig eingesetzt, das, was sie versprechen. Der beste Beweis hierfür ist wohl der praktische Einsatz einer Mailbox. In diesem Falle ist das die ACM-Club e.V.-Mailbox in München (089/8120338), die nun schon seit etwa sechs Monaten mit diesen Routinen einwandfrei arbeitet. Rufen Sie doch einmal an und verschaffen sich einen Eindruck von der Leistungsfähigkeit des Mailbox-Basic.

(R. Horstmann/aw)

# Proterm-64/XT - Terminalprogramm der Spitzenklasse

> Proterm-64/XT braucht den Vergleich mit kommerziellen Terminalprogrammen nicht zu scheuen. Viele DFÜ-Freaks sind der Meinung, daß Proterm sogar das beste Terminalprogramm für den C 64 ist.

Proterm-64/XT ist die neueste Version von Proterm, das als »Public Domain<<-Programm einen großen Bekanntheitsgrad erreichte. Norbert Demgensky hat uns seine neueste Version zum Abdruck zur Verfügung gestellt.

Proterm-64/XT ist vollständig in Maschinensprache geschrieben und bietet somit ein Optimum an Schnelligkeit und Speicherausnutzung. Das Programm belegt während des Laufs lediglich 6,5 Kilobyte, der restliche Speicher steht für einen Textspeicher mit 99 Zeilen zu 80 Zeichen und den Protokollspeicher von etwa 31 Kilobyte zur Verfügung.

Nach dem Laden des Programms erscheint links der Programmname und auf der rechten Seite läuft eine Stoppuhr. Unter der Kopfzeile erscheint der Cursor und zeigt damit an, daß das Programm zum Terminalbetrieb bereit ist.

Sondertasten sind CLR und CTRL-U. Mit CLR wird zum Hostrechner ein ESC gesendet, um zum Beispiel Menütexte oder Funktionen abzubrechen. MitCTRL-U (Control und »U«) wird die Stoppuhr auf Null gesetzt. Es empfiehlt sich gerade bei Fernverbindungen bei Verbindungsaufbau die Uhr zurückzusetzen, damit man einen Überblick über die vergangene Zeit und damit über die anfallenden Kosten hat.

Alle Steuerfunktionen können über die Funktionstasten F1 bis F8 aufgerufen werden. Im einzelnen stehen hier folgende Funktionen zur Verfügung:

TODO TABLE

F1 = Ändern der Übertragungsparameter (Baudrate, Datenbits, etc.)
F2 = Farbauswahl für Hintergrund, Rahmen und Zeichen
F3 = Speicherfunktionen für den Textspeicher
F4 = Aufrufen des Mailbox-Verzeichnisses
F5 = Protokoll-Funktionen (ansehen, sichern etc.)
F6 = An- oder Abschalten des Protokollspeichers
F7 = Dateifunktionen (ansehen, senden etc.)
F8 = Programmende

Beim Aufruf einer der Funktionen wird in der linken oberen Ecke des Bildschirms jeweils ein Fenster eingeblendet, in dem, je nach Funktion, mehrere Unterfunktionen aufgerufen werden können. Dieses geschieht durch Drücken der vor jedem Punkt stehenden Ziffer. Jede andere Taste beendet die Funktion und stellt den alten Bildschirminhalt wieder her, das heißtTexte, die sich unter dem Fenster befinden, werden nicht zerstört.

Im folgenden werden die einzelnen Funktionen in obiger Reihenfolge besprochen:

### F1 = Ändern der Übertragungsparameter

Hier können folgende Parameter eingestellt werden:
1.	Baudrate
Möglich sind die Baudraten 50, 75, 110,150, 300, 600 und 1200 Baud (Standardwert = 300).
2.	Datenbits
Hier können Sie zwischen 7 und 8 Datenbits wählen, wobei 7 Datenbits der Standard sind.
3.	Stoppbits
Wahlmöglichkeit zwischen 1 und 2 Stoppbits, Standardwert ist 1 Stoppbit.
4.	Parity
Zugelassen sind no, mark, space, even und odd-parity, wobei »no parity« der Standardwert ist.
5.	Duplex
Möglich sind Vollduplex, Halbduplex und Host.
»Vollduplex« bedeutet, daß jedes Zeichen erst als Echo vom Hostrechner auf dem Schirm erscheint.
Bei »Halbduplex« wird das Zeichen gesendet und gleichzeitig auf dem Schirm ausgegeben.
Bei »Host« wird der Gegenstelle jedes von ihr gesendete Zeichen zurückgeschickt, so wie es bei Mailboxen üblich ist. Standard istVollduplexzum Anrufen von anderen Mailboxen.
6.	Pause
Hiermit kann eingestellt werden, wie Proterm automatisch Texte senden soll. Wahlweise können die Texte im Quittungs-betrieb, ohne jegliche Pause oder mit einstellbarer Verzögerung nach jedem Zeichen übertragen werden.
7.	Linefeed
Je nach den Erfordernissen der Gegenstation kann bestimmt werden, welche Zeichenfolge anstelle des »Return« gesendet werden soll. Möglich sind hier nur Return, Return und Linefeed, Linefeed und Return und nur Linefeed.

Alle Parameter können durch Drücken einer der Tasten 1 bis 7 geändert werden, wobei bei mehr als zwei Wahlmöglichkeiten bei jedem Tastendruck der Wert eine Position weitergeschoben wird.

### F2 = Farbauswahl

Im Grundzustand ist schwarze Schrift auf weißem Grund und weiße Rahmenfarbe eingestellt. Mit den Tasten 1 bis 3 lassen sich die Bildschirmfarben individuell einstellen.

Gleiche Farben für Hintergrund und Schrift werden von Proterm-64/XT übersprungen, ansonsten sind aber alle möglichen Farbkombinationen zugelassen.

### F3 = Textspeicher

Die folgenden Funktionen beziehen sich auf den eingebauten Textspeicher von maximal 99 Zeilen zu 80 Zeichen.
Hier stehen folgende Funktionen zur Verfügung:
1.	Text eingeben
In der Kopfzeile erscheint ein »Lineal«, das anzeigt, wo innerhalb der Zeile man sich gerade befindet. Die mögliche Zeilenbreite ist 80 Zeichen, wobei der Text horizontal und vertikal gescrollt wird, wenn die Grenzen des Bildschirms berührt werden. In der Kopfzeile wird angegeben, in welcher Zeile man sich gerade befindet.

An Steuerfunktionen sind die Cursor-Tasten, INSERT und DELETE zugelassen, wobei INSERT und DELETE nur innerhalb der aktuellen Zeile arbeiten. HOME setzt den Cursor auf Zeile 1, Stelle 1 und CLR auf Zeile 99, Stelle 1. SHIFT-RETURN löscht die aktuelle Zeile ab Cursorposition.
F7 fügt ab der aktuellen Cursorposition eine Leerzeile ein. Der Rest des Textes verschiebt sich entsprechend.
F8 löscht die aktuelle Zeile.
F3 beendet die Eingabe. Es erscheint dann wieder das Menüfenster.Der Text bleibt gespeichert und kann jederzeit durch Drücken von »1« neu editiert werden.
2.	Text laden
Geladen werden kann jede beliebige sequentielle Datei mit maximal 99 Datensätzen. Ist die Datei länger, bleibt der Rest unberücksichtigt.
3.	Text sichern
Der Inhalt des aktuellen Textspeichers wird auf der Diskette gesichert.
4.	Text senden
Der Inhalt des aktuellen Textes wird an die Gegenstation gesendet. Die Ausgabe kann mit STOP angehalten und anschließend mit »c« abgebrochen oder mit jeder anderen Taste fortgesetzt werden.
5.	Text löschen
Der aktuelle Textspeicher kann gelöscht werden.

### F4 = Mailbox-Verzeichnis ansehen

Aus der optionalen Steuerdatei (siehe Anhang) kann eine Tabelle von Mailboxen mit Rufnummern und Parametern geladen werden. Mit dieser Funktion wird die Tabelle, soweit vorhanden, auf dem Schirm angezeigt. Mit den Cursortasten kann jetzt der reverse Balken auf die gewünschte Zeile gesetzt werden. Nach Drücken von RETURN werden die gespeicherten Parameter übernommen und in der Kopfzeile die Telefon-Nummer eingeblendet.

### F5 = Protokoll-Funktionen

Alle eingegebenen oder angekommenen Zeichen können protokolliert werden, wenn im Menü 1 das entsprechende Kennzeichen gesetzt wurde.

Der Inhalt des Protokollspeichers kann bearbeitet werden.
Es stehen folgende Funktionen zur Verfügung:
1.	Protokoll ansehen
Der Inhalt des Protokolls wird auf dem Bildschirm noch einmal angezeigt. Nach jeweils einer vollen Seite wird die Ausgabe angehalten und kann mit SPACE fortgesetzt werden. Nach Ende des Protokolls ist man dann wieder im Menü. Der aktuelle Bildschirminhalt wird durch die Funktion nicht zerstört.
2.	Protokoll drucken
Das Protokoll wird auf einen angeschlossenen Drucker über den seriellen Bus ausgegeben, wobei das Programm die Primäradresse 4 verwendet, sofern in der optionalen Steuerdatei nichts anderes angegeben ist (siehe Anhang).
3.	Protokoll löschen
Der Protokollspeicher wird gelöscht.
4.	Protokoll sichern
Der Inhalt des Protokollspeichers kann unter einem beliebigen Namen auf der Diskette gesichert werden.

Es wird immer die aktuelle Anzahl der freien Bytes im Protokollspeicher angegeben, hier stehen etwa 31 Kilobyte zur Verfügung.

### F6 = An- oder Abschalten des Protokolls

Es kann der interne Protokollspeicher ein- oder ausgeschaltet werden. Bei eingeschaltetem »Protokoll« wird jedes gesendete oder empfangene Zeichen in den Speicher geschrieben und kann dann später noch mal angesehen, gedruckt oder auf Diskette gesichert werden.

Bei eingeschaltetem »Protokoll« wird der Schriftzug »PROTERM-64/XT« in der Kopfzeile zur Kontrolle revers angezeigt.

Der Protokollspeicher reicht bei kontinuierlichem Empfang für etwa 15 Minuten.

### F7 = Dateifunktionen

Mit dieser Funktion kann man auf der Diskette gespeicherte sequentielle Dateien bearbeiten. Es stehen hier folgende Funktionen zur Auswahl:
1.	Datei ansehen
Nach der Eingabe des Namens wird der Inhalt der Datei auf dem Bildschirm angezeigt. Nach jeder vollen Seite kann die Ausgabe mit SPACE fortgesetzt oder mit STOP abgebrochen werden. Anschließend ist man wieder im Menü. Der aktuelle Bildschirminhalt wird durch die Funktion nicht zerstört.
2.	Datei löschen
Nach der Eingabe des Namens wird die Datei von der Diskette gelöscht.
3.	Datei senden
Eine beliebige sequentielle Datei kann hiermit direkt von der Diskette zur Gegenstation gesendet werden. Im Gegensatz zum Textspeicher ist die Länge des Textes hierbei nicht begrenzt. Die Ausgabe kann jederzeit mit STOP angehalten und danach mit »C« abgebrochen oder mit jeder anderen Taste fortgesetzt werden.
4.	Inhaltsverzeichnis
Alle sequentiellen Dateien auf der Diskette werden mit ihrem Namen zweispaltig angezeigt. Nach dem Drücken von RETURN ist man wieder im Menü. Der aktuelle Bildschirminhalt wird durch die Funktion nicht zerstört.

### F8 = Programmende

Nach Drücken von F8 kann man durch nochmalige Bestätigung mit »F1« das Programm beenden. Jede andere Taste löscht das Programm wieder.

Bei allen Funktionen, die mit Diskette arbeiten, wird in der Kopfzeile eine eventuelle Fehlermeldung angezeigt, wenn der Zugriff auf die Diskette nicht erfolgreich war. Die Meldung muß dann jeweils mit RETURN bestätigt werden. Beim Löschen einer Datei wird die Meldung in jedem Fall ausgegeben und muß dort auch bestätigt werden.

### Phrasenspeicher anzeigen/aufrufen

Mit der Taste »←« können die zehn möglichen Festtexte (Phrasen) angezeigt und durch eine der Zifferntasten 0 - 9 an die Gegenstation abgeschickt werden. Jede andere Taste springt wieder ins normale Programm zurück.

Die Texte werden in der optionalen Steuerdatei (siehe Anhang) definiert und beim Programmstart eingelesen.

Die optionale Steuerdatei dient zur Definition von Standarddateien, der Anpassung des verwendeten Druckers ans Programm, zur Steuerung der Farbkombination und zur Definition eines Mailbox-Verzeichnisses.

Die Datei wird als normales Basic-Programm eingegeben und muß unter dem Namen »..param« (Beispiel: Listing 2) auf der Proterm-Diskette gespeichert werden.

**Alle Einträge beginnen mit einem Anführungszeichen an der ersten Stelle; andere Zeilen werden von Proterm ignoriert.**

Standardtexte (Phrasen)
Standardtexte werden in der Form
$n,text
eingegeben, wobei für n eine der Ziffern 0 bis 9 anzugeben
ist. Der Text kann bis zu 63 Zeichen umfassen, ein Klammeraffe innerhalb des Textes wird als Return zur Gegenstation gesendet.
Farbkombination
Die gewünschte Farbkombination kann in der Fbrm %Hintergrundfarbe,Rahmenfarbe,Zeichenfarbe eingegeben werden. Die möglichen Werte gehen von 0 - F, wobei die Buchstaben A - F die Werte 10 - 15 in hexadezimaler Schreibweise darstellen.
Druckeranpassung
Für den verwendeten Drucker können folgende Parameter angegeben werden:
/Primäradresse.Sekundäradresse (,c)
Durch das »c« wird ein Commodore-Drucker gekennzeichnet, der dann zur korrekten Darstellung von Klein- und Großschreibung vor jeder Zeile ein Cursor-abwärts gesendet bekommt.
Mailbox-Verzeichnis
Die Liste der Mailboxen kann bis zu 600 Nummern umfassen, wobei jeder Eintrag 48 Byte des Protokoll-Speichers beansprucht.
Die Definition einer Mailbox erfolgt in der Form +Name,Telefonnummer, Parameter
Für den Namen sind maximal 25 Stellen vorgesehen; für die Telefonnummer maximal 15 Stellen.
Die Parameter geben alle Übertragungsparameter der ersten Bildschirm-Maske an, wobei hier jeweils einstellige Ziffern von 0 - Maximum angegeben werden können. Es folgt eine Liste der einzelnen Parameter und die einzugebenden Werte. Erscheint bei der Anzeige der Mailboxliste hinter einer Definition ein Sternchen, ist in der Definition ein Fehler vorhanden.

(Norbert Demgenski/hm)

# Mailbox für jedermann

> Mit diesem Programm machen Sie Ihren C 64 zu einem elektronischen Briefkasten. Sie brauchen nur noch ein Gerät, das automatisch den Hörer abhebt.

Der Betreiber der M.C.S.-Mailbox, Kürzel [THW], hat uns sein Programm zur Verfügung gestellt. Es hat sich in der Praxis bereits bestens bewährt. Mitdiesem Programm kannjeder seine eigene Mailbox aufmachen.

Ein Mailboxprogramm ist eigentlich nichts anderes als ein kombiniertes Verwaltungs- und Textverarbeitungsprogramm. Der Unterschied zu den genannten Programmen liegt nur in der Art der Datenverwaltung. Es verwaltet alle ankommenden Daten in seinem System und bietet viele Möglichkeiten es weiter auszubauen.

Das Programm kann bis zu 400 Benutzer mit einer 1541 verwalten. Zuzüglich derText- und Info-Files.

Neue Texte, die für alle bestimmt sind, werden vom Programm automatisch in das vorhandene Nachrichten-File (Datei für hinterlassene Nachrichten) eingebunden, so daß der nächste Anrufer diese Nachrichten sofort lesen kann. Damit ist gewährleistet, daß der Informationsfluß nicht unterbrochen wird und neue Daten sofort verfügbar sind.

Die Verwaltung der Anrufer wurde mit einer relativen Datei verwirklicht, da diese sich am besten dazu bewährt hat. Pluspunkte einer solchen Datei sind zum einen der schnelle Zugriff auf die einzelnen Records und das unproblematische Ändern von Daten.

Die Schnelligkeit wird auch dadurch erreicht, daß parallel zur Recordnummer auch ein Indexfeld mit den Anfangsbuchstaben der eingetragenen Anrufer im Computer mitläuft.

Damit wird die Suche nach einem Namen zum Kinderspiel und macht sich bei der Identifizierung (UID) sehr schnell positiv bemerkbar.

Als Indexfeld wurde ein Integerfeld (U%(X)) verwendet, das einige Besonderheiten aufweist. Integervariablen verbrauchen bekanntlich wenig Platz im Speicher. Man muß dann allerdings alle ASCII-Zeichen in eine Zahl konvertieren und diese im Feld ablegen. Beim Suchen wird dann die Zahl wieder in ein Zeichen umgewandelt. Die Zeit, die dafür verloren geht, ist aber so gering, daß sie nicht ins Gewicht fällt.

Eine entsprechende Lösung über ein Stringfeld ist nicht anzuraten. Dieses verbraucht nur unnötig Speicherplatz und zum anderen kann die Garbage Collection erbarmungslos zuschlagen.

Noch ein Wort zur Koppler- oder Modemsteuerung.

Das Programm verwendet die folgenden Signale und Anschlüsse am User-Port:

TODO TABLE

PB1 Koppler/Modem
Pegel	high aus
low aktiv
PB3 Klingelerkennung
Pegel	high kein Anruf
low Anruf erkannt
PB4 Detect-Anzeige
Pegel	high keineGegenstelle
low Gegenstelle vorhanden

Es ist wichtig, daß ein Relais zur Aktivierung des Kopplers und zum »Abheben« des Telefonhörers über einen Transistor als Treiber gesteuert wird, da nur so die User-Port-Ausgänge nicht zu stark belastet werden. Außerdem erzielt man damit auch die nötige Invertierung der Signale. Man kann dazu die Auto-Modem-Schaltung aus der 64’er, Ausgabe 9/84, Seite 114verwenden. Allerdings muß die Leitung PB5 (Anschluß H im Schaltplan) mit PB1 verbunden werden.

Die Befehle für die Koppler/Modemsteuerung sind in diesem Programm durch REM-Zeilen ausgewiesen.

Das Programmpaket besteht aus drei einzelnen Programmteilen, die zur Inbetriebnahme der Mailbox notwendig sind.

### 1.	DATEI/SORT/COPY

Mit diesem Programm wird eine Datendiskette, mit allen Files, die das Hauptprogramm erwartet, kreiert.

Nach der Frage »Datei anlegen« kann unterschieden werden, ob nur eine relative Datei, oder ob eine »komplette Datei« angelegt werden soll. Der Unterschied ist, daß bei der ersten Wahl nur die Diskette formatiert wird, eine relative Datei und ein sequentielles Indexfeld angelegt wird.

Bei der zweiten Wahl wird eine komplette Datei angelegt mit den folgenden Files, die alle das Programm »MAILBOX« erwarten:

TODO TABLE

Filename Filetyp Blöcke Verwendungszweck
USER	rel	128	Anrufer verwalten
M-INDEX	seq	X	Persönliches Indexfeld
A-INDEX	seq	X	Zwischenspeicher aktueller Daten
BILD	seq	X	Titelbild
MESSAGE	seq	X	Öffentliche Nachrichten (Texte)
AL	seq	X	Allgemeines File (frei verfügbar)
RI	seq	X	Rechner Info (frei verfügbar)
TEL	seq	X	Telefonverzeichnis (frei verf.)
CL	seq	X	Clubfile	(frei verfügbar)
AK	seq	X	Aktuelles	(frei verfügbar)
P1-P50	seq	X	50 einzelne persönliche Nachrichten

Die Files BILD,AL,RI,TEL,CL und AK müssen vom Mailbox-Betreiber selbst editiert werden. Denn diese werden vom Benutzer nur angesehen aber nicht beschrieben.

Man nimmt dazu einen Editor (Terminal 64 ist dazu sehr gut), gibt dort seine Texte ein und speichert diese auf der Datendiskette ab, indem man das vorhandene File überschreibt. Die anderen Files werden vom System selbst verwaltet.

Im File »USER« werden die Benutzer, soweit sie sich eingetragen haben, gespeichert.

Es können bei dieserVersion maximal 400 Benutzerverwal-tet werden.

Pro eingetragenen Anrufer beziehungsweise pro Record der Datei werden folgende Daten abgelegt:

TODO TABLE

Anrufername
19 Zeichen
Wohnort/Stadt
19 Zeichen
Rechnersystem	10	Zeichen
Passwort	10	Zeichen
Datum des letzten Login	8	Zeichen
Uhrzeit des letzten Login	8	Zeichen
Bell on/off	1	Zeichen
Linefeed on/off	1 Zeichen
Profi/Anfänger	1	Zeichen
Reserve	2	Zeichen
Gesamte Recordlänge	79	Zeichen
Plus ein Return (CR)	80	Zeichen

Der File M-INDEX speichert die Namen und Paßwörter der eingetragenen Benutzer, für die eine persönliche Nachricht vorhanden ist.

Wenn sich ein Anrufer zu erkennen gibt (UID), sucht das System, ob der Name und das Paßwort im Indexfeld vorhanden ist. Wenn ja, ergibt die Laufvariable I (FORI=1TO50) das persönliche Textfile (P 1 bis P 50) und wird dem Benutzer gezeigt.

Im File A-INDEX werden alle aktuellen Daten gesichert, damit diese nicht verloren gehen, wenn das System sich einmal aufhängen sollte. Gesichert wird das Datum, Anzahl der Anrufe, und wann die letzte Nachricht abgespeichert wurde.

Nach jedem Durchgang (Login-Logoff) werden die Daten dort gesichert.

Persönliche Nachrichten werden in den Files P 1 bis P 50 abgelegt. Die Belegung dieser Files läuft parallel mit dem M-lndexfeld. Mit dem M-Indexfeld wird auch überprüft, ob noch Platz für eine weitere persönliche Nachricht vorhanden ist.

Wird eine Nachricht für jemanden abgelegt, für den schon eine vorhanden ist, so wird der neue Text an das vorhandene File mit dem Append-Befehl (,s,a) angehängt.

Die öffentlichen Texte, die von jedem Benutzer eingegeben werden können, werden automatisch an den Anfang des MESSAGE-Files gestellt.

Besondere Bedeutung erhält das File »BILD«. Mit diesem File hat der Betreiber (Sysop) die Möglichkeit, die Anfangsmeldung seiner Box zu kreieren.

### 2.	[ML] INR

Das Listing muß mit dem MSE eingegeben und auf Diskette gespeichert werden. Startadresse dieses Maschinenprogramms ist $C000. Die Maschinenroutine wird automatisch, wenn man das Mailboxprogramm gestartet hat, nachgeladen und aktiviert.

Das Maschinenprogramm beinhaltet folgende Funktionen :
a) Mit SYS49152 wird die RS232-Schnittstelle eröffnet und die Pufferzeiger in den $C000-Bereich verbogen.

Würde man den Kanal in Basic eröffnen, würde der C 64 die beiden Ein-/Ausgabe-Puffer am Ende des Basic-Speichers anlegen und dadurch den Hauptspeicher um 512 Byte kürzen. Aber warum soll man den Basic-Speicher verschwenden, wenn man den $C000-Bereich dafür nutzen kann.
b)	DieZeiger$F157 (Input), $F1CA(Output) und $F13E (Get) werden »verbogen« und zeigen auf die eigene Routine. Dort erfolgen die Umrechnungen des ASCII-CBM-Codes. Damit spart man sich das lästige Konvertieren in Basic, was sich sicherlich auch in einer langsameren Geschwindigkeit auswirkt.

So genügt es einfach zu sagen: PRINT#2,"HALLO" um am User-Port reinen ASCII-Code zu senden.

Zum anderen ist dieser PRINT-Befehl auch für die Bildschirmausgabe zuständig. Mit einem einzigen PRINT erfolgt die Ausgabe auf dem Bildschirm und am User-Port. Dadurch erspart man sich die doppelten Ausgaben mit PRINT und PRINT #, was sich sicherlich auch vom Speicherplatz her bemerkbar macht.

Der GET #-Befehl ist im Gegensatz zum PRINT # nur für ein Eingabegerät zuständig.
c)	Die letzte Routine hat schließlich die Aufgabe, Texte von der Floppy auf dem Bildschirm und gleichzeitig auf dem User-Port auszugeben.

Unter anderem wird die Tastatur und der User-Port auf Eingaben abgefragt, und die Eingaben auf Steuerzeichen hin geprüft.
Mit den Codes
Ctrl/S Halt
Ctrl/Q Weiter
Ctrl/X Abbruch
Ctrl/N Nächster
kann die Textausgabe vom Benutzer gesteuert werden.

Nebenbei wird auch die Detect-Anzeige (CD-Leitung aktiv, Carrier erhalten) vom Koppler abgefragt und nach Ausbleiben die Textausgabe unterbrochen.

### 3.	MAILBOX

Um eine gewisse Übersicht und Struktur im Programm zu erreichen, wurden die einzelnen Funktionen in Programm-Blöcke aufgeteilt.

Diese sind nach ihrem Zweck entsprechend mit REM-Zeilen gekennzeichnet.

Die einzelnen Blöcke sind in Tabelle 1 dargestellt.

Die einzelnen Befehle für die Box kann man den Help-Listen entnehmen, so daß hier nur ein paar Befehle beschrieben werden sollen.

Da die Box sehr offen gehalten ist, kann sich jeder Anrufer selbst im System eintragen. Man gibt einfach »NU« ein, und danach seinen Namen, Stadt, Computer und das persönliche Paßwort. Nach einem »LOGOFF« wird man in die Benutzerliste aufgenommen und man kann sich dann mit dem Befehl UID <name> zu erkennen geben. Um einem anderen eingetragenen Benutzer eine persönliche Nachricht zu schicken, wird der Befehl PME angewendet. Das System fragt dann nach dem Namen und wenn vorhanden, kann man danach seine Nachricht im Texteditor eingeben und abspeichern.

Es besteht auch die Möglichkeit, sich die Anruferliste anzuschauen. Es gibt mehrere Arten der Ausgabe und Suche: UL Hiermit wird die gesamte Liste angezeigt.

TODO TABLE

ULA Es wird die Anzahl der eingetragenen Benutzer angezeigt.
ULN Es werden nur die Namen der Benutzer gezeigt
ULN.... Hiermit kann man direkt einen Benutzer suchen. Es wird der gesamte Name überprüft.
ULN ....* dito., allerdings wird nur die Anzahl der eingegebenen Zeichen überprüft.
ULS.... Es wird nach der Stadt gesucht (Funktion wie oben).
DULR.....Nach Computer suchen (Funktion wie oben).
ULD.... Nach Datum suchen (Funktion wie oben).
UIDA Mit diesem Befehl kann der Benutzer seine persönlichen Daten in der Datei ändern (beispielsweise neuer Computer, neue Stadt, etc.).
SOR Damit kann der Benutzer den Betreiber (Sysop) rufen, und wenn dieser anwesend ist, kann ein Gespräch (Chat) geführt werden.
PRO Es werden die Systemmeldungen unterdrückt.
Wenn man die Befehle kennt, ist es sehr nützlich die Help-Listen und Systemmeldungen blockieren zu können, da diese Ausgaben Zeit kosten, was sich in der Telefonrechnung niederschlägt.
Tl Man erhält das aktuelle Datum und Uhrzeit. Unter anderem wird die im System verbrachte Zeit angegeben.
PML Hat ein eingetragener Benutzer eine persönliche Nachricht erhalten, so kann er sie sich mit diesem Befehl noch einmal anschauen, da diese nach einem »LOGOFF« automatisch vom System gelöscht wird.
BE Einige Terminals verwenden ein akustisches Signal, um den Benutzer auf bestimmte Meldungen aufmerksam zu machen. Dieses kann mit diesem Befehl unterbunden oder freigegeben werden.
LF Bestimmte DFÜ-Programme brauchen ein Linefeed, um den Cursor eine Zeile nach unten zu bewegen, da bei ihnen ein RETURN den Cursor nur am Zeilenanfang plaziert (on/off- Modus)

Obwohl dieses Programm für den Mailbox-Betrieb geschrieben wurde, so besteht doch für den einen oder anderen die Möglichkeit, diese oder jene Funktion für andere Programme zu verwenden. Ein Beispiel wäre die Benutzerverwaltung. Damit kann man sich ein sehr komfortables Adressenprogramm mit Direktzugriff aufbauen.

Oder das Datum, das um 00.00 Uhr vom System automatisch erhöht wird. Schaltjahre werden selbstverständlich berücksichtigt.

### Compiler

Es ist sicherlich ratsam, das Programm zu compilieren. Es erhöht auf alle Fälle die Geschwindigkeit. Aber die Frage ist, welcher Compiler sich dafür eignet.

Der Petspeed eignet sich leider nicht dafür, da er Register in der Zeropage benutzt, die normalerweise der RS232 zugeordnet sind.

Der Bass-Compiler ist sehr mühsam, langsam und umständlich.

Bewährt haben sich der Austro- und der Austrospeed Compiler von Commodore.

Empfehlenswert ist der Basic 64 von Data Becker. Dieser bietet so viele Möglichkeiten wie kein anderer. Allerdings sind einige Bedingungen oder Einstellungen nötig:

Da Basic 64 den gesamten RAM-Bereich benutzt, somit auch den $C000-Bereich, wo die Maschinenroutine liegt, muß man dem Compiler klar machen, daß dieser Bereich für ihn tabu ist.

Das macht man, indem man in der Parameterliste des Compilers Basic 64 den Punkt »E« aufruft und dort die Adresse 49150 eingibt. Dadurch erkennt der Compiler, wo seine Grenze ist, und die Routine im $C000 Bereich bleibt erhalten.
Noch einmal die Abtippvorschriften:
Zuerst sollten Sie die beiden Basic-Programme (Listing 1 und 2) eintippen und auf Diskette speichern. Dann das Maschinenprogramm (Listing 3). Mit dem Programm »DATEI/SORT/-COPY« generieren Sie dann eine extra Datendiskette.

Die M.C.S.-Box, das heißt, das hier abgedruckte Programm im praktischen Einsatz, erreichen Sie über die Telefonnummer 040-2512371.

(Thomas Wieske/hm)

# DFÜ - Was ist das?

### Modem

Datenübertragungseinrichtung, die direkt an das Telefonnetz angeschlossen wird, also nicht über den Telefonapparat.

### Akustikkoppler

Datenübertragungseinrichtung, die über das Telefon an das Postnetz angeschlossen wird. Erkennbar sind Akustikkoppler an den Gummimuffen für die Aufnahme des Telefonhörers.

### Handshaking

»Handshaking« bezeichnet den Vorgang des Aussendens von Daten und des Wartens auf die Empfangsbestätigung des Computers, mit dem man den Datenaustausch vornimmt.

### Simplex

Wenn auf einer Datenübertragungsleitung Daten nur in einer Richtung übertragen werden können, bezeichnet man dies als Simplexbetrieb. Dieses Verfahren wird wegen der fehlenden Rückmeldemöglichkeiten jedoch selten angewandt.

### Halbduplex

Im Halbduplexbetrieb bestätigt der empfangende Computer den Empfang der Daten.

### Vollduplex

Im Vollduplexbetrieb können beide Computer gleichzeitig senden. Weiterhin wiederholt der empfangende Computer die Daten und sendet sie an den ersten Computer zurück. Stimmen diese Daten überein, wird das nächste Byte gesendet. Sind sie nicht korrekt, werden sie wiederholt.

### Baud-Rate

Die Baud-Rate bezeichnet die Geschwindigkeit mit der Daten übermittelt und empfangen werden. 300 Baud bedeutet, daß 300 Bits pro Sekunde übertragen werden.

### Paritätsbit

Um die Übertragungssicherheit zu erhöhen, wird jedes Byte durch ein zusätzliches Bit ergänzt. Die Ergänzung erfolgtso, daß die Summe der gleichartigen Binärzustände (0 oder 1) eine ungerade oder gerade Zahl ergibt. Wird kein Bit ergänzt, so hat die Übertragung keine Parität.

### Start/Stopp-Bits

Einige Computer verlangen die Übertragung einer bestimmten Anzahl von Null-Bits nachjedem Byte. Die Benutzung von je einem Stopp-Bit und einem Start-Bit ist am häufigsten.

### Treibersoftware, Terminalprogramm

Mit Treibersoftware oder Terminalprogramm bezeichnet man die Programme, die die Datenübertragung steuern. Mit ihnen wird zum Beispiel die Übertragung von Stopp-, Start-und Paritäts-Bits eingestellt und gesteuert.

### Mailbox

Eine Mailbox ist eine Art elektronischer Briefkasten. Es wird zwischen drei Kategorien unterschieden:

1.	Öffentliche Mailboxen (Zutrittfürjedermann)
2.	Private Mailboxen (Zutritt nur für eingetragene Benutzer)
3. Gemischte Mailboxen (öffentlicher und privater Bereich).

Alle drei Kategorien können gewerblichen Charakter haben. Im gewerblichen Bereich dienen Mailboxen oft zur Aufnahme von Bestellungen.

### Sysop

Der System-Operator ist der Betreiber einer Mailbox oder die Aufsicht am Mailbox-Computer.

### Übertragungs-/Eingangsprotokoll

Mit diesem Protokoll werden die Regeln festgelegt, die dem Übertragungsverfahren zugrunde liegen. Erst wenn beide Computer manuell oder automatisch auf das gleiche Übertragungsprotokoll eingestellt sind, kann eine sinnvolle Datenübertragung beginnen.

### Timeout

Der Timeout ist die Zeitspanne, die eine Mailbox auf die Eingabe des Benutzers wartet, bevor sie annimmt, daß der Benutzer die Verbindung beendet hat. Die Telefonverbindung wird dann auch von der Mailbox beendet, damit die Leitung für den nächsten Anrufer zur Verfügung steht.

### Gesamtzeitlimit

Das Gesamtzeitlimit ist das Zeitkonto des Benutzers innerhalb des Computersystems, mit dem er Kontakt aufgenommen hat. Erreicht der Anrufer sein Zeitlimit, wird die Verbindung automatisch beendet. Es soll verhindert werden, daß einzelne Benutzer einen Computer stundenlang blockieren. Das Zeitlimit von »eingetragenen Benutzern« ist meist größer bemessen als das von »Besuchern«.

### Answer/Originate

Wenn Sie mit einem Computer Verbindung aufnehmen, muß Ihr Modem oder Akustikkoppler auf »Originate« gesetzt sein. Dadurch wird das »Einführungsprotokoll« begonnen. Kommunizieren Sie direkt mit einem Computer, muß der eine im »Originate-«, der andere im »Answer-Modus« sein. Ist die Verbindung aufgebaut, spielt der Modus keine Rolle mehr.

### Datex-P

Datex-P ist ein Verbindungsnetz der Bundespost. Über zentrale Vermittlungsstellen kann meist über große Entfernung zum Orts-Tarif kommuniziert werden. Siehe auch »Die Netze der Post«, 64’er, Ausgabe 6/85, Seite 46.

### Btx

Service-Netz der Bundespost. Ausführlicher siehe auch »Die Netze der Post«, 64’er, Ausgabe 6/85, Seite 46.

### Telebox

Die Telebox ist eine von der Bundespost betriebene Mailbox. Sie ist nur für eingetragene Benutzer konzipiert.

### ISDN

Mit ISDN (Integrated Services Digital Network) wird der bis 1988 geplante Netzausbau der Bundespost bezeichnet.

### 7-Bit-, 8-Bit-Übertragung

Um den ASCII-Code darzustellen, benötigt der Computer nur sieben Bits. Mit dem Ausdruck 7-Bit-, 8-Bit-Übertragung wird angegeben, ob in einem übertragenen Byte sieben Datenbits (also der ASCII-Wert) und ein »Füllbit« (7-Bit-Übertragung) oder sieben Datenbits und ein Paritätsbit (8-Bit-Übertragung) enthalten sind.

### Wortlänge

Die Wortlänge bezeichnet die Anzahl der Bits in einem »Übertragungsbyte« beziehungsweise einer Übertragungseinheit. Sie besteht aus den Datenbits, dem Paritätsbit, dem Startbit und den Stopp-Bit(s). Bei acht Datenbits, einem Pari-tätsbit, einemStartbitund zwei Stopp-BitsistdieWortlänge = 12. Aus »Schlampigkeit« wird in der Datenfernübertragung in diesem Fall oft von einem »Byte« gesprochen, obwohl es 12 Bits beinhaltet.

### Datenendeinrichtung

Mit »Datenendeinrichtung« wird das Gerät »am Ende« einer Übertragungsleitung bezeichnet. Wird die Datenübertragung mit einem C 64 vorgenommen, so ist dieser die Datenendeinrichtung. Ein Modem oder Akustikkoppler ist dagegen ein Datenübertragungsgerät.

(hm)

TODO ASIDE

Sollten Ihnen Begriffe nicht klar geworden sein, oder sollten Sie Begriffe vermissen, die wir in dieser Übersicht nicht berücksichtigt haben, so schreiben Sie uns bitte.

# Ordnung im Lager

> Verschaffen Sie sich einen ständigen Durch- und Überblick über Ihren Lagerbestand und erleichtern Sie sich gleichzeitig die Jahresinventur.

Tippen Sie zuerst das Hauptprogramm »Artikel« (Listing 1) mit dem Checksummer ein, und speichern Sie es auf Diskette. Dann erstellen Sie sich eine Datendiskette. Die INPUT-Routine (Listing 2) geben Sie mit dem MSE ein, und speichern es auf der Datendiskette. Dann richten Sie sich die Datenfiles wie unten angegeben ein.

Das Programm ist durch eine Menüsteuerung leicht zu bedienen. In den jeweiligen Masken sind alle Angaben zur Programm-Steuerung enthalten. Nach Neueingaben, Änderungen, Streichungen, Stückzahleingaben etc. kommtimmer eine Abfrage »Daten abspeichern j/n?«. Durch die Verwendung einer sequentiellen Datei wurden schnelle Zugriffszeiten erreicht und die durch die unterschiedlichen Betriebssysteme der Drucker (zum Beispiel MPS 802) verschiedentlich auftretenden Probleme mit Relativdateien vermieden.

### Die Arbeitsweise des Programms

Das Programm wird mit »load "Artikel",8« geladen. Nach dem Start werden die bereits abgespeicherten Artikelstammsätze geladen und das Programm springt in das Hauptmenü. Das Programm gliedert sich wie folgt:

TODO NESTED ORDERED LIST

1.	Neueingabe von Artikelstammsätzen. In der Eingabemaske erscheint der jeweils letzte Datensatz.
Ein Artikelstammsatz besteht aus den folgenden Eingaben:
1.	Artikelbezeichnung bestehend aus maximal 22Zeichen.
Das erste Zeichen muß ein geSHIFTet eingegebener Buchstabe sein.
2.	Artikel-Nummer bestehend aus genau 10 Zeichen. Zwei Buchstaben, der erste geSHIFTet eingegeben = Firmenkurzzeichen, Dezimalpunktgefolgtvon einersechs-stelligen Dezimalzahl = Verkaufspreis.
3.	Einkaufspreis bestehend aus genau sieben Zeichen.
Sechsstellige Dezimalzahl
4.	Stückzahl maximal vierstellig
Die Eingaben werden nach den obigen Angaben abgefragt und bei Nichterfüllung zurückgewiesen.
2.	Änderungen
Durch Eingabe der Satznummer, angegeben jeweils in der ersten Spalte einer Liste beziehungsweise in der Bildschirmausgabe, erscheint der gewünschte Datensatz in der Eingabemaske. Die Werte können überschrieben beziehungsweise mit RETURN übernommen werden.
3.	Bildschirmausgabe
Die Bildschirmausgabe kann je nach Wunsch für alle Artikel oder alle Artikel einer Firma erfolgen. Auf dem Bildschirm erscheinen jeweils 17 Artikelstammsätze mit Satz-Nummer, Artikelbezeichnung (nur mit den ersten 10 Zeichen), Artikel-Nummer, Einkaufspreis und Stückzahl.
4.	Druckerausgabe
Eine Listenausgabe kann erfolgen über
1.	Alle Artikel ausdrucken
2.	Alle Artikel einer Firma ausdrucken
3.	Inventurliste drucken
Auf der Inventurliste erscheinen nur Artikel mit Stückzahl größer Null.
5.	Sortieren
Die Sortierroutine sortiert alle Artikelstammsätze nach Firmen und innerhalb der Firmen nach aufsteigender Artikel-Nummer. Somitsind alle Artikel nach derjeweiligen Artikel-Nummer = Verkaufspreis, in den Listen schnell zu finden.
6.	Streichen
Mit der Routine Sätze streichen, können nacheinander bis zu 100 Satznummern von zu streichenden Sätzen eingegeben werden.
Bei Fehleingabe kann mit der Pfeil-Links-Taste und RETURN die jeweils letzte Eingabe wiederholt werden. Nach jedem Streichungsvorgang sollte ein Sortiervorgang folgen.
69
Dateiverwaltung
C64
7.	Stückzahleingabe
Nach Eingabe der gewünschten Satz-Nummer erscheint der entsprechende Artikelstammsatz in der Eingabemaske. Der Cursor springt in das Eingabefeld Stück und die alte Stückzahl kann überschrieben werden. Hierdurch ist eine schnelle Stückzahländerung gegeben.
8.	Stückzahl auf Null setzen
Diese Routine setzt alle Stückzahlen auf Null (zum Beispiel vor der Inventur, wenn gewünscht).

Nach jeder Dateiänderung erfolgt die Abfrage »Datei abspeichern j/n«.

### Bitte beachten:

Um mit dem Artikel-Programm zu arbeiten, fertigen Sie sich am besten eine Datendiskette an. Da das Programm direkt nach dem Start nachlädt, müssen die INPUT-Routine sowie beide Datenfiles bereits auf Diskette verfügbar sein. Erstellen Sie die Datenfiles bitte wie folgt:

open 8,8,8, "Artikel-Nr.,s,w" :close8 (RETURN)
open 8,8,8,"Anzahl-Saetze,s,w": print#8,0;chr$(13):close 8 (RETURN)
Achten Sie unbedingt auf GroB-/Kleinschreibung

(Werner Demuth/og)

# Disketten-Verwaltung

> Viele kennen dieses Problem: Man hat 50 Disketten mit 400 Programmen. Jetzt noch ein bestimmtes Programm zu finden, kann ohne Computerunterstützung zurabendfüllenden Beschäftigung werden. Der Disk-Manager übernimmt diese Aufgabe für Sia

Der Disk-Manager (siehe Listing) wurde als Programm-Katalog konzipiert, der es erlauben soll, ein gesuchtes Programm durch Eingabe des Namens binnen kürzester Zeit zu finden.

Der Disk-Manager ist in der Lage, bis zu 300 Directories mit insgesamt bis zu 6500 File-Einträgen auf einer einzigen Diskettenseite zu speichern und zu verwalten. Trotz dieser hohen Speicherkapazitätwirdjedes Programm in wenigerals 30 Sekunden gefunden und durch Ausgabe des Diskettennamens spezifiziert.

Um diese hohe Geschwindigkeit zu erreichen, wurden relative Files in Kombination mit »Hash-Codes« verwendet.

Wie funktioniert das Programm? Zunächst einmal besitzt der Disk-Manager einen Menüpunkt »Directory einlesen & speichern«. Dieser Programmteil dientdazu, alle Disketteninhaltsverzeichnisse, die verwaltet werden sollen, einzulesen und in relativen Dateien auf der Disk-Manager-Datendiskette zu speichern. Sind erst einmal alle Disketten gespeichert, ist das Programm voll einsatzbereit: Mit dem Menüpunkt 1 wählen Sie die Programmsuche an und geben auf die Frage nach dem Programmnamen den Titel des gesuchten Files ein. Spätestens nach 30 Sekunden (meistens schon nach fünf bis zehn Sekunden) nennt Ihnen der Disk-Manager den Namen der Diskette(n) auf der beziehungsweise auf denen das gesuchte Programm gespeichert ist.

Aber wie schafft es der Disk-Manager nun, aus dieser Menge von Programmen (immerhin sind bis zu 6500 möglich) in so kurzer Zeit das Gesuchte herauszufinden? Nun, durch Verwendung einer Programmiertechnik, die speziell für solche Fälle konzipiert wurde. Kern dieser Technik ist eine sogenannte Hash-Funktion, die aus dem Suchbegriff (hier: der gesuchte Programmname) den Schlüsselcode berechnet.

## Tempo durch Hash-Codes

Der Disk-Manager verwendet zwei solcher Hash-Funktionen (siehe Programmlisting Zeilen 100 bis 250, Hash-Funktion 1 und 2).

Findet das Programm beim Einlesen eines Directories zum Beispiel den Programmnamen »HUGO«, so springt es mit GOSUB 100 die Hash-Funktion 1 an. Hier wird nun in einer FOR-NEXT-Schleifejedem Buchstaben des Strings »HUGO« der entsprechende ASCII-Wert zugeordnet, mit 26 multipliziert und zu den Zahlenwerten der übrigen Buchstaben addiert; Das Ergebnis ist dann eine Zahl zwischen 0 und 6500 (=maximale Fileanzahl).

Der errechnete Hash-Code wird dann in der Variablen id an das Hauptprogramm übergeben. Für »HUGO« ergibt sich id=3930. Der Disk-Manager speichert daher den Namen »HUGO« im Datensatz Nummer 3930. Wird später das Programm »HUGO« gesucht, so führt der Disk-Manager einfach die Hash-Code-Berechnung für »HUGO« durch, erhält wiederum id=3930, sieht im Datensatz Nummer 3930 auf der Datendiskette nach und findet dort die Informationen über das gesuchte File. Ist jedoch der entsprechende Datensatz leer, so ist das der Hinweis darauf, daß noch kein entsprechendes Programm gespeichert wurde.

Die Directory-Namen sind nach demselben Prinzip wie die Programmnamen in einem zweiten relativen File eingeordnet. Hier wird jedoch eine andere Hash-Funktion verwendet, um als Hash-Code eine Zahl zwischen 0 und 300 zu erhalten.

Die Datensätze sind untereinander durch Zeiger verknüpft. Jeder Directory-Datensatz enthält neben dem Diskettennamen, der Disk-ID und der Anzahl der freien Blöcke die Nummer des ersten Programmdatensatzes im Directory.

Entsprechend enthält jeder Programm-Datensatz außer dem Programmnamen noch die Datensatznummer des im Directory nachfolgenden Programms sowie die Nummer des dazugehörigen Directories.

## 6500 Programme gleichzeitig

Nun aber zur Bedienung des Programms: Beim ersten Programmstart wird man zweckmäßigerweise den Menüpunkt 7 zum Anlegen einer neuen Datendiskette anwählen. Legen Sie eine **leere** Diskette ins Floppy-Laufwerk und beantworten Sie die Sicherheitsabfrage, ob eine neue Datendiskette angelegt werden soll, mit »j«. Die Diskette wird dann für die Benutzung durch den Disk-Manager vorbereitet: sie wird formatiert(!), das Programm wird gespeichert und die Datenfiles werden angelegt. Dieser Vorgang dauert zirka acht Minuten, danach meldet sich das Programm mit dem Hauptmenü zurück. Mit Hilfe des Menüpunktes 6 (Speicherinfo) können Sie sich von nun ab stets über die aktuelle Speichersituation auf Ihrer Datendiskette informieren. Nach der Neuanlage erhalten Sie eine Meldung über 6501 freie Programm- und 301 freie Diskettendatensätze. Zur Speicherung dieser Information benutzt das Programm übrigens die Speicherstellen 200 bis 209 in Track 18 Sektor 0. Diese Speicherstellen sind normalerweise unbenutzt und mit chr$(0) gefüllt.

Mit Hilfe von Menüpunkt 2 lassen sich nun die Disketteninhaltsverzeichnisse einlesen und speichern. Voraussetzung für die korrekte Speicherung ist, daß alle Disketten verschiedene Namen tragen, andernfalls erhalten Sie die Meldung »Diskette XYZ wurde bereits gespeichert«, und die Speicherung wird abgebrochen. Zur Identifikation der Diskette wird nur der Teil des Diskettenkopfes verwendet, der in Hochkommata steht.

Das Einlesen und Speichern eines Directories dauert, je nach Anzahl der Directory-Einträge und Auslastungsgrad der Datenfiles, zirka eine halbe bis fünf Minuten. Wenn Sie also beabsichtigen, Ihre gesamte Diskettensammlung zu speichern, so ergibt das durchaus schon eine abendfüllende Beschäftigung. Besitzern von Compilern sei gesagt, daß eine Compilierung nicht möglich ist. Es ergeben sich Probleme bei der Arbeit mit den relativen Dateien. Sollten Siejemals bei der Speicherung die Meldung »Speicherung nicht möglich. Speicherplatz erschöpft.« erhalten, so haben Sie entweder versehentlich eine falsche Diskette ins Laufwerk gelegt, oder Sie haben 300 Disketten oder 6500 Files gespeichert. Hier noch ein Rat: Die Speicherkapazität der Datenfiles sollte nach Möglichkeit nur zu maximal 80% ausgelastet werden, da es sonst, bedingt durch die Hash-Code-Technik, zu wesentlich längeren Wartezeiten, insbesondere bei der Speicherung kommt.

Durch Anwahl von Menüpunkt 1 lassen sich, wie oben beschrieben, Programme durch Angabe des Namens suchen. Die Verwendung von »Jokern« wie » * « oder »?« ist jedoch unzulässig. Falls sich das gesuchte Programm auf mehreren Disketten befindet, werden alle Diskettentitel ausgegeben, die Ausgabe kann jedoch durch Drücken einer beliebigen Taste unterbrochen werden.

Mit Menüpunkt 3 kann man sich ein gespeichertes Directory ansehen. Geben Sie dazu den Namen der Diskette ein. Die Bildschirmausgabe kann auch hier durch Druck auf eine beliebige Taste abgebrochen werden.

Menüpunkt 4 löscht ein gespeichertes Directory. Auch hier muß nur der Diskettenname eingegeben werden.

Menüpunkt 5 dagegen löscht ein einzelnes Programm aus der Datei.

(Thomas Omerzu/tr)

# Rechnungshelfer

> Dieses Programm wurde speziell für die Verwendung in kleinen und mittleren Handwerksbetrieben geschrieben. Es übernimmt die Erstellung von Kostenvoranschlägen und Rechnungen, fertig zum Verschicken.

Das erste was Sie tun müssen, wenn Sie das Listing abgetippt haben, ist eine »Textdatei« zu erstellen. In dieser Textdatei sind alle möglichen Arbeiten Ihres Betriebes mit Einzelpreis verzeichnet. Jede Arbeit hat eine Schlüsselnummer. Später bei der Rechnungserstellung, brauchen Sie dann nur noch die entsprechende Nummer eingeben.

Löschen Sie bitte die Zeilen 90 und 100 aus dem Programm. Starten Sie es und wählen Sie Menüpunkt»6«. Jetzt müssen Sie sich überlegen, wie viele verschiedene Arbeitsgänge Sie ungefähr benötigen. Diese Zahl können Sie aber später wieder erweitern. Das Programm richtet jetzt auf der Diskette die relative Datei ein.

Tippen Sie die beiden gelöschten Zeilen wieder ein, und starten Sie das Programm neu.
Sie haben nun folgende Menüpunkte zur Auswahl:

1.	Textdaten eintragen
2.	Textdatei auf Bildschirm
3.	Textdatei drucken
4.	Textdatei korrigieren
5.	Angebot/Rechnung drucken
6.	Textdatei anlegen/erweitern

### 1.	Textdateneintragen

Jetzt können Sie jeder Schlüsselnummer einen bestimmten Text zuordnen. Dieser Text besteht aus zwei Zeilen zu je 40 Zeichen. Weiterhin können Sie jedem Einzelposten einen bestimmten Preis geben. Dieser Preis muß gegebenenfalls mit einer oder zwei Nullen aufgefüllt werden (zum Beispiel 4.00).

### 2.	Textdatei auf Bildschirm ausgeben

Hier können Sie sich eine Übersicht über Ihre Daten verschaffen. Mit einem beliebigen Tastendruck kommen Sie wieder ins Hauptmenü zurück.

### 3.	Textdatei drucken

Ihre Daten werden auf dem Drucker ausgegeben. Die Druck-Routine wurde für einen Epson-Drucker mit Wiesemann-Interface geschrieben, dürfte jedoch auch auf den Commodore-MPS-Druckern problemlos laufen. Einen Beispielausdruckzeigt Bild 1.

### 4.	Textdatei korrigieren

Wenn Sie einen Tippfehler gemacht haben, oder bestimmte Posten ändern wollen, wählen Sie diesen Menüpunkt an.

### 5.	Angebot/Rechnung drucken

Zuerst fragt der Computer, ob Ihre Firmendaten (Name, Berufszweig, Adresse, Kontonummer, etc.) gespeichertsind. Wenn Sie das erste Mal mit dem Programm arbeiten, müssen Sie diese erst eingeben. Danach drücken Sie bei dieser Frage einfach »RETURN«.

Als nächstes müssen Sie das Datum eingeben. Dabei sind Sie an keine Formatvorschrift gebunden, »18. September 1985« ist zum Beispiel auch erlaubt.

Die nächste Frage bezieht sich auf die Art des Ausdrucks: Kostenvoranschlag oder Rechnung. Dementsprechend können Sie entweder »mein Angebot«, oder »meine Rechnung« eingeben.

Danach folgen die Angaben zum Empfänger des Briefes: Anrede, Name, Adresse und der Verwendungszweck (»Betrifft..«).

Als letzten Punkt können Sie die eigentliche Rechnung zusammenstellen: Sie geben nur die entsprechende Schlüsselnummer, eventuell einen kurzen Kommentar und die Anzahl der Arbeiten ein (jeweils durch die »RETURN«-Taste abgeschlossen).

Einen Beispielausdruck zeigt Bild 2. DieAddition dereinzel-nen Posten geschieht dabei automatisch.

### 6.	Datei anlegen/vergrößern

Sollte die am Anfang eingegebene Anzahl an Datensätzen nicht ausreichen, so können Sie über diesen Menüpunkt die Datei vergrößern. Geben Sie dazu einfach die neue Anzahl an Datensätzen ein, alles weitere übernimmt das Programm. Selbstverständlich werden die alten Datensätze dabei nicht gelöscht.

(Herbert Krügler/tr)

# Datei total

> Database ist eine komfortable Dateiverwaltung für den C 64 mit einigen außergewöhnlichen Leistungsmerkmalen. Nahezu beliebige Datenfeld-und Datensatzlängen, Formatier- und Rechenfunktionen sind nur einige Stichworta Ein Programm, das zu besitzen sich lohnt.

Ein Wort zu Anfang: Sie werden zu Database kein Listing in diesem Heft finden. Dies hat folgenden Grund: Das Programm besteht aus insgesamt elf Einzelprogrammen, die zusammen 25 (in Worten: fünfundzwanzig!) Seiten Listing ergeben würden. Wir waren der Meinung, daß dies zum Abtippen nicht zumutbar ist. Darum ist Database nur auf der Leserservice-Diskette zu diesem Heft erhältlich.

Das Programm besteht aus insgesamt drei Hauptteilen: Den beiden Ladeprogrammen, dem Teil »Neue Datei entwickeln« und dem Teil »Datenpflege«, die aus speicherplatztechnischen Gründen als Einzelprogramme vorliegen (ein vierter Teil, die sogenannten »Sonderfunktionen«, kann von Ihnen gegebenenfalls ergänzt werden. Dieses Zusatzprogramm muß nur zwei Bedingungen erfüllen: Es muß sich um ein Basic-Programm handeln und unter dem Namen »Soft« auf Diskette gespeichert sein.).

Wenn Sie LOAD "DBL",8,1 eingeben, wird das Lade-Programm eingeladen und automatisch gestartet. Innerhalb dieses Lade-Programms können Sie durch Drücken der entsprechenden Taste den von Ihnen gewünschten Programmteil laden und ebenfalls automatisch starten.

### Entwicklung einer neuen Datei

Zunächst ein paar allgemeine Anmerkungen:
Die Hauptmenüs der beiden Programmteile »Neue Datei entwickeln« und »Datenpflege« bestehen aus jeweils zwei Seiten. Durch Drücken der »RETURN«-Taste kann auf diejeweils andere Seite umgeschalten werden. Zum Aufruf der einzelnen Untermenüs dienen die Funktionstasten »F1«- »F8«. Aus allen Untermenüs kommen Sie mit »SHIFT« + »RETURN« wieder ins Hauptmenü zurück. (Wenn Sie also einmal eine Programmfunktion aus Versehen aufgerufen haben, einfach »SHIFT« + »RETURN« drücken und Sie befinden sich wieder an der Aufrufstelle.) Mit Ausnahme der Definition der Eingabemaske einer Datei müssen alle Eingaben (zum Beispiel Dateinamen) mit »RETURN« abgeschlossen werden!

Sie sehen, die Bedienung von Database ist wirklich sehr einfach. Eine Übersicht über alle Programmfunktionen und deren Aufrufmöglichkeiten finden Sie übrigens in Bild 1.

Database ist eine Dateiverwaltung. Was das genau heißt, soll im folgenden kurz erläutert werden. Zunächst zum Begriff Datei. Eine Datei können Sie sich vorstellen als »elektronischen Karteikasten« mit vielen gleichartigen »Karteikarten«. Einer »Karteikarte« entspricht dabei ein sogenannter »Datensatz« der Datei. Jeder Datensatz unterteilt sich wiederum in verschiedene »Datenfelder«; den einzelnen Eintragungen auf der »Karteikarte«.

Eine Dateiverwaltung wie Database ist ein Programm, mit dem Sie beliebige Arten von Dateien verwalten können. Im Gegensatz zu zum Beispiel einer Adressenverwaltung, bei der über ein vorgegebenes Eingabeschema (zum Beispiel »Name«, »Vorname«, »Strasse«, »Wohnort«, etc.) eben nur Adressen eingegeben werden können, sind Sie bei Database in der Wahl des Eingabeschemas (der sogenannten »Eingabe-« oder »Dateimaske«) völlig frei, das heißt, Sie können die Bereiche (die sogenannten »Datenfelder«), in die später Daten eingegeben werden sollen, an beliebigen Positionen auf dem Bildschirm verteilen. Darüber hinaus kann sich die Eingabemaske überinsgesamtfünf (!) Bildschirmseiten erstrecken. Und natürlich können Sie das Ganze mit beliebigen Kommentaren und »Verzierungen« versehen. Dafür steht Ihnen der gesamte Zeichensatz des Computers zur Verfügung.

Nachdem die Grundbegriffe geklärt sind, kommen wir zur Praxis: Um eine neue Datei zu entwickeln, müssen Sie Teil 1 von Database einladen (im Lademenü »F1« drücken). Über den Menüpunkt »Bildschirmmaske entwerfen« (siehe Bild 1) kommen Sie in die Eingabemaskendefinition. Der Cursor blinkt jetzt am Anfang der 2. Bildschirmzeile. Für die Entwicklung der Eingabemaske stehen Ihnen die 2. - 22. Bildschirmzeile (künftig »Dateiseite« genannt) zurVerfügung. In diesem Bereich kann der Cursor mit den üblichen Tasten frei bewegt werden. Wie schon gesagt, kann die Eingabemaske auf bis zu fünf Seiten verteilt werden. Dazu können Sie mit »F5« auf die jeweils nächste, mit »F7« auf die jeweils vorherige Seite »umschalten«. Mit »F8« kann durch Angabe der Nummer der gewünschten Seite und anschließendem »RETURN« eine Seite direkt aufgerufen werden (also zum Beispiel von Seite 1 auf Seite 5 umgeschalten werden). Zusätzlich zu diesen Befehlen gibt es noch eine Reihe weiterer Kommandos, die die Entwicklung der Eingabemaske komfortabler und leichter machen. Eine Zusammenfassung dieser Editorbefehle finden Sie in Bild 3.

Im folgenden wird auf den wohl wichtigsten Befehl - nämlich den zur Definition eines Datenfeldes - ausführlich eingegangen.

### a)	Datenfeld einrichten

Wie schon erwähnt, kann ein Datenfeld an beliebiger Stelle innerhalb einer Dateiseite auf dem Bildschirm positioniert werden. Dazu müssen Sie als erstes den Cursor auf den gewünschten Feldanfang positionieren und danach die »F6«-Taste drücken. An der Position des Cursors erscheint jetzt das »kleiner«-Zeichen (<) zur Kennzeichnung des Feldanfangs.

Eine Stelle weiter wird der Feldtyp festgehalten. Insgesamt stehen fünf Typen zur Auswahl (nähere Informationen dazu etwas weiter unten):
T : Textfeld
S : Schlüsselfeld
D : Datumsfeld
N : numerisches Feld
E : Rechenfeld

Festlegen können Sie den Feldtyp ganz einfach dadurch, daß Sie die entsprechende Taste (also T, S, D, N oder E) drücken. Rechts neben dem Feldtyp befindet sich das »grö-ßer«-Zeichen (>) zur Kennzeichnung des Feldendes. Dieses Feldende können Sie mit »CRSR RIGHT« nach rechts und mit »CRSR LEFT« nach links verschieben. Die aktuelle Feldlänge wird dabei in der oberen Bildschirmzeile rechts angezeigt. Hat das Feld seine gewünschte Länge erreicht, drücken Sie »RETURN«. Das Feld ist nun eingerichtet.

### b)	Die Feldtypen:

1.	Der in der Regel wohl am meisten verwendete Feldtyp ist das **Textfeld (T)**. Eingaben in ein solches Feld werden genau so übernommen, wie Sie sie eingeben, das heißt, am Feldinhaltwerden keinerlei Veränderungen vorgenommen. Natürlich können in ein Textfeld Zahlen oder Texte und Zahlen gemischt eingegeben werden. Zur Feldlänge: Ein Textfeld kann sich maximal über eine gesamte Dateiseite erstrecken und hat dann eine Länge von immerhin 838 Byte!
2.	Zu jeder Datei gehört genau ein ***Schlüsselfeld (S)*** . Das Schlüsselfeld entspricht, was die Behandlung der eingegebenen Daten und die Feldlänge betrifft, dem Textfeld. In Bezug auf die Organisation des Datenbestandes einer Datei kommt ihm aber eine spezielle Bedeutung zu: Zu jeder von Ihnen definierten Datei wird eine Schlüssel- oder Indexdatei angelegt, die die Schlüssel, das heißt, die Inhalte des Schlüsselfeldes, und die Position aller Datensätze innerhalb der relativen Hauptdatei enthält. Über diese Schlüsseldatei, die später bei der Datenpflege immer vollständig in den Computer geladen wird, ist ein sehr schneller Zugriff auf jeden beliebigen Datensatz der Datei möglich.<br>Um nun einerseits die Maximalanzahl der Datensätze möglichst groß und andererseits die Länge des Indexfeldes nach Möglichkeit beliebig zu halten, wird nicht der gesamte Inhalt des Schlüsselfeldes, sondern nur ein von Ihnen anzugebender Teil des Feldes als Datensatzschlüssel übernommen. Diese »Anzahl der relevanten Stellen des Schlüsselfeldes« wird bei der Übernahme der Eingabemaske (durch den Menüpunkt »Datei einrichten«) abgefragt. Ein Beispiel: Angenommen, Sie haben ein 50 Byte langes Schlüsselfeld definiert und geben als relevante Stellen »3« an, dann werden bei der Dateneingabe nur die ersten drei Zeichen des Schlüsselfeldes als Schlüssel übernommen.
3.	Das **Datumsfeld (D)** nimmt eine Sonderstellung ein. Es hat eine feste Länge von 13 Byte und dient - wie der Name schon sagt - zur komfortablen Eingabe eines Datums. Dieses muß in folgender Form eingegeben werden: »TT.MM.JJJJ« (zum Beispiel »01.11.1983«), Wird ein falsches Datum angegeben (zum Beispiel. »35.13.1980«), dann wird im hinteren Teil des Feldes die Meldung »/F!«ausgegeben. Ist das Datum korrekt, wird der zugehörige Wochentag berechnet und durch »/« getrennt hinter dem Datum ausgegeben.
4.	Das **numerische Feld oder Zahlenfeld (N)**: Ein kleines Beispiel soll Sinn und Zweck dieses Feldtyps erläutern. Angenommen, Sie haben ein Feld, in das bis zu vierstellige Geldbeträge in der üblichen Form (also mit zwei Nachkommastellen) eingegeben werden sollen. Natürlich können Sie dieses Feld auch als Textfeld definieren. Wollen Sie aber sicherstellen, daß die eingegebenen (beziehungsweise gespeicherten) Zahlen auch tatsächlich das gewünschte Format (in diesem Fall also vier Vorkomma- und zwei Nachkommastellen) aufweisen, dann definieren Sie das Feld als Zahlenfeld und geben eine entsprechende Formatiervorschrift ein. Diese Vorschrift kann allerdings nicht direkt bei der Definition der Eingabemaske angegeben werden, sondern die Eingabe muß über den Menüpunkt »Datei einrichten« erfolgen (nähere Informationen dazu daher etwas weiter unten). Zunächst kommen wir zum letzten und wohl interessantesten Feldtyp, dem Rechenfeld.
5.	Das **Rechenfeld (E)**: Dieser Feldtyp bietet Ihnen die Möglichkeit, Berechnungen innerhalb eines Datensatzes durchführen zu lassen, das heißt, es können beliebige Feldereines Datensatzes - egal ob Text-/Schlüssel-/Zahlen- oder selbst Rechenfeld - rechnerisch miteinander verknüpft werden. Das Ergebnis der Berechnung wird dann in dem entsprechenden Rechenfeld abgelegt. Auch hier muß die Eingabe der notwendigen Rechenvorschrift über den Menüpunkt »Datei einrichten« erfolgen. An dieser Stelle daher nur noch ein paar Worte zur Länge der Rechenfelder (und auch der Zahlenfelder): Weder bei den Rechen- noch bei den Zahlenfeldern wird die Länge der Felder kontrolliert. Natürlich sind aber nur Feldlängen (beziehungsweise Formatiervorschriften) sinnvoll, die innerhalb des Rechenbereichs beziehungsweise der Rechengenauigkeit des Computers liegen.

### c)	Datei (auf Diskette) einrichten:

Wenn Sie mit der Definition der Eingabemaske fertig sind, drücken Sie »SHIFT« + »RETURN« und - im Hauptmenü angekommen - die »F7«-Taste. Dadurch beginnt die »Übernahme» der Eingabemaske durch das Programm (die Datenfeldanfänge und -enden werden ermittelt, die Feldtypen festgestellt und so weiter) und die Einrichtung der Datei auf Diskette.

Haben Sie Rechen- oder Zahlenfelder definiert, dann werden Sie hier automatisch aufgefordert, die zugehörigen Vorschriften einzugeben. Das gerade bearbeitete Feld wird dabei durch revers dargestellte Feldbegrenzungen gekennzeichnet:

Zuerst müssen Sie die Formatiervorschriften für die Zahlenfelder und die Rechenfelder(!), diejaauch Zahlen als Ergebnis der durchgeführten Berechnungen enthalten, eingeben. Dazu setzen Sie einfach in den beiden im unteren Bildschirmbereich befindlichen, revers dargestellten Bildschirmzeilen den Punkt (».«) an die Stelle, an der er später im Zahlenfeld (beziehungsweise Rechenfeld) stehen soll. Die anderen Stellen können Sie - nur als Hilfe - mit irgendeinem anderen Zeichen auffüllen. Registriert wird auf jeden Fall nur der Punkt. Damit die so definierte Vorschrift übernommen wird, müssen Sie »RETURN« drücken. (Im weiter oben erwähnten Beispiel mit dem vierstelligen Geldbetrag sähe die Vorschrift also zum Beispiel so aus: »1111.11«.) Kommen auch negative Zahlen vor, muß für das Vorzeichen eine zusätzliche Vorkommastelle reserviert werden. (Im Beispiel: »11111.11«)

Nachdem Sie alle Formatiervorschriften auf diese Weise eingegeben haben, müssen Sie die Rechenvorschriften eingeben. Zur Erleichterung der Eingabe sind alle Datenfelder -am Bildschirm sichtbar - fortlaufend durchnumeriert. Außerdem kann mit »F5« (vorblättern) und »F7« (zurückblättern) die Dateimaske »durchgeblättert« werden. Das ist sehr nützlich, wenn Sie zum Beispiel eine dreiseitige »Karteikarte« entwickelt haben und in die Berechnung für ein Rechenfeld auf Seite 3 verschiedene Datenfelder der Seiten 1 und 2 einbeziehen wollen. Mit »F5« können Sie dann auf die Seite 1 beziehungsweise 2 umschalten, um so die laufende Nummer der betreffenden Felder zu ermitteln. In die Berechnung einbezogen wird ein Feld jetzt einfach durch Angabe von »F (Feldnummer)« (zum Beispiel F(1) für Feld 1, F(2) für Feld 2 und so weiter). Die Berechnungsformel wird - wie die Formatierungsvorschrift - in die beiden revers dargestellten Bildschirmzeilen im unteren Bildschirmbereich eingegeben und darf maximal 72 Byte lang sein. An Formelelementen sind alle

von Basic gewohnten Rechenoperatoren und -funktionen zugelassen (also auch SQR, LOG, SIN und so weiter).
Zwei Beispiele:

TODO TABLE

F(1) + F(9)	weist dem betreffenden Rechenfeld die
Summe aus dem Inhalt von Feld 1 und Feld 9 zu.
F(2) + F(3)*F(17) weist dem betreffenden Rechenfeld den Inhalt des Feldes 2 + das Produkt aus Feld 3 und Feld 17 zu.

Natürlich kann es bei der Eingabe der Rechenvorschriften sehr leicht zu einer Fehleingabe kommen. Da diese in den allermeisten Fällen (bei der Datenpflege) zu einem Programmabbruch führt, werden Sie vom Programm vor der ersten Vorschriftseingabe gefragt, ob eine Syntaxkontrolle durchgeführt werden soll. Beantworten Sie die Frage mit »ja«, wird jede Eingabe auf korrekte Syntax untersucht und gegebenenfalls auf einen Fehler aufmerksam gemacht. Natürlich können aber von dieser Kontrollroutine nicht alle Fehler erkannt werden. Daher sollten Sie von vorneherein bei der Eingabe sehr sorgfältig sein und insbesondere auch auf mögliche Bereichsüberschreitungen (negative Zahlen bei Wurzeln, 0 bei der Division) achten, da es dadurch ebenfalls zu einem Programmabbruch kommt.

Nach Eingabe aller Formatier- und Rechenvorschriften sind noch einige Angaben erforderlich, bevor die Datei auf Diskette eingerichtet werden kann:

Zuerst werden Sie nach dem gewünschten Namen der Datei gefragt, der maximal 14 Zeichen lang sein darf. Beantworten Sie die nachfolgende Frage nach dem Zeichensatz mit »ja«, wird der im Computer befindliche (eventuell geänderte) Zeichensatz (nähere Informationen dazu weiter unten) unter dem Namen der Datei gespeichert und später (bei der »Datenpflege«) automatisch mit der Datei eingeladen. Beantworten Sie die Frage mit »nein«, werden Sie gefragt, ob Sie einen anderen Zeichensatz verwenden wollen, dessen Namen Sie gegebenenfalls eingeben müssen. Angenommen, Sie haben einen deutschen Zeichensatz entwickelt, den Sie in verschiedenen Dateien verwenden wollen. Dann wäre es natürlich wenig sinnvoll und würde unnötig Diskettenkapazität kosten, wenn der Zeichensatz zu jeder Datei extra gespeichert würde. Daher haben Sie die Möglichkeit, den Namen eines beliebigen, auf der Diskette gespeicherten Zeichensatzes anzugeben, der dann bei der »Datenpflege« ebenfalls automatisch mit der Datei geladen wird.

Zuletzt werden Sie nach der (bei der Besprechung des Schlüsselfeldes schon erwähnten) »Anzahl der relevanten Stellen des Schlüsselfeldes« gefragt. Nochmal zur Erinnerung: Später bei der Dateneingabe werden nur soviel Stellen des Schlüsselfeldes als Schlüssel übernommen, wie Sie hier angeben. Die kleinste Anzahl ist dabei 1, die größte 30, wobei zu beachten ist: Je kleiner Sie die Schlüssel wählen, desto mehr Datensätze können Sie in einer Datei unterbringen! Die Maximalanzahl MD der Datensätze errechnet sich nach folgender Formel: MD=INT(2250/(AS+3)); wobei AS die Länge der Schlüssel ist. Bei einer Schlüssellänge von drei Byte, was bei einer Adreßdatei mit dem Nachnamen als Schlüsselfeld vollauf genügt, können Sie also immerhin 375 Datensätze in der betreffenden Datei unterbringen. Im übrigen ist es unerheblich, wenn ein Schlüssel in einer Datei mehrfach vorkommt. Bei der Datenausgabe wird darauf durch eine entsprechende Meldung hingewiesen.

Nach dieser letzten Information dauert es geraume Zeit, bis die Datei auf Diskette eingerichtet ist. Am Ende kehrt das Programm wieder ins Hauptmenü zurück. Zuvor wird allerdings gefragt, ob Sie mit der Dateimaske weiterarbeiten wollen. Antworten Sie mit »ja«, bleibt die Eingabemaske im Computer erhalten und kann für die Entwicklung weiterer Daten benutzt werden. Bei einem »nein« wird der Eingabemaskenspeicher im Rechner gelöscht.

Um das bisher Gesagte zu verdeutlichen, soll an einem praktischen Beispiel - einer kleinen Rechnungsverwaltung -die Entwicklung einer Datei demonstriert werden. Sehen Sie sich dazu bitte Bild 4 an: Links oben sehen Sie die Eingabemaske so, wie Sie sie bei der Definition eingeben müssen. Dabei dürfte es wohl keine Schwierigkeiten geben. Als Schlüsselfeld wurde das Feld »Lieferant« gewählt. Die Felder »Artikelnummer« (Art.Nr.), »Einzelpreis« (EP) und »Anzahl« (ANZ) sind numerische Felder. Bei den Feldern »Gesamtpreis« (GP), »Gesamtsumme«, »Mehrwertsteuer« und »Rechnungsbetrag« handelt es sich um Rechenfelder. Das »Tele-fon«-Feld wurde, da es auch nichtnumerische Zeichen enthält (»/« beziehungsweise»—« zur Abtrennung der Vorwahl), nicht als numerisches, sondern als Textfeld definiert.

Haben Sie die Dateimaske komplett eingegeben, dann drücken Sie bitte »SHIFT« + »RETURN« und anschließend »F7«. Nach kurzer Zeit erscheint die Eingabemaske in der Form, wie Sie sie in Bild 4 rechts oben sehen. Alle Datenfelder sind fortlaufend durchnummeriert. (Bei Feldern mit einer Länge kleiner als fünf Zeichen - in diesem Fall die »Anzahl«-Felder - ist die Numerierung aus Platzgründen nicht auf dem Bildschirm sichtbar.)

Als erstes müssen Sie jetzt die folgenden Formatvorschriften eingeben. (Die Feldgrenzen des gerade bearbeiteten Feldes werden revers dargestellt. Nach jeder Formateingabe müssen Sie RETURN drücken!):

TODO TABLE

Feld 3: 1111 (die »1« dient wie gesagt nur als »Füllzeichen. Dazu können Sie auch jedes andere Zeichen verwenden. Entscheidend ist, an welcher Stelle der Punkt (».«) steht)
Feld 6: 111111
Feld 7: 111.11
Feld 8: 11
Feld 9: 111.11
Feld 10: 111111
Feld 11: 111.11
Feld 12: 11
Feld 13: 111.11
Feld 14: 111111
Feld 15: 111.11
Feld 16: 11
Feld 17: 111.11
Feld 18: 1111.11
Feld 19: 111.11
Feld 20: 1111.11

Die anschließende Frage betreffend der Syntaxkontrolle beantworten Sie sicherheitshalber mit »ja«. Danach geben Sie die folgenden Rechenvorschriften ein:
- Feld 9: F(7)*F(8)
- Feld13: F(11)*F(12)
- Feld17: F(15)*F(16)
- Feld18: F(9) + F(13) + F(17)
- Feld19: 0.14*F(18)
- Feld20: F(18) + F(19)

Als Namen der Datei geben Sie schließlich «rechnungen« ein. Die beiden Fragen nach dem Zeichensatz beantworten Sie mit »nein«. Bei der »Anzahl der relevanten Stellen des Schlüsselfeldes« dürften »5« genügen. Damit sind alle notwendigen Informationen eingegeben; die Datei wird auf Dis- f kette eingerichtet.

### d)	Änderungsmöglichkeiten:

Zunächst zu den Änderungsmöglichkeiten während der Dateimaskendefinition beziehungsweise bei einer Datei, in die noch keine Daten eingegeben wurden. (Eine auf Diskette eingerichtete Datei können Sie übrigens über den Menüpunkt »Datei einladen« (siehe Bild 1) in den Computer laden, um Änderungen an der Eingabemaske vorzunehmen):

An den Datenfeldern können grundsätzlich beliebige Änderungen vorgenommen werden (an den Kommentaren und Bemerkungen natürlich auch). Es können also ohne weiteres Datenfelder gelöscht, verkleinert (mit »DELETE«) oder vergrößert werden (mit »INSERT«), Auch der Feldtyp kann einfach durch Überschreiben des ursprünglichen Codes mit der neuen Kennzeichnung geändert werden. (Wenn Sie zum Beispiel aus einem Textfeld ein Zahlenfeld machen wollen, müssen Sie nur das »T« durch ein »N« ersetzen.) Wichtig ist nur, daß die einzelnen Datenfelder (bis auf die erste Stelle, die ja den Feldtyp-Code enthält) vollständig mit dem bei der Einrichtung der Felder erzeugten Füllzeichen (CHR$(166)); entspricht »COMMODORE« + »+«) aufgefüllt sind! Ist das nämlich nicht der Fall, dann wird das betreffende Feld bei der Übernahme der Eingabemaske vom Programm nicht erkannt.

Wenn Sie zum Beispiel bei der Übernahme der Eingabemaske durch die Routine »Datei einrichten« (während der Eingabe der Formatier- und Rechenvorschriften) einen Fehler in der Eingabemaske entdecken, können Sie die Übernahme mit »SHIFT« + »RETURN« abbrechen und anschließend mit »F1« wieder in die Eingabemaskendefinition gelangen.

Eine gerade in Arbeit befindliche Eingabemaske kann über den Menüpunkt »Dateimaske abspeichern« (siehe Bild 1) auf Diskette unter einem frei wählbaren Namen zwischengespeichert werden, um dann zu einem späteren Zeitpunkt über den Menüpunkt »Dateimaske einladen« (siehe Bild 1) wieder in den C 64 geladen zu werden. Dadurch ist es möglich, die Entwicklung einer Datei abzubrechen, ohne später bei der Weiterarbeit die Eingabemaske (beziehungsweise den Teil der bereits definiert wurde) noch einmal neu eingeben zu müssen.

Bei einer Datei, in die bereits Daten eingegeben wurden, sind die Änderungsmöglichkeiten schon geringer.

Bei den Kommentaren und Bemerkungen gibt es keine Probleme. Hier können beliebige Änderungen vorgenommen werden. Auch die Positionen der Datenfelder können verändert werden. Dabei ist allerdings darauf zu achten, daß erstens die Reihenfolge der Datenfelder nicht verändert wird und zweitens die Länge der einzelnen Datenfelder nicht geändert wird, das heißt, die Felder weder verkleinert noch vergrößert werden.

### e)	Änderung des Zeichensatzes:

Über den Menüpunkt »Zeichensatz ändern« gelangen Sie in die Zeichensatzänderungsroutine.
Dabei gehen Sie folgendermaßen vor:

-	Zuerst stellen Sie den gewünschten Schriftmodus ein.<br>Dazu befindet sich in der unteren Bildschirmhälfte ein kleines Auswahlmenü:
-	Mit »F4« schalten Sie den Grafik-Modus, mit »F2« den Groß-/Kleinschrift-Modus ein.
-	Mit »F8« können Sie auf »RVS on«, mit »F6« auf »RVS off« umschalten.
-	Danach drücken Sie die gewünschte Taste. Dadurch wird die Matrix des betreffenden Zeichens auf der rechten Bildschirmhälfte ausgegeben.
-	Nun können Sie Änderungen an der Matrix vornehmen. Dafür stehen Ihnen neben der üblichen Cursorsteuerung folgende Kommandos zur Verfügung:
-	»F1«: Matrixpunkt setzen
-	»F3«: Matrixpunkt löschen
-	»F5«: gesamte Matrix löschen
-	»F7«: geänderte Matrix übernehmen

(Hinweis: Um zu verhindern, daß der Aufbau der Menüs zerstört wird, ist die Zeichensatzänderung nur im Bereich der Dateimaske und des Helpscreens 2 wirksam.)

Mit »SHIFT« + »RETURN« können Sie jederzeit in das Hauptmenü zurückkehren.

Noch ein Tip: Wollen Sie größere Änderungen am Zeichensatz vornehmen, ist es wohl am sinnvollsten, wenn Sie die gewünschten Matrizen zuerst auf einem entsprechend gerasterten Blatt Papier entwerfen und sie danach auf den Bildschirm übertragen. Die Zahlen um das Matrixfeld auf dem Bildschirm sind Ihnen dabei behilflich.

### f)	Änderung der Tastaturbelegung:

Über den Menüpunkt »Tastaturbelegung ändern« gelangen Sie in die Tastaturänderungsroutine. Dieses Programmodul stellt an sich nur eine Erweiterung der Zeichensatzänderung dar, das heißt, tatsächlich wird nicht die Belegung der Tastatur geändert, sondern nur die Zeichenmatrizen entsprechend ausgetauscht.

Haben Sie »F5« gedrückt, gelangen Sie in ein weiteres Auswahlmenü:

-	Mit »F1« läßt sich die Belegung einer Taste ändern.
-	Mit »F3« können Sie zwei Tasten vertauschen.

Bevor Sie die entsprechenden Tasten drücken, müssen Sie, wie bei der Zeichensatzänderung, den gewünschten Schriftmodus einstellen.

Wichtig: Die Belegung einer Taste wird immer nur in dem eingestellten Schriftmodus geändert, das heißt, wenn Sie zum Beispiel den Groß-/Kleinschriftmodus und »RVS off« ein-stellen und danach die Tasten »Y« und »Z« vertauschen, ist diese Änderung im Graphikmodus und bei »RVS on« nicht wirksam! Genauso müssen auch die »geSHIFTeten« Tasten extra geändert werden!

Auf den ersten Blick wirkt dies vielleicht etwas umständlich. Andererseits eröffnen sich dadurch aber wesentlich mehr Möglichkeiten der Veränderung. So können Sie zum Beispiel - auch in Verbindung mit der »Zeichensatzänderung« - aus einem Zeichensatz praktisch zwei machen, indem Sie zum Beispiel im Groß-/Kleinschriftmodus den normalen Zeichensatz beibehalten und im Graphikmodus einen entsprechenden griechischen Zeichensatz entwickeln. Zwischen diesen beiden Zeichensätzen können Sie dann einfach mit »COMMODORE« 4- »SHIFT« umschalten! Mit »SHIFT« + »RETURN« können Sie jederzeit in das Hauptmenü zurückkehren.

### Dateneingabe

Um Daten in eine Datei eingeben zu können, müssen Sie Teil 2 von Database einladen. (Im Lademenü »F3« drücken.)

Für jede Diskette, auf der sich Daten befinden, führt Database ein Inhaltsverzeichnis, das »Datei-Directory«. Dieses wird auf der Diskette als sequentielles File gespeichert. Neben den Namen der einzelnen Dateien enthält es auch Angaben über die Anzahl der Dateiseiten und die aktuelle Anzahl der Datensätze einer Datei. Bei der Definition einer neuen Datei wird das Datei-Directory automatisch aktualisiert beziehungsweise - wenn noch nicht vorhanden - automatisch angelegt. Auch bei der Datenpflege wird es ständig auf dem neuesten Stand gehalten. Über den Menüpunkt »Datei-Directory« (siehe Bild 1) und durch anschließendes Drücken der »F2«-Taste kann das Datei-Directory angezeigt werden.

Darüber hinaus können Sie mit »F3« eine Datei löschen, mit »F5« eine Datei umbenennen und mit »SHIFT« + »RETURN« ins Hauptmenü zurückkehren.

Doch zurück zur Dateneingabe: Um eine Datei zur Datenpflege in den Computer zu laden, gibt es zwei Möglichkeiten: Entweder, Sie drücken im Dateidirectorymodul »F1« oder im Hauptmenü »F3«. In beiden Fällen müssen Sie den vollständigen Namen der gewünschten Datei eingeben und anschließend »RETURN« drücken. (Übrigens: Der Name der gerade im Rechner befindlichen Datei wird bei der Ausgabe des Dateidirectorys revers dargestellt!)

Nach Beendigung des Ladevorgangs ist die Datei zur Datenpflege bereit. Über das Hauptmenü kann jetzt beliebig zwischen den einzelnen Programmfunktionen umgeschaltet werden. Sie können also zum Beispiel zuerst neue Daten eingeben, danach in die Datenausgaberoutine verzweigen, und so weiter.

Über den Menüpunkt »Daten eingeben« (siehe Bild 1) können Sie jetzt mit der Dateneingabe beginnen. In diesem Zusammenhang gleich noch ein wichtiger Hinweis: Wenn Sie am Datenbestand einer Datei Änderungen vornehmen (also insbesondere neue Daten eingeben, aber auch Datensätze löschen oder ändern), ist davon natürlich auch die Schlüsseldatei, die sich ja im Speicher befindet, betroffen. Am Ende der Dateiarbeit muß diese daher über den Menüpunkt »Datei speichern« (siehe Bild 1) auf die Diskette zurückgeschrieben werden - mit einer Einschränkung: Wenn Sie eine neue Datei einladen, die sich auf derselben Diskette wie die vorherige befindet, wird die alte Datei (vor dem Laden der neuen) automatisch auf die Diskette zurückgeschrieben.

Auch beim Dateidirectory ist Vorsicht geboten:

Durch das Einladen des Dateidirectorys wird eine eventuell im Computer befindliche Datei gelöscht!

Nach diesen Vorbemerkungen einige konkrete Hinweise zur Dateneingabe: Nachdem Sie im Hauptmenü »F5« gedrückt haben, wird die erste Dateiseite auf dem Bildschirm ausgegeben und der Cursor blinkt am Anfang des ersten Datenfeldes. Nun können Sie mit der Dateneingabe beginnen. Alle Datenfelder sind zur besseren Kennzeichnung mit dem schon von der Datenfelddefinition bekannten Füllzeichen (CHR$(166)) aufgefüllt. Der Cursor kann jetzt nur noch innerhalb der Datenfelder bewegt werden.

Ähnlich wie bei der Dateimaskendefinition steht Ihnen bei der Dateneingabe ein komfortabler Editor zur Verfügung. Um aber einen der im nachfolgenden beschriebenen Befehle aufrufen zu können, müssen Sie zuerst die »F1«-Taste drücken! Daraufhin beginnt der Schriftzug »F1« in der drittuntersten Bildschirmzeile ganz rechts zu blinken. Jetzt können Sie die gewünschte Funktion aufrufen. Nach deren Ausführung können Sie mit der Dateneingabe fortfahren. Haben Sie die »F1«-Taste unbeabsichtigt gedrückt, kommen Sie mit »SHIFT« + »RETURN« in die Eingaberoutine zurück.

Die Befehle im einzelnen (Eine Zusammenfassung finden Sie in Tabelle 3):

- »RETURN«: Wenn Sie die »RETURN«-Taste drücken und das aktuelle Datenfeld ein Datums-, Rechen- oder Zahlenfeld ist, dann wird die zugehörige Vorschrift ausgeführt. Auf jeden Fad aber wird der Cursor auf den Anfang des nächsten Datenfeldes positioniert. Mit einer Einschränkung: Sollte es sich bei dem aktuellen Feld um das letzte Datenfeld handeln, dann erfolgt eine Abfrage, ob Sie den Datensatz speichern wollen. Beantworten Sie die Frage mit »nein«, so wird der Cursor wieder auf den Anfang des letzten Datenfeldes positioniert.
-	»SHIFT« + »RETURN«: Bewirkt Rückkehr ins Hauptmenü. Die Datenfelder werden dabei gelöscht.
-	»F5«: Dateiseite vorblättern.
-	»F7«: Dateiseite zurückblättern.
-	»F8«: Seitendirektaufruf.
-	»HOME«: Positioniert Cursor auf den Anfang des ersten Datenfeldes.
-	»SHIFT« + »HOME«: Löscht sämtliche Datenfelder.
-	»L«: Löscht das aktuelle Datenfeld.
-	»CTRL« + »1«: Ändert Hintergrundfarbe. Der Farbcode wird jeweils um eins erhöht.
-	»CTRL« + »2«: Ändert Vordergrundfarbe.
-	»CTRL« + »3«: Cursorfarbe ändern.
-	»CTRL« + »C«: Cursorblinkfrequenz ändern. Siehe auch Bild 3.
- »V«: Durch dieses Kommando werden sämtliche Rechen-und Formatiervorschriften für alle betreffenden Felder ausgeführt. (Zuvor werden die Zahlenwerte aller Felder ermittelt.) Wenn Sie also direkt bei der Dateneingabe auf das »RETURN«-Kommando verzichten, können Sie mit »V« die Berechnungen und Formatierungen nachholen lassen.
-	»S«: Mit diesem Kommando wird der eingegebene Datensatz gespeichert und der Schlüssel des Datensatzes in die Indexdatei einsortiert, ohne daß Sie extra im letzten Datenfeld »RETURN« drücken müssen.

### Datenausgabe

Über den Menüpunkt »Daten ausgeben« (siehe Bild 1) gelangen Sie in einen der wichtigsten Programmpunkte eines jeden Datenverarbeitungsprogramms: der Datenausgabe. Die Datenausgabemöglichkeiten von Database sind sehr vielfältig. Im wesentlichen lassen sich drei Bereiche unterscheiden:

-	die Ausgabe über Schlüssel
-	das »Durchblättern« der Datei
-	die Selektion über eine frei wählbare Auswahlmaske

Wenn Sie im Hauptmenü »F7« drücken, wird zunächstwie-der die erste Dateiseite auf dem Bildschirm ausgegeben. Jetzt können Sie durch Drücken der entsprechenden Taste die gewünschte Funktion aufrufen:

### a)	Die Ausgabe über Schlüssel:

Dazu drücken Sie die »l«-Taste. Jetzt werden die Datenfelder gelöscht, die Dateiseite, auf der sich das Schlüsselfeld befindet, ausgegeben und der Cursor auf das Schlüsselfeld positioniert Nachdem Sie den Schlüssel mit abschließendem »RETURN« eingegeben haben, wird er in der Indexdatei gesucht und - sofern vorhanden - der zugehörige Datensatz in den Rechner geladen und auf dem Bildschirm ausgegeben. Gehören zu einem Schlüssel mehrere Datensätze, dann werden Sie darauf durch die Meldung »Weitere Datensätze vorhanden!« hingewiesen. Wenn Sie daraufhin nochmals »I« drücken und die nachfolgende Frage mit »ja« beantworten, wird der nächste Datensatz (mit demselben Schlüssel) ausgegeben.

Haben Sie die »l«-Taste nur versehentlich gedrückt, können Sie die Routine mit »SHIFT« + »RETURN« verlassen.

### b)	»Durchblättern« der Datei:

Hier bietet sich wieder der Vergleich einer Datei mit einem Karteikasten an. Mit den folgenden Kommandos ist es nämlich möglich, eine Datei wie einen Karteikasten »durchzublättern«. Die Kommandos beziehen sich dabei auf die Indexdatei beziehungsweise auf die in ihr gespeicherten Schlüssel der einzelnen Datensätze. Wenn also zum Beispiel von einem »ersten Datensatz« die Rede ist, dann handelt es sich dabei um den Datensatz, dessen Schlüssel als erster in der Indexdatei gespeichert ist. Verbunden mit der Tatsache, daß die Schlüssel in der Indexdatei alphabetisch einsortiert sind, ergibt sich daraus die Möglichkeit, eine Datei in alphabetischer Reihenfolge durchzublättern.
Die Befehle im einzelnen:

-	»E«: Gibt den ersten Datensatz der Datei aus.
-	»L«: Gibt den letzten Datensatz der Datei aus.
-	»N«: Mit diesem Kommando kann der nächste Datensatz in Bezug auf den gerade im Speicher befindlichen ausgegeben werden.
-	»V«: Dadurch wird der vorherige Datensatz ausgegeben.

### c)	Die Selektion über eine frei wählbare Ausgabemaske:

Mit dieser Routine, die mit »F« aufgerufen wird, steht Ihnen ein vielseitiges lnstrumentzurAuswahl (Selektion) von Datensätzen zur Verfügung. Die Grundidee ist dabei folgende: Sie geben in die Datenfelder eine sogenannte Selektionsmaske (das heißt Vergleichsdaten) ein, die dann mit jedem Datensatz der Datei verglichen wird. Entspricht ein Datensatz der Maske, wird er in den Speicher geladen. Ansonsten wird der nächste Datensatz verglichen.

Bevor mit der Selektion begonnen werden kann, müssen Sie also zuerst eine Auswahlmaske eingeben. Die grundlegende Vorgehensweise ist dabei dieselbe wie bei der Dateneingabe! Mit Ausnahme der Routinen zur Datensatzspeicherung und zur Änderung der Bildschirmfarben stehen deshalb dieselben Routinen wie bei der Dateneingabe zur Verfügung. (Eine Aufstellung finden Sie in Tabelle 4 unten.)

- »K«: Durch»K«wirddieSelektionsmaskeübernommen, die Selektion gestartet und im Falle eines positiven Vergleichs der betreffende Datensatz ausgegeben.
- »M«: Dieses Kommando bietet Ihnen die Möglichkeit, einige spezielle Selektionskriterien anzugeben. Der Cursor blinkt dabei auf dem Feldbegrenzungszeichen. Wenn Sie jetzt eine der nachfolgenden Tasten drücken, wird das entsprechende Symbol unter dem Cursor revers ausgegeben.
-	»F1«: »kleiner«-Funktion: Dadurch werden alle Datensätze selektiert, deren entsprechender Datenfeldinhalt kleiner ist als die eingegebenen Vergleichsdaten.
-	»F2«: »kleiner gleich«-Funktion: Bewirkt Selektion aller Datensätze, deren entsprechender Datenfeldinhalt kleiner gleich den Vergleichsdaten ist.
-	»F3«: »größer«-Funktion: Bewirkt Selektion aller Datensätze, deren entsprechender Datenfeldinhalt größer als die Vergleichsdaten ist.
-	»F4«: »größer gleich«-Funktion: Bewirkt Selektion aller Datensätze, deren entsprechender Datenfeldinhalt größer gleich den Vergleichsdaten ist.
-	»F5«: »Hochkomma«-Funktion: Diese Funktion spart Ihnen Tipparbeit. Bei einem auf diese Weise verknüpften Feld wird nämlich die Eingabe des vorherigen Feldes übernommen.
- »F6«: »ODER«-Funktion: Diese logische »ODER«-Verknüpfung kann zusätzlich zu den anderen Funktionen verwendet werden. Es können beliebig viele (aber mindestens zwei) Felder verknüpft werden. Diese Funktion läßt sich auch sinnvoll mit der vorangegangenen kombinieren: Haben Sie zum Beispiel eine Literaturverwaltung mit mehreren gleichwertigen Feldern zur Stichworteingabe und sind sich bei einer Abfrage nicht sicher, in welches Feld Sie ein bestimmtes Stichwort eingegeben haben, können Sie folgendermaßen verfahren: Sie geben das Stichwort in das erste betreffende Feld ein und verknüpfen das Feld mit »ODER«. Die anderen betreffenden Felder verknüpfen Sie mit »Hochkomma« und »ODER«. Das ist schon alles!<br>So sparen Sie nicht nur Tipparbeit, sondern auch eventuell notwendige zusätzliche Abfragen.
-	»F7«: »NICHT«-Funktion: Bewirkt Selektion aller Datensätze, deren entsprechender Datenfeldinhalt ungleich den Vergleichsdaten ist.<br>Wichtig: Um wieder in die »normale« Eingaberoutine zu kommen, müssen Sie »RETURN« drücken!<br>Zusätzlich stehen Ihnen drei Zeichen mit spezieller Bedeutung zur Verfügung, die Sie direkt bei der Eingabe der Vergleichsdaten verwenden können:
- das »Fragezeichen» (CHR$(63)) und das Sonderzeichen (CHR$(166)), mit dem die Felder beim Aufruf der Aus- und der Eingaberoutine aufgefüllt sind: Diese beiden Zeichen haben dieselbe Funktion. Sie dienen als »Joker«, das heißt, sie können fürjedes beliebige andere Zeichen stehen! Sind also eine (oder mehrere) Stellen in einem Datenfeld für die Selektion nicht relevant, dann geben Sie dort eines der beiden Zeichen ein.
-	das »Multiplikationszeichen« (CHR$(42)); Dieses Zeichen kennzeichnet die Stelle, an der es steht, sowie alle nachfolgenden Stellen des Datenfeldes als nicht relevant!<br>Abschließend drei zusätzliche Funktionen zur Bearbeitung des Datenbestandes einer Datei, die Sie ebenfalls durch Drücken der entsprechenden Taste aufrufen können:
-	»D«: Dadurch wird der gerade im Speicher befindliche Datensatz aus der Datei entfernt, das heißt im Computer und auf Diskette gelöscht.
- »R«: Mit diesem Kommando können Sie den im Speicher befindlichen Datensatz ersetzen (beziehungsweise ändern). Dabei wird in die Dateneingaberoutine verzweigt. Es können beliebige Änderungen (auch am Datensatzschlüssel) vorgenommen werden. Durch Drücken der »S«-Taste wird der alte Datensatz dann durch den neu eingegebenen ersetzt.
- »A«: Dieses Kommando ermöglicht die Eingabe eines neuen Datensatzes, ohne daß extra über das Hauptmenü die Dateneingaberoutine aufgerufen werden muß.

Eine Aufstellung aller bei der Datenausgabe zur Verfügung stehenden Kommandos finden Sie in Tabelle 4.

### Helpscreens

Diese sogenannten »Hilfsbildschirme« stellen eine wertvolle Hilfe sowohl für die Arbeit mit dem Programm selbst als auch für die Arbeit mit den einzelnen Dateien dar. Hier können Sie zum Beispiel wichtige Hinweise zu einzelnen Kommandos des Programms ablegen, auf Diskette speichern und dann bei Bedarf wieder in den C 64 laden. Wie Sie in Bild 1 sehen können, ist es möglich, die Helpscreens auch bei der Datenein- und Datenausgabe aufzurufen, das heißt Sie können bei der Datenpflege jederzeit auf die Helpscreens zurückgreifen!

Insgesamt stehen zwei Helpscreens zur Verfügung, die einfach durch Drücken der »CTRL« + »H«-Taste aufgerufen werden. Zur Erläuterung: Database verwendet zwei Bildschirme. Auf dem einen, der vor allem zur Ausgabe der Hauptmenüs und für die Sonderfunktionen benützt wird, wird der normale Zeichensatz des C 64 verwendet. (Wenn Sie also zum Beispiel vom Hauptmenü die Helpscreens aufrufen, wird Helpscreen 1 ausgegeben.) Auf dem anderen, der zur Ausgabe der Dateimaske dient, wird der eventuell vom Benutzer geänderte Zeichensatz verwendet (und bei einem Help-screenaufruf entsprechend Helpscreen 2 ausgegeben). Bis auf die verschiedenen Zeichensätze sind die beiden Help-screens aber völlig gleichwertig.

Für die Eingabe stehen Ihnen die 2.-22. Bildschirmzeile zur Verfügung. Die möglichen Kommandos sind dabei im wesentlichen dieselben - bis auf die dateispezifischen - wie bei der Dateimaskendefinition. (Siehe Bild 3.) Dazu kommen die vier folgenden Kommandos:

-	»F5«: Helpscreen speichern: Mit diesem Kommando können Sie den gerade auf dem Bildschirm ausgegebenen Helpscreen durch Angabe eines maximal 14stelligen Namens auf Diskette abspeichern.
-	»F6«: Helpscreen laden. Mit diesem Kommando können Sie einen auf Diskette gespeicherten Helpscreen durch Angabe des Namens in den Computer laden. Dabei ist es egal, von welchem Helpscreen (1 oder 2) aus Sie den einzuladenden Helpscreen gespeichert haben! (Ein Helpscreen, den Sie zum Beispiel von Helpscreen 1 aus gespeichert haben, kann also ohne weiteres in den Helpscreen 2 eingeladen werden.)
-	»F7«: Helpscreens umschalten/vertauschen. Nachdem Sie »F7« gedrückt haben, erscheint die Frage »Help-screens vertauschen?« Beantworten Sie sie mit »nein«, wird nur auf den jeweils anderen Helpscreen umgeschaltet. Beantworten Sie die Frage mit »ja«, werden die Inhalte der beiden Helpscreens vertauscht und danach der jeweils andere Helpscreen ausgegeben. Diese Funktion bekommt dann einen Sinn, wenn Sie zum Beispiel einen geänderten Zeichensatz verwenden und die Änderungen auf einem Helpscreen vermerken. Auf Helpscreen 2 sehen Sie dann die geänderten Zeichen; auf Helpscreen 1 ist die »normale« Zeichenmatrix des betreffenden Zeichens sichtbar.
-	»SHIFT« + »RETURN«: MitdieserTastenkombination können Sie jederzeit - egal auf welchem Helpscreen Sie sich gerade befinden - zur Aufrufstelle zurückkehren.

Abschließend noch einige Hinweise für diejenigen, die sich mit dem Programm(aufbau) näher befassen wollen:

-	In den Bildern 2 und 5 finden Sie Informationen über die von Database 64 erzeugten Dateien.
-	Die Tabellen 1 und 2 zeigen die Speicherbelegung von Database.
-	Die Tabellen 5 und 6 enthalten eine vollständige Liste der in den beiden Programmteilen verwendeten Variablen.
-	Tabelle 7 gibt Auskunft über die in den vier Maschinenprogrammpaketen enthaltenen Routinen.

Hinweis:
Damit das Programm compilierfähig wurde, waren umfangreiche Änderungen notwendig. Dadurch wurde das (uncompi-lierte) Programm an manchen Stellen etwas langsamer, vor allem aber um einiges länger! Daher müssen Sie im zweiten Programmteil (DBII BASIC) in der uncompilierten Version auf eine Programmfunktion, nämlich die Helpscreens, verzichten. Die Leserservice-Diskette enthält auch das compilierte Programm (DBII). In diesem ist die Helpscreen-Funktion verfügbar!

(Martin Hecht/tr)

TODO ASIDE

Anmerkung der Redaktion:
Dem Programmautor stand leider kein Drucker zur Verfügung. Deshalb fehlen Database die Druckerroutinen zur Ausgabe von Datensätzen. Ein entsprechendes Programm ließe sich aber über den Menüpunkt »Sonderfunktionen« relativ leicht einbinden. Geübten Programmierern dürfte das keine Probleme bereiten. Entsprechende Vorschläge nehmen wir gerne entgegen. Dieses Druckprogramm muß auf der Diskette unter dem Namen »Soft« vorliegen und zumindest einen Basic-Start haben.
Die Leserservice-Diskette enthält folgende Programme:

TODO TABLE

Blocks:	Name:	Funktion:
2	DBL	Autostart; mit »,8,1« laden.
6	DBL/T	Ladeprogramm
93	DBI	Teil 1 (neue Datei entwickeln) in compilierter Version
96	DBII	Teil 2 (Datenpflege) in compilierter Version.
4	MP-P-2	Maschinenprogramme: werden
6	MP-P-3	automatisch nachgeladen.
9	MP-P-4	Siehe auch Tabelle 7.
3 MP-P-5
129 DBI BASIC Teil 1 als Basicversion
126 DBII BASIC Teil 2 als lauffähige Basicversion ohne Helpscreenfunktion.

# Buchführung - leicht verständlich mit »Bufueg«

> Grundkenntnisse der Buchführung sind nicht nurfür zukünftige Manager-Generationen wichtig. Wer weiß, wie gebucht wird, hat in jedem Beruf Vorteile, denn wirtschaften heißt buchen.

Das Programm »Bufueg« ist auf der Grundlage der Kenntnisse über Buchführung der Klasse 11 und 12 entstanden, genügt aber auch den Anforderungen der Klasse 13. Es ist deshalb nicht für die professionelle Arbeit in einem Betrieb geeignet, sondern vielmehr ist es als Hilfe für den Anfänger auf dem Gebiet der Buchführung gedacht. »Bufueg« kann zum Beispiel als Kontrolle für die Berechnung von Zahlenwerten dienen, hilft, den Abschluß von Konten zu überprüfen, und ist auch unter dem Aspekt sehr nützlich, daß jegliche Schreibarbeit auf vielen Seiten T-Kontenpapier entfällt.

## Beschreibung der Programmfunktion

Nach dem Laden des Programms von Datasette oder Floppy-Disk erscheint nach der Eingabe von RUN zunächst die Programmüberschrift, dann das Hauptmenü. Aus buchungstechnischen Gründen ist die Auswahl im ersten Schrittaufdas Erstellen der Eröffnungsbilanz beschränkt. Auf Druck der Taste »1« folgt die Möglichkeit, zuerst alle Aktiv-, dann alle Passivkonten einzugeben. Diejeweiligen Anfangsbestände werden dabei unter »Betrag« eingegeben. Neben den schon im Programm enthaltenen Maßregeln istzusätzlich zu beachten:

1.	Es können maximal nur 17 Aktiv- und 16 Passivkonten eingegeben werden, was aber für die Buchführungsaufgaben, die der Anfänger zu lösen hat, durchaus ausreicht.
2.	Je höher die Zahl der in der Eröffnungsbilanz enthaltenen Konten, desto geringer ist die Möglichkeit, später eine bestimmte Anzahl neuer Konten zu eröffnen, da das Programm nur 19 Aktiv-, 19 Passiv- und 12 neueröffnete Unterkonten von Eigenkapital verwalten kann. Dies bedeu-tetzum Beispiel: Eingabevon 17 Aktivkonten für die Eröffnungsbilanz hat zur Folge, daß später nur noch 2 Aktivkonten (Bild 1) neu eröffnet werden können.
3.	Die Eingabe des Kontos »Waren« als erstes Aktivkonto bewirkt die in der Buchführung übliche Aufteilung dieses Kontos in die Konten »Wareneinkauf« und »Warenverkauf« im Programm.
4.	Die Konten »Mehrwertsteuer« und »Vorsteuer« haben eine besondere Stellung im Programm. Anfangsbestände dieser beiden Konten auf der Aktiv- oder Passivseite der Eröffnungsbilanz können eingegeben werden, ohne daß das Programm diese später als Aktiv- oder Passivkonten behandelt.
5.	Das Konto »Eigenkapital« und sein Anfangsbestand werden vom Programm eigenständig in die Eröffnungsbilanz eingetragen. Es braucht also niemals eingegeben zu werden.

Hat man alle Konten und Anfangsbestände der Eröffnungsbilanz eingegeben, so erscheint diese auf dem Bildschirm. Folgt man dann der wenig später erscheinenden Aufforderung »Space drücken«, so springt das Programm zum Anfangsmenü zurück. Sollte das Konto »Waren« als erstes Aktivkonto eingegeben worden sein, wird vorher noch der Warenschlußbestand abgefragt, der ja in der Regel bekannt und für den Abschluß der Warenkonten von entscheidender Bedeutung ist. Befindet man sich jetzt wieder im Hauptmenü, so fällt sein erster Auswahlpunkt für den weiteren Verlauf weg, da die Eröffnungsbilanz nicht nochmals erstellt werden muß.

Im zweiten Menüpunkt, dem »Buchen« gibt es vier Möglichkeiten, einen Buchungssatz einzugeben:

TODO TABLE

1.Buchungssatz: KASSE an BANK 12000 DM
Eingabe:	Konto?	KASSE	Konto?	BANK
Betrag?	12000	Betrag?	12000
an
Konto?	Q	Konto?	Q
2. Buchungssatz: KASSE	1000 an BANK	1100
MWST	100	
Eingabe:	Konto?	KASSE	Konto?	BANK
Betrag?	1000	Betrag?	1100
an
Konto?	MWST	Konto?	Q
Betrag? 100
3.Buchungssatz: KASSE 1100 an BANK 1000 MWST 100
Eingabe:	Konto?	KASSE	Konto?	BANK
Betrag?	1100	Betrag?	1000
an
Konto?	Q	Konto?	MWST
Betrag? 100
4.	Buchungssatz: KASSE 1000 an LOEHNE 1500 BANK 2000 MWST 1500
Eingabe:	Konto? Betrag?	KASSE 1000	Konto? Betrag?	LOEHNE 1500
	Konto? Betrag?	BANK 2000	Konto? Betrag?	MWST 1500

Der dritte Auswahlpunkt des Menüs ist auch einfach zu handhaben. Es wird gefragt, welches Konto man ansehen möchte, und nach Eingabe des gewünschten Kontos folgt seine Aufzeichnung auf dem Bildschirm.

Im vierten Punkt, dem »Konten neu eröffnen«, kann ein Privatkonto (Eingabe: »Privat«) als Unterkonto von Eigenkapital eröffnet werden. Dieses wird beim Abschluß der Konten gesondert behandelt, das heißt nicht über »Gewinn-und-y Verlust« abgeschlossen, wie die anderen Konten dieser Gruppe, sondern über das Eigenkapitalkonto, wie es in der :	. Buchführung allgemein üblich ist.

Hat man schließlich alle Buchungssätze ausführen lassen und möchte die Konten abschließen, so wählt man den Punkt 5 des Menüs. Dort werden alle Konten nach folgenden Regeln abgeschlossen:
a)	Alle Aktiv- und Passivkonten über das Schlußbilanzkonto
b)	Alle Unterkonten von Eigenkapital über das »Gewinn-und-Verlust<<-Konto
c)	Ein eventuell eröffnetes »Privat«-Konto über das Eigenkapitalkonto
d)	Falls Warenkonten eröffnet worden sind, werden diese je nach Wahl mit dem Bruttoabschluß (das heißt, »Wareneinkauf«- und »Warenverkauf«-Konto werden mit dem »Gewinn-und-Verlust«-Konto abgeschlossen) oder mit dem Nettoabschluß (das heißt, das »Wareneinkauf«-Konto wird über das »Warenverkauf«-Konto abgeschlossen und dieses wiederum über das »Gewinn-und-Verlust«-Konto) abgeschlossen.
e)	Das »Gewinn-und-Verlust«-Konto über das Eigenkapitalkonto
f)	Das Eigenkapitalkonto über das Schlußbilanzkonto g) Das »Vorsteuer«-Konto über das »Mehrwertsteuer«-Konto h) Das »Mehrwertsteuer«-Konto über das Schlußbilanzkonto

Hat das Programm alle Konten abgeschlossen, kehrt es wieder zum Anfangsmenü zurück. Als Auswahl bleibtjetzt nur noch Punkt 6, nach dessen Ausführung man das Programm neu starten und eine neue Buchführungsaufgabe beginnen kann, und Punkt 3, das »Konten einsehen«. Hier werden alle abgeschlossenen Konten nochmals nacheinander aufgezeichnet. Dieser Menüpunkt kann dann noch beliebig oft wie-derholtwerden. Selbstverständlich kann das Programm noch erweitert werden. Die Erläuterung der verwendeten Variablen (Bild 2) und die Programmbeschreibung (Bild 3) sind zu diesem Zweck ebenfalls abgebildet. Mit etwas Übung wird es Ihnen sicherlich gelingen, so manche betriebswirtschaftliche Aufgabe zu lösen. Möglicherweise fertigen Sie sogar einen Jahresabschluß für ein kleines Probe-Unternehmen an. Eines wird Ihnen dabei auf jeden Fall bewußt werden - auch kaufmännische Betriebe können über Ihre Waren-, Kapital-und Finanzkontos nicht nach freiem Belieben verfügen. Die buchhalterischen und rechtlichen Bestimmungen stecken einen relativ engen Rahmen ab, den es geschickt auszulegen heißt. Diese Arbeit kann Ihnen aber kein Programm abnehmen, denn dazu gehört Kreativität und Einfallsreichtum. Das sind aber Bereiche, in denen sich Computer heute noch nicht mit dem Menschen messen können.

(V. Gill/aw)






























# Autokauf gut kalkuliert

Dieses Programm erleichtert Ihnen die Entscheidung beim Autokauf. Preise und Unterhaltskosten werden in Tabellen und Grafiken ausgegeben.
Vielleicht überlegen Sie, ob Sie Ihren nächsten Wagen mit oder ohne Katalysator kaufen sollten. Oder Sie beschäftigen sich mit dem Problem, ob es ein »Gebrauchter« oder ein »Neuer« sein könnte. In jedem Fall spielen neben vielen anderen auch die finanziellen Erwägungen eine wichtige Rolle.
Eine gute Hilfe sind dabei Übersichten in Autozeitschriften, die zeigen, wie teuer die einzelnen Modelle im Unterhalt sind. Dabei ist es ein unvermeidlicher Nachteil, daß solche Übersichten sich auf den »Durchschnittsfahrer« und das »Durchschnittsauto« beziehen müssen. So ist es unwahrscheinlich, daß die Berechnungen für Sie exakt zutreffen. Im Einzelfall ist es wichtig, welchen Schadenfreiheitsrabatt Sie erreicht haben, ob Sie Wert auf eine Vollkasko-Versicherung oder eine Insassenunfallversicherung legen, etc. Der eine will auf ein Autoradio verzichten oder kann das Radio aus seinem jetzi-S gen Wagen einbauen — der nächste stellt sich ein Autoradio der Mittelklasse vor, und der dritte glaubt, daß trotz des störenden Motorgeräusches ein Anschaffungspreis von über 1000 DM für eine Auto-Hifi-Anlage sich lohne. Entsprechendes gilt auch für anderes Zubehör.
Ein Faktor, der stark zu Buche schlägt, ist die Fahrleistung pro Jahr, die den monatlichen Unterhalt gewaltig in die Höhe treiben kann, wenn der Wagen einen kräftigen Durst entwickelt. Andererseits können selbst bei einem kleinen Auto bei sehr geringer Kilometerleistung die Kosten pro gefahrenen Kilometer so hoch werden, daß von Wirtschaftlichkeit kaum noch die Rede sein kann.
Was aber eine allgemeine Übersicht nicht leisten kann, ist heute im Zeitalter der Heimcomputer individuell zu lösen. Der f35 Computer kann sich hier als das bewähren, was er eigentlich ^?; ist: Ein Rechner! Mit seiner Hilfe lassen sich Anschaffungskosten, Kosten pro Monat sowie pro Kilometer übersichtlicher ® ? 'n Tabellen darstellen und — was oft noch informativer ist—in Form von Balkendiagrammen grafisch darstellen.
Die Vorarbeit allerdings kann Ihnen auch der beste Computer nicht abnehmen: Informieren Sie sich über die aktuellen Preise, über eventuelle Preisnachlässe, über die Möglichkeit der Inzahlungnahme Ihres jetzigen Wagens, über die Preise des Zubehörs und über den Verbrauch, aber auch über die Tarife der Versicherungen und über die Kraftfahrzeugsteuer (ab 1. Jan. 86 18,80 DM pro 100 ccm für »konventionelle« Ottomotoren). Die Mühe lohnt sich: Je gründlicher Ihre Recherchen sind, desto zuverlässiger kann die Prognose des Rechners sein!
Das Programm (Listing 1) wurde für den C 64 geschrieben. Außerdem sollten Sie über eine Floppy verfügen, denn die gesammelten Daten sind nur dann wertvoll, wenn sie leicht verfügbar sind. Deshalb enthält das Menü die Möglichkeit, die Daten auf Diskette zu speichern. Dabei wird eine gegebenen-|^, falls schon vorhandene Datei mit Auto-Daten gelöscht, bevor ^ der aktuelle Stand auf die Diskette geschrieben wird. Wenn Sie auch die bisherigen Daten erhalten wollen, um beispielsweise die Preisentwicklung mehrerer Jahre zu dokumentie-
K 0 S T E N V E R G L E I C H
PREISE UND HALTUNGSKOSTEN
il DATENEINGABE
* LADEN GESPEICHERTER DATEN VON DISKETTE
Bild 1. Entscheidungshilfe beim Autokauf gibt dieses Programm.
ren, dann müßten Sie jede Datei auf einer anderen Diskette einrichten.
Nach dem Start des Programms fragt der Computer, ob Neueingabe oder Laden der Daten von Diskette gewünscht wird. Wenn schon gesammelte Daten auf Diskette vorhanden sind, muß selbstverständlich zuerst geladen werden (2), bevor vom Menü aus weitere Eingaben und/oder Korrekturen erfolgen.
Im übrigen brauchen auch Computerneulinge keine Sorge zu haben: Bei diesem Programm hilft der Computer durch Fragen und Aufforderungen, so daß Fehlbedienungen praktisch ausgeschlossen sind.
Die Daten, die bei der Berechnung berücksichtigt werden:
Anschaffungspreis
— Grundpreis
— Überführung und Zulassung
Aufpreise für
— Autoradio
— vier Türen
— Unterboden- und Hohlraumschutz
— Servolenkung
— Schiebedach
— Sonderlackierung
— Weitere Extras (Eingabe nach freier Wahl nach dem ersten Fragezeichen, Preis nach dem zweiten!
Beispiele: Anhängerkupplung, Sperrdifferential etc. Bis zu fünf Bezeichnungen, nach denen im weiteren Programmablauf auch bei den anderen Wagen gefragt wird.)
— Für wieviel Mark wird Ihr alter Wagen in Zahlung genommen?
— Händlerrabatt
Steuer und Versicherung
— Kraftfahrzeugsteuer
— Haftpflichtversicherung
— Teilkaskoversicherung
— Vollkaskoversicherung
— Insassenunfallversicherung
Werkstattkosten
Hier wird mit einer Pauschale gerechnet, weil sich ein genauer monatlicher Betrag natürlich nur mit prophetischen Gaben vorhersagen ließe. Nach statistischen Erhebungen betrugen die durchschnittlichen Werkstattkosten für einen Pkw 1984 etwa 100 DM. Wenn Sie einen Wagen ins Auge gefaßt haben, bei dem die Werkstattkosten bekanntermaßen überdurchschnittlich hoch sind, müssen Sie eine höhere Pauschale ansetzen, während Sie sie verkleinern können, wenn Sie viele Wartungsarbeiten selbst erledigen.
106
C64
Finanzen
Bild 2. Hardcopy der »Kosten pro Kilometer«. Die einzelnen Fabrikate werden mit drei Buchstaben abgekürzt.
TOVOTR LAHDCRUISER................0.67	DM
MITSUBISHI L300 RLLRRD............0.62	DM
SUBARU SUPER STATION..............0.53	DM
LADA NIVA.........................0.45	DM
WEITER? <DRUECKEN SIE EINE BELIEBIGE
TASTE!)
Bild 4. Kostentabelle pro Kilometer
Betriebskosten
— Art des Kraftstoffs (Normal- oder Superbenzin, Diesel, bleifreier Kraftstoff)
— Kraftstoffpreis pro Liter
— Durchschnittlicher Verbrauch auf 100 km
— Nachgefülltes Öl
— Sonstiges (Garagenmiete, Pflegekosten ...)
Für die Berechnungen ist es weiterhin wichtig, ob der
Wagen bar bezahlt oder finanziert werden soll, wofür das ent-
sprechende Unterprogramm vorhanden ist, das nicht nur angibt, wieviel Geld Sie insgesamt zurückzahlen müssen, sondern auch die Höhe der monatlichen Rate.
Aus den eingegebenen Daten kann der Computer folgende Übersichten erstellen:
1.	Anschaffungspreise
2.	Kosten pro Monat
3.	Kosten pro Kilometer
(1 bis 3 jeweils als Tabelle oder als Balkendiagramm) (Bild 2 bis 4)
4.	Grafik: Vergleich der Leistung und des Hubraums
5.	Übersicht »Extras« (Einstufung: serienmäßig — gegen Aufpreis — nicht vorhanden)
Um die erhaltenen Werte mit anderen Übersichten vergleichen zu können, sollten Sie wissen, daß bei den monatlichen Kosten und den Kosten pro Kilometer keine Sparbeträge berücksichtigt wurden. Wer während der Laufzeit des Autos den nächsten Wagen komplett ansparen möchte, um Zinsen zu sparen, muß den Sparbetrag zu den angegebenen Summen hinzuzählen. Weil das von Fall zu Fall anders gehandhabt wird, können die angegebenen Kosten pro Monat beziehungsweise pro Kilometer zum Teil erheblich differieren.
Alle Grafiken und Tabellen bleiben so lange auf dem Bildschirm, bis Sie durch Drücken einer beliebigen Taste zur Übersicht zurückgehen. Wenn Ihnen das flüchtige Monitorbild nicht ausreicht, können Sie, wenn Sie einen Drucker besitzen, eine Hardcopy ausdrucken lassen. Zu diesem Zweck drücken Sie die Funktionstaste F1. Nach dem Ausdrucken der Hardcopy (MPS 801) kehrt der Computer zum Hauptmenü zurück.
Noch ein paar Hinweise für Leser, die noch nicht lange programmieren: Beim Abspeichern auf Diskette werden alle Daten, nicht nur die zuletzt eingegebenen, gespeichert, genauso wie alle Daten auf einmal geladen werden. Es wird also nicht für jedes Fahrzeug eine eigene Datei benötigt.
Vielleicht wundern Sie sich über Zeilen, die mehr als 80 Zeichen enthalten: Ihre Eingabe bereitet keine Schwierigkeiten, wenn Sie beim Eintippen die nur der besseren Übersicht dienenden Leerzeichen weglassen.
Außerdem sollten Sie nicht »PRINT«, sondern »?« eingeben und nicht »PRINT#4«, sondern »p« — geSHIFTetes »R« und die »4«. Aber das machen Sie aus Gründen der Zeitersparnis wohl ohnehin so.
Selbstverständlich hat jede Prognose dort ihre Grenzen, wo sich grundlegende Daten in unvorhergesehener Weise ändern können: Niemand kann heute zuverlässig angeben, wie hoch der Benzinpreis in acht Jahren sein wird, oder wie sich dann die Versicherungstarife geändert haben werden. Wenn Sie noch nicht in der höchsten Schadenfreiheitsklasse angekommen sein sollten, dann ist es sinnvoll, als Versicherungsbeitrag den mittleren Wert einzusetzen, den Sie in der Laufzeit des Wagens wahrscheinlich erreichen werden.
Wenn Sie schließlich an die Kaufentscheidung für Ihren zukünftigen Wagen herangehen, dann wird Ihnen der Computer mit diesem Programm eine wertvolle Hilfe sein. Die Entscheidung für einen der Kandidaten kann er Ihnen aber nicht abnehmen, denn ob Ihnen der günstigere Preis pro Kilometer wichtiger ist als die besseren Beschleunigungswerte des Konkurrenten, das kann der Computer nicht wissen. Er kann nur übersichtlich die Entscheidungskriterien zusammenstellen. Wenn am Ende doch die Freude an der gelungeneren Form, dem sportlichen Design, über die finanzielle Erwägung siegt, dann können Sieja immer noch den Computer abschalten.
(Dieter Berner/hm)
107
Finanzen
C64
10 REM *********************************	<141>	520	PRINT CHR$(18)"SETZEN SIE STATT DES PR	
20 REM * K 0 S T E N V E R G L E I C H *	<165>		EISES '*' EIN,<3SPACE>";	<138>
30 REM *	F U E R A U T 0 S	*	<101>	530	PRINT CHR$(18)"WENN DER POSTEN SCHON I	
40 REM *	C 64	*	<211>		M GRUNDPREIS ENT-";	<029>
50 REM *	*	<099>	540	PRINT CHR$(18)"HALTEN IST, BZW. '0', W	
60 REM *	D. BERNER	*	<061>		ENN DAS EXTRA<4SPACE}";	<088>
70 REM * RINGSTR. 8	5431 GIROD	*	<089>	550	PRINT CHR$(18)"NICHT GEWUENSCHT WIRD 0	
80 REM *	TEL.06485/1351	*	<127>		DER BEI DIESEM<3SPACE>";	0	<131>
90 REM ********************************* 100 U=20sDIM PG(U),PZ(U),PR(U),PT(U),PU(U)	<221>	560	PRINT CHR^(18)"FAHRZEUG NICHT ERHAELTL ICH IST!<9SPACE>"	<077>
,PL(U),PD(U),PF(U),P1(U),P2(U),P3(U) 110 DIM UL$(U),UD$(U),UF$(U),Ul$(U),U2$(U)	<030>	570 580	PRINT"AUTORADIO<9SPACE>"PR$(I) PRINT CHR$(145)SPC(16)sINPUT EX$sGOSUB	<181>
,U3$(U),U4$(U),U5$(U)	<165>		1320s PR(I)=EXsPR$(I)=EX$	<008>
120 DIM P4(U),P5(U),Pl$(U),P2$(U),P3$(U),P		590	PRINTs PRINT"4 TUEREN<10SPACE>"PT$(I)	<055>
4$(U),P5$(U),PE(U),IZ(U),HR(U),TY$(U) 130 DIM TK$(U),P$(U),HU(U),VS(U),VH(U),VT(	<149>	600	PRINT CHR$(145)SPC(16)sINPUT EX$sGOSUB 1320s PT(I)=EXsPT$(I)=EX$	<052>
U),VV(U),VI(U),VE(U),TP(U),WK(U),WJ(U) 140 DIM TR$(U),WV(U),PR$(U),PT$(U),PU$(U),	<253>	610	PRINT s PRINT"UNTERBODEN- U.HOHLRAUMSCHU TZ<2SPACE>"PU$(I)	<089>
PL$(U),PD$(U),PF$(U),LE(U),SO(U),P(U) 150 DIM KB(U),ZM(U),MO(U),GE(U),AZ(U),KS(U	<112>	620	PRINT CHR$(145)SPC(28)sINPUT EX$sGOSUB 1320sPU(I)=EX 3 PU$(I)=EX$	<104>
),KR(U),UR$(U),UT$(U>,UU$(U),K(U) 160 FOR 1=1 TO 20:TY$(I)="0":TK$(I)="0":P$	<115>	630	PRINT s PRINT"SERVOLENKUNG <6SPACE)"PL$(I )	<063>
(I)="0" 170 TR$(I)= "0":P1$(I)= "0"sP2$(I)="0"s P3$(I	<051>	640	PRINT CHR$(145)SPC(16)sINPUT EX$:GOSUB 1320s PL(I)=EX s PL$(I)=EX$	<252>
)="0"sP4$(I)="0"s P5$(I)="0" 180 PR$(I) = "0"s PT$(I)="0"s PUS(I)= "0"s PL$(I	<077>	650 660	PRINT s PRINT"SCHIEBEDACH <7SPACE)"PD$(I) PRINT CHR$(145)SPC(16)sINPUT EX$sGOSUB	<001>
)="0" s PD$(I)= "0"s PF$(I)= "0"s NEXT 190 P1$="0"s P2$="0"s P3$="0"s P4$="0"s P5$="0	<045>	670	1320s PD(I)=EX:PD#(I)=EX$ PRINT s PRINT"SONDERLACKIERUNG <2SPACE}"P	<176>
200 PRINT CHR$(147)sF0R Y=1 TO 6sPRINTsNEX	<146>	680	F$(I) PRINT CHR$(145)SPC(16)sINPUT EX$:60SUB	<091>
T	<039>		1320s PF(I)=EX s PF$(I)=EX$	<220>
210 PRINT" <18SPACE>MaYYYÄYY<RVS0N,SPACE>¥" 220 PRINT"<17SPACE>M ff{3SPACElff{2SPACE,RVS	<139>	690	PRINTsPRINTsPRINT"WEITERE EXTRASs (MAX . 5) " s PRINT"YYYYYYYYYYYYYYYYYYYYYYY,,	<249>
0N,2SPACE>^"	<046>	700	PRINT"(HOECHSTENS 9 BUCHSTABEN)"	<135>
230 PRINT"<16SPACE>M<2SPACE>H<3SHIFT-SPACE		710	IF P1$<>"0"THEN 740	<033>
>R<2SHIFT-SPACE,RVSON,3SPACU>¥" 240 PRINT"<9SPACE,RVS0N,7SPACE>H<4SPACE>F	<139>	720 730	GOSUB 1370sIF E$="N"THEN 910 INPUT Pl$:IF LEN(Pl$)>9 THEN Pl#=LEFT#	<176>
R{6SPACE}?" 250 PRINT"<9SPACE,RVS0N,7SPACE>H<6SPACE>H< 7SPACE>" 260 PRINT"{9SPACE,RVS0N)R HYYÖ ^<6SPACE)^{	<134> <102>	740	(Pl$,9) PRINTsPRINT Pl$,,"<2SPACE>"Pl$(I):PRIN T CHR$(145),,;sINPUT EX#sGOSUB 1320sPl (I)=EXsPl$(I)=EX$	<210> <200>
7SPACE>"	<249>	750	IF P2$<>"0"THEN 780	<218>
270 PRINT"<8SPACE,RVS0N>T K<4SPACE>^<6SPA		760	GOSUB 1370sIF E#="N"THEN 910	<216>
CE)WVYW " 280 PRINT"{11SPACE,RVSON,4SPACE,RVOFF,10SP	<097>	770	INPUT P2$sIF LEN(P2$)>9 THEN P2$=LEFT$ (P2$,9)	<025>
ACE,RVSON,4SPACE}" 290 PRINT"{llSPACE>T{RVSON,2SPACE,RVOFF>X{	<153>	780	PRINTsPRINT P2^,,"<2SPACE>"P2^(I)sPRIN T CHR$(145),,;sINPUT EX$sGOSUB 1320s P2	
10SPACE>5{RVSON,2SPACE,RVOFF >i"	<014>		(I)=EXsP2^(I)=EX^	<094>
300 FOR 1=1 TO 1000sNEXT	<217>	790	IF P3$<>"0"THEN 820	<099>
310 PRINT CHR$(19)sF0R Y=1 TO 4sPRINTsNEXT sPRINT"<5SPACE>K 0 S T E N V E R G L E		800 810	GOSUB 1370sIF E#="N"THEN 910 INPUT P3$sIF LEN(P3#)>9 THEN P3$=LEFT$	<237>
I C H"	<079>		(P3$,9)	<094>
320 FOR 1=1 TO 2000sNEXT 330 FOR Y=1 TO 12:PRINTsNEXT:PRINT"{8SPACE	<110>	820	PRINTsPRINT P3i,,"{2SPACE)"P3#(I)sPRIN T CHR^(145),,;sINPUT EX$sGOSUB 1320sP3	
>PREISE UND HALTUNGSKOSTEN"	<078>		(I)=EXsP3$(I)=EX#	<242>
340 FOR 1=1 TO 2000sNEXT	<130>	830	IF P4$<>"0"THEN 860	<027>
350 PRINTsPRINTsPRINT CHR$(18)"l"CHR*(146)		840	GOSUB 1370sIF E$="N"THEN 910	<042>
" DATENEINGABE" 360 PRINTsPRINT CHR$(18)"2"CHR$(146)" LADE	<027>	850	INPUT P4#sIF LEN(P4$)>9 THEN P4$=LEFT$ (P4$,9)	<163>
N GESPEICHERTER DATEN VON DISKETTE"; 370 GET M$sIF M$="l"THEN 400	<075> <122>	860	PRINTsPRINT P4#,,"<2SPACE>"P4$(I)sPRIN T CHR*(145),,;sINPUT EX$sGOSUB 1320sP4	
380 IF M$="2"THEN 2740	<138>		(I)=EXsP4$(I)=EX$	<135>
390 GOTO 370	<192>	870	IF P5$<>"0"THEN 900	<163>
400 REM * ANGABEN ZU DEN EINZELNEN FAHRZEU		880	GOSUB 1370sIF E$="N"THEN 910	<082>
GEN*	<118>	890	INPUT P5$sIF LEN(P5$)>9 THEN P5#=LEFT$	
410 N=N+1 420 PRINT CHR$(147)CHR$(18)"FAHRZEUG NR."N ;CHR$(157)"<26SPACE>"sI=N 430 PRINT"TYPs "TY$(I)sPRINT CHR$(145)SPC(	<239> <095>	900	(P5$,9) PRINTsPRINT P5$,,"{2SPACE>"P5$(I)sPRIN T CHR$(145),,;sINPUT EX$sGOSUB 1320s P5 (I)=EXsP5$(I)=EX$	<232> <027>
3)sINPUT TY$(I) 440 PRINT"KURZBEZEICHNUNG (MAX. 3 BUCHST.)	<194>	910	PRINTsPRINTsPRINT"INZAHLUNGNAHME DES A LTEN WAGENS FUER"	<228>
<2SPACE>"TK$(I)	<225>	920	PRINT"WIEVIEL DM "IZ(I)sPRINT CHR$(145	
450 PRINT CHR$(145)SPC(32);sINPUT TK$(I) 460 PRINTsPRINT"LEISTUNG(KW) "LE(I)sPRINT	<071>	930	)SPC(10)sINPUT IZ(I) PRINTsPRINT"HAENDLERRABATT IN X "HR(I)	<191>
CHR$(145)SPC(12)sINPUT LE(I) 470 PRINT CHR$(145)SPC(19)"HUBRAUM{SHIFT-S PACE>(CCM) "HU(I)sPRINT CHR$(145)SPC(3	<148>	940	sPRINT CHR*(145)SPC(19)sINPUT HR(I) PE(I)=PG(I)+PZ(I)+PR(I)+PT(I)+PU(I)+PL (I)+PD(I)+PF(I)	<080> <143>
2);sINPUT HU(I) 480 PRINTsPRINT"GRUNDPREIS "PG(I)sPRINT CH	<016>	950	PE(I)=PE(I)+P1(I)+P2(I)+P3(I)+P4(I)+P5 (I)-IZ(I)	<194>
R*(145)SPC(10)sINPUT PG(I) 490 PRINTsPRINT"UEBERFUEHRUNG + ZULASSUNG	<254>	960	PE (I) =INT (PE (I) * (l-HR (I) /100) *100+. 5) / 100	<096>
"PZ(I)	<246>	970	FOR J=1 TO 40sPRINT"Y";sNEXTsPRINT"INS	
500 PRINT CHR$(145)SPC(25)sINPUT PZ(I)	<074>		GESAMT",,PE(I)"DM"s PRINTs PRINT	<125>
510 PRINTsPRINT CHR$(18>"<14SPACE>E X T R A S s{13SPACE>";	<017>	980	GOSUB 4310	<022>
108
C64
Finanzen
990	*RINTsPRINTsPRINT"SOLLEN DATEN FUER EI			HERUNG/JAHR"CHR#(154)s PRINT“ "VT(I)	<111>
NEN WEITEREN WAGEN<2SPACE>EINGEGEBEN W			1500	PRINT CHR#(145);sINPUT VT(I)	<082>
ERDEN? (J/N)"		<167>	1510	PRINT CHR#(144)	<140>
1000	GET Et:IF E#="J"THEN 410	<249>	1520	PRINT"VOLLKASKOVERSICHERUNG/JAHR"CHR#	
1010	IF E#="N"THEN 1030	<134>		(154)sPRINT" "VV(I)sPRINT CHR#(145);s	
1020	GOTO 1000	<198>		INPUT VV(I)	<048>
1030	POKE 53280,14sPOKE 53281,6	<226>	1530	PRINT CHR#(144)	<160>
1040	PRINT CHR#(147)CHR#(18)CHR#(154)"<9SP		1540	PRINT CHR#(144)“INSASSENUNFALLVERSICH	
	ACE>Z U R<3SPACE>A U S W A H L<10SPAC			ERUNG"CHR#(154)sPRINT" "VI(I)sPRINT C	
	E)"	<108>		HR#(145);	<089>
1050	PRINT CHR#(18)"1"CHR#(146)" DATENEING		1550	INPUT VI(I)	<097>
	ABE FUER EIN WEITERES<10SPACE>FAHRZEU		1560	GOTO 1030	<072>
	G"	<049>	1570	GOSUB 1720s PRINT s PRINT”WERKSTATTKOSTE	
1060	PRINT:PRINT CHR#(18)"2"CHR#(146)" KOR			N FUER NR.";sINPUT I	<042>
	REKTURs PREISANGABEN	<111>	1580	PRINT CHR#(147)CHR#(18)"{5SPACEJW E R	
1070	PRINT:PRINT CHR#(18);	<022>		K S T A T T K 0 S T E N<6SPACE>"	<193>
1080	PRINT"3"CHR#(146)" STEUER UND VERSICH		1590	PRINT"ZU DEN WERKSTATTKOSTEN GEHOEREN	
	ERUNG"sPRINT"<2SPACE>(EINGABE BZW. KO			U.A.s"	<155>
	RREKTUR)"	<010>	1600	PRINT"OELWECHSEL, INSPEKTIONEN, REIFE	
1090	PRINT:PRINT CHR#(18)"4"CHR#(146)" WER			N- UND<3SPACE>AUSPUFFERNEUERUNG..."	<013>
	KSTATTKOSTEN”8 PRINT“<2SPACE>(EINGABE		1610	PRINT"WEIL ES KAUM MOEGLICH IST, DIE	
	BZW. KORREKTUR)“	<138>		WERKSTATT";	<001>
1100	PRINTsPRINT CHR#(18)"5"CHR#(146)" BET		1620	PRINT"KOSTEN DER NAECHSTEN JAHRE EXAK	
	RIEBSKOSTEN”sPRINT“<2SPACE)(EINGABE B			T VORAUS-“;	<240>
	ZW. KORREKTUR)“	<110>	1630	PRINT"ZUBERECHNEN, WIRD HIER MIT EINE	
1110	PRINTsPRINT CHR#(18)"6"CHR#(146)" TAB			R"s PRINT"PAUSCHALE GERECHNET.“s PRINT	<219>
	ELLE'ANSCHAFFUNGSPREIS'“	<096>	1640	PRINT CHR#(144)"FUER "TY#(I)	<132>
1120	PRINTsPRINT CHRI(18)"7"CHR$(146)" TAB		1650	PRINTsPRINT CHR#(18)“l"CHR#(146);	<092>
	ELLE KOSTEN PRO MONAT'	<234>	1660	PRINT“ PAUSCHALE VON 100 DM/MONAT (DU	
1130	PRINTsPRINT CHR$(18)"8"CHR$(146)" TAB			RCH-<6SPACE>SCHNITTSWERT STAND 1984)"	
	ELLE KOSTEN PRO KILOMETER'	<188>		sPRINT	<213>
1140	PRINTsPRINT CHR#(18)"9"CHR#(146)" GRA		1670	PRINT CHR#(18)"2"CHR#(146)" ANDERE PA	
	FIK“	<106>		USCHALE"CHR#(154)	<089>
1150	PRINTsPRINT CHR$(18)"*"CHR$(146)" SPE		1680	GET E#sIF E#="l"THEN WK(I)=100sWJ(I)=	
	ICHERN DER DATEN AUF DISKETTE“;	<103>		WK(I)*12sGOTO 1030	<059>
1160	GET E#sIF E#=""THEN 1160	<166>	1690	IF E#="2"THEN PRINTsPRINTsPRINT"WIEVI	
1170	IF E#="*"THEN 2550	<098>		EL DM "WK(I)sPRINT CHR#(145)SPC(10)sI	
1180	E=VAL(E#)sON E GOTO 400,1200,1400,157			NPUT WK(I)	<081>
	0,1740,2150,2280,2460,2960	<102>	1700	IF E#="2"THEN WJ(I)=WK(I)*12sG0T0 103	
1190	GOTO 1160	<066>		0	<221>
1200	PRINT CHR$(147)CHR$(18)"{3SPACE)K 0 R		1710	GOTO 1680	<223>
	R E K T U R{2SPACE>( P R E I S E<SHI		1720	PRINT CHR#(147)sPRINT"BISHER WURDEN D	
	FT-SPACE })<3SPACE)“	<203>		ATEN EINGEGEBEN FUER"	<063>
1210	GOSUB 1720	<070>	1730	FOR 1=1 TO NsPRINTsPRINT I;TY#(I)sNEX	
1220	PRINTsPRINT"KORREKTUR FUER NR.";sINPU			TsRETURN	<070>
	T I	<119>	1740	GOSUB 1720	<092>
1230	PRINTsPRINTsPRINT“DIE KORREKTUR ERFOL		1750	PRINTsPRINT"BETRIEBSKOSTEN FUER WELCH	
	GT DURCH UEBER-"	<017>		ES FAHRZEUG7"sINPUT I	<031>
1240	PRINT"SCHREIBEN, EINFUEGEN ODER ANHAE		1760	PRINT CHR#(147)CHR#(18)"<6SPACEJB E T	
	NGEN.”	<207>		R I E BS K 0 S T E N<8SPACE>"	<063>
1250	PRINT"NACH DER KORREKTUR ODER WENN NI		1770	PRINT CHR#(144)"FUER "TY#(I)sPRINT CH	
	CHTS VER-”;	<015>		R#(154)	<039>
1260	PRINT"AENDERT WERDEN SOLL, BITTE “CHR		1780	PRINT"DER MOTOR BRAUCHT"sPRINT	<214>
	#(18)"RETURN"CHR#(146)	<243>	1790	PRINT"<4SPACE>"CHR#(18)"N"CHR#(146)"	
1270	PRINT"DRUECKEN!"	<176>		N0RMAL<4SPACE>"CHR#(18)"S“;	<235>
1280	PRINTs PRINTs PRINT"WEITER?“	<190>	1800	PRINT CHR#(146)" SUPER<4SPACE>"CHR#(1	
1290	GET E#sIF E$=""THEN 1290	<235>		8)"D"CHR#(146)" DIESEL"	<212>
1300	GOTO 430	<030>	1810	PRINTs PRINTs PRINT"C2SPACE>"CHR#(18)"A	
1310	END	<042>		"CHR#(146)" BLEIFREI N0RMAL<3SPACE>";	<211>
1320	REM PREISE FUER SONDERZUBEHOER	<176>	1820	PRINT CHR#(18)"B"CHR#(146)" BLEIFREI	
1330	IF EX$="0“THEN EX=0sRETURN	<040>		SUPER"	<131>
1340	IF EX#="*"THEN EX-0sRETURN	<044>	1830	GET TR#(I)	<220>
1350	EX=VAL(EX#)sIF EX<>0 THEN RETURN	<061>	1840	IF TR#(I)="N"THEN PRINTsPRINT"PREIS/l	
1360	PRINT“EINGABE NICHT KORREKT! BITTE NE			LITER NORMALBENZIN "PN	<056>
	UEINGABE!";:INPUT EX#sGOTO 1330	<024>	1850	IF TR#(I)="N"THEN PRINT CHR#(145)SPC(	
1370	PRINTsPRINT“WIRD DIE EINGABE WEITERER			26)sINPUT PNsGOTO 1950	<035>
	EXTRAS <8SPACE>GEWUENSCHT?"	<245>	1860	IF TR#(I)="S"THEN PRINTsPRINT"PREIS/l	
1380	GET E#sIF E#="J"OR E#="N"THEN RETURN	<180>		LITER SUPERBENZIN "PS	<255>
1390	GOTO 1380	<109>	1870	IF TR#(I)="S"THEN PRINT CHR#(145)SPC(	
1400	PRINT CHR#(147)sREM *STEUER U.VERSICH			26)sINPUT PSsGOTO 1950	<176>
	ERUNG*	<158>	1880	IF TR#(I)="D"THEN PRINTsPRINT"PREIS/l	
1410	GOSUB 1720	<016>		LITER DIESEL "PD	<120>
1420	PRINTsPRINTsPRINT"STEUER- UND VERSICH		1890	IF TR#(I)="D"THEN PRINT CHR#(145)SPC(	
	ERUNGSANGABEN FUER"sINPUT"FAHRZEUG NR			20)sINPUT PDsGOTO 1950	<088>
	-";i	<203>	1900	IF TR#(I)="A"THEN PRINTsPRINT"PREIS/l	
1430	PRINT CHR$(147)CHR#(18)“<8SPACE>STEUE			LITER NORMAL(BLEIFR.) "PA	<069>
	R UND VERSICHERUNG<9SPACE>"	<051>	1910	IF TR#(I)="A"THEN PRINT CHR#(145)SPC(	
1440	PRINT"FUER "TY#(I)	<238>		29)sINPUT PAsGOTO 1950	<168>
1450	PRINTsPRINT CHR#(144)“KRAFTFAHRZEUGST		1920	IF TR#(I)="B"THEN PRINTsPRINT"PREIS/l	
	EUER/JAHR"CHR#(154)sPRINT“ "VS(I)	<240>		LITER SUPER (BLEIFR.) "PB	<103>
1460	PRINT CHR#(145);sINPUT VS(I)	<010>	1930	IF TR#(I)="B"THEN PRINT CHR#(145)SPC(	
1470	PRINTsPRINT CHR#(144)“HAFTPFLICHTVERS				
1480	ICHERUNG/JAHR"CHR#(154)s PRINT" “VH(I) PRINT CHR#(145);sINPUT VH(I)	<035> <189>	Listing 1. Listing zum »Autokauf«. Bitte beachten Sie		
1490	PRINTsPRINT CHRX144) "TEILKASKOVERSIC		die Eingabehinweise auf Seite 6.		
4

109
Finanzen
C64
	29):INPUT PB:GOTO 1950	<212>	2550 REM * SPEICHERN AUF DISKETTE *	<005>
1940	GOTO 1830	<070>	2560 PRINT:OPEN l,8,15,"S;AUT0VERGL.":CL0S	
1950	PRINT:PRINT:PRINT CHR$(144> ’’VERBRAUCH		E 1	<001>
	: "CHR$(154)"BERUECKSICHTIGEN SIE DAB		2570 OPEN 1,8,8,"AUTOVERGL.,S,W"	<031>
	EI,"	<144>	2580 PRINT#1,N:PRINT#1,PN:PRINT#1,PS:PRINT	
1960	PRINT"OB DER WAGEN UEBERWIEGEND AUF L		#1,PD:PRINT#1,PA:PRINT#1,PB	<175>
	ANGSTREK-";	<250>	2590 PRINT#1,P1$:PRINT#1,P2$ s PRINT#1,P3$:P	
1970	PRINT"KEN ODER IM STADTVERKEHR GEFAHR		RINT#1,P4$:PRINT#1,P5$	<120>
	EN WIRD! ’’	<176>	2600 FOR 1=1 TO N	<045>
1980	PRINT"WIEVIEL LITER AUF 100 KM "VE(I)	<068>	2610 PRINT#l,TY$(I);PRINT#l,TK$(I);PRINT#l	
1990	PRINT CHR$(145)SPC(24)sINPUT VE(I)	<014>	,LE(I):PRINT#l,HU(I):PRINT#1,SO(I)	<066>
2000	PRINT:PRINT;PRINT CHR$(144)"DIE KOSTE		2620 PRINT#1,PG(I):PRINT#1,PZ(I):PRINT#1,P	
	N FUER NACHGEFUELLTES OEL"	<194>	R(I):PRINT#l,PT(I):PRINT#l,PU(I):PRIN	
2010	PRINT"WERDEN MIT 1% DER TREIBSTOFFKOS		T#l,PL(I)	<212>
	TEN BEI"	<174>	2630 PRINT#l,PD<I)sPRINT#l,PF<I):PRINT#l,P	
2020	PRINT"OTTOMOTOREN UND MIT 27. BEI DIES		1(I):PRINT#l,P2(I):PRINT#l,P3(I)	<043>
	ELMOTOREN";	<118>	2640 PRINT#l,P4(I)sPRINT#l,P5(I)	<039>
2030	PRINT"BERUECKSICHTIGT."CHR$(154):PRIN		2650 PRINT#l,PlS(I):PRINT#l,P2$(I):PRINT#l	
	T:PRINT	<244>	,P3$(I):PRINT#l,P4*(I):PRINT#l,P5*(I)	<012>
2040	GOSUB 2120	<050>	2660 PRINT#1,PE(I):PRINT#1,IZ(I):PRINT#1,H	
2050	PRINT CHR$(147)CHR$(18)"{12SPACE>S 0		R(I)	<015>
	N ST I G E S<llSPACE}"	<050>	2670 PRINT#1,VS(I):PRINT#1,VH(I):PRINT#1,V	
2060	PRINT"FALLS GEWUENSCHT, KOENNEN SIE H		T(I):PRINT#l,VV(I):PRINT#l,VI(I)	<049>
	IER"	<233>	2680 PRINT#l,VE(I):PRINT#l,TP(I):PRINT#l,W	
2070	PRINT"KOSTEN FUER WAGENPFLEGE, GARAGE		K(I):PRINT#l,WJ(I);PRINT#l,TR$(I)	<216>
	NMIETE... ";	<004>	2690 PRINT#l,PD$(I):PRINT#l,PT$(I);PRINT#1	
2080	PRINT"BERUECKSICHTI6EN.":PRINT	<026>	,PU$(I):PRINT#l,PL$(I):PRINT#l,PR^(I)	<108>
2090	PRINT"SUMME PRO JAHR "SO(I)	<055>	2700 PRINT#1,KB(I):PRINT#1,ZM(I)s PRINT#1,M	
2100	PRINT CHR*(145)SPC(14)sINPUT SO(I)	<002>	O(I):PRINT#l,GE(I):PRINT#l,AZ(I);PRIN	
2110	GOTO 1030	<114>	T#1,KS(I):PRINT#l,KR(I)	<220>
2120	PRINT"WEITER? (DRUECKEN SIE EINE BELI		2710 PRINT#l,PF$(I);NEXT	<091>
	EBIGE<4SPACE>TASTE!)";	<022>	2720 CLOSE 1	<191>
2130	GET E$sIF E$=""THEN 2130	<022>	2730 GOTO 1030	<226>
2140	RETURN	<166>	2740 REM * LADEN VON DISKETTE *	<143>
2150	REM * T A B E L L E N *	<177>	2750 OPEN l,8,8,"AUT0VERGL.,S,R"	<081>
2160	PRINT CHR$(147)CHR$(18)"<2SPACE>A N S		2760 INPUT#l,N:INPUT#l,PN:INPUT#1,PS;INPUT	
	C H A F F U N G S K 0 S T E N<3SPACE		#l,PD:INPUT#1,PA;INPUT#l,PB	<180>
	>”	<169>	2770 INPUT#1,P1^:INPUT#l,P2*:INPUT#1,P3$;I	
2170	FOR 1=1 TO N:PRINT TYi(I);	<107>	NPUT#1,P4$:INPUT#1,P5$	<145>
2180	FOR J=1 TO 25-LEN(TY*(I))sPRINT".";:N		2780 FOR 1=1 TO N	<225>
	EXT:PX=PE(I>8lF KR(I)=1 THEN PX=KS(I)	<186>	2790 INPUT#l,TY$(I):INPUT#1,TK$(I):INPUT#1	
2190	PRINT INT(PX)"DM"	<215>	,LE(I);INPUT#1,HU(I);INPUT#1,SO(I)	<066>
2200	IF N<10 THEN PRINT	<033>	2800 INPUT#1,PG(I):INPUT#1,PZ(I):INPUT#1,P	
2210	NEXT I:GOSUB 2120	<016>	R(I);INPUT#1,PT(I):INPUT#1,PU(I>:INPU	
2220	GOTO 1030	<224>	T#1,PL(I)	<197>
2230	PRINT CHR$(147):F0R Y=1 TO 6;PRINT;NE		2810 INPUT#l,PD(I):INPUT#l,PF(I);INPUT#l,P	
	XT 8 PRINT"DURCHSCHNITTLICHE FAHRSTRECK		1(1):INPUT#l,P2(I)sINPUT#l,P3(I)	<038>
	E PRO JAHR;"	<028>	2820 INPUT#l,P4(I):INPUT#l,P5(I)	<237>
2240	PRINT:INPUT S	<201>	2830 INPUT#1,P1$(I);INPUT#1,P2$(I>:INPUT#1	
2250	PRINT;PRINT:PRINT	<087>	,P3$(I>:INPUT#1,P4$(I):INPUT#1,P5$(I)	<200>
2260	PRINT"NACH WIEVIEL JAHREN WOLLEN SIE		2840 INPUT#l,PE(I);INPUT#l,IZ(I):INPUT#l,H	
	DEN WAGENWIEDER VERKAUFEN";;INPUT ZJ	<080>	R(I)	<148>
2270	RETURN	<040>	2850 INPUT#l,VS(I):INPUT#l,VH(I):INPUT#l,V	
2280	GOSUB 2230:PRINT CHR$(147)CHR$(18)"<3		T(I):INPUT#l,VV(I):INPUT#l,VI(I)	<046>
	SPACE>KOSTEN PRO MONAT BEI"S;	<143>	2860 INPUT#l,VE(I);INPUT#l,TP(I):INPUT#l,W	
2290	PRINT CHR#(157)" KM/JAHR<3SPACE}"	<127>	K(I):INPUT#l,WJ(I);INPUT#l,TR$(I)	<213>
2300	FOR 1=1 TO NsPRINT TY#(I);	<237>	2870 INPUT#l,PD$(I):INPUT#l,PT$(I):INPUT#1	
2310	FOR J=1 TO 28-LEN(TY$(I))sPRINT".";sN		,PU#(I):INPUT#l,PL*(I):INPUT#l,PR$(I)	<040>
	EXT	<177>	2880 INPUT#l,KB<I):INPUT#l,ZM<I)sINPUT#l,M	
2320	GOSUB 2360;PRINT INT(P(I)/12)"DM"	<187>	O(I);INPUT#1,GE(I):INPUT#1,AZ(I>:INPU	
2330	IF N<10 THEN PRINT	<165>	T#l,KS(I):INPUT#l,KR(I)	<187>
2340	NEXT I:GOSUB 2120	<148>	2890 INPUT#l,PF$(I):NEXT	<193>
2350	GOTO 1030	<100>	2900 IF PR$(I)<>"*"THEN PR$(I)=STR$(PR(I))	<021>
2360	REM * KOSTEN PRO JAHR *	<127>	2910 CLOSE 1	<127>
2370	PX=PE(I):IF KR(I)=1 THEN PX=KS(I)	<125>	2920 GOTO 1030	<162>
2380	P(I)=PX/ZJ+VS(I)+VH(I)+VT(I)+VV(I)+VI		2930 PRINT"BISHER WURDEN DATEN EINGEGEBEN	
	(I)+WJ(I)+SO(I)	<022>	FUER"	<114>
2390	IF TR$(I)="N"THEN TP=PN:OE=1.01	<248>	2940 FOR 1=1 TO N:PRINT:PRINT I;TY$(I):NEX	
2400	IF TR$(I)="S"THEN TP=PS;OE=1.01	<062>	T	<053>
2410	IF TR$(I)="D"THEN TP=PD:OE=1.02	<152>	2950 RETURN	<214>
2420	IF TR*(I)="A"THEN TP=PA:OE=1.01	<122>	2960 REM * G R A F I K *	<237>
2430	IF TR$(I)="B"THEN TP=PB:OE=1.01	<144>	2970 PRINT CHR$(147)CHR$(18)" D I A G R A	
2440	P(I)=P(I)+S/100*VE(I)*TP*OE	<117>	M M E{2SPACE>Z U R{2SPACE)A U S W A H	
2450	RETURN	<222>	L"	<246>
2460	GOSUB 2230:PRINT CHR$(147)CHR$(18)" K		2980 PRINT CHR$(18)"1"CHR$(146)" ANSCHAFFU	
	OSTEN PRO KILOMETER BEI"S;	<060>	NGSPREISE"	<025>
2470	PRINT CHR$(157)" KM/JAHR "	<053>	2990 PRINT:PRINT CHR$(18>"2"CHR$(146)" MON	
2480	FOR 1=1 TO N=PRINT TY$(I);	<163>	ATLICHE KOSTEN"	<070>
2490	FOR J=1 TO 30-LEN(TY$(I))sPRINT".";sN		3000 PRINT:PRINT CHR$(18)"3"CHR$(146)" KOS	
	EXT:GOSUB 2360	<227>	TEN PRO KILOMETER"	<222>
2500	KP=INT(P(I)/S*100+.5)/100	<082>	3010 PRINT:PRINT CHR$(18)"4"CHR$(146)" HUB	
2510	KP$=STR$(KP):IF KP<1 AND LEN(KP$)<4 T		RAUM UND LEISTUNG"	<022>
	HEN KP$=KP$+"0"	<156>	3020 PRINT:PRINT CHRI(18)"5"CHR$(146)" EXT	
2520	IF KP<1 THEN KP$="0"+RIGHT$(KP$,3)	<016>	RAS"	<036>
2530	PRINT KP$" DM"sIF N<10 THEN PRINT	<084>	3030 PRINT:PRINT CHR$(18)"6"CHR*(146)" DRU	
2540	NEXT I;GOSUB 2120:GOTO 1030	<141>	CKERAUSGABE FUER EIN FAHRZEUG"	<063>
110

C64
Finanzen
3040
3050 3060
3070
3080 3090
3100 3110
3120
3130
3140
3150 3160
3170 3180
3190 3200
3210
3220
3230
3240
3250 3260 3270
3280
3290
3300 3310
3320
3330 3340
3350
3360
3370
3380 3390
3400
3410 3420
3430
3440
3450
3460 3470
3480 3490 3500
3510
3520
3530
PRINT:PRINT:PRINT:PRINT "ZUR PROGRAMMF ORTSETZUNG NACH DIAGRAMMEN"	<169>
PRINT"EINE BELIEBIGE TASTE DRUECKEN!" <112> PRINT:PRINT"WIRD EINE HARDCOPY GEWUEN SCHT,"	<227>
PRINT CHR$(18)"Fl"CHR$(146)" DRUECKEN
!"	<152>
GET E$:IF E^=""THEN	3080	<055>
E=VAL(E$)sON E GOTO 3110,3260,3340,34 20,3900,4700	<073>
GOTO 3080	<009>
REM * GRAFIK ANSCHAFFUNGSKOSTEN *	<183>
GR=l:MO=lsPOKE 53280,0:POKE 53281,0:R EM HINTERGR.FARBE	<180>
PRINT CHR$(147)CHR$(158)" A N S C H A
F F U N G S K 0 S T E N"sPRINTsMS=0 <235> FOR 1=1 TO N:IF KS(I)>60000 THEN MS=3 :GOTO 3180	<199>
IF KS(I)>30000 THEN	IF	MS<2	THEN	MS=2	<241>
IF KS(I)>15000 THEN	IF	MS<1	THEN	MS=1	<002>
NEXT	<132>
FOR 1=1 TO 20:PRINT TAB(5)CHR$(5)"T<4 SPACE)H<4SPACE)R<4SPACE)R(4SPACE)R{4S PACE>H<4SPACE>W:NEXT	<112>
FOR 1=1 TO 38:PRINT'T";:NEXT:PRINT	<042>
IF MS=0 THEN PRINT TAB(14)"5000<5SPAC E >10000 <5SPACE>15000"sDI=500	<237>
IF MS=1 THEN PRINT TAB(13)"10000<5SPA CE >20000 <5SPACE>30000"sDI =1000	<048>
IF MS=2 THEN PRINT TAB(13)"20000<5SPA CE >40000 <5SPACE >60000"3 DI=2000	<209>
IF MS=3 THEN PRINT TAB(13)"30000<5SPA CE>60000<5SPACE>90000":DI=3000	<114>
FOR 1=1 TO N3K(I)=KS(I)sNEXT	<037>
GOTO 3710	<046>
REM * GRAFIK KOSTEN PRO MONAT *	<077>
GOSUB 2230sGR=lsMO=l:POKE 53280,7sPOK E 53281,7sREM HINTERGR.FARBE	<014>
PRINT CHR$(147)CHR$(31)"<3SPACE>K 0 S
T E N<3SPACE>P R O<3SPACE>M O N A T" sPRINTsMS=0	<149>
FOR 1=1 TO 20:PRINT TAB(5)CHR$(144)"T <4SPACE >R<4SPACE >H<4SPACE>E<4SPACE>H< 4SPACE>H<4SPACE>H"s NEXT	<185>
FOR 1=1 TO 38sPRINT"U";:NEXTsPRINT <152> FOR 1=1 TO NsGOSUB 2360:K(I)=INT(P<I) /12):NEXT	<181>
PRINT TAB(14)" 300<6SPACE>600<7SPACE> 900":DI=30	<070>
GOTO 3710	<128>
REM * GRAFIK KOSTEN	PRO	KILOMETER *	<250>
GOSUB 2230sGR=l:MO=l:POKE 53280,14sPO KE 53281,14:REM	HINTERGR.FARBE	<208>
PRINT CHR$(147)CHR$(31)" K O S T E N< 3SPACE>P R 0<3SPACE>K I L O M E T E R "sMS=0	<020>
FOR I=1 TO 20:PRINT TAB(5)CHRt(144)'T <4SPACE>H<4SPACE >W<4SPACE >H<4SPACE>W< 4SPACE>W<4SPACE>R"s NEXT	<011>
FOR 1=1 TO 38sPRINT"tf";:NEXTsPRINT	<234>
FOR 1=1 TO N:GOSUB 2360sK(I)=INT(P(I) /S*100);NEXT	<188>
PRINT TAB(14)"0.30<6SPACE>0.60<6SPACE >0.90";sDI=3	<195>
GOTO 3710	<208>
REM * GRAFIK HUBRAUM UND LEISTUNG *	<020>
GR=lsPOKE 53280,0sPOKE 53281,0sREM HI NTERGRUNDFARBE	<135 >
PRINT CHR$(147)CHR$(5)sPRINT:PRINT:F0 R 1=1 TO N:PRINT I;TK$(I)sNEXT;PRINT CHR$(19):LE=0	<201>
FOR 1=1 TO NsIF LE(I)>100 THEN LE=l:G OTO 3470	<111>
NEXT:HU=0	<107>
FOR 1=1 TO N:IF HU(I)>4000 THEN HU=2: GOTO 3500	<082>
IF HU(I)>2000 THEN HU=1	<127>
NEXT	<198>
IF HU=2 THEN Hl#="6000"sH2#="4500":H3 ♦="3000"s H4#="1500"3 DH=300	<251>
IF HU=1 THEN Hl$="4000"sH2$="3000"sH3 ♦="2000"s H4$="1000"s DH=200	<112 >
IF HU=0 THEN Hl$="2000"sH2$="1500"sH3 ♦="1000"8 H4t=" 500"3 DH=100	<092>
IF LE=1 THEN Ll$="200":L2$="150":L3$= "100"sL4$=" 50"sDL=10	<040>
3540	IF LE=0 THEN Ll$="100"sL2$=" 75"sL3^= " 50":L4#=" 25"sDL=5	<097>
3550 3560	PRINT CHR$(19)"<5SPACE>LEISTUNG ("CHR ♦(28)"Ä”CHR^(154)")<13SPACE>HUBRAUM(H PRINT"<8SPACE>IN KW<20SPACE>IN CCM"	<240> <119>
3570 3580 3590 3600 3610 3620	PRINT TAB(9)Ll^"fi	 L"HU:X=4:GOSUB 3610 PRINT TAB(9)L2$"g	 L"H2$:GOSUB 3610 PRINT TAB(9)L3^"g	 VH3^:G0SUB 3610 PRINT TAB(9)L4^"g	 l"H4^:X=5;60SUB 3610sGOTO 3620 FORI=1 TO XsPRINT TAB(12)"R<4SPACE>. <4SPACE>.<4SPACE>.<5SPACE>^"sNEXTsRET URN PRINT TAB(12)"UlüüU5üüül0WJ15mnJ20ü"	<059> <055> <199> <163> <118> <088>
3630 » 3640 3650 3660	FOR 1=1 TO N:LX=INT(LE(I)/DL+.5)sHX=I NT(HU(I)/DH+.5) POKE 1956+I-LX*40,81:POKE 56228+I-LX* 40,2 POKE 1956+I-HX*40,87sPOKE 56228+I-HX* 40,7 IF HX=LX THEN POKE 1956+I-HX*40,42	<249> <202> <164> <093>
3670	NEXT	<124>
3680	GET E^sIF E^=""THEN 3680	<020>
3690	IF ASC(E^)=133 THEN GOSUB 4570	<147>
3700	GOTO 1030	<180>
3710	REM * BALKENGRAFIK *	<186>
3720 3730 3740	PRINT CHR^(19)sPRINTsIF N<6 THEN FOR Y=1 TO 5sPRINTsNEXT FOR 1=1 TO NsPRINT TK^(I)sIF N<11 THE N PRINT NEXT I	<076> <249> <012>
3750 3760	PRINT CHR^(19)sPRINTsIF N<6 THEN FOR Y=1 TO 5sPRINTsNEXT FOR 1=1 TO NsPRINT SPC(6)	<106> <007>
3770 3780 3790	Kl=INT(K(I)/DI):K2=INT((K(I)-Kl*DI)/D 1*6) IF K1>=1 THEN FOR J=1 TO KlsPRINT CHR ♦(28)CHR^(18)" ";zNEXT IF K2=0 THEN PRINT	<007> <024> <099>
3800	IF K2=1 THEN PRINT CHR^(146)CHR^(165)	<056>
3810	IF K2=2 THEN PRINT CHR^(146)CHR^(181)	<106>
3820	IF K2=3 THEN PRINT CHR^(146)CHR^(161)	<172>
3830	IF K2=4 THEN PRINT CHR^(182)	<087>
3840	IF K2=5 THEN PRINT CHR^(167)	<035>
3850	IF N<11 THEN PRINT	<225>
3860	NEXT I	<134>
3870	GET E^:IF E^""THEN 3870	<212>
3880	IF ASC(E^)=133 THEN GOSUB 4570	<083>
3890	MO=0:GOTO 1030	<096>
3900	REM * E X T R A S *	<021>
3910 3920 3930	PRINT CHR^(147)CHR^(144)"*-SERIENM. A -AUFPREIS 0-NICHT VORHANDEN " IF N<10 THEN AS^="<2SPACE>":AS=3sG0T0 3950 IF N>15 THEN AS^=""sAS=lsGOTO 3950	<107> <089> <124>
3940	AS^=" ":AS=2	<019>
3950	FOR J=1 TO 3	<247>
3960	TB=ll:FOR 1=1 TO N	<044>
3970 3980	PRINT TAB(TB)MID^(TK^(I),J,l);sTB=TB+ ASsNEXT IsPRINTsNEXT J FOR 1=1 TO 40sPRINT"U";sNEXT	<209> <229>
3990	FOR 1=1 TO N	<165>
4000 4010 4020 4030 4040 4050 4060 4070 4080	UR^(I)=PR^(I):IF UR^(I)<>"*"AND UR^(I )<>"0"THEN UR^(I)="A" UU(I)=PT^(I):IF UU(I)<>"*"AND UT^(I )<>"0"THEN UT^(I)="A" UU^(I)=PU^(I):IF UU^(I)<>"*"AND UU^(I )<>"0"THEN UU^(I)="A" UL^(I)=PL^(I)sIF UL^(I)<>"*"AND UL^(I )<>"0"THEN UL^(I)="A" UD^(I)=PD^(I)sIF UD^(I)<>"*"AND UD^(I )<>"0"THEN UD^(I)="A" UF^(I)=PF^(I):IF UF^(I)<>"*"AND UF^(I )<>"0"THEN UF^(I)="A" Ul^(I)=Pl^(I):IF UU(I)<>"*"AND Ul^(I )<>"0"THEN Ul^(I)="A" U2^(I)=P2^(I):IF U2^(I)<>"*"AND U2^(I )<>"0"THEN U2^(I)="A" U3^(I)=P3^(I):IF U3^(I)<>"*"AND U3^(I )<>"0"THEN U3^(I)="A"	<177> <100> <194> <214> <062> <240> <013> <107> <201>
Listing 1. Listing zum »Autokauf« (Fortsetzung)
111
Finanzen
C64
4090	U4$(I)=P4$(I)sIF U4*(I)<>"*"AND U4$(I		4630	IF H4>95 OR H4<32 THEN H5=H4+64	<023>
	)<>"0"THEN U4$(I)="A"	<040>	4640	IF H4>31 AND H4<64 THEN H5=H4	<179>
4100	U5$(I)=P5$(I)sIF U5$(I)<>"*"AND U5$(I		4650	IF H4>63 AND H4<96 THEN H5=H4+32	<103>
	)<>''0"THEN U5$(I)="A"	<136>	4660	H2#=CHR$(H5)	<253>
4110	NEXT	<056>	4670	Hl*=Hl$+H2#sIF H6=1 THEN H6=0sHl#=Hl#	
4120	PRINT"AUT0RADI0<2SPACE>";sF0R 1=1 TO			+CHR#(146)	<168>
	N:PRINT UR$(I);AS$;:NEXT!PRINT	<108>	4680	NEXTs PRINT#4,CHR#(15)CHRI(16)"20"Hl#C	
4130	PRINT"4 TUEREN<3SPACE>";sF0R 1=1 TO N			HR$(G1)	<097>
	sPRINT UT$(I);AS$;sNEXTsPRINT	<212>	4690	NEXTsPRINT#4sCL0SE 4sGR=0sRETURN	<155>
4140	PRINT"UNTERB.SCH.";sFOR 1=1 TO N:PRIN		4700	REM * DRUCKERAUSGABE FUER EIN FAHRZEU	
	T UU$(I);AS$;sNEXTsPRINT	<077>		G *	<052>
4150	PRINT"SERVOLENKG ";sFOR 1=1 TO NsPRIN		4710	PRINT CHR#(147)sF0R 1=1 TO NsPRINT I;	
	T UL$(I);AS$;sNEXTsPRINT	<170>		TY#(I)sNEXT	<155>
4160	PRINT"SCHIEBED.<2SPACE>";sF0R 1=1 TO		4720	PRINTsINPUT"DATEN FUER FAHRZEUG NR.";	
	NsPRINT UD$(I);AS$;:NEXT:PRINT	<016>		I	<154>
4170	PRINT"SONDERLACK.";sFOR 1 = 1 TO N:PRIN		4730	OPEN 4,4sPRINT#4	<019>
	T UL$(I);AS#;:NEXT:PRINT	<125>	4740	PRINT#4,CHR$(14)I"<2SPACE>"TY#(I)CHR$	
4180	IF P1$<>"0"THEN PRINT Pl$;sFOR 1=1 TO			(15)	<252>
	ll-LEN(Pl$)sPRINT” ";:NEXT	<024>	4750	PRINT#4,"LEISTUNG (KW)s <10SPACE>"LE(I	
4190	IF P1$<>"0"THEN FOR 1=1 TO NsPRINT U1			)	<186>
	$(I);AS$sNEXTsPRINT	<103>	4760	PRINT#4,"HUBRAUM (CCM)s <10SPACE>"HU(I	
4200	IF P2*<>"0"THEN PRINT P2$;:FOR 1=1 TO			)	<253>
	ll-LEN(P2$)sPRINT" ";sNEXT	<156>	4770	PRINT#4,"GRUNDPREISs <13SPACE>"PG(I)sP	
4210	IF P2t<>"0"THEN FOR 1 = 1 TO NsPRINT U2			RINT#4	<032>
	$(I);AS$? s NEXTs PRINT	<182>	4780	PRINT#4,"UEBERFUEHRUNG+ZULASSUNG:"PZ(	
4220	IF P3$<>"0"THEN PRINT P3$;sF0R 1=1 TO			I)	<251>
	ll-LEN(P3$)sPRINT" ";sNEXT	<032>	4790	PRINT#4,"AUTORADIOs <15SPACE>"PR#(I)	<160>
4230	IF P3$<>"0"THEN FOR 1=1 TO NsPRINT U3		4800	PRINT#4,"4 TUERENs{16SPACE)"PTt(I)	<105>
	♦ (I);AS$;s NEXTs PRINT	<250>	4810	PRINT#4,"UNTERBODEN- U.HOHLR.SCH.s"PU	
4240	IF P4$<>"0"THEN PRINT P4$;;F0R 1=1 TO			$(I)	<191>
	ll-LEN(P4$)sPRINT" ";sNEXT	<165>	4820	PRINT#4,"SERVOLENKUNGs <12SPACE>"PL#(I	
4250	IF P4$<>"0"THEN FOR 1=1 TO NsPRINT U4			)	<200>
	$(I);AS$;s NEXTs PRINT	<062>	4830	PRINT#4,"SCHIEBEDACHs <13SPACE>"PD#(I)	<179>
4260	IF P5$<>"0"THEN PRINT P5#;sFOR 1=1 TO		4840	PRINT#4,"SONDERLACKIERUNGs <8SPACE>"PF	
	ll-LEN(P5#)sPRINT" ";sNEXT	<041>		♦ (I)	<005>
4270	IF P5$<>"0"THEN FOR 1=1 TO NsPRINT U5		4850	IF P1$<>"0"THEN PRINT#4,Pli;CHR#(16)"	
	$(I);AS$;sNEXTsPRINT	<130>		25"Pl$(I)	<100>
4280	GET E#sIF E#=""THEN 4280	<143>	4860	IF P2$<>"0"THEN PRINT#4,P2$,CHR$(16)"	
4290	IF ASC(E#)=133 THEN GOSUB 4570	<239>		25"P2$(I)	<099>
4300	GOTO 1030	<016>	4870	IF P3$<>"0"THEN PRINT#4,P3$,CHR$(16)"	
4310	REM * FINANZIERUNG *	<197>		25"P3$(I)	<160>
4320	PRINT"SOLL ZUMINDEST EIN TEILDES NEU		4880	IF P4I<>"0"THEN PRINT#4,P4$,CHR$(16)"	
	WAGENS <3SPACE >FINANZIERT WERDEN?"	<004>		25"P4$(I)	<219>
4330	GET E$sIF E#="N"THEN KR(I)=0sKS(I)=PE		4890	IF P5$<>"0"THEN PRINT#4,P5$,CHR$(16)"	
	(I)s RETURN	<056>		25"P5$(I)	<022>
4340	IF E$="J"THEN KR(I)=lsGOTO 4360	<160>	4900	PRINT#4,"INZAHLUNGNAHME s <9SPACE}"IZ(I	
4350	GOTO 4330	<138>		)	<053>
4360	PRINTsPRINT"WIRD ZUSAETZLICH ZU DEM I		4910	PRINT#4,"HAENDLERRABATT s <9SPACE}"HR(I	
	N ZAHLUNG"	<141>		)	<108>
4370	PRINT"GENOMMENEN AUTO NOCH EINE ANZAH		4920	PRINT#4,"<RVSON>GESAMTPREISs <1lSPACE?	
	LUNG"	<208>		"PE(I)	<217>
4380	PRINT"GELEISTET?"	<164>	4930	IF KB(I)=0 THEN 4960	<181>
4390	GET E$sIF E*="J"THEN 4420	<055>	4940	PRINT#4sIF AZ(I)<>0 THEN PRINT#4,"ANZ	
4400	IF E$="N"THEN KB(I)=PE(I):GOTO 4450	<102>		AHLUNGs{14SPACE)"AZ(I)	<067>
4410	GOTO 4390	<137>	4950	PRINT#4,M0(I)"MONATSRATEN ("ZM(I)"<LE	
4420	PRINT"HOEHE DER ANZAHLUNG{2SPACE)";AZ			FT>7.) ZU JE"INT(KS(I)/MO(I)*100+.5)/l	
	(I)	<043>		00"<LEFT>DM"	<088>
4430	PRINT CHR$(145)SPC(20)sINPUT AZ(I)	<020>	4960	PRINT#4s PRINT#4,"KRAFTFAHRZEUGSTEUER/	
4440	KB(I> =PE(I)-AZ(I)	<173>		JAHRs"VS(I)	<171>
4450	PRINTsPRINT"ZINSEN PRO MONAT (7.) ";ZM		4970	PRINT#4,"HAFTPFLICHTVERS./JAHRs <3SPAC	
	(I)	<070>		E>"VH(I)	<182>
4460	PRINT CHR$(145)SPC(20)sINPUT ZM(I)	<178>	4980	IF VT(I)<>0 THEN PRINT#4,"TEILKASK0VE	
4470	PRINTsPRINT"WIEVIELE MONATSRATEN ";MO			RSICHERUNGs <3SPACE>"VT(I)	<198>
	(I)	<081>	4990	IF VV(I)<>0 THEN PRINT#4,"V0LLKASK0VE	
4480	PRINT CHR$(145)SPC(20):INPUT MO(I)	<065>		RSICHERUNGs <3SPACE>"VV(I)	<020>
4490	PRINTs PRINT"BEARBEITUNGSGEB. (7.) "; GE		5000	IF VI(I)<>0 THEN PRINT#4,"INSASSENUNF	
	(I)	<047>		ALLVERSICH.s <2SPACE>"VI(I)	<185>
4500	PRINT CHR#(145)SPC(20)sINPUT GE(I)	<072>	5010	PRINT#4sPRINT#4,"MITTLERER VERBRAUCHs	
4510	KS(I)=((ZM(I)*MO(I)+GE(I))/100+l)*KB(			"VE(I)"L/100 KM"j	<145>
	I)	<077>	5020	IF TR$(I)="N"THEN PRINT#4,"(N0RMALBEN	
4520	PRINTsPRINTsPRINT CHR#(154)"BEI EINER			ZIN) "	<232>
	KREDITSUMME VON"CHR$(144)KB(I)"DM"	<149>	5030	IF TR*(I)="S"THEN PRINT#4,"(SUPERBENZ	
4530	PRINT CHR$(154)"BETRAEGT DER TEILZAHL			IN) "	<011>
	UNGSPREIS"CHR$(144)sPRINT INT(KS(I)*1		5040	IF TR$(I)="D"THEN PRINT#4,"(DIESEL)"	<149>
	00+.5)/100;	<174>	5050	IF TR#(I)="A"THEN PRINT#4,"(BLEIFREI	
4540	PRINT"DM"CHR$(154)	<062>		NORMAL)"	<074>
4550	PRINT"MONATSRATEs"CHR$(144)INT(KS(I)/		5060	IF TR$(I)="B"THEN PRINT#4,"(BLEIFREI	
	MO(I)*100+.5)/100"DM"sPRINT CHR$(154)	<112>		SUPER)"	<115>
4560	RETURN	<044>	5070	PRINT"DRUCKERAUSGABE FUER EINEN WEITE	
4570	REM * HARDCOPY #	<123>		REN WAGEN(J/N)"	<107>
4580	IF GR=1 THEN Gl=8	<060>	5080	GET E$:IF E#=""THEN 5080	<085>
4590	IF GR=0 THEN Gl=15	<033>	5090	CLOSE 4sIF E#="J"THEN 4700	<231>
4600	Hl=1024sOPEN 4,4sPRINT#4	<087>	5100	GOTO 1030	<054>
4610	FOR H2=0 TO 24sHl$=""sF0R H3=0 TO 39	<199>			
4620	H4=0sH4=PEEK(Hl+H2*40+H3)sIF H4>128 T		© G4'er		
	HEN H4=H4-128s H6=1s Hl$=Hl$+CHR$(18)	<056>		Listing 1. Autokauf (Schluß)	
MaridOdntik-Buchveriag
werden Sie ein Profi
mit dem Commodore 64
Programmierer . Ä^Iwnenspra^-^
Ein Lehr- und Obung$bu<h mit ausgewählten ROM* und RAM4loutinen für die Entwicklung vö« eigenen Assembte^roorammen.
Alle Beispiele für die 40er» und 8Oer-SeHen verwendbar«
F. Kassera/W. Kassera
C64 — Programmieren in Maschinensprache
August 1985, 327 Seiten inklusive Beispieldiskette
In diesem Buch finden Sie über 100 Beispiele zur Assembler-Programmierung mit viel Kommentar und Hintergrundinformationen: Das Schreiben von Maschinenprogrammen • Rechnen und Texten mit vorhandenen Routinen • Bedienung von Drucker und Floppy • wie man BASIC- und Maschinenprogramme verknüpft • Erstellen von eigenen Befehlen in Modulform. Wenn Sie als Commodore-Profi ernsthaft in ASSEMBLER programmieren wollen, haben Sie mit diesem Buch das richtige Nachschlagewerk!
Best.-Nr. MT 830, ISBN 3-89090-168-9 (sFr. 47,80/öS 405,60)
Commodore 64 Listings, Band 2: Dateiverwaltung Schule Hobby
Oktober 1984,179 Seiten
Ein Buch mit Programmen für die ganze Familie ■ DATAVE — Eine Dateiverwaltung • mathematische Funktionen • Konjugation und Deklination in Latein • Regressionsanalyse • Bundesligata-
belle. Teilweise Vorkenntnisse erforderlich.
Best.-Nr. MT 766, ISBN 3-89090-071-2
hwk K«*»«f»
DM 49,—
DM 52
Pas
Dr. W.-J. Becker/M. Folprecht
H. L. Schneider/W. Eberl

H. Ponnath
C64 — Wunderland der Grafik
Juli 1985, 236 Seiten inkl. Beispieldiskette
Dieses Buch zeigt eine Vielzahl sehr interessanter Lösungen, um die grafischen Möglichkeiten des Commodore 64 optimal zu nutzen. Als Krönung enthält es ein zuschaltbares Assemblerprogramm, das umfangreiche grafische und einige neue BASIC-Befehle anbietet.
Best.-Nr. MT 756
ISBN 3-89090-130-1
(sFr.45,10/0S382,20) UM 45
K. Schramm
Die Floppy 1541 April 1985, 434 Seiten
Für alle Programmierer, die mehr über ihre VC 1541-Floppystation erfahren wollen. Der Vorgang des Formatierens • das Schreiben von Files auf Diskette • die Funktionsweise von schnellen Kopier- und Ladeprogrammen • viele fertige Programme.
Best.-Nr. MT 806, ISBN 3-89090-098-4
(sFr. 45,10/öS 382,20)
Best.-Nr. MT 710 (Beispiele auf Diskette)
(sFr. 29,90/öS 269,10)
DM 29,90 * inkl. MwSt.
Unverbindliche Preisempfehlung
DM 24,80 (sFr. 23,-/oS 193,40)
Mehr als 32 BASIC-Programme für den Commodore 64. Februar 1984,279 seiten ProgrammespeziellfürdenCommodore64 • umfassendepraktischeAnwendungen • jedeMen-ge Lehr- und Lernhilfen • super Spiele • für Basic-Neulinge und Experten.
Best.-Nr. MT 613 (Buch), ISBN 3-922120-66-0	DM 49,— (sFr. 45,10/öS 382,20)
Best.-Nr. MT 614 (Beispiele auf Diskette)	DM 48,— * (sFr. 48,—ZöS 432,—)
* inkl. MwSt. Unverbindliche Preisempfehlung
Profihandbuch
Das C64-Profihandbuch
Juli 1985, 410 Seiten
Ein Buch, das alle wichtigen Informationen für professionelle Anwendungen mit dem C64 enthält. Mit allgemeinen Algorithmen, die auch auf andere Rechner übertragbar sind, und vielen Utilities, getrennt nach BASIC- und Maschinenprogrammen. Besonders nützlich: erweiterte PEEK- und POKE-Funktionen.
Best.-Nr. MT 749
ISBN 3-89090-110-7
(sFr.47,80/0S405,60) UM Od,“

Programmieren unter CP/M mit dem C64
Juni 1985, 290 Seiten
Wenn Sie wissen wollen, wie das Betriebssystem CP/M 2.2 auf dem C64 implementiert ist, außerdem einiges über Turbo-Pascal, Nevada-Fortran, MBasic-80 erfahren wollen, dann ist dieses Buch genau richtig für Sie! Mit Schaltplänen zur eigenen Fertigung des CP/M-Moduls. Für eingefleischte C64-Profis.
Best.-Nr. 751
ISBN 3-89090-091-7
(sFr. 47,80/öS 405,60) UM Ol,—
Markt &Technik-Fachbiicher erhalten Sie beflhrem Buchhändler.
Fragen Sie dort nach unserem Gesamtkatalog mit über 200 neuen Computerbüchern.

MSX Basic. April 1985, 236 Seiten
Alles über den neuen Heimcomputerstandard MSX: zusätzlich zum »normalen« BASIC können mit insgesamt mehr als 150 Befehlen und Funktionen Grafiken erstellt, Töne erzeugt, Melodien komponiert und ganze Spielhandlungen programmiert werden • 32 Sprites garantieren abwechslungsreiche Action-Spiele • die Hardware des MSX-Systems • nützliche Hinweise zur Dateibehandlung • das MSX-BASIC anhand der Entwicklung eines Spielszenarios mühelos lernen • drei vollständige Spiele: Der eisige Planet, Autorennen und Bilder entwerfen • mit ausführlicher Befehlsübersicht • für Anfänger!
Best.-Nr. MT 805, ISBN 3-89090-107-7	DM 44,— (sFr. 40,50/öS 343,20)
Best.-Nr. MT 825 (Beispiele auf Kassette)	DM 19,90* (sFr. 19,90/öS 179,10)
* inkl. MwSt. Unverbindliche Preisempfehlung
Bestellkarten bitte an Ihren Buchhändler oder an einen unserer Depot-Händler. Adressenverzeichnis am Ende des Heftes. Beim Markt&Technik Verlag eingehende Bestellungen werden von den Depot-Händlern ausgeliefert.
BASIC-Programmierbuch. 1984,506 Seiten
Ein BASIC-Lehrbuch, das ebensoviel Spaß machtwie BASIC selbst. Locker und unterhaltsam geschrieben, mit vielen Zeichnungen und Grafiken bestückt, sagt der Text selbst dem Einsteiger alles, was für das erfolgreiche Programmieren in BASIC erforderlich ist.
Best.-Nr. MT 658, ISBN 3-922120-92-X
DM 78,— (sFr. 71,80/öS 608,40)
Mdrkt&TCChnik Verlag AG, Hans-Hnsel-Straße2,8013HaarbeiMünchen
Schweiz: Markt&Technik Vertriebs AG, Kollerstrasse 3, CH-6300 Zug, ® 0 42/4156 56 Österreich: Rudott Lechner & Sohn, Heizwerkstraße 10, A-1232 Wien, 9 02 22/67 75 26
Die angegebenen Preise sind Ladenpreise.
Finanzen
C64
Kassenwart im Wohnzimmer
Mit unserem Programm »Haushalts-kasse« haben Sie jederzeit den Überblick über Ihre Konten, Ihre Verschwendungssucht oder Ihre Sparsamkeit.
Das Programm »Haushaltskasse« (siehe Listing) verwaltet das verfügbare Einkommen und zeigt die Trendentwicklung auf.
Es handelt sich um eine Jahresbuchführung mit monatlichen Zwischenergebnissen. Insgesamt stehen 16 Konten zurVerfügung (Konto-Nummern 0 bis 15). Diese Konten können mit beliebigem Text (Kontoname) versehen werden. Die Kontonamen sind auf 15 alphanumerische Zeichen begrenzt; auf den Übersichten können aus Platzgründen jedoch nur 9 Zeichen ausgegeben werden. Sie brauchen nicht alle Konten sofort anzulegen. Die Kontonummern werden vom Programm vergeben, und zwar in aufsteigender Folge von 0 bis 15. Die zunächst nicht benötigten Konten können im Laufe des Jahres jederzeit nachträglich angelegt werden. Andererseits bleiben die Konten, die im Laufe des Jahres auslaufen, bis zum Jahresende erhalten. Eine Löschung ist nicht möglich, weil die Konten auf der Jahresübersicht gebraucht werden.
Integriert ist eine Budgetrechnung. Das Programm fragt bei Buchungsbeginn und dann bei jedem Monatswechsel für jedes Konto nach der Sollvorgabe (Budget). Die Summe für alle Konten darf das verfügbare Einkommen nicht überschreiten. Auf der Übersicht stellt das Programm die Sollvorgabe und die tatsächlichen Ausgaben gegenüber und wirft die Differenz aus. Minusbeträge, das heißt die Sollvorgabe wurde überschritten, werden rot dargestellt.
Das Programm ist vollständig menügesteuert. Sie erhalten jederzeit auf dem Bildschirm Hinweise, welche Eingaben erwartet werden. Ungültige Eingaben werden ignoriert.
Das Programm ist auf eine Floppy mit der Geräteadresse 8 eingestellt. Für den Drucker ist die Geräteadresse 4 vorgesehen. Erzeugt wird eine Hardcopy des jeweiligen Bildschirminhalts. Vor dem Ausdruck wird noch nach dem aktuellen Datum gefragt und dann ausgedruckt. Die Hardcopy-Routine wurde für einen Commodore-Drucker (GP-100 A) geschrieben. Es hat sich gezeigt, daß das Interface »Printstar - C 64« auf dem Epson RX-80 FT+ mit der unveränderten Routine ebenfalls eine Hardcopy erzeugt. Die Zeilen 38700 bis 38900 sind erst später hinzugekommen und nur für den Epson RX-80 F/T+ bestimmt. Diese Routine setzt den linken Rand und schaltet den Papierende-Detektor aus. Für einen anderen Drucker müßten hier entsprechende Werte eingesetzt werden oder gegebenenfalls die gesamte Hardcopy-Routine von 37500 bis 40100 neu geschrieben werden.
Das Programm ist absturzsicher. Sowohl ein nicht vorhandener Drucker wie auch Fehler in der Floppy (zum Beispiel Ausschalten oder Herausnehmen der Diskette) beeindrucken das Programm nicht. Auf der untersten Bildschirmzeile wird dann ein entsprechender Hinweis ausgegeben.
Es werden pro Monat und Konto 200 Buchungen verwaltet. Fallen mehr Buchungen an, muß die Variable x in Zeile
1650 entsprechend erhöht werden. In dervorliegenden Version sind noch etwa 4000 Byte frei. Jede Vergrößerung um eine Buchung benötigt 32 Byte.
Buchungsanfang
Beim Buchungsanfang verwenden Sie am besten eine neue Diskette, da im Laufe des Jahres eine ganze Reihe von Dateien anfallen werden. Das Programm steigt allerdings auch nicht aus, wenn die Buchungen über mehrere Disketten verteilt sind. Erforderlich ist lediglich, daß ein Monat vollständig auf einer Diskette vorhanden ist.
Das Programm fragt zunächst nach dem Startmonat. Die Eingabe muß numerisch sein und im Bereich von 1 bis 12 liegen. Zur Korrektur — wenn Sie diese Routine irrtümlich aufgerufen haben — drücken Sie einfach nur die »RETURN«-Taste. Es wird dann zum Hauptmenü zurückgesprungen. Anschließend fragt das Programm nach der Jahresangabe. Sie kann zwei- oder vierstellig sein.
Danach werden die Konten angelegt. Die Kontonummer wird vom Programm vergeben, und zwar in aufsteigender Reihenfolge von 0 bis 15. Wenn Sie nur die »RETURN«-Taste drücken, verzweigt das Programm zu einer Übersicht (siehe hierzu den übernächsten Absatz).
Der Kontoname ist auf 15 Zeichen begrenzt. Danach müssen Sie die DM-Vorgabe eingeben. Die DM-Vorgabe kann nur volle Markbeträge enthalten und ist auf den theoretischen Wert von 32785 DM begrenzt.
Wenn Sie keine weiteren Konten anlegen wollen, wird eine Übersicht ausgegeben. Die Übersicht enthält fünf Spalten:
1.	Spalte : Kontonummer
2.	Spalte : Kontoname
3.	Spalte : Vorgabe
4.	Spalte : Ausgaben
5.	Spalte : Differenz aus Vorgabe und Ausgabe
Darüber hinaus wird ein Kurzmenü in der untersten Bildschirmzeile eingeblendet. Esstehenlhnen dieTasten »F1«für »richtige Eingabe« und »F3« für »Korrektur« zur Verfügung. Bei »F3« werden alle Eingaben gelöscht und der Startmonat noch einmal abgefragt.
Nach Drücken der F1-Taste müssen Sie eingeben, wieviele Buchungen im Monat erwartet werden. Diese Frage bezieht sich nur auf den laufenden Monat. Wenn Sie eine zu große Zahl angeben, wird auf der Diskette unnötig Platz verschwendet. Eine zu kleine Zahl führt später beim Buchen zu Unterbrechungen, die allerdings nur Sekunden in Anspruch nehmen.
Das Programm richtet jetzt auf der Diskette die erforderlichen Dateien ein. Da das einige Zeit in Anspruch nimmt, können Sie inzwischen eine Tasse Kaffee trinken gehen. Anschließend meldet es sich mit dem Hauptmenü zurück. Buchen
Das Buchen stellt Ihre wichtigste Eingabe dar. Wenn Sie mehrere Disketten verwenden, vergewissern Sie sich, daß Sie die zuletzt gültige Diskette im Laufwerk haben. Das Programm überprüft zunächst, ob alle notwendigen Dateien im Computer vorhanden sind. Fällt diese Prüfung negativ aus, werden zuerstdiefehlenden Dateien eingelesen. Eben dafür ist es wichtig, daß die letzte gültige Diskette im Laufwerk ist.
Danach müssen Sie das Buchungsdatum eingeben. Dieses muß im Bereich von 1 bis 31 liegen. Prüfungen auf den 31. April und ähnliches werden allerdings nicht vorgenommen. Es braucht nur der Tag und nicht auch noch der Monat eingegeben zu werden. Der laufende Monat ist dem Programm bereits bekannt. Danach geben Sie den Buchungstext ein. Diese Eingabe ist auf 15 Zeichen begrenzt.
Anschließend wird eine Übersicht aller vorhandenen Konten ausgegeben. Die Übersicht enthält je Konto die Kontonummer, den Kontennamen, die Vorgabe, die bisherigen Ausgaben und die Differenz zwischen Vorgabe und Ausgabe. Sie haben somit jederzeit Ihre Verschwendungssucht oder
114
C64
Finanzen
Zeilen	Inhalt
850- 1900	Programminitialisierung
1950- 2200	GET-Abfrage der Tastatur
2250- 2600	Programmkopf
2650- 3500	Hauptmenü
3550- 5150	Neubeginn
5200- 6950	Datei auf Diskette einrichten
7000 - 10750	Buchen
10800- 11100	Ende
11150- 13450	Journalausgabe
13500 - 15400	Monats/Jahresausgabe
15450 - 17350	Kontoausgabe
17400 - 20500	Monatswechsel
20550 - 21350	prüft auf Zulässigkeit eines zusätzlichen Kontos
21400 - 23050	legt die Konten an
23100-23750	Summenzeile für Übersicht und Kontoausgabe
23800 - 25400	Übersicht
25450 - 26700	fragt für Journal und Kontoausgabe nach dem gewünschten Monat
26750 - 28250	Kurzmenüs in der untersten Bildschirmzeile
28300 - 29300	Texteingabe für Kontoname und Buchungstext
29400 - 30300	Zahleneingabe für Monat und Vorgabe
30350 - 30850	setzt die Variable »I« rechtsbündig in den String »a$« ein
30900 - 32000	gibt die Datei »KONTEN« aus
32050 - 33500	liest die Datei »KONTEN« ein
33550 - 34550	liest die Datei »JOURNALINDEX« ein
34600 - 35400	gibt die Datei »JOURNALINDEX« aus
35450 - 37300	gibt ein einzelnes Konto aus
37350 - 40100	Hardcopy
40150 - 42600	liest den Fehlerkanal der Floppy aus, mit entsprechender Reaktion
42650 - 43000	setzt den Pointer für die Journaldatei
43050 - 43450	öffnet die Journaldatei
43500 - 44100	liest den Monat für die Journal- und die Journalindexdatei
a1%(a,b)	a=12:	b=1	VerwaltungJournal
	a1%(0,0)	= Startmonat a1%(0,1)	=laufenderMonat füra=1—12	=Monate für b=0	= Länge der angelegten	Journaldatei für b=1	= letzter Eintrag in Journaldatei
a2%(a)	a=12	Kontenzähler pro Monat a2%(0)	Buchungsjahr füra=1—12 =Monate
a3%(a,b)	a=15:	b=12	KontenVorgabe füra=0—15 =Kontonummern fürb=1—12 =Monatsbeträge für b=0	= Jahresbeträge je Monat
a3 (a,b)	a=15:	b=12	Konten Buchungssummen Aufteilung siehe bei Konten Vorgabe
a3$(a)	a=15	Kontonamen
a4%(a,b)	a=15:	b=200	Journalindex füra=O—15 =Kontonummern für b=1-200 = enthält Satznummer in Journaldatei für b=0	= letzter Eintragin vorgenannter Tabelle (Es können maximal 200 Buchungen je Konto und Monat verarbeitet werden.)
Tabelle 2. Diese Felder sind von »Haushaltskasse« definiert.
mm
Tabelle 1. So ist »Haushaltskasse« aufgebaut.
ro$	= rote Schriftfarbe
bl$	= blaue Schriftfarbe
pu$	= purpur Schriftfarbe
in$	= inverse Schriftdarstellung (RVS ON)
no$	= normale Schriftdarstellung (RVS OF)
ho$	= Bildschirm löschen
cz$	= Cursor eine Zeile hochsetzen
n
f1, f$, f2, f3 ze y
X re lb, hb g
a1$
= Statusvariable für die Datei Konten
mm = 0 Datei »KONTEN« muß noch eingelesen werden
mm = 1 Datei »KONTEN« ist eingelesen
mm = 2 Datei »KONTEN« ist geändert und muß geschrieben werden
= der im Computer befindliche Monat (Journalindex)
= Fehlerkanal der Floppy
= Zeilenzähler bei Konto- und Journalausgabe
= maximale Anzahl der Konten
= maximale Anzahl der Buchungen je Konto
= Recordnummer (Zugriff) auf Journaldatei
= Umrechnung von re in Low- und High-Byte
= Übergabevariable für Unterprogramm »Übersicht«, enthält den aktuellen Monat
= Ein- und Auslesevariable der Buchung in Journaldatei.
Tabelle 3. Die Steuerzeichen wurden als Strings definiert.
Tabelle 4. »Haushaltskasse« verwendet diese Variablen.
Sparsamkeit bei der neuen Buchung vor Augen. Dann können Sie die Nummer des Kontos eingeben, auf das Sie buchen möchten. Die Kontonummer muß im Bereich der bereits angelegten Konten liegen. Mit »RETURN« verlassen Sie die Eingabe.
Der danach einzugebende DM-Betrag wird nicht weiter überprüft und auf dem jeweiligen Konto verbucht. Der Betrag kann auch negativ sein. Der Minusbetrag ist einerseits als Storno, andererseits auch als Einnahme zu gebrauchen.
Dann erfolgt die Abfrage nach der nächsten Buchung. Den Buchungsmodus verlassen Sie, indem Sie für Datum nichts oder Null eingeben. Es dauert etwas, bis das Menü erscheint, weil das Programm den aktuellen Stand der Dateien auf Diskette zurückschreibt. Sie brauchen sich daher um die Datensicherung keine Gedanken zu machen. Wenn Sie bei der ersten Buchung gleich die »RETURN«-Taste drücken, also nichts gebucht haben, wird auch nichts auf die Diskette übertragen.
Monats-ZJahresübersicht
Wenn Sie die Taste F3 für »Monatsübersicht« gedrückt
haben, fragt das Programm, welchen Monat Sie sehen wollen. Sie können die Hochpfeiltaste für den laufenden Monat, die Sterntaste für alle Monate oder eine Zahl für einen bestimmten Monat eingeben. Der Monat darf nicht vor Buchungsbeginn und nicht nach dem laufenden Monat liegen. Wenn Sie alle Monate sehen wollen, werden die Monate vom Buchungsbeginn bis zum laufenden Monat der Reihe nach angezeigt. Im Anschluß daran erfolgt die Jahresübersicht. In der untersten Bildschirmzeile wird ein Kurzmenü angezeigt. Sie können wählen, ob Sie weiterblättern (F1), zum Hauptmenü (F3) oder eine Druckerausgabe (F5) wünschen. Bei der Druckerausgabe wird zunächst geprüft, ob der Drucker eingeschaltet ist. Wenn nicht, gibt das Programm einen entsprechenden Hinweis.
Die Monats- und die Jahresübersicht unterscheiden sich im Aufbau nicht. Sie haben folgendes Format:
Monat XX/ ZZZZ
A BBBBBBBBB CCCCC DDDDDD.DD EEEEEE.EE A BBBBBBBBB CCCCC DDDDDD.DD EEEEEE.EE

115
Finanzen
C64
X = Monat
Z = Jahr
A = Kontonummer
B = Kontoname
C = Vorgabe
D = Ausgabe
E = Differenz zwischen Vorgabe und Ausgabe
Einzelnes Konto
Zuerst müssen Sie den Monat eingeben, den Sie sehen wollen. Drücken Sie die Hochpfeiltaste für den laufenden Monat. Wollen Sie einen der Vormonate sehen, geben Sie den Monat als Zahl ein.
Danach fragt das Programm nach der Kontonummer. Wollen Sie alle Konten sehen, geben Sie den Stern ein, sonst die Kontonummer. Hier gilt auch, daß nicht angelegte Konten ignoriert werden. Die Ausgabe hat folgendes Format:
A BBBBBBBBBBBBBB CCCCC DD/EEEE
FF. GGGGGGGGGGGGGGG	HHHHHHH.HH
FF. GGGGGGGGGGGGGGG	HHHHHHH.HH
Summe IIIII JJJJJJ.JJ KKKKKKK.KK
A =Kontonummer
B =Kontoname
C = Monatsvorgabe
D =Monat
E =Jahr
F =Buchungsdatum
G = Buchungstext
H = Betrag
I = Vorgabe
J =SummederMonatsausgaben
K = Differenz zwischen Vorgabe und Ausgabe
Es werden maximal 15 Zeilen ausgegeben. Die Summenzeile (»J«) wird erst nach der letzten Buchung ausgegeben. In der untersten Bildschirmzeile wird ein Kurzmenü eingeblendet. Sie haben die Wahl zwischen Weiterblättern (F1) zum Hauptmenü (F3) oder einer Druckerausgabe (F5).
Journal
Das Journal listet alle Buchungstexte in der Reihenfolge auf, wie sie erfaßt wurden. Das Programm fragt zunächst nach dem Monat, den Sie sehen wollen. Danach wird das Journal ausgegeben. Das Journal hat folgendes Format:
Journal AA/BBBB
CC DD. EEEEEEEEEEEEEEE FFFFFF.FF
CC DD. EEEEEEEEEEEEEEE FFFFFF.FF
A = Monat
B = Jahr
C = Kontonummer
D = Datum
E = Buchungstext
F = Betrag
Es werden maximal 15 Buchungen auf einer Bildschirmseite ausgegeben. In der untersten Bildschirmzeile sehen Sie ein Kurzmenü. Sie können wählen, ob Sie weiterblättern (F1), zum Hauptmenü (F3) oder eine Druckerausgabe (F5) haben wollen.
Zusatzkonto
Das Programm prüft zunächst, ob das letzte Konto (Kontonummer 15) bereits angelegt ist. Wenn das der Fall ist, wird ein entsprechender Hinweis ausgegeben. Nach Drücken einer beliebigen Taste kommen Sie ins Hauptmenü zurück. Im anderen Fall gibt das Programm einen Text aus, wie unter Buchungsanfang beschrieben. Achten Sie jedoch darauf, daß das Monatsbudget möglicherweise überschritten werden könnte. Sie können hier einfach als Monatsvorgabe Null
DM eingeben. Im Folgemonat steht das Konto dann uneingeschränkt zur Verfügung.
Monatswechsel
Aus Sicherheitsgründen fragt das Programm zunächst, ob Sie den Monatswechsel wirklich wollen. Falls Sie diese Funktion irrtümlich aufgerufen haben, geben Sie »n« ein. Das Programm springt dann zum Hauptmenü zurück. Das ist deshalb wichtig, weil eine Rückkehr in den Vormonat nicht mehr möglich ist.
Soll der Monatswechsel durchgeführt werden, prüft das Programm, ob der Dezember bereits erreicht ist. Dann startet es mit »RUN« neu. Sie müssen dann zwar alle Konten wie bei Neubeginn neu eingeben, können dafür aber auch die nicht mehr benötigten Konten weglassen.
Ist der Dezember nicht erreicht, werden die Konten der Reihe nach aufgerufen, um die Sollvorgaben für den neuen Monat einzugeben.
Monat AA BBBBB CCCCCCC DDDDDDD
Vorgabe?
Die Anzeige zeigt die Monate vom Buchungsbeginn bis zum Vormonat an.
A = Monat
B = Vorgabe für den jeweiligen Monat C = Ausgabe für den jeweiligen Monat D = Differenz zwischen Vorgabe und Ausgabe
Sind die tatsächlichen Ausgaben insgesamt höher als die Vorgaben, kann die Vorgabe entsprechend erhöht werden, um die Jahresausgaben angleichen zu können.
Nach dem letzten Konto erscheint eine Übersicht, auf der Sie Ihre Vorgaben überprüfen können. Insbesondere ist es wichtig, daß die Summe der Vorgaben nicht die Einnahmen überschreitet. In der untersten Bildschirmzeile wird noch ein Kurzmenü eingeblendet. Sie haben die Wahl zwischen F1 für ok und F3 für Korrektur. F1 springt zum Hauptmenü. Der Monatswechsel ist damit vollzogen. F3 löscht die Vorgaben und setzt auch den Monatszähler wieder zurück. Das Programm springt wieder zur Abfrage, ob der Monatswechsel wirklich ausgeführt werden soll.
Dateien auf Diskette
lm Laufe des Jahres fallen eine Vielzahl von Dateien an. Sie gliedern sich in drei Gruppen.
1.	KONTEN
2.	JOURNAL
3.	JOURNALINDEX
Die Datei »KONTEN« ist eine sequentielle Datei und enthält die Konten selbst sowie die erforderlichen Verwaltungsdateien. Die Konten werden nur in dem notwendigen Umfang gespeichert, das heißt von Buchungsanfang bis zum laufenden Monat und jeweils nur die angelegten Konten. Aus diesem Grunde wird diese Datei im Laufe des Jahres immer länger.
Die Datei »JOURNAL« ist eine relative Datei. Sie wird jeden Monat neu angelegt und enthält im Dateinamen noch den jeweiligen Monat. Der Datensatz ist 28 Byte lang und hat folgendes Format:
Byte 1 und 2= Kontonummer
Byte 3 und 4= Datum
Byte 5bis 19=Buchungstext
Byte 20 bis 27= DM-Betrag in Pfennigen
Byte 28	= Carriage Return
Die Länge der Datei »JOURNAL« wird bei Buchungsanfang einmal abgefragt. Für die Fölgemonate wird der Durchschnitt der Buchungen der Vormonate herangezogen und aufgerundet. Bei Bedarf wird um jeweils zehn Datensätze verlängert.
116
C64
Finanzen
Die Datei »JOURNALINDEX« ist sequentiell und wird ebenfalls monatlich neu angelegt. Sie enthältZeiger, die angeben, welcher Datensatz zu welchem Konto gehört. Ihre Aufgabe besteht darin, bei der Ausgabe der einzelnen Konten einen unmittelbaren Zugriff auf die entsprechende Buchung zu gewährleisten, damitdieDatei»JOURNAL«, diejadiegesam-ten Buchungstexte enthält, nicht von Anfang an durchsucht werden muß.
Um das Programm weitgehend absturzsicher zu machen, wurde auf »INPUT« verzichtet und die Eingabe über »GET« abgewickelt. Zugelassen sind grundsätzlich nur die Buchstabentasten (Groß- und Kleinschrift), die Ziffern, die Space-Taste, die allgemein üblichen Sonderzeichen (nicht jedoch der Doppelpunkt und das Komma) und die DEL-Taste zum Löschen des letzten Zeichens.
(Wolfgang Klimecki/tr)
1050 OPEN 15,8,15,"M-W'*+CHR#(7)+CHR#(28)+C HR#(l)+CHR#(15)	<052>	5100 GOTO 3800 5350 GOSUB 2400	<102> <042>
1100 CLOSE 15	<178>	5400 PRINT BL#	<002>
1200 POKE 53280,15:POKE 53281,15	<187>	5450 PRINT:PRINT*'HIEVIELE ÄJCHUNGEN ERWART	
1300 R0$=CHR$(28)	<196>	EN £IE IM”	<150>
1350 BL#=CHR#(31)	<145>	5500 PRINT	<012>
1400 PU#=CHR#(156)	<198>	5550 A$="nDNAT = "	<179>
1450 IN#=CHR#(18)	<045>	5600 L=3	<003>
1500 N0#=CHR#(146)	<240>	5650 GOSUB 29550	<163>
1550 H0#=CHR#(147)	<016>	5700 RE=VAL(B#)	<103>
1600 CZ#=CHR#(145)	<126>	5750 IF RE>1 THEN 6050	<246>
1650 Y=15:X=200	<066>	5800 PRINT:PRINT"UNGUELTIGER HERT”	<222>
1700 DIM A17.(12,l),A27.(12),A37.(Y,12),A3#(Y		5850 FOR A=1 TO 4	<170>
),A3(Y,12),A4%(Y,X)	<159>	5900 PRINT CZ#;	<177>
1800 PRINT CHR#<14>;	<062>	5950 NEXT A	<128>
1850 GOTO 2800	<148>	6000 GOTO 5550	<114>
2100 GET C#:IF C#=""THEN 2100	<102>	6050 PRINT:PRINT"BEHEN £IE EINE JASSE	ÄAFF
2150 RETURN	<176>	EE TRINKEN”	<014>
2400 PRINT HO#PU#;	<234>	6100 N=A17.(0,1)	<252>
2450 GOSUB 2550	<112>	6150 GOSUB 43850	<172>
2500 PRINT IN#”<7SPACE>£ fi U ä ü fi 1 I Ä i		6200 GOSUB 40300	<204>
a ä S £<6SPACE>”;	<087>	6250 IF F1<>0 THEN GOSUB 28150:GOSUB	2400l
2550 PRINT IN#'*<40SPACE>"NO#;:RETURN	<130>	GOTO 6050	<151>
2800 GOSUB 2400	<032>	6300 GOSUB 42250	<113>
2850 PRINT BL#	<248>	6350 A#=A#+",L,”+CHR#(28)	<163>
2900 PRINT:PRINT”<2SPACE>”IN#” Fl ”NO#" =		6400 GOSUB 43200	<166>
3JCHEN<4SPACE>"IN$" £ "NO#" = ÄOURNAL	<107>	6450 IF F1<>0 THEN GOSUB 28150:GOSUB	2400:
2950 PRINTsPRINT"{2SPACE>"INi" F3 ”NO#” -		GOTO 6300	<090>
n o N A T S U E B E R S . “	<173>	6500 GOSUB 42800	<187>
3000 PRINT:PRINT”<2SPACE}”IN#” F5 ”NO#” =		6550 PRINT#2,CHR#(255)	<219>
£ A H R E S U E B E R S . ”	<003>	6600 GOSUB 42400	<158>
3050 PRINT:PRINT"{2SPACE)"INi" F7 "NO#” =		6650 N=A1%(0,1)	<038>
£ I N Z E L N E S<3SPACE>JL O N T O "	<044>	6700 GOSUB 34750	<189>
3100 PRINT:PRINT”{2SPACE}"IN#” F2 "NO#” =		6750 A17.(A17.(0,l),0)=C	<235>
H E U B E G I N N "	<013>	6800 GOSUB 31050	<017>
3150 PRINT:PRINT”<2SPACEJ”IN#” F4 "NO$" =		6850 MM=1	<230>
Z U S A T Z K O N T O”	<119>	6900 GOTO 2800	<116>
3200 PRINTsPRINT"<2SPACE>"IN#" F6 "NO#" =		7150 IF MM<>0 THEN 7300	<239>
£ O N A T S Ul E C H S E L"	<193>	7200 GOSUB 32200	<201>
3250 PRINT:PRINT"<2SPACE>"IN#" F8 "NO#" -		7250 IF F1<>0 THEN 3300	<084>
£ N D E"	<179>	7300 N=A17.(0,1)	<182>
3300 GOSUB 2100	<232>	7350 GOSUB 43850	<100>
3350 IF ASC(C#)=74 THEN 11300	<149>	7400 GOSUB 42250	<197>
3400 C=ASC(C$)-132sIF C<1 OR 08 THEN 3300	<009>	7450 IF MN=A1X(0,1)THEN 7600	<182>
3450 ON C GOTO 7150,13650,13650,15600,3700		7500 GOSUB 33700	<146>
,20700,17550,10950	<178>	7550 IF F1<>0 THEN GOSUB 42400:GOTO 3300	<249>	
3700 GOSUB 40300	<244>	7600 GOSUB 43200	<094>
3750 IF F1<>0 THEN 3300	<140>	7650 IF F1<>0 THEN 3300	<230>
3800 GOSUB 2400	<016>	7700 GOSUB 2400	<108>
3850 PRINT BL#:PRINT	<066>	7750 PRINT BL#	<066>
3900 A$="STARTMONAT ALS ZAHL = "	<208>	7800 PRINT'*<2SPACE>fiUER ÄJCHUNGSENDE	DRUEC
3950 L=2	<117>	KEN älE FUER ”:PRINT	<248>
4000 GOSUB 29500	<226>	7850 PRINT"<2SPACE>^TUM NUR DIE JASTE >££	
4050 PRINT CZ#;	<103>	TUJU« ”:PRINT	<103>
4100 IF VAL(B#)<1 OR VAL(B#)>12 THEN 2800	<185>	7900 A#=" ^TUM - ”	<188>
4150 A17.(0,0)=VAL(B#)	<062>	7950 L=2	<053>
4200 PRINT:PRINT	<088>	8000 GOSUB 29550	<227>
4250 A#="JAHR = ”	<146>	8050 A7.=VAL(B#)	<098>
4300 L=4	<245>	8100 IF A7.<>0 THEN 8350	<245>
4350 GOSUB 29550	<131>	8150 GOSUB 42400	<184>
4400 A27.(0)=VAL<B#)	<053>	8200 GOSUB 34750	<181>
4450 Z=0	<133>	8250 GOSUB 31050	<095>
4500 A1Z(0,1)=A1%(0,0)	<029>	8300 GOTO 2800	<017>
4550 GOSUB 21550	<205>	8350 IF A7.>0 AND A7.<32 THEN 8500	<142>
4600 GOSUB 23950	<160>	8400 PRINT CZ#CZ#;	<111>
4650 GOSUB 23250	<243>	8450 GOTO 7900	<200>
4700 GOSUB 27250	<101>	8500 PRINT	<220>
4750 IF ASC(C#)=133 THEN 5350	<204>	8550 A#=” JEXT<2SPACE>= ”	<025>
4800 IF ASC(C#)=13 THEN 4100	<121>	8600 GOSUB 28450	<015>
4850 FOR A=0 TO A27.(A17.(0,1))	<154>	8650 D#=B#	<186>
4900 A3X(A,AlX<0,l)>=0	<211>	8700 G=A17.(0,1)	<028>
4950 A37.(A,0)=0 5000 A3#(A)=”"	<164> <245>	Listing »Haushaltskasse«. Bitte mit dem Checksummer	
5050 NEXT A	<244>	eingeben.	
117
Finanzen
C64
8750 GOSUB 24400	<038>	12950 GOSUB 2400	<022>
8800 A#=" JLONTO ^R. = “ 8850 L=2 8900 GOSUB 29550	<197> <191> <109>	13000 PRINT BL# 13050 PRINT"<3SPACEJJDURNAL<2SPACE)"RIGHT# (“<2SPACEJ"+STR#(N),2)“/";	<236> <145>
8950 A=VAL(B#)	<000>	13100 C#=STR#(A27.(0))	<129>
9000 IF A<=A2X(AlX<0,l))THEN 9150	<158>	13150 PRINT RIGHT#(C#,LEN(C#)-1)	<169>
9050 PRINT CZ#CZ#; 9100 GOTO 8800	<224> <078>	13200 PRINT 13250 PRINT“ JLT0<2SPACEJWTUM<3SPACEJJEXT<	<092>
9150 A1#=B#+RIGHT#("00“+STR$(AX >,2)+D$	<219>	12SPACE Jaa-3ETRAG "	<189>
9200 PRINT	<156>	13300 PRINT	<192>
9250 B#="<8SPACEJ" 9300 PRINT“ an-^TRAG = “B# 9350 GOSUB 2100	<139> <236> <186>	13350 RETURN 13650 IF MM=0 THEN GOSUB 32200sIF F1<>0 TH EN 3300	<200> <244>
9400 IF ASC(C#)=13 THEN 9900	<230>	13700 IF C=3 THEN 15050	<050>
9450 IF ASC(C#)<>20 THEN 9700	<050>	13750 GOSUB 2400	<060>
9500 IF LEN(B#)=0 THEN 9600	<007>	13800 PRINT BL#	<018>
9550 B#=” **+RIGHT#(B#,LEN(B#)-l)	<245>	13850 PRINT“<2SPACEJT » LFD. 0DNAT"sPRINT	<175>
9600 PRINT CZ#; 9650 GOTO 9300	<065> <048>	13900 PRINT"<2SPACEJ* « ALLE 0ONATE":PRINT 13950 PRINT“<2SPACEJS0NST ^NAT ALS ZAHL”:	<052>
9700 IF ASC(C$)=46 OR ASC(C#)=45 THEN 9800	<225>	PRINTsPRINT	<139>
9750 IF ASC(C#)<48 OR ASC(C$)>57 THEN 9350	<112>	14000 B#=”<2SPACEJ“	<061>
9800 B#=RIGHT#(B#,7)+C#	<009>	14050 PRINT"<7SPACEJ> “B#	<142>
9850 GOTO 9600	<042>	14100 GOSUB 2100	<110>
9900 B=INT((VAL(B$)#100)+.5)/100	<053>	14150 A=ASC(C#)	<202>
9950 A1$=A1#+RIGHT$(”<8SPACEJ“+STR#(INT(B* 100)),8)	<098>	14200 IF A=13 THEN 14500 14250 IF A=32 OR A=42 OR A=94 THEN 14350	<255> <020>
10000 A3(A,A17.(0,l))=A3(A,A17.(0,l>>+B	<036>	14300 IF A<48 OR A>57 THEN 14100	<175>
10050 A3(A,0)=A3(A,0)+B	<123>	14350 B#=RIGHT#(B#,l)+C#	<219>
10100 IF A17.(Al%(0,l),l><A17.(Al%(0,l),0)TH EN 10350	<086>	14400 PRINT CZ#j 14450 GOTO 14050	<039> <063>
10150 A17.(A17.(0,1> ,0)=A17.(A17.(0,1) ,0)+10	<193>	14500 A=ASC(RIGHT#(B#,1))	<031>
10200 RE=A17.(A17.(0,l),0)	<022>	14550 IF A=94 THEN G*Al%(0,l):GOTO 15100	<103>
10250 GOSUB 42800	<127>	14600 IF A=42 THEN 14800	<191>
10300 PRINT#2,CHR#(255)	<159>	14650 A=VAL(B#)	<114>
10350 A17.(A1X(0,1) ,l)=AlZ(A17.(0,l) ,1)+1 10400 RE=A17.(A17.(0,1),1)	<010> <228>	14700 IF A<AlX(0,0)OR A>A17.(0,l)THEN PRINT CHR#(145);:GOTO 14000	<063>
10450 GOSUB 42800	<071>	14750 G=A:BOTO 15100	<239>
10500 PRINT#2,A1#	<145>	14800 FOR G=A17.(0,0)TO A17.(0,1)	<072>
10550 A4X(A,0)=A4X(A,0)+1	<106>	14850 GOSUB 15200	<242>
10600 A47.(A,A47.(A,0))=A17.(A17.(0,1) ,1)	<201>	14900 IF ASC(C#)=134 THEN G=A1Z(0,1)	<144>
10650 MM=2	<252>	14950 NEXT G	<030>
10700 GOTO 7700	<130>	15000 IF ASC(C#)=134 THEN 2800	<142>
10950 GOSUB 2400	<054>	15050 G=0	<243>
11000 GOSUB 42400	<240>	15100 GOSUB 15200	<236>
11050 END	<130>	15150 GOTO 2800	<240>
11300 GOSUB 25600	<128>	15200 GOSUB 23950	<092>
11350 F1=0:NN=N:IF N<>G THEN N=G:GOSUB 337 00	<053>	15250 GOSUB 23250 15300 GOSUB 27500	<173> <062>
11400 IF F1<>0 THEN N=NN:GOSUB 42400xGOSUB 28150:GOTO 2800 11450 GOSUB 43850 11500 GOSUB 42250	<171> <136> <233>	15350 RETURN 15600 GOSUB 25600 15650 PRINT"<3SPACEJ	 		<166> <108> <025>
11550 GOSUB 40300	<220>	15700 PRINT	<052>
11600 IF F1<>0 THEN GOSUB 42400:GOSUB 2815 0sGOTO 2800	<148>	15750 PR I NT “ <3SPACE JJUJNTONUMMER “ s PR I NT 15800 PRINT"<3SPACEJ* « ALLE JONTEN":PRINT	<017> <201>
11650 GOSUB 43200	<080>	15850 B#="<2SPACEJ"	<133>
11700 IF F1<>0 THEN 2800	<234>	15900 PRINT“<BSPACEJ> “B#	<216>
11750 GOSUB 12950	<174>	15950 GOSUB 2100	<182>
11800 ZE=0	<056>	16000 A=ASC(C#)	<018>
11850 FOR RE=1 TO A17.(N,1)	<071>	16050 IF A=13 THEN 16350	<107>
11900 GOSUB 42800	<253>	16100 IF A=32 OR A=42 THEN 16200	<234>
11950 INPUT#2,A1#	<245>	16150 IF A<48 OR A>57 THEN 15950	<066>
12000 IF LEN(Al#)<27 THEN Al#«" "+AlisGOTO 12000	<017>	16200 B#=RIGHT#(B#,l>+C# 16250 PRINT CZ#;	<035> <111>
12050 B=VAL(LEFT#(Al#,2))	<219>	16300 GOTO 15900	<119>
12100 C#=RIGHT#(“<3SPACEJ“+STR#(B),3)	<048>	16350 A=ASC(RIBHT#(B#,1))	<103>
12150 IF B=0 THEN C#="{2SPACE)0"	<131>	16400 IF A=42 THEN 16550	<245>
12200 PRINT C#"<5SPACEJ"MID#(Al#,3,2)".<3S PACEJ“; 12250 PRINT MID#(Al#,5,15)j 12300 IF VAL(MID#(Al#,20,8))<0 THEN PRINT RO#; 12350 PRINT MID#(Al#,20,6)"."RIGHT#(Al#,2) BL#	<189> <017> <193> <083>	16450 D=VAL(B#) 16500 IF D<0 OR D>A27.(G)THEN PRINT CZ#;xGO TO 15850 16550 Fl=0xNN=NxIF N<>G THEN N=GxGOSUB 337 00 16600 IF F1<>0 THEN N=NNxGOSUB 42400xGOSUB 28150:GOTO 2800	<148> <021> <173> <035>
12400 ZE=ZE+1	<176>	16650 GOSUB 43850	<002>
12450 IF ZE<15 THEN 12700	<069>	16700 GOSUB 42250	<099>
12500 GOSUB 27500 12550 IF ASC(C#)=134 THEN RE=A17.(N,l):GOTO 12700	<056> <042>	16750 GOSUB 40300 16800 IF F1<>0 THEN GOSUB 42400sGOSUB 2815 0xGOTO 2800	<084> <012>
12600 GOSUB 12950	<008>	16850 OPEN 2,8,2,''iOURNAL "+A#	<189>
12650 ZE=0 12700 NEXT RE 12750 GOSUB 42400 12800 IF ASC(C#)=134 THEN 2800 12850 GOSUB 27500	<144> <238> <212> <230> <154>	16900 GOSUB 40850 16950 IF F1<>0 THEN GOSUB 42400xGOSUB 2815 BsGOTO 2800 17000 IF RIGHT#(B#,l)O“*“THEN GOSUB 35600 sGOTO 17250	<206> <164> <215>
12900 GOTO 2800	<020>	17050 FOR D=0 TO A27.(G)	<040>
118
C64
Finanzen
17100	GOSUB 35600	<092>	21650	A3#(B)=""	<193>
17150	IF ASC(C#)=134 THEN D=A27.(6)	<036>	21700	A3Z(B,AlZ(0,l>>»0	<053>
17200	NEXT D	<226>	21750	GOSUB 2400	<186>
17250	GOSUB 42400	<140>	21800	PRINTsPRINT BL#	<015>
17300	GOTO 2800	<102>	21850	PRINT”£EBEN älE JEZT DEN ÄDNTENNAMEN	
17550	GOSUB 2400sPRINT	<232>		UND":PRINT	<040>
17600	PRINT BL#	<008>	21900	PRINT"DIE SOLLVORGABE (=SONATSBUDGET	
17650	PRINT*' {5SPACE >fiPNATSWECHEL? (^M> "	<234>		IN"sPRINT	<069>
17700	GOSUB 2100	<154>	21950	PRINT"VOLLEN äQ) EIN":PRINT	<119>
17750	IF C#="N"THEN 2800	<114>	22000	PRINT"HENN SIE KEINE WEITEREN SDNTEN	
17800	IF C#O”J”THEN 17700	<193>		ANLEGEN":PRINT	<171>
17850	IF MM=0 THEN GOSUB 32200	<058>	22050	PRINT*'WOLLEN, DRUECKEN ÄIE NUR DIE 1	
17900	IF A17.(0,l) = 12 THEN RUN	<213>		ASTE ":PRINT	<078>
17950	A17.(0,1)=A17.(0,1)+1	<123>	22100	PRINT” >JULTUMM< " s PRINT; PRINT	<170>
18000	FOR B=0 TO A27.(A1X(0,1)-1)	<180>	22150	PRINT RIGHT#(”<4SPACE}”+STR#(B),4);	<030>
18050	GOSUB 2400	<042>	22200	PRINT” <2SPACE>JLONTONAME"	<047>
18100	PRINT BL#	<000>	22250	PRINT	<252>
18150	PRINT"<8SPACE>fl 0 N A T S W E C H S		22300	A#=" > "	<255>
	E L"xPRINT	<089>	22350	GOSUB 28450	<049>
18200	PRINT B,LEFT#(A3#(B),20)	<180>	22400	IF ASC(B#)=32 THEN B=Y:GOTO 22850	<210>
18250	PRINT	<062>	22450	A3#(B)=B#	<047>
18300	FOR D=AlZ(0,0)TO A17.(0,l)-1	<122>	22500	PRINT	<248>
18350	PRINT”ÖDNAT”RIGHT#(” <3SPACE>"+STR#(D		22550	A2Z(AlZ(0,l))=B	<078>
	),3);	<248>	22600	A#=" VORGABE =<2SPACE>"	<099>
18400	PRINT RIGHT# (” <1 lSPACE>"+STR# (A37.(B,		22650	L=5	<067>
	D)),10);	<015>	22700	GOSUB 29550	<193>
18450	L=A3(B,D)	<101>	22750	A3Z(B,A1%(0,1))=VAL(B#)	<225>
18500	GOSUB 30500	<112>	22800	A3Z(B,0)=A3Z(B,0)+A3Z(B,A1Z(0,1))	<217>
18550	PRINT A#;	<031>	22850	NEXT B	<016>
18600	L=A3X(B,D)-A3(B,D)	<127>	22900	G=A17.(0,1)	<004>
18650	GOSUB 30500	<006>	22950	MM=2	<104>
18700	IF L<0 THEN PRINT RO#;	<125>	23000	RETURN	<196>
18750	PRINT A#BL#	<239>	23250	PRINT”<3SPACE}&JMME”;	<082>
18800	NEXT D	<046>	23300	PRINT RIGHT#("<9SPACE>"+STR#(C),10);	<062>
18850	PRINT	<154>	23350	L=F	<022>
18900	A3Z(B,AlZ(0,l))*0	<047>	23400	GOSUB 30500	<186>
18950	A#=" VPRGABE = "	<005>	23450	PRINT RIGHT#(A#,10);	<219>
19000	L=5	<229>	23500	L=C-F	<130>
19050	GOSUB 29550	<099>	23550	GOSUB 30500	<080>
19100	A37.(B,A1%(0,1) )=VAL(B#)	<131>	23600	IF C-F<0 THEN PRINT RO#;	<252>
19150	NEXT B	<126>	23650	PRINT RIGHT#(A#,10)BL#	<038>
19200	G=A17.(0,1)	<116>	23700	RETURN	<134>
19250	A27.(A1X(0,1))=A27.(A17.(0,1)-1)	<222>	23950	GOSUB 2400	<100>
19300	GOSUB 23950	<128>	24000	PRINT BL#	<058>
19350	GOSUB 23250	<209>	24050	IF G<>0 THEN 24300	<078>
19400	GOSUB 27250	<067>	24100	PRINT"{3SPACEJfi 0 N A T E<3SPACE>";	<142>
19450	IF ASC(C#)=134 THEN 20250	<118>	24150	PRINT A1Z(0,0)"-"A1Z(0,1);	<054>
19500	FOR A=0 TO A2X(A1X(0,1))	<072>	24200	PRINT"/"A2Z(0)	<216>
19550	A37.(A,0)=A37.(A,0)+A37.(A,A1Z(0,1))	<075>	24250	GOTO 24400	<026>
19600	NEXT A	<060>	24300	PRINT-<3SPACE>fl. 0 N A T<2SPACE>”G;	<165>
19650	IF Al%(0,0)-A1%(0,1)THEN C=(INT(A17.(		24350	PRINT” / "A2Z(0)	<112>
	AlZ(0,0),l)/10)+l)*10:GOTO 6050	<148>	24400	PRINT	<116>
19700	C=0	<049>	24450	C=0	<229>
19750	FOR A=A17.(0,0)TO A17.(0,1)	<150>	24500	F=0	<035>
19800	C=C+A17.(A,1)	<024>	24550	FOR A=0 TO A2Z(A1Z(0,1))	<040>
19850	NEXT A	<056>	24600	PRINT RIGHT#C<2SPACE>"+STR#(A) ,2) ;	<128>
19900	C=(INT(C/(AlZ(0,l)-A17.(0,0))/10)+l)*		24650	PRINT” ”;	<010>
	10	<058>	24700	PRINT LEFT#(A3#(A)+"{9SPACEI",9)" ”;	<238>
19950	FOR A=0 TO Y	<158>	24750	A#=RIGHT#(" <4SPACE>"+STR#(A3Z(A,G) ) ,	
20000	A4Z(A,0)=0	<228>		5)	<172>
20050	NEXT A	<002>	24800	PRINT TAB(13)A#;	<032>
20100	N=A1Z(0,1)	<026>	24850	L=A3(A,G)	<028>
20150	GOSUB 34750	<175>	24900	GOSUB 30500	<162>
20200	GOTO 6050	<016>	24950	PRINT RIGHT#(A#,10);	<195>
20250	FOR A=0 TO A2Z(A1Z(0,1))	<060>	25000	L=A37.(A,G)-A3(A,G)	<199>
20300	A3Z(A,AlZ(0,l))=0	<115>	25050	GOSUB 30500	<056>
20350	NEXT A	<048>	25100	IF L<0 THEN PRINT RO#;	<175>
20400	A1Z(0,1)=A1Z(0,1)-1	<039>	25150	PRINT RIGHT#(A#,10)BL#	<014>
20450	GOTO 17550	<173>	25200	C=C+A3Z(A,G)	<188>
20700	IF MM=0 THEN GOSUB 32200	<114>	25250	F=F+A3(A,G)	<220>
20750	GOSUB 2400	<204>	25300	NEXT A	<172>
20800	PRINTsPRINT BL#	<031>	25350	RETURN	<006>
20850	PRINT"{9SPACE>M E U E{3SPACE>i 0 N T		25600	IF MM=0 THEN GOSUB 32200sIF F1<>0 TH	
	E NM	<255>		EN 3300	<000>
20900	PRINT:PRINT	<022>	25650	GOSUB 2400	<022>
20950	IF A2Z(AlZ(0,l))=Y THEN 21200	<147>	25700	PRINT BL#	<236>
21000	Z=A2Z(A1Z(0,1))+1	<131>	25750	PRINT"<3SPACE>t = LFD. flONAT":PRINT	<135>
21050	GOSUB 21600	<162>	25800	PRINT"<3SPACE>S0NST flPNAT ALS ZAHL"	<106>
21100	GOSUB 31050	<093>	25850	PRINT	<040>
21150	GOTO 2800	<142>	25900	B#*"{2SPACE)"	<023>
21200	PRINT"E8 SIND KEINE ^lNTEN MEHR FREI		25950	PRINT"<8SPACE>> "B#	<104>
		<122>	26000	GOSUB 2100	<070>
21250	GOSUB 27050	<077>	26050	A=ASC(C#)	<162>
21300	GOTO 2800	<038>			
21550	PRINT	<060>	Das Listing zur Haushaltskasse. Beachten Sie auch		
21600	FOR B=Z TO Y	<107>	bitte die Eingabehinweise auf Seite 6.		
119
Finanzen
C64
26100	IF A=13 THEN 26400		<216>	30250	RETURN	<080>
26150	IF A=32 OR A=94 THEN 26250		<197>	30500	L=INT(L*100+.5)	<025>
26200	IF A<48 OR A>57 THEN 26000		<169>	30550	A$=STR#(L)	<134>
26250	B$=RIGHT$(B$,1)+C<		<179>	30600	M=LEN(A$)	<012>
26300	PRINT CZ$;		<255>	30650	IF L=0 THEN A$="0.00":GQTO 30750	<072>
26350	SOTO 25950		<080>	30700	A#=LEFT$(A#,M-2)+".”+RIGHT#(A$,2)	<182>
26400	A=ASC<RIGHT$(B$,1))		<234>	30750	A$=RIGHT$(”<10SPACE>"+A$,10)	<216>
26450	IF A=94 THEN G=AlX(0,l);GOTO 26650		<052>	30800	RETURN	<122>
26500	A=VAL(BS)		<024>	31050	IF MM=1 THEN RETURN	<171>
26550	IF A<A17.(0,0)OR A>A1X(0,1)THEN PRINT			31100	OPEN 2,8,2, "0:^NT<3SPACE>tJAUSHALT,S	
	CZ$jsGOTO 25900		<030>		,W”	<142>
26600 26650 26900 26950	G=A RETURN GOSUB 28100 PRINT” "IN*"<3SPACE>3RUCKER IST	NICH	<124> <036> <122>	31150 31200 31250 31300	PRINT#2,A2Z(0) PRINT#2,Al%(0,0) PRINT#2,A1%(0,1) FOR A=AlX(0,0)TO A1%(0,1)	<199> <216> <020> <014>
27000	T EINGESCHALTET <4SPACE ?"; RETURN		<197> <132>	31350 31400	PRINT#2,AlX(A,0) PRINT#2,A1%(A,1)	<146> <204>
27050	GOSUB 28100		<016>	31450	PRINT#2,A2%(A)	<023>
27100	PRINT” <6SPACE>" IN$" <6SPACE>TJmTE<SHI			31500	FOR B=0 TO A2X(A)	<204>
	FT-SPACE>a^fiO<8SPACE}";		<057>	31550	PRINT#2,A3%(B,A)	< 103>
27150	GOSUB 2100		<206>	31600	PRINT#2,A3(B,A)	<011>
27200 27250 27300	RETURN GOSUB 28100 PRINT”{4SPACE}” IN#"{3SPACE)F1 *	OK <3	<078> <218>	31650 31700 31750	NEXT B NEXT A FOR B=0 TO A2X(A1%(0,1))	<180> <222> <138>
	SPACE>F3 = ^REKKTUR<4SPACE>";		<119>	31800	PRINT#2,A3$(B)	<059>
27350	GOSUB 2100		<150>	31850	NEXT B	<126>
27400	IF ASC(C$)<133 OR ASC(C$)>134 THEN 2			31900	CLOSE 2	<167>
27450			<067>	31950	RETURN	<000>
	RETURN		<074>	32200	GOSUB 40300	<038>
27500	GOSUB 28100		<214>	32250	IF F1<>0 THEN GOSUB 42400:RETURN	<132>
27550	PRINT"<3SPACE}"IN$”<2SPACE >F1=WEITER			32300	GOSUB 42250	<205>
27600	<3SPACE )F3=fiENUE <2SPACE >F5=JJRUCKER <2 SPACE}”;		<193>	32350 32400	OPEN 2,8,2,”A0NT<3SPACE}flAUSHALT” GOSUB 40850	<171> <210>
	GOSUB 2100		<146>	32450	IF F1<>0 THEN GOSUB 42400:RETURN	<078>
27650	IF ASC(C$)<133 OR ASC(C$)>135 THEN 2		<081>	32500	INPUT#2,A2X(0) ,A17.(0,0) ,A1%(0,1)	<107>
27700				32550	FOR A=AlX(0,0)TO A1X(0,1)	<250>
	IF ASC(C^)=133 THEN RETURN		<187>	32600	INPUT#2,AlX(A,0),A1X(A,1),A2X(A)	<017>
27750	IF ASC(C#)=134 THEN RETURN		<245>	32650	FOR B=0 TO A2Z(A)	<082>
27800	IF ASC<C^>=135 THEN GOSUB 37500		<203>	32700	INPUT#2,A3X(B,A),A3(B,A)	<003>
27850 27900 27950	IF DR=0 THEN 27600 GOTO 27500 GOSUB 28100		<072> <200> <156>	32750 32800 32850	NEXT B NEXT A FOR B=0 TO A2X(A1X(0,1))	<008> <138> <223>
28000	PRINT”<6SPACE}"IN$"<6SPACE>TASTE	DRU		32900	INPUT#2,A3$(B)	<064>
	ECKEN <8SPACE >”;		<lB5>	32950	NEXT B	<211 >
28050	GOTO 27150		<033>	33000	FOR A=0 TO A2Z(A1%(0,1))	<109>
28100	POKE 214,24:P0KE 211,0sSYS 58732sRET			33050	A37.(A,0)=0sA3(A,0)=0	<195>
			<089>	33100	FOR B-Al%(0,0)TO A1X(0,1)	<045>
28150	POKE 214,20sPOKE 211,0sSYS 58732:G0T			33150	A37.(A,0)=A3X(A,0)+A37.(A,B)	<250>
28450 28500	B$=” •• PRINT A#;»” ”		<084> <033> <083>	33200 33250 33300	A3(A,0)=A3(A,0)+A3(A,B) NEXT B NEXT A	<050> <001> <045>
28550	GOSUB 2100		<080>	33350	CLOSE 2	<094>
28600 28650	IF ASC<C#)=13 THEN 29250 IF ASC(C$)<>20 THEN 28900		<062> <012>	33400 33450	MM=1 RETURN	<109> <233>
28700	IF LEN(B$)=0 THEN 28800		<158>	33700	GOSUB 43850	<033>
28750	B$=LEFTf(B$,LEN(Bt)-1)		<221>	33750	GOSUB 42400	<129>
28800	PRINT CZ#;		<215>	33800	GOSUB 40300	< 117>
28850	GOTO 28500		<150>	33850	IF F1<>0 THEN GOSUB 28150sGOTO 2800	<046>
28900	A=ASC(C^)		<218>	33900	OPEN 3,8,3,"iOURN.^DEX "+A$	<046>
28950	IF ASC(C$)=58 OR ASC(C$)=44 THEN 50	285	<179>	33950	GOSUB 40850	<237>
29000				34000	IF F1<>0 THEN RETURN	<010>
	IF ASC(C$)=32 THEN 29100		<016>	34050	FOR A=0 TO Y	<035>
29050	IF((A>34 AND A<96)0R(A>192 AND A<219			34100	INPUT#3,A4X(A,0)	<224>
	))=0 THEN 28550		<019>	34150	IF A4X(A,0)=0 THEN 34350	<057>
29100	Bi=B#+C$		<020>	34200	FOR B=1 TO A4X(A,0)	<015>
29150	B$=LEFT$(B$,15)		<212>	34250	INPUT#3,A47.(A,B)	<007>
29200	GOTO 28800		<089>	34300	NEXT B	<035>
29250	Bt=LEFT#(B$+”{15SPACE}",15)		<154>	34350	NEXT A	<079>
29300	RETURN		<146>	34400	CLOSE 3	<136>
29500	s		<010>	34450	MN=N	<058>
29550	PRINT		<186>	34500	RETURN	<011 >
29600	B#="{15SPACE)"		<167>	34750	IF MM=1 THEN RETURN	<060>
29650	B$=LEFT*(B$,L)		<071>	34800	GOSUB 43850	<117>
29700 29750	PRINT AtB$" ” GOSUB 2100		<034> <010>	34850	OPEN 3,8,3,"@:iOURN.XNDEX "+At+",S,W	<159> <123> < 136>
29800 29850	IF ASC(C^)=13 THEN 30250 IF ASC(C$)<>20 THEN 30050		<231> <101>	34900 34950	FOR A=0 TO Y PRINT#3,A4Z(A,0)	
29900 29950 30000	B$=" "+LEFT$(B$,L-1) PRINT CZ$; GOTO 29700		<098> <093> <110>	35000 35050 35100	IF A47.(A,0)=0 THEN 35200 FOR B=1 TO A4X(A,0) PRINT#3,A4%(A,B)	<006> <103> < 177>
30050	IF ASC(C*)<48 OR ASC(C$)>57 THEN	297		35150	NEXT B	<125>
	50		<097>	35200	NEXT A	<167>
30100	B$=RIGHT$(B$,L-1)+CI		<232>	35250	CLOSE 3	<224>
30150	GOTO 29950		<134>	35300	MN=N	<146>
30200	IF VAL(B$)<1 OR VAL(B$)>32768 THEN 2			35350	RETURN	<101>
	9750		<017>	35600	GOSUB 36850	<197>
120
C64
Finanzen
35650	ZE=0	<029>	39750	NEXT H	<201>
35700	IF A47.(D,0)=0 THEN 36550	<216>	39800	FOR H=1 TO 5	<011>
35750	FOR B=1 TO A4%(D,0)	<065>	39850	PRINT*4	<228>
35800	RE=A4X(D,B)	<088>	39900	NEXT H	<095>
35850	GOSUB 42800	<072>	39950	CLOSE 4	<106>
35900	INPUT#2,A1#	<064>	40000	DR=1	<109>
35950	IF LEN(All)<27 THEN Alt=" "+Al#:GOTO		40050	RETURN	<229>
	35950	<004>	40300	POKE 768,61	<127>
36000	PRINT MID#(Al#,3,2)*'.<2SPACE>"MID#(A		40350	OPEN l,8,0,"TEST”	<254>
	1#,5,15);	<172>	40400	CLOSE 1	<022>
36050	IF VAL(MID#(Al#,20,8))<0 THEN PRINT		40450	POKE 768,139	<008>
	RO#;	<064>	40500	IF ST<>-128 AND ST<>-125 THEN GOSUB	
36100	PRINT TAB(28)MID#(Al#,20,6)"."RIBHT$			42250:GOSUB 408508 RETURN	<029>
	(Al#,2)BL#	<115>	40550	F1=0	<118>
36150	ZE=ZE+1	<049>	40600	GOSUB 28100	<105>
36200	IF ZE<15 THEN 36450	<018>	40650	PRINT” ”IN#”<3SPACE»ITTE ELOPPY £ER	
36250	GOSUB 27500	<185>		.MR. 8 EINSCHALTEN<3SPACEI";	<019>
36300	IF ASC(C#)=134 THEN B=A47.(D,0):GOTO		40700	F1 = 1	<044>
	36450	<145>	40750	CLOSE 15	<203>
36350	GOSUB 36850	<183>	40800	RETURN	<217>
36400	ZE=0	<017>	40850	INPUT#15,F1,F#,F2,F3	<033>
36450	NEXT B	<155>	40900	IF F1=0 THEN RETURN	<057>
36500	IF ASC(C#)=134 THEN RETURN	<104>	40950	GOSUB 28100	<201>
36550	F=A3(D,G)	<149>	41000	IF Fl<>74 THEN 41100	<090>
36600	C=A37.(D,G)	<144>	41050	PRINT”<5SPACE>"IN#”<4SPACE>>ITTE ÄIS	
36650	PRINT	<175>		KETTE EINLEGEN <3SPACE)"NO#"<4SPACEI”	
36700	GOSUB 23250	<032>		;:RETURN	<130>
36750	GOSUB 27500	<177>	41100	IF(Fl=62 OR Fl=26)=0 THEN 41750	<003>
36800	RETURN	<025>	41150	PRINT CZ#”<3SPACE>”IN#“<3SPACE >EALSC	
36850	GOSUB 2400	<045>		HE 2ISKETTE IM J^UFWERK<2SPACE>"NO#"	
36900	PRINT BL#	<005>		<2SPACE>"	<022>
36950	PRINT D LEFT#(A3#(D),18)TAB(23)A37.(D		41200	CLOSE 3	<076>
	»GM	<121>	41250	OPEN 3,8,3,”#”	<246>
37000	B#=STR#(A27.(0) )	<148>	41300	PRINT#15,"U1 3 0 18 0"	<125>
37050	PRINT TAB(30)RIGHT#(STR#(N),2)**/"RIG		41350	PRINT#15,”B-P 3 144”	<168>
	HT#(B#,LEN(B#)-1)	<034>	41400	B#=” ”	<028>
37100	PRINT	<115>	41450	FOR A=1 TO 16	<133>
37150	PR I NT ” J^G {2SPACE)^XT <20SPACE >^-3ET		41500	GET#3,D#	<219>
	RAG”	<000>	41550	IF D#=""THEN D#=CHR#(0)	<137>
37200	PRINT	<217>	41600	B#=B#+D#	<076>
37250	RETURN	<223>	41650	NEXT A	<011>
37500	OPEN 1,4	<240>	41700	PRINT”{3SPACEF'IN#"<2SPACE>SISKETTE	
37550	DR=0	<167>		=<2SPACE>"B#"<3SPACE>"N0#"<3SPACE>”;	
37600	POKE 768,61	<221>		:RETURN	<240>
37650	PRINT#1	<036>	41750	PRINT CZ#"<2SPACE>"IN#"<3SPACE>a I S	
37700	CLOSE 1	<118>		K E T T E N F E H L E R<5SPACE>”	<204>
37750	POKE 768,139	<102>	41800	PRINT”<2SPACE}”IN#;	<049>
37800	IF ST<>-128 AND ST<>-125 THEN 37950	<100>	41850	PRINT RIGHT#("<3SPACE>"+STR#(F1),3);	<128>
37850	GOTO 26900	<102>	41900	PRINT"{2SPACE}";	<243>
37950	GOSUB 28100	<251>	41950	PRINT LEFT#(F#+**<18SPACE>",lB) ;	<142>
38000	PRINT N0#"<39SPACE>";	<189>	42000	PRINT"<2SPACE)”IN#;	<251>
38050	B#=”<17SPACE}”	<236>	42050	PRINT RIGHT#("<5SPACE>"+STR#(F2),5);	<211>
38100	GOSUB 28100	<145>	42100	PRINT RIGHT#("{5SPACE>"+STR#(F3),5);	<013>
38150	PRINT” <2SPACE>^TUMs <2SPACE>"B#;	<223>	42150	PRINT”<2SPACE>"N0#;	<113>
38200	GOSUB 2100	<079>	42200	RETURN	<091>
38250	A=ASC(C#)	<171>	42250	CLOSE 15	<179>
38300	IF A=13 THEN 38700	<242>	42300	OPEN 15,8,15,"I"	<190>
38350	IF A<>20 THEN 38450	<045>	42350	RETURN	<243>
38400	B#=” "+LEFT#(B#,16):G0T0 38100	<237>	42400	CLOSE 2	<254>
38450	IF A=32 THEN 38550	<170>	42450	CLOSE 3	<056>
38500	IF((A>34 AND A<96)0R(A>192 AND A<219		42500	CLOSE 15	<175>
	))=0 THEN 38200	<226>	42550	RETURN	<189>
38550	B#=RIGHT#(B#,16)+C#	<054>	42800	HB=INT(RE/256)	<095>
38600	GOTO 38100	<129>	42850	LB=RE-(HB*256)	<159>
38700	OPEN 4,4,0	<229>	42900	PRINT#15,”P”+CHR#(2)+CHR#(LB)+CHR#(H	
38750	PRINT#4,CHR#(27)CHR#(64)CHR#(27)CHR#			B)+CHR#(1)	<082>
	(108)CHR#(15);	<140>	42950	RETURN	<079>
38800	PRINT#4,CHR#(27)CHR#(56)	<235>	43200	A#="iOURNAL ”+A#	<177>
38850	CLOSE 4	<020>	43250	OPEN 2,8,2,A#	<125>
39000	OPEN 4,4,7	<150>	43300	GOSUB 40850	<189>
39050	FOR H=1024 TO 2023 STEP 40	<124>	43350	IF F1<>0 THEN GOSUB 42400	<142>
39100	1=0	<170>	43400	RETURN	<021>
39150	DR#=””	<243>	43650	DATA"iAN",”£EB","flRZ”	<146>
39200	FOR J=0 TO 39	<089>	43700	DATA"flPR","fiAI”,"iUN”	<086>
39250	C=PEEK(H+J)	<091>	43750	DATA"JJJL" , "ßUG" , "äPT”	<158>
39300	IF C=96 OR C=224 THEN C=C-64	<170>	43800	DATA"flKT","aOV","flEZ”	<203>
39350	IF 0127 AND 1=0 THEN DR#=DR#+CHR#(1		43850	RESTORE	<211>
	8):1=1	<194>	43900	FOR W=1 TO N	<052>
39400	IF 0127 AND 1=1 THEN C=C-128sGOTO 3		43950	READ A#	<111>
	9500	<181>	44000	NEXT W	<251>
39450	IF 1=1 THEN I=0:DR#=DR#+CHR#(146)	<179>	44050	RETURN	<165>
39500	IF C<32 THEN C=C+64:G0T0 39600	<015>			
39550	IF 064 THEN C=C+32	<063>			
39600	DR#=DR#+CHR#(C)	<140>			
39650	NEXT J	<115>			
39700	PRINT#4,DR#	<062>	Haushaltskasse (Schluß).		
121
Naturwissenschaft
C64
Fruchtwein -garantiert ohne
Frostschutz
Wenn Sie heute garantiert glykolfreien Wein trinken wollen, bleibt Ihnen fast nichts weiter übrig als ihn selbst herzustellen. Dieses Programm nimmt Ihnen die Berechnungen ab
Die Selbstbereitung von Weinen, besonders die von Obst-und Fruchtweinen, findet immer mehr Anhänger. Ich selbst stelle seit drei Jahren Fruchtweine zum Hausgebrauch her. Das vorliegende Programm hilft dem Hobbykellermeister, die Zutaten für sechs verschiedene Fruchtweine zu errechnen.
Mit dem Programm können Zutaten für Fruchtweine berechnet, diese Daten auf Diskette gespeichert, Daten von Diskette eingelesen oder gelöscht werden. Auch ein Ausdruck der berechneten alten oder neuen Werte ist möglich. Gesteuert wird das Programm über die Funktionstasten F1 - F8 und die Taste »P« (Ausdruck). Wird eine andere Taste als RETURN nach Anwahl des Druckmenüs gedrückt, kann im Programm weiter gearbeitet werden.
Die Formeln zur Errechnung der Zutaten sind aus den Beispielen entstanden, die im Kitzinger Weinbuch, Ausgabe 1982, nachzulesen sind.
Zu Beginn muß mit F1 das Untermenü »Weinsorten« angewählt werden (das Programm läßt auch nur diese Wahl zu, Bild 1). Sollen mit F3 die Zutaten berechnet werden, wird der Anwender aufgefordert, falls er es noch nicht getan haben sollte, sich mit F5 oder F7 für einen herben (Tisch-) oder einen süßen (Dessert-) Wein zu entscheiden. Danach erfragt das Programm alle notwendigen Angaben, die zur Berechnung derjeweiligen Zutaten nötig sind, durch INPUT-Befehle. Deshalb kein Komma als Dezimalzeichen eingeben, sondern
immer nur einen Punkt. Die Zutaten werden auf dem Bildschirm ausgegeben und können dann auf Diskette gespeichert und/oder mit »P« ausgedruckt werden (Bildschirm-Hardcopy, Bild 2).
Beim Speichern wird zur Unterscheidung der einzelnen Files nach Jahrgang und Zusatz gefragt. Bei der Eingabe von Jahrgang und Zusatz werden immer nur die letzten beiden Zeichen berücksichtigt. Um die Files später wieder einlesen zu können, sollte man sich Jahrgang und Zusatz entweder notieren oder sich immer einen Ausdruck anfertigen lassen, oder man druckt vor oder nach Anwendung des Programms das Directory aus.
Die Hardcopy-Routine für den MPS 801 stammt aus dem 64’er, Ausgabe 4/85, das Maschinenprogramm zur Cursorpositionierung aus dem 64’er, Ausgabe 1/85.
Die REM-Zeilen brauchen nicht mit eingegeben werden. Zur Eingabe des Programms (Listing 1) beachten Sie bitte die Eingabehinweise auf Seite 6. Wollen Sie eigene Verbesserungen am Programm anbringen, hilft Ihnen Tabelle 1 und 2.
(Siegfried Dahlmann/hm)
160 - 200 Daten einlesen
210	Fehlerkanal öffnen
220	Cursorpositionieren
230- 420 Titelbild
460 - 540 Umrandung
610- 710 Weinsortenwahl
750 - 800 Verzweigung zu den verschiedenen Rechenprogrammen
810 - 850 Verzweigung zu den Unterprogrammen des Menüs 890-1130 Menü
1170 -1220 Süßebestimmung
1280 -1710 Rechenprogramme und Bildschirmausgabe
1770 -1800 Erzeugung Filename
1810 Verzweigung zu den Floppyroutinen
1850 -1890 Bildschirmausgabe beim Einlesen von Files Sprung zu den entsprechenden Rechenprogrammen
1930 - 2010 Schreiben von Files
2020 - 2080 Überschreiben von Files
2110-2210 Fileseinlesen
2250 - 2290 Files löschen
2330 - 2390 Fehlerkanal lesen und Fehler anzeigen
2430-2490 Sprite-Daten
2550 - 2580 Daten Wein- und Hefesorten
2620 - 2630 Daten Maschinenprogramm Cursorpositionierung
2670-2730 Hardcopy-Routine
Tabelle 1. Programmaufbau nach Zeilennummern
Bild 1. Hardcopy des Auswahlmenüs
Stachelbeere	Dessertwein
Saft (1):? 6aeure :? Oechsle :?
100
10
00
Nasser Zucker Gesawtliter
25 1
16.562 kg 125 1
Naehrsalz	: 106.0 g
He fen	: SteinbergjSherry/Portwe i n
Zucker und Nasser duerfen zusa««3 nichtMehr als 25 1 betragen M! ■
fl=Neinsorte	f2=Speichern
f3-0erechnung	f4=Einlesen
f5=Tischwein	f6=Loeschen
fT-Dessertwein f8=PrograMwende
P=0usdruck
Bild 2. Das Programm berechnet die Zusätze
122
C64
Naturwissenschaft
c	Basisadresse Maschinenprogramm zur Cursor-
	positionierung
V	VIC-Basisadresse
X	aktueller Menüpunkt
y	aktuelle Weinsorte
0	Süßebestimmung
oe	Oechsle gemessen
sl	Saft gemessen
sg	Säure gemessen (g/l; mit Acidometer bestimmt)
f	Fruchtmenge gemessen
zw	Zuckerwasserzugabe
w	gerundeter Wert von zw
zz	Zuckerzugabe
ms	Milchsäure
ns	Hefenährsalz
og, bo, a	drei Hilfsvariablen zur Errechnung von zz
a$, aa$	dienen der Menüsteuerung
jj$	Filename, zusammengesetzt aus
j$	Jahrgang und
z$	Zusatz
c1$ und	senden ASCII-Code vom Bildschirm
c2$	an Drucker
en	Fehlernummer, Fehlerkanal
em$	Fehlermeldung
fe	Merker bei Fehlermeldung
me	Merker bei nichtgewählter Süße
xx	Merker Menüausdruck Bildschirm
U	Laufvariable
q	Hilfsvariable
b$(y)	Weinsorten
h${z)	Hefesorten
Tabelle 2. Variablenliste
10 REM *******************************	<148>
20 REM **	**	<020>
30 REM ** FRUCHTWEINBEREITUNG	**	<079>
40 REM **	VON	**	<155>
50 REM ** SIEGFRIED DAHLMANN	**	<031>
80 REM **	**	<080>
90 REM *******************************	<228>
100 PRINT CHR$(147)CHR$(14)CHR$(8)	<048>
110 C=828:V=53248	<227>
120 REM	<182>
130 REM **♦ DATEN EINLESEN ***	<074>
140 REM	<202>
150 POKE V+32,10=POKE V+33,13 160 FOR 1=0 TO 62:READ O:PDKE 896+I,Q:NEXT	<006>
I 170 FOR 1=0 TO 62:READ Q:POKE 704+I,Q:NEXT	<163>
I	<230>
180 FOR 1=1 TO 6:READ B$(I),H$(I):NEXT I	<174>
190 FOR 1=828 TO 850	<081>
200 READ Q:POKE I,Q:NEXT I	<134>
210 OPEN 15,8,15,"I0"	<054>
220 SYS C,0,0 230 FOR 1=1 TO 8:PRINT CHR$(17)CHR$(151)"E	<091>
RUCHT",	<155>
240 FOR J = 1 TO 50:NEXT J,I 250 FOR 1=1 TO 8:PRINT CHR$(17)CHR$(30)"W	<071>
E I N",	<173>
260 FOR J=1 TO 50:NEXT J,I	<093>
270 FOR J=1 TO 200:NEXT J 280 SYS C,20,0:PRINT CHR$(5)"SIEGFRIED £AH	<043>
LMANN"	<131>
290 PRINT"5CHLOSS STR.9"	<044>
300 PRINT"4044 KME5J:{SHIFT-SPACE>2"	<058>
310 SYS C,0,0:FOR J=1 TO 500:NEXT J	<190>
320 FOR 1=1 TO 8:PRINT CHR$(17)"{9SPACEI",	<195>
330 FOR J=1 TO 50:NEXT J,I	<163>
340 FOR 1=1 TO 8:PRINT CHR$(17)"{9SPACE}",	<215>
350	FOR J=1 TO 50:NEXT J,I	<183>
360	POKE V+32,5:P0KE V+33,2	<009>
370	SYS C,7,15:PRINT CHR$(153)"L<SHIFT-SPA CE>R U C H T W E I N"	<007>
380	SYS C,10,19:PRINT"BEREITUNG"	<125>
390	POKE 2041,14:POKE 2042,ll:POKE V+40,10 :POKE V+41,13	<102>
400	POKE V+21,6:P0KE V+23,6:P0KE V+29,6	<196>
410	POKE V+2,75:P0KE V+4,75:P0KE V+3,100:P OKE V+5,100	<223>
420	SYS C,24,ll:PRINT"SITTE J#STE DRUECKEN	
	!"CHR$(146);:F0R 1=1 TO 50:NEXT I	<234>
430	POKE 198,0:WAIT 198,1	<148>
440	FOR 1=75 TO 190:POKE V+2,I:P0KE V+4,I: NEXT I	<068>
450	PRINT CHR^(147):POKE V+32,6:P0KE V+33, 6	<249>
460	FOR 1=39 TO 0 STEP—1	<009>
470	POKE 1024+I,127:POKE 55296+1,5	<063>
480	POKE 1784+I,127:P0KE 56056+1,5	<103>
490	POKE 1984+I,127:P0KE 56256+1,5	<149>
500	NEXT I	<074>
510	FOR 1= 0 TO 880 STEP 40	<168>
520	POKE 1064+I,127:POKE 55336+1,5	<221>
530	POKE 1103+I,127:POKE 55375+1,5	<254>
540	NEXT I	<116>
550	SYS C,12,ll:PRINT CHR$(154)"ZUERST Fl WAEHLEN,"	<008>
560	PRINT:PRINT TAB(7)" DANN <<SHIFT-SPACE lffiM<SHIFT-SPACEJ> DRUECKEN ";	<104>
570	GOTO 890	<190>
580	REM	<134>
590	REM *** WEINSORTENWAHL **♦	<223>
600	REM	<154>
610	POKE V+32,9:P0KE V+33,9:O=0	<089>
620	SYS C,l,15:PRINT CHR$(158)"ajEINS0RTEN" :PRINT	<011>
630	FOR 1=1 TO 3:PRINT:PRINT TAB(2)B$(I)TA B(12)"	  ";I:NEXT	I	<138>
640	FOR 1=4 TO 6:PRINT:PRINT TAB(2)B$(I)TA B(16)"	";I:NEXT I	<107>
650	SYS C,17,18:PRINT CHR$(18)CHR$(153)"ZA HL EINGEBEN"CHR$(146):F0R 1 = 1 TO 50:NE	
	XT I	<072>
660	SYS C,17,18:PRINT"ZAHL EINGEBEN":FOR I =1 TO 50:NEXT I	<043>
670	GET A$:IF A*=""THEN 650	<004>
680	IF ASC(A$)<49 OR ASC(A$)>54 THEN 670	<212>
690	POKE V+21,0:POKE V+32,2:P0KE V+33,2:Y= VAL(A$)	<178>
700	PRINT CHR$(147)	<221>
710	SYS C,0,1:PRINT B$(Y):RETURN	<002>
720	REM	<018>
730	REM *** BEFEHLSAUSFUEHRUNG ♦**	<166>
740	REM	<038>
750	IF Y=2 OR Y=3 THEN 0=125	<218>
760	IF 0=0 THEN SYS C,l,0:PRINT"äAEHLE TIS CH- ODER SESSERTWEIN":ME=l:RETURN	<101>
770	IF 0=85 THEN SYS C,0,18:PRINT"IISCHWEI N<3SPACE}"	<095>
780	IF 0=125 THEN SYS C,0,18:PRINT"^ESSERT WEIN"	<040>
790	ON Y GOSUB 1280,1520,1590,1280,1280,12 80	<118>
800	RETURN	<032>
810	IF X=8 THEN POKE V+21,0:PRINT CHR$(147 )CHR$(9):CLOSE 15:END	<060>
820	IF Y=0 AND X<>1 THEN SYS C,4,7:PRINT C HR#(150)"SRST äEINSORTE <F1> WAEHLEN!" :GOTO 890	<073>
830	IF X=2 OR X=9 OR ME=1 THEN 850	<120>
840	IF Y<>0 THEN PRINT CHR$(147):IF X<>1 T HEN SYS C,0,0:PRINT B$(Y)	<015>
850	ON X GOSUB 610,1750,750,1750,1170,1750 ,1200,810,2670	<002>
860	REM	<160>
870	REM *** MENUE ***	<028>
880	REM	<180>
890	X=0-A$="":IF XX=0 THEN 920	<154>
900	IF XX=1 THEN AI=AA$:GOTO 920	<024>
910	POKE 198,0:WAIT 198,l:GET A$:XX=1	<237>
920	SYS C,20,2:IF A$=CHR$(133)THEN PRINT C HRt (18) "Fl=,HEINSORTE"CHR^ (146) : X=1: GOT 0 940	<110>
930	PRINT CHR$(158)"F1=HEINSORTE"	<102>
940	SYS C,21,2:IF A$=CHR$(134)THEN PRINT C	
Listing zur Fruchtweinbereitung. Beachten Sie die Eingabehinweise auf Seite 6.
123
Naturwissenschaft
C64
	HR$(18) "F3=^RECHNUNG"CHR$(146) ; X=3sG0		1600	SYS C,1,0:PRINT CHR$(144):INPUT"£RUCH	
	TO 960	<157>		T (KG) :";F	<007>
950	PRINT"F3=3ERECHNUNG"	<025>	1610	W=INT(F*3.2*10+.5)/10	<238>
960	SYS C,22,2:IF A$=CHR$(135)THEN PRINT C		1620	ZZ=INT(F*1.2*1000+.5)/1000	<053>
	HR$(18)"F5=XISCHWEIN"CHR$(146):X=5:G0T		1630	MS=INT(F*16+.5)	<084>
	0 980	<099>	1640	NS=INT(MS+.5)/10	<140>
970	PRINT"F5=TISCHWEIN”	<000>	1650	PRINT CHR$(17)CHR$(5)"PASSER <5SPACE}:	
980	SYS C,23,2:IF A$=CHR$(136)THEN PRINT C			";W;"L"	<168>
	HR$(18) "F7=^SSERTWEIN"CHR$(146) :X=7:G		1660	PRINT"ZUCKER<5SPACE>:";ZZ;"KG ZUM HAS	
OTO 1000		<040>		SER DAZU•!"	<079>
990	PRINT HF7=SESSERTWEIN"	<075>	1670	PRINT"fiILCHSAEURE: ";MS; ,fG"	<044>
1000	SYS C,20,20:IF A$=CHR$(137)THEN PRINT		1680	PRINT"HAEHRSALZ<2SPACE3:";NS;"G"	<181>
	CHR$(18)"F2=^PEICHERN"CHR$(146)5 X=2:		1690	PRINT"HEFEN <6SPACE}: ";H$(Y)	<142>
	GOTO 1020	<146>	1700	IF X=4 THEN GOSUB 2000	<211>
1010	PRINT"F2=SPEICHERN"	<115>	1710	RETURN	<244>
1020	SYS C,21,20:IF A^=CHR^(138)THEN PRINT		1720	REM	<002>
	CHR$(18)"F4=^INLESEN"CHR^(146):X=4sG		1730	REM **♦ DISK ***	<125>
	OTO 1040	<015>	1740	REM	<022>
1030	PRINT"F4=£INLESEN"	<097>	1750	SYS C,l,BsPRINT CHR$(144)	<136>
1040	SYS C,22,20:IF A$=CHR$(139)THEN PRINT		1760	IF X=2 THEN SYS C,13,0:IF F=0 AND SL=	
	CHR$(18) "F6=JL0ESCHEN"CHRt (146) : X=6:G			0 THEN PRINT"HELCHE DATEN DENN2":RETU	
	OTO 1060	<156>		RN	<163>
1050	PRINT"F6=^DESCHEN"	<136>	1770	Z$="":J$=""	<035>
1060	SYS C,23,20:IF At=CHR$(140)THEN PRINT		1780	INPUT"ZAHRGANG";J$	<159>
	CHR$(18)"F8=PR0GRAMMENDE"CHR#(146):X		1790	INPUT"ZMSATZ {2SPACE3";Z$	<142>
	=8:G0T0 1080	<045>	1800	JJ$=LEFT$(B$(Y),7)+RIGHT$(J$,2)+RIGHT	
1070	PR I NT " F8=JPR0GRAMMENDE "	<028>		$(ZI,2)	<135>
1080	SYS C,24,12:IF A$="P"THEN PRINT CHR$(		1810	ON X/2 GOSUB 1930,2120,2250	<244>
	18)CHR^(29)"P=fiUSDRUCK"CHR$(146);:X=9		1820	IF X<>4 THEN RETURN	<249>
	:GOTO 1100	<075>	1830	SYS C,3,0:PRINT CHR^(144)	<026>
1090	PRINT" E=fiUSDRUCK ";	<031>	1840	IF FE=1 THEN FE=0:RETURN	<246>
1100	IF X<1 OR X>9 THEN 910	<160>	1850	IF Y=2 THEN PRINT"ERUCHTBREI{2SPACE3(	
1110	POKE 198,0sWAIT 198,l:GET AA$	<168>		L) :";F:GOTO 1540	<030>
1120	IF AA$<>CHR$(13)THEN 890	<208>	1860	IF Y=3 THEN PRINT"FRUCHT (KG) :";F:GO	
1130	GOTO 810	<114>		TO 1610	<108>
1140	REM	<186>	1870	PRINT"5AFT (L):";SL	<171>
1150	REM ♦** BESTIMMUNG DER SUESSE ***	<041>	1880	PRINT"äAEURE{2SPACE}=";SG	<000>
1160	REM	<206>	1890	PRINT"fiECHSLE :";0E:60T0 1320	<033>
1170	0=85:IF ME=1 THEN ME=0:GOTO 770	<219>	1900	REM	<184>
1180	SYS C,0,18:PRINT"XISCHWEIN{2SPACE}"	<046>	1910	REM #** FILES SCHREIBEN ***	<036>
1190	RETURN	<232>	1920	REM	<204>
1200	0=125:IF ME=1 THEN ME=0:GOTO 780	<228>	1930	OPEN 2,8,2,JJ$+",S,W":G0SUB 2330	<038>
1210	SYS C,0,lB:PRINT"3ESSERTWEIN"	<106>	1940	IF EN=63 THEN PRINT"LILENAME BESTEHT	
1220	RETURN	<006>		SCHON":GOTO 2020	<037>
1230	REM	<020>	1950	IF EN>63 THEN RETURN	<008>
1240	REM *** RECHENPROGRAMME FUER ***	<208>	1960	IF EN=0 THEN PRINT"OKAY"	<098>
1250	REM *** BROMBEERE,JOHANNISBEERE ***	<160>	1970	IF Y=2 OR Y=3 THEN PRINT#2,FsG0T0 199	
1260	REM ♦** SAUERKIRSCH,STACHELBEERE **	<237>		0	<108>
1270	REM	<060>	1980	PRINT#2,SL:PRINT#2,SG:PRINT#2,OE sPRIN	
1280	GOSUB 2000	<230>		T#2,0	<138>
1290	SYS C,1,0:PRINT CHR$(144):INPUT"SAFT		1990	CLOSE 2	<231>
	(L):";SL	<241>	2000	OE=0:SL=0:SG=0:F=0	<225>
1300	INPUT"5AEURE <2SPACE3:";SG	<104>	2010	RETURN	<034>
1310	INPUT"ßECHSLE :";OE	<182>	2020	PRINT TAB(15)CHR^(150) "^{3SPACE)—X	
1320	IF OE=0 OR SL=0 OR SG=0 THEN RETURN	<118>		4SPACE3@ "	<005>
1330	ZW=(SL*SG)/8-SL:W=INT(ZW*10+.5)/10	<100>	2030	PRINT"UEBERSCHREIBEN?{16SPACE3DRUECKE	
1340	IF W<.1 THEN PRINT CHR$(5)"HNGUELTIGE			N"	<016>
	£INGABEN":RETURN	<231>	2040	PRINT TAB(15)"HEIN —> .KLT.U.RN"	<134>
1350	OG=(SL*OE)/(ZW+SL)	<131>	2050	POKE 198,0:WAIT 198,lsGET A$:IF A$=CH	
1360	BO=O-OG	<201>		R$(13)THEN CLOSE 2:RETURN	<107>
1370	A=BO*(ZW+SL):ZZ=INT(A*2.5)/1000	<055>	2060	IF A$<>CHR$(64)THEN 2050	<158>
1380	NS=INT(SL*10.7)/10	<056>	2070	CLOSE 2	<057>
1390	PRINT CHR$(17)CHR$(5)"PASSER <6SPACE 3:		2080	OPEN 2,8,2,"@:"+JJ$+",S,W":G0T0 1970	<096>
	";W;"L"	<162>	2090	REM	<120>
1400	PRINT"ZUCKER{6SPACE):";ZZ;"KG"	<190>	2100	REM *** FILES LESEN **♦	<208>
1410	PRINT"ßESAMTLITER :";W+SL;"L"	<032>	2110	REM	<140>
1420	PRINT"HAEHRSALZ<3SPACE>: ";NS; "G"	<175>	2120	GOSUB 2000	<052>
1430	PRINT"ÖEFEN <7SPACE3: ";H$(Y)	<136>	2130	OPEN 2,8,2,JJ$+",S,R":G0SUB 2330	<230>
1440	IF X=4 THEN GOSUB 2000:RETURN	<065>	2140	IF EN=62 THEN PRINT"LILE GIBT ES NICH	
1450	PRINT CHR$(155)CHR$(18)"ZUCKER UND äA			T"sCLOSE 2:FE=1sRETURN	<247>
	SSER DUERFEN ZUSAMMEN"	< 111 >	2150	IF EN>63 THEN RETURN	<210>
1460	PRINT CHR$(18)"NICHT MEHR ALS";W;CHR^		2160	IF Y=2 OR Y=3 THEN INPUT#2,F:0=125:G0	
	(157)" L BETRAGEN !!! "CHR$(146)	<220>		TO 2190	<114>
1470	RETURN	<002>	2170	INPUT#2,SL,SG,0E,0	<057>
1480	REM	<016>	2180	IF 0=85 THEN GOSUB 1180	<005>
1490	REM *** RECHENPROGRAMM FUER ***	<200>	2190	IF 0=125 THEN GOSUB 1210	<237>
1500	REM *** ERDBEERE, HAGEBUTTE *♦*	<139>	2200	CLOSE 2	<187>
1510	REM	<046>	2210	RETURN	<236>
1520	GOSUB 2000	<214>	2220	REM	<250>
1530	SYS C,1,0:PRINT CHR$(144):INPUT"fRUCH		2230	REM *** FILES LOESCHEN ***	<074>
	TBREI{2SPACE3(L) : " ; F	<151>	2240	REM	<014>
1540	W=INT(F*.5*10+.5)/10	<098>	2250	OPEN 2,8,2,JJ$+",S,R";GOSUB 2330	<094>
1550	ZZ=INT(F*.5*1000+.5)/1000	<088>	2260	IF EN<>0 THEN PRINT"EILE GIBT ES NICH	
1560	MS=W*10	<251>		T":CLOSE 2:RETURN	<106>
1570	NS=INT(F*.53*10+.5)/10	<151>	2270	CLOSE 2	<001>
1580	GOTO 1650	<252>	2280	PRINT#15,"S:"+JJ$:GOSUB 2330:IF EN=1	
1590	GOSUB 2000	<030> I			
124
C64
Naturwissenschaft
THEN PRINT"EILE GELOESCHT”	<022>	2520 REM	<C40>
2290 RETURN	<060>	2530 REM *** WEIN- UND HEFESORTEN ♦**	<340>
2300 REM	<074>	2540 REM	<060>
2310 REM *♦* FEHLERKANAL LESEN ***	<208>	2550 DATA"3R0MBEERE" , ">JRGUNDER/WDEAUX" ,	
2320 REM	<096>	"3RDBEERE","T0KAIER/5UEDWEIN"	<241>
2330 INPUT#15,EN,EM$	<035>	2560 DATA"0AGEBUTTE","ZPR7WEINZflALAGAZBJKA	
2340 IF EN=21 OR EN>64 THEN SYS C,17,0	<237>	IER","^OHANNISEFERE","&TEINBERG,fPRTW	
2350 IF EN=21 THEN PRINT EM$;"fiISK NICHT F		EIN"	<094>
ORMATIERT? flNDERE EINLEGEN"	<146>	2570 DATA " SAb3RK IRSCH <3SPACE } " , " ÄJRGUND, £jD	
2360 IF EN=72 THEN PRINT"3ISK IST VOLL! 31		RT^EIN","3TACHELBEERE{2SPACE}"	<093>
TTE NEUE EINLEGEN"	<185>	2580 DATA"5TEINBERG,5HERRYZfPRTWEIN"	<026>
2370 IF EN=74 THEN PRINT"^INE SISK IN DER		2590 REM	<112>
ELOPPY! fiISK EINLEGEN"	<122>	2600 REM *** CURSORPOSITIONIERUNG ***	<223>
2380 lF EN=21 OR EN>71 THEN PRINT"UND LETZ		2610 REM	<132>
TEN £ROGRAMMPUNKT WIEDERHOLEN!"sCLOSE		2620 DATA 32,253,174,32,158,183,138,72,32,	
2	<193>	253,174,32	<208>
2390 RETURN	<162>	2630 DATA 158,183,138,168,104,170,24,32,24	
2400 REM	<176>	0,255,96	<120>
2410 REM *** SPRITE ***	<190>	2640 REM	<162>
2420 REM	<196>	2650 REM *** HARDCOPYROUTINE ***	<046>
2430 DATA 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,		2660 REM	<182>
0,0,0,0,0,0 ) 0 f 0 ) 0,0 f 0 f 0 f 0 f 0 f 0 9 0 f 0 9 0 J 0		2670 SYS C,24,l:PRINT"3RUCKER FERTIGMACHEN	
	<214>	, DANN	> ÄÜMH";	<064>
2440 DATA 0,170,0,1,255,0,3,255,128,3,255,		2680 POKE 198,0:WAIT 198,l:GET A$:IF AO<>C	
128,1,255,0,1,255,0,0,254,0,0,124,0	<149>	HR$(13)THEN GOSUB 2700:RETURN	<152>
2450 DATA 0,0,0	<030>	2690 PRINT CHR$(19);:0PEN l,4,7:0PEN 2,3:G	
2460 REM	<236>	OSUB 2710:CLOSE 2:CL0SE 1	<137>
2470 REM *** SPRITE ***	<250>	2700 SYS C,24,l:PRINT"<38SPACE>";:RETURN	<217>
2480 REM	< 000 >	2710 FOR 1=1 TO 20:FOR J=1 TO 20:GET#2,ClS	
2490 DATA 0,0,0,0,56,0,0,56,0,0,56,0,0,16,		:PRINT CHR$(20);:GET#2,C2$	<022>
0,0,124,0,0,56,0,0,56,0,0,56,0,0,124,		2720 PRINT CHR$(157)CHR$(148)Cl$C2t;	<190>
0	<211>	2730 PRINT#1,Cl$C2$;:NEXT:PRINT#l:NEXT:PRI	
2500 DATA 1,255,0,3,255,128,3,255,128,7,25		NT CHR^(19);=RETURN	<241>
5,192,7,255,192,7,255,192,7,255,192	<115>		
2510 DATA 3,255,128,3,255,128,1,255,0,0,25			
4,0	<067>	© &4'er	
		Listing zu »Fruchtwein« (Ende)	
Top-Themen
TOP-THEMEN AUS 64'er: AUSGEWÄHLTE SUPER-LISTINGS Anwendungen: Schoch, Keoel-statistik, Sternenkarte und »Happy-synth<<-Sound. Grafik: Provic 64, Turtle-Grofik, Trickfilm und HI-EODI. Hilfsprogramme: Bitmap-Companaer, Exsort, Strohs, Tiny-Fortn-Compiler, Hypra-Load und Hypra-$ave. Spiele: Grab des Pnarao, Castle of Doom und Apocalypso Now.
SONDERHEFT: FLOPPY/DATASETTE Alles zum Thema Massenspeicher: So stellt man dio Datasette ein. FMON 1541: Das Werkzeug für werdende Floppy-Spezialisten. Disk Basic 64: Fast SO neue Befehle für komfortablen Floppy-Betrieb. Turbo Tope de Luxe: Datosette 10mol schnollor ais Floppy 1S41.
Diese neue 64er Sonderheftreihe bringt jetzt ho<haktuelle Zusammenstellungen verbesserter, überarbeiteterund erweiterter Super*Listings, aus-gewähH aus den besten 64en Programmen — ein Le<kerbissen fiir alle C 64-fans.
125
|||	ÄASHTON-TATE
Wwdftar.dBÄSEI
Der Bestseller unter den Textverarbeitungsprogrammen für PCs bietet Ihnen bildschirmorientierte Formatierung, deutschen Zeichensatz und DIN-Tastatur sowie integrierte Hilfstexte. Mit MailMerge können Sie Serienbriefe mit persönlicher Anrede an eine beliebige Anzahl von Adressen schreiben und auch die Adreßaufkleber drucken.
WordStar/MailMerge für den Commodore 128 PC Bestell-Nr. MS 103 (S'/r-Diskette)
Hardware-Anforderungen: Commodore 128 PC, Diskettenlaufwerk, 80-Zeichen-Monitor, beliebiger Commodore-Drucker oder ein Drucker mit Centronics-Schnittstelle. DM 299,-* (sFr. 260,-)
dBASE II, das meistverkaufte Programm unter den Datenbanksystemen, eröffnet Ihnen optimale Möglichkeiten der Daten- u. Dateihandhabung. Einfach u. schnell können Datenstrukturen definiert, benutzt und geändert werden. Der Datenzugriff erfolgt sequentiell oder nach frei wählbaren Kriterien, die integrierte Kommandosprache ermöglicht den Aufbau kompletter Anwendungen wie Finanzbuchhaltung, Lagerverwaltung, Betriebsabrechnung usw.
dBASE II für den Commodore 128 PC
Bestell-Nr. MS 303 (öV-Diskette)
Hardware-Anforderungen: Commodore 128 PC, Diskettenlaufwerk, 80-Zeichen-Monitor, beliebiger Commodore-Drucker oder ein Drucker mit Centronics-Schnittstelle. DM 299,-* (sFr. 260,-)
Wenn Sie die zeitraubende manuelle Verwaltung tabellarischer Aufstellungen mit Bleistift, Radiergummi und Rechenmaschine satt haben, dann ist MULTIPLAN, das System zur Bearbeitung »elektronischer Datenblätter« genau das richtige für Sie! Das benutzerfreundliche und leistungsfähige Tabellenkalkulationsprogramm kann bei allen Analyse- und Planungsberechnungen eingesetzt werden, wie z. B. Budgetplanungen, Produktkalkulationen, Personalkosten usw. Spezielle Formatierungs-, Aufbereitungs- und Druckanweisungen ermöglichen außerdem optimal aufbereitete Präsentationsunterlagen!
MULTIPLAN für den Commodore 128 PC
Bestell-Nr. MS 203 (5%'-Dlskette)
Hardware-Anforderungen: Commodore 128 PC, Diskettenlaufwerk, 80-Zeichen-Monitor, beliebiger Commodore-Drucker oder ein Drucker mit Centronics-Schnittstelle. DM 249,-* (sFr. 225,-)
Wenn Sie direkt beim Verlag bestellen wollen: per Nachnahme oder gegen Vorauskasse durch Verrechnungsscheck oder mit der eingehefteten Zahlkarte.
Dies sind die ersten drei weltbekannten Software-Produkte für den Commodore 128 PC. Weitere folgen in Kürze!
Bestellungen im Ausland bitte an nebenstehende Adressen.
Für Auskünfte stehen Ihnen Herr Barsa, Tel. 089/4613-1 33, und Herr Teller, Tel. 0 89/4613-2 05, gerne zur Verfügung.
MCROSOFT*
I und MULTIHAN
mm
dBASE
MUEDPLAN
Commodore&8PC
Mit diesem ßuch haben Sie eine wertvolle Ergänzung zum WordStar-Handbuch: Anhand vieler Beispiele steigen Sie mühelos in die Praxis der Textverarbeitung mit WordStar ein. Angefangen beim einfachen Brief bis hin zur umfangreichen Manuskripterstellung zeigt Ihnen dieses Buch auch, wie Sie mit Hilfe von MailMerge Serienbriefe an eine beliebige Anzahl von Adressen mit persönlicher Anrede senden können.
WordStar für den Commodore 128 PC
Best.-Nr. MT 780, ISBN 3-89090-181-6
Zu einem Weltbestseller unter den Datenbanksystemen gehört auch ein klassisches Einführungs- und Nachschlagewerk! Dieses Buch von dem deutschen Erfolgsautor Dr. Peter Albrecht begleitet Sie mit nützlichen Hinweisen, die nur von einem Profi stammen können, bei Ihrer täglichen Arbeit mit dBASE II. Schon nach Beherrschung weniger Befehle ist der Einsteiger in der Lage, Dateien zu erstellen, mit Informationen zu laden und auszuwerten.
dBASE II für den Commodore 128 PC
Best.-Nr. MT 838, ISBN 3-89090-189-1
Dank seiner Menütechnik ist MULTIPLAN sehr schnell erlernbar. Mit diesem Buch von Dr. Peter Albrecht werden Sie Ihre Tabellenkalkulation ohne Probleme in den Griff bekommen. Als Nachschlagewerk leistet es auch dem Profi nützliche Dienste. MULTIPLAN für den Commodore 128 PC Best.-Nr. MT 836, ISBN 3-89090-187-5
Jedes Buch kostet DM 49,- (sFr. 45,10). Erhältlich bei Ihrem Buchhändler.
Sie erhalten jedes WordStar-, dBASE IP und MULTIPLAN-Pro-gramm für Ihren Commodore 128 PC fertig angepaßt (Bildschirmsteuerung und Druckerinstallation).
Jedes Programmpaket enthält außerdem ein ausführliches Handbuch mit kompakter Befehlsübersicht.
* inkl. MwSt.
Unverbindliche Preisempfehlung
Markt Technik
BUCHVERLAG
Hans-Pinsel-Straße 2, 8013 Haar bei München
Schweiz: Markt&Technik-Vertriebs AG, Kollerstrasse 3, CH-6300 Zug, 9 0 42/4156 56
Österreich: RudoK Lechner & Sohn, Heizwerkstraße 10, A-1232 Wien, ® 02 22/67 75 26
Naturwissenschaft
C64
Der C 64 als Meßboy
Ein kleiner Hardware-Zusatz, der für unter 10 Mark zu haben ist, macht aus Ihrem C64 ein Kapazitäts- und Widerstandsmeßgerät, das einen Vergleich mit professionellen Geräten nicht zu scheuen braucht. Der Meßbereich reicht von einigen pF bis hin zu einigen mE
Jeder Elektronikbastler kennt das Problem: in der Bauteilekiste liegen etliche undefinierbare Kondensatoren mit exotischen Aufschriften, wie zum Beispiel 22000 F oder 20j. Woher soll man mit Sicherheit sagen können, ob das herausgefischte Exemplar auch die richtige Zehnerpotenz besitzt? Zwar gibt schon die Bauteilgröße einen Anhaltspunkt, ob Pikofarad, Nanofarad oder gar Mikrofarad gemeint sind, doch man verschätzt sich leicht, weil oft auch die zulässige Spannung nicht klar angegeben ist. So entsteht der Wunsch, die Bauteile nachmessen zu können, doch Kapazitätsmeßgeräte sind nicht billig, und so lohnt sich eine Anschaffung in den meisten Fällen nicht.
Der hier vorgestellte Meßzusatz ermöglicht aber, den C 64 zu einem Kapazitäts- und Widerstandsmeßgerät aufzuwerten. Mit wenig Aufwand erhält man ein System mit automatischer Meßbereichsumschaltung über mehr als neun Zehnerpotenzen und zehn ständig anzeigenden Meßwertspeichern, einer Ausstattung also, die auch bei den teuren Profigeräten ihresgleichen sucht.
Funktion durch Händeschütteln
Das Funktionsprinzip ist genial einfach. Ein ganz normales TTL-Monoflop aus der 74XX-Reihe dient als Zeitgeber. Es antwortet auf einen Low-High-Sprung am Eingang mit einem Ausgangsimpuls, dessen Länge weitgehend unabhängig von Betriebsspannung und Temperatur ist, also nur noch von den Werten des Widerstands und des Kondensators bestimmt wird. Mit einem Umschalter kann man wahlweise den Wider-
Kontrollregister 14 (TimerA) Adresse 66590 Inhalt 193:
BltO:1	TimerAStart
Bit 1:0 Keine Signalisierung an PB6
Bit2:0	(Beliebig)
Bit 3:0	Timer A zählt forttaufend vom Ausgangswert auf 0
Bit 4:0	Unbedingtes Laden ausgeschattet
Btt 5:0	Timer A zählt Systemtakte
Bit 6:1	(Serieller Port auf Eingang)
Bit 7:1	(Echtzeituhrtrigger 50Hz)
Kontrollregister 15 (TlmerB) Adresse 56591 lnhatt 121:
BitO:1	TimerBStart
Bit 1:0	Keine Signalisierung des Untertaufs an PB7
Bit2:0	(Beliebig)
Bit 3:1	Timer zähtt nur einmal auf 0
Bit 4:1	Unbedingtes Laden eingeschaltet
Btt 5:1	(Timer B zähtt Unteriäufe von Timer A
Bit6:1	(fallsCNT2 = 1ist
Bit 7: 0	(Uhrzeit)
Bild 2. Werte der Kontrollregister zur Zeitmessung mit den Timern desC64
T ss	07RC	
C =	T	RinOhm C in Farad TinSekunden
	0,7R	
R 3	T	
	0,7C	
Bild 3. Berechnung der Impulsdauer
stand oder den Kondensator fest einstellen und das jeweils andere Bauelement über die Abgreifklemmen messen.
Die gesamte übrige Hardware ist bereits im C64 eingebaut. Dank der Schnittstellenbausteine VIA 6526 hat man nämlich die Möglichkeit, über den User-Port die Impulsdauer zu messen, um sie dann auf den gesuchten Wert umzurechnen. Die Aktionen werden dabei über die sogenannten Hand-shake-Leitungen am User-Port koordiniert, wie im Zeitablaufdiagramm (Bild 1) deutlich zu sehen ist.
Durch einen Schreib- oder Lesebefehl auf die Port-Adresse 56577 wird der Meßimpuls ausgelöst. Das geschieht in dem abgedruckten Programm (Listing 1) in Zeile 3300. DerC64 signalisiert das am User-Port selbständig dadurch, daßPC2 für die Dauer eines Taktes Low wird. Wenn diese Leitung wieder auf High geht, löst das den Impuls am Monoflop-Ausgang Qaus, dergleichzeitig mitden Anschlüssen CNT2 und Flag2 verbunden ist. Wie dieTabelle »Kontrollregister« (Bild 2) zeigt, wurde der VIA-Baustein so programmiert, daß er mit dem Systemtakt abwärts zählt, solange der Eingang CNT2 High-Pegel führt. Dabei zählt Timer B Unterläufe von Timer A. Das bedeutet, Timer A wird mit einem bestimmten Wert geladen (Zeilen 3200 und 3210) und zählt von dort aus abwärts. Erreicht er die Stellung 0, dann wird der Inhalt des Timers B um eins erniedrigt, Timer A wird wieder mit dem vorgegebenen Startwert geladen, und der Vorgang wiederholt sich.
Errechnung des Meßwertes und Bereichsumschaltung
Die fallende Flanke am User-Port-Eingang setzt das Bit 4 im Register 56589 (Flag-Interrupt-Bit), das vom Programm abgefragt werden kann (Zeile4040). Essignalisiertsomitdas Ende des Monoflop-Taktes und die Gültigkeit des Timerinhalts. Beim Auslesen wird dieses Bit selbständig wieder gelöscht.
128
C64
Naturwissenschaft
Das Programm liest nun den Timer aus (2 Byte!), multipliziert ihn mit der Taktzeit und berechnet mit der Formel aus Bild 3 den gesuchten Wert. Für den Meßbereich Pikofarad und Nanofarad (B=0) erfolgt diese Rechnung in Zeile 5020. Sollte die zu messende Zeit die Timerkapazität überschreiten, so steht nach der Messung eine 0 in der Variablen und es wird in Zeile 5030 automatisch auf den Meßbereich Mikrofarad (B=1) umgeschaltet.
Hierbei wird das Highbyte des Timers A in Zeile 3210 nun mit 5 geladen, so daß längere Zeiten gemessen werden können. Die Umrechnung erfolgt jetzt in Zeile 6000. Falls die gemessene Zeit einen bestimmten Grenzwert unterschreitet, schaltet das Programm in Zeile 5035 wieder zurück in den Bereich 0.
Um genaue Ergebnisse zu gewährleisten, muß sichergestellt werden, daß nach einer Messung immer eine Erholzeit verstreicht, die mindestens 75% der Impulsdauer betragen soll. Diese Forderung ist normalerweise bereits durch die Programmlaufzeit erfüllt. Lediglich im Bereich Mikrofarad können längere Meßzeiten auftreten, die bei großen Kapazitäten nicht zu unterschätzen sind. Bei 1000 Mikrofarad beträgt die Impulsdauer bereits 27,3 Sekunden. Daher wird in Zeile 6020 eine angepaßte Warteschleife durchlaufen, die auch die Menüfunktionen zugänglich macht.
Aufbau und Inbetriebnahme
Die kleine Zusatzschaltung (Bild 4) kann auch von weniger Geübten leicht auf einer Lochrasterplatte aufgebaut werden. Alle Teile (Bild 5) sind handelsüblich und der gesamte Kostenaufwand liegtweit unter 10 Mark.
Um den Anzeigefehler möglichst klein zu halten, sollte für den 39 Kiloohm-Meßwiderstand eine Ausführung mit kleiner Toleranz gewählt werden (±1% oder kleiner).
Den Festkondensator für die Widerstandsmessung kann man messen, indem man in Stellung »C« und »Kondensatormeßgerät« die mit»-« bezeichnete Klemme mit dem Anschluß des Kondensators verbindet, der am Umschalter liegt. Der angezeigte Wert wird in Zeile 7050 eingetragen. War die Anzeige beispielsweise 211 Nanofarad, dann muß die Zeile lauten:
7050 W=(65535-(PEEK(56582)+PEEK(56583)*256))
*1.02e-6/(.7*211e-9)
Das Meßgerät ist nun geeicht und betriebsfertig.
Es sollte selbstverständlich sein, daß der Zusatz bei eingeschaltetem Computer weder aufgesteckt noch abgezogen wird.
Beim Starten des Programms wird zuerst das Kapazitätsmeßgerät aktiviert. Dazu muß man den Schalter auf der Zusatzplatine in Stellung »C« bringen. Auf der linken Bildschirmhälfte erscheinen die numerierten Speicherplätze, rechts leuchtet der Meßwert. Um die Benutzung zu erleichtern, erscheinen am unteren Bildrand alle verfügbaren Funktionen. Man kann sie durch Drücken des Anfangsbuchstabens anwählen.
Mit »S« gefolgt von einer Ziffer, wird der angezeigte Wert in den entsprechenden Speicher übernommen.
»L« löscht alle gespeicherten Einträge,
»W« oder »R« schalten um auf Widerstandsmessung, »K« oder »C« wieder zurück zur Kapazitätsmessung. Gelegentlich kann es beim Wechsel von Meßobjekten vorkommen, daß das Gerät nicht mehr reagiert. Hier hilft es, mit »I« einen Impuls von Hand auszulösen. Mit »Q« kann man das Programm verlassen.
1 MonoflopSN74121
1 Widerstand3,3k0
1 Me8widerstand 39 k0 ± 1 %
1 Kondensator 0,22 Mikrofarad
1 Stecker zum Anschluß an den User-Port des C 64, zum Beispiel Cardcon-Stecker Nummer 251-12-50-170 von TRW
1 Lochrasterplatte
1 Schalter 2x um
Bild 5. Stückliste zum »Meßboy«
Userl/O
Pln	l|||^	Note
1	GN0	
2	+ 5V	MAX. 100mA
3	RESET	
4	CNTI	
5	SP1	
6	CNT2	
7	SP2	
8	PC2	
9	SER. ATN IN	
10	9VAC	MAX. 100mA
11	9VAC	MAX. 100mA
	JiBM	
	Type	
■aisi	GND	
B	FLAG2	
C	PB0	
D	PB1	
E	PB2	
F	PB3	
H	PB4	
4	PB5	
K	PB6	
L	PB7	
M	PA2	
ililigBi		
1 2 3 4 5 * 7 8 9 10 11 12
li0iii0Äiii$jj^^
ABC 0 C * W JK L M M
Blld 6. Anschlußbezeichnungen des User-Ports
129
Naturwissenschaft
C64
100 REM	************************** 110 REM	*	*	<140> <159>	4999 REM********************** 5000 REM KAPAZITAETSMESSUNG	<230> <217>
120 REM *	C/R-MESSGERAET	*	<237>	5001 REM**********************	<232>
130 REM *	*	<179>	5020 W=(65535-(PEEK(56582)+PEEK(56583)*256	
140 REM *	*	<189>	))*1.02E-6/(.7*39000)	<177>
150REM * VON UWEGERLACH	*	<019>	5030 IF W=0 AND B=0 THEN B=1: GOTO 3000	<042>
160 REM *	BRUEHLSTR. 23	*	<156>	5035 IF W<3E-10 AND B=1 THEN B=0: GOTO 300	
170 REM *	*	<219>	0	<223>
180 REM *	6440 BEBRA 1	*	<124>	5050 IF B=1 THEN 6000: REM MESSBEREICH	<032>
190 REM *	*	<239>	5070 IF W<lE-9 THEN W$=LEFT$(STR$(W*lE12)+	
200 REM *	* 210 REM *	APRIL 1985	*	<249> <162>	"<6SPACE>",6)+" EIKOFARAD ": GOTO 200 0	<176>
220 REM *	*	<013>	5080 IF W<lE-6 THEN W$=LEFT$(STR$(W*lE9)+"	
230 REM **************************	<014>	<7SPACE}”,6)+” HANOFARAD ”: GOTO 2000	<102>
250 s	<226>	6000 W=(65535-(PEEK(56582)+PEEK(56583)*256	
1000 POKE 53280,0: POKE 53281,0: REM FARBE	<068>	))*5*256*1.02E-6/(.7*39000)	<035>
1010 PRINT "<CLR,WHITE>MIDERSTANDS-<2SPACE >UND {2SPACE>WAZ ITAETSMESSGERAET {GRE Y 2}”;CHR$(14):PRINT:PRINT	<094>	6010 Wt=LEFT$(STR$(W*1E6)+”<6SPACE)”,6)+" MIKROFARAD*' 6020 FOR 1=0 TO W*lE6:G0SUB 9030: NEXT I	<166> <184>
1400 PRINT”{HOME}":PRINT:PRINT:PRINT:PRINT		6050 GOTO 2000	<156>
,,” ÄAPAZITAETSMESSUNG”	<201>	6998 :	<116>
1420 B=0	<055>	6999 REM**********************	<198>
1430 PRINT:PRINT:PRINT,," 2ITTE DEN SCHALT		7000 REM WIDERSTANDSMESSUNG	<101>
ER"	<222>	7001 REM**********************	<200>
1440 PRINT,,"{2SPACEJAM öESSZUSATZ IN”	<047>	7050 W=(65535-(PEEK(56582)+PEEK(56583)*256	
1450 PRINT,,"<4SPACE>STELLUNG £'"	<056>	))*1.02E-6/(.7*220E-9)	<076>
1460 PRINT,,"{6SPACE)BRINGEN !"	<000>	7070 Wt="{2SPACE)"+LEFT$(STR$(INT(W))+”{6S	
1490 GOTO 8110	<008>	PACE>",7)+" SHMC4SPACEJ”	<159>
1500 PRINT”<HOME)":PRINT:PRINT:PRINT:PRINT		7100 GOTO 2000	<190>
,,” HIDERSTANDSMESSUNG”	<152>	7998 :	<100>
1520 B=2	<187>	7999 REM********************	<119>
1530 PRINT:PRINT:PRINT,," 2ITTE DEN SCHALT		8000 REM MESSWERTSPEICHER	<242>
ER”	<066>	8001 REM********************	<121>
1540 PRINT,,"<2SPACE>AM flESSZUSATZ IN”	<149>	8050 GET A$: IF A$="" THEN 8050	<196>
1550 PRINT,,"{4SPACE)fiTELLUNG '1'”	<038>	8060 IF VAL(A*)<0 OR VAL(A$)>9 THEN 8110	<110>
1590 GOTO 1460	<006>	8070 W$(VAL(A*))=W$	<206>
1592 :	<044>	8110 POKE 211,0: POKE 214,2: SYS 58732: RE	
1999 REM*********************	<236>	M KURSORPOSITIONIERUNG	<066>
2000 REM ANZEIGE UND MENUE	<038>	8120 FOR 1=0 TO 9	<060>
2001 REM*********************	<238>	8130 : PRINT I; W$(I): PRINT	<094>
2010 POKE 211,21: POKE 214,17: SYS 58732:		8140 NEXT I	<094>
REM KURSORPOSITIONIERUNG 2020 PRINT"{WHITE)";W$;'4GREY 2}”: REM AKT UELLER WERT 2030 GOSUB 9030	<090> <077> <112>	8210 PRINT "SFEICHERN{2SPACE)iDESCHEN{2SPA CE} HI DERSTANDSMESSUNG" 8220 PRINT "SAPAZITAETSMESSUNG j^PULSAUSLO ESEN SUIT"	<105> <016>
2998 :	<180>	8490 GOTO 2000	<056>
2999 REM*******************************	<087>	8498 :	<092>
3000 REM I/O-BAUSTEIN INITIALISIEREN	<104>	8499 REM**************************	<157>
3001 REM*******************************	<089>	8500 REM LOESCHEN DER SPEICHER:	<064>
3010 H=0	<145>	8501 REM**************************	<159>
3060 IF B=1 THEN H=5: REM FUER > 500NF	<069>	8510 FOR 1=0 TO 9: W$(I)="{17SPACE)"! NEXT	
3100 POKE 56590,193: REM KONTROLLREG. A	<166>	I	<223>
3110 POKE 56591,121: REM K0NTR0LLRE6. B	<008>	8520 GOTO 8110	<182>
3200 POKE 56580,0: REM TIMER A LOW	<021>	8998 :	<084>
3210 POKE 56581,H: REM TIMER A HI6H	<151>	9000 REM****************	<166>
3220 POKE 56582,255: REM TIMER B LOW	<241>	9010 REM	HAUPTMENUE	<002>
3230 POKE 56583,255: REM TIMER B HIGH	<155>	9020 REM****************	<186>
3240 :	<168>	9030 GET A$	<094>
3300 POKE 56577,0: REM IMPULS AUSLDESEN	<073>	9040 IF A$="S" THEN 8000	<114>
3998 :	<164>	9050 IF A*=”L” THEN 8500	<033>
3999 REM*******************************	<071>	9060 IF A$="Q" THEN PRINT"{CLR)": END	<221>
4000 REM WARTEN AUF FLAG-INTERRUPT-BIT	<084>	9070 IF A$="K" OR A$=”C” THEN 1400	<007>
4001 REM#***#********#**#**##«#*#*##*#	<073>	9080 IF A$="W" OR A$=”R” THEN 1500	<223>
4040 IF (PEEK(56589) AND 16)>0 THEN 4090	<135>	9090 IF A$="I" THEN 2000	<135>
4050 GOSUB 9030: GOTO 4040: REM MENUE	<006>	9095 RETURN	<007>
4090 IF B=2 THEN 7000: REM WIDERSTDMSG. 4998 :	<046> <148>	© 64*er	
Listing 1. Softwareteil zum »Meßboy«. Bitte beachten Sie die Eingabehinweise auf Seite 6.
Der Meßbereich des Systems reicht bei der angegebenen Dimensionierung von derGrößenordnung der Kabelkapazität bis zu einigen tausend Mikrofarad.
Im Ohm-Meßbereich überdeckt esjedoch nur die Werte von etwa 100 Ohm bis ungefähr 150 kQ .
Die Belegung des User-Ports und eine Variablenliste finden Sie in Bild 6 und 7.
(Uwe Gerlach/ah)
A$ Eingabestring von der Tastatur (ein Zeichen)
W$ Anzuzeigender oder zu speichernder Wert (mit Einheit)
B Bereich: 0 - Kondensatormessung kleiner 500 Nanofarad 1 « Kondensatormessung größer 500 Nanofarad 2 = Widerstandsmessung
H High-Byte Timer A (0 im Bereich 0,5 im Bereich 1)
I Indexvariable in Schleifen
W Errechneter Meßwert
Feld W$(t .10) gespeicherte Meßwerte
Bild 7. Variablenliste zum Programm »Meßboy«
130

Die Messeneuheiten von der Commodore-Messe in Frankfurt
iGroBe Marktübersicht: Monochrome Monitore. Was sie kosten — wie sie funktionieren —
wie man sie anschließt.
:?»f®^	Top-Ten 85:
'i^ÄÄW.e - ^--#^- Die SpieMforiuufshHs des Jahres.
Programm kontra Programm: Die besten Schachprogramme ermitteln si<h im Kampf gegeneinander.
Außerdem lesen Sie:
Sensation für den C128: 640x200 Punkte jetzt mit Basi<-Befehlen ansprechbar/Schritt für Scnritt mit Lageplan: Komplette Lösungen für die beliebtesten Abenteuerspiele./Basic-Programme aus dem EPROM: Selbstbau-EPROM-Brenner mit Listing — natürlich auch im Hardware-Service erhältlkh./Software-Hitfen: Tips zu Vi$awrite und Assembler-StarthiHe./64'er Extra: Die Zeropage./Software-Test: Die neue audio-visuelle Lernmethode mit dem C 64... und Tips und Tricks für C 64 und C128.
| FÜR EIN KOSTENLOSES PROBEEXEMPLAR DES 64’er-MAGAZINS
IJA, ich möchte das »64’er-Magazin« kennenlemen.
Senden Sie mir bitte die aktueUste Ausgabe kostenlos als Probeexemplar. Wenn mir »64’er« gefällt und ich es regelmäßig weiterbeziehen möchte, brauche ich nichts zu tun: Ich erhalte »64,’er« dann regelmäßig frei Haus per Post und bezahle pro Jahr DM 78,— (Ausland auf Anfrage)
I________________________________________________________________________________
Vomame, Name
l StraBe	PLZ, Ort
...und wenn Sie no<h kein per- I sönlidies 64'erAbonnement besitzen, «henken Sie si<h mW I demnebenstehendenGuts<hein
do<h ganz einfadi selbst eines I zu Weihna<hten!
Datum
1. Unterschrift
Mir ist bekannt, daß ich diese BesteUung innerhalb von 8 Tagen bei der BesteUadresse widerrufen kann und bestätige dies durch meine zweite Unterschrift. Zur Wahrung der Frist genügt die rechtzeitige Absendung des Widerrufs.
Datum
2. Unterschrift
Gutschein ausfüBen, ausschneiden, in ein Kuvert stecken und absenden an: Markt&Technik Verlag AktiengeseBschaft, Vertrieb, Postfach 1304, 8013 Haar
Naturwissenschaft
VC 20/C 64
Numerische Lösungen mathematischer Probleme
Wir stellen Ihnen eine kleine Sammlung von mathematischen Unterprogrammen vor, die in eigenen Programmen benötigt werden, aber schwer zu programmieren sind.
In dem ersten Programm (Listing 1) wird näherungsweise die erste Ableitung einer Funktion an einer bestimmten Stelle mit Hilfe des Differenzenquotienten bestimmt. Der Differenzenquotient ist wie folgt definiert:
,,, v f(x)-f(x)
f(z) = ——mit xn < z < x x-x0 0
Dieser Differenzenquotient (im Programm Zeile 200) wird etwas abgewandelt, so daß man den Abstand zwischen x und x0 immer kleiner werden läßt Dies geschieht, indem man statt x den Wert xo+h nimmt. Der Wert h wird dann immer weiter halbiert (Zeile 230), bis eine vorgegebene Genauigkeit erreicht ist (Zeile 220). Als erste Ableitung der bestimmten Stelle ist dann der letzte ausgedruckte Wert zu nehmen. Die erste Ableitung gibt übrigens die Steigung der Tangenten an, die an der bestimmten Stelle an den Graphen der Funktion angelegt wird.
Diese Tangente, beziehungsweise auch weitere Tangenten werden bei dem zweiten und dritten Programm (Listing 2 und 3) benötigt. Bei dem zweiten Programm wird mit Hilfe von Tangenten die Nullstelle(n) (die Stelle, wo der Graph der Funktion die x-Achse schneidet) einer Funktion bestimmt.
Die Iterationsvorschrift (Zeile 160) lautet:
x^=x-y/y'=x-f(xJ/f(x,)
Dieses Verfahren stammt von Newton. Im dritten Programm (Listing 3) ist die Vorschrift ähnlich, nur braucht man die erste Ableitung nicht wissen, was oft von Vorteil ist. Die erste Ableitung wird hier in etwa so bestimmt, wie es in Programm 1 beschrieben ist. Da nicht nur Ableitungen und Nullstellen von Interesse sind, sondern auch die oben erwähnten Integrale, behandeln Programm 4 und 5 (Listing 4 und 5) diese Probleme.
Im vierten Programm (Listing 4) ist die Kepler’sche Faßregel umgesetzt. Möchte man das Integral einer Funktion (Zeile 240) wissen, so kann man es mit der Kepler’schen Faßregel annähern. Die Faßregel lautet:
b
j f(x)dx * (b-a) • (f(a)/6+f((a+b)/2) ■ 2/3+f(b)/6) a
Mit dieser noch recht einfachen Formel läßt sich das Integral schnell näherungsweise bestimmen.
Die Formel im Programm 5 (Listing 5) stammtvon Simpson, sie ist ein wenig komplizierter:
£	n-1	n-1
Jf(x)dx«h/3-(f(a)+f(b)+4-£ f(a+(2k+1)h)+2-^ f(a+2kh)) a	k=0	k=1
mit h=(b-a)/(2n)
Die beiden Summen sind in den Zeilen210bis 240 und 250 bis 280 umgesetzt.
Ein Problem aus einem etwas anderen Bereich bezieht sich auf gewöhnliche Differentialgleichungen. Bei dem Euler-schen Polygonzugverfahren in Programm 6 (Listing 6) wird der Graph, der die Lösung der gewöhnlichen Differentialgleichung beschreibt, in Form von kleinen Geradenstückchen genähert. Diese kleinen Geradenstückchen bilden dann den Polygonzug. Die einzelnen Punkte zu dieser Näherung wer-
den auf einem vorgegebenen Bereich bezüglich eines bestimmten Anfangswertes vorgegeben.
Das Verfahren von Runge-Kutta in Programm 7 (Listing 7) ist weitaus genauer, aber dafür ist die Formel auch komplizierter (Zeile 200, Zeilen 250 bis 280):
Anfangswert y0=y(x0)
Schrittfunktion (Schrittweite h):
Vk+i -yi+h/6-(Lki + 2Lk2+2L^g+L^J
mit Lk1 =f(xk,yk) [mit y'=f(x,y)]
L^=f(Xk+h/2,yJh/2-^)
Lk,3=^+h/2,yk+h/2-L,2)
Lk4=f(xk+h,yk+h-Lk3)	(Dietmar Rabich/ah)
100	REM DIFFERENZENQUOTIENT	<009>
110	PRINT“DIFFERENZENQUOTIENT-	<207>
120	INPUT”DIFFERENTIATIONSSTELLE”;X0	<202>
130	INPUT”STARTSTELLE <11SPACE}”;X1	<180>
140	IF X0=X1 THEN 120	<213>
150	REM BERECHNUNG UND AUSGABE	<019>
160	PRINT” X”,” F'”	<024>
170	H=X1-X0	<081>
180	X=X0+HiGOSUB 270:F0=F	<010>
190	X=X0:GOSUB 270:Fl=F	<029>
200	DF=(F0-F1)/H	<011>
210	PRINT INT<(X0+H)*lE5+.5)/lE5,INT(DF*lE 5+.5)/lE5	<050>
220	IF H<>(X1-X0)AND ABS(DF-DG)<lE-6 THEN 250	<232>
230	DG=DFsH=H/2	<240>
240	GOTO 180	<040>
250	PRINT"F'C;X0;")=";DF	<219>
260	END	<008>
270	REM FUNKTION	<186>
280	F=X*X*X-2*X*X-2	<097>
290	RETURN	<094>
DIFFERENZENQUOTIENT
DIFFERENTIATIONSSTELLE 1	
STARTSTELLE	2
X	F'
2	1
1.5	-.25
1.25	-.6875
1. 125	-.85937
1.0625	-.93359
1.03125	-.96777
1.01563	-.98413
1.00781	-.99213
1.00391	-.99608
1.00195	-.99804
1.00098	-.99902
1.00049	-.99951
1.00024	-.99976
1.00012	-.99988
1.00006	-.99994
1.00003	-.99997
1.00002	-1
1.00001	-1
F( 1 >—l
Listing 1. Differentialquotient mit einem Beispiel. Bitte verwenden Sie zum Eingeben den Checksummer auf Seite 6.
132
VC 20/C 64
Naturwissenschaft
100	REM NULLSTELLENSUCHE NACH NEWTON	<107>
110	PRINT"ITERATION NACH NEWTON”	<040>
120	PRINT” X”,” F"	<094>
130	READ X0:REM STARTWERT	<212>
140	X=X0sGOSUB 220:F0=F:REM FUNKTIONSWERT	<136>
150	X=X0sGOSUB 250sFl=FSsREM 1. ABLEITUNG	<221>
160	X1=X0-F0/F1	<066>
170	PRINT X1,F0	<019>
180	IF ABS(Xl-X0)<lE-6 THEN END	<166>
190	X0=X1	<034>
200	GOTO 140	<192>
210	REM FUNKTION	<124>
220	F=XT2-4	<121>
230	RETURN	<032>
240	REM 1. ABLEITUNG	<021>
250	FS=2*X	<117>
260	RETURN	<064>
270	REM STARTWERT	<223>
280	DATA 3	<193>
© G4zer
ITERATION NACH NEWTON X	F
2.16666667	5.00000001
2.00641026	.694444446
2.00001024	.0256821178
2	4.09577042E-05
2	0
Listing 2. Nullstellen mit dem Newtonschen lterationsverfahren.
100 REM NULLSTELLENSUCHE - REGULA-FALSI 110 PRINT"REGULA FALSI” 120 READ X0,XlsREM STARTWERTE 130 PRINT” X”,” F”	<028> <175> <088> <104>
140 X=XlsGOSUB 250sFl=F	<007>
150 X=X0sGOSUB 250:F0=F	<209>
155 PRINT X,F0	<089>
160 Z=X1-(X1-X0)/(F1-F0)*F1	<071>
180 X0=X1:X1=Z	<139>
190 IF ABS(Xl-X0)<lE-8 THEN 210	<089>
200 GOTO 140	<192>
210 REM AUSGABE	<022>
220 PRINT”NULLSTELLE=";Z	<071>
230 END	<232>
240 REM FUNKTION	<154>
250 F=Xt2-4	<151>
260 RETURN	<064>
270 REM STARTWERTE	<051>
280 DATA 3,4 © G4zer REGULA FALSI X	F 3	5.00000001 4	12 2.28571428	1.2244898 2.09090909	.371900825 2.00593472	.0237740986	<009>
2.00013169	5.26783988E-	-04
2.00000019	7.76723028E- NULLSTELLE= 2	-07
Listing 3. Nullstellensuche mit der Regula Falsi	
100 REM INTEGRATION NACH KEPLER	<223>*
110 PRINT”KEPLERSCHE FASSREGEL"	<212>
120 INPUT”INTERERVALLGRENZEN”;A,B	<168>
130 IF B<=A THEN PRINT”FALSCHE EINGABE!"sG	
OTO 120	<202>
140 REM BERECHNUNG DES GENAEHERTEN INTEGRA	
LWERTES	<034>
150 X=A:GOSUB 240	<247>
160	I=I+F/6	<224>
170	X=BsGOSUB 240	<027>
180	I=I+F/6	<244>
190	X=(A+B)/2sGOSUB 240	<137>
200	I=I+F*2/3:I=I*(B-A)	<004>
210	REM AUSGABE	<022>
220	PRINT"ERGEBNIS=";I	<138>
230	END	<232>
240	F=X*X*2	<086>
250	RETURN	<052>
e 64'er KEPLERSCHE FASSREßEL INTERERVALLBRENZEN 0	5
ERBEBNIS= 83.3333333
Listing 4. Numerische Integration mit der Kepler’schen Faßregel
100 REM INTEGRATION NACH SIMPSON	<190>
110 PRINT"SIMPSONSCHE REGEL"	<165>
120 INPUT"INTERERVALLGRENZEN";A,B	<168>
130 IF B<=A THEN PRINT"FALSCHE EIN6ABE!"sG	
OTO 120	<202>
140 INPUT"TEILINTERVALLE";N	<248>
150 H=(B-A)/(2*N):REM SCHRITTWEITE	<092>
160 REM BERECHNUNG DES GENAEHERTEN INTEGRA	
LWERTES	<054>
170 X=A:GOSUB 330	<138>
180 I=I+F	<232>
190 X=BsGOSUB 330	<174>
200 I = I+F	<252>
210 FOR J=0 TO N-1	<184>
220 X=A+<2*J+l)*HsG0SUB 330	<103>
230 I=I+4*F	<050>
240 NEXT J	<076>
250 FOR J=1 TO N-1	<000>
260 X=A+2*J*H:G0SUB 330	<254>
270 I=I+2*F	<219>
280 NEXT J	<118>
290 I=I*H/3	<034>
300 REM AUSGABE	<114>
310 PRINT"ERGEBNIS=";I	<230>
320 END	<068>
330 F=X*X*2	<178>
340 RETURN	<144>
ß		 SIMPSONSCHE REGEL INTERERVALLGRENZEN 0	5 TEILINTERVALLE 10 ERGEBNIS= 83.3333334	
Listing 5. Integration mit der Simpson’schen Regel.	
100	REM EULERSCHES POLYGONVERFAHREN	<002>
110	3	<086>
130	PRINT”<CLR,RVSON,5SPACE >EULERSCHES POL Y6ONZUGVERFAHREN<5SPACE,RVOFF}*	<247>
140	PRINT"DIESES VERFAHREN HAT KEINE FEHLE R-"	<020>
150	PRINT"ABSCHAETZUNG. NUMERISCH IST DIES ES "	<148>
160	PRINT"VERFAHREN RECHT SCHNELL, ABER BE I ZU"	<072>
170	PRINT"GROSSER SCHRITTWEITE SEHR UNGENA U, WOBEI”	<223>
180	PRINT"<UP>DER FEHLER MIT WACHSENDEM X IMMER ”	<066>
190	PRINT"GROESSER WIRD. SCHRITTWEITEN VON	
	10t-2"	<015>
200	PRINT"UND KLEINER SIND SCHON EINIGERMA SSEN"	<236>
210	PRINT"GENAU.<DOWN>""	<192>
220		<196>
230	INPUT"<DOWN>ANFANGSWERTE 2 X,Y ";X1,Y1	<048>
240	INPUT”<DOWN}INTERVALLOBERGRENZE";B:A=X 1	<018>
250	INPUT"<D0WN>SCHRITTWEITE£7SPACE>“;H	<183>
260	3	<238>
280	PRINT"<CLR>Y'«Y*X-2*X <DOWN>"	<251>

133
Naturwissenschaft
C 64 + Simons Basic
290 DEF FN F(X)=INT(X*10E6+.5)/10E6	<035>
300 s	<022>
310 Y=Y1	<237>
320 PRINT" X<3SPACE>","<2SPACE>Y"	<059>
330 FOR X=A TO B STEP H	<234>
340 GOSUB 410sM=F:REM STEIGUNG DER NAEHERU	
NGSGERADEN	<146>
350 T=Y-M*(X+A):REM VERSCHUB DER GERADEN	<026>
360 PRINT FN F(X),FN F(Y)	<155>
370 Y=M*(A+X+H)+TsREM NAECHSTER Y-WERT	<007>
380 NEXT X	<074>
390 END	<138>
400 s	<122>
410 F=Y*X-2*X:REM DIFFERENTIALGLEICHUNG	<125>
420 RETURN	<224>
© 64zer
DIESES VERFAHREN HAT KEINE FEHLER-ABSCHAETZUNß. NUMERISCH IST DIESES VERFAHREN RECHT SCHNELL, ABER BEI ZU GROSSER SCHRITTWEITE SEHR UNGENAU, WOBEI DER FEHLER MIT WACHSENDEM X IMMER GROESSER WIRD. SCHRITTWEITEN VON 10t-2 UND KLEINER SIND SCHON EINIGERMASSEN GENAU, anfangswerte : x,y 0	1
intervallobergrenze 2 schrittweite	.2
y'=y*x-2*x *	y
0	1
.2	1
.4	.96
. 6	.8768
.8	.742016
1	.5407386
1.2	.2488863
1.4	-.171381
1.6	-.7793677
1.8	-1.6687654
Listing 6. Näherungsweise Lösung einer gewöhnlichen Differentialgleichung nach dem Eulerschen Polygonzugverfahren
100 PRINT"{CLR,RVSON,SPACE>RUNGE-KUTTA-VER		
	FAHREN OHNE LOK. FEHLER<SPACE,RVOFF>"	<061>
110	PRINT"DGL AM PROGRAMMENDE EINGEBEN!"	<099>
120	INPUT H{DOWN >SCHRITTWEITE<2SPACE?";H	<053>
130	INPUT"<DOWN >ANFANGSWERT <3SPACE}”;Y0	<133>
140	INPUT"<DOWN>INTERV.GRENZEN";A,B	<200>
150	DEF FN R(X)=INT(X*lE4+.5)/lE4	<089>
160	PRINT"<2D0WN,SPACEIX"," Y"	<087>
170	YK=Y0	<203>
180	XK=A	<194>
190	GOSUB 250	<222>
200	YL=YK+(H/6)*(Ll+2*L2+2*L3+L4)	<251>
210	PRINT FN R<XK),YK	<138>
220	XK=XK+HsYK=YL	<216>
230	IF XK<=B+H THEN 190	<199>
240	END	<242>
250	X=XKsY=YKsGOSUB 300:Ll=F	<107>
260	X=XK+H/2s Y=YK+(H/2)*L1s GOSUB 300s L2=F	<031>
270	X=XK+H/2:Y=YK+(H/2)*L2s GOSUB 300s L3=F	<042>
280	X=XK+HsY=YK+H*L3:G0SUB 300sL4=F	<213>
290	RETURN	<094>
300	F=Y*X-2*X :REM < = > Y' = ... f-DGL	<038>
310	RETURN	<114>
© 64'er		malEl
DGL AM PROGRAMMENDE EINGEBEN! schrittweite .2 anfangswert	1 interv.grenzen 0 2 x	y 0	1 .2	.979798667 .4	.916713007 .6	.802782992 .8	.622873585 1	.351283323 1-2	-.0544188081 1-4	-.664413992 1-6	-1.59652193 1-8	-3.0527736 2	-5.38822485 Listing 7. Näherungsweise Lösung einer gewöhnlichen		
Differentialgleichung nach dem Runge-Kutta Verfahren		
Vektorrechnung aus dem Effeff
Mit Mathefix können fast alle Aufgaben aus dem Bereich der Vektorrechnung im dreidimensionalen Raum gelöst werden.
Alle erdenklichen Schnittprobleme von einer Geraden mit einer Ebene, zwei Geraden oder zwei Ebenen sind ganz einfach zu lösen und benötigen nicht mehr seitenlange Berechnungen. Auch Schnittwinkel, Projektion von Punkten und Umrechnungen von der Parameterform in die Normalenform der Ebene stellen kein Problem mehr dar. Jede Ausgabe erfolgt, sinnvoll auf zwei Stellen gerundet, auf dem Bildschirm, und kann mit der F1-Taste als Hardcopy auf jedem Drucker ausgegeben werden, der sich von Simons Basic ansprechen läßt. Das Programm arbeitet durchgehend mit HiRes-Grafik.
Wichtige Eingabehinweise:
Das Programm (Listing) benötigt Simons Basic. Um den C 64 ebenfalls auf Kleinschrift umzustellen, geben Sie im Direktmodus den Befehl »CSET 1«. Beachten Sie bitte den REM-KommentarinZeile 15. Ab Zeile 1020stehtam Anfang der Strings öfter ein kleines reverses »b«. Es entsteht durch die Tastenkombination »CTRL« + »B«. Das reverse »H« (zum Beispiel in Zeile 1441) ist die F7-Taste.
Allgemeine Hinweise:
In allen Menüs genügt das Drücken der gewünschten Taste um in das nachfolgende Menü zu kommen oder die Berechnung zu beginnen. Auf die Aufforderung »WEITER MIT RETURN« und »ZURÜCK MIT RETURN« drücken Sie bitte die RETURN-Taste. Bei der Eingabe lhrerZahlenwerte schließen Sie bitte jede Zahleneingabe mit einem RETURN ab.
Durch das Betätigen der Funktionstaste F7 innerhalb der Werteeingabe gelangen Sie jeweils in das vorherige Menü zurück.
Bei »ZURÜCK MIT RETURN« können Sie durch drücken der SPACE-Taste dieselbe Rechnung mit anderen Zahlenwerten wiederholen. Jedesmal, wenn von Ihnen eine Eingabe verlangt wird, können Sie mit der Funktionstaste F1 eine Hardcopy des aktuellen Bildschirminhaltes auf dem Drucker erzeugen.
Im Programm wird unter »n« der Punkt mit den Koordinaten (X/Y/Z) verstanden.
Das Programm enthält eine Anleitung in Kurzform.
134
C 64 + Simons Basic
Naturwissenschaft
HauptMenÜTiUektorenr	»2 Punkte
h	>1 Uektor
F	»2 Uektoren
	»3 Uektoren
^Geraden—n	»1 Gerade
	>2 Geraden
	»Oerade/Punkt
^Gerade/Ebene	
^Ebenen	H	
	>1 Ebenen	^Homalenfom 1	*Paraweter for«
^►Ebene/Ebene	
^Ende	
^Anleitung	
Untermenü 1
Von Ihnen wird die Eingabe der Koordinaten von zwei Punkten erwartet.
Der Computer berechnet: - den Vektor zwischen den beiden Punkten.
G e b e n	S i e	d i e	P u n k t	e e x n
A (	±_	/ s-	/	3 _
B (	4	/ 5-	/	7_
3.00
3.00
4.06
Berechnung: 2 Punkte
Die Gliederung des Programmes
Einsprung« adressen:	Übergabevariablen:		Ausgabe:
29000 Punkte/Gerade	ax g:x = ay +X“	ux uy	Abstand: FP x$ (p/s/Winkel)
29200 Gerade/Gerade	az P(p1/p2/p3) g:	siehe oben h:	siehe oben mit bx, by, bz i	uz jnd	Proj.: F(f1/f2/f3) Ebene: x1 -x+x2-y+x3-z-x Abstand: FP x$ siehe oben Schnittpunkt:
30000	mit vx, vy, vz E: nx'x+ny-y+nz-z=c		S(sx/sy/sz) Abstand: FP
Punkt/Gerade	P(xe/ye/ze)		x$ stehe oben Proj.: F(gx/gy/gz)
30600 Ebene/Ebene	E: n1 -x+n2-y+n3-z=ce F: m1 *x+m2-y+m3‘z=cf					Abstand: EF x$ siehe oben Schnittgerade:			
						g:T=	s1 s2 s2	+X*	S4 s5 s6
30200	E: siehe oben					x$ siehe oben			
Gerade Ebene	g:V =	gi g2 g3	+X'	ux uy u*		Schnittpunkt: S(gx/gy/gz)			
18000 Programmkopferstellen 18200Titelbilderstellen
19000 Eingaberoutine
18500 Zurück mit RETURN
18600 Get/Copy-Abfrage
18700 Print-Using
18550 Fehler
28500 Weiter mit RETURN
Variablenliste:
Siehe Übergabevariablen bei den Unterprogrammen.
Die Eingaben sind immer im Feld x() enthalten.
Alle restlichen Variablen haben keine große Bedeutung, sie dienen nur als Laufvariablen oder zur Zwischenspeicherung von Ergebnissen.
Verzeichnis der Unterprogramme
Menüpunkt 1
Nun erscheint ein Untermenü (Bedienung siehe Hauptmenü).
-	1	™	2	P	u	n	k	t	e
2	~	1	U	e	k	t	o	r
—	3	2 U e- k t o r e n
•4	-	3	U	e	k	t	o	r	e n
5	—	M	e	n	u	e
Untermenü 2
Von Ihnen wird die Eingabe eines Vektors erwartet.
Der Computer berechnet: - den Winkel des Vektors gegenüber einer waagerechten Ebene
-	den Betrag des Vektors
-	den Einheitsvektor
G e t> e m S i e <1 e n U e k X o n e i n
N x n k e 1 < x y > =	4 5 . O O G R a d
| X| = i . 41 L E
G . G G l 0.7 1 | 0.7 1 [
Berechnung: 1 Vektor
Untermenü 3
Von Ihnen wird die Eingabe zweier Vektoren erwartet.
Der Computer berechnet: - die Lage der Vektoren zueinander (Schnittwinkel?/parallel?/ senkrecht?)
- die Fläche des Parallelogramms
- das Skalarprodukt - das Vektorprodukt
G e b e n S i e d i e U e k 1 o e e n e i n :
A = ( L ) B = ( 24	)
S c H n i 1 1 w i n k e 1 :	5 6.9 4 G r- a d
F 1 a e c h e	7 . G 8 F E
(7.00 l 1 . O 0 ] -3.00
Berechnung: 2 Vektoren
Untermenü 4
Von Ihnen wird die Eingabe von 3 Vektoren erwartet.
Der Computer berechnet: - den Wert der Determinante - das Volumen des Parallelflachs
D= 346.00	UoluMen= 346.OO UE
Berechnung: 3 Vektoren
Untermenü 5
Zurück zum Hauptmenü
Menüpunkt 2
Es erscheint ein Untermenü (Bedienung siehe Hauptmenü)
'Ä1
135
Naturwissenschaft
C 64 + Simons Basic
JL	G	e	i	a	d	e
2	G	e	r	a	d	e
G	e	r	a	d	e	/	P	u	n k X
H	a	ii	p	±	M	e	n	u	e
Untermenü 1
Von Ihnen wird die Eingabe der Koordinaten von einem Aufhängepunkt und dem Richtungsvektor einer Geraden erwartet.
Der Computer berechnet: - den Winkel zur XY-Ebene - die Spurpunkte der Geraden
G e- b e- n S i e
G e b e n S ä e
ft (
0 b S -It a n d :
d i e G e r a d e e i n :
) ta (h )
d e n P u n k t e i n :
/ 2-	/ S- )
1.3 1
Berechnung: Punkt/Gerade Eingabeseite
Durch RETURN kommen Sie zu der Ausgabeseite.
D i e s e n k n e c h ± e P r o J e k t i o n :
ft (	2.14	/	2.29	/	2.43	)
d i e G e p a d e e i n :
-2.00 1
4.00 1
-2.00’
0.00
W i n k e 1 ( x y > = i 7.7 2 G r a d
Berechnung: 1 Gerade Ausgabeseite 1
Durch drücken von RETURN kommen Sie zu der zweiten Ausgabeseite.
VZ (
0.00
O .
0 0
0©
XZ (
0 . O 0
0 .
0 0
0 0
XV (
0.5 7
O .
0 0
Berechnung: 1 Gerade Ausgabeseite 2
Untermenü 2
Von Ihnen wird die Eingabe von zwei Geraden erwartet: Der Computer berechnet: - die Lage der Geraden zueinander (Schnittwinkel?/parallel?/ senkrecht?/windschief?)
- den Schnittpunkt (wenn möglich)
X
S i e
/ 0_ I O_
1 ° -
d i e
+ a
y
0 _
Berechnung: 2 Geraden Eingabeseite
Durch RETURN kommen Sie zu der Ausgabeseite.
N i n K e 1 < x y > =	7 4.5 0 G r a d
Berechnung: Punkt/Gerade Ausgabeseite
Menüpunkt 4
Nun erscheint ein Untermenü (Bedienung siehe Hauptmenü)
~	±	—	E	b	e	n	e	/ P	u n	k 't
2	~	JL	E	G	e	n e
~	3	—	H	a	u	p	t	M e	n u	e
Untermenü 1
Von Ihnen wird die Eingabe einer Ebene in Normalenform und eines Punktes erwartet.
Der Computer berechnet: - die senkrechte Projektion des Punktes auf die eingegebene Ebene
- den Abstand des Punktes von der Ebene
E b e n e i n H 'o r M a 1 e n f o r M :
{JL „	1
1
P (2-	/3--	/=i_	)
Berechnung: Punkt/Ebene Eingabeseite
Untermenü 2
Es erscheint ein weiteres Untermenü.
Hier können Sie auswählen in welcher Form Sie die Ebene eingeben wollen.
DerComputerberechnet: - diejeweilsandereEbenenform - die Spurpunkte
- die Spurgeraden mit Winkelangaben
D i e G e r- a d e n s i n d w i n d s c h i e f
A b 5? X a n d :	2 1 . 9 X
Berechnung: 2 Geraden Ausgabeseite
Untermenü 3
Von Ihnen wird die Eingabe einer Geraden und eines Punktes erwartet.
Der Computer berechnet: - die senkrechte Projektion des Punktes auf die eingegebene Ebene
- Ebene durch die Gerade und den Punkt
- Abstand des Punktes von der Geraden
3	— U a u p t Mi e n u e
Berechnung: 1 Ebene Auswahl
E b e n e i n	P a r	a	M e t e r f- o	r n :
(0.0 0	1	/	- 2.0 0 t	/	0 . O 0 1
0 . G G	| 1	n	I	± ■ O © I	+	k f	~ 3 . O O |
i . 0 G	y	d	|	.	©	o	y	T	D	2 . © © y
Berechnung: 1 Ebene Eingabe 2
Menüpunkt 5
Von Ihnen wird die Eingabe von zwei Ebenen in Normalen-
136
C 64 + Simons Basic
Naturwissenschaft
form erwartet.
Der Computer berechnet: - die Schnittgerade - den Schnittwinkel
E b e n e i n M o r M a 1 e n f= o r M :
Berechnung: 2 Ebenen Eingabeseite
E b
3 .
-6 .
3 .
OO 06 00
S c h n i t X w i n k e 1
6.9 8 G r a d
Berechnung: 2 Ebenen Ausgabeseite
(J. Riehn/T. Langer/og)
1 gotol00
3	.	..	,----------------------------
4 : " I	*** mathefix ***	I
5 :	"	I	•
6 : " I	ein programm von	I
7 :	"	I	I
8 :	"	I	juergen	riehn + thomas	langer	I
9 :	"	I	garlesstr.22	neuhauserst.20l
10 s" I 8677 selbitz 8677 selbitz I
11 :" I 08280/1063	09280/5335 I
12 :M I	I
13	. .. ।----------------------------j
14	:
15	rem K ist das zeichen pi
100 rem titelbild
105 dimx(20)
110 gosublB200:fori=lto2000:next
1000 rem hauptmenue
1010 gosubl8000
1020 text85,50,"SF 1 - Vektoren",l,l,12
1030 text85,65,"SP 2 - Geraden",l,l,12
1033 text85,80,"Sb 3 - 6erade/Ebene'*,l,l,12
1040 text85,95,''5F 4 - Ebene",l,l,12
1050 text85,110,"5F 5 - Ebene/Ebene”,l,l,12
1060 text85,135,"0- 6 - E N D E",l,l,12
1070 text85,160,"SF 7 - Ahleitung",l,l,12
1075 line23,110,55,89,l
1076 line54,89,48,89,l
1077 line54,89,54,95,l
1078 text53,81,"W,l,l,9
1079 textl8,113,"SB'',l,l,9
1080 gosubl8600
1090 x=val(a$)sx=int(x):ifx?^7 or x<lthenl080
1100 on x gotol200,1300,1400,1500,1600,1700,18300
1200 rem vektormenue
1210 gosubl8000
1220 text75,50,"5F 1 -	2 Punkte",l,l,12
1230 text75,70,"S5- 2 -	1 Vektor",l,l,12
1240 text75,90,"5H 3 -	2 Vektoren",l,l,12
1250 text75,110,"5H 4 -	3 Vektoren",l,l,12
1260 text75,145,"SF 5 - M e n u e",l,l,i2
1270 gosubl8600
1280 x=val(a$):x=int(x);ifx>5 or x<l thenl270
1290 on x gosub2000,2100,2200,2300,1000
1300 rem geradenmenue
1310 gosubl8000
1320 text75,60,"SF 1 -	1 Gerade",l,l,12
1330 text75,80,"SP 2 -	2 Gerade",l,l,12
1340 text75,100,"SF 3 - Gerade/Punkt",l,l,12
1350 text75,140,"SP 4 - Hauptmenue",l,l,12
1360 gosubl8600:x=val(a$):x=int(x)s ifx<lorx>4thenl 360
1370 onx goto2400,2500,2600,1000
1400 rem e/g
1401 gosubl8000:textl,40,"S3Geben Sie die Gerade ei n:“,1,1,12
1402 text40,65,"3X=",l,2,12
1403 textl60,65,"SRa",l,2,12
1404 text70,55,"SH",l,5,9
1405 textl90,55,"Sl(",l,5,9
1406 textl40,55,"0)",l,5,9
1417 text260,55,"S1)",l,5,9
1420 line39,61,51,61,l
1430 line53,61,47,64,l
1431 line53,61,47,58,l
1440 x =85 s i = 1:f ory=55to55+22step11
1441 gosub 19000s i f x ♦= " 51" then 1000
1442 x(i)=val(xt):i=i+l!next
1450 x =205 si =4 s fory=55to55+22step11
1451 gosub 19000: i f x$= " 21" then 1000
1452 x(i)=val(x$):i=i + lsnext
1453 ifx(4)=0andx(5)=0andx(6)=0thengosubl8550:gosu b18600:gosub18560:goto1400
1454 textl,10B,"SEbene in Normalenforms",l,l,12
1455 text40,140,"SK“,1,5,9:textll0,140,"SD ",l,5,9s textl30,155,"=",l,1,9
1456 textl0,155,"S^*",l,l,9
1457 x =55:i =7 s fory=90+50to90+80step15
1458 gosubl9000:ifx$=" Sl"thenl000
1459 x(i)=val(x$):i=i+l:next
1466 i f x(7)=0andx(8)=0andx(9)=0thengosub18550 s gosu b18600:gosub185603goto1400
1467 x=140:y=155:gosubl9000:x(10)=val(x$)
1468 gosub28500:gosub18600:gosub18000
1470 gl=x(1):g2=x(2);g3=x(3):ux=x(4)s uy=x(5):uz=x( 6):nl=x(7):n2=x(8):n3=x(9)
1471 c=x(10)
1472 gosub30200:g$=x$:gosub18700;f$=x $s i f g$="e"org $="p"thenl480
1473 text8,50,"S3 S (	/	/	)",l,2,12
1474 textl0,100,"SMinkel=",1,1,12
1475 textl70,100,''SGrad",l,l,12
1476 x =gx:gosub18700:tex t60,53,x $,1,1,9
1477 x =gy:gosub18700 s text60+85,53,x $,1,1,9
1478 x =gz:gosub18700:tex t60+2*85,53,x $,1,1,9
1479 textll0,100J$,l, l,9;gotol498
1480 text30,140,"Wbstand: ",l,l,10
1481 x =sp:gosub18700:tex 1111,140,x $,1,1,9
1482 text49,160,"SEerade parallel zur Ebene",l,l,9
1498 gosubl8500:gosubl8600:ifa$=" *'thenl400
1499 gotol000
1500 rem ebenen
1510 gosubl8000
1520 text75,80,"SP 1 - Ebene/Punkt",l,l,12
1530 text75,100,"5F 2 - 1 Ebene",l,l,12
1540 text75,140,"S*- 3 - Hauptmenue*',l,l,12
1550 gosubl8600:x=int(val(a$))
1570 onxgoto2700,2800,1000
1600 rem ebene/ebene
1601 gosubl8000:op=l
1602 form=-20to40step60
1603 ifm=40thenop=5
1610 textl,40+30+m,"5Ebene in Normalenforms",l,l,l 3
1611 text40,90+m,"^(",l,5,9:textll0,90+m,"3) " , 1,5, 9:textl30,105+m,"=" ,1,1,9
1612 textl0,105+m,"S!h*",l,l,9
1613 x =55 s i =op:f ory=90+mto90+28+mstep14
1614 gosub 19000; i f x 1= " 51" then 1000
1615 x(i)=val(x$):i=i+l:next
1616 ifx(op)=0andx(op+l)=0andx(2+op)=0thengosubl85 50 sgosub18600:gosub18560:goto1
600
1617 x=140:y=105+msgosubl9000sx(3+op)=val(x$)
1618 nextm
1619 nl=x(1):n2=x(2):n3=x(3)sce=x(4)sml=x(5) :m2=x( 6):m3=x(7)scf=x(8):gosub30600
1620 i f x $="u"thengosub17500:gosub18600sgotol000
1621 g$=x$sgosubl8700:r$=x$:x=ef s gosubl8700:ef$=x$ 1650 gosub28500:gosub18600;gosub18000:i f g$="p"then 1680
1651 textl,40,"&Schnittgerade der Ebenen:",l,l,12
1652 text40,65,"SM(=",l,2,12
1654 text70,55,"SH",l,5,9
1655 textl90,55,"=H",l,5,9
1656 textl40,55,"=1)",l,5,9
1657 text260,55,"q)",l,5,9
1658 line39,61,51,61,l:textl60,65,"5^a",l,2,12
1660 line53,61,47,64,l
1661 line53,61,47,58,l
1671 x=sl:gosubl8700:text85,55,x$,1,1,9
1672 x=s2:gosubl8700:text85,66,x$,1,1,9
1673 x=s3:gosubl8700:text85,77,x$,1,1,9
1674 x=s4s gosubl8700:text205,55,x$,1,1,9
1675 x=s5:gosubl8700:text205,66,x$,1,1,9
1676 x =s6:gosub18700:t ex 1205,77,x $,1,1,9
1680 ifg$="p"then textl,100,"SDie Ebenen sind para llel ‘”,1,1,12
1681 i^g$="s"then textl,100,"®ie Ebenen sind senk recht !",l,l,12
Listing zu »Mathefix«. Geben Sie es bitte mit geladenem und gestartetem Simons Basic ein.
Naturwissenschaft
C 64 + Simons Basic
1682 ifg$<>"s"andg$<>"p"then textl0,120,"SEchnittw inkel =”,1,1,12
1683 ifg$<>"s"andg$<>''p"thentext245, 120,"SErad" , 1 , l,12:textl85,120,r$,l,l,9
1684 ifg$="p"andef<>0thentext30,140,"SWbstand:”,1, l,10:textl23,140,ef$,l,l,9
1697 gosubl8500:gosubl8600:ifa$=" "thenl600
1698 gotol000
1700 print"^";"JE05EEEE1	auf wiedersehen !”
1710 print”	S1juergen riehn”
1720 print"	thomas langer"
1730 end
2000 rem 2 punkte
2001 gosubl8000
2002 textl,40,"SGeben Sie die Punkte ein:",l,l,12
2010 text8,50,"S5 A <	/	/.	)",l,2,12
2020 text8,70,"5] B (	/	/	)",l,2,12
2021 y=53:i = 1:forx =60to60+2*85step85
2022 gosub 19000; i f x $= " El" then 1200
2023 x(i)=val(x$)
2024 i=i+l:next
2025 y=74:i=l
2026 forx=60to60+2*85step85
2027 gosubl9000:ifx$="SI"thenl200
2028 y(i)=val(x$)
2029 i=i+l:next
2030 text75,140,"WB =",l,2,10
2031 textl27,130,"SH",l,5,l
2032 text207,130,"ff|)",l,5,l
2040 line74,135,74+22,135,l
2045 line96,136,92,139,l
2046 line96,136,92,133,l
2060 al=x(1)sa2=x(2):a3=x(3)sbl=y<l) :b2=y(2)sb3=y( 3)
2070 gosub24600
2071 x=xl:gosubl8700:textl43,132,x$,l,1,9
2072 x=x2:gosubl8700:textl43,132+11,x$,1,1,9
2073 x=x3:gosubl8700:textl43,132+22,x$,l,1,9
2090 gosubl8500
2091 gosubl8600
2092 if a$=" "then2000
2093 gotol200
2100 rem 1 vektor
2101 gosubl8000
2102 textl,40,"SEeben Sie den Vektor ein:",l,l,13
2103 textl00,65,"S]X=",l,2,12
2104 textl30,55,"SH",1,5,9:text60,147,"3(",1,5,9
2105 text200,55,"SD ",1,5,9:textl30,147,"5)",1,5,9
2106 textl0,100,"SMinkel(xy)=",1,1,12
2107 textl0,125,"SHXI=",l,l,12
2108 text22,160,"=5X =",l,l,12
2110 line99,61,111,61,l:textl25,125,"ffLE",1,1,12
2111 linell3,61,107,64,l
2112 linell3,61,107,58,l
2113 line21,121,33,121,l
2114 line36,121,29,118,l
2115 line36,121,29,124,l
2116 line21,155,33,155,l
2117 line36,155,29,152,l
2118 line36,155,29,158,l
2119 text33,155,"Sfo",l,l,9
2120 text200,100,"SErad",l,l,12
2121 x=145:i = ls fory=55to55+22stepll
2122 gosubl9000:ifx$="SI"thenl200
2123 x(i)=val(x$):i=i + l:next
2124 ifabs(x(1))+abs(x(2))+abs(x(3))=0thengosubl85
50:gosubl8600:gosubl8560:goto2 100
2125 al=x(l):a2=x(2):a3=x(3):
2126 bl=0:b2=0:b3=l:gosub25090:gosub24500:x=abs(90 -x):gosub18700
2127 textl45,100,xl,l,l,9
2128 gosub25020:rem betrag
2129 x=a:gosubl8700:text60,125,x$,l,l,9
2130 gosub25000:rem einheitsvektor
2131 x=x1:gosubl8700:text75,147,x$,1,1,9
2132 x=x2:gosubl8700:text75,158,x$,l,1,9
2133 x=x3:gosubl8700:text75,169,xt,1,1,9
2134 gosubl8500:gosubl8600
2135 ifa$=" "then2100
2190 gotol200
2200 rem 2 vektoren
2201 gosubl8000;textl,40,"S3Geben Sie die Vektoren ein:",l,l,12
2202 text40,65,"SK=",l,2,12
2203 textl60,65,"S®=",l,2,12
2204 text70,55,"SH",l,5,9
2205 textl90,55,"=H",l,5,9
2206 textl40,55,"0)",l,5,9
2207 text260,55,"3)",l,5,9
2213 textl2,150,"% o B=",1,1,11
2215 textl72,150,"SW x B=",1,1,11
2216 text245,137,"3(",1,5,9:text305,137,"3)",1,5,9
2220 line39,61,51,61,l
2230 line53,61,47,64,l
2231 line53,61,47,58,l
2232 linel20+39,61,51+120,61,l
2233 linel20+53,61,47+120,64,l
2234 1i ne120+53,61,47+120,58,1:a=45
2235 linell,146,22,146,l:linell+a,146,22+a,146,1
2236 1i ne24,146,21,143,1:1i ne24+a,146,21+a,143,1
2237 line24,146,21,149,l:line24+a,146,21+a,149,l
2238 if a=45 theBa=160:goto2235
2239 if a=160 thena=205:goto2235
2240 x=85:i=l:fory=55to55+22stepll
2241 gosub 19000: i f x $= " El" then 1200
2242 x(i)=val(x$):i=i+l:next
2243 i fx(1)=0andx(2)=0andx(3)=0thengosub18550:gosu bl8600:gosubl8560:goto2200
2250 x =205:i =4:f ory=55to55+22step11
2251 gosubl9000:ifx$="EI"thenl200
2252 x(i)=val(x$):i=i + l:next
2253 ifx(4)=0andx(5)=0andx(6)=0thengosubl8550:gosu b18600:gosub18560:goto2200
2260 al=x(l):a2=x(2):a3=x(3):bl=x(4):b2=x(5):b3=x( 6)
2261 gosub25160
2262 i^x$="p"then:textl0,100,"SDie Vektoren sind p aral1el !",1,1,11:goto2290
2263 ifx$="s"then:textl0,100,"SDie Vektoren sind s enkrecht !",l,l,10:goto2290
2264 textl0,100,"5Schnittwinkel:",1,1,12
2265 text245,100,"5Grad",l,l,12
2268 x=val(x$):gosubl8700:textl80,100,x$,1,1,9
2290 gosub25050:gosub18700:tex t80,150,x $,1,1,9:tex tl0,115," SFlaeche:",1,1,12
2291 gosub25110:x=xl:gosubl8700
2292 text250,137,x$,l,1,9:textl70,115,"SFE",1,1,12
2293 x=x2:gosubl8700:text250,148,x$,1,1,9
2294 x=x3:gosubl8700:text250,159,x$,l,1,9
2295 gosub25140:x=a:gosubl8700
2296 textll0,115,x^,l,l,9
2297 gosubl8500:gosubl8600:ifa$=" "then2200
2298 gotol200
2300 rem 3 vektoren
2301 gosubl8000:textl,40,"7Geben Sie die Vektoren ein:",l,l,12
2302 text5,65,"SM=",l,2,12
2303 textll5,65,"S5B=",l,2,12
2304 text35,55,"5H",l,5,9
2305 textl42,55,"S](",l,5,9
2306 textl05,55,"SD",l,5,9
2307 text212,55,"SJ)",l,5,9
2308 text223,65,"SE=",l,2,12
2309 text243,55,"S](",l,5,9
2310 text313,55,"5l)",l,5,9:a=0
2311 line4+a,61,16+a,61,l
2312 linel9+a,61,18+a-4,64,l
2313 linel9+a,61,18+a-4,58,l
2314 if a=0thena=110:goto2311
2315 if a=110 thena=220:goto2311
2340 x=50:i=l;fory=55to55+22stepll
2341 gosub 19000: i f x$= " El" then 1200
2342 x(i)=val(x$):i=i+l:next
2343 i f x(1)=0andx(2)=0andx(3)=0thengosub18550:gosu b18600:gosub18560:goto2300
2350 x=157:i=4:fory=55to55+22stepll
2351 gosub 19000: i f x$= " El" then 1200
2352 x(i)=val(x$):i=i + l:next
2353 ifx(4)=0andx(5)=0andx(6)=0thengosubl8550:gosu b18600:gosub18560:goto2300
2360 x=258:i=7:fory=55to55+22stepll
2361 gosub 19000: i f x$= " SI"then 1200
2362 x(i)=val(x$):i=i + l:next
2363 ifx(7)=0andx(8>=0andx(9)=0thengosubl8550:gosu b18600:gosub18560:goto2300
2364 gosub25300
2365 ifd=0then:text3,120,"Wie Vektoren sind komla nar !",1,1,11
2366 ifd<>0thentext7,120,"5D=	Volumen=
VE",1,1,11
2367 ifd<>0thenx=d:gosubl8700:text38,120,x$,1,1,9
2368 i f d< >0thenx =abs(d):gosub18700
2369 ifd<>0thentext221,120,x*,l,1,9
2397 gosubl8500:gosubl8600:ifa$=" "then2300
2398 gotol200
2400 rem 1 gerade
2401 gosubl8000:textl,40,"SEeben Sie die Gerade ei n:",l,l,12
2402 text40,65,"=3X=",l,2,12
2403 textl60,65,"3Ha",l,2,12
138
C 64 + Simons Basic
Naturwissenschaft
2404 text70,55,"5H",l,5,9
2405 textl90,55,"Sl(",l,5,9
2406 textl40,55,"J1)",l,5,9
2407 text260,55,"=1)",l,5,9
2408 xl$="":x2$="":x3$=""
2420 line39,61,51,61,l
2430 line53,61,47,64,l
2431 line53,61,47,58,l
2440 x=85:i=l:fory=55to55+22stepll
2441 gosubl9000: ifx$="SI"thenl300
2442 x(i)=val(x$):i=i + hnext
2450 x =205si =4 5 fory=55to55+22step11
2451 gosub 19000s i f x$= " 51" then 1300
2452 x(i)=val(x$):i=i + l:next
2453 ifx(4)=0andx(5)=0andx(6)=0thengosubl8550:gosu
b18600:gosub18560:goto2400
2455 gosub28500:nl=0:n2=0:n3=l:c=0:gl=x(l):g2=x(2)
:g3=x(3):ux=x(4):uy=x(5)suz=x(6)
2456 gosub30200:gosub18700:tex1138,120,x$,1,1,9:te xtl0,120,"SWinkel(xy)=",l,l,12
2457 text200,120,"5Erad",1,1,12:gosubl8600
2458 ax=x(1):ay=x(2):az=x(3):ux=x(4):uy=x(5):uz=x(
6):gosub28600
2459 fori=lto9sx=z(i):gosubl8700:z$(i)=x$:next
2460 gosubl8000
2461 textl0,40,''SSpurpunkte:",l,l,12
2462 ifxi$<>"n"thenstext8,60,"0 YZ(	/	/
)",l,2,12
2463 ifx2$<>"n"then:text8,90,"S! XZ(	/	/
)",l,2,12
2464 i^x3$<>"n"then:textB,120,"3 XY(	/	/
)",l,2,12
2465 ifx1$<>"n"thenfori=0to2:text53+i*85,63,z$(i+l ),l,l,9:next
2466 i fx 2$<>"n"thenfor i =0to2:tex t53+i *85,93,z £(i +4 ),l,l,9:next
2467 i fx3$<>"n"thenfori =0to2:tex t53+ i *85,123,z $(i +
7),l,l,9:next
2497 gosub18500:gosub18600:i f a$=" "then2400
2498 gotol300
2500 rem 2 gerade
2501 gosubl8000:textl,40,"SEeben Sie die Geraden e in:",l,l,12:g^=""
2502 text40,65,"S3X=",l,2,12
2503 textl60,65,"SHa",l,2,12
2504 text70,55,"S5(",l,5,9
2505 textl90,55,"S(",l,5,9
2506 textl40,55,"=D",l,5,9
2507 text260,55,"SD",l,5,9
2512 text40,125,"SW=",l,2,12
2513 textl60,125,"S^b",l,2,12
2514 text70,115,"3(",l,5,9
2515 textl90,115,"Sl(",l,5,9
2516 textl40,115,"3)",l,5,9
2517 text260,115,"S|)",l,5,9
2520 line39,61,51,61,l
2530 line53,61,47,64,l
2531 line53,61,47,58,l
2532 line39,121,51,121,l
2533 line53,121,47,124,l
2534 line53,121,47,118,l
2540 x =85:i = 1:f ory=55to55+22step11
2541 gosub 19000: i f x $= " Sl"then 1300
2542 x(i)=val(x$):i=i + l:next
2550 x =205:i =4:fory=55to55+22step11
2551 gosub 19000: i f x $= " SI" then 1300
2552 x(i)=Yal<x$):i=i+l:next
2553 ifx(4)=0andx(5)=0andx(6)=0thengosubl8550:gosu
b18600:gosub18560:goto2500
2560 x=85:i=7:fory=115toll5+22stepll
2561 gosub 19000: i f x ♦=" Sl"then 1300
2562 x(i)=val(x$):i=i+l:next
2570 x=205:i = 10:fory=115tol15+22step11
2571 gosub 19000: i f x $= " SI" then 1300
2572 x(i)=val(x$):i=i+l:next
2573 i fx(10)=0andx(11)=0andx(12)=0thengosub18550:g osubl8600:gosubl8560:goto2500
2575 gosub28500
2580 gosub18600
2581 gosubl8000
2583 textl0,100,"5Winkel(xy)=",l,l,12
2584 text200,100,"SErad",l,l,12
2585 ax=x(1):ay=x(2):az=x(3):ux=x(4):uy=x(5):uz=x(
6)
2586 bx=x(7):by=x(8):bz=x(9):vx=x(10):vy=x(11):vz= x(12):gosub29200:a=t:a$=g$
2587 ifa<>0anda*<>"w"thentext8,50,"0 S (	/
/	)",l,2,12
2588 x=sx:gosubl8700:sx$=x$:x=sy:gosubl8700:sy$=x$ :x =sz:gosub18700:sz t=x$
2589 ifa< >0anda$<>"w"thentext60,53,sx$,1,1,9: textl 45,53,sy$,l,l,9
2590 i fa< >0anda#<>"w"thentext230,53,sz $,1,1,9
2591 x=t:gosubl8700:textl40,100,x$,l,1,9
2592 ifa$="p"thentextl0,140,"EJDie Geraden sind par allel",l,l,9
2593 ifa$="w"thentextl0,140,"SDie Geraden sind win dschief",l,l,9
2594 ifa$="s"thentextl0,140,"SDie Geraden sind sen krecht",1,1,9
2595 ifaS="w"thentextl0,160," S^bstand:",1,l,9:x=fp :gosubl8700:textl00,160,x$,1,1
,12
2596 ita^="p"thentextl0,160,"Abstands",1,1,9:x=fp :gosub18700:tex 1100,160,x $,1,1
,12
2597 gosub18500:gosub18600:i fal=" "then2500
2598 gotol300
2600 rem gerade + punkt
2601 gosublB000:textl,40,"Sfieben Sie die Gerade ei n:",l,l,12
2602 text40,65,"3X=",l,2,12
2603 textl60,65,"SHa",l,2,12
2604 text70,55,"5H",l,5,9
2605 textl90,55,"S](",l,5,92606 textl40,55,"5l)",l,5 ,9
2607 text260,55,"S3)",l,5,9
2620 line39,61,51,61,l
2630 line53,61,47,64,l
2631 line53,61,47,58,l
2632 textl,100,"SEeben Sie den Punkt ein:",l,l,13
2633 text8,120,"$A (	/	/	)",l,2,12
2640 x=85:i=l:fory=55to55+22step11
2641 gosub 19000: i f x $= " SI" then 1300
2642 x(i)=val(x$):i=i+l:next
2650 x=205:i=4:fory=55to55+22stepll
2651 gosub 19000: i f x $= “ SI" then 1300
2652 x(i)=val(xS>:i=i+l:next
2653 ifx(4)=0andx(5)=0andx(6)=0thengosubl8550:gosu b18600:gosub18560:goto2600
2671 y=123:i =7:forx =60to60+2*85step85
2672 gosub 19000: i fx$= " Sl"then 1300
2673 x (i)=val (x$)
2674 i=i+l:next
2680 text30,140,"S^bstand:",l,l,10
2681 ax=x(1):ay=x(2):az=x(3):ux=x(4):uy=x(5):uz=x( 6):pl=x(7):p2=x(8):p3=x(9)
2682 gosub29000:a=x
2683 x =fp:gosub18700:tex 1145,140,x $,1,1,9
2684 gosub28500:gosubl8600:gosubl8000
2685 textl,40,"®ie senkrechte Projektion:",l,l,12
2686 text8,50,"S1 A (	/	/	)",l,2,12
2687 x=fl:gosubl8700:text60,53,x$,l,l,9
2688 x =f2:gosub18700:tex t60+85,53,x $,1,1,9
2689 x=f3:gosubl8700:text60+2*85,53,x$,l,l,9:iffp= 0thenx1=0:x 2=0:x 3=0
2690 x=x1:gosubl8700:text55,90,x$,1,1,9
2691 x=x2:gosubl8700:text55,90+15,x*,l,1,9
2692 x=x3:gosubl8700:text55,90+15*2,x^,1,1,9
2693 text40,90,"$(",l,5,9:textll0,90,"SD ",l,5,9:te xtl0,105,"Sh*",l,l,9
2694 textl30,105,"^",l,l,9
2695 x =a:gosub18700:tex 1140,105,x$,1,1,9
2697 gosub18500:gosub18600:i f a$=" "then2600
2698 gotol300
2700 rem ebene/punkt
2701 gosubl8000
2702 textl,40,"$Ebene in Normalenform:",l,l,12
2703 text8,120,"=5P (	/	/	)",l,2,12
2704 text40,70,"3(",l,5,9:textll0,70,"3) ",l,5,9:te xtl30,85,"SJ=",l,l,9
2705 textl0,85,"ffh*",l,l,9
2706 x=55:i=l:fory=70to70+28stepl4
2707 gosub 19000: i f x♦= " 51" then 1500
2708 x(i)=val(x$):i=i+l:next
2709 x=140:i=4:y=85
2710 gosubl9000:ifx$="SI"thenl500
2711 x (i)=val(x$)
2712 i fx(1)=0andx(2)=0andx(3)=0thengosub18550:gosu b18600:gosub18560:goto2700
2713 y=123:i =5:t orx=55to55+2*85step85
2714 gosub 19000: i f x $= " SI" then 1500
2715 x(i)=val(x$):i=i+l:next
2720 nx=x(1):ny=x(2):nz=x(3):c=x(4):xe=x(5):ye=x(6 ):ze=x(7):gosub30000
2750 gosub28500:gosub18600:gosub18000
»Mathefix« (Fortsetzung)
139
Naturwissenschaft
C 64 + Simons Basic
2751 textl,40,"SFrojektion von A auf Ebene:",l,l,9
2752 text8,50,"SJ P (	/	/	)",l,2,12
2753 x=gx:gosubl8700:text60,53,x$,l,1,9
2754 x=gy;gosubl8700: text60+85,53,x$,1,1,9
2756 x =gz:gosub18700:tex t60+2*85,53,x$,1,1,9
2757 text30,140," Wbstand:",1,1,10
2758 x=d:gosubl8700;textl08,140,x$,1,1,9
2798 gosubl8500:gosubl8600:ifa$=" "then2700
2799 gotol500
2800 rem ebenemenue
2810 gosubl8000
2820 text65,70,"0- 1 - Normalenform",l,l,12
2830 text65,90,"SF 2 - Parameterform",l,l,12
2840 text65,130,"5H 3 - Hauptmenue",l,l,12
2850 gosublB600:x=int(val(a$))
2860 if x>3 or x<l then 2850
2870 on x goto3300,3100,1000
2995 x=fp:gosubl8700;textl00,160,x$,1,1,9
2996 textl00,160,"5Abstand:",1,1,9
3100 rem parameterformeingabe
3101 gosubl8000:textl,40,"SEbene in Parameterforms "»1,1,12
3102 text5,65,"$X=" , 1,2, 12:textH5,65,"SH-a" , 1,2,12 :text35,55,"SH",l,5,9
3103 textl42,55,"0(" ,l,5,9:textl05,55,"M) ",l,5,9:t ext212,55,"0)",l,5,9
3104 text223,65,"0+b",1,2,12:text243,55,"SH",1,5,9 :text313,55,"SD ",l,5,9
3105 line4,61,16,61,l
3106 linel9,61,18-4,64,l
3107 linel9,61,18-4,58,l
3108 x=50: i = l:fory=55to55+22stepll
3109 gosubl9000;ifx$=":i"then2800
3110 x(i)=val(x$):i=i+l:next
3111 x = 157 s i =4 s f ory=55to55+22step11
3112 gosubl9000: ifx$=" Sl"then2800
3113 x(i)=val(x$):i=i+lsnext
3114 ifx(4)=0andx(5)=0andx(6)=0thengosubl8550;gosu b18600:gosub18560:goto3100
3115 x =258:i =7 s f ory=55to55+22step11
3116 gosub 19000s i f x $= " SI" then2800
3117 x(i)=val(x$):i=i + l:next
3118 ifx(7)=0andx(8)=0andx(9)=0thengosubl8550sgosu bl8600:gosubl8560:goto3100
3150 gosub28500:gosub18600:gosub18000;tex 11,40," S£ bene i n Normal enform: *', 1,1,12
3151 text40,90, " SH" , 1,5,9stextll0,90," S]) " , 1,5,9: te xtl30,105,"=",l,l,9
3152 textl0,105,"Sh#",l,l,9
3153 el=x(1):e2=x(2):e3=x(3):e4=x(4):e5=x(5):e6=x(
6):e7=x(7);e8=x <8):e9=x(9)
3154 gosub30400
3160 x=nl:gosubl8700:text55,90,x$,l,l,9
3161 x=n2:gosubl8700:text55,90+15,x$,1,1,9
3162 x=n3:gosubl8700:text55,90+30,x$,l,1,9
3163 x=c:gosubl8700:textl40,105,x$,1,1,9
3164 x(l)=nl:x(2)=n2:x(3)=n3:x(4)=c
3198 gosub28500:gosubl8600
3199 goto5000
3300 rem normalenformeingabe
3301 gosubl8000
3310 textl,40,"SEbene in Normalenform:",l,l,12
3311 text40,90,"SH",1,5,9:textll0,90," S» ",1,5,9:te xtl30,105,"=",l,l,9
3312 textl0,105,"Sh*",l,l,9
3313 x=55:i=l:fory=90to90+30stepl5
3314 gosub 19000: i f x $= " 51" then2800
3315 x(i)=val(x$):i=i + l:next
3316 i f x(1)=0andx(2)=0andx(3)=0thengosub18550:gosu b18600:gosub18560:goto3300
3317 x=140:y=105:gosubl9000:x(4)=val(x$)
3318 gosub28500:gosub18600:gosub18000
3319 nl=l:n2=0:n3=0:ce=0;ml=x(1):m2=x(2)sm3=x(3):c f=x(4):gosub30600
3350 textl,40,"SEbene in Parameterform:",l,l,12
3351 text5,65,"S]X=" , 1,2,12: textll5,65, " SHa" , 1 ,2,12 stext35,55,"SH",l,5,9
3352 textl42,55,"S5(" , 1,5,9:textl05,55, "S» ",l,5,9st ext212,55,"S)",l,5,9
3353 text223,65,"SHb",1,2,12:text243,55,"?(",1,5,9 :text313,55,"S]) ",l,5,9
3355 line4,61,16,61,l
3356 linel9,61,18-4,64,l
3357 linel9,61,18-4,58,l
3360 x =f1:gosub18700:tex t50,55,x $,1,1,9
3361 x=f2:gosubl8700:text50,66,x$,1,1,9
3362 x=f3:gosubl8700;text50,77,x$,1,1,9
3363 x=f4:gosubl8700:textl57,55,x$,l,l,9
3364 x=f5:gosubl8700:textl57,66,x$,l,1,9
3365 x=f6:gosubl8700:textl57,77,x$,1,1,9
3366 x =f 7:gosub18700;text258,55,x $,1,1,9
3367 x=f8:gosubl8700;text258,66,x$,l,1,9
3368 x=f9:gosubl8700:text258,77,x$,l,1,9
3398 gosub28500:gosub18600:goto5000
5000 rem zu ebene 1
5001 gosubl8000:gosub20000
5002 textl0,40," SSpurpunkte:",1,1,12
5003 ifxl$O"n"then:text8,60,"$ X (	/	/
)",l,2,12
5004 ifx2$<>"n"then:textB,90,"3 Y (	/	/
)",l,2,12
5005 ifx3l<>"n"then:text8,120,"3 Z (	/	/
)",l,2,12
5006 i f x1$<>"n"thenfori =0to2:text53+i *85,63,z $(i +1 ),1,1,9:next
5007 ifx2$< >"n**thenfori=0to2: text53+i*85,93,z$(i+4 ),1,1,9:next
5008 i fx3$<>"n"thenfori =0to2:tex t53+i *85,123,z$(i + 7),1,1,9:next
5009 gosub28500:gosubl8600:gosubl8000
5020 i f x1$="n"andx 2$="n"then5040
5021 textl,40,"5Epurgerade in xy-Ebene:",l,l,12
5022 text40,65,"S3X=",l,2,12
5023 textl60,65,"SHa",l,2,12
5024 text70,55,"SH",l,5,9
5025 textl90,55,"SH",l,5,9
5026 textl40,55,"SD",l,5,9
5027 text260,55,"Sj)",l,5,9
5030 line39,61,51,61,l
5031 line53,61,47,64,l
5032 1i ne53,61,47,58,1:gosub20500
5033 gosub28500:gosubl8600:gosubl8000
5040 i f x11="n"andx3$="n"then5053
5041 textl,40,"SSpurgerade in xz-Ebene:",l,l,12
5042 text40,65,"SlX=",l,2,12
5043 textl60,65,"SHa",l,2,12
5044 text70,55,"SH",l,5,9
5045 textl90,55,"sn",l,5,9
5046 textl40,55,"Sl)",i,5,9
5047 text260,55,"5D",l,5,9
5050 line39,61,51,61,l
5051 line53,61,47,64,l
5052 1i ne53,61,47,58,1:gosub20600
5053 i f x 2S="n"andx 3$="n"then5110
5060 gosub28500:gosubl8600:gosubl8000
5061 tex 11,40," SSpurgerade i n yz-Ebene:",1,1,12
5062 text40,65,"S1X=",l,2,12
5063 textl60,65,"SHa",l,2,12
5064 text70,55,"SH",l,5,9
5065 textl90,55,"SH",l,5,9
5066 textl40,55,"S5)",l,5,9
5067 text260,55,"ED",l,5,9
5070 line39,61,51,61,l
5071 line53,61,47,64,l
5072 1i ne53,61,47,58,1:gosub20700
5110 gosubl8500:gosubl8600
5120 goto2800
17500 rem zurueck
17510 text23,191,"$ nicht loesbar !",l,l,15
17515 line0,187,320,187,l
17520 return
18000 hires5,l:text28,8,"S] *** MATHEFIX ***",1,2,1
5
18010 line0,30,320,30,l
18100 return
18200 rem titelbild erstellen
18210 hires5,l
18220 text20,5,"^*# Mathefix ***",l,2,16
18230 textl35,50,"S^on",l,l,12
18240 textl07,75,"SU.Riehn",l,3,16
18250 text92,130, " S3Th. Langer " , 1,3,16
18260 textl35,l 11, "Sktnd" , 1,1,12
18270 textll9,173,"ffim Juni 1985",1,1,12
18271 rem koordinatensystem
18272 line32,158,32,178,l
18273 line32,178,52,178,l
18274 line32,178,22,188,l
18275 text28,149,"Ste",l,i,9
18276 textlB,190,''^",l,l,9
18277 text56,174,"SV",l,l,?
18280 rem pfeile
18281 line32,158,29,161,l
18282 line32,158,35,161,l
18283 line52,178,49,175,l
18284 line52,178,49,181,l
18285 line22,188,26,188,l
18286 line22,188,22,184,l
18290 return
18299 rem anleitung
18300 gosub18000:text95,40," S^NLEITUNG:",1,1,16
140
C 64 + Simons Basic
Naturwissenschaft
18313 text2,55,"3iit diesem Programm koennen fast" , 1,1,10
18314 text2,65,"3alle Aufgaben aus dem Bereich der " , 1,1,?
18315 text2,75,"Wektorgeometrie geloest werden.", 111,10
18316 text2,85,"®as Programm verlangt Eingaben",l
11 * 10
18317 text2,95,"$in Form von kartesischen Koor-",1 11,10
18318 text2,105,"S3dinaten im dreidimensionalen",l, 1,11
18319 text2,115,"SRaum.",l,l,10
18320 text2,125,"5Befinden Sie sich in R2, so",l,l ,11
18321 text2,135,"S3setzen Sie einfach die X3-",1,1, 12
18322 text2,145,"SKoordinate auf 0.",l,l,12
18325 text2,155,"SMlle Ergebnisse werden auf 2",1, 1,11
18326 text2,165,"SStellen nach dem Komma ge-",l,l, 12
18327 text2,175,"Iööbßrundet ausgegeben !",l,l,13 18330 gosub28500:gosub18600
18340 gosubl8000:text95,40,"ANLEITUNG;",1,1,16
18345 text2,55,"5Mit Fl kann eine Hardcopy",l,l,13
18350 text2,65,"Eferstellt werden.",l,l,13
18360 text2,75,"5Mit F7 kann man wieder ins Haupt-" , 1,1,9
18370 text2,B5,"5henue zurueckgehen.",l,l,13
18371 text2,95,"SWit SPACE wird dieselbe Rechnung" ,1,1,10
18372 text2,105,"Shit anderen Zahlenwerten wieder-",l,l,10
18373 text2,115,"Sholt.",l,l,10
18390 gosub28500:gosub18600:gotol000
18500 rem zurueck
18510 text23,191,"^Zurueck mit RETURN ’“,1,1,14
18515 line0,187,320,187,l
18520 return
18550 text23,191,"SFehler in Eingabe !",l,l,15
18551 line0,187,320,187,l
18552 return
18560 text23,191,"EFehler in Eingabe !",0,l,15
18561 line0,187,320,187,0
18562 return
18600 geta$: i f al=""then18600
18610 ifa$="Tthencapy;gotolB600
18620 return
18700 rem print using
18710 x=(int(x*100+0.5))/100
18720 x$=" "+str$(x)
18730 ifmid$(x$,len(x$)-l,l)="."thenx$=x*+"0":gota 18760
18740 ifmid$(x^,len(x<)-2,l)="."thenl8760
18750 ifmidl(x$,len(x$)-l,l)<>"."thenx$=x$+".00"
18760 ifmid$(x$,len(x$)-3,l)=" "thenx$="0"+right$( x$,3)
18770 ifmid$(x$,len(xf)-3,l)="-"thenx$="-0"+right$ (x$,3)
18780 x$=right$("	"+x$,6):return
19000 rem eingabe
19010 x#="":qw=l
19020 textx +qw*9-9, y+5, " SF '•, 1 ,1,9
19030 gosubl8600
19040 ifasc(a$)=13thenifx$<>""thentextx+qw*9-9,y+5 , "S5~" ,0, i ,9- return
19041 ifasc(a$)=13thengosubl8550:gosubl8600:gosubl 8560:gotol9000
19050 ifasc(a$)=20 or asc(at)=148thenl9300
19051 if a$=""!"thenxt=a$:return
19055 if place(a^,"l-234567890.")=0thenl9030
19060 tex tx +qw*9-9, y, " S3” +a$, 1,1,9
19070 qw=qw+l:xt=xt+a$:gotol902B
19300 ifx$=""thengotol9020
19310 textx+qw*9-18,y, "T+righU(xt, 1) ,0,1,9:textx +qw*9-9,y+5,"SF",0,1,9
19320 qw==qw-l
19330 x$=left$(x$,len(x$)-l)
19340 gotol9020
20000 rem spurpunkte
20001 gl=0:g2=0:g3=0:nl=x(1):n2=x(2):n3=x(3):c=x(4 ):xl$="":x2$="":x3$=""
20002 ux = 1: uy=0:uz =0:gosub30200
20003 z(1)=gx:z(2)=gy:z(3)=gz:ifx$="p"orx$="e"then xl$="n"
20004 ux =0:uy=1:uz =0:gosub30200
20005 z(4)=gx:z(5)=gy:z(6)=gz:ifx$="p"arx$="e"then x2t="n"
20006 ux=0:uy=0:uz=l:gosub30200
20007 z(7)=gx:z(8)=gy:z(9)=gz:ifxl="p"orx$="e"then x3$="n"
20009 fori=lto9
20010 x=z(i):gosubl8700:z$(i)=x$:next:return
20500 rem spurgerade zu xy
20501 nl=x(1):n2=x(2):n3=x(3):ce=x(4)
20502 m1=0:m2=0:m3=1:cf =0:gosub30600
20503 gl=x^sgosubl8700sr$=x$
20504 ifg$="u"thengosubl8700:gosubl8600:return
20510 x =s1:gosub18700:tex t85,55,x$,1,1,9
20511 x =s2:gosub18700:tex t85,66,x $,1,1,9
20512 x=s3:gosubl8700!text85,77,x$,l,1,9
20513 x=s4:gosubl8700:text205,55,xJ,1,1,9
20514 x =s5:gosub18700 stex t205,66,x $,1,1,9
20515 x=s6:gosubl8700:text205,77,x$,1,1,9
20516 ifg$="p"then textl,100,"SDie Ebene ist paral lel !",l,l,12
20517 ifg$="s"then textl,100,"SDie Ebene ist senkr echt !",l,l,12
20518 ifg$="p"andef< >0thentext30,140," 3Abstand:",1 ,l,10:textl23,140,ef^,l,l,9
20519 ifgt<>"s"andgt<>"p"then textl0,120,"S3Winkel: ",l,l,12
20520 ifg$<>"s"andg^<>"p"thentextl85,120," SErad",1 ,l,12:textll5,120,r^,l,l,9
20530 return
20600rem spurgerade zu xz
20601 nl=x(l):n2=x(2):n3=x(3):ce=x(4)
20602 ml=0:m2=l:m3=0:cf=0:gosub30600
20603 g$=x$:gosubl8700:r$=x$
20604 ifg$="u"thengosubl8700:gosubl8600:return
20610 x =s1:gosub18700stex t85,55,x$,1,1,9
20611 x=s2:gosubl8700:text85,66,x$,l,1,9
20612 x =s3:gosub18700:tex t85,77,x $,1,1,9
20613 x=s4:gosubl8700:text205,55,x$,1,1,9
20614 x=s5:gosubl8700:text205,66,x^,l,l,9
20615 x=s6:gosubl8700:text205,77,x$,l,1,9
20616 ifg$="p"then textl,100,"3Die Ebene ist paral lel !",l,l,12
20617 ifg^="s"then textl,100,"®ie Ebene ist senkr echt !",l,l,12
20618 ifgJ="p"andef< ?^0thentext30,140, " SWbstands " , 1 ,l,10:textl23,140,ef$,l,l,9
20619 ifg$<>"s"andg$<>"p"then textl0,120,"SMinkels ”,1,1,12
20620 i f g$<>"s"andg*< >"p"thentex1185,120," SErad",1 ,l,12:textll5,120,r^,l,l,9 20630 return
20700 rem spurgerade zu yz
20701 ml=x(1):m2=x(2):m3=x(3):cf=x(4)
20702 n1=1:n2=0:n3=0:ce=0:gosub30600
20703 g$=x$:gosubl8700:r$=x$
20704 ifg$="u"thengosubl8700:gosubl8600:return
20710 x=sl:gosubl8700:text85,55,x$,1,1,9
20711 x=s2:gosubl8700:text85,66,x$,1,1,9
20712 x =s3:gosub18700;tex t85,77,x*,1,1,9
20713 x =s4:gosub18700:tex 1205,55,x $,1,1,9
20714 x =s5:gosub18700stext205,66,x$,1,1,9
20715 x=s6:gosub18700:tex t205,77,x$,1,1,9
20716 ifg$="p"then textl,100,"SDie Ebene ist paral lel !",l,l,12
20717 ifg$="s"then textl,100,"SDie Ebene ist senkr echt !",l,l,12
20718 ifg$="p"andef< >0thentext30,140,"Wbstands",1 ,l,10:textl23,140,ef^,l,l,9
20719 ifg$<>"s"andg$<>"p"then textl0,120,"SWinkel: ",l,l,12
20720 i f g$< >"s"andg$<>"p"thentex 1185,120," SErad",1 ,l,12:textll5,120,r$,l,l,9
20730 return
24500 rem bogen in grad
24510 x=(x*180)/W:return
24600 rem vektor ab
24610 xl=bl-al
24611 x2=b2-a2
24612 x3=b3-a3:return
25000 gosub25040:gosub2S010:return
25010 xl=al/a:x2=a2/a:x3=a3/a:return
25020 gosub25040:return
25040 a=(alt2+a2T2+a3t2)t0.5:return
25050 rem skalarprodukt
25060 x=al*bl+a2*b2+a3*b3:return
25090 gosub25060:s=x:gosub25040:a0=a:vl=al:v2=a2:v
3=a3:a1=b1:a2=b2:a3=b3:gosub25 040 25091 a1=v1:a2=v2:a3=v3:b=a:a=a0 25100 x=abs(s/(a*b))
»Mathefix« (Fortsetzung)
141
Naturwissenschaft
C 64 + Simons Basic
25101 ifx=lthenx=0sreturn
25103 x=-atn(x/sqr(l-xt2))+K/2
25104 if5<0thenx=I'i-x
25105 return
25110 rem vektorprodukt
25120 :
25130 x1=a2*b3-a3*b2 : x 2=a3*b1-a1*b3 : x 3=a1*b2-a2*b1 :return
25140 rem flaeche 2 vektoren
25150 gosub25120:al=x1:a2=x2:a3=x3:gosub25040:retu rn
25160 rem lage von vektoren
25170 gosub25090:i f i nt(x *100+.5>=314thenx =o
25171 if int <x*100+.5)=157thenx$="s":x=M/2:return
25180 ifint(x*100+.5)=0thenx$="p":x=0: return
25190 gosub24500:gosub18700:x =val(x$)5 return
25300 rem determinante
25301 d=x(l)*x(5)*x(9)+x(4)*x(8)*x(3)+x(7)#x(2)*x( 6)-x(3)*x(5)*x(7)
25302 d=d-x(6)*x(8)*x(1)-x(9)*x(2)*x(4)
25303 return
28500 rem weiter
28510 text23,191,"SMeiter mit RETURN !",l,l,15
28515 line0,187,320,187,l
28520 return
28600 rem spurpunkte
28601 rem in yz-ebene
28602 :
28610 ifux=0thenxl$="n":goto28640
28620 kx=-ax/ux:z(1)=0:z(2)=ay+kx*uy:z(3)=az+kx*uz 28630 s
28631 rem in xz-ebene
28640 ifuy=0thenx2$="n":goto28670
28650 ky=-ay/uy:z(4)=ax+ky*ux:z(5)=0:z(6)=az+ky*uz
28660 :
28661 rem in xy—ebene
28670 ifuz=0thenx3$="n": goto28690
28680 kz=-az/uz;z(7)=ax+kz*ux:z(9)=0:z(8)=ay+kz*uy
28690 return
29000 rem abstand punkt/gerade ...
29020 kg=(p1*ux +p2*uy+p3*uz —ax*ux-ay*uy-az*uz)/(ux T2+uyt2+uzt2)
29030 fl=ax+kg*ux
29031 f2=ay+kg*uy
29032 f3=az+kg*uz
29040 fx=pl-f1:fy=p2-f2:fz=p3-f3:fp=(fxt2+fyT2+fzt 2)t.5
29100 px=pl-2*fx:py=pz-2*fy:pz=p3-2*fz
29130 al=pl-ax:a2=p2-ay:a3=p3-az:bl=ux:b2=uy:b3=uz
29140 gosub25130
29150 al=x(l):a2=x(2):a3=x(3):bl=xl:b2=x2:b3=x3:go sub25060
29170 return
29200 rem g/g
29219 a1=uxsa2=uy:a3=uz:b1=vx:b2=vy:b3=vz
29220 gosub25170:t=x:i fx $="p"thent=0:g$="p":goto29 240
29221 i{x $="s"thent=90:g$="s"
29230 goto29250
29240 pl=bx:p2=by:p3=bz:goto29020
29241 if t>90 thent=180-t
29242 return
29250 rem windschief ?
29251 x(1)=bx-ax:x(2)=by-ay:x(3)=bz-az
29252 x <4)=ux:x(5)=uy: x(6)=uz:x(7)=vx:x(8)=vy:x(9) =vz s gosub25301
29253 ifd< >0theng$=''w": goto29270
29254 goto29320
29270 rem windschief abstand
29280 a1=ux:a2=uy:a3=uz:b1=vx:b2=vy:b3=vz:gosub251 10:al=x1:a2=x2:a3=x3:bl=ax
29281 b2=ay:b3=az:gosub25060:nx=x1s ny=x2:nz=x3:c=x
:xe=bx:ye=by:ze=bz
29290 gosub30000:fp=d
29291 ift>90 thent=180-t
29320 rem schnittpunktsberechnung
29330 ifux=0andvx<>0then29350
29340 goto29400
29350 kb=(ax-bx)/vx
29360 ifuy< >0thenka=(by-ay+kb*vy)/uy
29370 ifaz+ka*uz=bz+kb*vzthen29900
29380 ifuy=0thenka=(bz-az+kb*vz)/uz
29390 i fay+ka*uy=by+kb*vythen29900
29392 return
29400 ifuy=0andvy<>0then29420
29410 goto29470
29420 kb=(ay-by)/vy
29430 ifuxO0thenka= (bx-ax+kb*vx) /ux
29440 i f az+ka*uz =bz+kb*vz then29900
29450 ifux=0thenka=(bz-az+kb*vz)/uz
29460 i f ax+ka*ux =bx+kb*vx then29900
29470 ifuz=0andvz<>0then29490
29480 goto29540
29490 kb=(az-bz)/vz
29500 ifux< >0thenka=(bx-ax+kb*vx)/ux
29510 i fay+ka*uy=by+kb*vythen29900
29520 ifux=0thenka=(by-ay+kb*vy)/uy
29530 i faz+ka*uz =bz+kb*vzthen29900
29540 ifux=0andvx=0then29600
29550 ifuy=0andvy=0then29610
29560 ifuz=0andvz=0then29620
29570 ifuy*vz<>uz*vythen29600
29580 ifux*vz<>uz*vxthen29610
29590 i f ux*vy< >uy*vxthen29620
29595 stop
29600 ka=(-(ay-by)*vz +(az-bz)*vy)/(uy*vz-uz *vy):go to29900
29610 ka=(—(ax—bx)*vy+(az—bz)*vx)/(ux*vz-uz*vx):go to29900
29620 ka=(-(ax-bx)*vy+(ay—by)*vx)/(ux *vy-uy*vx)
29900 sx=ax+ka*ux:sy=ay+ka*uy:sz=az+ka*uz:ift?>90 t hent=180-t
29901 return
30000 rem punkt/ebene
30010 gosub30500:x =f re(x )
30020 nl=nx:n2=ny:n3=nz:gl=xe:g2=ye:g3=ze:ux=nx:uy =ny:uz=nz:gosub30200
30030 return
30200 rem g/e
30220 a1=ux:a2=uy:a3=uz:b1=n1:b2=n2: b3=n3:gosub251 70:i f x $="s"thenx=90
30230 i f x $="p"thenx $="s"sgoto30270
30231 i f x $="s"thenx $="p":goto30233
30232 goto30270
30233 nx=n1:ny=n2:nz=n3:xe=g1;ye=g2:ze=g3
30240 gosub30000:sp=d
30250 ifsp=0thenx#="e":return
30260 ifsp< >0thenx$="p":return
30270 u1=ux:u2=uy:u3=uz : gosub30340
30280 gx=gl+ke*ux:gy=g2+ke*uy:gz=g3+ke*uz
30290 x=abs(90—x):return
30300 rem schnittpunkt g/e
30340 ke=ul*nl+u2*n2+u3*n3
30350 ifke=0thenstop
30360 ke=(c-nl*gl-n2*g2-n3*g3)/ke:return
30400 rem umrechnung para->normal
30430 a1=e4:a2=e5:a3=e6:b1=e7:b2=e8: b3=e9
30440 gosub25130:nl=x1;n2=x2:n3=x3
30450 a1=n1;a2=n2:a3=n3:b1=e1:b2=e2:b3=e3
30460 gosub25060:c=x:return
30500 rem hnf aufstellen
30530 al=nx:a2=ny:a3=nz:gosub25040:n=a
30540 ifc>=0thend= (nx*xe+ny*ye+nz*ze-c) /n
30550 i fc< 0thend-(nx *x e+ny*ye+nz *z e-c)/(-n)
30560 d=abs(d):return
30600 rem lage e/e
30620 a1=n1:a2=n2:a3=n3:b1=m1:b2=m2:b3=m3:gosub251
70: ifx$="s"orx< ?^0then30740
30630 nx=nl:ny=n2:nz=n3:c=ce:gosub30530
30640 de=d
30690 nx=ml:ny=m2:nz=m3:c=cf:gosub30530
30700 df=d:if(ce<0andcf >0)or(ce>0andcf<0)thendf=-d f
30710 ef =abs(de—df):x $="p":return
30740 rem schnittgerade von e/e
30741 i = l
30750 f 4=-m2: f 5=m1:f 6=0:f 7=0:f 8=-m3:f 9=m2
30760 ifml=0andm2=0thenf4=i:f5=i+l:f6=0:f7=i+2:fB= i+3:f9=0
30770 i fm1=0andm3=0thenf 4=i:f5=0:f6=i +1:f7=i +2:f8= 0:f9=i+3
30780 i f m2=0andm3=0thenf 4=0:f 5=i:f 6=i +1:f7=0: f8=i + 2:f9=i+3
30790 ifm3<>0thenfl=0:f2=0:f3=cf/m3:goto30820
30800 ifm2< >0thenfl=0:f2=cf/m2:f3=0:goto30820
30810 i fm1< >0thenf1=cf/ml:f2=0:f 3=0:goto30820
30820 tl=f4:t2=f5:t3=f6:gl=f7:g2=f8:g3=f9
30821 fx=tl:fy=t2:fz=t3:gx=gl:gy=t2:gz=t3
30830 l=nl*fx+n2*fy+n3*fz
30835 if l=0andi=30thenfx=gl:fy=g2:fz=g3:gx=tl:gy= t2:gz =t3:goto30830
30840 if l=0andi>100thenx$="u":return
30850 if l=0theni=i+l:goto30750
30860 r=(ce-nl*fl-n2*f2-n3*f3)/l
30870 t=(-nl*gx-n2*gy-n3*gz)/l
30880 s1=f1+r*f x:s2=f 2+r*f y:s3=f 3+r*f z
30890 s4=t*fx +gx:s5=t*fy+gy:s6=t*fz +gz
30895 ifx>90thenx=180-x
30900 return
»Mathefix (Schluß)
142

C64
Statistik
Grafik-Erweiterung und DCopy für Aktien-Manager/ Wahlhochrechnung
Diese beiden kurzen Erweiterungen können Sie universell einsetzen. Zusammen mit Aktien-Manager und Wahlhochrechnung sind sie ein gutes Beispiel für eine sinnvolle Computeranwendung.
Grafik-Erweiterung
Diese Erweiterung wurde so kurz und einfach wie möglich gehalten und auf die notwendigsten Befehle beschränkt Durch die Lage in Page 1 wird kein Basic-Speicherplatz verbraucht. Das Besondere an dieser Erweiterung ist, daß zwar nur die hohe Auflösung von 320x200 Punkten möglich ist, aber trotzdem alle 16 Farben auf einmal dargestellt werden können (allerdings nur jeweils eine Farbe pro 8x8-Punkte-Feld).
Folgende Befehle sind mit dieser Erweiterung möglich (Ausdrücke in Klammern können weggelassen werden): *- Gx	: Grafik einschalten / x=Hintergrundfarbe
C	: Grafik löschen
- T	: Grafik ausschalten
Dx,y(;z)	: Punkt zeichnen / x=X-Koordinate
(0 - 319) / y=Y-Koordinate (0 - 200) / z=Farbe
- Lx,yTOx,y(;z) : Linie zeichnen / Anfangs- und Endpunkt eingeben / z=Farbe
Px,y(,ax,ay)(;z)"Text":
Text drucken / x,y=Koordinaten der linken oberen Ecke / ax,ay=Ausdehnung in x,y-Richtung / z=Farbe
-	F1000	: Bei auftretendem Fehler springt Pro-
gramm in Zeile 1000 (dort kann mit PEEK(52000) die Fehlernummer und mit PEEK(52001)4-256*Peek(52002) die Fehlerzeile ausgelesen werden)
-	E	: Abschalten der Erweiterung
Die Grafik liegt im Bereich $E000 bis $FFFF DCopy
Die Druckerroutine für den MPS-802-Drucker liegt im Bereich $C700 bis $C850 und kann zusammen mit der Grafik-Erweiterung verwendet werden. Im Grundaufbau entspricht sie der Routine aus 64’er Ausgabe 10/84 Seite 83.
Wenn Sie einen anderen Drucker als den MPS-802 besitzen, besteht die Möglichkeit, an Stelle des Programms »DCopy« eine Hardcopy-Routine für Ihren Drucker zu verwenden. Dabei ist darauf zu achten, daß der Grafikbildschirm im Speicherbereich $E000 bis $FFFF liegt. Die Routine selbst kann in jedem nicht vom Hauptprogramm beziehungsweise der Grafik-Routine verwendeten Bereich stehen. Gut geeignet ist beispielsweise der Bereich $C700 bis $CFFFF. Je nachdem wo Ihre Druck-Routine liegt, müssen Sie den SYS-Befehl im Hauptprogramm anpassen.
(Björn Fiethe/aw)
PROGRAMM : GRAFIK-E/MS COOO C568
cooo		78	AD	08	03	8D	FB	CB	AD	F5
C008		09	03	8D	FC	CB	A9	34	8D	8C
C010		08	03	A9	CO	8D	09	03	AD	A5
C018		14	03	8D	F9	CB	AD	15	03	D5
C020	■	8D	FA	CB	A9	E6	8D	14	03	83
C028		A9	CO	8D	15	03	A5	01	8D	B4
C030	-	F8	CB	58	60	20	73	00	F0	AF
C038	2	04	C9	5F	F0	05	A2	01	4C	19
C040		7F	CO	20	73	00	C9	47	DO	A3
C048	■	03	4C	8F	CO	C9	43	DO	03	6D
C050		4C	F8	CO	C9	54	DO	03	4C	F2
CO58	2	13	C1	C9	44	DO	03	4C	5E	5A
C060		C1	C9	4C	DO	03	4C	F5	C1	21
C068		C9	50	DO	03	4C	23	C3	C9	6E
C070		45	DO	03	4C	2F	C1	C9	46	lC
C078		DO	03	4C	E7	C4	A2	02	C6	Dl
C080		7A	A5	7A	C9	FF	DO	02	C6	C1
C088	2	7B	CA	DO	F3	6C	FB	CB	AD	4C
CO9O		11	DO	09	20	8D	11	DO	A9	48
CO98	■	39	8D	18	DO	AD	16	DO	29	D9
COAO		EF	8D	16	DO	AD	00	DD	29	9A
COA8		FC	8D	OO	DD	20	D2	CO	A9	16
COBO	■	00	85	14	A9	CC	85	15	AO	3C
C0B8	2	00	8E	FD	CB	A2	04	Bl	14	31
COCO	:	29	F0	OD	FD	CB	91	14	C8	8F
COC8	2	DO	F4	E6	15	CA	DO	EF	4C	FA
CODO		AE	A7	20	73	00	20	9E	B7	B3
C0D8	■	E0	10	BO	01	60	AD	F8	CB	FB
COEO	-	85	01	58	4C	48	B2	A5	9D	71
C0E8	-	DO	03	6C	F9	CB	AD	F8	CB	3A
COFO		85	01	20	lC	C1	6C	F9	CB	80
C0F8	2	AO	OO	84	FE	A9	E0	85	FF	51
C100	■	A2	20	98	91	FE	C8	DO	FB	7C
ClO8		E6	FF	CA	DO	F6	20	73	00	F9
C110		4C	AE	A7	20	lC	C1	20	73	D8
C118		00	4C	AE	A7	A9	lB	8D	11	AB
C120 : DO A9 15 BD C128 : DD 09 03 8D C130 : AD FB CB 8D C138 : CB 8D 09 03 C140 : 14 03 AD FA C148 : A9 8B 8D 00 C150 : 01 03 AD F8 C158 : 20 73 00 4C C160 : 00 20 EB B7 C168 : AD F8 CB 29 C170 5 7B Cl AD F8 C178 ; 4C AE A7 E0 C180 s 15 F0 OA CO C188 : 14 C9 40 BO C19O : 8A 4A 4A 4A C198 s F8 85 24 85 ClA0 : 18 65 15 85 ClA8 : 4A 66 26 4A ClBO : BO 85 27 BA ClB8 : C5 A8 A5 14 ClC0 : 5C C5 11 24 ClC8 s 4A 4A A8 AD ClDO s AE F7 CB 60 ClD8 : F5 CB AO 00 ClEO : 68 20 D2 CO ClE8 s OA OA OD FD ClFO : AE F5 CB 68 ClF8 : 20 EB B7 8E C2OO s 8D FE CB A5 C208 s A9 A4 20 FF C210 : 20 D4 C1 86 C218 : 61 A5 15 85 C220 s CB 29 FD 85 C228 s 5C A5 60 38 C230 s 05 E9 00 49 C238 : 85 59 A5 61 C240 s A8 A5 62 ED C248 : OD 98 E9 00 C250 : E9 00 49 FF
18 DO AD 00 7B 00 DD 60 78 5E 08 03 AD FC C9 AD F9 CB 8D 61 CB 8D 15 03 24 03 A9 E3 8D 42 CB 85 01 58 FB AE A7 20 73 4B 20 D4 C1 78 03 FD 85 01 20 FA CB 85 01 58 F4 C8 BO 54 A4 CE 02 BO 4C A5 CA 46 8E F7 CB F7 A8 A5 14 29 76 26 B9 2A C5 71 25 4A 66 26 EB 66 26 18 69 C3 29 07 79 43 75 29 07 AA BD AE 91 24 98 4A F9 F6 CB 91 26 77 48 A9 3B BE 55 Dl 7A DO 10 2F 48 8A OA OA 3A CB BD F6 CB 97 60 20 73 00 6E F3 CB A5 14 2A 15 8D FF CB 09 AE 20 EB B7 16 60 A5 14 85 6A 62 78 AD FB D4 01 A9 00 85 18 ED F3 CB BO 85 FF 18 66 5C 66 38 ED FE CB 86 FF CB AA BO 7B 49 FF A8 8A 68 AA 18 66 5C 49
C258 :	86	5B	84	5A	8A	DO	07	C4	CD
C260 s	59	BO	03	AO	00	2C	AO	FF	CA
C268 :	84	FF	98	DO	OA	A5	59	85	6A
C270 5	57	A9	00	85	58	F0	08	A5	C5
C278 :	5A	85	57	A5	5B	85	58	18	93
C280 :	66	58	66	57	AD	FE	CB	85	A4
C288 :	14	AD	FF	CB	85	15	AE	F3	90
C290 s	CB	20	7B	Cl	A5	FF	F0	42	25
C298 s	AD	FE	CB	C5	61	DO	07	AD	84
C2A0 :	FF	CB	C5	62	F0	2B	20	FE	29
C2A8 s	C2	A5	57	18	65	59	AA	A4	2B
C2B0 :	58	90	01	C8	C4	5B	90	12	37
C2B8 2	DO	04	C5	5A	90	OC	20	17	5F
C2C0 2	C3	38	BA	E5	5A	AA	98	E5	28
C2C8 2	5B	A8	86	57	84	58	4C	84	49
C2D0 2	C2	AD	F8	CB	85	01	58	4C	7B
C2D8 2	AE	A7	AD	F3	CB	C5	60	F0	92
C2E0 2	F0	20	17	C3	A5	5A	18	65	77
C2EB 2	57	BO	09	C5	59	BO	05	85	CD
C2F0 2	57	4C	84	C2	E5	59	85	57	D5
C2F8 2	20	FE	C2	4C	84	C2	24	5C	79
C300 2	10	09	EE	FE	CB	DO	03	EE	5D
C308 2	FF	CB	60	AD	FE	CB	DO	03	52
C310 2	CE	FF	CB	CE	FE	CB	60	24	C3
C318 2	5C	50	04	EE	F3	CB	60	CE	38
C320 2	F3	CB	60	20	73	00	20	EB	A5
C328 2	B7	48	8E	F0	CB	A5	14	8D	lA
C330 2	Fl	CB	A5	15	8D	F2	CB	A9	06
C338 2	2C	AO	00	Dl	7A	DO	2C	68	9E
C340 2	20	73	00	20	EB	B7	20	D4	C5
C348 2	C1	48	A5	14	10	03	4C	48	F4
C350 2	B2	8D	EF	CB	OA	OA	OA	A8	A9
C358 2	88	8C	EE	CB	8A	30	EF	8D	60
Listing 1. Grafikerweiterung für Aktien-Manager und Wahlhochrechnung
Statistik
C64
C360 5 ED CB OA OA OA 8D EC CB 4F C368 s 4C 82 C3 A9 01 8D EF CB EF C370 s 8D ED CB A9 07 8D EE CB 4C C378 : A9 08 8D EC CB 68 20 D4 50 C380 : C1 48 AD 26 03 8D EA CB 75 C388 : AD 27 03 8D EB CB A9 AB 56 C390 s 8D 26 03 A9 C3 8D 27 03 72 C398 s 68 20 AO AA AD EA CB 8D OA C3A0 s 26 03 AD EB CB 8D 27 03 FC C3A8 : 4C AE A7 85 D7 78 8A 48 E2 C3B0 : 98 48 A5 D7 48 AD Fl CB 22 C3B8 : AC F2 CB AE F0 CB 18 6D 4F C3C0 : EE CB 85 14 90 01 C8 84 B5 C3C8 : 15 EO C8 BO lB A5 15 F0 AB C3D0 : OA C9 01 DO 13 A5 14 C9 5B C3D8 : 40 BO OD AD F2 CB 85 15 37 C3E0 : AD Fl CB 85 14 4C F8 C3 38 C3EB : 8A 18 6D EC CB AA A9 00 30 C3F0 s 85 15 85 14 EO CO BO 04 C3 C3F8 : 68 4C 06 C4 68 68 A8 68 DE C400 : AA A5 D7 18 58 60 C9 OE 42 C408 : DO OB AD 18 DO 09 02 8D 45 C410 s 18 DO 4C FD C3 C9 8E DO C9 C418 : OB AD 18 DO 29 FD 8D 18 03 C42O : DO 4C FD C3 C9 12 DO 07 8D C428 : A9 01 85 C7 4C FD C3 C9 03 C430 s 92 DO 05 A9 00 4C 2A C4 35 C438 : C9 20 90 OC C9 40 90 10 B8 C440 : C9 60 90 OA C9 80 90 03 88 C448 : 4C FD C3 E9 lF 2C E9 3F 3A C45O : 85 FB A9 OO 85 FC AO 03 06 C458 : 06 FB 26 FC 88 DO F9 A5 C7 C460 : C7 F0 07 A5 FC 18 69 04 54 C468 : 85 FC AD 18 DO 29 02 F0 lA C470 : 06 A5 FC 18 69 08 2C A5 5E C478 : FC 18 69 DO 85 FC AD F8 DE C480 : CB 29 F9 85 01 8E F0 CB EF C488 = AO 00 AD ED CB 85 56 84 9D C490 : FE A9 08 85 FF Bl FB 85 9E C498 : FD A5 14 48 A5 15 48 AD F5 C4A0 : EF CB 85 55 A5 FD OA 90 14
C4A8 s 03 20 7B Cl E6 14 DO 02 29 C4B0 s E6 15 C6 55 DO EE 06 FD 16 C4B8 : C6 FF DO E3 68 85 15 68 06 C4C0 : 85 14 E8 A4 FE C6 56 DO 3F C4C8 : C8 C8 CO 08 DO BC AD F8 C1 C4D0 : CB 85 01 A4 15 A5 14 38 72 C4D8 s 6D EE CB 8D Fl CB 90 01 23 C4E0 : C8 8C F2 CB 4C FD C3 20 28 C4E8 s 73 00 20 8A AD 20 F7 B7 E0 C4F0 : A9 OA 8D 00 03 A9 C5 8D Bl C4F8 s 01 03 A5 14 8D E8 CB A5 01 C500 : 15 8D E9 CB 4C AE A7 4C 41 C508 : 74 A4 8A 30 FA 8D 20 CB AB C510 : A5 3A 8D 22 CB A5 39 8D 64 C518 s 21 CB AD E8 CB 85 14 AD 3C C520 s E9 CB 85 15 4C A3 A8 FF 77 C528 : 03 01 EO El E2 E3 E5 E6 D3 C530 s E7 E8 EA EB EC ED EF F0 A3 C538 s Fl F2 F4 F5 F6 F7 F9 FA AB C540 s FB FC FE 00 40 80 CO 00 84 C548 : 40 80 CO 00 40 80 CO 00 04 C550 : 40 80 CO 00 40 80 CO 00 OC C558 : 40 80 CO 00 80 40 20 10 B3 C560 s 08 04 02 01 00 00 FF FF OB
Listing 1. Schluß
PROGRAMM s DCOPY C700 C850
C700 : A9 69 A2 04 AO 05 20 E8 OB C708 s C7 A9 64 A2 04 AO 00 20 97 C710 s E8 C7 A2 64 20 C90FF A9 B5 C718 s 8D 20 D2 FF A9 6A A2 04 EA C720 : AO 06 20 E8 C7 A2 6A 20 64 C728 s C9 FF A9 14 20 D2 FF A2 BC C730 s 64 20 C9 FF A9 8D 20 D2 44
C738 s	FF	20 FD	AE	20	9E	B7	E0	34
C740 :	29	BO OC	86	FC	20	FD	AE	BB
C748 :	20	9E B7	E0	10	90	06	20	9F
C750 s	C7	C7 4C	48	B2	8A	OA	OA	D3
C758 :	OA	OA 85	FF	A2	00	86	FE	OB
C760 s	8E	3C 03	A9	00	8D	3D	03	6A
C768 s	20	F3 C7	20	30	C8	F0	29	D7
C770 :	A2	69 20	C9	FF	A2	00	BD	99
C778 :	3E	03 20	D2	FF	E8	E0	08	75
C780 :	DO	F5 A9	OD	20	D2	FF	A2	35
C788 s	64	20 C9	FF	20	3E	C8	A9	D9
C790 :	FE	20 D2	FF	A9	8D	20	D2	80
C798 :	FF	18 A5	FE	69	08	85	FE	D7
C7A0 s	90	02 E6	FF	20	El	FF	FO	DE
C7A8 s	lE	EE 3D	03	AD	3D	03	C9	51
C7B0 s	28	DO B5	A2	64	20	C9	FF	70
C7B8 s	A9	OD 20	D2	FF	EE	3C	03	B9
C7C0 s	AD	3C 03	C9	19	DO	9C	A9	63
C7C8 s	69	20 C3	FF	A9	OD	20	D2	5B
C7D0 s	FF	A9 64	20	C3	FF	A2	6A	5D
C7D8 s	20	C9 FF	A9	24	20	D2	FF	AO
C7E0 s	A9	6A 20	C3	FF	4C	CC	FF	D4
C7E8 s	20	BA FF	A9	00	20	BD	FF	92
C7F0 s	4C	CO FF	78	A5	01	29	FD	AE
C7F8 s	85	01 A2	00	8A	9D	3E	03	3B
C800 s	E8	E0 08	DO	F8	A9	80	85	5E
C808 s	FD	AO 00	Bl	FE	A2	00	OA	A5
C810 s	90	OA 48	BD	3E	03	05	FD	7B
C818 s	9D	3E 03	68	E8	E0	08	DO	FA
C820 s	EE	46 FD	C8	CO	08	DO	E3	21
C828 s	A5	01 09	02	85	01	58	60	53
C830 s	A2 00 8A	DD	3E	03	DO	05	7A
C838 s	E8 E0 08	DO	F6	60	18	A5	CB
C840 s	FC 6D 3D	03	AA	FO	08	A9	48
C848 s	20	20 D2	FF	CA	DO	FA	60	OD
Listing 2. MPS 802 Hardcopyroutine für Aktien-Manager und Wahlhochrechnung.
Aktien-
Manager, die grafische Datenverwaltung
Verfolgen Sie auf verschiedenen Grafik-Bildschirmen, wie sich Ihre finanzielle Lage entwickelt. Am Beispiel einer Aktienkursverwaltung wird gezeigt, wie aus trockenen Zahlen interessante Übersichten entstehen.
Dieses Programm ist als kommerzielles Programm zur Beobachtung, Darstellung und Auswertung von Aktienkursen mehrerer Unternehmen an vier verschiedenen Börsen konzipiert worden. Es läßt sich aber auch für andere Zwecke im Privatbereich einsetzen (zum Beispiel tägliche Ausgaben oder Einnahmen in vier verschiedenen Bereichen).
Die eingegebenen Daten können mit diesem Programm (Listing) sowohl zur Einzelbetrachtung als Zahlenwerte, aber auch zur anschaulichen Darstellung mit verschieden langen Zeiträumen als Grafik, auf Bildschirm und Drucker, ausgege-
ben werden. Bei vollständiger Menüsteuerung durch die Funktionstasten bestehen insgesamt 231 verschiedene Kombinationsmöglichkeiten zur Datenausgabe!
Das Programm zeichnet sich durch einige Besonderheiten aus. So erfolgt die Ausgabe der Zahlenwerte formatiert (bei der Eingabe braucht also kein Format beachtet zu werden), derComputerwähltimmerden größtmöglichen Darstellungsraum bei einer Grafikaus und das Programm bietet vier besondere Grafik-Ergänzungen zur Vereinfachung der Auswertung (Berechnen der Monatsdurchschnitte und Hoch-Tief-Werte sowie Einzeichnen der Wendepunkte und des 1OO-Tage-Durchschnitts).
Für die grafische Ausgabe der Werte wird am Programmanfang eine Grafik-Erweiterung in den Bereich $C000 bis $C568 geladen. Auch die mögliche Druckerroutine für den Grafikausdruck muß in den Bereich $C700 bis $C800 geladen werden (beide Erweiterungen finden Sie in dieser Ausgabe direkt hinter dem Programm »Wahlanalyse«). Einen anderen Bereich in Page 12 läßt die Grafik-Erweiterung nicht zu und im normalen RAM ($0800 bis $9FFF) sollte die Routine möglichst nicht gespeichert werden, weil es dann zu Speicherplatzproblemen mit dem Hauptprogramm kommen kann. Aus diesem Grund sollten auch die REM-Zeilen im Programm nicht mit abgetippt werden.
Als Beispiel wird in dem aufgelisteten Programm die Routine »DCOPY« für den MPS-802 geladen und aufgerufen!
Mit diesem Programm lassen sich die Aktienkurse und -Umsätze verschiedener Unternehmen an den Börsen Frankfurt, Hamburg, Hannover und Düsseldorf (als Beispiel) genau beobachten und vergleichen.
Natürlich kann das Programm nach kleinen Änderungen an den Ein- und Ausgabe-Routinen (Bild 1) auch zum Darstellen von Werten aus ganz anderen Bereichen benutzt werden (zum Beispiel Benzinkosten, Temperatur, ...).
Zum Ausdruck des Grafik-Bildschirms muß die zum jeweiligen Druckerpassende Routineim Bereich $C700-$C800 gespeichert sein (Grafik liegt im Bereich $E000 bis $FFFF).
144
C64
Statistik
Zeile	Funktion
180- 320	Hauptmenü
330- 410	Eingabe-Menü
420- 570	Eingabe
580- 660	Eingabe abspeichern
670- 790	Eingabe auflisten
800- 890	Fehlerkorrektur
900 - 980	Tägliches Übersichtmenü
990 - 1000	Aktuelle Kurse
1010- 1030	Kurse einer Woche
1040 - 1070	Tageskurs
1080- 1150	Ausgabeform
1160 - 1700	Zahlenwertausgabe
1710- 1810	Grafikausgabe tägliche Übersicht
1820 - 1890	Erweiterung-Menü
1900 - 1 930	Druckerausdruck
1940 - 2040	Kurswerte verbinden
2050 - 2110	Hoch-Tief-Werte verbinden
2120 - 2170	Umsatzbalken zeichnen
2180- 2250	Übersichtsmenü
2260 - 2310	Freier Zeitraum - Menü
2320	Alle Tage
2330 - 2360	Zeitraumanfang eingeben
2370 - 2390	Zeitraumende eingeben
2400 - 2460	Monat
2470 - 2550	Jahr/Jahre-Menü
2560 - 2760	Monatsdurchschnitt berechnen
2770- 2850	Kontinuierliche Werte
2860 - 3020	Hoch-Tief-Werte berechnen
3030 - 3090	Ausgabeform-Menü
3100-3260	Grafikausgabe
3270 - 3320	Druckerausdruck
3330 - 3380	Zurück zum Ausgabeform-Menü
3390 - 3630	10O-Tage-Durchschnittskurve zeichnen
3640 - 3950	Wendepunkte verbinden
3960 - 4060	Börsen-Menü
4070 - 4440	Einlesen der Werte
4450 - 4460	Programmende
4470 - 4500	Funktionstastenabfrage
4510- 4540	Eingabe Tag, Monat, Jahr
4550 - 4850	Anzahl der Werte/ersten Tag ausrechnen
4860 - 5180	Fehlerbehandlung
5190 - 5210	Anfangsdatei einlesen
5220 - 5620	Drucker-Zahlenwertausgabe
5630 - 5810	Kurse nachträglich ändern
5820 - 6020	Kurse nachträglich einfügen
6030 - 6360	Monat überspielen
6370 - 6470	Prüfung vor Wertabspeicherung
6480 - 6570	Jährliche Hoch-Tief-Werte berechnen
6580 - 6700	Directory lesen
Die eingegebenen Werte werden nach Unternehmen und Monat getrennt als sequentielle Dateien auf Disketten abgespeichert.
Das Programm ist vollständig menügesteuert, aber trotzdem noch einige Hinweise zur richtigen Bedienung:
Bei Fragen, die mit Ja oder Nein beantwortet werden, darf nur J oder N eingegeben werden.
Die Fragen »Weiter?« und »Drucker an?« sind Wartefragen, bei denen das Drücken der RETURN-Taste bedeutet, daß der Computer mit dem Programm fortfährt.
Auch nach dem Erstellen einer Grafik wird durch Drücken der RETURN-Taste mit dem Programm fortgefahren.
Wird ein Ausdruck des angezeigten Grafikbildschirms gewünscht, muß vorher bei der Frage »Tabulator:?« ein Wert zwischen 0 und 40 eingegeben werden (0=linke / 40=rechte Hälfte einer Seite. Wenn mit der verwendeten Drucker-Routine keine Tab-Funktion möglich ist, Abfrage überspringen!)
Bei Eingabe der Kurse ist zu beachten, daß die Datumsangaben immer zweistellig erfolgen müssen, der Dezimalpunkt
(kein Komma eingeben!), vorangestellte und nachfolgende Nullen nicht mit eingegeben zu werden brauchen.
Wenn der Computer rechnet oder Kurse von Diskette eingelesen werden, wird in der rechten oberen Ecke »Warten« angezeigt.
Jetzt folgt noch die Erklärung der einzelnen Auswahlmöglichkeiten in der Programm-Reihenfolge.
Nach der Eingabe des Firmenkürzels der Firma, deren Aktienkurse bearbeitet werden sollen, folgt das Hauptmenü.
Im Hauptmenü bestehen folgende Auswahlmöglichkeiten, die danach mit ihren Untermenüs erklärt werden:
1.	Kurse eingeben/ändern
Hier bestehen verschiedene Möglichkeiten zur Kurseingabe:
- Kurse neu eingeben: Wird normalerweise zur Kurseingabe benutzt. Dazu muß das Kursdatum später als das letzte vorhandene Datum sein. Deshalb Kurse möglichst immer in aufsteigender Reihenfolge des Datums mit diesem Menüpunkt eingeben (letztes Datum läßt sich durch Aufrufen der aktuellen Kurse (siehe Punkt 2) feststellen).
- Kurse nachträglich ändern: Bei nachträglich notwendigen Änderungen, können nach Eingabe des Datums alle Werte geändert werden.
- Kurse einfügen: Liegt das Kursdatum zwischen schon vorhandenen Kursen, muß zur Kurseingabe diese Funktion aufgerufen werden.
- Datei überspielen: Die Kurse von jeweils einem Monat können auf eine andere Diskette überspielt werden (Diskette muß vorher formatiert werden).
2.	Tägliche Übersicht
Bei dieser Funktion werden immer nur Kurse und Umsätze von Tagen gezeigt.
- Aktuelle Kurse: Die letzten fünf Tage werden ausgewählt. - Kurse eines Tages: Tageskurse und Kurse der zwei vorhergehenden und nachfolgenden Tage werden gezeigt.
- Kurse einerWoche: Anfangstag deranzuzeigenden Woche muß eingegeben werden.
Nach diesen Eingaben muß man wählen, ob alle Kurse und Umsätze als Zahlenwerte oder Kurse und Umsätze einer Börse als Grafik (Bild 3) ausgegeben werden sollen (bei Grafik-Auswahl zwischen den vier Börsen und Commerz-bank-lndex/Gesamtumsatz). Bei Ausgabe als Zahlenwerte muß noch eingegeben werden, ob der Höchst- und Tiefstkurs und die Gesamtumsätze des ganzen zuletzt aufgeführten Jahres oder nur die des aufgelisteten Zeitraums ausgegeben werden sollen. Nach der jeweiligen Ausgabeform kommt man nicht wieder zum Hauptmenü, sondern kann unter Beibehaltung des vorher eingegebenen Zeitraums eine andere Darstellungsform wählen (oder zum Hauptmenü zurück).
3.	Übersicht
Hier können verschiedene Zeiträume und Darstellungsvarianten ausgewählt werden:
- Freier Zeitraum: Variable Auswahl des Zeitraums, siehe 3.1 - Monat: Kurse eines Monats können ausgewählt werden (auch unvollständiger letzter Monat möglich).
- Jahr: Kurse eines Jahres (auch unvollständig), siehe 3.2 - Jahre: Gesamter Zeitraum der Diskette wird benutzt, siehe 3.2
3.1	Zeitraum festlegen
Bei freiem Zeitraum gibt es weitere Auswahlmöglichkeiten: - Alle gespeicherten Tage: Alle Kurse werden ausgewählt (wie bei Jahre)
- Zeitraumanfang eingeben: Anfangstag und Zeitraumlänge in Tagen (Anfangstag mitgerechnet) müssen eingegeben werden.
- Zeitraumende eingeben: Zeitraumlänge in Tagen (Endtag mitgerechnet) und Endtag eingeben.
145
Statistik
C64
Bild 2. Grafische Darstellung der Kurse und Umsätze
Bild 3. Monatliche Durchschnittswerte einer Börse.
L08 HOCH-TIEF KM8MURSE FRAHKFURTRR
Bild 4. Höchste und tiefste Werte in Balkengrafik.
Bild 5. Die Kursgrafik - Spiegel der Wirtschaft.
3.2	Jährlichen Zeitraum festlegen
Bei Jahr/Jahre gibt es folgende weitere Auswahlmöglichkeiten:
-	Monats-Durchschnitt: Hier wird fürjeden Monat des eingegebenen Zeitraums ein Durchschnittswert für jede Börse errechnet und statt der normalen Werte angezeigt (Bild 3).
-	Kontinuierlich: Alle Werte des eingegebenen Zeitraums werden normal ausgegeben.
-	Monats-Hoch-Tief: Wie bei Durchschnitt wird für jeden Monat der höchste und tiefste Wert ausgerechnet und als Balkengrafik oder Zahlenwerte (Reihenfolge: Tief, Hoch) ausgegeben (Bild 4).
Nach all diesen verschiedenen Auswahlmöglichkeiten kommt man immer zur Auswahl der Darstellungsmöglichkeiten:
-	Zahlenwerte: Alle Kurse und Umsätze werden aufgelistet (siehe auch Punkt 2)
-	Kursgrafik: Darstellung der Kurse oder des Commerzbank-Index (auch zum Darstellen der Durchschnitts- und Hoch-Tief-Werte).
-	Umsatzgrafik: Darstellung der Umsätze der einzelnen Börsen oder der Gesamtumsätze.
-	Hauptmenü: Zurückzum Hauptmenü, wenn neuerZeitraum ausgewählt werden soll.
Zu diesem Menü kommt man nach erfolgter jeweiliger Darstellung immer zurück, um die Werte des vorher eingegebenen Zeitraums anders darzustellen.
Wenn Kursgrafik als Ausgabeform gewählt wurde, können nach der normalen Darstellung noch weitere Erweiterungen eingegeben werden (Bild 5).
-	Durchschnitt: Einzeichnen des 100-Tage-Durchschnitts in die Grafik (gestrichelte Linie in Bild 5). Dieser Durchschnitt berechnet sich aus den 20 letzten Kursen des Wochenta-
ges, bei dem dann der errechnete Wert eingezeichnet wird (20*5=100; Börsen haben nur Montag bis Freitag geöffnet).
-	Wendepunkte: Wendepunkte der angezeigten Grafik werden verbunden.
Sollen beide Erweiterungen eingezeichnet werden, muß zuerst Wendepunkte und dann Durchschnitt aufgerufen werden.
4.	Programmende
Die Grafik-Erweiterung wird ausgeschaltet.
Noch ein Tip: Wenn die alte Diskette voll ist (weniger als 10 freie Blöcke), sollten die letzten 3 bis 4 Monate auf die neue (vorher formatierte) Diskette überspielt werden, bevor man weitere Kurse eingibt. Dadurch bekommt man einen fließenden Übergang beim Diskettenwechsel (Daten können immer nur von einer Diskette eingelesen werden).
Das Programm fängt die meisten Bedienungsfehler auf. Nach dem Beseitigen des Fehlers (zum Beispiel falsche Diskette eingelegt) und Drücken von RETURN wird mit dem Programm fortgefahren. Auch Programmfehler werden angezeigt.
Da der C 64 keine eigenen Grafikbefehle hat, muß in dem Programm auf eine Maschinensprache-Erweiterung (siehe eigener Artikel in dieser Ausgabe) zurückgegriffen werden. Diese wird mit einem Monitor oder dem MSE ab $0000 eingegeben und danach als »GRAFIK-E/MS« abgespeichert.
Nun kann das eigentliche Programm abgetippt, gespeichert und gestartet werden. Es lädt dann zuerst die Erweiterung und die mögliche Drucker-Routine.
Noch ein Hinweis: Nach dem Programmabbruch mit der STOP-Taste darf das Programm nicht wieder ganz von vorne gestartet werden, ohne vorher die Grafik-Erweiterung mit - E auszuschalten! (Björn Fiethe/aw)
146
C64
Statistik
10 REM ********************************	<060>	RINT:INPUT"<2SPACE>JAHR:";JA$	<096>
20 REM *	*	<069>	450 IF LEN(TA$)<>2 OR LEN(M0$)<>2 OR LEN(J	
30 REM *	AKTIENKURS-PROGRAMM	*	<097>	A$)<>2 THEN 440	<173>
40 REM *	*	<089>	460 MO=VAL(MO$):JA=VAL(JA$):MO$(1)=STR$(MO	
50 REM * FUER C-64/FL0PPY/(DRUCKER) *	<064>	):JA$(l)=STR$(JA)	<044>
60 REM *	*	<109>	470 IF E=1 THEN 580	<156>
70 REM * B. FIETHE TEL.05331/73648	*	<110>	480 PRINT:PRINTsINPUT"<2SPACE>KURS FRANKFU	
80 REM *	*	<129>	RT: DM";KF	<096>
85 REM ********************************	<135>	490 PRINT:INPUT"UMSATZ '<7SPACE>: STUECK"	
88 REM 	 STEUERZEICHEN 		<053>	;UF	<034>
89 REM "<DOWN>" = CRSR DOWN	<193>	500 IF E=2 THEN 580	<218>
90 REM "{UP}" = CRSR UP	<230>	510 INPUT"<3UP,2SPACE,4RIGHT,SPACE>HANNOVE	
91 REM "<RIGHT}" = CRSR RIGHT	<058>	R{SPACE,4RIGHT}";KH	<087>
92 REM "{LEFT)" = CRSR LEFT	<140>	520 PRINT:PRINT LEFT$(CR$,24);:INPUT UH:IF	
93 REM "{CLR>" = CLR	<009>	E=3 THEN 580	<006>
94 REM "{HOME}" = HOME	<147>	530 INPUT"{3UP,2SPACE,4RIGHT,SPACE>HAMBURG	
95 REM "<RVSON>" = RVS ON	<054>	{2SPACE,4RIGHT}";KB	<034>
96 REM "{RVOFF}" = RVS DFF	<099>	540 PRINT:PRINT LEFT^(CR^,24);:INPUT UB:IF	
97 REM "{RED}" = CTRL 3	<103>	E=4 THEN 580	<131>
98 REM "<GREY 1)" = C= 4	<003>	550 INPUT"{3UP,2SPACE,4RIGHT,SPACE>DUESSEL	
99 REM 	 100 REM 	 DRUCKERSPEZIFISCHE ROUTINE	<090>	D.<4RIGHT>";KD 560 PRINT:PRINT LEFT$(CR$,24);:INPUT UD:IF	<132>
IM BEREICH $C700-$CB00 110 REM ZUM AUSDRUCK DES HGR-BILDSCHIRMS	<176>	E=5 THEN 580 570 PRINT:PRINT:INPUT"<2SPACE>COMMERZBANK	<031>
WIRD GELADEN 		<213>	INDEX:";CI	<241>
120 IF WD=0 THEN WQ=l:L0AD"DC0PY",8,l	<157>	580 IF AE=5 THEN GOSUB 710:RETURN	<254>
130 REM 	 GRAFIK-ERWEITERUNG LADEN 	 140 IF WQ=1 THEN WQ=2:L0AD"GRAFIK-E/MS",8,	<105>	590 AE=3:G0SUB 710:AE=l:GOTO 6380 600 OPEN 2,8,2,KA$+"-AKTIE"+M0$(l)+JA$(l)+	<215>
1	<058>	",S,A":GOSUB 4960	<158>
150 SYS 49152:REM 	 ERWEITERUNG STARTEN	<104>	610 PRINT#2,TA$:PRINT#2,MO$:PRINT#2,JA$:PR	
155 FF4860:REM 	 FEHLERBEHANDLUNG EIN 160 OPEN 15,8,15:F0R 1=1 TO 32:CR$=CR$+"{R	<251>	INT#2,KF:PRINT#2,UF:PRINT#2,KH 620 PRINT#2,UH:PRINT#2,KB:PRINT#2,UB:PRINT	<090>
IGHT>" = NEXT I:FI$=".00" 170 DIM U(500),K(500),TA$(30),MO$(30),JA$( 30) 180 CLOSE 2:P0KE 53280,15:POKE 53281,15:E8	<241> <062>	#2,KD:PRINT#2,UD:PRINT#2,CI 630 CLOSE 2:0PEN 2,8,2,"@:"+KA$+"-AKTIE,S, W":PRINT#2,ME:PRINT#2,JE:PRINT#2,MO$(1 )	<124> <250>
=0:ET$="”:PRINT"<CLR >" 190 PRINT"{HOME,GREY l>":PRINT:PRINT:PRINT "FIRMENKUERZEL (MAX.3/0=KATALOG):{2SPA	<034>	640 PRINT#2,JA$(l):PRINT#2,NA$:CL0SE 2:G0T 0 670 650 PRINT:PRINT"DISKETTE V0LL!{2SPACE)BITT	<216>
CE)"KA$	<181>	E NEUE DISK EINLEGEN":INPUT F$	<242>
200 PRINT"{UP>"CR$;:INPUT KA$:IF LEN(KA$)>		660 GOTO 600	<120>
3 THEN 190 210 IF KA$="0"THEN PRINT:PRINT:GOSUB 6590:	<029>	670 OPEN 2,8,2,KA$+"-AKTIE"+M0$(i)+JA$(l)+ ",S,R"	<146>
GOTO 190 220 PRINT"<CLR,D0WN,RED,6SPACE>K U R S - P	<168>	680 INPUT#2,TA$,MO$,JA$,KF,UF,KH,UH,KB,UB, KD,UD,CI	<153>
R 0 G R A M M"	<099>	690 IF ST<>64 THEN 680	<223>
230 PRINT:PRINT:PRINT"{GREY l,14SPACE>HAUP		700 CLOSE 2	<211>
TMENUE" 240 PRINT"================================	<236>	710 PRINT"<CLR,2D0WN,2SPACE>DATUM: "TA$"." MO$"."JA$	<053>
250 PRINT:PRINT:PRINT"<4SPACE,RVS0N>F l£RV	<112>	720 PRINT:PRINT"{2SPACE>KURSE:"SPC(19)"UMS ATZ:":PRINT"<2SPACE>==================	
OFF,SPACE>= KURSE EINGEBEN/AENDERN" 260 PRINT:PRINT"{4SPACE,RVS0N>F 3<RV0FF,SP	<159>	730 PRINT:PRINT"<2SPACE)FRANKFURT:"KF"DM"T	< 111 >
ACE>= TAEGL. UEBERSICHT" 270 PRINT:PRINT"<4SPACE,RVS0N>F 5<RV0FF,SP	<172>	AB(25)UF"STUECK" 740 PRINT:PRINT"<2SPACE>HANN0VER :"KH"DM"T	<217>
ACE>= UEBERSICHT" 280 PRINT:PRINT"<4SPACE,RVS0N>F 7<RV0FF,SP	<150>	AB(25)UH"STUECK" 750 PRINT:PRINT"<2SPACE>HAMBURG<2SPACE>:"K	<212>
ACEJ= PROGR.-ENDE"	<050>	B"DM"TAB(25)UB"STUECK"	<025>
290 GOSUB 4470 300 IF F>1 AND F<4 AND(AE=1 OR JE=0)THEN G	<048>	760 PRINT:PRINT"{2SPACE)DUESSELD :"KD"DM"T AB(25)UD"STUECK"	< 000 >
OSUB 5190	<184>	770 PRINT:PRINT"<2SPACE>C0MMERZBANK INDEX:	
310 ON F GOTO 330,900,2180,4450	<051>	"CI	<144>
320 GOTO 180 330 PRINT"{CLR,2DOWN,2SPACE>EINGABE/AENDER UNG":PRINT"===========================	<122>	780 IF AE<3 THEN PRINT:INPUT"<2SPACE>AUF Z WEITE DISK ABSPEICHERN (J/N)";F$:IF F$ ="J"THEN 6380	<140>
340 PRINTsPRINT:PRINT"{4SPACE,RVS0N)F KRV	<132>	790 IF AE<3 THEN 1000 800 PRINT:PRINT:INPUT"<2SPACE>RICHTIG (J/N	<143>
OFF,SPACE>= NEUE KURSE EINGEBEN"	<173>	) ";E$:IF E$="J"THEN RETURN	<186>
350 PRINT=PRINT"<4SPACE,RVS0N>F 3<RV0FF,SP		810 IF E$<>"N"THEN PRINT"<2UP>":G0T0 800	<051>
ACE>= KURSE NACHTRAEGLICH AENDERN" 360 PRINT:PRINT"<4SPACE,RVS0N>F 5<RV0FF,SP	<099>	820 PRINT"<HOME,2D0WN,RVSON)1{RVOFF,LEFT,5 DOWN,RVS0N>2 <RVOFF,LEFT,2D0WN,RVS0N>3{	
ACE>= KURSE EINFUEGEN" 370 PRINT:PRINT"<4SPACE,RVS0N>F 7<RV0FF,SP	<038>	RVOFF,LEFT,2D0WN,RVSON)4"; 830 PRINT"<RVOFF,LEFT,2D0WN,RVS0N>5{RVOFF,	<005>
ACE>= DATEI UEBERSPIELEN" 380 PRINT:PRINT"<4SPACE,RVS0N>F 6<RVOFF,SP	<019>	LEFT,2D0WN,RVS0N>6<RVOFF)" 840 Z=Z-l:PRINT"<2D0WN,2SPACE>WAS IST FALS	<189>
ACE>= HAUPTMENUE"	<024>	CH (l-6)?"	<189>
390 GOSUB 4470:IF F<>1 AND(AE=1 OR JE=0)TH		850 GET E$:E=VAL(E$):IF E^=""THEN 850	<235>
EN GOSUB 5190 400 ON F GOTO 420,5630,5820,6030,180,330	<117> <169>	860 IF E>2 AND E<6 THEN PRINT:PRINT:PRINT" <2SPACE> KURS{10SPACE}: DM{2SPACE)000.0	
410 GOTO 330 420 E=0:PRINT"<CLR,2D0WN,RED,13SPACE>KURSE	<148>	0" 870 IF E>2 AND E<6 THEN PRINT:PRINT"UMSATZ	<133>
EINGEBEN" 430 PRINT"================================	<203>	'<7SPACE>: STUECK"	<235>
	II 440 PRINT:PRINT:INPUT"<GREY 1,2SPACE>TAGs" ;TA$:PRINT:INPUT"<2SPACE>MDNAT:";MO$:P	<048>	Listing. Aktienverwaltung. Bitte beachten Sie die Eingabehinweise auf Seite 6.	

147
Statistik
C64
880	ON E GOTO 440,480,510,530,550,570,850	<187>	1340	UF=INT(UF)sUH=INT(UH)sUB=INT(UB):UD=I	
890	GOTO 850	<192>		NT(UD):UG=UF+UH+UB+UD sIF CI>=GI THEN	
900	AB=30:AA=4:PRINT”<CLR,2D0WN,RED,10SPAC			GI=CI	<253>
	E>TAEGLICHE UEBERSICHT"	<190>	1350	UI=UI+UG:IF CI=<MI AND CI>0 THEN MI=C	
910	PRINT"================================			I	<043>
	—		 II	<020>	1360	IF DR=1 THEN RETURN	<210>
920	PRINT:PRINT:PRINT"<GREY 1,4SPACE,RVSON		1370	PRINT TA$"."MO$"."JA$;s KF$=STR$(INT(K	
	>F KRVOFF,SPACE>= AKTUELLE KURSE"	<201>		F)):FK$=STR$(KF):LL=LEN(FK$)-LEN(KF$)	<072>
930	PRINT:PRINT"<4SPACE,RVSON>F 3 <RVOFF,SP		1380	IF LL>3 THEN LL=3	<222>
	ACE>= KURSE EINES TAGES"	<125>	1390	PRINT SPC(5-LEN(KF$))LEFT$(FK*,LEN(KF	
940	PRINT:PRINT"<4SPACE,RVSON}F 5 CRVOFF,SP			$)+LL)RIGHT$(FI$,(3-LL));	<041>
	ACE>= KURSE EINER WOCHE"	<065>	1400	KH$=STRS(INT(KH))s HK$=STR$(KH):LL=LEN	
950	PRINT:PRINT"{4SPACE,RVSON>F 7 <RVOFF,SP			(HK$)-LEN(KH$):IF LL>3 THEN LL=3	<173>
	ACE>= HAUPTMENUE"	<087>	1410	PRINT SPC(5-LEN(KH$))LEFT$(HK$,LEN(KH	
960	GOSUB 4470	<210>		$)+LL)RIGHT$(FI$,(3-LL));	<195>
970	ON F GOTO 990,1040,1010	<217>	1420	KB$=STR$(INT(KB)):BK$=STR$(KB):LL=LEN	
980	GOTO 180	<018>		(BK$)-LEN(KB$)sIF LL>3 THEN LL=3	<216>
990	MT$=STR$(ML):JR$=STR$(JL):TG$="": AF=5:		1430	PRINT SPC(5-LEN(KB$))LEFT$(BK$,LEN(KB	
	GOSUB 4580:GOTO 1080	<187>		$)+LL)RIGHT$(FI$>(3-LL));	<070>
1000	CLOSE 3:CL0SE 2:PRINT:INPUT"<GREY 1,2		1440	KD$=STR$(INT(KD)):DK$=STR$(KD):LL=LEN	
	SPACE>WEITER";F$:GOTO 180	<026>		(DK$)-LEN(KD$):IF LL>3 THEN LL=3	<144>
1010	PRINT"<CLR,2D0WN,RED,8SPACE >KURSE EIN		1450	PRINT SPC(5-LEN(KD$))LEFT$(DK$,LEN(KD	
	ER WOCHE":PRINT"=====================			$)+LL)RIGHT$(FI$,(3-LL));	<224>
	==========	<061>	1460	PRINT SPC(A-LEN(STR$(UF)))UF SPC(7-LE	
1020	PRINT"<3D0WN,GREY 1,2SPACE >ANFANGSTAG			N(STR^(UH)))UH SPC(7-LEN(STR$(UB)))UB	
	DER WOCHE EINGEBEN"	<234>			<234>
1030	AF=l:GOTO 1070	<214>	1470	PRINT SPC(7-LEN(STR$(UD)))UD"<LEFT)";	<071>
1040	PRINT"<CLR,2D0WN,RED,13SPACE>TAGESKUR		1480	IF I=INT(AA-l)THEN FF=KF+KH+KB+KD	<158>
1050	S"	<012>	1490	IF ST<>64 THEN NEXT IsCLOSE 2sG0T0 15	
	PRINT"===============================			10	<104>
1060	========:= ••	<162>	1500	GOSUB 4820:NEXT I:CLOSE 2	< 211 >
	PRINT"<3D0WN,GREY 1,2SPACE >GEWUENSCHT		1510	DF=KF+KH+KB+KD	<249>
1070	EN TAG EINGEBEN:":AF=3 GOSUB 4520	<172> <178>	1520	DD=(DF-FF)/4:IF DD>2.6 THEN PRINT:PRI NT"<2SPACE>TENDENZ: STARK STEIGEND":G	
1080	MN$=MT$:JH$=JR$:PRINT"<CLR,2D0WN,RED,			OTO 1560	<131>
	15SPACE >AUSGABEFORM"	<137>	1530	IF DD>1.3 THEN PRINT:PRINT"<2SPACE>TE	
1090	PP T KIT 11			—	—						
	ii	<202>	1540	NDENZ: LEICHT STEIGEND"sGOTO 1560 IF DD<-2.6 THEN PRINT:PRINT"<2SPACE>T	<178>
1100	PRINT:PRINT s PRINT"<GREY 1,4SPACE,RVSO			ENDENZ: STARK FALLEND"=GOTO 1560	<188>
1110	N)F l<RVOFF,SPACE>: ZAHLENWERTE"	<176>	1550	IF DD<-1.3 THEN PRINT:PRINT"<2SPACE>T	
	PRINT:PRINT"<4SPACE,RVSON}F 3 <RVOFF,S			ENDENZ: LEICHT FALLEND"	<039>
	PACE>: GRAFIK"	<164>	1560	IF F^="J"THEN GOSUB 6490	<151>
1120	PRINT:PRINT"<4SPACE,RVSON>F 5 <RVOFF,S		1570	GR$=STR$(INT(GR)):RG$=STR$(GR)=LL=LEN	
	PACE>: HAUPTMENUE"	<245>		(RG$)-LEN(GR$):IF LL>3 THEN LL=3	<092>
1130	GOSUB 4470	<126>	1580	PRINT:PRINT"{2SPACE>H0ECHSTKURS:";	<223>
1140	ON F GOTO 1170,1720,180	<002>	1590	PRINT SPC(5-LEN(GR$))LEFT$(RG$,LEN(GR	
1150	GOTO 1080	<075>		$)+LL)RIGHT$(FI$,(3-LL));	<139>
1160	REM 	 ZAHLENWERTAUSGABE 		<098>	1600	PRINT" DM AM "TA$(l)"."MO$(l)"."JA$(l	
1170	PRINT:PRINT:INPUT"HOECHST-TIEFSTKURS			)	<156>
	DES GANZEN JAHRES ";F$	<185>	1610	KL$=STR$(INT(KL)):LKJ=STR$(KL):LL=LEN	
1180	PRINT:PRINT:PRINT"<CLR,RED,8SPACE}"NA			(LK$)-LEN(KL$):IF LL>3 THEN LL=3	< 198>
	$"-AKTIE" = GF=0:GH=05 GB=0s GD=0	<026>	1620	PRINT"<2SPACE>TIEFSTKURS :";	<244>
1190	PRINT"===============================		1630	PRINT SPC(5-LEN(KL$))LEFT$(LK$,LEN(KL	
	=========••; MF=500: MH=500: MB=500:MD=50			$)+LL)RIGHT$(FI$,(3-LL));	<172>
	0	<152>	1640	PRINT" DM AM "TA$(2)"."M0t(2)"."JA$(2	
1200	PRINT SPC(15)ET$:PRINT SPC(20)"<GREY			)	<165>
	1}KASSAKURSE";:GI=0:MI=5000s A1 = 1	<255>	1650	PRINT"{2SPACE>GESAMTUMSAETZE:"UI"STUE	
1210	PRINT:PRINT:PRINT"<GREY 1,2SPACE >DATU			CK"	<194>
	M <3SPACE>FRANKF <3SPACE>HANN <4SPACE>HA		1660	A1=0:PRINT:INPUT"<2SPACE>DRUCKER";F$:	
	MB{3SPACE>D'DORF";	<160>		IF F$<>"J"THEN 3350	<246>
1220	PR I NT: PR I NT " ^LÖ±S£?ÜÜÜÜ^^		1670	Al=l:PRINT"<UP>"TAB(20)"DRUCKER AN";:	
	WÄ*Ä*Ä*A^^	; : UI=0: GR=0: KL=500: A=			INPUT F$:OPEN 4,4:MT$=MN*:JR$=JH$	<064>
	16	<199>	1680	IF MM=0 THEN GOSUB 4740:GOTO 1700	<074>
1230	PRINT:UG=0:FOR 1=0 TO AA:INPUT#2,TA$,		1690	GOSUB 4550	<130>
	MO$,JA$,KF,UF,KH,UH,KB,UB,KD,UD,CI	<181>	1700	DR=l:GOTO 5230	<220>
1240	M=0:IF KF>=GF THEN GF=KF:IF KF>=GR TH		1710	REM 	 GRAFIKAUSGABE 		<013>
	EN GR=KF:M=1	<156>	1720	AD=20:TE$="":GOSUB 3960	<064>
1250	IF KH>=GH THEN GH=KH:IF KH>=GR THEN G		1730	H_20,10 TO 20,170:H_20,170 TO 150,170	
	R=KH:M=1	<052>		:H_190,10 TO 190,170	<228>
1260	IF KB>=GB THEN GB=KB:IF KB>=GR THEN G		1740	H_190,170 TO 310,170:FOR 1=10 TO 170	
	R=KB:M=1	<174>		STEP(AC*(INT(9/AC)+l)):F0R T=15 TO 15	
1270	IF KD>=GD THEN GD=KD:IF KD>=GR THEN G			0 STEP 5	<023>
	R=KD:M=1	<147>	1750	<-DT,I:NEXT T,I	<222>
1280	IF M=1 THEN TA$(l)=TA$:MO$(l)=MO$:JA$		1760	FOR 1=10 TO 170 STEP(AZ*(INT(9/AZ)+1)	
	(1)=JA$:M=0	<226>		):FOR T=185 TO 320 STEP 5s^DT,I:NEXT	
1290	IF KF=<MF AND KF>0 THEN MF=KF:IF KF=<			T,I	<039>
	KL THEN KL=KF:M=1	<032>	1770	FOR 1=20 TO 150 STEP AB:FOR T=10 TO 1	
1300	IF KH=<MH AND KH>0 THEN MH=KH:IF KH=<			75 STEP 4:*-DI,T:<-D(I + 170),T:NEXT T,I	<038>
	KL THEN KL=KH:M=1	<115>	1780	H>200,0JA$: *-P155, 170" <3SPACE>0"	<129>
1310	IF KB=<MB AND KB>0 THEN MB=KBsIF KB=<		1790	eP150,10UR$:^P20,0TE$:^P0,10GR$	<017>
	KL THEN KL=KB:M=1	<162>	1800	^0,170KLT:GOSUB 1950:AD=190:GOSUB 21	
1320	IF KD=<MD AND KD>0 THEN MD=KD:IF KD=<			30:GOTO 3270	<097>
	KL THEN KL=KD:M=1	<245>	1810	INPUT F$	<170>
1330	IF M=1 THEN TA$(2)=TA$:MO$(2)=MO$:JA$		1820	^T:PRINT"<CLR,3D0WN,RED,2SPACE >ERWEIT	
	(2)=JA$:M=0	<094>		ERUNG":PRINT"========================	
148

C 64 Statistik
1830	PRINT:PRINT:PRINT"<GREY 1,4SPACE,RVSO	<024>
	N>F KRVOFF,SPACE>= GRAFIK AUSDRUCKEN ":IF ET$<>"”THEN 1860	<060>
1840	PRINT:PRINT"<4SPACE,RVSON>F 3 <RVOFF,S	
	PACE>= DURCHSCHNITT”	<170>
1850	PRINT sPRINT"<4SPACE,RVSON >F 5 <RVOFF,S	
	PACE>= WENDEPUNKTE"	<221>
1860	PRINT:PRINT"<4SPACE,RVSON >F 7 <RVOFF,S	
	PACE>= WEITER”	<225>
1870	GOSUB 4470	<104>
1880	ON F GOTO 1900,3400,3650,3330	<226>
1890	GOTO 1820	<244>
1900	INPUT"{CLR,2D0WN,RED,2SPACE>DRUCKER A	
	N";F$	<039>
1910	PRINT:INPUT"<GREY 1,2SPACE}TABULATOR:	
	";TB:IF TB<0 OR TB>40 THEN 1910	<037>
1920	REM 	 STARTEN DES AUSDRUCKS 		<216>
1930	SYS 50944,TB,14:GOTO 1820	<031>
1940	REM 	 LINIEN ZEICHNEN 		<075>
1950	IF E8=3 THEN 2060	<103>
1960	FOR 1=0 TO AA-1:T=1:F=0	<156>
1970	IF K(I+T)<=0 THEN T=T+l:F=2:IF AA-I<T	
	THEN F=0:RETURN	<096>
1980	IF F=2 THEN F=0:GOTO 1970	<012>
1990	IF K(I)<=0 THEN I=I+1	<186>
2000	IF I=AA THEN RETURN	<090>
2010	IF B=5 THEN Y=170-(LOG(K(I))-LOG(KL))	
	*LG:Yl=170-(LOG(K(I+T))-LOG(KL))*LG	<037>
2020	IF B=5 THEN:H_(AD+I*AB),Y TO(AD+(I+T)	
	*AB),Yl:GOTO 2040	<153>
2030	H_(AD+I*AB),(170-(K(I)-KL)*AC)TO(AD+(	
	I+T)*AB),(170-(K(I+T)-KL)*AC)	<190>
2040	NEXT I:RETURN	<206>
2050	REM 	 HDCH-TIEF-BALKEN 		<239>
2060	FOR 1=0 TO AA STEP 2	<194>
2070	IF B=5 THEN Y=170-(LOG(K(I))-LOG(KL))	
	*LG:Y1=170-(LOG(K(I+1))-LOG(KL))*LG:G OTO 2090	<033>
2080	Y=170-(K(I)-KL)*AC:Yl=170-(K(1 + 1)—KL)	
	*AC	<202>
2090	AJ=INT(100/AA):IF AJ>7 THEN AJ=7	<008>
2100	FOR T=0 TO AJ:H_(AD+I*AB+T),Y TO(AD+I	
	*AB+T),Yl:NEXT T	<019>
2110	NEXT I:RETURN	< 022 >
2120	REM 	 UMSATZ ZEICHNEN 		<214>
2130	FOR 1=0 TO AA:HU=170-U(I)*AZ	<069>
2140	IF HU>=170 THEN NEXT I:RETURN	<114>
2150	IF HU<9 THEN HU=9	<087>
2160	AJ=INT(100/AA):IF AJ>7 THEN AJ=7	<078>
2170	FOR T=0 TO AJ:<-L(AD+T+I*AB),HU TO(AD+	
	T+I*AB),170:NEXT T,I:RETURN	<059>
2180	PRINT"<CLR,2D0WN,RED,2SPACE)UEBERSICH	
	T : rH1N I 		<225>
2190	PRINT:PRINT:PRINT"<GREY 1,4SPACE,RVSO	
	N)F l<RVOFF,SPACE>= FREIER ZEITRAUM"	<015>
2200	PRINT:PRINT"<4SPACE,RVS0N>F 3CRV0FF,S	
	PACE)= MONAT"	<114>
2210	PRINT:PRINT"{4SPACE,RVSON>F 5 <RVOFF,S	
	PACE>= JAHR"	<207>
2220	PRINT:PRINT"<4SPACE,RVSON)F 7{RVOFF,S	
	PACE>= JAHRE"	<142>
2230	PRINT:PRINT"<4SPACE,RVS0N>F 8<RV0FF,S	
	PACE>= HAUPTMENUE"	<098>
2240	GOSUB 4470:ON F GOTO 2260,2400,2470,2	
	480,180,180	<218>
2250	GOTO 2180	<183>
2260	PRINT"<CLR,3D0WN,RED,2SPACE>FREIER ZE	
	ITRAUM":PRINT"=======================	<230>
2270	PRINT:PRINT:PRINT"<GREY 1,4SPACE,RVSO	
	NJF l<RVOFF,SPACE>= ALLE GESPEICHERTE N TAGE"	<137>
2280	PRINT:PRINT"<4SPACE,RVSON>F 3{RVOFF,S	
	PACE>= ZEITRAUMANFANG EINGEBEN"	<033>
2290	PRINT:PRINT"<4SPACE,RVS0N>F 5<RV0FF,S	
	PACE>= ZEITRAUMENDE EINGEBEN"	<221>
2300	GOSUB 4470:ON F GOTO 2320,2330,2370	<040>
2310	GOTO 2260	<196>
2320	GOSUB 4760:AB=270/AA:AD=30:MM=0:GOTO	
	3030	<018>
2330	PRINT"<CLR,2D0WN,RED,2SPACE )ZEITRAUMA	
	NFANG EINGEBEN":PRINT"===============	<092>
2340 PRINT:PRINT:PRINT"<GREY 1,2SPACE>ANFA		
	NGSTAG EINGEBEN":AF=l:GOSUB 4520	<120>
2350	PRINT:PRINT:INPUT"<2SPACE>ZEITRAUMLAE NGE IN TAGEN:";AA:AA=AA-1:AB=270/AA:A	
	D=30	<036>
2360	GOTO 3030	<126>
2370	PRINT"{CLR,2D0WN,RED,2SPACE >ZEITRAUME NDE EINGEBEN":PRINT"=================	
		=11	<215>
2380	PRINT:PRINT:INPUT"<GREY 1,2SPACE>ZEIT	
	RAUMLAENGE IN TAGEN:";AF:AA=AF-1	<112>
2390	PRINT:PRINT:PRINT"<2SPACE>ENDTAG EING EBEN:":GOSUB 4520:AB=270/AA:AD=30:GOT	
	0 3030	< 252 >
2400	PRINT"<CLR,2D0WN,RED,2SPACE >MONAT":PR	
	INT"===========================-=-=-=	<149>
2410	PRINT:PRINT:INPUT"<GREY l,2SPACE>M0NA T: " ;.MT:PRINT: INPUT" <2SPACE>JAHR: " ; JR:	
	MT$=STR$(MT):JR$=STR$(JR)	<089>
2420	GOSUB 4740:1=0	<237>
2430	INPUT#2,A,A,A,A,A,A,A,A,A,A,A,A:I=I+1	<082>
2440	IF ST<>64 THEN 2430	<201>
2450	CLOSE 2:AA=I-l:G0SUB 4740	<213>
2460	AB=270/AA:AD=30:GOTO 3030	<217>
2470	EE^="1 JAHR":EE=l:GOTO 2490	<225>
2480	EE$="JAHRE";EE=2	<252>
2490	PRINT"{CLR,2D0WN,RED,2SPACE)AUSGABEFO RM":PRINT"===========================	
	============ '•	<233>
2500	PRINT:PRINT:PRINT"<GREY 1,2SPACE}"EE$	<192>
2510	PRINT:PRINT"<4SPACE,RVSON}F 1<RVOFF,S	
	PACE>= MONATS-DURCHSCHNITT"	<227>
2520	PRINT:PRINT"<4SPACE,RVS0N>F 3<RV0FF,S	
	PACE>= KONTINUIERLICH"	<053>
2530	PRINT:PRINT"<4SPACE,RVSDN)F 5<RVOFF,S	
	PACE>= MONATS-HOCH-TIEF-WERTE"	<081>
2540	GOSUB 4470:ON F GOTO 2570,2780,2870,2	
	550	<090>
2550	GOTO 2490	<053>
2560	REM 	 DURCHSCHNITTE BERECHNEN 		<212>
2570	IF EE=1 THEN PRINT:INPUT"<2SPACE>JAHR	
	:";JR:JR$=STR$(JR)	C114>
2580	IF EE=2 THEN JR$=STR$(JE)	<074>
2590	MT$=" l":ET^="DURCHSCHN "	<144>
2600	IF VAL(JRt)=JE THEN MT^=STR^(ME)	<242>
2610	I=0:T=0:OPEN 3,8,3,"@:"+KA^+"-AKTIE 1	
	3 00,S,W":GOSUB 4740	<078>
2620	KF(1)=0:UF(1)=0:KH(1)=0:UH(1)=0:KB(1)	
	=0:UB(1)=0:KD(1)=0:UD(1)=0:CI(1)=0	<242>
2630	INPUT#2,A,M0$,JA$,KF,UF,KH,UH,KB,UB,K	
	D,UD,CI	<005>
2640	IF KF=0 OR UF=0 OR KH=0 OR UH=0 OR KB =0 OR UB=0 OR KD=0 OR UD=0 OR CI=0 TH	
	EN 2670	<186>
2650	KH(1)=KH(1)+KH:UH(1)=UH(1)+UH:KB(1)=K	
	B(1)+KB:UB(1)=UB(1)+UB:KD(1)=KD(1)+KD	<075>
2660	KF(1)=KF(1)+KF:UF(1)=UF(1)+UF:UD(1)=U	
	D(l)+UD:CI(l)=CI(1)+CI:I=I+1	<049>
2670	IF ST<>64 THEN 2630	<193>
2680	CLOSE 2:T=T+1:KF=KF(1)/I:UF=UF(1)/I:K	
	H=KH(1)/I:UH=UH(1)/I:KB=KB(1)/I:F=0	<148>
2690	UB=UB(l)/I:KD=KD(l)/I:UD=UDCl)/I:CI=C I(1)/I:PRINT#3,MO$:PRINT#3,JA$:PRINT#	
	3,"00"	<123>
2700	PRINT#3,KF:PRINT#3,UF:PRINT#3,KH:PRIN T#3,UH:PRINT#3,KB:PRINT#3,UB:PRINT#3,	
	KD:PRINT#3,UD:PRINT#3,CI	<022>
2710	IF VAL(JR^)=JL AND VAL(MT$)=ML THEN C LOSE 3:AA=T-l:MT$=" 13":JR$=" 00":GOS	
	UB 4740:F=3	<172>
2720	IF F=3 THEN AB=270/AA:AD=30:F=0sMM=0:	
	GOTO 3030	<076>
2730	IF MT$=" 12"THEN F=2:IF EE=1 THEN JR$	
	=STR$(JL):MT$=STR$(ML):GOTO 2710	<104>
2740	IF F=2 AND EE=2 THEN MT$=" l":JR^=STR	
	$(VAL(JR$)+l):GOTO 2760	<048>
2750	MT$=STR$(VAL(MT$)+1)	<068>
2760	I=0:GOSUB 4740:GOTO 2620	<065>
2770	REM 	 KONTINUIERLICH 		<241>
2780	PRINT:INPUT"<2SPACE>JAHR:";JR:JR^=STR $(JR):MT$=" l":IF JR=JE THEN MT$=STR$	
	(ME)	<084>
Listing. Aktienverwaltung (Fortsetzung)		

149
Statistik
C64
2790	MNI=MT$:I=0:GOSUB 4740	<046>	3250	IF E=3 THEN:AD=40:GOSUB 2130:GOTO 327	
2800	INPUT#2,A,A,A,A,A,A,A,A,A,A,A,A:I = I + 1	<198>		0	<048>
2810	IF ST<>64 THEN 2800	<045>	3260	GOTO 3030	<008>
2820	CLOSE 2:IF JR=JL AND VAL(MT$)=ML THEN		3270	GET F$:IF F^=""THEN 3270	<125>
	2850	<109>	3280	^T:INPUT"{CLR,3D0WN,RED,2SPACE >AUSDRU	
2830	IF MT$=" 12"THEN 2850	<043>		CKEN";F^:IF F$<>"J"THEN 3350	<082>
2840	MT$=STR$(VAL(MT$)+1):GOSUB 4740:GOTO		3290	PRINT:PRINT:INPUT"{2SPACE>DRUCKER AN"	
	2800	<094>		;FT	<084>
2850	AA=I-1:MT$=MN$:GOSUB 4740:AD=30: AB=27		3300	PRINT:INPUT"<GREY l,2SPACE>TABULAT0R:	
	0/AA:MM=0:GOTO 3030	<046>		";TB:IF TB<0 OR TB>40 THEN 3300	<101>
2860	REM 	 HOCH-TIEF-WERTE 		<075>	3310	REM 	 STARTEN DES AUSDRUCKS 		<080>
2870	E8=3:IF EE=1 THEN PRINT:INPUT"<2SPACE		3320	SYS 50944,TB,14:GOTO 3280	<165>
	>JAHR:";JR:JR$=STR$(JR)	<224>	3330	MT$=MN$:JR$=JH$:IF MM=0 THEN GOSUB 47	
2880	IF EE=2 THEN JR$=STR$(JE)	<120>		40:GOTO 3030	<236>
2890	MT$=" l":ET^="HOCH-TIEF ":IF VAL(JR$)		3340	GOSUB 4550:GOTO 3030	<106>
	=JE THEN MT$=STR$(ME)	<013>	3350	MT$=MN$:JR$=JH$:IF MM=0 THEN GOSUB 47	
2900	I=0:OPEN 3,8,3,"@:"+KA$+"-AKTIE 13 00			40:GOTO 3370	<011>
	,S,W":GOSUB 4740	<111>	3360	GOSUB 4550	<250>
2910	KL=500:MF=500:MH=500:MB=500:MD=500:GR		3370	IF AB=30 AND AA=4 THEN 1080	<216>
	=0:GF=0:GH=0:GB=0:GD=0:UI=0:GI=0	<007>	3380	GOTO 3030	<130>
2920	MI=5000	<034>	3390	REM 	 DURCHSCHNITTSKURVE 		<236>
2930	INPUT#2,TA$,M0$,JA$,KF,UF,KH,UH,KB,UB		3400	IF ET$<>""THEN 1820	<169>
	,KD,UD,CI:DR=l:GOSUB 1240:DR=0	<050>	3410	IF A2=1 THEN 1820	<038>
2940	IF ST<>64 THEN 2930	<233>	3420	NN=MM:ZA=AA:AA=100:MT$=MN$:JR$=JHt:AF	
2950	CLOSE 2:I=I+l:PRINT#3,M0$:PRINT#3,JA$			=100:IF TG^=""THEN TG$="00"	<129>
	:PRINT#3,"00":PRINT#3,MF:PRINT#3,UI:P		3430	GOSUB 4580	<189>
	RINT#3,MH:PRINT#3,UI	<028>	3440	ZZ=-l:FOR 1=0 TO ZA:K(I)=0:NEXT I:ZB=	
2960	PRINT#3,MB:PRINT#3,UI:PRINT#3,MD:PRIN			AA:AA=INT(ZA+ZB)-1:ZC=0:T=-1	<211>
	T#3,UI:PRINT#3,MI:PRINT#3,"{2SHIFT-SP		3450	FOR 1=0 TO AA	<031>
	ACE}M:PRINT#3,JA$:PRINT#3,"00 ":PRINT#		3460	KH=KF:ZZ=ZZ+l:IF ZZ>ZA THEN ZZ=ZA	<166>
	3,GF:PRINT#3,UI	<139>	3470	IF I/5=INT(I/5)THEN T=T+l:IF I>ZB THE	
2970	PRINT#3,GH:PRINT#3,UI:PRINT#3,GB:PRIN			N ZC=ZC+5	<207>
	T#3,UI:PRINT#3,GD:PRINT#3,UI:PRINT#3,		3480	IF BB=1 THEN INPUT#2,A,A,A,KF,A,A,A,A	
	GI	<015>		,A,A,A,A:GOTO 3530	<126>
2980	IF VAL(JR$)=JL AND VAL(MT$)=ML THEN 3		3490	IF BB=2 THEN INPUT#2,A,A,A,A,A,KF,A,A	
	020	<010>		,A,A,A,A:GOTO 3530	<199>
2990	F=0:IF MT$=" 12"THEN F=3:IF EE=1 THEN		3500	IF BB=3 THEN INPUT#2,A,A,A,A,A,A,A,KF	
	*3020	<183>		,A,A,A,A:GOTO 3530	<017>
3000	IF F=3 AND EE=2 THEN MT$=" l":JR$=STR		3510	IF BB=5 THEN INPUT#2,A,A,A,A,A,A,A,A,	
	$(VAL(JRt)+l):GOSUB 4740:GOTO 2910	<197>		A,KF,A,A:GOTO 3530	<155>
3010	MT#=STR$(VAL(MT$)+1):GOSUB 4740:GOTO		3520	IF BB=4 THEN INPUT#2,A,A,A,A,A,A,A,A,	
	2910	<020>		A,A,A,KF	<128>
3020	CLOSE 3:AA=I*2-l:MT$=" 13":JR$=" 00":		3530	IF KF<=0 THEN KF=KH	<178>
	GOSUB 4740:AB=270/AA:AD=30:MM=0:GOTO		3540	FOR Q=ZC TO ZZ STEP 5:K(I-T*5+0)=K(I-	
	3030	<215>		T*5+Q)+KF:NEXT Q	<133>
3030	PRINT"<CLR,3D0WN,RED,2SPACE >AUSGABEFO		3550	IF ST=64 THEN GOSUB 4820	<126>
	RM":PRINT"===========================		3560 ^EJ7OI	NEXT I:<-G15:CL0SE 2	<009>
		x 1 oZ /		rUH	IU £A:K(1/—K11)/lNI((ZB—1)/5+	
3040	B=0:PRINT:PRINT:PRINT"<GREY 1,4SPACE,			l):NEXT I	<203>
	RVSON>F l<RVOFF,SPACE>= ZAHLENWERTE":		3580	AA=ZA:FDR 1=0 TO AA-1	<046>
	MN$=MT$;JH$=JR$:A2=0	<133>	3590	IF B=5 THEN Y=170-(LOG(K(I))-LOG(KL))	
3050	PRINT:PRINT"{4SPACE,RVSON >F 3 <RVOFF,S			*LG:Yl=170-(LOG(K(I+l))-LOG(KL>)*LG:G	
	PACE>= KURSGRAFIK"	<166>		OTO 3610	<186>
3060	PRINT:PRINT"{4SPACE,RVSON>F 5 <RVOFF,S		3600	Y=170-(K(I)-KL)*AC:Yl=170-(K(1 + 1)-KL)	
	PACE)= UMSATZGRAFIK"	<032>		*AC	<193>
3070	PRINT:PRINT"<4SPACE,RVSON}F 7 <RVOFF,S		3610	XY=(Yl-Y)/AB:FOR T=(I*AB)TO((I+l>#AB)	
	PACE>= HAUPTMENUE"	<175>		STEP 2:X=XY*(T-I*AB)+Y:IF X<10 OR X>1	
3080	GOSUB 4470:ON F GOTO 1170,3110,3130,1			70 THEN 3630	<101>
	80	<039>	3620	^DAD+T,X	<043>
3090	GOTO 3030	<094>	3630	NEXT T,I:A2=l:MM=NN:G0T0 1810	<177>
3100	REM 	 GRAFIKAUSGABE 		<135>	3640	REM 	 WENDEPUNKTE VERBINDEN —-	<218>
3110	INPUT"<CLR,3D0WN,2SPACE>L0G. DARSTELL		3650	IF ET#<>""THEN 1820	<165>
	UNG (J/N)";F$:IF F^="J"THEN B=5	<178>	3660	A3=1:AI=INT(AA/3):G0=0:KO=5000:RG=0:L	
3120	TE$=ET$+"KASSAKURSE ":AD=30:GOTO 3140	<131>		K=5000:IF A2=1 THEN 1820	<182>
3130	TE^="UMSATZ IN STUECK, ":AD=40	<125>	3670	H315:FOR 1=0 TO AI-l:IF K(I)>G0 THEN	
3140	E=F:GOSUB 3960: H_AD,10 TO AD,170: H_AD			G0=K(I):Xl=I	<067>
	,170 TO 320,170	<143>	3680	IF K(I)<KO AND K(I)>0 THEN K0=K(I):X3	
3150	IF E=3 THEN AC=AZ:GOTO 3180	<039>		= 1	<243>
3160	IF B=5 THEN LG=160/(LOG(GR)-LOG(KD):		3690	NEXT I	<218>
	FOR I=KL TO GR STEP(INT(9/AC)+1)	<156>	3700	FOR I=AI TO INT(AI*2)-1	<139>
3170	IF B=5 THEN Y=170-(LOG(I)-LOG(KL))*LG		3710	IF K(I)>RG THEN RG=K(I):X2=I	<191>
	:FOR T=25 TO 320 STEP 5:<-DT,Y:NEXT T,		3720	IF K(I)<LK AND K(I)>0 THEN LK=K(I):X4	
	I:GOTO 3190	<148>		= 1	<000>
3180	FOR 1=10 TO 170 STEP(AC*(INT(9/AC)+1)		3730	NEXT I:WA=0:WB=X2*AB:AW=0:BW=X4*AB	<211>
	):FOR T=AD-5 TO 320 STEP 5:<-DT,I:NEXT		3740	IF B=5 THEN Y=170-(LOG(G0)-LOG(KL))*L	
	T,I	<006>		G:Yl=170-(LOG(RG)-LOG(KL))*LG:GOTO 37	
3190	FOR I=AD TO 320 STEP(AB*(INT(AA/12)+1			60	<061>
	)):FOR T=10 TO 175 STEP 4:<-DI,T:NEXT		3750	Y=170-(G0-KL)*AC:Y1=170-(RG-KL)*AC	<074>
	T,I	<234>	3760	XY=(Y1-Y)/(X2*AB-X1*AB)	<105>
3200	FP280,0;1lJA$:^P40,0TE$	<187>	3770	T=XY*(WA-X1*AB)+Y:T1=XY*(WB-X1*AB)+Y:	
3210	IF E=2 AND B=5 THEN:^P0,0"LOG":GOTO 3			IF T<10 THEN T=10:WA=(T-Y)/XY+Xl*AB	<094>
	230	<048>	3780	IF Tl<10 THEN Tl=10:WB=(Tl-Y)/XY+Xl*A	
3220	IF E=2 THEN:^P0,0"NORM"	<144>		B	<193>
3230	IF E=2 THEN:H=0,10GR$:^P0,170KL$:AD=3		3790	IF T>170 THEN T=170:WA=(T-Y)/XY+Xl*AB	<176>
	0:GOSUB 1950:GOTO 1810	<124>	3800	IF Tl>170 THEN Tl=170:WB=(Tl-Y)/XY+Xl	
3240	IF E=3 THEN:H^0,170"<4SPACE>0":<-P0,10			*AB	<040>
	UR$	<045>	3810	H_WA+AD,T TO WB+AD,T1	<083>
150
C64
Statistik
3820 IF B=5 THEN Y=170-(LOG(KO)-LOG(KL))*L
G:Yl=170-(LOG(LK)-LOG(KL))*LG:GOTO 38
40	<206>
3830 Y=170-(KO-KL)*AC:Y1 = 170-(LK-KL)*AC <047 > 3840 XY=(Yl-Y)/(X4*AB-X3*AB)	<092>
3850 T=XY*(AW-X4*AB)+Y1sTl=XY*(BW-X4*AB)+Y
l:IF T<10 THEN T=10:AW=(T-Yl)/XY+X4*A
B	<216>
3860 IF Tl<10 THEN Tl=10:BW=(Tl-Yl)/XY+X4*
AB	<095>
3870 IF T>170 THEN T=170:AW=(T-Yl)/XY+X4*A
B	<109>
3880 IF Tl>170 THEN Tl=170:BW=(Tl-Yl)/XY+X
4*AB	<168>
3890 H.AW+ADJ TO BW+AD,T1	<087>
3900 IF A3=0 THEN 1810	<224>
3910 G0=0:KO=5000:FOR I=INT(AI*2)T0 AA	<141>
3920 IF K(I)>=G0 THEN G0=K(I):X1=I	<245>
3930 IF K(I)=<KO AND K(I)>0 THEN KO=K(I):X
3=1	<073>
3940 NEXT I:A3=0:WA=X2*AB:WB=290:AW=X4*AB:
BW=290	<208>
3950 GOTO 3740	<080>
3960 PRINT"<CLR,2D0WN,RED,13SPACE>B0ERSE":
UR=0	<007>
3970 PRINT"===============================
=========••	<032>
3980 PRINT:PRINT:PRINT"<GREY l,4SPACE,RVS0
NJF l<RVOFF,SPACE>= FRANKFURT"	<032>
3990 PRINT:PRINT"{4SPACE,RVS0N)F 3<RV0FF,S
PACE>= HANNOVER"	<078>
4000 PRINTzPRINT"<4SPACE,RVS0N>F 5<RV0FF,S
PACE}= HAMBURG"	<104 >
4010 PRINT:PRINT"<4SPACE,RVS0N>F 6<RV0FF,S
PACE>= DUESSELDORF"	<075>
4020 PRINT:PRINT"<4SPACE,RVS0N>F 7<RV0FF,S
PACE)= COMMERZBANK INDEX"	<168>
4030 PRINT:PRINT"<4SPACE,RVS0N>F 8<RV0FF,S
PACE>= UMSAETZE INSGESAMMT"	<231>
4040 GOSUB 4470:H315:H3:<-D320,200;ll:AT=IN
T(AA/12)+1:BB=F	<197>
4050 ON F GOTO 4070,4100,4130,4190,4160,42
60,4060	<054 >
4060 GOTO 3960	<030>
4070 MO=15:KL=500:GR=0:FOR 1=0 TO AA:INPUT
#	2,TA$,MO$,JA$,K(I),U(I),A$,A$,A$,A$,
A$,A$,A$	<129>
4080 GOSUB 4330:IF TS=64 THEN GOSUB 4820	<065>
4090 NEXT I:CLOSE 2:TE$=TE$+"FRANKFURT":G0
TO 4430	<234>
4100 MO=15:KL=500:GR=0:FOR 1=0 TO AA:INPUT
#	2,TA$,MO$,JA$,A$,A$,K(I),U(I),A$,A$, A$,A$,A$	<145>
4110 GOSUB 4330:IF TS=64 THEN GOSUB 4820	<097>
4120 NEXT I:CLOSE 2:TEt=TEt+"HANN0VER":G0T
0 4430	<222>
4130 MO=15:KL=500:GR=0:FOR 1=0 TO AA:INPUT
#	2,TA$,MO$,JA$,A$,A$,A$,A$,K(I),U(I),
A$,A$,A$	<235>
4140 GOSUB 4330:IF TS=64 THEN GOSUB 4820	<127>
4150 NEXT I:CLOSE 2:TEt=TEt+"HAMBURG":G0T0
4430	<144>
4160 MO=15:KL=500:GR=0:FOR I=0 TO AA:INPUT
#	2,TA$,MO$,JAt,A$,A$,A$,At,A$,A$,K(I)
,U(I),A$	<025>
4170 GOSUB 4330:IF TS=64 THEN GOSUB 4820	<157>
4180 NEXTI:CLOSE 2:TE$=TE$+"DUESSELD0RF":
GOTO 4430	<081>
4190 IF E<>2 AND AA>7 THEN:^T:GOTO 3960	<249>
4200 MO=15:KL=5000:GR=0:FOR 1=0 TO AA:INPU
T # 2 , T At, M0$ , J At, A , A , A, A , A, A , A, A, K (I)	< 13 4 >
4210 GOSUB 4330:IF TS=64 THEN GOSUB 4820	<197>
4220 NEXT I:CLOSE 2:TEt=ETt+"C0MMERZBANK I
NDEX":GRt=RIGHTt(STRt(GR),4):KLt=RIGH
Tt(STRt(KL),4)	<024>
4230 AC=160/(GR-KL):IF AA=4 AND AB=30 THEN
MTt=MNt:JRt=JHt:IF MM=0 THEN GOSUB 4
740:GOTO 4280	<121>
4240 IF AA=4 AND AB=30 THEN GOSUB 4550:GOT
0 4280	<248>
4250 RETURN	<244>
4260 IF E<>3 AND AA<>4 AND AB<>30 THEN:H:
GOTO 3960	<103>
4270 IF AB=30	AND AA=4 THEN 4200	<028>
4280 MO=15:UR=0:FOR 1=0 TO AA:INPUT#2,TAt,
M0t,JAt,A,Ul,A,U2,A,U3,A,U4,A:IF ST=6
4 THEN TS=64	<058>
4290 U(I)=Ul+U2+U3+U4		<037>
4300	GOSUB 4330:IF TS=64 THEN GOSUB 4820	<031>
4310	NEXT I:CLOSE 2:TEt=TEt+"INSGESAMT":IF AA=4 AND AB=30 THEN TEt="COM-IND/GES	
	.UM"	<018>
4320	GOTO 4440	<156>
4330	IF ST=64 THEN TS=64	<046>
4340	IF 1=0 THEN TGt=TAt	<099>
4350	IF I/AT=INT(I/AT)THEN:H=(AD+I*AB-8),1	
	80TAt	<208>
4360	IF VAL(MOt)<>MO AND I/AT=INT(I/AT)THE	
	N MO=VAL(MOt):^P(AD+I*AB-8),190MOt	<002>
4370	IF AB=30 AND AA=4 THEN:H=(190+I*AB-8)	
	,180TAt	<231>
4380	IF K(I)<=0 AND U(I)<=0 THEN RETURN	<000>
4390	IF K(I)>=GR THEN GR=INT(K(I))+1	<072>
4400	IF K(I)=<KL AND K(I)>0 THEN KL=lNT(K(	
	I))	<253>
4410	IF U(I)>=UR THEN UR=INT(U(I))	<123>
4420	RETURN	<160>
4430	GRt=RIGHTt(STRt(GR),3):KLt=RIGHTt(STR	
	t(KL),3):AC=160/(GR-KL)	<014>
4440	URt=RIGHTt(STRt(UR),5):AZ=160/UR:RETU	
	RN	<060>
4450	FRINT"<CLR,3D0WN,6SPACE>P R 0 G R A M	
	M - E N D E"	<125>
4460	CLOSE 2:CL0SE 15:^E:PRINT"{3D0WN>":EN	
	D	<006>
4470	F=0:GET Ft:IF Ft=""THEN 4470	<223>
4480	F=ASC(Ft)-132:IF F=7 OR F=8 THEN F=F-	
		<127>
4490	IF F<1 OR F>6 THEN 4470	<077>
4500	RETURN	<240>
4510	REM 	 EINLESEN DER DATEIEN 		<233>
4520	PRINT:INPUT"{2SPACE)TAG";TGt:PRINT:IN PUT"<2SPACE>M0NAT";MT:PRINT:INPUT"{2S	
	PACE>JAHR";JR:MTt=STRt(MT)	<044>
4530	JRt=STRt(JR):IF AE=7 THEN RETURN	<025>
4540	GOTO 4580	<011>
4550	GOSUB 4740:IF AE=5 THEN RETURN	<130>
4560	FOR 1=1 TO MM:INPUT#2,TAt,M0t,JAt,A,A	
	,A,A,A,A,A,A,A	<173>
4570	NEXT I:RETURN	<196>
4580	I=0:GOSUB 4740:IF TGt="00"THEN 4620	<227>
4590	INPUT#2,TAt,A,A,A,A,A,A,A,A,A,A,A:I=I	
	+ 1	<086>
4600	IF TGt=TAtTHEN 4620	<053>
4610	IF ST<>64 THEN 4590	<197>
4620	CLOSE 2	<067>
4630	IF I>AF THEN MM=I-AF:GOTO 4550	<0B5>
4640	IF I=AF THEN MM=0:GOSUB 4740:RETURN	<180>
4650	IF I<AF THEN MB=AF-I:IF VAL(MTt)=ME A ND VAL(JRt)=JE THEN AA=AA-MB:MM=0:GOS	
	UB 4740:RETURN	<176>
4660	MTt=STRt(VAL(MTt)-l):IF VAL(MTt)=0 TH	
	EN MTt=" 12":JRt=STRt(VAL(JRt)-l)	<109>
4670	I=0:GOSUB 4740	<066>
4680	INPUT#2,TAt,A,A,A,A,A,A,A,A,A,A,A:I=I	
	+ 1	<178>
4690	IF ST<>64 THEN 4680	<013>
4700	CLOSE 2:IF MB<I THEN MM=I-MB:GOTO 455	
	0	<012>
4710	IF MB=I THEN MM=0:GOSUB 4740:RETURN	<223>
4720	IF MB>I THEN MB=MB-I:IF VAL(MTt)=ME A ND VAL(JRt)=JE THEN AA=AA-MB:MM=0:GOS	
	UB 4740:RETURN	<238>
4730	GOTO 4660	<154>
4740	IF A1=0 THEN PRINT"<H0ME>"SPC(33)"<RE D,RVSON>WARTEN<RVOFF,GREY l>":FOR A=1	
	TO 10:PRINT:PRINT:NEXT A	<148>
4750	OPEN 2,8,2,KAt+"-AKTIE"+MTt+JRt+",S,R	
	":GOSUB 5070:RETURN	<191>
4760	1=0:MTt=STRt(ME):JRt=STRt(JE):GOSUB 4	
	740	<014>
4770	INPUT#2,A,A,A,A,A,A,A,A,A,A,A,A:I = I + 1	<136>
4780	IF ST<>64 THEN 4770	<095>
4790	CLOSE 2:IF VAL(MTt)=ML AND VAL(JRt)=J L THEN AA=I-l:MTt=STRt(ME);JRt=STRt(J	
	E):GOSUB 4740:RETURN	<225>
4800	MTt=STRt(VAL(MTt)+1):IF MTt=" 13"THEN	
	MTt=" 1":JRt=STRt(VAL(JR$)+1)	<216>
4810	GOSUB 4740:GOTO 4770	<112>
4820	TS=0:IF I=AA THEN RETURN	< 111 >
4830	CLOSE 2	<021>
Listing. Aktien-Manager. Bitte beachten Sie die Eingabehinweise auf Seite 6. (Fortsetzung)
151
Statistik
C64
					
4840	MT$=STR$(VAL(MT$)+l):IF VAL(MT*)=13 T				<204>
	HEN MT$=" 1"sJR$=STR$(VAL(JR$)+1)	<055>	5320	FOR 1=0 TO AAsINPUT#2,TA$,M0$,JA$,KF,	
4850	GOSUB 4740:RETURN	<157>		UF,KH,UH,KB,UB,KD,UD,CIaIF ST=64 THEN	
4860	^T:REM 	 FEHLER 		<225>		TS=64	<077>
4870	IF PEEK(52000)=4 THEN PRINT"NICHT MOE		5330	PRINT#4,TA$".”M0$“.”JA$;sKF$=STR$(INT	
	GLICH! (ANDERE DISK EINLEGEN!)*'sGOTO			(KF))s FK$=STR$(KF)s LL=LEN(FK$)-LEN(KF	
	1000	<097>		$)	<004>
4880	IF PEEK(52000)=20 THEN PRINTsPRINT"NI		5340	IF LL>3 THEN LL=3	<116>
	CHT MOEGLICH!"sGOTO 1000	<125>	5350	PRINT#4,SPC(5-LEN(KF$))LEFT$(FK$,LEN(	
4890	IF PEEK(52000)=5 THEN PRINTsPRINT"DRU			KF$)+LL)RIGHTI(FI$,(3-LL));	<035>
	CKER/FLOPPY NICHT EINGESCHLATET!"sGOT		5360	KH$=STR$(INT(KH))s HK$=STR$(KH)s LL=LEN	
	0 1000	<027>		(HK$)-LEN(KH$)sIF LL>3 THEN LL=3	<067>
4900	PRINT:PRINT”FEHLER”PEEK(52000)"IN"PEE		5370	PRINT#4,SPC(5-LEN(KH$))LEFT$(HK$,LEN(	
	K(52001)+256*PEEK(52002):GOTO 1000	<006>		KH$)+LL)RIGHT$(FI$,(3-LL));	<077>
4910	INPUT#15,FE,FE$	<232>	5380	KB$=STR$(INT(KB))s BK$=STR$(KB)s LL=LEN	
4920	IF FE=0 THEN RETURN	<213>		(BK$)-LEN(KB$)sIF LL>3 THEN LL=3	<112>
4930	IF FE=62 THEN ME=VAL(MO$)sJE=VAL(JA$)		5390	PRINT#4,SPC(5-LEN(KB$))LEFT$(BK$,LEN(	
	:INPUT”<2D0WN,2SPACE>FIRMA=";NA$sCLOS			KB$)+LL)RIGHT$(FI$,(3-LL));	<033>
	E 2:G0T0 600	<199>	5400	KD$=STR$(INT(KD))s DK$=STR$(KD)s LL=LEN	
4940	IF FE=74 THEN PRINT"{2DOWN>FLOPPY EIN			(DK$)-LEN(KD$)sIF LL>3 THEN LL=3	<040>
	SCHALTEN / DISK EINLEGEN!"sCLOSE 2:IN		5410	PRINT#4,SPC(5-LEN(KD$))LEFT$(DK$,LEN(	
	PUT F$:GOTO 590	<089>		KD$)+LL)RIGHT$(FI$,(3-LL));	<075>
4950	PRINT:PRINT"DISK-FEHLER NR.:”FE": ”FE		5420	UF=INT(UF)sUH=INT(UH)sUB=INT(UB)sUD=I	
	$:GOTO 1000	<052>		NT(UD)s UG=UF+UH+UB+UDs A=9	<057>
4960	INPUT#15,FE,FE$	<026>	5430	PRINT#4,SPC(A-LEN(STR$(UF)))UF SPC(6-	
4970	IF FE=0 THEN RETURN	<007>		LEN(STR$(UH)))UH SPC(6-LEN(STR$(UB)))	
4980	^TsCLOSE 2:IF FE=62 THEN OPEN 2,8,2,K			UB;	<082>
	A$+"-AKTIE"+MO$(1)+JA$(1)+”,S,W”:GOTO		5440	PRINT#4,SPC(6-LEN(STR$(UD)))UD SPC(6-	
	610	<018>		LEN(STR^(UG)))UG	<017>
4990	IF FE=72 THEN 650	<252>	5450	IF TS=64 THEN TS=0sGOSUB 4820	<202>
5000	IF FE=74 THEN PRINTsPRINT"FLOPPY EINS		5460	NEXT I=CLOSE 2	<021>
	CHALTEN / DISK EINLEGEN!":INPUT F$:GO		5470	IF DD>2.6 THEN PRINT#4sPRINT#4,SPC(20	
	TO 590	<033>		)”<2SPACE>TENDENZs STARK STEIGEND”s GO	
5010	PRINT:PRINT"DISK-FEHLER NR.:"FE”s ”FE			TO 5510	<113>
	$sGOTO 1000	<112>	5480	IF DD>1.3 THEN PRINT#4sPRINT#4,SPC(20	
5020	INPUT#15,FE,FE$	<086>		)"<2SPACE>TENDENZs LEICHT STEIGEND"sG	
5030	IF FE=0 THEN RETURN	<067>		OTO 5510	<061>
5040	IF FE=62 THEN PRINT"<DOWN>DATEI NICHT		5490	IF DD<-2.6 THEN PRINT#4sPRINT#4,SPC(2	
	AUF DISK! ANDERE EINLEGEN!"sINPUT F$			0)”<2SPACE>TENDENZs STARK FALLEND”s GO	
	:CLOSE 2:G0T0 180	<137>		TO 5510	<029>
5050	IF FE=74 THEN PRINT'*{2D0WN>FL0PPY EIN		5500	IF DD<-1.3 THEN PRINT#4sPRINT#4,SPC(2	
	SCHALTEN / DISK EINLEGEN!":CLOSE 2sIN			0)”<2SPACE>TENDENZs LEICHT FALLEND”	<153>
	PUT F$:GOTO 180	<070>	5510	PRINT#4sPRINT#4,SPC(20);	<082>
5060	PRINT:PRINT"DISK-FEHLER NR.:”FE": ”FE		5520	GR$=STR$(INT(GR))s RG$=STR$(GR)s LL=LEN	
	$:GOTO 1000	<162>		(RG$)-LEN(GR$)sIF LL>3 THEN LL=3	<232>
5070	INPUT#15,FE,FE$	<136>	5530	PRINT#4,”<2SPACE>HOECHSTKURSs”;	<096>
5080	IF FE=0 THEN RETURN	<117>	5540	PRINT#4,SPC(5-LEN(GR$))LEFT$(RG$,LEN(	
5090	^T:IF FE=62 THEN PRINTsPRINT"NICHT MO			GR$)+LL)RIGHT$(FI$,(3-LL));	<069>
	EGLICH'":JE=0:GOTO 1000	<204>	5550	PRINT#4," DM AM "TA$(l)".'*MO$(l)"."JA	
5100	PRINT s PRINT”DISK-FEHLER NR.s"FE”: ”FE			$(1)	<094>
	$:GOTO 1000	<202>	5560	PRINT#4,SPC(20);	<190>
5110	INPUT#15,FE,FE$	<176>	5570	KL$=STR$(INT(KL))8 LK$=STR$(KL)s LL=LEN	
5120	IF FE=0 THEN RETURN	<159>		(LK$)-LEN(KL$):IF LL>3 THEN LL=3	<092>
5130	IF FE=62 THEN CLOSE 2:G0T0 600	<229>	5580	PRINT#4,"<2SPACE>TIEFSTKURS :”;	<125>
5140	PRINT s PRINT”DISK-FEHLER NR.s”FE": ”FE		5590	PRINT#4,SPC(5-LEN(KL$))LEFT$(LK$,LEN(	
	$:GOTO 1000	<244>		KL$)+LL)RIGHT$(FI$,(3-LL));	<087>
5150	INPUT#15,FE,FE$	<218>	5600	PRINT#4," DM AM "TA$(2)".*'M0$(2)"."JA	
5160	IF FE=0 THEN RETURN	<199>		$(2)	<020>
5170	IF FE=62 THEN CLOSE 2sME=VAL(MT$)sJE=		5610	PRINT#4,SPC(20)”<2SPACE>GESAMTUMSAETZ	
	VAL(JR$)s ML=MEsJL=JEs GOTO 6340	<033>		Es”UI”STUECK”	<172>
5180	PRINT s PRINT”DISK-FEHLER NR.:”FE"s ”FE		5620	CLOSE 4sDR=0sGOTO 1660	<225>
	$:GOTO 1000	<028>	5630	PRINT”{CLR,2D0WN,2SPACE >KURSE AENDERN	
5190	PRINT”<HOME}"SPC(33)”<RVSON,RED>WARTE N{RVOFF,GREY l>":FOR A=1 TO 10sPRINTs			”s PRINT"=============================	
					<117>
			5640	PRINT:PRINT:PRINT"{2SPACE)DATUM DER A	
	PRINTsNEXT A=OPEN 2,8,2,KA$+"-AKTIE,S				
	,R”sGOSUB 5020	<239>		ENDERUNG EINGEBENs”	<153>
5200	INPUT#2,ME,JE,ML,JL,NA$	<202>	5650	AF=lsAE=5sG0SUB 4520	<055>
5210	Z=lsCLOSE 2sAE=0sRETURN	<110>	5660	OPEN 3,8,3,"@sAEND,S,W"sIF MM=0 THEN	
5220	REM 	 DRUCKERZAHLENAUSGABE 		<254>		5700	<184>
5230	PRINT#4,”<28SPACE >”NA$”-AKTIE”	<135>	5670	FOR 1=1 TO MMsINPUT#2,TA$,M0$,JA$,KF,	
5240				UF,KH,UH,KB,UB,KD,UD,CI PRINT#3,TA$ s PRINT#3,MO$ s PRINT#3,JA$ s P RINT#3,KF s PRINT#3,UF s PRINT#3,KH	<112>
		<181>	5680		
5250					<175>
	। xI	j	—							5690		
		<072>		PRINT#3,UH s PRINT#3,KB s PRINT#3,UB s PRIN	
5260	PRINT#4,SPC(35)ET$s PRINT#4,SPC(20)”KA			T#3,KD s PRINT#3,UD s PRINT#3,CIs NEXT I	<177>
	SSAKURSE";	<032>	5700	INPUT#2,TA$,M0$,JA$,KF,UF,KH,UH,KB,UB	
5270	PRINT#4,SPC(21)”UMSAETZE IN STUECK"	<017>		,KD,UD,CI:IF ST=64 THEN 1=2	<181>
5280	PRINT#4sPRINT#4,"<2SPACE>DATUM<3SPACE		5710	GOSUB 580	<226>
>FRANKF{3SPACE>HANN<4SPACE>HAMB <3SPAC			5720	PRINT#3,TA$s PRINT#3,MO^ s PRINT#3,JA$s P	
	E)D'DORF";	<127>			RINT#3,KF s PRINT#3,UF s PRINT#3,KH	<215>
5290 PRINT#4,"<4SPACE>FRAN.<2SPACE>HANN.€2			5730	PRINT#3,UH s PRINT#3,KB s PRINT#3,UB s PRIN	
SPACE)HAMB.<2SPACE>D'DF.<2SPACE>INSG.				T#3,KD s PRINT#3,UD s PRINT#3,CI	<078>
	1	<	C075>	5740	IF 1=2 THEN 5790	<109>
5300 PR I NT#4 , " äÄiS&SJLÖÜ^^			5750	INPUT#2,TA$,M0$,JA$,KF,UF,KH,UH,KB,UB	
	SÄÄ&SÄÄÄÄÄdtS’';	<000>			,KD,UD,CIsIF ST=64 THEN 1=3	<007>
। 5310 PR I NT#4,11			5760	PRINT#3,TA$s PRINT#3,MO$ s PRINT#3,JA$s P	
152
C64
Statistik
5770
5780
5790
5800
5810
5820
5830
5840
5850
5860
5870
5880
5890
5900
5910
5920
5930
5940
5950
5960
5970
5980
5990
6000
6010
6020
6030
6040
6050
6060
6070
6080
6090
6100
6110
6120
6130
6140
6150
6160
6170
6180
6190
6200
RINT#3,KF:PRINT#3,UF:PRINT#3,KH	<255>
PRINT#3,UH s PRINT#3,KB:PRINT#3,UB s PRIN
T#3,KD:PRINT#3,UD:PRINT#3,CI	<118>
IF I<>3 THEN 5750	<064>
CLOSE 3:CL0SE 2:I=0:AE=l:PRINT#15,"S: "+KA$+"-AKTIE'*+MT$+JR$	<081>
PRINT#15,”R:"+KA$+"-AKTIE"+MT$+JR$”=A
END”	<100>
GOTO 180	<022>
PR INT •’ {CLR , 2D0WN, 2SPACE>KURSE EINFUEG
EN":PRINT”=========================== ============= ••	<059>
PRINT:PRINT" <2SPACE>DATUM EINGEBEN: ”:
AE=7:G0SUB 4520:MM=1	<199>
GOSUB 4740:1=0	<099>
INPUT#2,TA$,M0$,JA$,A,A,A,A,A,A,A,A,A :I=I+1	<088>
IF TG$=TA$THEN CLOSE 2:PRINT:PRINT”£2 SPACE>DATUM SCHON VORHANDEN!":GOTO 10 00	<038>
IF VAL(TA$)>VAL(TG$)THEN I=I-l:GOTO 5 910	<253>
IF ST<>64 THEN	5850	<159>
IF VAL(JR$)=JL AND VAL(MT$)=ML THEN P RINT:PRINT*'<2SPACE>KURSE NORMAL EINGE
BEN!":GOTO 1000	<008>
MM=0	<010>
CLOSE 2:OPEN 3,8,3,"®:AEND,S,W”:G0SUB 4740:IF 1=0 THEN 5950	<219>
FOR T=1 TO I:INPUT#2,TA$,M0$,JA$,KF,U
F,KH,UH,KB,UB,KD,UD,CI:PRINT#3,TA$ <035>
PRINT#3,MO$:PRINT#3,J A$:PRINT#3,KF:PR INT#3,UF:PRINT#3,KH:PRINT#3,UH:PRINT# 3,KB aPRINT#3,UB	< 097 >
PRINT#3,KD:PRINT#3,UD:PRINT#3,CI:NEXT
T	<178>
TA$=TG$:AE=5:E=0:GOSUB 480:1=0	<038>
PRINT#3,TA$:PRINT#3,MO$:PRINT#3,JA$:P RINT#3,KF:PRINT#3,UF:PRINT#3,KH:PRINT #3,UH:PRINT#3,KB:PRINT#3,UB	<212>
PRINT#3,KD:PRINT#3,UD:PRINT#3,CI:IF M
M=0 THEN 6010	<028>
INPUT#2,TA$,M0$,JA$,KF,UF,KH,UH,KB,UB ,KD,UD,CI:IF ST=64 THEN 1=2	<207>
PRINT#3,TA$:PRINT#3,MO$:PRINT#3,JA$:P
RINT#3,KF:PRINT#3,UF:PRINT#3,KH:PRINT
#3,UH:PRINT#3,KB	<129 >
PRINT#3,UB:PRINT#3,KD:PRINT#3,UD:PRIN T#3,CI:IF I<>2 THEN 5980	<100>
CLOSE 2:CL0SE 3:AE=l:I=0:PRINT#15,*'S:
”+KA$+"-AKTIE"+MT$+JR$:GOTO 5800	< 014 >
GOTO 180	<234>
PRINT”{CLR,2D0WN,9SPACE)UEBERSPIELEN"
: PR I NT " ===================================== ===”	<073>
PRINT:INPUT"EIN ODER ZWEI LAUFWERKE ( l/2)";F	<076>
IF F<>1 AND F<>2 THEN 6040	<094>
PRINT:PRINT"{2SPACEIWELCHEN MONAT UEB
ERSPIELEN:”:PRINT:PRINT:INPUT"<2SPACE >MONAT:";MT	<114>
PRINT:INPUT”{2SPACE>JAHR:";JR:MT$=STR $(MT):JR$=STR$(JR)	<042>
IF F=1 THEN 6190	<006>
PRINT:PRINT:PRINT"ZWEITE DISKETTE IN ANDERS LAUFWERK LEGEN!":INPUT F$	<190>
GOSUB 4740:OPEN 3,9,3,KA$+"-AKTIE"+MT $+JR$+”,S,W”	<246>
INPUT#2,TA$,M0$,JA$,KF,UF,KH,UH,KB,UB ,KD,UD,CI	<249>
PRINT#3,TA$:PRINT#3,MO$:PRINT#3,JA$:P
RINT#3,KF:PRINT#3,UF:PRINT#3,KH	<105 >
PRINT#3,UH:PRINT#3,KB:PRINT#3,UB:PRIN
T#3,KD:PRINT#3,UD:PRINT#3,CI	<224>
IF ST<>64 THEN 6110	<049>
CLOSE 3:CL0SE 2:OPEN 3,9,3,KA$+”-AKTI
E,S,R”:GOSUB 5150	<118>
INPUT#3,ME,JE,ML,JL,NA$:CLOSE 3:GOTO 6310	<135>
OPEN 3,9,3,”®:"+KA$+"-AKTIE,S,W":PRIN
T#3,ME:PRINT#3,JE:PRINT#3,ML	< 202>
PRINT#3,JL:PRINT#3,NA$:CL0SE 3:G0T0 1 80	<255>
GOSUB 4740:I=0	<197 >
INPUT#2,TA$(I),MO$(I),JA$(I),K(I),U(I ),K(I+50),U(I+50),K(I+100),U(I+100)	<217>
6210 6220	INPUT#2,K(I+150),U(I+150),K(I+200) I=I+l:IF ST<>64 THEN 6200	<250> <067>
6230	CLOSE 2:PRINT:PRINT"ZWEITE DISK EINLE	
	GEN!”:INPUT F$	<051>
6240	OPEN 2,8,2,KA$+”-AKTIE"+MT$+JR$+",S,W	
		<005>
6250	FOR T=0 TO I-l:PRINT#2,TA$(T):PRINT#2	
	,MO$(T):PRINT#2,JA$(T):PRINT#2,K(T)	<095>
6260	PRINT#2,U(T):PRINT#2,K(T+50):PRINT#2, U(T+50):PRINT#Z,K(T+100):PRINT#2,U(T+	
	100)	<217>
6270	PRINT#2,K(T+150):PRINT#2,U(T+150):PRI	
	NT#2,K(T+200)	<150>
6280	NEXT T:CLOSE 2	<167>
6290	OPEN 2,8,2,KA$+"-AKTIE,S,R":G0SUB 515	
	0	<091>
6300	INPUT#2,ME,JE,ML,JL,NA$:CL0SE 2	<097>
6310	IF(VAL(JR$)=JE AND VAL(MT$)<ME)OR VAL (JR$)<JE THEN ME=VAL(MT$):JE=VAL(JR$)	
	:GOTO 6340	<054>
6320	IF(VAL(JR$)=JL AND VAL(MT$)>ML)OR VAL (JR$)>JL THEN ML=VAL(MT$):JL=VAL(JR$)	
	:GOTO 6340	<145>
6330	GOTO 180	<034>
6340	IF F=2 THEN 6170	<040>
6350	OPEN 2,8,2,”®:"+KA$+"-AKTIE,S,W":PRIN	
	T#2,ME:PRINT#2,JE:PRINT#2,ML	<133>
6360	PRINT#2,JL:PRINT#2,NA$:CL0SE 2:G0T0 1	
	80	<168>
6370	REM 	 DATEI PRUEFEN 		<121>
6380	OPEN 2,8,2,KA$+"-AKTIE":G0SUB 4910	<092>
6390	INPUT#2,ME,JE,ML,JL,NA$:CL0SE 2	<187>
6400	IF VAL(JA$(l))<JL OR(VAL(JA$(l))=JL A	
	ND VAL(MO$(1))< ML)THEN 6470	< 128>
6410	OPEN 2,8,2,KA$+"-AKTIE"+MO$(1)+JA$(1)	
	+”,S,R”:GOSUB 5110	<093>
6420	INPUT#2,TG$,MT$,JR$,A,A,A,A,A,A,A,A,A	<169>
6430	IF TG$=TA$THEN CLOSE 2:PRINT:PRINT"DA	
	TUM VORHANDEN!":GOTO 780	<141 >
6440	IF VAL(TG$)>VAL(TA$)THEN CLOSE 2:GOTO	
	6470	<074>
6450	IF ST<>64 THEN 6420	<147>
6460	CLOSE 2:G0T0 600	<042>
6470	PRINT:PRINT”£2SPACE>SPAETERES DATUM S CHON VORHANDEN! KURSE EINFUEGEN!'*:GOT	
	0 780	<204>
6480	REM 	 HOECHST-TIEFST-KURSE 		<199>
6490	KL=500:GR=0:UI=0:GF=0:GH=0:GB=0:GD=0:	
	MF=500:MH=500:MB=500:MD=500	<153>
6500	IF VAL(JR$)=JE THEN MT$=STR$(ME):GOSU	
	B 4740:GOTO 6520	<032>
6510	MT$=" l*':GOSUB 4740	<161>
6520	INPUT#2,TA$,MO$,JA$,KF,UF,KH,UH,KB,UB	
	,KD,UD,A$	<254>
6530	DR=l:GOSUB 1240:DR=0	<042>
6540	IF ST<>64 THEN 6520	<245>
6550	CLOSE 2:IF VAL(JR$)=JL THEN IF VAL(MT	
	$)=ML THEN RETURN	<024>
6560	IF MT$=" 12"THEN RETURN	<050>
6570	MT$=STR$(VAL(MT$)+1):GOSUB 4740:GOTO	
	6520	<024>
6580	REM 	 DIRECTORY 		<245>
6590	OPEN 1,8,4,”#”:NT=18:NS=1	<158>
6600	PRINT#15,"B-R:”;4;0;NT;NS:PRINT#15,”B	
	-P:";4;0	<018>
6610	GET#1,NT$,NS$:IF NT$=""THEN 6630	<161>
6620	NT=ASC(NT$):NS=ASC(NS$)	<079>
6630	FOR T=0 TO 7:PRINT#15,”B—P:";4;T*32+2 :GET#l,FT$:IF FT$=””AND NT$=""THEN CL	
	OSE l:RETURN	<193>
6640	IF FT$=””THEN NEXT T:GOTO 6600	<049>
6650	IF ASC(FT$)<>129 THEN NEXT T:GOTO 660	
	0	<104>
6660	GET#l,A$,A$	<015>
6670	A$="":FOR TT=3 TO 19:GET#l,B$:IF B$="	
	{SHIFT-SPACE)"THEN 6690	<200>
6680	A$=A$+B$:NEXT TT	<120>
6690	IF RIGHT$(A$,6)O”—AKTIE"THEN NEXT T:	
	GOTO 6600	<147>
6700	PRINT"{2SPACE)"A$:NEXT T:GOTO 6600	<242>
© G4'er
Listing. Aktien-Manager (Schluß)
153
Statistik
C64
Wahlhochrechnung
Da wird selbst die trockenste Bundestagswahl zum interessanten Erlebnis. Aber auch bei Schulwahlen und Clubsitzungen leistet dieses Programm wertvolle Dienste.
Wenn die Fernsehanstalten ARD und ZDF am Wahlsonntagabend ab 18 Uhr ihre Hochrechnungsschlacht austragen, kann man mit diesem Programmlisting endlich mitmischen. Durch die Mittelwertbildung aus den letzten beiden Hochrechnungen werden wahrscheinlich genauere Ergebnisse erzielt, als wenn die Hochrechnungen der beiden Sender nur getrennt betrachtet werden. Außerdem können mit diesem Programm das alte Ergebnis, die eingegebenen Hochrechnungen und das Endergebnis abgespeichert und als Grafik auf Bildschirm oder Drucker ausgegeben werden.
Die aus dem Fernsehen bekannten drei zur Verfügung stehenden Balkengrafiken sind zwar nicht dreidimensional, zeichnen sich aber dafür (oder gerade deshalb) durch gute Ables- und Vergleichbarkeit aus.
Die Eingabe der Hochrechnungen von ARD und ZDF erfolgt in Echtzeit, also genau zu dem Zeitpunkt, zu dem sie auch im Fernsehen gezeigt werden. Dazu läuft die Uhr des Computers sichtbar mit.
Die Grafik-Erweiterung (Beachten sie den Artikel Grafik-DCopy in dieser Ausgabe) zu diesem Programm erlaubt es, daß trotz der hohen Auflösung von 320x200 Punkten die einzelnen Parteien in verschiedenen Farben dargestellt werden können. Auch die Hintergrundfarbe der Grafiken kann im Programm durch Ändern des Wertes hinter dem Befehl —G (siehe Anleitung zur Grafik-DCopy in dieser Ausgabe) geändert werden.
Diese Grafik-Erweiterung wird am Programmanfang in den Bereich $C000 bis $C568 geladen. Auch die Druckerroutine für den Grafikausdruck sollte in den Bereich $C700 bis $C800 geladen werden (beide Erweiterungen finden Sie in einem eigenen Artikel in dieser Ausgabe). Einen anderen Bereich in Page 12 läßt die Grafik-Erweiterung nicht zu. Allerdings kann die Routine auch im oberen Bereich des Basic-RAMs gespeichert werden, nur muß sie dann vor Überschreiben geschützt sein (als Beispiel wird in dem aufgelisteten Programm die Routine »DCOPY« für einen MPS-802 Drucker geladen und gestartet!).
Das Wahlhochrechnungsprogramm berechnet nach jeder Eingabe der Hochrechnungs-Prozentzahlen den Mittelwert zwischen den letzten zwei Hochrechnungen und auf Wunsch auch die zu den Prozentzahlen proportionale Sitzverteilung. Damit wird die Wahrscheinlichkeit erhöht, daß schon eine frühe Hochrechnung mit dem Endergebnis übereinstimmt.
Zur Darstellung der Werte stehen drei Balken-Grafiken zur Verfügung: Prozente alt und neu (Bild 1), Gewinn und Verlust (Bild 2), neue Sitzverteilung mit Vergleich zur alten (Bild 3). Durch einen Trick können trotz der hohen Auflösung mehrere Farben in derGrafikdargestelltwerden. Zum Ausdrucken des Grafik-Bildschirms wird eine druckerspezifische Routine im Bereich $C700 bis $0800 oder im oberen Bereich des Basic-RAMs benötigt (der Grafikspeicher liegt im Bereich $E000 bis $FFFF). Die im Programm geladene und gestartete Routine ist als Beispiel zu verstehen.
Nun noch einige Bedienungshinweise zum Programm.
Nachdem noch einmal eine kurze Bedienungsanleitung gezeigt wird, wird gefragt, ob alte schon abgespeicherte Wahldateien betrachtet und ausgewertet werden sollen, oder eine neue Wahlhochrechnung angefangen wird.
Soll eine alte Datei geladen werden, muß zuerst der Wahlname eingegeben werden (kann auch mit»*« abgekürzt werden). Dann erscheint eine Auflistung der verschiedenen Hochrechnungen mit Nummern. Paßt die ganze Liste nicht auf den Bildschirm, wird die Auflistung erst einmal angehalten und kann durch Drücken der Space-Taste wieder gestartet werden. Soll eine Hochrechnung zur grafischen Darstellung ausgewählt werden, muß die davorstehende Zahl mit beiden Stellen eingegeben werden (ohne RETURN). Zu dieser Auflistung kommt man auch, wenn man bei der Real-Time-Hochrechnungseingabe »G« für Grafik drückt.
Allgemein muß bei der Eingabe von Prozentzahlen beachtet werden, daß die vorgegebene Stelle des Punktes und des Prozent-Zeichens nicht verändert wird. Auch die Nullen darf man nicht löschen, wenn sie nicht gebraucht werden.
Bei der Eingabe der alten Sitzverteilung dürfen Überhangmandate nicht mit eingegeben werden. Natürlich müssen die Verhältnisse der Sitze mit denen der Prozentzahlen übereinstimmen, da der Computer sonst nicht richtig rechnet. Er berechnet die Sitze nämlich nur nach dem Verhältniswahlrecht aus den Zweitstimmen (wie die anderen Hochrechnungscomputer auch). Deshalb können sich kleinere Abweichungen zum Endergebnis ergeben, auch wenn die Prozentzahlen übereinstimmen.
19.48.34 2W«®ECHHUHG COM
CDU SPD FDP GRUENE ANDERE 81 43.8 X	41.8 X	7.5	X	8.8	X	8.5 X
85 41.3 X	42.6 X	8.1	X	7.8	X	8.7 X
58----------------------------------------
HEITER MIT TASTE (A=AUSDRUCK)
Bild 1.Vergleich: Zwei Bundestagswahlen in Prozenten
19.46.34 $ERsucHRECHHÜHG	C 0 M
CDU SPD FDP GRUENE ANDERE 81 43.6 X	41.8	X	7.5	X	8.8	X	8.5	X
85 41.3 X	42.6	X	8.1	X	7.8	X	8.7	X
GENINN * VERLUST <XPUNKTE)
-1.7	+1.5	+8.6	-1	+8.2
HEITER MIT TASTE (A=AUSDRUCK)
Bild 2. Darstellung von gewonnenen, beziehungsweise verlorenen Stimmen in Prozentzahlen
19.46.34 uERsucHRECHHUH6 COM
ftNDERE
8.7 X
8 8
Bild 3. Die auf den Prozentzahlen basierende Sitzverteilung
154

C64
Statistik
Da der C 64 keine Grafikbefehle hat, muß auf eine Maschinensprache-Erweiterung zurückgegriffen werden. Diese wird mit einem Monitor oder mit dem MSE ab $C000 eingegeben und danach als »GRAFIK-E/MS« abgespeichert.
Nun kann das Basic-Programm abgetippt, gespeichert und gestartet werden. Es lädt dann zuerst die Erweiterung und die mögliche Drucker-Routine.
Nach dem Programmabbruch mit der STOP-Taste darf das Programm nicht wieder ganz von vorne gestartet werden, ohne vorher die Erweiterung mit ^E auszuschalten!
(Björn Fiethe/aw)
100 REM --- GRAFIKERWEITERUNG LADEN --- <156>
110 IF A=0 THEN A=l:L0AD"GRAFIK-E/MS",8,l <167>
120 REM --- DRUCKERSPEZIFISCHES PROGRAMM
IM BEREICH $C700-$CB00	<217>
130 REM ZUM AUSDRUCK DES HRG-BILDSCHIRMS WIRD GELADEN ---------------------------- <189>
140 IF	A=1 THEN A=2:L0AD"DC0PY",8,l	<152>
150 SYS 49152:REM --- ERWEITERUNG STARTEN <104>
160 DIM AS$(50),AS(50),CD(50),CD$(50),SP(5
0),SP$(50),GR(50),GR$(50),AN(50)	<239>
170 DIM AN$(50),ZE$C50),SU(50),SD(50),SF(5
0),SA(50),SE(50),FD$(50),FD(50)	<094>
180 I=0:OPEN 15,8,15	<190>
190 POKE 53280,0:POKE 53281,0:PRINT"<CLR,O
RANGE,3SPACE>W A H L H 0 C H R E C H N U N G"	<094>
200 PRINT H{3SPACE}======================== ======="	<083>
210 PRINTsPRINT”<RED,RVSON>BEDIENUNGSANLEI TUNG:<RVOFF>"
220 PRINT:PRINT"{RED>-AUSWERTUNG:{SPACE,GR EY l>ABGESPEICHERTE HOCHRECHNUN-";
230 PRINT"{3SPACE)GEN KOENNEN WIEDER EINGE LESEN WERDEN.";
240 PRINT"<RED>-EINGABE DER ALTEN WAHLERGE BNISSE."
250 PRINT"-AUSWAHL UND UHRZEIT:<SPACE,ORAN GE)"
260 PRINT"<3SPACE><H>=<GREY l>EINGABE EINE R HOCHRECHNUNG"
270 PRINT"{7SPACEJ(AUCH STELLE NACH . AUSF UELLEN!)
280 PRINT"<7SPACE>(WENN SITZVERTEILUNG NIC H EIGEGE-";
290 PRINT"{7SPACE)BEN WIRD, ERRECHNET COMP UTER SIE)";
300 PRINT"<0RANGE,3SPACE><E>=<GREY l>EINGA BE DES ENDERGEBNISSES"
310 PRINT"<8SPACE>(DANACH WERDEN ALLE EING EGEBENEN"
320 PRINT"<UP,9SPACE>WERTE ABGESPEICHERT!)
330 PRINT"<8SPACE>(WENN NOCH NICHT VORLIEG T, BEI"
340 PRINT"<9SPACE>CDU 0.0 7. EINGEBEN)
350 PRINT"<0RANGE,3SPACE><G>=<GREY l)AUSWA EHLEN AUS EINGEGEBENEN"
360 PRINT"<7SPACE>H0CHRECHNUNGEN."
370 PRINT"<7SPACE>(IMMER ZWEISTELLIGE ZAHL EINGEBEN";
380 PRINT"<8SPACE>Z.B. 01)"
390 PRINT"<REDJ-COMPUTERHOCHRECHNUNGEN:{SP ACE,GREY l>NACH JEDER"
400 PRINT"<3SPACE>EINGABE ERRECHNET COMPUT ER MITTELWERT";
410 PRINT"<BLUE,18SPACE,RVS0N>TASTE<2UP,RV OFF>"
420 POKE 198,0:WAIT 198,1
430 PRINT"{CLR,RED)"sPOKE 198,0
440 CLOSE laINPUT"<6D0WN,2SPACE>AUSWERTUNG (J/N) ";GG$
450 IF GG$="N"THEN 740
460 PRINT"{CLR>":IF DG=0 THEN GOSUB 4330
470 PRINT:PRINT"WELCHE HOCHRECHNUNG ?"
480 PRINT:PRINT:PRINT" 00)<13SPACE>ALTES E RGEBNIS"
490 FOR G=1 TO I:G$=STR$(G):IF G<10 THEN G $=" 0"+RIGHT$(G$,l)
500 PRINT"<DOWN,GREY l>"G$") "ZE$(G)"<4SPA CE>"AS(G)"<LEFT>.{3SPACE)"AS$(G)
510 IF G/10=INT(G/10)THEN POKE 198,0:WAIT
<078>
<132>
<103>
<110>
<171>
<071>
<206>
<030>
<133>
<012>
<166>
<213>
<067>
<096>
<201>
<219>
<127>
<077>
<185>
<108>
<138>
<138>
<238>
<120>
<019>
<150>
<083>
<048>
<134>
<093>
	198,l:GET G$(l):IF GlfDO" "THEN WAIT 198,l:GET G$(2):GOTO 540	<029>
520	NEXT G	<080>
530	POKE 198,0:WAIT 198,2:GET G$(l),G$(2)	<194>
540	TT=I:I=VAL(G$(l)+G$(2))	<114>
550 560	ZE$=ZE$(I):AS=AS(I):AS$=AS$(I):HO$=STR $(AS)+". HOCHRECHNUNG" IF 1=0 THEN HOS="ALTES ERGEBNIS"	<034> <122>
570	IF CD$(I)="*"THEN I=I-l:GOTO 3280	<047>
580	PRINT"{CLR)"	<060>
590	PRINT"<4D0WN,6SPACE>GRAFIKEN:"	<221>
600 610 620 630 640 650	PRINT:PRINT:PRINT"<5SPACE,RVSON)F1<RVO FF,SPACE)= SITZE" PRINT:PRINT"<5SPACE,RVSON)F3<RVOFF,SPA CE)= GEWINN/VERLUST" PRINT:PRINT"<5SPACE,RVSON)F5<RVOFF,SPA CE>= PROZENT" PRINT:PRINT"{5SPACE,RVSON >F7 <RVOFF,SPA CE>= WEITER" PRINT:PRINT"{5SPACE,RVSON >F8 <RVOFF,SPA CE>= ENDE" GET INIjIF IN^=""THEN 650	<005> <209> <191> <009> <136> <034>
660 670	IF IN*=CHR$(140)THEN IF GG$="J"THEN:^ :CLOSE 15:END IF IN$=CHR$(133)THEN GOSUB 1540	<162> <222>
680	IF IN$=CHR$(134)THEN GOSUB 2030	<106>
690	IF IN$=CHR$(135)THEN GOSUB 2630	<130>
700	IF IN$=CHR$(136)THEN 720	<210>
710	GOTO 580	<034>
720	I=TT:IF GG$="J"THEN 460	<208>
730	GOTO 1090	<195>
740 750	INPUT"<CLR,6D0WN,5SPACE>WAHLNAME (<16) :";WA$:IF LEN(WA*)>15 THEN 740 PRINT"<CLR,5D0WN,GREY 1>"	<241> <050>
760 770	PRINT"MOMENTANE UHRZEIT EINGEBEN (HHMM SS):":PRINT INPUT A*:IF LEN(A$)<>6 THEN 750	<134> <041>
780	C=56328	<234>
790	POKE C+7,PEEK(C+7)AND 127	<196>
800	POKE C+6,PEEK(C+6)0R 128	<210>
810	H=VAL(LEFT^(A$,2))	<014>
820	M=VAL(MID$(A$,3,2))	<227>
830	S=VAL(RIGHT$(A$,2))	<142>
840	IF H>23 THEN 750	<031>
850	IF H=12 THEN 870	<222>
860	IF H>11 THEN H=H+68	< 191 >
870	POKE C+3,16*INT(H/10)+H-INT(H/10)*10	<209>
880	IF M>59 THEN 750	<081>
890	POKE C+2,16*INT(M/10)+M-INT(M/10)*10	<106>
900	IF S>59 THEN 750	<149>
910	POKE C+1,16*INT(S/10)+S-INT(S/10)*10	<088>
920	POKE C,0	<222>
930 940	INPUT"<2D0WN,3SPACE>JAHR EINGEBEN:{2SP ACE}19 <2SPACE,6LEFT}";JA$:JA$=RIGHT*(J A$,2) PRINT"<CLR>"	<042> <166>
950	REM 	 ALTES ERGEBNIS 		<049>
960	EI=l:GOSUB 3070	<186>
970 980	PRINT"<RED,5D0WN,3SPACE>LETZTES WAHLER GEBNIS" PRINT:PRINT:PRINT"{3SPACE}"WA$	<123> <094>
990 INPUT"{0RANGE,2D0WN,3SPACE>V0N (JAHR): {2SPACE)19 C2SPACE,6LEFT}";DA$:DA$=RIGH T$(DA$,2) 1000 ZE$(0)=DA$:AS(0)=0:AS$(0)="ALT"		<123> <099>
1010 PRINT:INPUT"{BLUE,2SPACE >CDU= <3SPACE} 0.0 Z<8LEFT>";CD^(0):CD(0)=VAL(CD^(0) ) 1020 PRINT:INPUT"{RED,2SPACE>SPD={3SPACE)0 .0 %{8LEFT>";SP$(0):SP(0)=VAL(SP$(0)) 1030 PRINT:INPUT"<ORANGE,2SPACE>FDP= <3SPAC E>0.0 7.{8LEFT)";FD$(0) :FD(0)=VAL(FD$( 0) ) 1040 INPUT"<D0WN,GREEN,2SPACE>GRUENE=<3SPA CE>0.0 7.{8LEFT>";GR$(0) :GR(0)=VAL(GR$ (0) ) 1050 INPUT"<DOWN,WHITE,2SPACE >ANDERE= <3SPA CE>0.0 Z<8LEFT>";AN#(0):AN(0)=VAL(AN$ (0) ) 1060 BF=CD(0)+SP(0)+FD(0)+GR(0)+AN(0):IF B F<99 OR BF>101 THEN 950		<028> <248> <079> <107> <237> <018>
1070 PRINT:PRINT:INPUT"<RED,2SPACE>ALTE SI TZVERTEILUNG (J/N)";SV$:IF SV$="J"THE
Listing. »Wahlhochrechnung« - schneller als ARD und ZDF. Bitte verwenden Sie den Checksummer v. Seite 6.
155
Statistik
C64
					
	N GOSUB 3680	<054>		R$(INT(SG/2)),3)	<220>
1080	REM 	 EINGABE HOCHRECHNUNG 		<185>	1660	FP22,30,2,2;6"CDU"	<158>
1090	GOSUB 3070	<014>	1670	FP21,48CD$(I)	<228>
1100	IF G$="E"THEN 3280	<213>	1680	SQ=160/SG	<217>
1110	I=I+1:PRINT"{CLR,RED}":DG=1	<166>	1690	FOR T=185 TO 185-INT(SQ*SU(I))STEP-1:	
1120	PRINT"<6D0WN,5SPACE,RVSON>F1<RVOFF,SP			FL25,T TO 55,T:NEXT T	<159>
	ACE>= ARD”	<065>	1700	FP22,60 STR$(SU(I))	<154>
1130	PRINT 5 PRINT”<5SPACE,RVS0N>F3 <RVOFF,SP		1710	SU$=LEFT$(STR$(SU(I)-SU(0)),3):IF VAL	
	ACE>= ZDF"	<223>		(SU$)>0 THEN SUt="+"+MID$(SU$,2,2)	<100>
1140	GET IN$:IF IN$=""THEN 1140	<081>	1720	FP22,70SUT	<030>
1150	IF IN$=CHR$(134)THEN AS^="ZDF":AS=ZD+		1730	FP5,2,l,2;2ZE$(I)	<160>
	l:ZD=AS:GOTO 1180	<017>	1740	FP80,30,2,2"SPD"	<160>
1160	IF IN$=CHR$(133)THEN AS$="ARD":AS=AR+		1750	FP80,4BSP$(I)	<196>
	l:AR=AS:GOTO 1180	<00B>	1760	FOR T=185 TO 185-INT(SQ*SD_(I))STEP-1:	
1170	GOTO 1140	<238>		FLB0,T TO 110,T:NEXT T	<231>
1180	HO$=STR$(AS)+". HOCHRECHNUNG"	<192>	1770	FP80,60 STR$(SD(I))	<239>
1190	PRINT"{CLR,2D0WN,3SPACE}"HO$"<3SPACE >		1780	SDt=LEFTt(STRt(SD(I>-SD(0)),3):IF VAL	
	"AS$	<140>		(SD^)>0 THEN SDt="+"+MID$(SD$,2,2)	<138>
1200	PRINT:PRINT"<3SPACE>"WA$	<136>	1790	Fp80,70SD$	<064>
1210	PRINT : PRINT"{4SPACE,GREY 1>"ZE$	<064>	1800	FP140,30,2,2;8"FDP"	<249>
1220	INPUT"<2D0WN,BLUE,2SPACE >CDU= <3SPACE}		1810	FP144,48FD$(I)	<231 >
	0.0 7.{8LEFT>";CD$(I) :CD(I)=VAL(CD$(I)		1820	FOR T=185 TO 185-INT(SQ*SF(I))STEP-1:	
	)	<244>		FL140,T TO 170,T:NEXT T	<053>
1230	PRINT:INPUT”<RED,2SPACE>SPD=<3SPACE>0		1830	FP144,60 STR^(SF(I))	<255>
	.0 7.{8LEFT)";SP$(I) :SP(I)=VAL(SP$(I) )	<073>	1840	SF$=LEFT$(STR$(SF(I)-SF(0)),3):IF VAL	
1240	PRINT:INPUT”<0RANGE,2SPACE>FDP=<3SPAC			(SF$)>0 THEN SFt="+"+MID$(SF$,2,2)	<173>
	EJ0.0 7.{8LEFT)";FD$(I) ;FD(I)=VAL(FD$(		1850	FP144,70SF$	<091>
	I) )	<158>	1860	FP200,30,1,2;5"GRUENE"	<250>
1250	INPUT”<DOWN,GREEN,2SPACE)GRUENE=<3SPA		1870	FP206,48GR$(I)	< 167 >
	CE>0.0 7.{8LEFTJ";GR$(I) :GR(I)=VAL(GR$		1880	FOR T=185 TO 185-INT(SQ#SE(I))STEP-1:	
	(I) )	<050>		FL200,T TO 230,T:NEXT T	<055>
1260	INPUT”<DOWN,WHITE,2SPACE)ANDERE=<3SPA		1890	FP206,60 STR$(SE(D)	<043>
	CE)0.0 %<8LEFT>";AN^(I):AN(I)=VAL(AN$		1900	SEt=LEFT$(STRi(SE(I)-SE(0)),3):IF VAL	
	(I) )	<180>		(SE$)>0 THEN SE$="+"+MID$(SE$,2,2)	<246>
1270	PRINT:PRINT:INPUT”fRED,3SPACE >SITZVER		1910	FP206,70SE$	<159>
	TEILUNG EINGEBEN (J/N)";GT	<036>	1920	FP266,30,1,2;1”ANDERE"	<082>
1280	IF G^="J"THEN GOSUB 1430:GOTO 1300	<244>	1930	^272,48AN$(I)	<138>
1290	GOSUB 3800	<120>	1940	FOR T=185 TO 185-INT(S0*SA(I))STEP-l:	
1300	AS(I)=AS:ASt(I)=AS$:ZE$(I)=ZEt:GOSUB			FL266,T TO 296,T:NEXT T	<158>
	4070	<019>	1950	FP272,60 STR$(SA(I))	<198>
1310	PRINT"{CLR,4D0WN,3SPACE,RED>GRAFIKEN"	<250>	1960	SA$=LEFT$(STR$(SA(I)-SA(0)),3):IF VAL	
1320	PRINT:PRINT:PRINT"<3SPACE,RVSON>F1{RV			(SA$)>0 THEN SA$="+"+MID$(SA$,2,2)	<103>
	OFF,SPACE>= SITZE"	<219>	1970	Fp272,70SA$	<154>
1330	PRINT:PRINT"<3SPACE,RVS0N>F3<RVOFF,SP		1980	FP10,192;15"WEITER MIT TASTE (A=AUSDR	
	ACE>= GEWINN/VERLUST"	<167>		UCK) "	<087>
1340	PRINT:PRINT"<3SPACE,RVS0N)F5 <RVOFF,SP		1990	GET A$:IF A$=""THEN 1990	<075>
	ACE>= PROZENT"	<149>	2000	IF A$="A"THEN GOSUB 4650:GOTO 1990	<235>
1350	PRINT:PRINT”<3SPACE,RVSON )F7 <RVOFF,SP		2010	FT:RETURN	<123>
	ACE>= WEITER"	<223>	2020	REM 	 GRAFIK GEWINN/VERLUST 		<136>
1360	GET IN$:IF IN$=""THEN 1360	<053>	2030	FG0: FC	<117>
1370	IN=ASC(IN$)-132:IF IN<1 OR IN>4 THEN		2040	FP270,2,2,2;15 LEFT^(AS^,3)	<049>
	1360	<063>	2050	Fpl00,3HO#:FP110,12WA$	<224>
1380	ON IN GOSUB 1530,2020,2620,1400	<220>	2060	FPl,48DAt	<050>
1390	GOTO 1310	<140>	2070	FPl,60JA$	< 190>
1400	IF CD(I+1)>0 THEN I = I + 1	<131>	2080	FOR T=149 TO 151:FL10,T TO 320,T:NEXT	
1410	GOTO 1090	<113>		T	<041>
1420	REM 	 EINGABE SITZE 		<169>	2090	FP10,75"GEWINN + VERLUST (7.PUNKTE)"	<200>
1430	PRINT"<CLR>"	<148>	2100	FP21,48;14CD$(0)	<031>
1440	PRINT:PRINT:PRINT"<3SPACE}"HO$"<3SPAC		2110	FP22,30,2,2 56"CDU"	<100>
	E)"AS$	<203>	2120	FP21,60CD$(D	<163>
1450	PRINT:PRINT"{3SPACE}"WA$	<132>	2130	VV=0:VC=CD(I)-CD(0):VS=SP(I)-SP(0):VF	
1460	PRINT:PRINT:PRINT"<3SPACE,RED>S I T Z			=FD(I)-FD(0)	<191>
	E"	<170>	2140	VG=GR(I)-GR(0);VA=AN(I)-AN(0):VV=ABS(	
1470	PRINT:PRINT:INPUT”<BLUE,2SPACE>CDU:";			VC)	<041>
	SU(I)	<034>	2150	IF ABS(VS)>VV THEN VV=ABS(VS)	< 160>
1480	PRINT:INPUT"<RED,2SPACE>SPD:";SD(I)	<003>	2160	IF ABS(VF)>VV THEN VV=ABS(VF)	<051 >
1490	PRINT:INPUT"<ORANGE,2SPACE )FDP:";SF(I		2170	IF ABS(VG)>VV THEN VV=ABS(VG)	<129>
	)	<108>	2180	IF ABS(VA)>VV THEN VV=ABS(VA)	<242>
1500	PRINT:INPUT"<GREEN,2SPACE>GRUENE:";SE		2190	IF VV<>0 THEN VV=35/VV	<227>
	(I)	<127>	2200	CC=-l:IF VC<0 THEN CC=1	<053>
1510	PRINT:INPUT"<WHITE,2SPACE>ANDERE:";SA		2210	FOR T=150 TO 150-INT(VV*VC)STEP CC:FL	
	(I)	<050>		24,T TO 55,T:NEXT T	<076>
1520	RETURN	<052>	2220	VC$=LEFT$(STR$(VC),4):IF VC<1 AND VC>	
1530	REM 	 GRAFIK SITZE 		<196>		-1 THEN VC$=LEFT$(VC$,l)+"0"+MID$(VC$	
1540	IF SG=0 THEN 2000	<084>		,2,2)	<211>
1550	FG0: HS	<147>	2230	IF VC>0 THEN VCt="+"+RIGHTt(VC$,3)	<007>
1560	FP270,2,2,2;15 LEFT$(AS$,3)	<079>	2240	FP25,90VC$	<073>
1570	FP100,3HO^: FPH0,12WA$	<252>	2250	FP80,48;10SP^(0)	<088>
1580	FPl,48JA$	<084>	2260	FP5,2,l,2;2ZEt(I)	<182>
1590	FPl,59"S"	<018>	2270	FP80,30,2,2"SPD"	<182>
1600	FPl,67"I"	<071>	2280	FP80,60SP$(I)	<211>
1610	Fpl,75"T"	<166>	2290	CC=-l:IF VS<0 THEN CC=1	<207>
1620	FPl,83"Z"	<252>	2300	FOR T=150 TO 150-INT(VV*VS)STEP CC:FL	
1630	FP1,91"E"	<027>		88,T TO 119,T:NEXT T	<203>
1640	FOR T=184 TO 186:FL20,T TO 320,T:NEXT		2310	VS$=LEFT$(STR$(VS),4):IF VS<1 AND VS>	
	T:FPl,181" 0"	<212>		-1 THEN VS$=LEFT$(VS$,l)+"0"+MID$(VS$	
1650	FL23,105 TO 320,105:FP1,101 RIGHT$(ST			,2,2)	<228>
156
C64
Statistik
2320	IF VS>0 THEN VS$="+"+RIGHT$(VS$,3)	<004>		,T TO 286,T:NEXT T	<246>
2330	«85,90VS*	<069>	3000	«266,30,l,2;l"ANDERE"	<146>
2340	«144,48;7FD$(0)	<197>	3010	«272,60AN$(D	<188>
2350	«140,30,2,2;8"FDP"	<035>	3020	FOR T=185 TO(185-2*AN(I))STEP-1:«290	
2360	«144,60FD$(D	<003>		,T TO 310,T:NEXT T	<041>
2370	CC=-l:IF VF<0 THEN CC=1	<237>	3030	«10,192;15”WEITER MIT TASTE (A=AUSDR	<121>
2380	FOR T=150 TO 150-INT(VV*VF)STEP CC:«			UCK) "	
	145,T TO 175,T:NEXT T	<248>	3040	GET A$:IF A$=""THEN 3040	<233>
2390	VF$=LEFT$(STR$(VF),4)sIF VF<1 AND VF>		3050	IF A$="A"THEN GOSUB 4650sGOTO 3040	<197>
	-1 THEN VF$=LEFT$(VF$,l)+"0"+MID$(VF$		3060	^T:RETURN	<157>
	»2,2)	<193>	3070	REM	ZEIT		<074>
2400	IF VF>0 THEN VF$="+"+RIGHT$(VF$,3)	<001>	3080	PRINT"<CLR>"	<020>
2410	«145,90VF$	<221>	3090	H=PEEK(C+3):M=PEEK(C+2):S=PEEK(C+1)sT	
2420	«206,48;13GR$(0)	<087>		=PEEK(C)	<062>
2430	«200,30,1,2;5"GRUENE"	<056>	3100	HH=l:IF H>32 THEN H=H-128:HH=0	<115>
2440	«206,60GR$(D	<215>	3110	H=INT(H/16)*10+H-INT(H/16)*16:ON HH G	
2450	CC=-l:IF VG<0 THEN CC=1	<065>		OTO 3140	<119>
2460	FOR T=150 TO 150-INT(VV*VG)STEP CC:«		3120	IF H=12 THEN 3150	<082>
	208,T TO 238,T:NEXT T	<131>	3130	H=H+12	<070>
2470	VG$=LEFT$(STR$(VG),4):IF VG<1 AND VG>		3140	IF H=12 THEN H=0	<233>
	-1 THEN VG$=UEFT$(VG$,l)+"0"+MID$(VG$		3150	M=INT(M/16)*10+M-INT(M/16)*16	<239>
	»2,2)	<124>	3160	S=INT(S/16)#10+S-INT(S/16)*16	<197>
2480	IF VG>0 THEN VG$="+"+RIGHT$(VG$,3)	<107>	3170	H$=STR$(H):IFLEN(H$)=2 THEN H^=" 0"+	
2490	«205,90VG$	<197>		RIGHT$(H$,1)	<159>
2500	«272,48;12AN$(0)	<181>	3180	M$=STR$(M):IF LEN(M^)=2 THEN M$=" 0" +	
2510	«266,30,1,2;1"ANDERE"	<164>		RIGHT$(M$,1)	<087>
2520	«272,60AN$(D	<206>	3190	S$=STR$(S):IF LEN(S^)=2 THEN S$=" 0" +	
2530	CC=-l:IF VA<0 THEN CC=1	<121>		RIGHT$(S$,1)	<206>
2540	FOR T=150 TO 150-INT(VV*VA)STEP CC:«		3200	ZE$=RIGHT$(H$,2)+"-"+RIGHT$(MT,2)+"."	
	272,T TO 302,T:NEXT T	<024>		+RIGHT$(S$,2)	<221>
2550	VA$=LEFT$(STR$(VA),4):IF VA<1 AND VA>		3210	PRINT"<GREY 1,HOME,3D0WN,3SPACE >"ZE$	<234>
	-1 THEN VA$=LEFT$(VA$,l)+'*0*'+MID$(VA$		3220	IF EI=1 THEN EI=0:RETURN	<163>
	»2,2)	<073>	3230	PRINT:PRINT:PRINT"<3SPACE,ORANGE}HOCH	
2560	IF VA>0 THEN VA$="+"+RIGHT$(VA$,3)	<033>		RECHNUNG (H) / ENDERGEBNIS <E) ?"	<045>
2570	«275,90VA$	<199>	3240	PRINT:PRINT"<14SPACE>GRAFIKEN (G)”	<081>
2580	FP10,192;15''WEITER MIT TASTE (A=AUSDR		3250	GET 6$:IF GT="H"OR G$="E"THEN EI=1	<032>
	UCK) "	<181>	3260	IF G$="G"THEN DG=l:GOTO 460	<190>
2590	GET A$:IF A$=""THEN 2590	<200>	3270	GOTO 3090	<211>
2600	IF A$="A"THEN GOSUB 4650:GOTO 2590	<059>	3280	REM 	 ENDERGEBNIS 		<108>
2610	^T:RETURN	<217>	3290	PRINT"{CLR?":I = I + 1	<143>
2620	REM 	 GRAFIK PROZENT 		<021>	3300	PRINT:PRINT:PRINT"{3SPACE,RED >ENDERGE	
2630	«0:«	<211>		BNIS"	<091>
2640	FOR T=183 TO 185:«10,T TO 320,T;15:N		3310	INPUT"<2D0WN,BLUE,2SPACE>CDU:{3SPACE)	
	EXT T	<164>		0.0 7.<8LEFT>";CDT(I):CD(I)=VAL(CDT(I)	
2650	«270,2,2,2 LEFT$(AS$,3)	<167>		)	<034>
2660	«100,3H0$:FP110,12WA$	<070>	3320	IF CD(I)=0 THEN CDT(I)="*":GOTO 3440	<238>
2670	«1,171" 5”	<090>	3330	PRINT:INPUT"<RED,2SPACE>SPD=<3SPACE>0	
2680	«1,81"50"	<038>		.0 7.{8LEFT>";SP$(I) :SP(I)=VAL(SP$(I))	<143>
2690	«1,91"45"	<130>	3340	PRINT:INPUT"{0RANGE,2SPACEJFDP={3SPAC	
2700	«1,101"40"	<131>		E>0.0 7.{8LEFT)";FD$(I) :FD(I)=VAL(FD$(	
2710	«l,48DA$	<192>		I))	<228>
2720	«l,60JA$	<076>	3350	INPUT"<DOWN,GREEN,2SPACE >GRUENE= <3SPA	
2730	«20,105 TO 320,105	<148>		CE>0. 0 7.{BLEFT}" ; GR$ (I ) : GR ( I) =VAL (GRt	
2740	«20,95 TO 320,95	<194>		(I))	<120>
2750	«20,85 TO 320,85	<012>	3360	INPUT"<DOWN,WHITE,2SPACE}ANDERE= <3SPA	
2760	«20,175 TO 320,175	<192>		CE>0.0 7.{8LEFT)";AN$(I)sAN(I)=VAL(AN$	
2770	«21,48; 14CD$(0)	<193>		(I))	<227>
2780	FOR T=185 TO(185-2*CD(0))STEP-l:«17,		3370	PRINT”<CLR>"	<056>
	T TO 37,T:NEXT T	<229>	3380	PRINT:PRINT:PRINT"<3SPACE,RED>S I T Z	
2790	«22,30,2,2;6"CDU"	<016>		E"	<058>
2800	«21,60CD$(D	<079>	3390	PRINT:PRINT:INPUT"<BLUE,2SPACE>CDU:";	
2810	FOR T=185 TO(185-2*CD(I))STEP-l:«40,			SU(I)	<178>
	T TO 60,T:NEXT T	<006>	3400	PRINT:INPUT"<RED,2SPACE>SPD:";SD(I)	<147>
2820	«80,48; 10SP$(0)	<152>	3410	PRINT:INPUT"<ORANGE,2SPACE)FDP:";SF(I	
2830	FOR T=185 TO(185-2*SP(0))STEP-l:«76,			)	<252>
	T TO 95,T:NEXT T	<133>	3420	PRINT:INPUT"<GREEN,2SPACE>GRUENE:";SE	
2840	«5,2,l,2;2ZE*(I)	<000>		(I)	<015>
2850	«80,30,2,2”SPDM	<000>	3430	PRINT:INPUT"<WHITE,2SPACE>ANDEREs";SA	
2860	«80,60SP$(D	<029>		(I)	<194>
2870	FOR T=185 T0(185-2*SP(I))STEP-l:«99,		3440	AST(I)="ENDERGEBNIS":ZET(I)=ZET:AS(I)	
	T TO 119,T:NEXT T	<088>		=0	<194>
2880	«144,48;7FD$(0)	<229>	3450	«3450:PRINT:PRINT:PRINT"<RED,3SPACE}	
2890	FOR T=185 TO(185-2*FD(0))STEP-l:«137			DISKETTE EINLEGEN!":CLOSE 1	<139>
	,T TO 157,T:NEXT T	<071>	3460	PRINT:INPUT"<3SPACE)";A$	<031>
2900	«140,30,2,2;8"FDP"	<077>	3470	OPEN l,8,2,"@:WAHL "+WA$+",S,W"	<223>
2910	«144,60FD$(D	<045>	3480	INPUT#15,FE,FET:IF FE=0 THEN 3530	<155>
2920	FOR T=185 T0(185-2*FD(I))STEP-l:«162		3490	IF FE=26 THEN PRINT:PRINT"DISKETTE GE	
	,T TO 182,T:NEXT T	<021>		SCHUETZT!":GOTO 3450	< 111 >
2930	«206,48; 13GR$(0)	<089>	3500	IF FE=72 THEN PRINT:PRINT"DISKETTE VO	
2940	FOR T=185 TO(185-2*GR(0))STEP-1:«200			LL!":GOTO 3450	<132>
	,T TO 220,T:NEXT T	<001>	3510	IF FE=74 THEN PRINT:PRINT"KEINE DISKE	
2950	«200,30,1 , 2; 5 ” GRUENE "	<068>		TTE EINGELEGT!"sGOTO 3450 ,	<138>
2960	«206,60GR$(D	<227>	3520	PRINT:PRINT"<2SPACE>FEHLER"FE": "FET:	
2970	FOR T=185 TO(185-2*GR(I))STEP-1=«225				
2980	,T TO 245,T:NEXT T «272,48; 12AN$(0)	<201> <153>	Listing »Wahlhochrechnung«		
2990	FOR T=185 TO(185-2*AN(0))STEP-1=«266		(Fortsetzung)		
157
Statistik
C64
GOTO 3450	<151>
3530 PRINT#l,WA*:PRINT#l,I	<001>
3540 PRINT#l,DA*:PRINT#l,JA*:PRINT#l,SG	<191>
3550 FOR G=0 TO I	<054>
3560 PRINT#l,CD*(G):IF CD*(G)="*"THEN	3620 <065>
3570 PRINT#1,CD(G):PRINT#l,SP*(G):PRINT#1,
SP(G)	<112>
3580 PRINT#l,FD*(G):PRINT#l,FD(G)	<176>
3590 PRINT#l,GR*(G):PRINT#l,GR(G)	<237>
3600 PRINT#l,AN*(G):PRINT#l,AN(G)	<047>
3610 PRINT#l,SU(G):PRINT#l,SD(G):PRINT#l,S
F(G):PRINT#1,SE(G):PRINT#1,SA(G)	<042>
3620 PRINT#l,AS(G):PRINT#l,AS*(G)	<173>
3630 PRINT#l,ZE*(G):IF CD*(G)="*"THEN 3650 <184> 3640 NEXT G	<152>
3650 CLOSE 1	<105>
3660 PRINT"<CLR,4D0WN,2SPACE,RED>F E R T I
G!"	<155>
3670 FOR G=1 TO 1000:NEXT:GOTO 460	<102>
3680 PRINT"{CLR>":REM --- SITZE ALT --- <250>
3690 EI=l:GOSUB 3070	<122>
3700 PRINT sPRINT:PRINT”<3SPACE,RED>LETZTES
WAHLERGEBNIS"	< 222 >
3710 PRINT:PRINT:PRINT"<3SPACE}"WA*	<030>
3720 PRINT:PRINT:PRINT"{3SPACE,RED>S I T Z
E"	<144>
3730 PRINT:PRINT:INPUT"<BLUE,2SPACE>CDU:";
SU(0)	<163>
3740 PRINT:INPUT"<RED,2SPACE >SPD:";SD(0)	<208>
3750 PRINT:INPUT"<0RANGE,2SPACE>FDP:";SF(0 >	<057>
3760 PRINT:INPUT"<GREEN,2SPACE>GRUENEs";SE
<B>	<156>
3770 PRINT:INPUT"<WHITE,2SPACE>ANDERE:";SA
<0>	<079>
3780 PRINT:INPUT"<GREY l,2SPACE>GESAMTSITZ
E=";SG	<139>
3790 RETURN	<036>
3800 REM --- SITZE AUSRECHNEN --- <070>
3810 HU=CD(I):HD=SP(I):HF=FD(I):HE=GR(I):H
A=AN(I)	<069>
3820 IF HU<5 THEN HU=0	<160>
3830 IF HD<5 THEN HD=0	<119>
3840 IF HF<5 THEN HF=0	<167>
3850 IF HE<5 THEN HE=0	<159>
3860 IF HA<5 THEN HA=0	<097>
3870 HG=HU+HD+HF+HE+HA	<221>
3880 SM=100/HG	<204>
3890 HU=HU*SM:HD=HD*SM:HF=HF*SM:HE=HE*SM:H
A=HA*SM	<116>
3900 SM=SG/100	<158>
3910 SU(I)=HU*SM:SD(I)=HD*SM:SF(I)=HF*SM:S
E(I)=HE*SM:SA(I)=HA*SM	<077>
3920 SZ=INT(SG-INT(SU(I))-INT(SD(I))-INT(S
F(I))-INT(SE(I))-INT(SA(I))):SW=0	<187>
3930 IF SZ=0 THEN SU(I)=INT(SU(I)):SD(I)=I
NT(SD(I)):SF(I)= INT(SF(I))	<152>
3940 IF SZ=0 THEN SE(I)=INT(SE(I)):SA(I)=I
NT(SA(I)):RETURN	<023>
3950 HU=INT(SU(I))-SU(I):IF HU<SW THEN T=1
:SW=HU	<241>
3960 HD=INT(SD(I)9-SD(I):IF HD<SW THEN T=2
:SW=HD	<046>
3970 HF=INT(SF(I))-SF(I):IF HF<SW THEN T=3
:SW=HF	<251>
3980 HE=INT(SE(I))-SE(I):IF HE<SW THEN T=4
:SW=HE	<083>
3990 HA=INT(SA(I))-SA(I):IF HA<SW THEN T=5
:SW=HA	<054>
4000 ON T GOSUB 4020,4030,4040,4050,4060	<207>
4010 SZ=SZ-l:SW=0:GOTO 3930	<008>
4020 SU(I)=INT(SU(I)+l):RETURN	<060>
4030 SD(I)=INT(SD(I)+l):RETURN	<054>
4040 SF(I)=INT(SF(I)+l):RETURN	<096>
4050 SE(I)=INT(SE(I)+l):RETURN	<090>
4060 SA(I)=INT(SA(I)+l):RETURN	<036>
4070 REM --- COMPUTER HOCHRECHNUNG ---- <095>
4080 IF 1=1 THEN RETURN	<007>
4090 EI=l:GOSUB 3070	<012>
4100 CO=CO+1:I=I+l:AS(I)=CO:AS*(I)="COMPUT
ER":ZE$(I)=ZE$	<173>
4110 CD(I)=(CD(I-l)+CD(I-2))/2	<139>
4120 IF CD(I)=INT(CD(I))THEN CD*(I)=STR*(C
D(I))+".0 X":GOTO 4140	<201>
4130 CD*(I)=STR*(INT(CD(I)))+MID*(STR*(CD(
I)-INT(CD(I))),2,2)+" X"	<052>
4140	CD(I)=VAL(CD*(I)):CD*(I)=RIGHT*(CD*(I ),LEN(CD*(I))-1)	<038>
4150	SP(I)=(SP(1-1)+SP(1-2))/2	<243>
4160	IF SP(I)=INT(SP(I))THEN SP*(I)=STR*(S P(I))+".0 7.":GOTO 4180	<116>
4170	SP*(I)=STR*(INT(SP(I)))+MID*(STR*(SP( I)-INT(SP(I))),2,2)+" 7."	<161>
4180	SP(I)=VAL(SP*(I)):SP*(I)=RIGHT*(SP*(I ),LEN(SP*(I))-1)	<242>
4190	FD(I)=(FD(1-1)+FD(1—2))/2	<243>
4200	IF FD(I)=INT(FD(I))THEN FD*(I)=STR*(F D(I))+".0 X":GOTO 4220	<097>
4210	FD*(I)=STR*(INT(FD(I)))+MID*(STR*(FD( I)-INT(FD(I))),2,2)+" X"	<252>
4220	FD(I)=VAL(FD*(I)):FD*(I)=RIGHT*(FD*(I ),LEN(FD*(I))-1)	<226>
4230	GR(I)=(GR(1-1)+GR(1-2))/2	<003>
4240	IF GR(I)=INT(GR(I))THEN GR*(I)=STR*(G R(I))+".0 X":GOTO 4260	<216>
4250	GR*(I)=STR*(INT(GR(I)))+MID*(STR*(GR( I)-INT(GR(I))),2,2)+" X"	<175>
4260	GR(I)=VAL(GR*(I)):GR*(I)=RIGHT*(GR*(I ),LEN(GR*(I))-1)	<033>
4270	AN(I)=(AN(1-1)+AN(1-2))/2	<lB7>
4280	IF AN(I)=INT(AN(I))THEN AN*(I)=STR*(A N(I))+".0 X":GOTO 4300	<073>
4290	AN*(I)=STR*(INT(AN(I)))+MID*(STR*(AN( I)-INT(AN(I))),2,2)+" X"	<166>
4300	AN(I)=VAL(AN*(I)):AN*(I)=RIGHT*(AN*(I ),LEN(AN*(I))-1)	<079>
4310	GOSUB 3800:I=I-1:RETURN	<164>
4320	REM 	 DATEI EINLESEN 		<004>
4330	«F4305	<008>
4340	CLOSE 1:INPUT"<HOME,2DOWN>WAHLNAME (0 =KATALOG):";WA*:PRINT:PRINT:IF WA*="0	
"THEN GOSUB 4530:GOTO 4340		<146>
4350	PRINT"<CLR>"	<018>
4360	OPEN l,B,2,"WAHL "+WA*+",S,R"	<196>
4370	INPUT#15,FE,FE*	<200>
4380	IF FE=0 THEN 4420	<012>
4390	IF FE=62 THEN PRINT:PRINT"<2SPACE>NIC HT VORHANDEN!":GOTO 4340	<028>
4400	IF FE=74 THEN PRINT:PRINT"KEINE DISKE TTE EINGELEGT!":GOTO 4340	<138>
4410	PRINT:PRINT" FEHLER"FE": "FE*:GOTO 43 40	<151>
4420	INPUT#1,WA*,I,DA*,JA*,SG	<174>
4430	FOR G=0 TO I	<174>
4440	INPUT#l,CD*(G):IF CD*(G)="*"THEN 4470	<122>
4450	INPUT#l,CD(G),SP*(G),SP(G),FD*(G),FD( G),GR*(G),GR(G),AN*(G),AN(G)	<220>
4460	INPUT#l,SU(G),SD(G),SF(G),SE(G),SA(G)	<236>
4470	INPUT#l,AS(G),AS*(G)	<231>
4480	INPUT#l,ZE*(G):IF CD*(G)="*"THEN 4500	<171>
4490	NEXT G	<240>
4500	CLOSE 1	<193>
4510	DG=l:RETURN	<049>
4520	REM 	 DIRECTORY 		<217>
4530	OPEN 1,8,4,"#":NT=18:NS=1	<130>
4540	PRINT#15,"B-R:";4;0;NT;NS:PRINT#15,"B -P:";4;0	<246>
4550	GET#l,NT*,NS*:IF NT*=""THEN 4570	<136>
4560	NT=ASC(NT*):NS=ASC(NS*)	<051>
4570	FOR T=0 TO 7:PRINT#15,"B-P:"4;T*32+2: GET#l,FT*:IF FT*=""AND NT*=""THEN CLO SE l:RETURN	<082>
4580	IF FT*=""THEN NEXT T:GOTO 4540	<024>
4590	IF ASC(FT*)<>129 THEN NEXT T:GOTO 454 0	<172>
4600	GET#l,A*,A*	<241>
4610	A*="":FOR TT=3 TO 18:GET#l,B*:A*=A*+B *:NEXT TT	<040>
4620	IF LEFT*(A*,5)<>"WAHL "THEN NEXT T:GO TO 4540	<118>
4630	PRINT"<2SPACE}"RIGHT*(A*,11)	<017>
4640	NEXT T:GOTO 4540	<238>
4650	REM 	 BILDSCHIRMAUSDRUCK 		<155>
4660	^F4610: ^T: INPUT" <CLR,2D0WN,3SPACE>TAB ULATOR:";TA	<055>
4670	SYS 50944,TA,14:REM 	 DRUCKROUTINE	
	WIRD GESTARTET 		<253>
4680	H30:RETURN	<016>
© 64'er
Listing. »Wahlhochrechnung« (Schluß)
158
C64
Statistik
Business-Grafik für jedermann
Mit den beiden hier vorgestellten Programmen können Sie sehr einfach statistische Kurven in Form eines Kreis- oder Liniendiagramms auf dem Printer/Plotter 1520 zeichnen.
Beide Programme »Kreisdiagramm« (Listing 1) und »Manager-Kurve« (Listing 2) sind in Basic geschrieben und werden folglich mit LOAD"Name", 8 geladen und mit RUN gestartet. Zu beiden Programmen finden Sie in Tabelle 1 und 2 eine Aufschlüsselung nach Zeilennummern. Dadurch lassen sich die Programme leicht den eigenen Erfordernissen anpassen.
Kreisdiagramm
Das Programm »Kreisdiagramm« (Listing 1) ermöglicht das Zeichnen und farbliche Gestalten von Kreisdiagrammen verschiedener Größen mit dem Plotter VC 1520.
Um ein Kreisdiagramm zu zeichnen, ist wie folgt vorzugehen.
1.	Laden und Starten des Programms mit LOAD-"Name",8:RUN
2.	Eingabe der Diagrammgröße (maximal 2)
Der Radius des geplotteten Kreisdiagramms in »cm« beträgt das zweifache des eingegebenen Wertes.
3.	Eingabe der Diagrammfarbe (0 = schwarz etc.)
Die Konturen des Diagramms und die eventuellen Texte werden in dieser Farbe geplottet.
4.	Eingabe der Überschrift
5.	Eingabe der Anzahl der Sektoren
6.	Eingabe, ob Prozent- oder Absolutwerte (»P« beziehungsweise »A«.)
Bei Absolutwerten werden die Sektorengrößen anteilig berechnet. Bei Prozentwerten überprüft das Programm, ob die Summe der eingegebenen Werte ungleich 100% ist. Sollte das der Fall sein, wird eine Korrektur oder Neueingabe angeboten, bei Unterschreitung der Gesamtsumme der Restwert berechnet und als gleichwertiger Sektor bearbeitet.
7.	Eingabe, mit oder ohne Text
Wenn die Eingabe mit Text erfolgen soll, werden die Sektoren am Rand mit einer laufenden Nummer versehen und die Texte mit »Nr.« unter dem Diagramm aufgelistet.
8.	Eingabe, ob Korrektur der Initialisierungsdaten
Wenn ja, Neustart des Programms
9.	Eingabe der Daten zu den Sektoren
-	Prozent- beziehungsweise Absolut-Wert
-	Text, falls erwünscht
-	Farbeingabe (RETURN = keine farbliche Ausfüllung, sonst in der eingegebenen Farbe)
-	Linienabstandseingabe für Schraffierung, wenn Farbeingabe (1 = lückenloses Ausmalen des Sektors mit der angegebenen Farbe).
Aus Zeitgründen und wegen der Lebensdauer der Plotterstifte empfiehlt es sich nicht, große Diagramme farblich ganz auszufüllen.
RELIGIONEN
1 17 x ROEN.-KATH. CHRISTEN
2	8	x	EUANGELISCHE	CHRISTEN
3	4	x	ORTHODOXE CHRISTEN
4 14 x NOSLEHS
5 12 x HINDUS
6	6	x	BUDDHISTEN
7	2	x	SCHINTOISTEN
8 0.4 x ISTRAELITEN
9 36.6 x SONSTIGE
Bild 1. Kreisdiagramm gezeichnet mit dem Plotter 1520 (Diagrammgröße 2)
ENERGIEUERBRAUCH
1	108 ni0. T SKE HAUSHALTE
2	91 ni0. T SKE INDUSTRIE
3	48.6 ni0 T SKE UERKEHR
Bild 2. Kreisdiagramm (Diagrammgröße 1)
10. Eingabe, ob Korrektur einzelner Werte.
Wenn ja, Eingabe der laufenden Nummer des zu korrigierenden Wertes; wenn nein, setzt sich der Plotter-Zeichenstift in Bewegung.
Zwei Beispiele für dasZeichnen von Kreisdiagrammen zeigen Bild 1 und 2.

159
Statistik
C64
Zeile	Funktion
10-	80	Programmname; Name und Adresse des Autors
90- 330	Dateninitialisierung
340- 600	Dateneingabe
610- 680	Umrechnung der Werte in Bogenmaß-Winkel
690- 760	Kreis zeichnen
770- 1220	Zeichnen der Sektoren
1230 - 1340	Texte und Programmende
1350 - 1480	Unterprogramm Sektorenfärbung im I. Quadranten
1490- 1620	analog für II. Quadranten
1630 - 1760	analog für III. Quadranten
1770- 1900	analog für IV. Quadranten
1910-2080	Unterprogramm Eingabe weiterer Sektorenbereiche
Tabelle 1. Aufschlüsselung nach Zeilennummern für das Programm »Kreisdiagramm«.
Manager-Kurve
Mit dem Plotter-Programm »Manager-Kurve« (Listing 2) lassen sich beliebige Linien in ein 8 x 16 cm großes Koordinatensystem mit frei wählbarer Skala zeichnen. Das Diagramm wird anschließend beschriftet.
Um eine »Manager-Kurve« zu zeichnen, ist wie folgt vorzugehen.
1.	Laden und Starten des Programms mit LOAD-"Name",8:RUN
2.	Im Menü wählt man die Farbe für Skala und Beschriftung, stellt das Menü auf »Neues Diagramm« und drückt RETURN zur Ausführung.
3.	Eingabe der Ober- und Untergrenze der Y-Skala. Eingabe der Ober- und Untergrenze der X-Skala. Da die X-Achse doppelt so lang ist wie die Y-Achse, ergeben gleiche Ober- und UntergrenzenfürX- undY-Skalaeine 1/2-fache Überhöhung. Eingabe der Überschrift: Zum Zeichnen des Diagramms ist RETURN zu drücken. Auch eine Korrektur der Daten (N) oder ein direkter Rücksprung ins Menü (M) ist möglich.
4.	Bei der Menü-Anzeige nach dem Zeichnen des Diagramms wähle man »Neue Linie« und stelle Farbe, Linienart (unterbro-chene/durchgezogene Linie) und Verfahrensweise zum Zeichnen eines Punktes (mit/ohne Markierungskreuz) ein. RETURN führt zur
5.	Koordinaten- und Texteingabe der Punkte. Aus Gründen der Übersichtlichkeit empfiehlt es sich nicht, zu vielen Punkten lange Texte einzugeben. In diesem Fall ist die Anbringung von Fußnoten günstiger, die dann manuell oder mit einem entsprechenden Programm neben das Diagramm gesetzt, erklärt werden.
Liegt ein Punkt außerhalb des Diagramms, kann bis zur Zeichengrenze des Plotters die Linie gezogen werden. Jedoch läßt sich kein Text eingeben.
Wahlweise ist
-	Ausführung der Anweisung (= Plotten der Linie), danach Eingabe eines neuen Punktes (RETURN),
-	Ausführung der Anweisung, danach Rücksprung ins Menü (SHIFT-RETURN),
-	direkter Sprung ins Menü (M) oder
-	Korrektur der Daten (N) möglich.
6. Im Menü lassen sich Farbe, Linienart und Markierungskreuz einstellen. Auch kann die Linie am letzten Punkt weitergezeichnet, oder eine neue Linie begonnen werden. Entscheidet man sich für ein neues Diagramm oder für Programmende, wird das alte Diagramm beschriftet und zur neuen Diagramm-Dateneingabe gesprungen beziehungsweise das Programm beendet.
Zwei Beispiele für eine Managerkurve zeigen Bild 3 und 4.
(Franz Strobel/ah)
Bild 4. Bis zu vier Liniendiagramme gleichzeitig.
10 - 70 Programmname; Name und Adresse des Autors
80 - 150 Initialisierung des Ptottera und Dimensionierung von Strings und Variablen
160- 470 Menü
480-1410 NeuesDiagramm 1420-1920 Uniezeichnen
1930 - 2100 Diagramm am Ende durch Beschriftung vervollständigen (Unterprogramm)
2110 ProgrammendedurchPlotterreset.
Tabelle 2. Aufschlüsselung nach Zeilennummern für das Programm »Manager Kurve«.
10 REM *********************	<025>
20 REM *** MANAGER - KURVE * 30 REM ***	VON	* 40 REM *#* FRANZ STROBL * 50 REM *** STARENWEG 12 * 60 REM *#* D-8050 FREISING * 70 REM ********************* 80 REM *** 90 REM *** INITIALISIERUNG 100 REM *** 110 OPEN l,6,l:0PEN 2,6,2:OPEN 4,6:0PEN 3,	<062> <114> <091> <030> <227> <085> <198> <242> <218>
6,3:OPEN 44,6,4:0PEN 5,6,5:0PEN 7,6,7	<192>
120 PR I NT#44 , 1 s PR I NT#4 : PR I NT#4 : PR I NT#4: PR I
Listing 1. Programm »Kreisdiagramm«. Bitte beachten Sie die Eingabehinweise auf Seite 6
160
C64
Statistik
NT#3,1 130 DIM T$(100)	<205> <107>	790 IF XA>=XE THEN 770 800 DX=XE-XA	<090> <005>
140 F$ (0) ^"SCHWARZ" : F$ (1) ="BLAU" : F$(2) = "GR UEN":F$(3)="R0T"	<223>	810 PRINT-5*DX/DY"-FACH UEBERHOEHT" 820 PRINT"<DOWN>RETURN = FUEHRT DIE ANWEIS	<009>
150 I$(0) ="NEIN" : I$C 1) = "JA" : F=0:L=0: G=0: E=		UNG AUS”	<095>
0:W=0:M=0:D=.5	<066>	830 PRINT"M<6SPACE>= ZURUECK INS MENUE"	<012>
160 REM ***	<022>	840 PRINT"N<6SPACE>= KORREKTUR DER DATEN"	<104>
170 REM *** MENUE	<034>	850 GET A$:IF A$=""THEN 850	<251>
180 REM ***	<042>	860 IF A$="N"THEN 520	<186>
190 REM MENUE-ANZEIGE	<036>	870 IF A$="M"THEN Dl=0:GOTO 200	<074>
200 PRINT"<CLR>LINIENDIAGRAMM<DOWN>"	<024>	880 IF ASC(A$)<>13 THEN 850	<122>
210 PRINT"NEUES DIAGRAMM (D)<7SPACE>",I^(D		890 Z=0	<129>
*2)	<017>	900 FOR B=XA TO XE STEP DX/4	<107>
220 PRINT"NEUE LINIE (LXllSPACE)",I$(L#2)	< 111 >	910 IF B=0 THEN N3=1	<113>
230 PRINT"LINIE WEITERZEICHNEN (W) ",I$(W*		920 X^(Z)=STR^(B):Z=Z+1	<201>
2)	<237>	930 NEXT B	<196>
240 PRINT”ENDE (E)<17SPACE>",I$(E*2)	<085>	940 REM EINTRAGUNG SKALENWERTE X IN BESCHR	
250 PRINT"FARBE (FX16SPACE>",F$(F*4)	<140>	IFTUNGSVARIABLE T$(X)	<227>
260 PRINT"MARKIERUNG (M){llSPACEJ",I$(M*2)	<207>	950 Z=0	<189>
270 PRINT"GESTRICHELTE LINIE (GX3SPACE>",		960 FOR TZ=21 TO 61 STEP 10	<199>
I$(G*2) 280 PRINT"<DOWN>RETURN FUEHRT DIE ANWEISUN	<030>	970 FOR B=0 TO LEN(X$(Z)) 980 T$(TZ+B)=MID$(X$(Z),l+B,l)+RIGHT$(T$(T	<224>
G AUS”	<244>	Z+B),38)	<201>
290 REM MENUE-EIN6ABE	<252>	990 NEXT B	<000>
300 GET A$:IF A$=""THEN 300	<239>	1000 Z=Z+1	<050>
310 IF A$="F"THEN F=F+.25:F=F-INT(F):G0T0 200	<225>	1010 NEXT TZ 1020 REM EINGABE UEBERSCHRIFT UND AUSWERTU	<073>
320 IF A$="W"THEN W=W+.5:W=W-INT(W):E=0:L=		NG	<250>
0:D=0:GOTO 200	<196>	1030 T1$=""sINPUT"UEBERSCHRIFT";T1$	<124>
330 IF A$="L"THEN L=L+.5:L=L-INT(L):E=0:D= 0:W=0:GOTO 200	<195>	1040 Ll=LEN(Tl$):IF L1=0 THEN 1110 1050 IF Ll>40 THEN PRINT"TEXT ZU LANG":GOT	<098>
340 IF A$="M"THEN M=M+-5:M=M-INT(M):E=0:GO TO 200	<161>	0 1030 1060 REM EINTRAGUNG UEBERSCHRIFT IN BESCHR	<017>
350 IF A$="E"THEN E=E+.5:E=E-INT(E):L=0:D=		IFTUNGSVARIABLE T$(X)	<014>
0:W=0:M=0:G=0:GOTO 200 360 IF A$="D"THEN D=D+.5:D=D-INT(D):L=0:E=	<101>	1070 FOR B=38 TO 37+Ll 1080 T$(B)=LEFT$(B(B) ,38)+MID$(Tl$,B-37,l	<255>
0:W=0:GOTO 200	<069>	)	< 148>
370 IF A$="G"THEN G=G+.5:E=0:D=0:G=G-INT(G ):GOTO 200	<196>	1090 NEXT B 1100 REM PLOTTERINITIALISIERUNG ZUM ZEICHN	< 102>
380IF ASC(A$)=13 THEN 410	<187>	EN DES DIAGRAMMS	<153>
390 GOTO 300	<080>	1110 PRINT#l,"M",0,-200	<129>
400 REM MENUE-AUSFUEHRUNG	<222>	1120 PRINT#4,CHR$(13)	<076>
410 IF E=-5 THEN GOSUB 1960:CLOSE l:CLOSE		1130 PRINT#1,"M",18,0:PRINT#1,"I"	<068>
2:CL0SE 4:CL0SE 44:CL0SE 5:G0T0 2110	<005>	1140 REM Y-ACHSE	<079>
420 PRINT#2,F*4	<104>	1150 PRINT#l,"J",400,0	<183>
430 PRINT#5,G*8	<172>	1160 FOR B=400 TO 0 STEP-100	<169>
440 IF W=.5 THEN W=0sIF C$="J"AND D1=1 THE		1170 PRINT#l,"R",B,5	<057>
N 1490	<143>	1180 PRINT#l,"J",B,-5	<072>
450 IF L=.5 AND D1=1 THEN 1460	<089>	1190 NEXT B	<202>
460 IF D=.5 THEN GOSUB 1960:GOTO 520	<138>	1200 REM X-ACHSE	<131>
470 GOTO 300	<160>	1210 FOR B=0 TO-800 STEP-200	<210>
480 REM ***	<088>	1220 PRINT#l,"R",-5,B	<062>
490 REM **♦ NEUES DIAGRAMM	<171>	1230 PRINT#l,"J",5,B	<194>
500 REM ***	<108>	1240 NEXT B	<252>
510 REM INITIALISIERUNG	<060>	1250 PRINT#l,"R",0,-800	<174>
520 PRINT#1,"M",0,-200:PRINT#4:Fl=F:Dl=l:N 1=0:N3=0:PRINT#2,F*4	<083>	1260 PRINT#1,"J",0,0 1270 REM ACHSE X=0 (MIT BESCHRIFTUNG), FAL	<069>
530 FOR B=0 TO 100:T$(B)="{39SPACE>":NEXT		LS NOTWENDIG	<216>
B	<100>	1280 IF XA>=0 OR XE<=0 THEN 1350	<041>
540 REM EINGABE Y-SKALA UND AUSWERTUNG	<055>	1290 FX=800*XA/DX:PRINT#1,"R",-5,FX	<035>
550 PRINT"<CLR>SKALA:":PRINT"HOEHE (Y):"	<089>	1300 PRINT#l,"J",400,FX	<039>
560 INPUT"ANFANG";YA	<099>	1310 IF N3=1 THEN 1350	<092>
570 INPUT"ENDE";YE	<092>	1320 N2=INT(22-FX720):IF LEFT$(T$(N2),1)<>	
580 IF YA>=YE THEN 560	<254>	" "THEN 1350	<060>
590 DY=YE-YA	<132>	1330 T$(N2)="0"+RIGHT$(T$(N2),38)	<093>
600 Z=0	<093>	1340 REM ACHSE Y=0 (MIT BESCHRIFTUNG), FAL	
610 FOR B=YA TO YE STEP DY/4	<120>	LS NOTWENDIG	<033>
620 IF B=0 .THEN N1 = 1	<075>	1350 IF YA>=0 OR YE<=0 THEN 1410	<114>
630 Y$(Z)=STR$(B):Z=Z+1	<169>	1360 FY=-400#YA/DY:PRINT#1,"R",FY,5	<166>
640 NEXT B	<160>	1370 PRINT#l,"J",FY,-800	<091>
650 REM EINTRAGUNG SKALENWERTE Y IN BESCHR IFTUNGSVARIABLE T$(X)	<192>	1380 IF N1=1 THEN 1410 1390 N2=INT(l+FY/12):IF MID$(T$(20),N2,1)<	<116>
660 Z=0	<153>	>" "THEN 1410	<231>
670 FOR TS=1 TO 33 STEP 8	<115>	1400 T$(20)=LEFT$(T$(20),N2)+"0"+RIGHT$(T$	
680 Ll=LEN(Y$(Z))	<119>	(20),38-N2)	<001>
690 FOR TZ=22 TO 21-L1 STEP-1	<129>	1410 L=.5:D=0:GOTO 200	<005>
700 T$(TZ)=LEFT$(T$(TZ),TS)+MID$(Y$(Z),TZ-		1420 REM ***	<012>
20+Ll,l)+RIGHT$(T$(TZ),38-TS)	<099>	1430 REM *** LINIE ZEICHNEN	<022>
710 NEXT TZ	<027>	1440 REM ***	<032>
720 Z=Z+1	<024>	1450 REM ZEICHENTYP "R" ODER "J"	<144>
730 NEXT TS	<191>	1460 IF L=.5 THEN C^="R":GOTO 1490	<125>
740 REM EINGABE X-SKALA UND AUSWERTUNG	<251>	1470 C$="J"	<008>
750 PRINT"LAENGE (X):"	<097>	1480 REM KOORDINATEN- UND TEXTEINGABE MIT	
760 PRINT"-SKALA IST IN X-RICHTUNG DOPPELT		AUSWERTUNG	<135>
SO LANG WIE IN Y—RICHTUNG"	<182>	1490 INPUT"<CLR>LAENGENWERT (X)";X	<064>
770 INPUT"ANFANG";XA	<039>	1500 INPUT"HOEHENWERT (Y)";Y	<223>
780 INPUT"ENDE";XE	<044>	1510 IF X<=XE AND X>=XA AND Y<=YE AND Y>=Y	
161
Statistik
C64
	A THEN 1560	<223>	1820	IF MID$(T$(TZ),TS,1)<>" "THEN B=TZ-1+	
1520	PRINT"PUNKT LIEGT NICHT INNERHALB DES			LEN(Tl$):V=V+l:NEXT B:GOTO 1840	<085>
	DIA-"	<220>	1830	NEXT B:V=0	<129>
1530	PRINT"GRAMMS. SOLL TROTZDEM DIE LINIE		1840	IF V=1 THEN TS=TS+l:GOTO 1810	<045>
	GE-"	<024>	1850	IF V=2 THEN TS=TS-2:G0T0 1810	<135>
1540	PRINT"ZEICHNET WERDEN, DRUECKEN SIE R		1860	IF V=3 THEN TS=TS+3:G0T0 1810	<193>
	ETURN"	<158>	1870	IF V=4 THEN PRINT"TEXT NICHT MOEGLICH	
1550	Tl$="":GOTO 1580	<104>		":FOR B=0 TO 300:NEXT B:GOTO 1910	<108>
1560	T1$="“:INPUT"TEXT";T1$	<235>	1880	FOR B=TZ TO TZ-1+LEN(T1$)	<205>
1570	IF LEN(Tl$)>20 THEN PRINT"TEXT ZU LAN		1890	T$(B)=LEFT$(T$(B),TS-1)+MID$(T1$,B+1-	
	G":Tl$=""sGOTO 1560	<088>		TZ,1)+RIGHT$(T$(B),39-TS)	<134>
1580	PRINT"<DOWN>RETURN = FUEHRT DIE ANWEI		1900	NEXT B	<150>
	SUNG AUS"	<093>	1910	IF ASC(A$)=141 THEN W=.5:L=0:GOTO 200	<135>
1590	PRINT"SH/RET = AUSFUEHRUNG, DANACH IN		1920	GOTO 1470	<114>
	S MENUE"	<200>	1930	REM ***	<014>
1600	PRINT"M{6SPACE)= ZURUECK INS MENUE"	<020>	1940	REM *** DIAGRAMM AM ENDE DURCH BESCHR	
1610	PRINT"N<6SPACE>= KORREKTUR DER DATEN"	<112>		IFTUNG VERVOLLSTAENDIGEN	<136>
1620	GET A$:IF A^=""THEN 1620	<147>	1950	REM ***	<034>
1630	IF A$="N"THEN 1490	<088>	1960	IF D1=0 THEN RETURN	<220>
1640	IF A$="M"THEN W=0.5:L=0:GOTO 200	<075>	1970	PRINT#2,F1*4:PRINT#5,0	<090>
1650	IF ASC(A$)<>13 AND ASC(A$)<>141 THEN		1980	PRINT#l,"M",0,410	<021>
	1620	<135>	1990	FOR T=1 TO 80	<066>
1660	REM PLOTTERKOORDINATEN UND AUSFUEHRUN		2000	IF T$(T)="{39SPACEJ"THEN PRINT#4:NEXT	
	G	<245>		T:RETURN	<057>
1670	FX=-800*(X-XA)/DX	<093>	2010	IF RIGHTI(T$(T),3B)="{38SPACE>"THEN 2	
1680	FY=400*(Y-YA)/DY	<229>		060	<004>
1690	PRINT#l,C$,FY,FX	<057>	2020	IF RIGHT$(T$(T),29)="<29SPACE>"THEN 2	
1700	REM MARKIERUNGSKREUZ	<013>		070	<038>
1710	IF M=0 THEN 1760	<103>	2030	IF RIGHT$(T$(T),19)="<19SPACE>"THEN 2	
1720	PRINT#5,0:PRINT#1,"R",FY+3,FX	< 111 >		080	<056>
1730	PRINT#1,"J",FY-3,FX:PRINT#1,"R",FY,FX		2040	IF RIGHT$(T$(T),10)="{10SPACE>"THEN 2	
	+3	<107>		090	<194>
1740	PRINT#1,"J",FY,FX-3:PRINT#1,"R",FY,FX	<213>	2050	PRINT#4,T$(T):NEXT T:RETURN	<079>
1750	PRINT#5,G*8	<222>	2060	PRINT#4,LEFT^(T$(T),1):NEXT T:RETURN	<017>
1760	IF Tl^=""THEN 1910	<039>	2070	PRINT#4,LEFT$(T$(T),10):NEXT T:RETURN	<023>
1770	REM EINTRAGUNG TEXT IN FREIEN PLATZ D		2080	PRINT#4,LEFT$(T$(T),20)sNEXT T:RETURN	<013>
	ER BESCHRIFTUNGSVARIABLE T$(X)	<084>	2090	PRINT#4,LEFT$(T$(T),29):NEXT T	<212>
1780	TS=INT(2+FY/12)	<154>	2100	RETURN	<126>
1790	TZ=INT(21-FX/20)	<084>	2110	PRINT#7:CL0SE 7:END	<138>
1800	V=0	<007>			
1810	FOR B=TZ TO TZ-1+LEN(T1$)	<135>	© G<'er	Listing 1. Kreisdiagramm (Schluß)		
10 REM ***********************	<151>	320	GET D$:IF D$<>"J"AND D$<>"N"THEN 320	<108>
20 REM *** KREISDIAGRAMM *	<226>	330	IF D^="J"THEN RUN	<124>
30 REM *** FUER PLOTTER 1520 *	<241>	340	REM ***	<204>
40 REM ***	VON	*	<124>	350	REM *** DATENEINGABE	<098>
50 REM *** FRANZ STROBL *	<101>	360	REM ***	<224>
60 REM *** STARENWEG 12	*	<040>	370	5=0	<089>
70 REM ***	D-8050 FREISING *	< 237 >	380	FOR R1=1 TO AS	<004>
80 REM ***********************	<221>	390	PRINT Rl;:INPUT". WERT";W(R1)	<046>
90 REM ***	<208>	400	GOSUB 1940	<118>
100 REM *** DATENINITIALISIERUNG	<160>	410	S=S+W(R1)	<073>
110 REM ***	<228>	420	NEXT R1	<085>
120 PRINT"{CLR)KREISDIAGRAMM":INPUT"GRQESS E (MAX. 2)";A	<193>	430 440	IF G$="A"OR S<=100 THEN 500	<012> REM REM SUMME DER PROZENTWERTE > 100	<153>
130 IF A>2 OR A<=0 THEN 120 140 OPEN l,6,l:0PEN 2,6,2:0PEN 3,6,3:0PEN 4,6	<097> <064>	450 460	PRINT"SUMME DER PROZENTWERTE > 100"	<026> PRINT"NEUEINGABE (N) ODER KORREKTUR (K )?"	<133>
150 DEF FN K(Y)=SQR((A*A*10000-Y*Y))	<092>	470	GET E$:IF E$<>"N"AND E$<>"K"THEN 470	<160>
160 INPUT"DIAGRAMMFARBE (0 - 3)";F1	<190>	480	IF E$="N"THEN RUN	<028>
170 IF F1<0 OR Fl>3 THEN 160	<067>	490	GOTO 540	<004>
180 PRINT#2,F1	<125>	500	PRINT"WERTEKORRIGIEREN? (J/N)"	<110>
190 INPUT"UEBERSCHRIFT (BIS 20 ZEICHEN)";U $:IF LEN(U$)>20 THEN 190	<220>	510 520	GET K$:IF K$<>"J"AND K$<>"N"THEN 510	<104> IF K$="N"THEN 600	<168>
200 PRINT#3,2:PRINT#4,U$ 210 PRINT#3,0	<167> <149>	530 540	REM KORREKTUR EINES WERTES	<023> INPUT"WELCHEN WERT";K:IF K>AS OR K<1 T
220 INPUT"ANZAHL DER SEKTOREN ( < 100)";AS	<159>		HEN 430	<026>
230 IF AS>100 OR AS<1 OR AS<>INT(AS)THEN 2 20	<221>	550 560	S=S-W(K)	<060> PRINTK;;INPUT". WERT";W(K)	<071>
240 DIM W(AS+l),T$(AS+l),S(AS+l),F$(AS+l)	<072>	570	Rl=KsGOSUB 1940	<236>
250 PRINT"PROZENT- ODER ABSOLUT-WERTE (P/A ) ?"; 260 GET G$:IF ti$=""OR(G$<>"P"AND G$<>"A")T HEN 260 270 PRINT G$	<025> <138> <242>	580 590 600	S=S+W(R1)	<245> GOTO 430	<082> IF S<100 AND G$="P"THEN PRINT"REST:":A S=AS+1:Rl=AS:W(R1)=100-S:PRINT"WERT:"W (Rl)sGOSUB 1940	<070>
280 PRINT"MIT TEXTEINGABE? (J/N)";	<092>	610	REM ***	<220>
290 GET T$:IF T$<>"J"AND T$<>"N"THEN 290 300 PRINT T$	<101> <120>	620	REM *** UMRECHNUNG DER WERTE IN BOGENM ASS-WINKEL	<003>
310 PRINT"SOLLEN DIE DATEN KORRIGIERT WERD EN (J/N)?" Listing 2. Programm »Manager-Kurve«	<174>	630 640	REM ***	<240> IF G^="P"THEN F=.02*l:GOTO 660	<208>
162
C64
Statistik
				
650 F=t*2/S	<133>		0	<183>
660 FOR R2=1 TO AS	<046>	1390	DEF FN L(Y)=Y*XL/YL	<127>
670 W(R2)=W(R2)*F	<135>	1400	IF YR=0 THEN DEF FN R(Y)=250:GOTO 142	
680 NEXT R2	<107>		0	<196>
690 REM ♦**	<044>	1410	DEF FN R(Y)=Y*XR/YR	<088>
700 REM *** KREIS ZEICHEN	<121>	1420	FOR Hl=YL TO 0 STEP-S(R4)	<219>
710 REM ***	<064>	1430	HX=FN L(Hl):HA=FN R(Hl):HB=FN K(H1)	<137>
720 PRINT#1,"M",240,-120*A:PRINT#1,"I”	<093>	1440	IF HA>HB THEN HA=HB	<052>
730 PRINT#l,"R",0,A*100	<206>	1450	PRINT#1,”R”,HX,H1	<114>
740 FOR R3=0 TO 2 STEP.05	<120>	1460	PRINT#1,"J",HA,H1	<030>
750 PRINT#1,"J",A*100*SIN(R3*±),A*100*COS(		1470	NEXT Hl	<039>
R3*1)	<069>	1480	RETURN	<012>
760 NEXT R3	<203>	1490	REM ***	<082>
770 REM ***	<126>	1500	REM *** FARBE II. QUADRANT	<163>
780 REM *♦* ZEICHNEN DER SEKTOREN	<011>	1510	REM ***	<102>
790 REM ***	<146>	1520	IF YL=0 THEN DEF FN L(Y)=250:GOTO 154	<100>
800 Sl=0:Xl=0:Yl=A*100	<030>		0	
810 FOR R4=1 TO AS	<230>	1530	DEF FN L(Y)=Y*XL/YL	<011>
820 S0=S1:X0=X1:Y0=Y1	<058>	1540	IF YR=0 THEN DEF FN R(Y)=250=GOTO 156	<115?^
830 Sl=Sl+W(R4)	<115>		0	
840 X1=A*100*SIN(S1):Y1=A*100*COS(S1)	<020>	1550	DEF FN R(Y)=Y*XR/YR	<230>
850 PRINT#1,"R",0,0:PRINT#1,"J",X1,Y1	<245>	1560	FOR H2=0 TO YR STEP-S(R4)	<084>
860 REM QUADRANTENBESCHRIFTUNG	<118>	1570	HX=FN R(H2)sHA=FN L(H2):HB=FN K(H2>	<188>
870 IF T$="N"THEN 940	<124>	1580	IF HA>HB THEN HA=HB	<194>
880 IF Sl<=Jt/2 THEN PRINT#l,"R",Xl-4,Yl+10		1590	PRINT#l,"R",HX,H2	<032>
:GOTO 920	<191>	1600	PRINT#l,"J",HA,H2	<204>
890 IF SK=±THEN PRINT#l,"R",Xl+6,Yl-6:G0T		1610	NEXT H2	<197>
0 920	<104>	1620	RETURN	< 154>
900 IF Sl<=3*X/2 THEN PRINT#l,"R",Xl-8,Yl-		1630	REM ***	<224>
12:G0T0 920	<104>	1640	REM *** FARBE III. QUADRANT	<172>
910 PRINT#l,"R",Xl-18,Yl	<041>	1650	REM ***	<244>
920 PRINT#4,R4;:PRINT#1,"M”,240,-120*A:PRI NT#!,"!“	<079>	1660	IF YL=0 THEN DEF FN L(Y)=-250:GOTO 16 80	<203>
930 REM FARBE DES SEKTORS	<206>	1670	DEF FN L(Y)=Y*XL/YL	< 153>
940 IF F$(R4)=""THEN 1260	<165>	1680	IF YR=0 THEN DEF FN R(Y)=-250:GOTO 17	<148>
950 PRINT#2,F$(R4)	<180>		00	
960 Q0=INT(2*S0/l):IF Q0=4 THEN Q0=3	<222>	1690	DEF FN R(Y)=Y*XR/YR	<114>
970 Ql=INT(2*Sl/l):IF Ql=4 THEN Ql=3	<054>	1700	FOR H3==0 TO YL STEP-S(R4)	<228>
980 Q=Q1-Q0	<177>	1710	HX=FN L(H3):HA=FN R(H3):HB=-FN K(H3)	<060>
990 IF Q=0 THEN 1210	<162>	1720	IF HA<HB THEN HA=HB	<142>
1000 IF Q=1 THEN 1150	<211>	1730	PRINT#l,"R",HA,H3	<112>
1010 IF Q=2 THEN 1090	<004 >	1740	PRINT#l,"J",HX,H3	<212>
1020 REM 4 QUADRANTEN	<222>	1750	NEXT H3	<097>
1030 XL=X0:YL=Y0:XR=A*100:YR=0:GOSUB 1380	<078>	1760	RETURN	<038^
1040 XL=A*100:YL=0:XR=0:YR=-100*A:GOSUB 15		1770	REM ***	< 108>
20	<240>	1780	REM **♦ FARBE IV. QUADRANT	<142>
1050 XL=0:YL=-100*A:XR=-100*A:YR=0:GOSUB 1		1790	REM ***	<128>
660	<215>	1800	IF YL=0 THEN DEF FN L(Y)=-250:GOTO 18	
1060 XL=-100*A:YL=0:XR=Xl:YR=Yl:GOSUB 1800	<210>		20	<215>
1070 GOTO 1260	<218>	1810	DEF FN L(Y)=Y*XL/YL	<039>
1080 REM 3 QUADRANTEN	<020>	1820	IF YR=0 THEN DEF FN R(Y)=-100*A:GOTO	<141> <000>
1090 IF Ql=3 THEN XL=X0:YL=Y0;XR=0:YR=-100 *AsGOSUB 1520sGOTO 1050	<108>	1830	1840 DEF FN R(Y)=Y*XR/YR	
1100 XL=X0:YL=Y0:XR=A*100;YR=0:GOSUB 1380	<148>	1840	FOR H4=YR TO 0 STEP-S(R4)	<182>
1110 XL=A*100sYL=0sXR=0sYR=-100*A:GOSUB 15		1850	HX=FN R(H4):HA=FN L(H4):HB=-FN K(H4)	<144>
20	<054>	1860	IF HA<HB THEN HA=HB	<028>
1120 XL=0:YL=-100*A:XR=Xl:YR=Yl:GOSUB 1660	<245>	1870	PRINT#l,"R",HA,H4	<030>
1130 GOTO 1260	<022>	1880	PRINT#l,"J",HX,H4	<130>
1140 REM 2 QUADRANTEN	<072>	1890	NEXT H4	<255>
1150 IF Ql=3 THEN XL=X0:YL=Y0:XR=-100#A:YR		1900	RETURN	<180>
=0:GOSUB 1660:GOTO 1060	<060>	1910	REM ***	<250>
1160 IF Ql=2 THEN XL=X0;YL=Y0:XR=0:YR=-100 *A:GOSUB 1520:GOTO 1120	<074>	1920	REM *** EINGABE WEITERER SEKTORENDATE N	<033>
1170 XL=X0sYL=Y0sXR=A*100;YR=0:GOSUB 1380	<218>	1930	REM ***	<014>
1180 XL=A*100:YL=0:XR=Xl:YR=YlsGOSUB 1520	<240>	1940	IF T$="N"THEN 1970	<048>
1190 GOTO 1260	<082>	1950	INPUT"<4SPACE>TEXT (BIS 36 ZEICHEN";T	
1200 REM 1 QUADRANT	<095>		$(R1)	<174>
1210 XL=X0:YL=Y0:XR=X1;YR=Y1	<081>	1960	IF LEN(T$(Rl))>36 THEN 1950	<165>
1220 Ql=Ql+l:ON Q1 GOSUB 1380,1520,1660,18 00	<110>	1970	PRINT"{4SPACE)FARBE (S/B/G/R/RETURN)?	<025>
1230 REM ***	<076>	1980	GET F$:IF F^=""THEN 1980	<108>
1240 REM *** TEXTE UND PROGRAMMENDE	<104>	1990	IF F^="S"THEN F$(Rl)="0":GOTO 2050	<040>
1250 REM ***	<096>	2000	IF F^="B"THEN F^(Rl)="l":GOTO 2050	<174>
1260 PRINT#2,FlsNEXT R4	<208>	2010	IF F$="G"THEN F$(Rl)="2":G0T0 2050	<062>
1270 PRINT#l,"M",0,-240*A	<056>	2020	IF F$="R"THEN F#(Rl)="3":GOTO 2050	<210>
1280 PRINT#4:IF T$="N"THEN 1340	<062?>	2030	IF ASC(F$)=13 THEN F$(Rl)="":PRINT:RE	
1290 PRINT#3,1s PRINT#2,F1:PRINT#4	<192>		TURN	<087>
1300 FOR R5=1 TO AS	<228>	2040	GOTO 1980	<091>
1310 IF R5<10 THEN PRINT#4," ";	<082>	2050	PRINT F$	<236>
1320 PRINT#4,R5;:PRINT#4,T$(R5)	<074>	2060	INPUT"{4SPACE)LINIENABSTAND SCHRAFFIE	
1330 NEXT R5sPRINT#4:PRINT#4	<237>		RUNG";S(R1)	<141>
1340 PRINT#4:CL0SE l:CLOSE 2:CL0SE 3sCL0SE		2070	IF S<R1)<1 THEN 2050	<147>
4;END	<081>	2080	RETURN	<037>
1350 REM *** 1360 REM *** FARBE I. QUADRANT	<198> <219>	© 64zer		
1370 REM *** 1380 IF YL=0 THEN DEF FN L(Y)=250:GOTO 140	<218>	Listing 2. »Manager-Kurve« (Schluß)		
163
Markt&Technik
BUCHVERLAG
H.L. Schneider/W. Eberl
Das Commodore 64-Buch, Bd. 1 1984, 270 Seiten
Der Commodore 64 und seine Handhabung • Einführung in die Grafik ■ Balkendiagramme • Einführung in die Spritetechnik • Basic-Erweiterungen in Assembler • Ein Leitfaden für Erstanwender.
Best.-Nr. MT 591 (Buch) n*> *« (Sfr.44,20/oS374,40) UIVI 4Ö,— Best.-Nr. MT 592 (Beispiele auf Diskette) (Sfr. 58,-/oS 522,—)	*DM 58,—
*	inkl. MwSt. Unverbindliche Preisempfehlung
H.L. Schneider/W. Eberl
Das Commodore 64-Buch, Bd. 2 1984,.181 Seiten
Spiele nicht nur zum Abtippen • Programmlisting ■ Programmbeschreibung • Variablenübersicht • Programme nach Anleitung frei ergänzbar • das ideale Buch, um Programmieren spielend zu lernen.
Best.-Nr. MT 593 (Buch) nia on (Sfr.35,-/oS296,40) UIVI OO,— Best.-Nr. MT 594 (Beispiele auf Diskette) (Sfr. 58,—föS 522,—)	‘DM 58,-
*	inkl. MwSt. Unverbindliche Preisempfehlung
H. L. Schneider/W. Eberl
Das Commodore 64-Buch, Bd. 3 1984, 206 Seiten
AllesüberSprites • Wissenswertes über Multi-Color-Grafik • Assembler/Disas-sembler • jede Menge Basic-Erweiterungen • Umgang mit dem Soundgenerator • ein Leitfaden für Fortgeschrittene.
Best.-Nr. MT 595 (Buch) n Rfl n n (Sfr.35,-/oS296,40) UM OO,— Best.-Nr. MT 596 (Beispiele auf Diskette) (Sfr. 58,—/öS 522,—)	‘ DM 58,—
* inkl. MwSt. Unverbindliche Preisempfehlung
H. L. Schneider/W. Eberl
Das Commodore 64-Buch, Bd. 4 1984, 261 Seiten
Einführung in Maschinenprogrammierung • Verknüpfung von Maschinenprogrammen mit Basic-Programmen ■ alles über Assembler/Disassembler ■ der Leitfaden für Systemprogrammierer.
Best.-Nr. MT 597 (Buch)nnA oo (Sfr.35,-/oS296,40) UM öO,— Best.-Nr. MT 598 (Beispiele auf Diskette) (Sfr. 58,-/oS 522,—)	‘DM 58,-
* inkl. MwSt. Unverbindliche Preisempfehlung
H. L. Schneider/W. Eberl
Das Commodore 64-Buch, Bd. 5 1984, 322 Seiten
Ein Leitfaden durch Simon’s Basic • ausführliche Besprechung aller Befehle • viele erklärende Beispiele ■ mit kom-mentierterAssembler-Listing • dasrich-tige Nachschlagewerk für den geübten Commodore 64-Benutzer.
Best.-Nr. MT 599 (Buch)n.a (Sfr.35,-/oS296,40) UM OO,— Best.-Nr. MT 600 (Beispiele auf Diskette) (Sfr. 58,—/öS 522, —)	‘ DM 58,—
* inkl. MwSt. Unverbindliche Preisempfehlung
Bestellkarten bitte an Ihren
Buchhändler oder an eine unserer Depotbuchhandlungen. Adressenverzeichnis am Ende des Heftes!
Markt&Technik
BUCHVERLAG
Hans-Pinsel-Straße 2, 8013 Haar
Depot-Händler
Tragen Sie Ihre Buchbestellung auf eine Postkarte ein und schicken diese an einen Depothändler in Ihrer Nähe oder an Ihren Buchhändler.
Buchhandlung Herder, Kurfürstendamm 69
1000 Berlin 15, Tel. (030) 883 5002, BTX *921782#
Computare Fachbuchhandlung, Keithstraße 18
1000 Berlin 30, Tel. (0 30) 2 13 90 21
Thalia Buchhaus, Große Bleichen 19
2000 Hamburg 36, Tel. (040) 300 50 50
Boysen + Maasch, Hermannstraße 31
2000 Hamburg 1, Tel. (040) 300505 15
Electro-Data, Wilhelm-Heidsiek-Straße 1 2190Cuxhaven,Tel. (047 21) 512 88 Buchhandlung Muehlau, Holtenauer Straße 116 2300 Kiel, Tel. (0431) 8 5085 ECL, Norderstraße 94-96
2390 Flensburg, Tel. (04 61) 2 81 81
Buchhandlung Weiland, Königstraße 79
2400 Lübeck, Tel. (04 51) 7 40 06-09
Buchhandlung Storm, Langenstraße 10
2800 Bremen 1, Tel. (04 21) 32 15 23
Buchhandlung Lohse-Eissing, Marktstraße 38
2940Wilhelmshaven, Tel. (0 44 21) 416 8 7 '
Buchhandlung Schmorl u. v. Seefeld, Bahnhofstraße 13
3000 Hannover 1, Tel. (0511) 32 76 51
Buchhandlung Graff, Neue Straße 23
3300 Braunschweig, Tel. (05 31) 4 92 71
Deuerlich'sche Buchhandlung, Weender Straße 33
3400 Göttingen, Tel. (05 51) 5 68 68
Buchhandlung an der Hochschule, Holländische Straße 22
3500 Kassel, Tel. (0561) 8 3807
Stern Verlag, Friedrichstraße 24-26
4000 Düsseldorf, Tel. (02 11) 37 3033
Buchhandlung Baedeker, Kettwiger Straße 33-35
4300 Essen 1, Tel. (02 01) 22 13 81
Regensberg'sche Buchhandlung, Alter Steinweg 1
4400 Münster, Tel. (02 51) 40541-5
Buchhandlung Acker, Johannisstraße 51
4500 Osnabrück, Tel. (05 41) 2 84 88
Buchhandlung Lensing, Westenhellweg 86-88
4600 Dortmund, Tel. (02 31) 1 69 80
Buchhandlung Brockmeyer, Querenburger Höhe 281/Unicenter
4630 Bochum, Tel. (02 34) 70 13 60
Buchhandlung Meier + Weber, Warburger Straße 98
4790Paderborn, Tel. (0 52 51) 6 31 72
Buchhandlung Phönix GmbH, Oberntorwall 25
4800 Bielefeld 1, Tel. (0 5 21) 6 90 71
Buchhandlung Gonski, Neumarkt 24
5000 Köln 1, Tel. (02 21) 21 05 28
Mayer'sche Buchhandlung, Ursulinerstraße 17-19
5100 Aachen, Tel. (02 41) 4 81 42
Buchhandlung Behrendt, Am Hof 5a
5300 Bonn 1, Tel. (0228) 658021
Buchhandlung Cusanus, Schloßstraße 12
5400 Koblenz, Tel. (02 61) 3 62 39
Akad. Buchhandlung Interbook, Fleischstraße 61-65
5500Trier, Tel. (06 51) 43596
Buchhandlung W. Finke, Kipdorf 32
5600Wuppertal 1, Tel. (0202) 454220
Buchhandlung Balogh, Sandstraße 1
5900Siegen,Tel. (02 71) 5 52 98-9
Buchhandlung Naacher, Steinweg 3
6000 Frankfurt 1, Tel. (0 69) 29 80 50
Buchhandlung Wellnitz, Lautenschlägerstraße 4
6100 Darmstadt, Tel. (061 51) 76548
Buchhandlung Feller + Gecks, Friedrichstraße 31
6200 Wiesbaden, Tel. (0 61 21) 30 49 11
Ferber'sche UNI-Buchhandlung, Seltersweg 83
6300 Gießen, Tel. (06 41) 1 20 01
Sozialwissenschaftliche Fachbuchhandlung, Friedrichstraße 24
6400 Fulda, Tel. (06 61) 7 50 77
Gutenberg Buchhandlung, Große Bleiche 29
6500 Mainz, Tel. (061 31) 37011
Buchhandlung Bock + Seip, Futterstraße 2
6600 Saarbrücken, Tel. (06 81) 3 06 77
Buchhandlung Wilhelm Hofmann, Bismarckstraße 98
6700 Ludwigshafen, Tel. (06 21) 51 60 01
Buchhandlung Loeffler, B 1,5
6800 Mannheim 1, Tel. (06 21) 2 8912
Buchhandlung Stehn, Bahnhofstraße 13
7000 Stuttgart 50, Tel. (07 11) 56 14 76
Buchhandlung am Markt, Kramstraße 6
7100 Heilbronn, Tel. (0 71 31) 6 86 82
PCB Micro-Computer, Oskar-Kalbfell-Platz 8
7410 Reutlingen, Tel. (0 71 21) 2 7 04 43
UNI Buchhandlung Kellner + Moessner, Kaiserstraße 18
7500 Karlsruhe,Tel. (07 21)6914 36
Buchhandlung Roth, Hauptstraße 45
7600 Offenburg, Tel. (07 81) 2 20 97
Rombach Center, Bertholdstraße 10
7800 Freiburg, Tel. (07 61) 49091
Fachbuchhandlung Hofmann, Hirschstraße 4
7900 Ulm, Tel. (07 31) 6 09 49
Schauties Elektronik, Bachstraße 52
7980 Ravensburg, Tel. (07 51) 2 61 38
Buchhandlung Hugendubel, Marienplatz
8000 München 2, Tel. (0 89) 23 89-1
Computerbücher am Obelisk, Barerstraße 32-34
8000 München 2, Tel. (0 89) 28 23 83
Pele's Computerbücher, Schillerstraße 17
8000 München 2, Tel. (0 89) 55 52 29
Universitätsbuchhandlung Lachner, Theresienstraße 43
8000 München 2, Tel. (0 89) 52 13 40
Buchhandlung Schönhuber, Theresienstraße 6
8070 Ingolstadt, Tel. (08 41) 3 31 46/47
Computerstudio Gertrud Friedrich, Ludwigstraße 3
8220 Traunstein, Tel. (08 61) 1 47 67
Buchhandlung Pustet, Kl. Exerzierplatz 4
8390 Passau, Tel. (08 51) 5 69 45
Buchhandlung Pustet, Gesandtenstraße 6
8400 Regensburg, Tel. (09 41)5 30 61
Buchhandlung Dr. Büttner, Adlerstraße 10-12
8500 Nürnberg, Tel. (09 11) 23 23 18
STS Computer Vertrieb, Werner-Siemens-Straße 19
8580 Bayreuth, Tel. (09 21) 6 23 20
Computer-Center-Burger, LeimitzerStraße 11-13
8670 Hof, Tel. (092 81) 40075
Sortiments- u. Bahnhofsbuchh. J. Strykowski, Bahnhofplatz 4
8700Würzburg, Tel. (0931) 54389
Buchhandlung Pustet, Grottenau 4
8900Augsburg, Tel. (08 21) 3 54 37
Kemptener Fachsortiment, Salzstraße 30
8960 Kempten, Tel. (08 31) 1 44 13
Belgien:
Eicher Micro & Personal Computer, Hünningen 56-58
B-4780 St.Vith, Tel. (0 80) 22 73 93
Luxemburg:
Librairie Promoculture, 14, rue Duchscher (PI. de Paris)
L-1011 Luxembourg-Gare, Tel. 48 06 91, Telex 31 12
Schweiz:
Buchhandlung Meissner, Bahnhofstraße 41
5000 Aarau, Tel. (0 64) 24 71 51
Bücher Balmer, Neugasse 12
6300 Zug, Tel. (042) 21 41 41
Buchhandlung Enge, Bleicherweg 56
8002 Zürich, Tel. (01) 2 01 20 78
Buchhandlung Orell Füssli, Pelikanstraße 10
8022 Zürich, Tel. (01) 2 11 80 11
FreihoferAG, Wissenschaftliche Buchhandlung, Universitätsstr. 11
8033 Zürich, Tel. (01) 3 63 42 82
Buchhandlung am Rößlitor, Webergasse 5
9001 St.Gallen, Tel. (0 71) 22 87 26
Impressum
Herausgeber: Carl-Franz von Quadt, Otmar Weber
Chefredakteur: Michael Scharfenberger
Leitender Redakteur: Albert Absmeier
Redaktion: Volker Everts, Achim Hübner, Georg Klinge (Koordination), Harald Meyer, Markus Ohnesorg, Thomas Röder, Boris Schneider, Arnd Wängler
Fremdautoren:
Lonczewski, Mann, Weineck, Anton, Weck, Marzluf, Langens, Woellecke, Horstmann, Wieske, Demuth, Omerzu, Krügler, Gill, Berner, Klimecki, Dahlmann, Gerlach, Rabich, Riehm, Langer, Fiethe, Strobel
Layout: Leo Eder (Ltg.)
Herstellung: Klaus Buck
Auslandsrepräsentation:
Schweiz: Markt & Technik Vertriebs AG, Kollerstr. 3, CH-6300 Zug, Tel. 042-41 56 56, Telex: 862 329
USA:	M&T Publishing lnc.; 2464 Embarcadero
Way, Palo Alto, CA 94303
Manuskripteinsendungen: Manuskripte und Programmlistings werden gerne von der Redaktion angenommen. Sie müssen frei sein von Rechten Dritter. Sollten sie auch an anderer Stelle zur Veröffentlichung oder gewerblichen Nutzung angeboten werden, so muß dies angegeben werden. Mit der Einsendung von Manuskripten und Listings gibt der Verfasser die Zustimmung zum Abdruck in von der Markt & Technik Verlag AG herausgegebenen Publikationen und zur Vervielfältigung der Programmlistings auf Datenträger. Mit der Einsendung von Bauanleitungen gibt der Einsender die Zustimmung zum Abdruck in von Markt & Technik Verlag AG verlegten Publikationen und dazu, daß Markt & Technik Verlag AG Geräte und Bauteile nach der Bauanleitung herstellen läßt und vertreibt oder durch Dritte vertreiben läßt. Honorare nach Vereinbarung. Für unverlangt eingesandte Manuskripte und Listings wird keine Haftung übernommen.
Vertriebsleitung: Hans Hörl
Anzeigenverwaltung und Disposition: Michaela Hörl
Verlagsleiter M&T-Buchverlag: Günther Frank
Druck: St. Otto Verlag GmbH, Laubanger 23, 8600 Bamberg
Preis: Das Einzelheft kostet DM 14,—
Vertrieb Handelsauflage: Inland (Groß-, Einzel- und Bahnhofsbuchhandel) sowie Österreich und Schweiz: Pegasus Buch- und Zeitschriften-Vertriebs GmbH, Hauptstätter Straße 96, 7000 Stuttgart 1, Telefon (0711)6 48 30
Urheberrecht: Alle in diesem Heft erschienenen Beiträge sind urheberrechtlich geschützt. Alle Rechte, auch Übersetzungen, vorbehalten. Reproduktionen gleich welcher Art, ob Fotokopie, Mikrofilm oder Erfassung in Datenverarbeitungsanlagen, nur mit schriftlicher Genehmigung des Verlages. Anfragen sind an Michael Scharfenberger zu richten. Für Schaltungen, Bauanleitungen und Programme, die als Beispiele veröffentlicht werden, können wir weder Gewähr noch irgendwelche Haftung übernehmen. AusderVeröffentli-chung kann nicht geschlossen werden, daß die beschriebenen Lösungen oder verwendeten Bezeichnungen frei von gewerblichen Schutzrechten sind. Anfragen für Sonderdrucke sind an Peter Wagstyl (185) zu richten.
© 1985 Markt & Technik Verlag Aktiengesellschaft
Verantwortlich:
Für redaktionellen Teil: Michael Scharfenberger
Für Anzeigen: Brigitte Fiebig
Redaktions-Direktor: Michael M. Pauly
Vorstand: Carl-Franz von Quadt, Otmar Weber
Anschrift für Verlag, Redaktion, Vertrieb, Anzeigenverwaltung und alle Verantwortlichen:
Markt & Technik Verlag Aktiengesellschaft, Hans-Pinsel-Straße 2, 8013 Haar bei München, Telefon (0 89) 4613-0, Telex 5-22 052
164

COMPUTER-ZEITSCHRIFTEN VON PROFIS FÜR PROFIS
COMPUTER PERSÖNLICH
PC MAGAZIN
Das aktuelle Fachmagazin
für Personal-Computer.
★ Wenn Sie jetzt den Schritt vom Heim-Computer zur professionellen Anwendung eines Personal Computers planen
★ Wenn Sie beruflich oder privat bereits einen Personal Computer benutzen
★	Wenn Sie regelmäßig Informationen über das aktuelle Produktangebot benötigen
★	Wenn Sie selbst programmieren
★	Wenn Sie professionelle Hard-und Softwaretests suchen
★	Wenn Sie Ihr eigenes System möglichst effizient einsetzen wollen
dann ist »Computer persönlich«, das aktuelle Fachmagazin für Personal Computer, genau Ihre Zeitschrift.
Die konsequente Ausrichtung auf professionelle Anwendungen bietet Ihnen alle wichtigen Informationen.
Von Profis für Profis!
»Computer persönlich« gibt es alle 14 Tage neu bei Ihrem Zeitschriftenhändler oder im Computer-Fach-geschäft.
Einzige Wochenzeitung für Personal Computer im IBM-Standard.
Sie beschäftigen sich beruflich oder privat mit dem Einsatz und der Anwendung von Personal Computern?
Sie sind an aktuellen, professionellen Informationen über IBM-PCs, kompatible Systeme und deren professionellen Einsatz interessiert?
Dann ist das PC Magazin genau auf Ihre persönlichen Bedürfnisse zugeschnitten.
Es wird von anerkannten und erfahrenen Fachjournalisten für professionelle Anwender und Fachleute geschrieben.
Es berichtet jede Woche ausschließlich über Computer im IBM-Standard und kompatible Systeme, über Hard- und Softwareneuheiten.
Es bringt ausführliche Testberichte und gibt Ihnen wichtige Informationen über Netzwerke sowie die
PC/ Host-Verbindung.
Nur diese Spezialisierung ermöglicht eine gezielte Berichterstattung und bietet genügend Raum, um auf Anwenderprobleme spezifisch eingehen zu können.
Von Profis für Profis!
Und das jeden Mittwoch neu bei Ihrem Zeitschriftenhändler oder im Computer-Fachgeschäft.
G U T S C H E 1 N
für ein kostentoses Probeexemplar
angekreuzten Zeitschrift kostenlos als Probeexemplar
□ PC-MAGAZIN
Wenn mir das PC-Magazin zusagt und ich es regelmäßig weiterbeziehen möchte, brauche ich nichts zu tun: Ich erhalte mein PC-Magazin dann regelmäßig jede Woche per Föst frei Haus geliefert und bezahle pro Jahr nur DM 155,—. Zustellung und Postgebühren übernimmt der Verlag.
Senden Sie mir die neueste Ausgabe der von mir □ COMPUTERPERSÖNLICH
Wenn mir Computer persönlich zusagt und ich es regelmäßig weiterbeziehen möchte, brauche ich nichts zu tun: Ich erhalte Computer persönlich dann regelmäßig alle 14 Tage per Post frei Haus geliefert und bezahle pro Jahr nur DM 98.— Zustellung und Postgebühren übernimmt der Verlag.
Vorname/Name
SfräBe	PLZ/Ort
Datum	1. Unterschrift
Mir ist bekannt, daß ich diese Bestellung innerhalb von 8 Tagen bei der Beslelladresse widerrufen kann und bestätige dies durch meine zweite Unterschrift Zur Wahrung der Frist genügt die rechtzeitige Absendung des Widerrufs
Dalum
2 Unterschrift
Gutschein ausfüllen, ausschneiden, auf Poslkarte kleben und einsenden an: Markt&Technik Verlag Aktiengesellschaft. Vertrieb. Postfach 1304. 8013 Haar
Bucher ^^^^modorel28 pc	ist
. Die drei Bet"eb^Xare.	. r KByte, mit entsprechenden
^^GrÜndwrsion stehen ^*"^7KByte, «r Verfügung.
g=S^
>tuW&Ux<in>k
MaAl&fcdH>ik
Conänodore
Handbuch
D^CommodorenS-Handbuch
1985,383Seiten	„Querechnittdurchalle
S^^Äf» Commodore 128. »e w cpw 3 0 vertraut ge Modus und der Benutzug	_ und Soundmog-
macht, edohrenoHes uber d^ ^	der Spe.ch^
|ichkeiten desC128,ter	und ^rden n d>e
verwaltung und das nK g| ßpfoChe sow1e1n die Programmierung™^^
griffbereit haben sollten.
KÄ»
fc*w**
JünHcHüc*.t*dl
BASG7.0 jfdem Commodore
^7.0 auf dem Commodorel28 ä^-ÄESgHS-gSSassgSSi notwendigenKenntnisse^	Listenverarbeitung,
MgabensteHungenz^ Grafikdarstellungen indexsequentielleDa	ntbehdiches ^hrbuch,
£ ffS^ A»^“ * “ schlagewerk eignet.
i?Ä%$o^^^
MarktTech*
BUCHVERLAG
Markt&Technik-Produkte erhalten Sie bei ihrem Buchhändler.	Buchhändler oder
;nd:x::^