<!DOCTYPE html>
<html lang="de">

<head>
    <title>Reise durch das Wunderland der Grafik</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="Heimo Ponnath">
    <meta name="64er.issue" content="4/84">
    <meta name="64er.pages" content="119-125">
    <meta name="64er.head1" content="Grafik-Grundlagen">
    <meta name="64er.head2" content="C 64-Kurs">
    <meta name="64er.toc_title" content="Grafik für 64  – Reise durch das Wunderland der Grafik">
    <meta name="64er.toc_category" content="Kurse">
    <meta name="64er.index_title" content="Reise durch die Wunderwelt der Grafik (Teil 1)">
    <meta name="64er.index_category" content="Kurse|Grafik">
    <meta name="64er.id" content="grafik">
</head>

<body>
    <article>
        <h1>Reise durch das Wunderland der Grafik</h1>

        <p class="intro">Begleiten Sie uns auf einer abenteuerlichen, aber ungefährlichen Reise durch das Wunderland der Grafik. Entdecken Sie die (fast) grenzenlosen Grafikmöglichkeiten des Commodore 64.</p>

        <p>Ist es Ihnen auch so ergangen: Sie lesen Testberichte über den Commodore 64, seine hervorragenden Grafikmöglichkeiten, eine Auflösung von 320 x 200 Punkten, und Ihnen schweben die phantastischen Abbildungen von Computergrafiken vor, die Sie nun auch alle selbst realisieren können, wenn Sie diesen Computer in Händen halten. Dann, nach mehr oder weniger vielen Anstrengungen, sitzen Sie vor Ihrem eigenen Commodore 64, neben sich das 170 Seiten dicke Handbuch, und arbeiten sich durch alles hindurch. Aber wo ist diese schöne Grafik? Nachdem Sie frustriert ein paar Sprites über den Bildschirm ziehen ließen und die Ballspiele aus dem Handbuch anfangen, Sie zu langweilen, geht die Suche los, wie man denn nun eine hübsche dreidimensionale Grafik auf den Bildschirm zaubern kann: Im Handbuch ist nichts zu finden. Dann gibt es nur zwei Möglichkeiten: Entweder Sie lassen die Grafik Grafik sein oder Sie beginnen eine Odyssee durch Buchläden, Computerzeitschriften und auch durch die Speicherzellen Ihres Computers, um sie nach langen Irrwegen endlich zu finden: die hochauflösende Grafik.</p>

        <p>Wenn Ihre Barschaft es erlaubt, können Sie sich natürlich einiges an Schweiß ersparen: Inzwischen wird ja eine Reihe von mehr oder weniger brauchbarer Grafik-Software angeboten. Aber was Sie nicht bezahlen können, ist eine Menge von Erkenntnissen über die Möglichkeiten, die – verborgen hinter dornigen POKE-Hecken – darauf warten, von Ihnen wie Dornröschen wachgeküßt zu werden. Glauben Sie mir, diese Küsse sind es wert, sich in das Byte-Gewirr zu stürzen, zumal ich versuchen werde, Ihnen dazu den von mir schon gebahnten Weg hier und in den kommenden Folgen zu zeigen. Bei der Gelegenheit werden Sie feststellen, daß Sie nicht nur Dornröschen (die hochauflösende Grafik) wachgeküßt haben, sondern – erinnern Sie sich an die Gebrüder Grimm – auch das ganze Volk im Schloß fing an zu leben. Mit nüchternen Worten: Sie machen sich dabei eine Menge anderer, sonst schlafender Eigenschaften Ihres Computers zunutze.</p>

        <h2>Die Grafikmöglichkeiten des C 64</h2>

        <p>Noch einige Worte, bevor wir an die Arbeit gehen: Wissen Sie eigentlich, welche Grafik-Vielfalt der Commodore 64 hat? In Bild 1 ist sie aufgeführt.</p>

        <figure>
            <img src="119-1.png" alt="">
            <figcaption>Bild 1. Die Vielfalt der Grafikmöglichkeiten des Commodore 64</figcaption>
        </figure>

        <p>Im Handbuch finden Sie davon nur zwei angegeben: Den »normalen« Zeichensatz und die »normalen« Sprites. Zu dem Schema in Bild l gehören eigentlich noch einige Kleinigkeiten, auf die wir noch stoßen werden. So kann beispielsweise der Bildschirm auf verschiedene Grafikarten aufgeteilt werden und so weiter. Aber um so weit zu gelangen, müssen wir uns erst eine Weile durch die Byte-Dornen gehauen haben.</p>

        <p>Sie dürfen schon Ihren Computer anschalten, denn wir werden bei der nun folgenden Reise durch das Grafik-Land einiges ausprobieren. Allerdings werden wir uns vorübergehend dabei von den Gebrüdern Grimm trennen müssen, denn die Landschaft, durch die wir uns dabei bewegen, paßt besser zum Wunderland der kleinen Alice: Ganze Landschaftsteile sind da und doch nicht da, Gebäude verschwinden und andere tauchen wieder auf, die Zeit wird gedehnt, Spiegelbilder erscheinen.</p>

        <p>Wir fangen zunächst mal damit an, den Ast, auf dem wir sitzen, abzusägen. Damit Sie sich trotzdem keinen Schaden zufügen, sollten Sie vorher noch alle Programme, die Sie eventuell noch im Computer haben, auf Kassette oder Diskette abspeichern. Erledigt? Dann geben Sie doch jetzt mal folgendes ein:</p>
        <pre>POKE 1,PEEK(1) AND 252 »RETURN«</pre>

        <p>Jetzt ist Ihr Computer scheintot. Kein Cursor mehr, keine Reaktion auf Tastendrucke. Aber dafür haben Sie jetzt tatsächlich die 64 KBytes RAM (Worterklärungen siehe Kasten), die in der Kaltstartmeldung des C 64 angekündigt sind, zur freien Verfügung (Bild 2). Nur ist nichts damit anzufangen! Die 65536 freien Bytes Speicherkapazität liegen wie jungfräulicher Ackerboden vor uns und wir Benutzer sind ihnen völlig egal: Es muß also außer dem, was über einen Adreßbus von 16 Bit normalerweise erreichbar ist, noch etwas anderes vorhanden sein, etwas, das uns die Kommunikation mit unserem Computer erlaubt.</p>

        <figure>
            <img src="119-2.png" alt="">
            <figcaption>Bild 2. Die 64 KByte RAM pur</figcaption>
        </figure>

        <p>Natürlich ist das auch jetzt vorhanden, nur der 64 sieht es nicht. Das zwingt uns leider dazu, einige für ihn verschwundene Gebäude durch Aus- und Einschalten schlagartig wieder sichtbar zu machen. Welche Gebäude sieht der Computer jetzt wieder?</p>

        <p>Da ist zunächst einmal das Betriebssystem (auch Kernal-ROM genannt). Alle Hausnummern unserer Byte-Straße von 57344 bis 65535 haben noch eine Etage außer dem RAM-Erdgeschoß: Im ersten Stock liegt dort das Kernal-ROM (Bild 3).</p>

        <figure>
            <img src="119-3.png" alt="">
            <figcaption>Bild 3. So ist das Kernal-ROM plaziert</figcaption>
        </figure>

        <p>Dieses Kernal-ROM ist sozusagen der Organisator unseres Computers – nichts geht ohne ihn, wie wir ja eben, als er weggeschaltet war, gesehen haben. Allerdings braucht auch der beste Organisator noch einige andere lebenswichtige Partner. Damit wir überhaupt mit dem Computer in Verbindung treten können, sind noch einige weitere Hausnummern zumindest einstöckig (Bild 4).<br>
            53248 bis 57343. Ein- und Ausgabebausteine<br>
            40960 bis 49151. Basic-ROM</p>

        <p>Es gibt sogar Häuser mit einem zweiten Stock.<br>
            53248 bis 57343. Zeichen-ROM</p>

        <figure>
            <img src="119-4.png" alt="">
            <figcaption>Bild 4. Die Ein-/Ausgabebausteine, das Zeichen- und Basic-ROM mit der entsprechenden Speicherbelegung</figcaption>
        </figure>

        <p>Zum Zeichen-ROM werden wir später kommen und die Ein- und Ausgabebausteine werden uns eine ganze Weile beschäftigen. Ohne Basic-ROM könnten wir nur in Maschinensprache unseren C 64 programmieren und eben nicht in Basic.</p>

        <p>Wie kann unser Computer diese anderen Etagen nützen? Es sind ja insgesamt statt 64 KByte jetzt 88 KByte oder exakt 90112 Zimmerfluchten zu je 8 Bit, auf die man gelangen können muß. Man kann sich das so vorstellen, daß zum Beispiel zwischen den Hausnummern 53248 und 57343 einen Augenblick lang die Ein- und Ausgabebausteine stehen, dann verschwinden sie und im nächsten Augenblick steht das Zeichen-ROM dort, dann wieder die Ein-/Ausgabebausteine und so weiter. Also tatsächlich ein Wunderland, das wir an dieser Byte-Straße finden. Gesteuert wird dieses Auftauchen und Verschwinden vom Betriebssystem. In Wirklichkeit bleibt alles an seinem Platz.</p>

        <p>Man sollte meinen, daß der Commodore 64 durch diese ganzen Zaubereien, denen er sich da widmen muß, wenig Zeit für uns Benutzer hat! Aber weit gefehlt, unser Computer ist so schnell, daß für uns seine Zeit gedehnt aussieht. Der Puls des Computers rast mit zirka 1 Million Schlägen pro Sekunde, während unser Puls rund einhalbmal in der Sekunde schlägt: In der Zeit also, in der unser Augenlid einmal zwinkert, hat der Computer schon tausende von Operationen vorgenommen und steht gewissermaßen mit den Fingern trommelnd bereit, unser Kommando endlich zu empfangen. Eigentlich langweilt er sich die meiste Zeit. Wie man seine Leistungsfähigkeit effektiver als mit Basic-Programmen ausnutzen kann, dazu werden wir in dieser Serie auch noch kommen.</p>

        <p>Zunächst wollen wir uns mal ein wenig umsehen in unserem Speicher. Dazu kann das angefügte Programm »SpeiLu« benutzt werden (siehe Listing). Ziemlich primitiv, für unsere Zwecke zunächst aber schon ausreichend, ist dieses kleine Programm:</p>

        <pre>
10 INPUT"STARTADRESSE";A
20 FOR I=A TO A+255:PRINT PEEK(I);:NEXT
30 GET A$:IF A$="" THEN 30
40 IF A$="←" THEN A=I:GOTO 20
</pre>

        <p>Geben Sie nach dem RUN jetzt mal als Startadresse 6000 ein. Es erscheinen Blöcke von Nullen und Blöcke von 255ern (meistens). Wenn Sie »←« drücken, kommen die nächsten 256 Bytes auf den Bildschirm und so weiter. So sieht ein leerer Speicher aus. Drücken Sie irgendeine Taste (außer »←«) und starten Sie mit RUN erneut. Mit der Eingabe von 2048 blicken wir in die ersten 256 Bytes unseres Basic-RAMs. Der wüste Zahlensalat in der oberen Hälfte des Bildschirms ist die Computer-Version unseres Programms. Danach ist dann wieder leerer Speicher zu sehen.</p>

        <h2>Im Speicher ist einiges los</h2>

        <p>Wieso eigentlich 2048 als Start des Basic-RAMs? Warum nicht 0? Sehen wir uns doch mal mit ein bißchen Geduld den RAM-Bereich von 0 bis 2048 an, also Starten des Programms und Eingeben von 0: Wir sehen einen nahezu vollen Speicher. Das ist die sogenannte Zero-Page, zu deutsch Null-Seite. Voll ist die Seite, weil sie uns das Betriebssystem abgezwackt hat, um dort eine Reihe wichtiger Werte zu speichern. Wie wichtig das ist, haben wir gesehen, als wir den Wert 55 des ersten Byte (auf dem Bildschirm jetzt die zweite Zahl oben links) durch unser Astabsägen verändert haben. Wenn wir jetzt »←« drücken, sehen wir die nächste Seite (page 1) auf dem Bildschirm. Auch diese Seite – obwohl sie jetzt größtenteils leer ist (Nullen und 255er-Blöcke) – gehört dem Betriebssystem: Es ist der sogenannte Prozessorstapelspeicher. Drücken wir nochmal »←«, dann erscheint Seite 2 (Adresse 512 bis 767). Hier ist zwar auch vieles leer (viele Nullen), aber wenn wir uns recht erinnern, sah der normale leere Speicher anders aus. Auch diese Seite hat der Computer unserem Zugriff durch das normale Basic entzogen und speichert dort einige wichtige Angaben. Die Seite 3 erfüllt einen ähnlichen Zweck und außerdem befindet sich dort von 828 bis 1019 noch der Kassettenpuffer. Damit hat uns das Betriebssystem unseres Computer also schon das erste KByte des Speichers gemopst. Wenn Sie sich entsinnen, habe ich vorhin erwähnt, daß das Basic-RAM bei 2048 beginnt. Wie sieht es also im Bereich des zweiten KByte aus? Wenn wir uns mittels »←« die nächsten vier Seiten ansehen, marschieren stramme Kolonnen von Zahlen zwischen 48 und 87 (und viele 32) auf. Das sind Bildschirm-Codes von Zahlen und Leerstellen: Hier haben wir den Bildschirmspeicher mit insgesamt 1000 Bytes und dazu noch einige Bytes, die uns bei den Sprites beschäftigen werden. Jetzt sind wir wieder beim Basic-RAM ab 2048 angelangt. Haben Sie noch Lust? Dann probieren Sie noch ein bißchen weiter und sehen sich zum Beispiel das Basic-ROM zwischen 40960 und 49151 an oder das Betriebssystem oder ...</p>

        <p>Dabei werden Sie dann nochmal einen freien RAM-Bereich zwischen 49152 und 53247 finden (Bild 5), der aber normalerweise nicht für Basic erreichbar ist. Jetzt kennen wir – bis auf einige weitere Merkwürdigkeiten, zum Beispiel die versprochenen Spiegelbilder – unseren Computerspeicher schon ganz gut und können uns dem für die Grafik wichtigsten Speicherteil zuwenden: den Ein- und Ausgabebausteinen.</p>

        <figure>
            <img src="119-5.png" alt="">
            <figcaption>Bild 5. Die unteren 2 KByte des RAM-Bereichs sind ebenfalls durch das Betriebssystem belegt</figcaption>
        </figure>

        <h2>Der VIC-II-Chip</h2>

        <p>Verschaffen wir uns zunächst einen Überblick:</p>

        <ul>
            <li>Der Video-Interface-Controller 6567 (VIC-I) liegt zwischen den Hausnummern 53248 und 54271. Genaugenommen ist die letzte Register-Hausnummer allerdings schon 53294. Alle Register liegen tatsächlich nur auf 47 von den 1024 Hausnummern.</li>
            <li>An den VIC-II-Chip schließt sich das Sound Interface Device 6581 (SID) an, welches von Hausnummer 54272 bis 55295 reicht. Das ist ein ebenfalls sehr verlockendes Nachbaranwesen (Musikliebhaber kommen hier auf ihre Kosten), welches wir bei dieser Gelegenheit aber nicht besuchen wollen.</li>
            <li>Von 55296 bis 56319 (genauer eigentlich nur bis 56295) liegt das Farb-RAM, Dornröschens hauseigene Malerei, die wir noch bemühen werden.</li>
            <li>Stippvisiten werden wir uns erlauben beim Pförtner des Schlosses, der seine Wache bei den Hausnummern 56320 bis 56575 stehen hat, dem sogenannten Complex Interface Adapter 6526 (CIA Nr. 1). Die 1 rührt daher, daß er noch einen Kollegen hat, der das Revier von Adresse 56576 bis 56831 bewohnt und logischerweise CIA Nr. 2 heißt.</li>
            <li>Sozusagen Baugrund für Erweiterungen findet man noch zwischen den Speicheradressen 56832 und 57343. Die einzelnen Abteilungen sind in Bild 6 aufgeschlüsselt.</li>
        </ul>

        <figure>
            <img src="119-6.png" alt="">
            <figcaption>Bild 6. Die Ein-/Ausgabebausteine sind noch in weitere Untergruppen eingeteilt</figcaption>
        </figure>

        <p>Von nun an wird uns Dornröschens Schloß, der VIC-I-Chip, ständig beschäftigen. Damit die Orientierung leichter fällt, ist die Tabelle 1 abgebildet, in der alle Registerinhalte wie auf einem Grundriß verzeichnet sind. Auf den ersten Blick sieht das zugegebenermaßen reichlich verwirrend aus – lassen Sie sich nicht erschrecken.</p>

        <p>Sie stehen jetzt sozusagen mitten im Dornengestrüpp, und wenn wir gemeinsam den Weg hindurchgefunden haben, wird Ihnen alles verständlich sein, was da steht. Fangen wir mit der Hausnummer 53272 an:</p>

        <p>Wenn sie Lust haben, können Sie sich den Inhalt der Adresse 53272 einmal mit dem beigefügten Programm »SpeiLu« betrachten. Aus der Registerübersicht werden Sie beim Nachschlagen sehen, daß die Bit (Zimmer) 7-4 den Ort des Bildschirms im Speicher anzeigen und die Bit 3-0 im Normalfall etwas damit zu tun haben, wo die Zeichen (Buchstaben, Zahlen, Grafikzeichen etc.) abrufbar sind. Bevor wir daran gehen, dieses Byte zu verändern, wollen wir es im Urzustand erstmal unter die Lupe nehmen. Wenn Sie</p>
        <pre>PRINT PEEK(53272)</pre>
        <p>eingeben, werden Sie den Wert 21 ausgedruckt bekommen. Haben Sie sich diesen Speicherplatz mittels »SpeiLu« angesehen, dann fanden Sie etwas wie</p>
        <pre>00010101</pre>
        <p>was der Binärausdruck der Dezimalzahl 21 ist. Aber dazu kommen wir noch. Das Betriebssystem setzt nach dem Einschalten das Byte 53272 automatisch auf diesen Wert, und wenn Sie sich an die Speicherreise mit dem kleinen Vierzeilen-Programm erinnern, dann wissen Sie auch noch, daß der Bildschirmspeicher damit auf die Startadresse 1024 festgelegt ist.</p>

        <p>Wie Sie ebenfalls wissen, hat der Commodore 64 im Normalfall 40 Zeichen pro Zeile und 25 Zeilen, was insgesamt 1000 Zeichen pro Bildschirm ergibt. Deswegen hat der Bildschirmspeicher eine Ausdehnung von 1000 Bytes: von 1024 bis 2023. Die Aufteilung dieser 1000 Speicherplätze auf den Bildschirm ersehen Sie aus dem Handbuch auf Seite 138. Was ist nun drin in den Bildschirmspeicherstellen? Probieren wir es aus! Tippen Sie doch mal ein:<br>
            »shift + clear home« ABC »Return«</p>

        <p>Natürlich taucht jetzt eine Fehlermeldung auf, die uns aber nicht kümmern soll. Jetzt steht ganz links oben (in Speicherplatz 1024) das A, dann B (1025) und C (1026). Nun wollen wir mal sehen, was der Computer sich merkt:</p>
        <pre>PRINT PEEK(1024), PEEK(1025, PEEK(1026) »Return«</pre>
        <p>Es erscheint 1&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;3.</p>

        <p>Wenn also auf dem Bildschirm ein A vorhanden ist, hat der Computer in der dazugehörigen Stelle seines Speichers eine 1 stehen, bei Beine 2, bei C eine 3 und so weiter. Lassen Sie uns den Bildschirm nochmal löschen mit »shift + clear home«. Dann gehen wir mit dem Cursor etwas abwärts und poken diese Kennzahlen in den Bildschirmspeicher:</p>
        <pre>POKE 1024,1:POKE 1025,2: POKE1026,3 »Return«</pre>

        <p>Nach dem Return ist anscheinend nichts passiert. Erst wenn Sie mit dem Cursor dorthin fahren, wo eigentlich ABC stehen sollte, tauchen diese Buchstaben unter dem Cursor auf. Der Grund für dieses Verhalten liegt sicherlich darin, daß die Kennzahl 1 in der Speicherzelle 1024 alleine nicht genügt, das A sichtbar zu machen. Es hat automatisch die Farbe des Hintergrundes. Einem Zwilling des Bildschirmspeichers sind wir bei den Ein- und Ausgabebausteinen schon begegnet: dem Farb-RAM zwischen 55296 und 56295. Wie er aufgeteilt ist (Bild 7) steht im Handbuch Seite 139 zusammen mit den Farbkennzahlen.</p>

        <figure>
            <img src="119-7.png" alt="">
            <figcaption>Bild 7. Ein Zeichen auf dem Bildschirm setzt sich aus der Bildschirm- und der Farbinformation zusammen.</figcaption>
        </figure>

        <p>Wenn wir jetzt zum Beispiel noch eingeben:</p>
        <pre>POKE 58296, 1:POKE 55297,3:POKE 55298,7 »Return«</pre>
        <p>dann sehen wir ein weißes A, ein cyanfarbenes B und ein gelbes C.</p>

        <p>Übrigens, wenn Ihnen die aktuelle Farbe des Cursors oder der gerade verwendeten Zeichen nicht gefällt, dann probieren Sie doch mal</p>
        <pre>POKE 646, Farbkennzahl.</pre>

        <p>Und weil wir gerade bei den Farben sind, die Speicherzellen 53280 und 53281 steuern, mit Farbkennzahlen belegt, die Rahmen- und die Hintergrundfarbe. Mir persönlich gefällt zum Beispiel folgende Kombination sehr gut (auf Schwarzweiß-Bildschirm)</p>
        <pre>POKE 53280,11:POKE 53281,11: POKE 646,0 »Return«</pre>

        <p>Nun zu den Zeichen. Woher weiß der Computer, daß er ein A drucken muß, wenn eine 1 im Bildschirmspeicher steht? Das sagt ihm das Betriebsystem. Es teilt ihm mit, daß im Byte 53272 des VIC-II-Chips eine Kennzahl steht (Bit 1-3, Bit 0 wird nicht beachtet), die ihm wiederum sagt, wo die Muster für alle Zeichen zu finden sind. Merkwürdigerweise deutet diese Kennzahl auf eine Startadresse der Zeichenmuster von 4096! Das Zeichen-ROM, das wir bei unserer anfänglichen Speicherbegehung als 2. Stock im Bereich 53248 bis 57343 kennengelernt haben, ist davon meilenweit entfernt! 4096 liegt außerdem mitten in einem Bereich, der ständig von Basic-Programmen überschrieben wird.</p>

        <p>Die genaue Lösung des Rätsels soll erst in einer der nächsten Folgen gegeben werden. Aufgrund einer technischen Eigenart des VIC-I-Chips werden vom Zeichen-ROM zwei Geisterbilder im Bereich 4096 bis 8191 und im Bereich 36864 bis 40959 erzeugt. Der VIC-II-Chip »meint«, er hole seine Zeichen-Muster aus diesen Bereichen. In Wirklichkeit bezieht er sie im Normalfall immer aus dem Zeichen-ROM. Das ist eine Eigenart, die so recht in Alices Wunderland paßt!</p>

        <p>Wie sehen diese Zeichen-Muster aus? Auch dazu können Sie das Programm »SpeiLu« benutzen. Wenn Sie sich damit beispielsweise mal das A ansehen, finden Sie ein Muster, wie es in Bild 8 dargestellt ist.</p>

        <figure>
            <img src="119-8.png" alt="">
            <figcaption>Bild 8. Das Zeichenmuster des Buchstaben A</figcaption>
        </figure>

        <p>Dieses 8 x 8-Gitter (auch Matrix genannt) enthält also das Abbild des Zeichens A. Alle Zeichen sind auf diese Weise als Punktmuster gespeichert in jeweils acht Speicherzellen (hier also von 53256 bis 53263). Ein dunkles Feld bedeutet ein gesetztes Bit (=1; im Zimmer ist etwas drin), ein helles Feld ein gelöschtes Bit (=0; das Zimmer enthält nichts).</p>

        <p>Das Zeichen-ROM hat an nullter Stelle von 53248 bis 53255 das Zeichen mit dem Bildschirmcode 0 (den Klammeraffen @), an erster Stelle von 53256 bis 53263 – wie wir sehen – das Zeichen mit dem Bildschirmcode 1 (also das A) und so weiter nacheinander in Form von je acht Bytes als Bit-Muster gespeichert. Wenn Sie im Handbuch die Seite 133 f. aufschlagen, dann können Sie die Tabelle 2 mit dem Inhalt des Charakter-ROMs besser verstehen.</p>

        <p>Probieren Sie mal aus, sich die einzelnen Zeichen mit dem Programm »SpeiLu« durch Eingabe der Bildschirmcodes (im Handbuch bis 127 als Pokes bezeichnet) abbilden zu lassen.</p>

        <p>Das Programm »SpeiLu« (der Name kommt von »Speicher-Lupe«) enthält noch einige für Sie bislang noch geheimnisvolle Einzelheiten: die Hexadezimal- und die Binärzahlen, das Interrupt-System, das Kopieren des Zeichen-ROM. Dies alles hängt zusammen mit der Frage: Wie kann man sich eigene Zeichen bauen und verwenden? Wir werden sie in der nächsten Folge gemeinsam beantworten.</p>

        <p>Mit dem bisher zurückgelegten Weg durch das Dornengestrüpp sind wir unserem Ziel, der hochauflösenden Grafik, schon ein ganzes Stück nähergekommen. Ich hoffe, daß Sie nach der Ruhepause bis zur nächsten Folge die zweite Etappe der Expedition zu Dornröschen zusammen mit mir durchführen werden.</p>

        <address class="author">(Heimo Ponnath)</address>

        <figure>
            <pre data-filename="speilu" data-name="SpeiLu (Speicherlupe)"></pre>
            <figcaption>Listing. Das Programm »SpeiLu« (Speicherlupe)</figcaption>
        </figure>

        <figure>
            <table>
                <tbody>
                    <tr>
                        <th>Register</th>
                        <th>Adresse</th>
                        <th>Bit 7</th>
                        <th>Bit 6</th>
                        <th>Bit 5</th>
                        <th>Bit 4</th>
                        <th>Bit 3</th>
                        <th>Bit 2</th>
                        <th>Bit 1</th>
                        <th>Bit 0</th>
                    </tr>
                    <tr>
                        <td>0</td>
                        <td>53248</td>
                        <td colspan="8">X-Position des Sprite Nr. 0. Dazu muß Register 16 beachtet werden</td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>53249</td>
                        <td colspan="8">Y-Position des Sprite Nr. 0</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>53250</td>
                        <td colspan="8">X-Position des Sprite Nr. 1. Auch dazu, wie zu allen folgenden Sprites, muß Register 16 beachtet werden.</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>53251</td>
                        <td colspan="8">Y-Position des Sprite Nr. 1</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>53252</td>
                        <td colspan="8">X-Position des Sprite Nr. 2. s. o.</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>53253</td>
                        <td colspan="8">Y-Position des Sprite Nr. 2</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>53254</td>
                        <td colspan="8">X-Position des Sprite Nr. 3. s. o.</td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td>53255</td>
                        <td colspan="8">Y-Position des Sprite Nr. 3</td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td>53256</td>
                        <td colspan="8">X-Position des Sprite Nr. 4. s. o.</td>
                    </tr>
                    <tr>
                        <td>9</td>
                        <td>53257</td>
                        <td colspan="8">Y-Position des Sprite Nr. 4</td>
                    </tr>
                    <tr>
                        <td>10</td>
                        <td>53258</td>
                        <td colspan="8">X-Position des Sprite Nr. 5. s. o.</td>
                    </tr>
                    <tr>
                        <td>11</td>
                        <td>53259</td>
                        <td colspan="8">Y-Position des Sprite Nr. 5</td>
                    </tr>
                    <tr>
                        <td>12</td>
                        <td>53260</td>
                        <td colspan="8">X-Position des Sprite Nr. 6. s. o.</td>
                    </tr>
                    <tr>
                        <td>13</td>
                        <td>53261</td>
                        <td colspan="8">Y-Position des Sprite Nr. 6</td>
                    </tr>
                    <tr>
                        <td>14</td>
                        <td>53262</td>
                        <td colspan="8">X-Position des Sprite Nr. 7. s. o.</td>
                    </tr>
                    <tr>
                        <td>15</td>
                        <td>53263</td>
                        <td colspan="8">Y-Position des Sprite Nr. 7</td>
                    </tr>
                    <tr>
                        <td>16</td>
                        <td>53264</td>
                        <td>Spr. 7,<br>msb X-Pos.</td>
                        <td>Spr. 6,<br>msb X-Pos.</td>
                        <td>Spr. 5,<br>msb X-Pos.</td>
                        <td>Spr. 4,<br>msb X-Pos.</td>
                        <td>Spr. 3,<br>msb X-Pos.</td>
                        <td>Spr. 2,<br>msb X-Pos.</td>
                        <td>Spr. 1,<br>msb X-Pos.</td>
                        <td>Spr. 0,<br>msb X-Pos.</td>
                    </tr>
                    <tr>
                        <td>17</td>
                        <td>53265</td>
                        <td>msb des Rasterregisters (Reg. 18)</td>
                        <td>Schaltbit für veränderten Hintergundfarbmodus<br>1 = eingeschaltet</td>
                        <td>Schaltbit für Hochauflösungsmodus<br>1 = eingeschaltet</td>
                        <td>Schaltbit für Bildschirm »aus«<br>0 = normaler Bildschirm<br>1 = Bildschirmfarbe gleich Hintergrundfarbe</td>
                        <td>Schaltbit für Zeilenzahl<br>0 = 24 Zeilen<br>1 = 25 Zeilen</td>
                        <td colspan="3">Wert der Zeilenverschiebung in Y-Richtung beim Smooth Scrolling</td>
                    </tr>
                    <tr>
                        <td>18</td>
                        <td>53266</td>
                        <td colspan="8">Rasterregister. Dazu kommt das msb in Bit 7, Register 17</td>
                    </tr>
                    <tr>
                        <td>19</td>
                        <td>53267</td>
                        <td colspan="8">Lichtgriffel X-Position</td>
                    </tr>
                    <tr>
                        <td>20</td>
                        <td>53268</td>
                        <td colspan="8">Lichtgriffel Y-Position</td>
                    </tr>
                    <tr>
                        <td rowspan="2">21</td>
                        <td rowspan="2">53269</td>
                        <td colspan="8">Ein- und Ausschalten von Sprites. 0 = Sprite aus. 1 = Sprite an</td>
                    </tr>
                    <tr>
                        <td>Sprite 7</td>
                        <td>Sprite 6</td>
                        <td>Sprite 5</td>
                        <td>Sprite 4</td>
                        <td>Sprite 3</td>
                        <td>Sprite 2</td>
                        <td>Sprite 1</td>
                        <td>Sprite 0</td>
                    </tr>
                    <tr>
                        <td>22</td>
                        <td>53270</td>
                        <td></td>
                        <td></td>
                        <td>Reset-Bit, muß 0 sein, damit VIC-II-Chip arbeitet</td>
                        <td>Schaltbit für Mehrfarbmodus<br>1 = eingeschaltet</td>
                        <td>Schaltbit für Spaltenzahl<br>0 = 38 Spalten<br>1 = 40 Spalten</td>
                        <td colspan="3">Wert der Spaltenverschiebung in X-Richtung beim Smooth Scrolling</td>
                    </tr>
                    <tr>
                        <td rowspan="2">23</td>
                        <td rowspan="2">53271</td>
                        <td colspan="8">Sprite-Vergrößerung in Y-Richtung. 0 = normale Größe. 1 = = doppelte Größe.</td>
                    </tr>
                    <tr>
                        <td>Sprite 7</td>
                        <td>Sprite 6</td>
                        <td>Sprite 5</td>
                        <td>Sprite 4</td>
                        <td>Sprite 3</td>
                        <td>Sprite 2</td>
                        <td>Sprite 1</td>
                        <td>Sprite 0</td>
                    </tr>
                    <tr>
                        <td>24</td>
                        <td>53272</td>
                        <td colspan="4">Startadresse des Bildschirmspeichers</td>
                        <td colspan="4">
                            <ul>
                                <li>Startadresse des Speicherbereichs, in dem die Zeichen als Punktmatrizen abzurufen sind.</li>
                                <li>Startadresse der Bit-Map</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>25</td>
                        <td>53273</td>
                        <td colspan="4">Interrupt-Flaggen-Register Interrupt</td>
                        <td>Lichtgriffel-Interrupt-Flagge</td>
                        <td>Sprite/Sprite-Kollision</td>
                        <td>Sprite/Hintergrund-Kollision</td>
                        <td>Raster-Interrupt-Flagge</td>
                    </tr>
                    <tr>
                        <td>26</td>
                        <td>53274</td>
                        <td colspan="4">Interrupt-Masken-Register Interrupt</td>
                        <td>Lichtgriffel-Interrupt-Maske</td>
                        <td>Sprite/Sprite-Koll.-Maske</td>
                        <td>Sprite/Hintergrund-Kollision Maske</td>
                        <td>Raster-Interrupt-Maske</td>
                    </tr>
                    <tr>
                        <td rowspan="2">27</td>
                        <td rowspan="2">53275</td>
                        <td colspan="8">Sprite/Hintergrund-Prioritätenregister. 0 = Sprite hat Priorität. 1 = Hintergrund hat Priorität</td>
                    </tr>
                    <tr>
                        <td>Sprite 7</td>
                        <td>Sprite 6</td>
                        <td>Sprite 5</td>
                        <td>Sprite 4</td>
                        <td>Sprite 3</td>
                        <td>Sprite 2</td>
                        <td>Sprite 1</td>
                        <td>Sprite 0</td>
                    </tr>
                    <tr>
                        <td rowspan="2">28</td>
                        <td rowspan="2">53276</td>
                        <td colspan="8">Sprite-Mehrfarbmodus-Register. 0 = Normaldarstellung. 1 = Mehrfarbmodus-Darstellung</td>
                    </tr>
                    <tr>
                        <td>Sprite 7</td>
                        <td>Sprite 6</td>
                        <td>Sprite 5</td>
                        <td>Sprite 4</td>
                        <td>Sprite 3</td>
                        <td>Sprite 2</td>
                        <td>Sprite 1</td>
                        <td>Sprite 0</td>
                    </tr>
                    <tr>
                        <td rowspan="2">29</td>
                        <td rowspan="2">53277</td>
                        <td colspan="8">Sprite-Vergrößerung in X-Richtung. 0 = normale Größe. 1 = doppelte Größe</td>
                    </tr>
                    <tr>
                        <td>Sprite 7</td>
                        <td>Sprite 6</td>
                        <td>Sprite 5</td>
                        <td>Sprite 4</td>
                        <td>Sprite 3</td>
                        <td>Sprite 2</td>
                        <td>Sprite 1</td>
                        <td>Sprite 0</td>
                    </tr>
                    <tr>
                        <td rowspan="2">30</td>
                        <td rowspan="2">53278</td>
                        <td colspan="8">Sprite/Sprite-Kollision. 0 = keine Berührung. 1 = Berührung</td>
                    </tr>
                    <tr>
                        <td>Sprite 7</td>
                        <td>Sprite 6</td>
                        <td>Sprite 5</td>
                        <td>Sprite 4</td>
                        <td>Sprite 3</td>
                        <td>Sprite 2</td>
                        <td>Sprite 1</td>
                        <td>Sprite 0</td>
                    </tr>
                    <tr>
                        <td rowspan="2">31</td>
                        <td rowspan="2">53279</td>
                        <td colspan="8">Sprite/Hintergrund-Kollision. 0 = keine Berührung. 1 = Berührung</td>
                    </tr>
                    <tr>
                        <td>Sprite 7</td>
                        <td>Sprite 6</td>
                        <td>Sprite 5</td>
                        <td>Sprite 4</td>
                        <td>Sprite 3</td>
                        <td>Sprite 2</td>
                        <td>Sprite 1</td>
                        <td>Sprite 0</td>
                    </tr>
                    <tr>
                        <td>32</td>
                        <td>53280</td>
                        <td colspan="4">unbenutzt</td>
                        <td colspan="4">Farbe des Bildschirmrahmens</td>
                    </tr>
                    <tr>
                        <td>33</td>
                        <td>53281</td>
                        <td colspan="4">unbenutzt</td>
                        <td colspan="4">Hintergrundfarbe Nr. 0 (normale Hintergrundfarbe)</td>
                    </tr>
                    <tr>
                        <td>34</td>
                        <td>53282</td>
                        <td colspan="4">unbenutzt</td>
                        <td colspan="4">Hintergrundfarbe Nr. 1</td>
                    </tr>
                    <tr>
                        <td>35</td>
                        <td>53283</td>
                        <td colspan="4">unbenutzt</td>
                        <td colspan="4">Hintergrundfarbe Nr. 2</td>
                    </tr>
                    <tr>
                        <td>36</td>
                        <td>53284</td>
                        <td colspan="4">unbenutzt</td>
                        <td colspan="4">Hintergrundfarbe Nr. 3</td>
                    </tr>
                    <tr>
                        <td>37</td>
                        <td>53285</td>
                        <td colspan="4">unbenutzt</td>
                        <td colspan="4">Sprite-Mehrfarben-Register Nr. 0</td>
                    </tr>
                    <tr>
                        <td>38</td>
                        <td>53286</td>
                        <td colspan="4">unbenutzt</td>
                        <td colspan="4">Sprite-Mehrfarben-Register Nr. 1</td>
                    </tr>
                    <tr>
                        <td>39</td>
                        <td>53287</td>
                        <td colspan="4">unbenutzt</td>
                        <td colspan="4">Sprite 0, Farbe</td>
                    </tr>
                    <tr>
                        <td>40</td>
                        <td>53288</td>
                        <td colspan="4">unbenutzt</td>
                        <td colspan="4">Sprite 1, Farbe</td>
                    </tr>
                    <tr>
                        <td>41</td>
                        <td>53289</td>
                        <td colspan="4">unbenutzt</td>
                        <td colspan="4">Sprite 2, Farbe</td>
                    </tr>
                    <tr>
                        <td>42</td>
                        <td>53290</td>
                        <td colspan="4">unbenutzt</td>
                        <td colspan="4">Sprite 3, Farbe</td>
                    </tr>
                    <tr>
                        <td>43</td>
                        <td>53291</td>
                        <td colspan="4">unbenutzt</td>
                        <td colspan="4">Sprite 4, Farbe</td>
                    </tr>
                    <tr>
                        <td>44</td>
                        <td>53292</td>
                        <td colspan="4">unbenutzt</td>
                        <td colspan="4">Sprite 5, Farbe</td>
                    </tr>
                    <tr>
                        <td>45</td>
                        <td>53293</td>
                        <td colspan="4">unbenutzt</td>
                        <td colspan="4">Sprite 6, Farbe</td>
                    </tr>
                    <tr>
                        <td>46</td>
                        <td>53294</td>
                        <td colspan="4">unbenutzt</td>
                        <td colspan="4">Sprite 7, Farbe</td>
                    </tr>
                </tbody>
            </table>
            <figcaption>Tabelle 1. Registerübersicht des VIC-II-Chips</figcaption>
        </figure>

        <figure>
            <table>
                <tbody>
                    <tr>
                        <td>Block</td>
                        <td>Adressenbereich</td>
                        <td>Zeichen</td>
                        <td>Muster abrufbar im Programm mit Code</td>
                    </tr>
                    <tr>
                        <td rowspan="4">0</td>
                        <td>53248 - 53759</td>
                        <td>Satz 1 von 0 bis 63 (0 bis ?)</td>
                        <td>0 - 63</td>
                    </tr>
                    <tr>
                        <td>53760 - 54271</td>
                        <td>Satz 1 von 64 bis 127 (Grafikz.)</td>
                        <td>64 - 127</td>
                    </tr>
                    <tr>
                        <td>54272 - 54783</td>
                        <td>Satz 1 von 0 bis 63 (Reversed)</td>
                        <td>128 - 191</td>
                    </tr>
                    <tr>
                        <td>54784 - 55295</td>
                        <td>Satz 1 von 64 bis 127 (Reversed)</td>
                        <td>192 - 255</td>
                    </tr>
                    <tr>
                        <td rowspan="4">1</td>
                        <td>55296 - 55807</td>
                        <td>Satz 2 von 0 bis 63 (kleine Buchst.)</td>
                        <td>256 - 319</td>
                    </tr>
                    <tr>
                        <td>55808 - 56319</td>
                        <td>Satz 2 von 64 bis 127 (Großbuchst. + Grafikz.)</td>
                        <td>320 - 383</td>
                    </tr>
                    <tr>
                        <td>56320 - 56831</td>
                        <td>Satz 2 von 0 bis 63 (Reversed)</td>
                        <td>384 - 447</td>
                    </tr>
                    <tr>
                        <td>56832 - 57343</td>
                        <td>Satz 2 von 64 bis 127 (Reversed)</td>
                        <td>448 - 511</td>
                    </tr>
                </tbody>
            </table>
            <figcaption>Tabelle 2. Inhalt des Zeichen-ROMs</figcaption>
        </figure>

		<aside>
			<p>Damit Sie nicht über Begriffe stolpern, sind sie hier erklärt:</p>
			<table>
				<tbody>
					<tr>
						<td>RAM</td>
						<td>= Random Access Memory = Speicher für beliebigen Zugriff, also Schreiben und Lesen (POKE und PEEK) möglich.</td>
					</tr>
					<tr>
						<td>ROM</td>
						<td>= Read Only Memory = Speicher ist nur zum Lesen (PEEK)</td>
					</tr>
					<tr>
						<td>Speicher</td>
						<td>kann man sich vorstellen als lange Straße mit meist ebenerdigen Häusern und Hausnummern von 0 bis 65535</td>
					</tr>
					<tr>
						<td>Byte</td>
						<td>Ein Haus dieser Straße mit acht Zimmern. Man numeriert sie durch von 0 bis 7.</td>
					</tr>
					<tr>
						<td>Bit</td>
						<td>Ein Zimmer eines solchen Hauses. Es ist entweder etwas drin (Bit gesetzt, also = 1) oder nichts drin (Bit gelöscht, also = 0)</td>
					</tr>
					<tr>
						<td>Adreßbus</td>
						<td>Eine Art Kabinentaxi, das alle 65536 Häuser durch Angabe der Hausnummer ansteuern kann. Eine höhere Zahl als 65535 kann nicht angegeben werden.</td>
					</tr>
					<tr>
						<td>1 KByte</td>
						<td>= Einmal 1024 Bytes</td>
					</tr>
					<tr>
						<td>1 page</td>
						<td>= Eine Seite = ein Viertel von 1 KByte = 256 Bytes</td>
					</tr>
				</tbody>
			</table>
		</aside>

    </article>

</body>

</html>
