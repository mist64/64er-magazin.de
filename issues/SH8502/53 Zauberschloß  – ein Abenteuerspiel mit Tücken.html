<!DOCTYPE html>
<html lang="de">

<head>
    <title>Zauberschloß – ein Abenteuerspiel mit Tücken</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="Dennis Merbach, aa">
    <meta name="64er.issue" content="Sonderheft 2/85">
    <meta name="64er.pages" content="53,55-56,59-61">
    <meta name="64er.head1" content="Listings"> <!-- head1 and head2 were reversed -->
    <meta name="64er.head2" content="Zauberschloß"> <!-- and inconsistent with other articles -->
    <meta name="64er.toc_category" content="Abschnitt 2 - Listings zum Abtippen">
    <meta name="64er.toc_title" content="Zauberschloß - im Land der Abenteuer">
    <meta name="64er.id" content="zauberschloß">
</head>

<body>
    <article>
        <h1>Zauberschloß – ein Abenteuerspiel mit Tücken</h1>
        <p class="intro">Abenteuerspiele haben ihren ganz besonderen Reiz. Gefragt sind weniger die motorischen Reaktionsfähigkeiten, sondern vielmehr die logische Vorgehensweise und viel Fantasie. In einem streng bewachten Schloß mit seinen vielfältigen Gefahren gilt es, dem Zauberer die Krone und damit die Regentschaft über das Volk zu entreißen. Doch es ist ein steiniger Weg.</p>

        <p>Es ist uns klar, daß wir mit der Veröffentlichung des Listings vom Zauberschloß die Möglichkeit bieten, durch Analyse des Programms dem Lösungsweg auf die Spur zu kommen. Viel wichtiger erschien uns jedoch, einmal an einem kommentierten Listing zu zeigen, wie ein Abenteuerspiel aufgebaut ist. Nicht zuletzt, um vielleicht einige Leser anzuregen, sich selbst mit der Erstellung dieser Denkspiele zu befassen.</p>

        <p>Worum geht es bei dem Abenteuerspiel Zauberschloß? Nach dem Starten des Programms sieht man zunächst den Wald vor lauter Bäumen nicht. Präzise gesagt, man befindet sich in einem Wald, der kein Ende zu nehmen scheint. In welche Richtung man auch läuft — nur Wald. Mit einem Trick gelangt man aber doch in das Zauberschloß.</p>

        <p>An dieser Stelle sei kurz auf die Art der Befehlseingabe hingewiesen. Um die gestellte Aufgabe (die sich erst während des Spiels klarer herauskristallisiert) zu lösen, geben Sie dem Computer Anweisungen, die er dann ausführt. Diese Befehle bestehen in der Regel aus zwei Worten, die durch eine Leerstelle getrennt sein müssen. Das erste Wort ist ein Befehlswort, das aus dem vorhandenen Wortschatz (NIMM VERLIERE LIES ÖFFNE VERJAGE DREH BENUTZE TRINK) zu entnehmen ist. Das zweite Wort bezieht sich auf einen Gegenstand, der in den jeweiligen Situationsbildern zu sehen ist. Die Auswirkungen der Kommandos werden vom C64 auf dem Bildschirm als Nachricht angezeigt. Für die Richtungsangabe werden nur die Anfangsbuchstaben eingegeben. Die möglichen Himmelsrichtungen sind jeweils vorgegeben.</p>

        <p>Das Schloß besteht aus mehreren Stockwerken einschließlich einem Kerker im Keller, der in keinem anständigen Schloß fehlen darf. In den verschiedenen Stockwerken lauern Kobolde, die Sie bei falscher Vorgehensweise in einen Zwerg verwandeln, öffnen sich bei Fehltritten Falltüren, liegen Tarnkappen, Gift- und Zaubergetränke, Messer, Speere und Zettel herum. All diese Gegenstände stehen in irgendeiner Beziehung zum weiteren Vorwärtskommen. Man muß sie in der entsprechenden Reihenfolge aufnehmen und wieder wegwerfen. Wegwerfen deshalb, weil man zu einem bestimmten Zeitpunkt nur vier Gegenstände gleichzeitig tragen kann. Ein wesentlicher Meilenstein ist das Buch. In diesem Buch stehen nämlich wichtige Informationen, wie man sich bei der letztlich eintretenden Konfrontation mit dem Zauberer zu verhalten hat. Aber Vorsicht, die Wache hat etwas gegen den verständlichen Wunsch, dieses Buch zu lesen. Als größtes Hindernis tritt Ihnen ein feuerspeiender Drache gegenüber, der den Eingang zum Thronsaal bewacht. Fürwahr, ein schwerer Brocken. Wenn Sie aber den richtigen Zauberspruch auf Lager haben, verwandelt der Zauberer sich in eine niedliche Maus, und Sie haben das Königreich von einem Tyrannen befreit. Es bleibt nur ein Problem: Wie kommt man mit der Krone wieder aus dem Schloß heraus?</p>

        <p>Aber bis Sie soweit vorgedrungen sind, werden sicherlich einige Stunden vergangen sein, in denen Sie ein Wechselbad von Enttäuschungen und Hochgefühlen durchleben. Da bis zum endgültigen Ziel eine Menge Schritte einzugeben sind, und Sie sicherlich nicht beim ersten Versuch gleich die Lösung finden werden, bietet Ihnen das Programm die Möglichkeit, das Spiel mit dem Kommando SAVE abzuspeichern. So können Sie zu einem späteren Zeitpunkt genau bei der Stelle weitersuchen, an der Sie kurz vor einem Zusammenbruch aufgehört haben.</p>

        <p>Noch eine kurze Bemerkung zum Listing: Um die oben angesprochene Analyse dennoch etwas zu erschweren, sind einige Daten verschlüsselt worden. Das Listing ist im Grafikmodus einzugeben.</p>

        <p>Und nun viel Spaß bei einem Abenteuer im Zauberschloß.</p>

        <address class="author">(Dennis Merbach/aa)</address>

        <figure>
            <table>
                <tbody>
                    <tr>
                        <th>Zeile</th>
                        <th></th>
                    </tr>
                    <tr>
                        <td>102-162</td>
                        <td>Datas für Sprites</td>
                    </tr>
                    <tr>
                        <td>101-102</td>
                        <td>Fackel (Multicolor)</td>
                    </tr>
                    <tr>
                        <td>104-106</td>
                        <td>Wache</td>
                    </tr>
                    <tr>
                        <td>108-110</td>
                        <td>Drache 1. Teil</td>
                    </tr>
                    <tr>
                        <td>112-114</td>
                        <td>Drache 2. Teil</td>
                    </tr>
                    <tr>
                        <td>116-118</td>
                        <td>Drache 3. Teil</td>
                    </tr>
                    <tr>
                        <td>120-122</td>
                        <td>Gift</td>
                    </tr>
                    <tr>
                        <td>125-127</td>
                        <td>Handschuh</td>
                    </tr>
                    <tr>
                        <td>130-132</td>
                        <td>Zauberer 1. Teil</td>
                    </tr>
                    <tr>
                        <td>135-138</td>
                        <td>Zauberer 2. Teil</td>
                    </tr>
                    <tr>
                        <td>140-143</td>
                        <td>Krone</td>
                    </tr>
                    <tr>
                        <td>150-151</td>
                        <td>Maus</td>
                    </tr>
                    <tr>
                        <td>155-157</td>
                        <td>Kobold</td>
                    </tr>
                    <tr>
                        <td>160-162</td>
                        <td>Zaubertrank</td>
                    </tr>
                    <tr>
                        <td>500-</td>
                        <td>Spielanleitung</td>
                    </tr>
                    <tr>
                        <td>1000</td>
                        <td>Spielbeginn (im Wald)</td>
                    </tr>
                    <tr>
                        <td>1500</td>
                        <td>Unterprogramm Bäume zeichnen</td>
                    </tr>
                    <tr>
                        <td>2030</td>
                        <td>Bildschirm blinken</td>
                    </tr>
                    <tr>
                        <td>10000</td>
                        <td>im Schloß Poke VC + 17, Peek (VC + 17) and 239 = Bildschirm ausschalten (einschalten mit Poke VC + 17, Peek (VC + 17) or 16</td>
                    </tr>
                    <tr>
                        <td>10005-10092</td>
                        <td>Zeichnen des Raums mit Türen und Leitern</td>
                    </tr>
                    <tr>
                        <td>11000-</td>
                        <td>sonstige Gegenstände; zu ausführliche Erläuterungen würden hier zu viele Hinweise auf die Lösung geben</td>
                    </tr>
                    <tr>
                        <td>21000-</td>
                        <td>verschiedene Kontrollen und Zähler für</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td>Dunkelheit, Tarnkappe, Drache...</td>
                    </tr>
                    <tr>
                        <td>22000-22010</td>
                        <td>Ausgabe der im Raum befindlichen Gegenstände</td>
                    </tr>
                    <tr>
                        <td>30000-</td>
                        <td>Kommandoeingabe, Erkennung und Reaktion</td>
                    </tr>
                    <tr>
                        <td>40000-</td>
                        <td>Spiel gewonnen, Schloß in Rauch auflösen...</td>
                    </tr>
                    <tr>
                        <td>50000-52000</td>
                        <td>angefangenes Spiel aufnehmen</td>
                    </tr>
                    <tr>
                        <td>55000-57000</td>
                        <td>angefangenes Spiel laden</td>
                    </tr>
                    <tr>
                        <td>58000-59000</td>
                        <td>Fehlerkontrolle für Diskette</td>
                    </tr>
                    <tr>
                        <td>60000-</td>
                        <td>Ende Kommentare und Reaktionen</td>
                    </tr>
                    <tr>
                        <td>60020-60030</td>
                        <td>Auflisten der getragenen Gegenstände</td>
                    </tr>
                    <tr>
                        <td>60200-60222</td>
                        <td>Plan des Schlosses</td>
                    </tr>
                    <tr>
                        <td>60310</td>
                        <td>Spielende bei verlorenem Spiel</td>
                    </tr>
                </tbody>
            </table>

            <p>Teilweise ist das Programm ein wenig umständlich und könnte vielleicht einfacher programmiert sein. Da aber das Programm schrittweise erstellt wurde, war dies größtenteils nicht mehr möglich, oder eine Änderung wäre zu aufwendig gewesen.</p>

            <table>
                <tbody>
                    <tr>
                        <th><b>Bit</b><b></b></th>
                        <th><b>PR(P1) 1.Block</b><b></b></th>
                        <th><b>PL(P) 2. Block</b><b></b></th>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>Nord</td>
                        <td>Fackel</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>Ost</td>
                        <td>Speer</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>Süd</td>
                        <td>Handschuh</td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td>West</td>
                        <td>Krone</td>
                    </tr>
                    <tr>
                        <td>16</td>
                        <td>Hoch</td>
                        <td>Schlüssel</td>
                    </tr>
                    <tr>
                        <td>32</td>
                        <td>Runter</td>
                        <td>Knopf</td>
                    </tr>
                    <tr>
                        <td>64</td>
                        <td>Fallgrube</td>
                        <td>Buch</td>
                    </tr>
                    <tr>
                        <td>128</td>
                        <td>1. Wache</td>
                        <td>Truhe</td>
                    </tr>
                    <tr>
                        <td>256</td>
                        <td>2. Wache</td>
                        <td>Messer</td>
                    </tr>
                    <tr>
                        <td>512</td>
                        <td>Drache</td>
                        <td>Zaubertrank</td>
                    </tr>
                    <tr>
                        <td>1024</td>
                        <td>Zauberer</td>
                        <td>Schild</td>
                    </tr>
                    <tr>
                        <td>2048</td>
                        <td>—</td>
                        <td>Kobold</td>
                    </tr>
                    <tr>
                        <td>4096</td>
                        <td>—</td>
                        <td>Tarnkappe</td>
                    </tr>
                    <tr>
                        <td>8192</td>
                        <td>—</td>
                        <td>Plan</td>
                    </tr>
                    <tr>
                        <td>16384</td>
                        <td>—</td>
                        <td>Gift</td>
                    </tr>
                </tbody>
            </table>

            <figcaption>Das Abenteuerspiel »Zauberschloß« nach Zeilennummern aufgeschlüsselt mit Bitmapping</figcaption>
        </figure>

        <figure>
            <p>Variable:</p>
            <table>
                <tbody>
                    <tr>
                        <td>VC</td>
                        <td>53281, Videochip Start</td>
                    </tr>
                    <tr>
                        <td>XY</td>
                        <td>Zahl der Gegenstände, die man tragen kann (2 oder 4)</td>
                    </tr>
                    <tr>
                        <td>X,Y</td>
                        <td>Position im Wald</td>
                    </tr>
                    <tr>
                        <td>PX, PY, PZ</td>
                        <td>Position im Schloß</td>
                    </tr>
                    <tr>
                        <td>HA</td>
                        <td>Speicherung aller Gegenstände, die man bei sich hat</td>
                    </tr>
                    <tr>
                        <td>HB</td>
                        <td>Zahl dieser Gegenstände</td>
                    </tr>
                    <tr>
                        <td>RU</td>
                        <td>erstes Spiel (= 0) oder weiteres Spiel (= 1), um unnötiges, mehrmaliges Durchlaufen einiger Programmteile zu umgehen.</td>
                    </tr>
                    <tr>
                        <td>W,WZ</td>
                        <td>Zähler zur Kontrolle, ob und wie lange man sich mit einer Wache in einem Raum befindet</td>
                    </tr>
                    <tr>
                        <td>DR, DZ</td>
                        <td>wie oben, für den Drachen</td>
                    </tr>
                    <tr>
                        <td>BU</td>
                        <td>Zähler, wie lange man das Buch trägt</td>
                    </tr>
                    <tr>
                        <td>BE</td>
                        <td>Kontrolle zur Benutzung der Tarnkappe</td>
                    </tr>
                    <tr>
                        <td>HE</td>
                        <td>Zähler zur Kontrolle der Helligkeit</td>
                    </tr>
                    <tr>
                        <td>BU$</td>
                        <td>»0« wenn Buch offen ist</td>
                    </tr>
                    <tr>
                        <td>TU$</td>
                        <td>»0« wenn Tür offen ist</td>
                    </tr>
                    <tr>
                        <td>DL$</td>
                        <td>Tabelle aller Gegenstände</td>
                    </tr>
                    <tr>
                        <td>PR(X,Y,Z)</td>
                        <td>Plan der möglichen Richtungen und unbeweglichen Gegenstände in den Räumen</td>
                    </tr>
                    <tr>
                        <td>P1</td>
                        <td>wie oben, für den Raum, in dem man sich gerade befindet</td>
                    </tr>
                    <tr>
                        <td>PL(X,Y,Z)</td>
                        <td>Plan der beweglichen Gegenstände</td>
                    </tr>
                    <tr>
                        <td>P</td>
                        <td>wie oben, für augenblicklichen Raum</td>
                    </tr>
                    <tr>
                        <td>K0$</td>
                        <td>vom Spieler eingegebenes Kommando</td>
                    </tr>
                    <tr>
                        <td>A$</td>
                        <td>Kommentar</td>
                    </tr>
                </tbody>
            </table>
            <p>Zeilen:</p>
            <table>
                <tbody>
                    <tr>
                        <td>2,3</td>
                        <td>Datas für Namen der Gegenstände zum Erkennen und Ausgeben</td>
                    </tr>
                    <tr>
                        <td>10-70</td>
                        <td>Datas für Schloßplan 1. Block: Richtungen und unbewegliche Dinge (PR beziehungsweise P1) 2. Block: bewegliche Gegenstände (PL beziehungsweise P)<br>
                            Die Speicherung erfolgt, wie bei HA, bitweise, das heißtzum Beispiel 1. BitderZahlgesetzt = Fackel befindet sich im betreffenden Raum.</td>
                    </tr>
                </tbody>
            </table>
            <figcaption>Variablendefinition und einige Erläuterungen</figcaption>
        </figure>

        <figure>
            <pre data-filename="zauberschloss" data-name="Zauberschloß" data-checksummer="2"></pre>
            <figcaption>Listing »Zauberschloß«. Beachten Sie bitte den Checksummer.</figcaption>
        </figure>

        <figure>
            <img src="53-1.png" alt="">
        </figure>

    </article>
</body>

</html>
