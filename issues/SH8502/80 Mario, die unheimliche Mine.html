<!DOCTYPE html>
<html lang="de">

<head>
    <title>Mario, die unheimliche Mine</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="Frank Leggewie, Harald Bornfleth, rg">
    <meta name="64er.issue" content="Sonderheft 2/85">
    <meta name="64er.pages" content="80-82,84-86,88-89,91-92">
    <meta name="64er.head1" content="Listings">
    <meta name="64er.head2" content="Mario">
    <meta name="64er.toc_category" content="Abschnitt 2 - Listings zum Abtippen">
    <meta name="64er.toc_title" content="Mario, die unheimliche Mine">
    <meta name="64er.id" content="mario">
</head>

<body>
    <article>
        <h1>Mario, die unheimliche Mine</h1>
        <p class="intro">Im Land der Fantasie liegt die Mine »Mario«. Finden sie den richtigen Weg durch das ausgedehnte Gangsystem.</p>

        <figure>
            <img src="80-0.png" alt="">
        </figure>

        <p>Mario ist ein Grafik-Adventure für den C 64. Das Spiel ist in normalem C 64-Basic geschrieben und füllt fast den gesamten Basic-Speicherplatz des Computers. Es finden 24 Sprites Verwendung, deren Daten bei Bedarf eingeschaltet werden. Deshalb muß der Spieler zu Beginn eine knappe viertel Minute warten, während dessen er Gelegenheit hat, die Anleitung zu lesen. Lesern von J. R. Tolkien werden gewisse Parallelen zu dem Buch »Der Herr der Ringe« auffallen. Das ist nicht ganz zufällig, denn die verlassene Mine namens Mario ist in gewissem Sinne der Zwergenmine Moria aus diesem Buch nachempfunden. Wer überhaupt nicht mehr weiter weiß, sollte sich dieses Buch ausleihen. Dort kann er einige Hilfen für das Adventure finden.</p>

        <p>Das Spiel versteht 19 Befehle. Diese lauten:</p>

        <p>NIMM, VERLIERE, HEBE, ENTLEERE, WIRF, LIES (diese Befehle werden von einem Gegenstand gefolgt)</p>

        <p>OEFFNE (eine Tür oder ein Tor)</p>

        <p>BRINGE &hellip; UM (dazwischen steht ein Lebewesen)</p>

        <p>SPEICHERE, LADE (für das Speichern und Laden eines Spielstandes, um nicht immer wieder von vorn anfangen zu müssen). Diese Befehle können erst eingegeben werden, wenn man in die Mine eingedrungen ist. Besitzer einer Diskettenstation müssen die Zeilen 16520 (Öffnen der Datei für Speichern) und 16620 (Öffnen der Datei für Laden) entsprechend ändern.</p>

        <p>SAGE (wird von beliebigen Worten gefolgt, die aber nicht in normalen Anführungszeichen stehen sollten).</p>

        <p>HILF (hier gibt der Computer Hilfen oder Erklärungen, denen man aber nicht immer trauen sollte)</p>

        <p>LIST (zeigt die getragenen Gegenstände auf)</p>

        <p>N, S, O, W, H (hoch), R (runter).</p>

        <p>Man kann höchstens drei Gegenstände auf einmal tragen. Wenn das Anfangsbild erstellt ist, muß eine Taste gedrückt werden, da danach soviel Text erscheint, daß eine vernünftige Grafik zusammen mit dem Text nicht möglich wäre. Vorsicht mit der Rechtschreibung! Der Computer achtet genau auf die richtige Schreibweise der Befehle.</p>

        <p>Zu jedem Raum, in dem man sich befindet, wird ein Bild gezeigt, das die Spielsituation verdeutlicht. Insgesamt gibt es sechs voneinander völlig verschiedene Bilder. Es gibt jedoch wesentlich mehr Räume, da die Bilder manchmal nur leicht abgewandelt werden, wenn man in einen anderen Raum kommt.</p>

        <p>Bei dem Weg durch die Mine wird man unter anderem von Orks, einer Riesenspinne und einem schrecklichen Feuerwesen behindert. Mehr soll hier nicht verraten werden. Aufpassen muß man auch bei den Himmelsrichtungen. Der Spieler sieht die Räume so, daß Osten immer in Blickrichtung liegt.</p>

        <h3>Erläuterungen zum Ablaufschema des Programms</h3>

        <p>Zunächst springt das Programm in Zeile 9000, wo die Erläuterungen für den Spieler am Bildschirm ausgegeben werden, danach liest es die Daten der Sprites und wartet auf einen Tastendruck. Es zeichnet das Anfangsbild und geht zu Zeile 6000, wo mittels eines GET-Befehls das Kommando eingegeben wird. Sobald »Return« gedrückt wird, erfolgt die Auswertung. Hat man das Tor geöffnet und den Befehl »0« eingegeben, wird das nächste Bild gezeichnet und es folgt der Sprung in Zeile 15030, wo für alle Räume, außer dem Anfangsbild, das Kommando mittels INPUT-Befehl eingelesen wird. In den darauffolgenden Zeilen wird für jeden möglichen Befehl geprüft, ob er identisch mit dem eingegebenen Kommando ist und die entsprechende Reaktion auslöst Wenn man einen neuen Raum betritt, geht das Programm zu Zeile 10200, von wo aus dann in die Unterprogramme zum Zeichnen der Räume verteilt wird. Von diesen werden die Unterprogramme ab Zeile 10000, 10100, 10300 und 11000 angesprochen:</p>

        <table class="plain">
            <tr>
                <td>10000</td>
                <td>berechnet mittels C(X,Y) die Gegenstände, stellt sie mittels einer Verzweigung in die Unterprogramme ab 5000 dar</td>
            </tr>
            <tr>
                <td>10100</td>
                <td>berechnet mittels D(X,Y) die Ausgänge aus den Räumen, besetzt eventuell die Merker B(1) bis B(6)</td>
            </tr>
            <tr>
                <td>10300</td>
                <td>sucht nach Besonderheiten (E(X,Y)), verzweigt in die Unterprogramme zu ihrer Darstellung</td>
            </tr>
            <tr>
                <td>11000</td>
                <td>stellt fest, ob wegen irgendwelcher Besonderheiten der Tod des Spielers eingetreten ist. Wenn ja, dann gibt es zu dem Unterprogramm ab Zeile 8000, das das Spiel beendet und auf Wunsch des Spielers neu startet. Wenn nein, erfolgt ein Rücksprung.</td>
            </tr>
        </table>

        <p>Sonder-Unterprogramme (Inhalt der Schriftrolle, des Buches, Flucht der Spinne etc.) werden von den Auswertungszeilen zum INPUT-Befehl direkt aufgerufen.</p>

        <p>Das Feuer in einem Raum besteht aus 4 Sprites, die nacheinander erscheinen und deshalb eine Bewegung vortäuschen.</p>

        <p>Obwohl die Mine mehrere Ebenen hat, gibt es zur Bestimmung der Position des Spielers nur zwei Variablen, X und Y Dies geschah aus Speicherplatzgründen. Wenn man in die nächste Ebene kommt, dann wird einfach der Y-Wert auf einen Wert gebracht, der in der vorhergehenden Ebene gar nicht vorkommen kann. So wurde die Positionsbestimmung mit nur zwei Variablen möglich.</p>

        <address class="author">(Frank Leggewie/Harald Bornfleth/rg)</address>

        <figure>
            <table>
                <tbody>
                    <tr>
                        <td><b>70</b></td>
                        <td><b>READ- und DATA-Zellen</b><br>
                            70 Sprite Ralbog 1<br>
                            80 Sprite Ralbog 2<br>
                            90 Sprite Berg 1<br>
                            109 Sprite Berg 2<br>
                            119 Sprite Torbogen vorne<br>
                            129 Sprite Torbogen links<br>
                            139 Sprite Torbogen rechts<br>
                            149 Sprite Spinne<br>
                            159 Sprite Ork<br>
                            169 Sprite Panzerhemd<br>
                            179 Sprite Feuer 1<br>
                            189 Sprite Feuer 2<br>
                            199 Sprite Feuer 3<br>
                            209 Sprite Feuer 4<br>
                            219 SpriteUhr<br>
                            229 Sprite Seil<br>
                            239 Sprite Schwert<br>
                            249 SpriteSchriftrolle<br>
                            259 Sprite Buch<br>
                            269 Sprite Schlüssel<br>
                            279 SpriteEimer<br>
                            289 Sprite Fackel<br>
                            292 SprltePlatte<br>
                            296 Sprite Laterne<br>
                            300 Ausgänge der Räume<br>
                            400 Gegenstände (Strings)</td>
                    </tr>
                    <tr>
                        <td>421</td>
                        <td>Besonderheiten einlesen</td>
                    </tr>
                    <tr>
                        <td>430</td>
                        <td>Gegenstände einlesen</td>
                    </tr>
                    <tr>
                        <td>1000</td>
                        <td>Anfangsbild zeichnen</td>
                    </tr>
                    <tr>
                        <td>1500</td>
                        <td>Bild »Heller Gang« zeichnen</td>
                    </tr>
                    <tr>
                        <td>2000</td>
                        <td>Bild »Dunkler Gang« zeichnen</td>
                    </tr>
                    <tr>
                        <td>3000</td>
                        <td>Bild »Raum mit Säulen« zeichnen</td>
                    </tr>
                    <tr>
                        <td>4000</td>
                        <td>Treppe zeichnen</td>
                    </tr>
                    <tr>
                        <td>4100</td>
                        <td>»Raum mit Feuer« zeichnen</td>
                    </tr>
                    <tr>
                        <td>4500</td>
                        <td>»Raum mit Ralbog« zeichnen</td>
                    </tr>
                    <tr>
                        <td><b>5000</b></td>
                        <td><b>Darstellung der Gegenstände</b><br>
                            5000 Spinne<br>
                            5100 Orks<br>
                            5200 Schwert<br>
                            5250 Eimer<br>
                            5300 Laterne<br>
                            5350 Platte<br>
                            5400 Schlüssel<br>
                            5500 Fackel<br>
                            5600 Panzerhemd<br>
                            5700 Uhr<br>
                            5800 Seil<br>
                            5900 Schriftrolle<br>
                            5950 Buch</td>
                    </tr>
                    <tr>
                        <td>6000</td>
                        <td>Kommandoauswertung für Anfangsbild (GET-Befehl)</td>
                    </tr>
                    <tr>
                        <td>8000</td>
                        <td>Tod, Frage nach neuem Spiel und Variablenbesetzung</td>
                    </tr>
                    <tr>
                        <td>9000</td>
                        <td>Start, Erklärungen für Spieler</td>
                    </tr>
                    <tr>
                        <td>10000</td>
                        <td>Errechnung der im Raum befindlichen Gegenstände</td>
                    </tr>
                    <tr>
                        <td>10100</td>
                        <td>Errechnung der Raumausgänge</td>
                    </tr>
                    <tr>
                        <td>10200</td>
                        <td>Verteiler in die Unterprogramme ab Zeile 1500</td>
                    </tr>
                    <tr>
                        <td>10300</td>
                        <td>Errechnung der im Raum befindlichen Besonderheiten</td>
                    </tr>
                    <tr>
                        <td>10400</td>
                        <td>Nehmen von Gegenständen</td>
                    </tr>
                    <tr>
                        <td>10600</td>
                        <td>Verlieren von Gegenständen</td>
                    </tr>
                    <tr>
                        <td>11000</td>
                        <td>Feststellung, ob Tod des Spielers eingetreten ist</td>
                    </tr>
                    <tr>
                        <td><b>15000</b></td>
                        <td><b>Erfragen und Auswertung derKommandos</b><br>
                            15040 O<br>
                            15100 W<br>
                            15200 N<br>
                            15300 S<br>
                            15400 Nimm<br>
                            15500 Verliere<br>
                            15600 Oeffne<br>
                            15700 List<br>
                            15800 R<br>
                            15900 Sage<br>
                            16000 Bringe um<br>
                            16200 Hebe<br>
                            16300 Entleere<br>
                            16400 Hilf<br>
                            16500 Speichere<br>
                            16600 Lade<br>
                            16700 Wirf<br>
                            16800 H<br>
                            16900 Lies</td>
                    </tr>
                    <tr>
                        <td>20100</td>
                        <td>Geworfenes Seil nehmen (Variablenumbesetzungen)</td>
                    </tr>
                    <tr>
                        <td>20200</td>
                        <td>Flucht der Spinne (Ermittlung des neuen Ortes)</td>
                    </tr>
                    <tr>
                        <td>22300</td>
                        <td>Darstellung Ralbog</td>
                    </tr>
                    <tr>
                        <td>23000</td>
                        <td>Inhalt der Schriftrolle</td>
                    </tr>
                    <tr>
                        <td>23200</td>
                        <td>Inhalt des Buches</td>
                    </tr>
                    <tr>
                        <td>24000</td>
                        <td>Sieg des Spielers</td>
                    </tr>
                </tbody>
            </table>
            <figcaption>Programmbeschreibung</figcaption>
        </figure>

        <figure>
            <table>
                <tbody>
                    <tr>
                        <td colspan="2"><b>Numerische Variablen</b></td>
                    </tr>
                    <tr>
                        <td>A(23,63)</td>
                        <td>Werte der Sprites</td>
                    </tr>
                    <tr>
                        <td>8(6)</td>
                        <td>Merker für Ausgänge aus Räumen</td>
                    </tr>
                    <tr>
                        <td>C(6,12)</td>
                        <td>Gegenstände in den einzelnen Räumen</td>
                    </tr>
                    <tr>
                        <td>D(6,12)</td>
                        <td>Ausgänge aus den einzelnen Räumen</td>
                    </tr>
                    <tr>
                        <td>E(6,12)</td>
                        <td>Besonderheiten in den einzelnen Räumen</td>
                    </tr>
                    <tr>
                        <td>HV</td>
                        <td>Hilfsvariable</td>
                    </tr>
                    <tr>
                        <td>HW</td>
                        <td>Hilfsvariable</td>
                    </tr>
                    <tr>
                        <td>L1</td>
                        <td>Laufvariable</td>
                    </tr>
                    <tr>
                        <td>LW</td>
                        <td>Laufvariable</td>
                    </tr>
                    <tr>
                        <td>LV</td>
                        <td>Laufvariable</td>
                    </tr>
                    <tr>
                        <td>M</td>
                        <td>X-Position Spinne (Zufallszahl)</td>
                    </tr>
                    <tr>
                        <td>M1</td>
                        <td>Merker für gehobene Laterne</td>
                    </tr>
                    <tr>
                        <td>M2</td>
                        <td>MerkerfürErschöpfung</td>
                    </tr>
                    <tr>
                        <td>M3</td>
                        <td>Merker für mehrmaliges Betreten des 1. Raumes</td>
                    </tr>
                    <tr>
                        <td>M4</td>
                        <td>Merker für Wasser im Eimer</td>
                    </tr>
                    <tr>
                        <td>M5</td>
                        <td>Merker für Raum mit Feuerabgrund</td>
                    </tr>
                    <tr>
                        <td>M6</td>
                        <td>Merker für geworfenes Seil</td>
                    </tr>
                    <tr>
                        <td>M7</td>
                        <td>Zahl der absolvierten Spiele</td>
                    </tr>
                    <tr>
                        <td>N</td>
                        <td>Y-Position Spinne (Zufallszahl)</td>
                    </tr>
                    <tr>
                        <td>TU</td>
                        <td>Merker für offenes/geschlossenes Anfangs/Endtor</td>
                    </tr>
                    <tr>
                        <td>X</td>
                        <td>Position Spieler</td>
                    </tr>
                    <tr>
                        <td>Y</td>
                        <td>Position Spieler</td>
                    </tr>
                    <tr>
                        <td colspan="2"><b>String-Variablen</b></td>
                    </tr>
                    <tr>
                        <td>A$</td>
                        <td>Zeichen</td>
                    </tr>
                    <tr>
                        <td>A$(10)</td>
                        <td>Gegenstände</b>
                        </td>
                    </tr>
                    <tr>
                        <td>B$</td>
                        <td>Befehl</b>
                        </td>
                    </tr>
                    <tr>
                        <td>C$</td>
                        <td>Filename</td>
                    </tr>
                    <tr>
                        <td>FG$</td>
                        <td>Besonderheiten in einem Raum</td>
                    </tr>
                    <tr>
                        <td>GD$</td>
                        <td>Eingegebener Gegenstand (zum Beispiel hinter NIMM)</td>
                    </tr>
                    <tr>
                        <td>GE$</td>
                        <td>Gegenstände in einem Raum</td>
                    </tr>
                    <tr>
                        <td>GS$(1O)</td>
                        <td>Gegenstände, die man bei sich trägt</td>
                    </tr>
                    <tr>
                        <td>Rl$</td>
                        <td>Richtungen</td>
                    </tr>
                </tbody>
            </table>
            <figcaption>Variablenliste</figcaption>
        </figure>

        <figure>
            <p>Bedeutung gesetzter Bits bei den Variablen C(X,Y), D(X,Y) und E(X,Y)</p>
            <table>
                <tbody>
                    <tr>
                        <td><b>C(X,Y)</b></td>
                    </tr>
                    <tr>
                        <td><b>2↑</b></td>
                    </tr>
                    <tr>
                        <td>0 Schriftrolle</td>
                    </tr>
                    <tr>
                        <td>1 Schwert</td>
                    </tr>
                    <tr>
                        <td>2 Fackel</td>
                    </tr>
                    <tr>
                        <td>3 Panzerhemd</td>
                    </tr>
                    <tr>
                        <td>4 Schlüssel</td>
                    </tr>
                    <tr>
                        <td>5 Laterne</td>
                    </tr>
                    <tr>
                        <td>6 Buch</td>
                    </tr>
                    <tr>
                        <td>7 Platte</td>
                    </tr>
                    <tr>
                        <td>8 Eimer</td>
                    </tr>
                    <tr>
                        <td>9 Uhr</td>
                    </tr>
                    <tr>
                        <td>10 Seil</td>
                    </tr>
                </tbody>
            </table>
            <table>
                <tbody>
                    <tr>
                        <td><b>D(X,Y)</b></td>
                    </tr>
                    <tr>
                        <td><b>2↑</b></td>
                    </tr>
                    <tr>
                        <td>0 /</td>
                    </tr>
                    <tr>
                        <td>1 Ausgang links (Norden)</td>
                    </tr>
                    <tr>
                        <td>2 Ausgang rechts (Süden)</td>
                    </tr>
                    <tr>
                        <td>3 Ausgang hinten (Westen)</td>
                    </tr>
                    <tr>
                        <td>4 Ausgang vorn (Osten)</td>
                    </tr>
                    <tr>
                        <td>5 Nach unten</td>
                    </tr>
                    <tr>
                        <td>6 Nach oben</td>
                    </tr>
                </tbody>
            </table>
            <table>
                <tbody>
                    <tr>
                        <td><b>E(X,Y)</b></td>
                    </tr>
                    <tr>
                        <td>2↑</td>
                    </tr>
                    <tr>
                        <td>0 Orks</td>
                    </tr>
                    <tr>
                        <td>1 Orks mit Pfeil und Bogen</td>
                    </tr>
                    <tr>
                        <td>2 Zuviele Orks</td>
                    </tr>
                    <tr>
                        <td>3 Unbewegliche Platte</td>
                    </tr>
                    <tr>
                        <td>4 Ralbog</td>
                    </tr>
                    <tr>
                        <td>5 Spinne</td>
                    </tr>
                </tbody>
            </table>
            <p>Die Werte X und Y stellen die jeweilige Position des Spielers dar.</p>
            <figcaption>Bedeutung der Bits</figcaption>
        </figure>

        <figure>
            <pre data-filename="mario" data-name="Mario" data-checksummer="2"></pre>
            <figcaption>Listing »Mario«</figcaption>
        </figure>
    </article>
</body>

</html>
