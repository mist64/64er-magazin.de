<!DOCTYPE html>
<html lang="de">

<head>
    <title>Quicktext</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="Joachim Schaller">
    <meta name="64er.issue" content="6/84">
    <meta name="64er.pages" content="60-63">
	<meta name="64er.head1" content="Quicktext">
	<meta name="64er.head2" content="C 64">
    <meta name="64er.toc_category" content="Programme zum Abtippen|Anwendungen">
	<meta name="64er.toc_title" content="Quicktext ein Textprogramm für C 64">
    <meta name="64er.index_title" content="Quicktext – Textverarbeitung zum Abtippen">
    <meta name="64er.index_category" content="Listings zum Abtippen|Anwendung|Textverarbeitung">
    <meta name="64er.id" content="quicktext">
</head>

<body>
    <article>
        <h1>Quicktext</h1>

        <p class="intro">Daß eine gute Textverarbeitung nicht unbedingt mehrere hundert Mark kosten muß, zeigt das selbstgeschriebene Programm Quicktext. Auf dem Commodore 64 mit der entsprechenden Hardware bietet es den Komfort, den man manchmal bei den »Professionellen« vermißt.</p>

        <p>Ouicktext ist ein vielfältig einsetzbares Textverarbeitungsprogramm für den Commodore 64 in Verbindung mit der Floppy 1541 und einem Matrixdrucker (zum Beispiel Epson MX-80/82, FX 80 mit Data Becker Interface). Das Programm benötigt zirka 12 KByte Speicherplatz; es bleiben also etwas mehr als 25 KByte zur Texteingabe übrig. Der einzige Nachteil ist eine relativ langsame Textausgabe auf dem Drucker, die sich aber durch Compilieren des Programms beschleunigen läßt.</p>

        <ul>
            <li>Zeilenlänge frei definieren</li>
            <li>Vorgegebenes Textformat übernehmen</li>
            <li>Neue Texteingabe</li>
            <li>Zeilen ändern, einfügen, löschen und kopieren</li>
            <li>Buchstaben oder Wörter im Text suchen und gegen neue Wörter oder Buchstaben austauschen</li>
            <li>Beliebiges Ausdrucken von Texten (Zeilen oder Blöcke)</li>
            <li>Variabler Zeilenabstand (1, 1,5, 2)</li>
            <li>Textformatierung (rechter Randausgleich)</li>
            <li>Seitennumerierung</li>
            <li>Briefkopf und Adresse nach DIN 676</li>
            <li>Unterstreichen, Fettdruck und Breitschrift in allen möglichen Kombinationen</li>
            <li>Wahlweiser Ausdruck auf Endlospapier oder Einzelblatt</li>
            <li>Druck der Sonderzeichen ä, ö, ü, Ä, Ü, Ö, ß</li>
            <li>Druck von hoch- und tiefgestellten Textteilen</li>
            <li>Umfangreiche Diskettenbefehle (siehe Bild 1).</li>
        </ul>

        <figure>
            <img src="60-1.png" alt="">
            <figcaption>Bild 1. Diskettenmenü von Quicktext</figcaption>
        </figure>

        <p>Nach dem Laden und Starten meldet sich Quicktext mit dem Hauptmenü (Bild 2). Von dort aus werden die einzelnen Unterprogramme sowie das Diskettenmenü angewählt. Kehrt das Programm nicht von selbst ins Hauptmenü zurück, so ist dies jederzeit durch Betätigen der »Pfeil-Links-Taste« möglich (auch während der Texteingabe). Erläuterungen zu den einzelnen Unterprogrammen:</p>

        <figure>
            <img src="60-2.png" alt="">
            <figcaption>Bild 2. Hauptmenü von Quicktext</figcaption>
        </figure>

        <p>1. Text eingeben</p>


        <p>Zunächst fragt das Programm, ob man neuen Text eingeben oder an einem bereits im Speicher befindlichen Text weiterschreiben will. Danach wird die Zeilenlänge bestimmt. Nach Eingabe der Zeilenlänge schaltet der Computer auf den Textmodus um, was am Farbwechsel des Bildschirms und dem neuen Cursor zu erkennen ist. Jetzt kann mit der Texteingabe begonnen werden. Der Wagenrücklauf wird mit der »Return«-Taste betätigt oder von selbst ausgelöst, wenn die maximale Zeilenlänge erreicht ist.</p>

        <p>Die Cursorsteuertasten funktionieren im Texteingabemodus nicht. Der Textcursor kann mit Hilfe der INST/DEL-Taste rückwärts bewegt werden. Größere Fehler können aber immer noch mit Hilfe des Editierprogrammes korrigiert werden.</p>

        <p>Zur Eingabe von Sonderzeichen und Sonderfunktionen wird die Commodore-Taste in Verbindung mit der jeweiligen Buchstabentaste gedrückt (Bild 3).</p>

        <figure>
            <img src="60-3.png" alt="">
            <figcaption>Bild 3. Sonderzeichen und Sonderfunktionen</figcaption>
        </figure>

        <p>Nach Beendigung der Texteingabe erfolgt die Rückkehr in das Hauptmenü durch Drücken der »Pfeil-Links-Taste«.</p>

        <p>2. Text ändern</p>


        <p>Zunächst fragt das Programm nach dem Textbereich, der gezeigt werden soll. Dieser wird jeweils zusammen mit zwei Befehlszeilen am unteren Bildschirmrand angezeigt. Die einzelnen Editierfunktionen sind in Bild 4 erläutert.</p>

        <figure>
            <p>Umlaute bei Briefkopf:<br>
                SHIFT + linke eckige Klammer ergibt Ä<br>
                SHIFT + rechte eckige Klammer ergibt Ü<br>
                £ ergibt ö</p>

            <figcaption>Bild 4. Darstellung der Umlaute auf dem Briefkopf</figcaption>
        </figure>

        <p>3. Text formatieren</p>

        <p>Der Text wird auf Basis der eingegebenen Zeilenlänge formatiert (rechter Randausgleich).</p>

        <p>4. Text ausdrucken</p>

        <p>Das Programm fragt den Benutzer nun nach seinen Wünschen hinsichtlich Briefkopf, Zeilenabstand, Seitennumerierung, Länge des Ausdrucks, Linker Randabstand, Endlospapier oder Einzelblatteinzug.</p>

        <p>In einem weiteren Durchgang werden nochmals alle gewünschten Funktionen angezeigt. Änderungen der Parameter sind vor der Ausgabe möglich. Dies ist wichtig, falls zum Beispiel vergessen wurde, den Briefkopf einzugeben. Nach Beendigung der Druckausgabe fragt das Programm, ob noch ein weiterer Druck gewünscht wird. Wenn ja, so geht es zurück zu den Einzelfragen. Wenn nein, so kehrt man ins Hauptmenü zurück.</p>

        <p>5. Diskettenverwaltung</p>

        <p>Vom Diskettenmenü (Bild 1) aus werden die einzelnen Unterprogramme angewählt, die in Bild 5 erläutert werden.</p>

        <figure>
            <table>
                <tr>
                    <th>Zeilennummer</th>
                    <th></th>
                </tr>
                <tr>
                    <td>10-  20</td>
                    <td>Bildschirmfarben, Dimensionierung, Initialisierung</td>
                </tr>
                <tr>
                    <td>30-100</td>
                    <td>Sonderzeichendefinition; Sprung zum Hauptmenü</td>
                </tr>
                <tr>
                    <td>200-405</td>
                    <td>Steuerung und Abfragen des Eingabecursors</td>
                </tr>
                <tr>
                    <td>2000-2620</td>
                    <td>Texteingabe</td>
                </tr>
                <tr>
                    <td>3000-3170</td>
                    <td>Edit-Bildschirm und Anwahl der Edit-Funktionen</td>
                </tr>
                <tr>
                    <td>3200-3220</td>
                    <td>Änderung einer Textzeile</td>
                </tr>
                <tr>
                    <td>3300-3310</td>
                    <td>Löschen einer Textzeile</td>
                </tr>
                <tr>
                    <td>3400-3510</td>
                    <td>Einfügen einer Textzeile</td>
                </tr>
                <tr>
                    <td>3600-3690</td>
                    <td>Wort- oder Buchstabenaustausch</td>
                </tr>
                <tr>
                    <td>3800-3875</td>
                    <td>Blockaustausch</td>
                </tr>
                <tr>
                    <td>4000-4620</td>
                    <td>Textformatierung (rechter Randausgleich)</td>
                </tr>
                <tr>
                    <td>5000-5220</td>
                    <td>Eingabe der Druckparameter</td>
                </tr>
                <tr>
                    <td>5230-5395</td>
                    <td>Nochmaliges Anzeigen der Druckparameter</td>
                </tr>
                <tr>
                    <td>5400-5560</td>
                    <td>Druck des Briefkopfes</td>
                </tr>
                <tr>
                    <td>5600-5880</td>
                    <td>Druckausgabe</td>
                </tr>
                <tr>
                    <td>6000-6070</td>
                    <td>Diskettenmenü</td>
                </tr>
                <tr>
                    <td>6200-6250</td>
                    <td>Speichern eines Textes</td>
                </tr>
                <tr>
                    <td>6400-6460</td>
                    <td>Einlesen eines Textes</td>
                </tr>
                <tr>
                    <td>6600-6620</td>
                    <td>Löschen eines Textes</td>
                </tr>
                <tr>
                    <td>6800-6820</td>
                    <td>Neuer Dateiname</td>
                </tr>
                <tr>
                    <td>7000-7100</td>
                    <td>Directory lesen</td>
                </tr>
                <tr>
                    <td>7200-7600</td>
                    <td>Texte verketten</td>
                </tr>
                <tr>
                    <td>8000-8100</td>
                    <td>Bildschirmfarben</td>
                </tr>
                <tr>
                    <td>8500-8560</td>
                    <td>Änderung der Variable t (Zeilen pro Seite)</td>
                </tr>
                <tr>
                    <td>9000-9092</td>
                    <td>Sonderzeichen und Sonderfunktionen für
                        Druckausgabe</td>
                </tr>
                <tr>
                    <td>9100-9110</td>
                    <td>Auslesen des Fehlerkanals der Diskette</td>
                </tr>
                <tr>
                    <td>9200-9250</td>
                    <td>Datei auf Diskette überschreiben</td>
                </tr>
                <tr>
                    <td>10000-10080</td>
                    <td>Hauptmenü</td>
                </tr>
                <tr>
                    <td>11000-11110</td>
                    <td>Eingabe des Briefkopfes</td>
                </tr>
            </table>
            <figcaption>Bild 5. Programmbeschreibung anhand der Zeilennummern</figcaption>
        </figure>

        <p>6. Briefkopf eingeben</p>

        <p>Es gibt zwei Möglichkeiten, einen Briefkopf einzugeben: mit oder ohne Adreß-feld für einen Fensterbriefumschlag nach DIN 676. Das Programm fragt nach der gewünschten Form der Eingabe des eigentlichen Briefkopfes. Soll die betreffende Zeile des Briefkopfes oder der Adresse im Adressenfenster leer bleiben, so ist einfach die »Return«-Taste einzugeben.</p>

        <p>7. End</p>

        <p>Ausstieg aus dem Programm. Diese Funktion ist mit Vorsicht zu genießen, denn ein eventuell vorhandener Text bleibt zwar im Speicher zunächst erhalten; wird Quicktext jedoch neu gestartet, werden alle Variablen (auch der Text in Z$) unwiederbringlich gelöscht.</p>

        <p>Für das einwandfreie Funktionieren des Programms sind natürlich noch einige Dinge zu berücksichtigen:</p>

        <ol>
            <li>Die maximale Zeilenlänge beträgt 80 Zeichen. Bei der Eingabe von Sonderfunktionen erscheinen auf dem Bildschirm Grafikzeichen, die zwar nicht abgedruckt, jedoch im Text mit abgespeichert werden. Bei der Eingabe von Sonderfunktionen erhöht das Programm die Zeilenlänge jeweils entsprechend, aber nur bis maximal 80 Zeichen/Zeile.</li>
            <li>Wenn der Zeilenabstand über mehrere Zeilen hinweg verändert werden soll, so ist das Sonderzeichen an den Beginn jeder Zeile zu stellen. Dies ist zum Beispiel bei längeren Zitaten erforderlich, die sich über mehrere Zeilen hinziehen. Das Unterprogramm in den Zeilen 8500 bis 8560 verändert dann die Variable t (Zeilen pro Seite).</li>
            <li>Das Programm akzeptiert nur die Eingabe von maximal 500 Zeilen. Sind 90 Prozent des Speichers vollgeschrieben, kehrt das Programm ebenfalls ins Hauptmenü zurück. Der Text kann anschließend noch geändert und abgespeichert werden.</li>
            <li>Die RUN/STOP-Taste ist durch einen POKE-Befehl in Zeile 10 ausgeschaltet, um zu vermeiden, daß das Programm durch versehentliches Betätigen dieser Taste aussteigt.</li>
            <li>Die Verwendung von Anführungszeichen ist nicht möglich. Sie werden durch das Hochkomma (’) gesetzt.</li>
        </ol>


        <h3>Editiermöglichkeiten</h3>

        <p>-A- Das Programm fragt nach der zu ändernden Zeile. Diese wird auf den Bildschirm gebracht und kann nun beliebig geändert werden. Das Fragezeichen und die Anführungsstriche dürfen nicht geändert werden, da sonst Fehler auftreten. Mit der »Return-Taste« kehrt man ins Hauptmenü zurück.</p>

        <p>-L- Die betreffende Zeile wird gelöscht.</p>

        <p>-E- Das Programm fragt, vor welcher Zeile eingefügt werden soll und schaltet dann in den Texteingabemodus um. Es können nur 60 Zeilen auf einmal eingefügt werden. Rückkehr mit der »Pfeil-Links-Taste«.</p>

        <p>-T- Hier kann ein Buchstabe oder ein Wort im ganzen Text ausgetauscht werden. Das Programm fragt bei jeder einzelnen Möglichkeit, ob ausgetauscht werden kann. Ist dies nicht möglich, so wird »Tausch nicht möglich« eingeblendet. Wird bei der Bereichseingabe ’0’ eingegeben, so wird der gesamte Text nach Änderungsmöglichkeiten durchsucht.</p>

        <p>-B- Beim Blocktausch können ganze Textblöcke mit beliebiger Länge versetzt werden. Auch eine Kopie ist möglich, wenn der alte Block einfach nicht gelöscht wird.</p>

        <p>’+‘ Mit dieser Taste wird der Text nach vorne geblättert &lsquo;-&rsquo; Mit dieser Taste wird der Text zurückgeblättert</p>

        <p>Mit der »Pfeil-Links-Taste« schließlich kehrt man ins Hauptmenü zurück.</p>

        <h3>Diskettenfunktionen</h3>

        <p>1. Text speichern</p>

        <p>Das Programm initialisiert die Diskette, liest den Fehlerkanal aus und fragt dann den Benutzer nach dem Dateinamen. Anschließend wird der Fehlerkanal wieder ausgelesen. Wenn alles in Ordnung ist, wird der Text gespeichert und das Programm kehrt ins Hauptmenü zurück. Ist ein Text mit gleichem Dateinamen vorhanden, wird gemeldet: »File exists«, und das Programm fragt, ob die alte Datei überschrieben werden soll. Wenn ja, wird die alte Datei überschrieben und durch die neue ersetzt. Wenn nein, muß man sich einen neuen Dateinamen überlegen.</p>

        <p>2. Text einlesen</p>

        <p>Das Programm fragt nach dem Dateinamen und liest den Text ein.</p>

        <p>3. Text löschen</p>

        <p>Der gewünschte Text wird gelöscht.</p>

        <p>4. Neuer Dateiname</p>

        <p>Mit Hilfe dieses Befehls kann ein Text einen neuen Filenamen erhalten. Das Programm fragt nach dem alten und dem neuen Dateinamen und führt die Operationen aus.</p>

        <p>5. Directory lesen</p>

        <p>Das Directory (Inhaltsverzeichnis) der Diskette wird gelesen, ohne daß das Programm gelöscht wird; wichtig zum Auffinden von Dateinamen.</p>

        <p>6. Texte verketten</p>

        <p>Mit Hilfe dieser Subroutine können bis zu vier Programme verknüpft werden.</p>

        <p>7. Hauptmenü</p>

        <p>Mit diesem Befehl kehrt man ins Hauptmenü zurück, wenn dies nicht schon vom Programm erledigt wurde.</p>

        <address class="author">(Joachim Schaller)</address>

        <figure>
            <table>
                <tr>
                    <td>u</td>
                    <td>Zeilenlänge</td>
                </tr>
                <tr>
                    <td>z</td>
                    <td>Gesamtzahl der Zeilen</td>
                </tr>
                <tr>
                    <td>z$(x)</td>
                    <td>Zeilennummer</td>
                </tr>
                <tr>
                    <td>t$</td>
                    <td>normale Get-Abfrage nach Zeichen</td>
                </tr>
                <tr>
                    <td>fr</td>
                    <td>freier Speicherraum</td>
                </tr>
                <tr>
                    <td>l</td>
                    <td>Anzahl der geschriebenen Zeichen</td>
                </tr>
                <tr>
                    <td>t</td>
                    <td>Zahl der Zeilen pro Seite</td>
                </tr>
                <tr>
                    <td>a</td>
                    <td>erste Zeile, die ausgedruckt werden soll</td>
                </tr>
                <tr>
                    <td>b</td>
                    <td>letzte Zeile, die ausgedruckt werden soll</td>
                </tr>
                <tr>
                    <td>P</td>
                    <td>Druckstartposition</td>
                </tr>
                <tr>
                    <td>za</td>
                    <td>Zeilenabstand</td>
                </tr>
                <tr>
                    <td>ma$</td>
                    <td>Variable für Sonderzeichen</td>
                </tr>
                <tr>
                    <td>ul</td>
                    <td>Seitenzähler</td>
                </tr>
                <tr>
                    <td>ma</td>
                    <td>Zeilenzähler</td>
                </tr>
                <tr>
                    <td>ip$</td>
                    <td>zu druckendes Zeichen</td>
                </tr>
                <tr>
                    <td>cb$</td>
                    <td>Dateiname</td>
                </tr>
            </table>
            <figcaption>Bild 6. Zusammenstellung der wichtigsten Variablen</figcaption>
        </figure>

		<figure>
            <pre data-filename="quicktext" data-name="Quicktext"></pre>
			<figcaption>Listing von »Quicktext«</figcaption>
		</figure>

    </article>

</body>

</html>
