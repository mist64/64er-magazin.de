<!DOCTYPE html>
<html lang="de">

<head>
    <title>Grafische Darstellung statt Zahlenfriedhof</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="author" content="Andreas Funk">
    <meta name="64er.issue" content="6/84">
    <meta name="64er.pages" content="82-86">
	<meta name="64er.head1" content="Grafische Darstellungen">
	<meta name="64er.head2" content="C 64">
    <meta name="64er.toc_category" content="Programme zum Abtippen|Grafik">
	<meta name="64er.toc_title" content="Grafische Darstellung statt Zahlenfriedhof (C 64)">
    <meta name="64er.index_title" content="Grafische Darstellung statt Zahlenfriedhof (SB)">
    <meta name="64er.index_category" content="Listings zum Abtippen|Grafik|Diagramme">
    <meta name="64er.id" content="chart">
</head>

<body>
    <article>
        <h1>Grafische Darstellung statt Zahlenfriedhof</h1>

        <p class="intro">Übersichtliche Grafik statt endloser Zahlenkolonnen dieses Programm für den Commodore 64 mit Simons Basic kann Tabellen wahlweise als Balken-, Kurven- oder konventionelle Strichdiagramme darstellen. Die laufende Umschattung zwischen den verschiedenen Darstellungsformen ist möglich. Auf Tastendruck kann man sich jederzeit eine Hardcopy des Bildschirminhalts auf einem Epson RX-80-Drucker erstellen lassen.</p>

        <figure>
            <img src="82-1.png" alt="">
            <figcaption>Bild 1. So übersichtlich erscheint die Darstellung eines Balkendiagramms auf dem Bildschirm</figcaption>
        </figure>

        <p>Nach dem Start meldet sich das Programm mit dem Titel »Chart 1 — Programm zur grafischen Zahlendarstellung«. Dieser Titel erscheint etwa drei Sekunden. Durch Drücken der Return- Taste wird vorzeitig zum Hauptmenü gesprungen. Bei der Hauptmenüabfrage akzeptiert das Programm nur Zahlen von 1 bis 4 und den Buchstaben E.</p>

        <h2>Vom Hauptmenü aus sind alle Funktionen abrufbar</h2>

        <p>Zunächst zur Funktion 4. Durch diese Funktion wird die letzte im Speicher befindliche Grafik dargestellt. Falls sich auch noch die Werte im Hauptspeicher befinden, kann von dieser Grafik ausgehend das Programm durch Antippen des entsprechenden Buchstabens fortgesetzt werden. Falls die Absolutsumme (MC) Null ist, geht das Programm davon aus, daß keine Werte mehr vorhanden sind und springt in das Hauptmenü zurück.</p>

        <h2>Die Werteeingabe ist unkompliziert</h2>

        <p>Bei der Auswahl von Zahlen zwischen 1 und 3 wird zur Werteeingabe übergegangen. Als erstes wird der Titel abgefragt, wobei ein Leerstring nicht akzeptiert wird, da der Titel gegebenenfalls gleichzeitig als Filename verwendet wird. Bei der darauffolgenden Abfrage nach der Mittelwert- und Summenberechnung werden nur Eingaben akzeptiert, deren jeweils am meisten links stehendes Zeichen ein j oder n ist.</p>

        <p>Anschließend wird die Anzahl der Werte abgefragt, die zwischen 2 und 20 liegen muß. Bei der jetzt folgenden Werteeeingabe sind alle Zahlen zulässig, die im Wertebereich des Commodore 64 liegen. Nach der Darstellung der Werte in zwei Reihen muß die Sicherheitsabfrage in der gegebenen Weise mit j oder n beantwortet werden. Das Programm bietet jetzt die Möglichkeit, die Wertetabelle auszudrucken und/oder abzuspeichern.</p>

        <p>Achtung: Bei der Abspeicherung wird ein eventuell unter diesem Namen existierendes File überschrieben. Die so abgespeicherte Tabelle kann später wieder mit dem SCRLD-Befehl des Simons Basic aufgerufen werden. Nach der Abspeicherung der Tabelle wird der Floppyfehlerkanal abgefragt und gegebenenfalls eine Fehlermeldung ausgegeben.</p>

        <p>Anschließend wird in den Grafikmodus umgeschaltet.</p>

        <p>Die Werte werden — ausgehend von der »12-Uhr-Stellung« — als »Kuchenstücke« dargestellt. Der Maximalwert (oder die Maximalwerte, falls sie nicht direkt nebeneinanderliegen) werden ausgefüllt. Die Werte werden konzentrisch um den Kuchen ausgegeben, wobei negative Werte rot dargestellt werden und Null-Werte, ebenso wie Werte, die kleiner als 1/75 der Betragssumme MC sind, nicht berücksichtigt werden.</p>

        <figure>
            <img src="82-2.png" alt="">
            <figcaption>Bild 2. Das Balkendiagramm ist zur vergleichenden Darstellung zweier Wertemengen besonders gut geeignet</figcaption>
        </figure>

        <h2>Balkendiagramme</h2>

        <p>Bis zu zehn Werte werden einreihig dargestellt. Bei negativen Werten werden die Balken sowohl über als auch unter der X-Achse angezeigt (negative Werte wieder rot), ansonsten nur oberhalb der X-Achse. Nullwerte werden ohne Bezeichnung als leeres zweidimensionales Rechteck gezeichnet.</p>

        <p>Bis zu 20 Werte werden zweireihig hintereinander dargestellt und zwar nur oberhalb der X-Achse. Das Vorzeichen der Werte (positiv oder negativ) wird nur durch die eingeschriebenen Werte kenntlich gemacht, wobei negative Werte wiederum rot erscheinen. Die Reihenfolge der Werte läuft von links vorne nach rechts hinten.</p>

        <figure>
            <img src="82-3.png" alt="">
            <figcaption>Bild 3. Mit dem Kuchendiagramm lassen sich Größenverhältnisse innerhalb einer Wertemenge sehr übersichtlich und augenfällig darstellen</figcaption>
        </figure>

        <h2>Strichdiagramm</h2>

        <p>Nach dem Zeichnen des Koordinatensystems — auch hier wird bei negativen Werte die X-Achse nach oben verschoben — wird der Diagramzug eingezogen. Die Werte werden unterhalb der X-Achse in der üblichen Weise zweireihig eingeschrieben.</p>

        <h2>Kommandozeile</h2>

        <p>Durch Betätigen der jeweiligen Taste können die Werte entweder als Kuchen, Balken oder Strichdiagramm dargestellt werden. Ferner kann mit der Taste M zum Hauptmenü zurückgesprungen werden. Außerdem bietet sich noch die Möglichkeit, den Grafikbildschirm ausdrucken zu lassen. Diese Hardcopy-Routine ist auf den Epson RX-80-Drucker abgestimmt und muß bei Verwendung eines anderen Druckers in geeigneter Weise abgeändert werden.</p>

        <figure>
            <img src="82-4.png" alt="">
            <figcaption>Bild 4. Werteschwankungen lassen sich mit dieser Diagrammform am besten aufzeigen</figcaption>
        </figure>

        <h2>Farbwahl</h2>

        <p>Zur Farbwahl muß gesagt werden, daß sie — es wird ja in Hires-Grafik gearbeitet — ein wenig eingeschränkt ist. Die Auswahl muß in folgender Form durchgeführt werden: Hires Vordergrund (VG), Hintergrund (HG) = > Low col VG neu, HG, HG = &lt; col = &lt; Low col VG neu, HG, HG und so weiter.</p>

        <p>Dabei wird die neue Vordergrundfarbe bestimmt. Man muß jedoch trotzdem noch aufpassen: Wenn Zeichen verschiedener Farben zu dicht aneinanderkommen oder sich überlagern, so führt das zu Farbvermischungen oder völlig anderen Farben.</p>

        <p>Eine Ausführung im weniger problematischen Multi-Modus erwies sich jedoch wegen der Zeichengröße als nicht durchführbar.</p>

        <p>Das Programm läuft ohne Änderungen auf dem Commodore 64 mit der Basic-Erweiterung »Simons Basic«, der Floppy 1541 und dem Epson RX-80. Falls die Datasette verwendet werden sollte, muß der SCRSV-Befehl folgendermaßen abgeändert werden SCRSV 2,8,2&hellip; → SCRSV 1,1,1.</p>

        <p>Ansonsten dürfte das Programm mit kleinen Änderungen auch mit jedem anderen grafikfähigen Drucker laufen.</p>

        <address class="author">(Andreas Funk)</address>

        <figure>
            <table>
                <tr>
                    <th>Zeile</th>
                    <th>Funktion</th>
                </tr>
                <tr>
                    <td>75</td>
                    <td>Farbwahl für Textdaxstellung</td>
                </tr>
                <tr>
                    <td>80</td>
                    <td>Dimensiomerung der Feldvariablen</td>
                </tr>
                <tr>
                    <td>100-460</td>
                    <td>Hauptmenü</td>
                </tr>
                <tr>
                    <td>1000-1980</td>
                    <td>Kuchen</td>
                </tr>
                <tr>
                    <td>1100-1118</td>
                    <td>»Urkreis«</td>
                </tr>
                <tr>
                    <td>1130-1160</td>
                    <td>Zeichnen des »Kuchengerüstes«</td>
                </tr>
                <tr>
                    <td>1161</td>
                    <td>Verzweigung nach 1900</td>
                </tr>
                <tr>
                    <td>1164-1181</td>
                    <td>Einschreiben der Werte</td>
                </tr>
                <tr>
                    <td>1184-1186</td>
                    <td>Bestimmung des Maximalwertes</td>
                </tr>
                <tr>
                    <td>1187-1199</td>
                    <td>Ausfüllen des größten Sektors</td>
                </tr>
                <tr>
                    <td>1200</td>
                    <td>Verzweigung nach 1925</td>
                </tr>
                <tr>
                    <td>1205-1500</td>
                    <td>Titel, Mittelwert, Summe und Menü</td>
                </tr>
                <tr>
                    <td>1700-1880</td>
                    <td>Menüabfrage</td>
                </tr>
                <tr>
                    <td>1925-1980</td>
                    <td>Ausfüllen der Maximumvorderfläche</td>
                </tr>
                <tr>
                    <td>2000-3980</td>
                    <td>Balkengrafik</td>
                </tr>
                <tr>
                    <td>2300-2800</td>
                    <td>Darstellung von höchstens 10 Werten</td>
                </tr>
                <tr>
                    <td>2310-2318</td>
                    <td>Titel, Mittelwert,Summe</td>
                </tr>
                <tr>
                    <td>2320-2410</td>
                    <td>Koordinatensystem, Prozentzahlen</td>
                </tr>
                <tr>
                    <td>2622-2670</td>
                    <td>Einschreiben der Werte</td>
                </tr>
                <tr>
                    <td>2690</td>
                    <td>Sprung nach 3800</td>
                </tr>
                <tr>
                    <td>2800-3540</td>
                    <td>Darstellung von bis zu 20 Werten</td>
                </tr>
                <tr>
                    <td>2820-2847</td>
                    <td>Titel, Mittelwert, Summe</td>
                </tr>
                <tr>
                    <td>2850-2965</td>
                    <td>Koordinatensystem mit Prozentangabe</td>
                </tr>
                <tr>
                    <td>3800-3980</td>
                    <td>Menüabfrage</td>
                </tr>
                <tr>
                    <td>4000-4980</td>
                    <td>Diagramm</td>
                </tr>
                <tr>
                    <td>4094-4180</td>
                    <td>Bestimmung des Maximalwertes</td>
                </tr>
                <tr>
                    <td>4270-4345</td>
                    <td>Titel, Mittelwert, Summe</td>
                </tr>
                <tr>
                    <td>4357</td>
                    <td>Umrechnung der Werte in Koordinaten</td>
                </tr>
                <tr>
                    <td>4360-4640</td>
                    <td>Koordinatensystem mit Prozentangaben</td>
                </tr>
                <tr>
                    <td>4650-4770</td>
                    <td>Diagrammdarstellung</td>
                </tr>
                <tr>
                    <td>4780-4850</td>
                    <td>Einschreibung der Werte (zweireihig)</td>
                </tr>
                <tr>
                    <td>4900-4980</td>
                    <td>Menüabfrage</td>
                </tr>
                <tr>
                    <td>5000-7999</td>
                    <td>Werteeingabe</td>
                </tr>
                <tr>
                    <td>5060-5100</td>
                    <td>Titel</td>
                </tr>
                <tr>
                    <td>5120-5160</td>
                    <td>Mittelwert-Summe-Abfrage</td>
                </tr>
                <tr>
                    <td>5180-5330</td>
                    <td>Anzahl der Werte (2-20)</td>
                </tr>
                <tr>
                    <td>5360-5420</td>
                    <td>Werteeingabe</td>
                </tr>
                <tr>
                    <td>5500-5620</td>
                    <td>Wertetabelle</td>
                </tr>
                <tr>
                    <td>5640-5660</td>
                    <td>Sicherheitsabfrage</td>
                </tr>
                <tr>
                    <td>5700</td>
                    <td>Verzweigung nach 8000</td>
                </tr>
                <tr>
                    <td>5720-5730</td>
                    <td>Ausgabe von Mittelwert und Summe</td>
                </tr>
                <tr>
                    <td>5910-6000</td>
                    <td>Speicherung der Tabelle</td>
                </tr>
                <tr>
                    <td>8000-8300</td>
                    <td>Mittelwert und Summe</td>
                </tr>
                <tr>
                    <td>8130</td>
                    <td>Berechnung der Summe der Werte</td>
                </tr>
                <tr>
                    <td>8180</td>
                    <td>Mittelwert</td>
                </tr>
                <tr>
                    <td>8190-8197</td>
                    <td>Formatierung von Mittelwert und Summe</td>
                </tr>
                <tr>
                    <td>9000-9050</td>
                    <td>Fehlerkanal der Floppy</td>
                </tr>
                <tr>
                    <td>9090-9180</td>
                    <td>Darstellung der letzten Grafik</td>
                </tr>
                <tr>
                    <td>9120</td>
                    <td>Darstellung</td>
                </tr>
                <tr>
                    <td>9141</td>
                    <td>Abfrage der Betragssumme</td>
                </tr>
                <tr>
                    <td>9142-9180</td>
                    <td>Menüabfrage</td>
                </tr>
            </table>
            <figcaption>Zeilenorientierter Ablaufplan zu »Chart 1«</figcaption>
        </figure>

        <figure>
            <table>
                <tr>
                    <td>X(22),A(22),B(22),C(22),F(22)</td>
                    <td>Feldvariable für Zahlenwerte</td>
                </tr>
                <tr>
                    <td>E$,E</td>
                    <td>Abfrage des Darstellungsmodus</td>
                </tr>
                <tr>
                    <td>T$</td>
                    <td>Titel der Tabelle, SCRSV-Name</td>
                </tr>
                <tr>
                    <td>M$</td>
                    <td>Abfrage nach Mittelwert-Summen-Berechnung</td>
                </tr>
                <tr>
                    <td>A$,A</td>
                    <td>Anzahl der Werte</td>
                </tr>
                <tr>
                    <td>D</td>
                    <td>Schleifenvariable</td>
                </tr>
                <tr>
                    <td>W$</td>
                    <td>Sicherheitsabfrage, ob Werte in Ordnung sind</td>
                </tr>
                <tr>
                    <td>MB</td>
                    <td>Summe der Werte</td>
                </tr>
                <tr>
                    <td>MC</td>
                    <td>Summe der Absolutwerte</td>
                </tr>
                <tr>
                    <td>MW</td>
                    <td>Mittelwert</td>
                </tr>
                <tr>
                    <td>MAX,YX</td>
                    <td>Maxima der Feldvariablen</td>
                </tr>
                <tr>
                    <td>V$</td>
                    <td>Abfrage nach dem Ausdruck der Wertetabelle</td>
                </tr>
                <tr>
                    <td>S$</td>
                    <td>Abfrage nach der Speicherung der Wertetabelle
                        Wird unter T$ abgespeichert</td>
                </tr>
                <tr>
                    <td>AA,BB$,CC,DD</td>
                    <td>Floppy-Fehlerkanal</td>
                </tr>
                <tr>
                    <td>Z$</td>
                    <td>Abfrage nach der Weiterführung des Programms</td>
                </tr>
                <tr>
                    <td>GH</td>
                    <td>Faktor zur Umrechnung der Feldvariablen in darstellbare Größe</td>
                </tr>
                <tr>
                    <td></td>
                    <td>Länge des Textstrings beim Diagramm</td>
                </tr>
                <tr>
                    <td></td>
                    <td>Schleifenvariable
                        Darstellung der Prozentwerte beim Diagramm</td>
                </tr>
                <tr>
                    <td>H$</td>
                    <td>Textstring; unterste Zeile bei der Grafik</td>
                </tr>
                <tr>
                    <td>S</td>
                    <td>Winkelberechnung beim Kuchen</td>
                </tr>
                <tr>
                    <td>W1,W2,W3,W4</td>
                    <td>Winkel bei Kuchen (Bogenmaß)</td>
                </tr>
                <tr>
                    <td>D1,D2,D3</td>
                    <td>Winkel beim Kuchen (Bogenmaß)</td>
                </tr>
                <tr>
                    <td>J,K</td>
                    <td>Koordinaten zur Berechnung der Zahlen beim Kuchen</td>
                </tr>
                <tr>
                    <td>D$</td>
                    <td>LEFT$ vom Textstring (Kuchen)</td>
                </tr>
                <tr>
                    <td>C</td>
                    <td>Konstante für die Negativdarstellung</td>
                </tr>
                <tr>
                    <td>H1,H2,H3</td>
                    <td>Laufvariablen beim Balken</td>
                </tr>
                <tr>
                    <td>F</td>
                    <td>Laufvariablen beim Balken</td>
                </tr>
                <tr>
                    <td>V</td>
                    <td>Koordinaten (pos.-neg.) beim Balken</td>
                </tr>
                <tr>
                    <td>P,Q</td>
                    <td>Koordinaten beim Balken</td>
                </tr>
            </table>
            <figcaption>Variablenliste von »Chart 1«</figcaption>
        </figure>

		<figure>
            <pre data-filename="chart-grafik(sb)" data-name="Chart 1"></pre>
			<figcaption>Listing für die grafische Darstellung von Zahlen</figcaption>
		</figure>
    </article>

</body>

</html>
